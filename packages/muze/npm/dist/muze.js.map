{"version":3,"sources":["webpack://muze/webpack/universalModuleDefinition","webpack://muze/webpack/bootstrap","webpack://muze/webpack://DataModel/webpack/universalModuleDefinition","webpack://muze/webpack://DataModel/webpack/bootstrap","webpack://muze/webpack://DataModel/node_modules/ansi-html/index.js","webpack://muze/webpack://DataModel/node_modules/ansi-regex/index.js","webpack://muze/webpack://DataModel/node_modules/d3-dsv/src/autoType.js","webpack://muze/webpack://DataModel/node_modules/d3-dsv/src/csv.js","webpack://muze/webpack://DataModel/node_modules/d3-dsv/src/dsv.js","webpack://muze/webpack://DataModel/node_modules/d3-dsv/src/index.js","webpack://muze/webpack://DataModel/node_modules/d3-dsv/src/tsv.js","webpack://muze/webpack://DataModel/node_modules/events/events.js","webpack://muze/webpack://DataModel/node_modules/html-entities/index.js","webpack://muze/webpack://DataModel/node_modules/html-entities/lib/html4-entities.js","webpack://muze/webpack://DataModel/node_modules/html-entities/lib/html5-entities.js","webpack://muze/webpack://DataModel/node_modules/html-entities/lib/xml-entities.js","webpack://muze/webpack://DataModel/node_modules/loglevel/lib/loglevel.js","webpack://muze/webpack://DataModel/node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack://muze/webpack://DataModel/node_modules/querystring-es3/decode.js","webpack://muze/webpack://DataModel/node_modules/querystring-es3/encode.js","webpack://muze/webpack://DataModel/node_modules/querystring-es3/index.js","webpack://muze/webpack://DataModel/node_modules/sockjs-client/dist/sockjs.js","webpack://muze/webpack://DataModel/node_modules/strip-ansi/index.js","webpack://muze/webpack://DataModel/node_modules/url/url.js","webpack://muze/webpack://DataModel/node_modules/url/util.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/clients/BaseClient.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/clients/SockJSClient.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/overlay.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/socket.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/utils/createSocketUrl.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/utils/getCurrentScriptSource.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/utils/log.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/utils/reloadApp.js","webpack://muze/webpack://DataModel/(webpack)-dev-server/client/utils/sendMessage.js","webpack://muze/webpack://DataModel/(webpack)/buildin/global.js","webpack://muze/webpack://DataModel/(webpack)/buildin/module.js","webpack://muze/webpack:/DataModel/(webpack)/hot sync nonrecursive ^/.//log$","webpack://muze/webpack://DataModel/(webpack)/hot/emitter.js","webpack://muze/webpack://DataModel/(webpack)/hot/log.js","webpack://muze/webpack://DataModel/src/constants/index.js","webpack://muze/webpack://DataModel/src/converter/dataConverterStore.js","webpack://muze/webpack://DataModel/src/converter/defaultConverters/autoConverter.js","webpack://muze/webpack://DataModel/src/converter/defaultConverters/dsvArrayConverter.js","webpack://muze/webpack://DataModel/src/converter/defaultConverters/dsvStringConverter.js","webpack://muze/webpack://DataModel/src/converter/defaultConverters/index.js","webpack://muze/webpack://DataModel/src/converter/defaultConverters/jsonConverter.js","webpack://muze/webpack://DataModel/src/converter/index.js","webpack://muze/webpack://DataModel/src/converter/model/dataConverter.js","webpack://muze/webpack://DataModel/src/converter/utils/auto-resolver.js","webpack://muze/webpack://DataModel/src/converter/utils/dsv-arr.js","webpack://muze/webpack://DataModel/src/converter/utils/dsv-str.js","webpack://muze/webpack://DataModel/src/converter/utils/flat-json.js","webpack://muze/webpack://DataModel/src/datamodel.js","webpack://muze/webpack://DataModel/src/default-config.js","webpack://muze/webpack://DataModel/src/enums/data-format.js","webpack://muze/webpack://DataModel/src/enums/dimension-subtype.js","webpack://muze/webpack://DataModel/src/enums/field-type.js","webpack://muze/webpack://DataModel/src/enums/filtering-mode.js","webpack://muze/webpack://DataModel/src/enums/group-by-functions.js","webpack://muze/webpack://DataModel/src/enums/index.js","webpack://muze/webpack://DataModel/src/enums/measure-subtype.js","webpack://muze/webpack://DataModel/src/export.js","webpack://muze/webpack://DataModel/src/field-creator.js","webpack://muze/webpack://DataModel/src/field-store.js","webpack://muze/webpack://DataModel/src/fields/binned/index.js","webpack://muze/webpack://DataModel/src/fields/categorical/index.js","webpack://muze/webpack://DataModel/src/fields/continuous/index.js","webpack://muze/webpack://DataModel/src/fields/dimension/index.js","webpack://muze/webpack://DataModel/src/fields/field-registry.js","webpack://muze/webpack://DataModel/src/fields/field/index.js","webpack://muze/webpack://DataModel/src/fields/index.js","webpack://muze/webpack://DataModel/src/fields/measure/index.js","webpack://muze/webpack://DataModel/src/fields/parsers/binned-parser/index.js","webpack://muze/webpack://DataModel/src/fields/parsers/categorical-parser/index.js","webpack://muze/webpack://DataModel/src/fields/parsers/continuous-parser/index.js","webpack://muze/webpack://DataModel/src/fields/parsers/field-parser/index.js","webpack://muze/webpack://DataModel/src/fields/parsers/temporal-parser/index.js","webpack://muze/webpack://DataModel/src/fields/partial-field/index.js","webpack://muze/webpack://DataModel/src/fields/temporal/index.js","webpack://muze/webpack://DataModel/src/helper.js","webpack://muze/webpack://DataModel/src/index.js","webpack://muze/webpack://DataModel/src/invalid-aware-types.js","webpack://muze/webpack://DataModel/src/operator/bucket-creator.js","webpack://muze/webpack://DataModel/src/operator/compose.js","webpack://muze/webpack://DataModel/src/operator/cross-product.js","webpack://muze/webpack://DataModel/src/operator/data-builder.js","webpack://muze/webpack://DataModel/src/operator/difference.js","webpack://muze/webpack://DataModel/src/operator/get-common-schema.js","webpack://muze/webpack://DataModel/src/operator/group-by-function.js","webpack://muze/webpack://DataModel/src/operator/group-by.js","webpack://muze/webpack://DataModel/src/operator/index.js","webpack://muze/webpack://DataModel/src/operator/merge-sort.js","webpack://muze/webpack://DataModel/src/operator/natural-join-filter-function.js","webpack://muze/webpack://DataModel/src/operator/natural-join.js","webpack://muze/webpack://DataModel/src/operator/outer-join.js","webpack://muze/webpack://DataModel/src/operator/pure-operators.js","webpack://muze/webpack://DataModel/src/operator/row-diffset-iterator.js","webpack://muze/webpack://DataModel/src/operator/sort.js","webpack://muze/webpack://DataModel/src/operator/union.js","webpack://muze/webpack://DataModel/src/relation.js","webpack://muze/webpack://DataModel/src/stats/index.js","webpack://muze/webpack://DataModel/src/utils/column-major.js","webpack://muze/webpack://DataModel/src/utils/date-time-formatter.js","webpack://muze/webpack://DataModel/src/utils/domain-generator.js","webpack://muze/webpack://DataModel/src/utils/extend2.js","webpack://muze/webpack://DataModel/src/utils/helper.js","webpack://muze/webpack://DataModel/src/utils/index.js","webpack://muze/webpack://DataModel/src/utils/reducer-store.js","webpack://muze/webpack://DataModel/src/value.js","webpack://muze/(webpack)/buildin/module.js","webpack://muze/./packages/layout/src/enums/constants.js","webpack://muze/./packages/layout/src/generic-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/border-helper.js","webpack://muze/./packages/layout/src/grid-layout/computations.js","webpack://muze/./packages/layout/src/grid-layout/defaults.js","webpack://muze/./packages/layout/src/grid-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/layout-helper.js","webpack://muze/./packages/layout/src/grid-layout/layout.js","webpack://muze/./packages/layout/src/grid-layout/span-maker.js","webpack://muze/./packages/layout/src/grid-layout/view-info-getter.js","webpack://muze/./packages/layout/src/index.js","webpack://muze/./packages/layout/src/tree-layout/constants/defaults.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/data-parser.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/data-point.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/helper.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/html-data.js","webpack://muze/./packages/layout/src/tree-layout/drawing-manager/helper.js","webpack://muze/./packages/layout/src/tree-layout/drawing-manager/index.js","webpack://muze/./packages/layout/src/tree-layout/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-component/dummy-component.js","webpack://muze/./packages/layout/src/tree-layout/layout-component/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-component/layoutComponent.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/definition-manager/definitionModel.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/definition-manager/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/helper/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/layout-model/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/tree/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-manager/helper.js","webpack://muze/./packages/layout/src/tree-layout/layout-manager/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-manager/layout-def.js","webpack://muze/./packages/layout/src/tree-layout/renderers/html-renderer.js","webpack://muze/./packages/layout/src/tree-layout/renderers/renderer.js","webpack://muze/./packages/layout/src/tree-layout/utils/index.js","webpack://muze/./packages/layout/src/utils/index.js","webpack://muze/./packages/layout/src/visual-matrix/column-matrix.js","webpack://muze/./packages/layout/src/visual-matrix/default-config.js","webpack://muze/./packages/layout/src/visual-matrix/props.js","webpack://muze/./packages/layout/src/visual-matrix/row-matrix.js","webpack://muze/./packages/layout/src/visual-matrix/visual-matrix.js","webpack://muze/./packages/muze-axis/src/axis-renderer.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/band-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/continous-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/default-config.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/helper.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/index.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/index.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/linear.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/log.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/pow.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/props.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/simple-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/skip-ticks.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/space-setter.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/time-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-maps.js","webpack://muze/./packages/muze-axis/src/color-axis/color-strategy.js","webpack://muze/./packages/muze-axis/src/color-axis/defaults.js","webpack://muze/./packages/muze-axis/src/color-axis/index.js","webpack://muze/./packages/muze-axis/src/color-axis/props.js","webpack://muze/./packages/muze-axis/src/data-type-scale-map.js","webpack://muze/./packages/muze-axis/src/enums/axis-orientation.js","webpack://muze/./packages/muze-axis/src/enums/constants.js","webpack://muze/./packages/muze-axis/src/enums/scale-type.js","webpack://muze/./packages/muze-axis/src/helper.js","webpack://muze/./packages/muze-axis/src/index.js","webpack://muze/./packages/muze-axis/src/polar-axis/angle-axis.js","webpack://muze/./packages/muze-axis/src/polar-axis/index.js","webpack://muze/./packages/muze-axis/src/polar-axis/props.js","webpack://muze/./packages/muze-axis/src/polar-axis/radius-axis.js","webpack://muze/./packages/muze-axis/src/scale-creator.js","webpack://muze/./packages/muze-axis/src/shape-axis/defaults.js","webpack://muze/./packages/muze-axis/src/shape-axis/helper.js","webpack://muze/./packages/muze-axis/src/shape-axis/index.js","webpack://muze/./packages/muze-axis/src/shape-axis/props.js","webpack://muze/./packages/muze-axis/src/shape-axis/shape-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/defaults.js","webpack://muze/./packages/muze-axis/src/size-axis/index.js","webpack://muze/./packages/muze-axis/src/size-axis/props.js","webpack://muze/./packages/muze-axis/src/size-axis/size-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/size-strategy.js","webpack://muze/./packages/muze-axis/src/styles.scss?b476","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/brush.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/filter.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/generic.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/highlight.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/index.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/persistent.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/select.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/volatile.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/click.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-action-config.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-event.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/hover.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/longtouch.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/selection-box-drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/touch-drag.js","webpack://muze/./packages/muze-firebolt/src/behaviour-effect-map.js","webpack://muze/./packages/muze-firebolt/src/enums/actions.js","webpack://muze/./packages/muze-firebolt/src/enums/behaviours.js","webpack://muze/./packages/muze-firebolt/src/enums/constants.js","webpack://muze/./packages/muze-firebolt/src/enums/selection.js","webpack://muze/./packages/muze-firebolt/src/enums/side-effects.js","webpack://muze/./packages/muze-firebolt/src/enums/tooltip-strategies.js","webpack://muze/./packages/muze-firebolt/src/firebolt.js","webpack://muze/./packages/muze-firebolt/src/helper/index.js","webpack://muze/./packages/muze-firebolt/src/index.js","webpack://muze/./packages/muze-firebolt/src/registry.js","webpack://muze/./packages/muze-firebolt/src/selection-set/index.js","webpack://muze/./packages/muze-firebolt/src/selection-set/selection-set.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/styles.scss?1187","webpack://muze/./packages/muze-firebolt/src/side-effects/brush-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/styles.scss?5624","webpack://muze/./packages/muze-firebolt/src/side-effects/filter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/generic-sideeffect.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/props.js","webpack://muze/./packages/muze-firebolt/src/side-effects/helper/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/persistent-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/strategy.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/helper.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/styles.scss?a1f5","webpack://muze/./packages/muze-firebolt/src/side-effects/spawnable.js","webpack://muze/./packages/muze-firebolt/src/side-effects/surrogate.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/strategies.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/styles.scss?fb1a","webpack://muze/./packages/muze-legend/src/enums/actions.js","webpack://muze/./packages/muze-legend/src/enums/behaviours.js","webpack://muze/./packages/muze-legend/src/enums/constants.js","webpack://muze/./packages/muze-legend/src/enums/side-effects.js","webpack://muze/./packages/muze-legend/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behaviour-effect-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/index.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/select.js","webpack://muze/./packages/muze-legend/src/firebolt/helper.js","webpack://muze/./packages/muze-legend/src/firebolt/legend-firebolt.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/click.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/drag.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/hover.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/index.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/selection-box-drag.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/strategies.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/styles.scss?8db9","webpack://muze/./packages/muze-legend/src/index.js","webpack://muze/./packages/muze-legend/src/legend/defaults.js","webpack://muze/./packages/muze-legend/src/legend/discrete-legend.js","webpack://muze/./packages/muze-legend/src/legend/gradient-helper.js","webpack://muze/./packages/muze-legend/src/legend/gradient-legend.js","webpack://muze/./packages/muze-legend/src/legend/index.js","webpack://muze/./packages/muze-legend/src/legend/legend-helper.js","webpack://muze/./packages/muze-legend/src/legend/position-config.js","webpack://muze/./packages/muze-legend/src/legend/props.js","webpack://muze/./packages/muze-legend/src/legend/renderer.js","webpack://muze/./packages/muze-legend/src/legend/simple-legend.js","webpack://muze/./packages/muze-legend/src/legend/step-legend.js","webpack://muze/./packages/muze-legend/src/styles.scss?0ff0","webpack://muze/./packages/muze-tooltip/src/constants.js","webpack://muze/./packages/muze-tooltip/src/content.js","webpack://muze/./packages/muze-tooltip/src/default-config.js","webpack://muze/./packages/muze-tooltip/src/helper.js","webpack://muze/./packages/muze-tooltip/src/index.js","webpack://muze/./packages/muze-tooltip/src/styles.scss?739e","webpack://muze/./packages/muze-tooltip/src/tooltip.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisect.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisector.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/deviation.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/extent.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/histogram.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/max.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/mean.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/median.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/min.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/pairs.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/permute.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/range.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/scan.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/shuffle.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/sum.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/freedmanDiaconis.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/scott.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/sturges.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ticks.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/transpose.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/variance.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/zip.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/axis.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/entries.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/keys.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/map.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/nest.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/set.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/values.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/define.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/drag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/event.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/nodrag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/noevent.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/back.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/bounce.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/cubic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/elastic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/exp.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/poly.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/quad.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/sin.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/exponent.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatDecimal.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatGroup.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatNumerals.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatPrefixAuto.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatRounded.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatSpecifier.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTrim.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTypes.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionFixed.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionPrefix.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionRound.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/date.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/discrete.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hcl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hsl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hue.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/object.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/piecewise.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/rgb.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/round.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/string.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/decompose.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/parse.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/value.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/zoom.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/path.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/ramp.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/band.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20b.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20c.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/continuous.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/log.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/nice.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/ordinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/pow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/sequential.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/threshold.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/tickFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/time.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/utcTime.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/create.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/creator.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/local.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/matcher.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/mouse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespace.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespaces.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/append.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/call.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/classed.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/clone.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/data.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/datum.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/each.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/empty.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/enter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/exit.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/html.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/insert.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/join.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/lower.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/node.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/nodes.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/order.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/property.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/raise.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/size.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sort.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sparse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selector.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectorAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/sourceEvent.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touches.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/window.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/arc.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/area.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/areaRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/bundle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRom.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linearClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/monotone.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/natural.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/radial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/step.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/line.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/lineRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/link/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/noop.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/diverging.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/expand.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/silhouette.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/wiggle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/appearance.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/insideOut.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/reverse.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pie.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pointRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/stack.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/diamond.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/square.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/star.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/triangle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/wye.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoParse.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/day.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/hour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/millisecond.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/minute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/month.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/second.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcDay.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcHour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMinute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMonth.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcWeek.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcYear.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/week.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/year.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timeout.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timer.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/active.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attrTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/delay.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/ease.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/end.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/interpolate.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/schedule.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selection.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/styleTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/tween.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Beach.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Cell.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Diagram.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Edge.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/RedBlackTree.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/voronoi.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/SmartlabelManager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/container-manager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/lib.js","webpack://muze/webpack://hyperdis/webpack/universalModuleDefinition","webpack://muze/webpack://hyperdis/webpack/bootstrap","webpack://muze/webpack://hyperdis/src/utils/set.js","webpack://muze/webpack://hyperdis/src/utils/index.js","webpack://muze/webpack://hyperdis/src/graph-node.js","webpack://muze/webpack://hyperdis/src/electric-node.js","webpack://muze/webpack://hyperdis/src/graph.js","webpack://muze/webpack://hyperdis/src/model.js","webpack://muze/webpack://hyperdis/src/index.js","webpack://muze/./packages/muze-utils/src/DataSystem/dataSelect.js","webpack://muze/./packages/muze-utils/src/DataSystem/index.js","webpack://muze/./packages/muze-utils/src/DataSystem/selection.js","webpack://muze/./packages/muze-utils/src/color-schemes.js","webpack://muze/./packages/muze-utils/src/common-utils.js","webpack://muze/./packages/muze-utils/src/enums/common-props.js","webpack://muze/./packages/muze-utils/src/enums/constants.js","webpack://muze/./packages/muze-utils/src/enums/index.js","webpack://muze/./packages/muze-utils/src/enums/namespace.js","webpack://muze/./packages/muze-utils/src/enums/reserved-fields.js","webpack://muze/./packages/muze-utils/src/enums/stack-config.js","webpack://muze/./packages/muze-utils/src/index.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/event-list.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/helper.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/index.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/lifecycle-manager.js","webpack://muze/./packages/muze-utils/src/renderer-utils.js","webpack://muze/./packages/muze-utils/src/scales.js","webpack://muze/./packages/muze-utils/src/store.js","webpack://muze/./packages/muze/src/action-model.js","webpack://muze/./packages/muze/src/canvas/app-state.js","webpack://muze/./packages/muze/src/canvas/canvas.js","webpack://muze/./packages/muze/src/canvas/component-resolver.js","webpack://muze/./packages/muze/src/canvas/component-wrapper-maker.js","webpack://muze/./packages/muze/src/canvas/components/grid-component.js","webpack://muze/./packages/muze/src/canvas/components/headerComponent.js","webpack://muze/./packages/muze/src/canvas/components/legendComponent.js","webpack://muze/./packages/muze/src/canvas/components/matrix-component.js","webpack://muze/./packages/muze/src/canvas/components/message-component.js","webpack://muze/./packages/muze/src/canvas/components/muze-chart-component.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/helper.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/horizontal-scroll-maker.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/props.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/scroll-bar.scss?ad86","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/scroll-maker.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/vertical-scroll-maker.js","webpack://muze/./packages/muze/src/canvas/components/scroll-component.js","webpack://muze/./packages/muze/src/canvas/defaults.js","webpack://muze/./packages/muze/src/canvas/firebolt/group-firebolt.js","webpack://muze/./packages/muze/src/canvas/firebolt/index.js","webpack://muze/./packages/muze/src/canvas/helper.js","webpack://muze/./packages/muze/src/canvas/index.js","webpack://muze/./packages/muze/src/canvas/layout-maker.js","webpack://muze/./packages/muze/src/canvas/legend-maker.js","webpack://muze/./packages/muze/src/canvas/local-options.js","webpack://muze/./packages/muze/src/canvas/scroll-manager.js","webpack://muze/./packages/muze/src/canvas/title-maker.js","webpack://muze/./packages/muze/src/constants.js","webpack://muze/./packages/muze/src/default-registry.js","webpack://muze/./packages/muze/src/defaults.js","webpack://muze/./packages/muze/src/enums/constants.js","webpack://muze/./packages/muze/src/index.js","webpack://muze/./packages/muze/src/muze.js","webpack://muze/./packages/muze/src/muze.scss?e1a1","webpack://muze/./packages/muze/src/operators.js","webpack://muze/./packages/muze/src/options.js","webpack://muze/./packages/muze/src/transaction-support.js","webpack://muze/./packages/transform/src/enums/transform-type.js","webpack://muze/./packages/transform/src/group-transform/index.js","webpack://muze/./packages/transform/src/identity-transform/index.js","webpack://muze/./packages/transform/src/index.js","webpack://muze/./packages/transform/src/stack-transform/index.js","webpack://muze/./packages/transform/src/transform-factory/index.js","webpack://muze/./packages/visual-cell/src/axis-cell.js","webpack://muze/./packages/visual-cell/src/blank-cell.js","webpack://muze/./packages/visual-cell/src/cell-registry.js","webpack://muze/./packages/visual-cell/src/constants.js","webpack://muze/./packages/visual-cell/src/defaults.js","webpack://muze/./packages/visual-cell/src/enums/cell-type.js","webpack://muze/./packages/visual-cell/src/enums/constants.js","webpack://muze/./packages/visual-cell/src/enums/defaults.js","webpack://muze/./packages/visual-cell/src/geom-cell.js","webpack://muze/./packages/visual-cell/src/index.js","webpack://muze/./packages/visual-cell/src/props.js","webpack://muze/./packages/visual-cell/src/simple-cell.js","webpack://muze/./packages/visual-cell/src/text-cell.js","webpack://muze/./packages/visual-cell/src/text-cell.scss?1818","webpack://muze/./packages/visual-group/src/data-type-scale-map.js","webpack://muze/./packages/visual-group/src/encoder/cartesian-encoder.js","webpack://muze/./packages/visual-group/src/encoder/encoder-helper.js","webpack://muze/./packages/visual-group/src/encoder/field-sanitizer.js","webpack://muze/./packages/visual-group/src/encoder/index.js","webpack://muze/./packages/visual-group/src/encoder/polar-encoder.js","webpack://muze/./packages/visual-group/src/encoder/props.js","webpack://muze/./packages/visual-group/src/encoder/retinal-encoder.js","webpack://muze/./packages/visual-group/src/encoder/visual-encoder.js","webpack://muze/./packages/visual-group/src/enums/constants.js","webpack://muze/./packages/visual-group/src/enums/defaults.js","webpack://muze/./packages/visual-group/src/enums/scale-maps.js","webpack://muze/./packages/visual-group/src/group-helper/cell-creator.js","webpack://muze/./packages/visual-group/src/group-helper/group-utils.js","webpack://muze/./packages/visual-group/src/group-helper/index.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-model.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-resolver.js","webpack://muze/./packages/visual-group/src/group-helper/resolver-props.js","webpack://muze/./packages/visual-group/src/index.js","webpack://muze/./packages/visual-group/src/simple-group/index.js","webpack://muze/./packages/visual-group/src/simple-group/simple-group.js","webpack://muze/./packages/visual-group/src/variable/composed-vars.js","webpack://muze/./packages/visual-group/src/variable/index.js","webpack://muze/./packages/visual-group/src/variable/simple-var.js","webpack://muze/./packages/visual-group/src/variable/variable.js","webpack://muze/./packages/visual-group/src/visual-group/change-listener.js","webpack://muze/./packages/visual-group/src/visual-group/helper.js","webpack://muze/./packages/visual-group/src/visual-group/index.js","webpack://muze/./packages/visual-group/src/visual-group/local-options.js","webpack://muze/./packages/visual-group/src/visual-group/props.js","webpack://muze/./packages/visual-group/src/visual-group/value-matrix.js","webpack://muze/./packages/visual-group/src/visual-group/visual-group.js","webpack://muze/./packages/visual-layer/src/base-layer/base-layer.js","webpack://muze/./packages/visual-layer/src/base-layer/base-mixin.js","webpack://muze/./packages/visual-layer/src/base-layer/index.js","webpack://muze/./packages/visual-layer/src/base-layer/listener-map.js","webpack://muze/./packages/visual-layer/src/base-layer/local-options.js","webpack://muze/./packages/visual-layer/src/base-layer/props.js","webpack://muze/./packages/visual-layer/src/defaults.js","webpack://muze/./packages/visual-layer/src/enums/constants.js","webpack://muze/./packages/visual-layer/src/enums/index.js","webpack://muze/./packages/visual-layer/src/enums/layer-types.js","webpack://muze/./packages/visual-layer/src/enums/props.js","webpack://muze/./packages/visual-layer/src/helpers/index.js","webpack://muze/./packages/visual-layer/src/index.js","webpack://muze/./packages/visual-layer/src/layer-factory/index.js","webpack://muze/./packages/visual-layer/src/layer-factory/layer-factory.js","webpack://muze/./packages/visual-layer/src/layer-registry.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc-helper.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc-mixin.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc.js","webpack://muze/./packages/visual-layer/src/layers/arc/default-config.js","webpack://muze/./packages/visual-layer/src/layers/arc/index.js","webpack://muze/./packages/visual-layer/src/layers/arc/styles.scss?365c","webpack://muze/./packages/visual-layer/src/layers/area/area-mixin.js","webpack://muze/./packages/visual-layer/src/layers/area/area.js","webpack://muze/./packages/visual-layer/src/layers/area/default-config.js","webpack://muze/./packages/visual-layer/src/layers/area/index.js","webpack://muze/./packages/visual-layer/src/layers/area/renderer.js","webpack://muze/./packages/visual-layer/src/layers/area/styles.scss?d057","webpack://muze/./packages/visual-layer/src/layers/bar/bar-helper.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar-mixin.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar.js","webpack://muze/./packages/visual-layer/src/layers/bar/default-config.js","webpack://muze/./packages/visual-layer/src/layers/bar/index.js","webpack://muze/./packages/visual-layer/src/layers/bar/renderer.js","webpack://muze/./packages/visual-layer/src/layers/bar/styles.scss?199c","webpack://muze/./packages/visual-layer/src/layers/line/default-config.js","webpack://muze/./packages/visual-layer/src/layers/line/index.js","webpack://muze/./packages/visual-layer/src/layers/line/line-mixin.js","webpack://muze/./packages/visual-layer/src/layers/line/line.js","webpack://muze/./packages/visual-layer/src/layers/line/renderer.js","webpack://muze/./packages/visual-layer/src/layers/line/styles.scss?88fa","webpack://muze/./packages/visual-layer/src/layers/point/default-config.js","webpack://muze/./packages/visual-layer/src/layers/point/helper.js","webpack://muze/./packages/visual-layer/src/layers/point/index.js","webpack://muze/./packages/visual-layer/src/layers/point/point-mixin.js","webpack://muze/./packages/visual-layer/src/layers/point/point.js","webpack://muze/./packages/visual-layer/src/layers/point/renderer.js","webpack://muze/./packages/visual-layer/src/layers/point/styles.scss?f31c","webpack://muze/./packages/visual-layer/src/layers/text/default-config.js","webpack://muze/./packages/visual-layer/src/layers/text/index.js","webpack://muze/./packages/visual-layer/src/layers/text/renderer.js","webpack://muze/./packages/visual-layer/src/layers/text/styles.scss?edfc","webpack://muze/./packages/visual-layer/src/layers/text/text-mixin.js","webpack://muze/./packages/visual-layer/src/layers/text/text.js","webpack://muze/./packages/visual-layer/src/layers/tick/default-config.js","webpack://muze/./packages/visual-layer/src/layers/tick/index.js","webpack://muze/./packages/visual-layer/src/layers/tick/renderer.js","webpack://muze/./packages/visual-layer/src/layers/tick/styles.scss?d4a8","webpack://muze/./packages/visual-layer/src/layers/tick/tick-mixin.js","webpack://muze/./packages/visual-layer/src/layers/tick/tick.js","webpack://muze/./packages/visual-layer/src/simple-layer/index.js","webpack://muze/./packages/visual-layer/src/simple-layer/simple-layer.js","webpack://muze/./packages/visual-unit/src/default-config.js","webpack://muze/./packages/visual-unit/src/enums/behaviours.js","webpack://muze/./packages/visual-unit/src/enums/constants.js","webpack://muze/./packages/visual-unit/src/enums/index.js","webpack://muze/./packages/visual-unit/src/enums/reactive-props.js","webpack://muze/./packages/visual-unit/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/visual-unit/src/firebolt/behaviours/brush.js","webpack://muze/./packages/visual-unit/src/firebolt/data-propagator.js","webpack://muze/./packages/visual-unit/src/firebolt/helper.js","webpack://muze/./packages/visual-unit/src/firebolt/index.js","webpack://muze/./packages/visual-unit/src/firebolt/payload-generator.js","webpack://muze/./packages/visual-unit/src/helper/grid-lines.js","webpack://muze/./packages/visual-unit/src/helper/index.js","webpack://muze/./packages/visual-unit/src/index.js","webpack://muze/./packages/visual-unit/src/listener-map.js","webpack://muze/./packages/visual-unit/src/local-options.js","webpack://muze/./packages/visual-unit/src/props.js","webpack://muze/./packages/visual-unit/src/styles.scss?7299","webpack://muze/./packages/visual-unit/src/visual-unit.js"],"names":["module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","VIEW_INDEX","top","center","bottom","ROW_MATRIX_INDEX","COLUMN_MATRIX_INDEX","GRID_WIDTH","GRID_HEIGHT","BORDER","ROW_POINTER","COLUMN_POINTER","ROW_SIZE_IS_EQUAL","COLUMN_SIZE_IS_EQUAL","COLUMN_WIDTHS","ROW_HEIGHTS","LEFT_MATRIX_WIDTH","RIGHT_MATRIX_WIDTH","TOP_MATRIX_HEIGHT","BOTTOM_MATRIX_HEIGHT","MOUNT_POINT","LEFT_TABLE_ID","RIGHT_TABLE_ID","TOP_TABLE_ID","BOTTOM_TABLE_ID","CENTER_TABLE_ID","TOP_DIV_ID","BOTTOM_DIV_ID","CENTER_DIV_ID","HAVE_ROWS_CHANGED","HAVE_COLUMNS_CHANGED","HAVE_VALUES_CHANGED","ROW_MATRIX_WIDTH","COLUMN_MATRIX_HEIGHT","UNIT_WIDTH","UNIT_HEIGHT","STYLE","COLOR","WIDTH","COLLAPSE","SPACING","DISTRIBUTION","GUTTERSPACE","BREAK_PAGE","SHOW_ROW_BORDERS","SHOW_COL_BORDERS","SHOW_VALUE_BORDERS","HEIGHT","COLUMN","ROW","TOP","LEFT","RIGHT","BOTTOM","CENTER","CLICK","ROW_LEFT","ROW_RIGHT","COLUMN_BOTTOM","COLUMN_TOP","AUTO","ROW_SPAN","COL_SPAN","ROW_ROOT","COLUMN_ROOT","PRIMARY","SECONDARY","VERTICAL","HORIZONTAL","GRID","BLANK_BORDERS","PAGINATION","BUFFER","HOLISTIC","SCROLL","MIDDLE","NO_BORDERS","MAX_WIDTH_AVAIL_FOR_COL_MATRIX","COLUMN_MATRIX","MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX","ROW_MATRIX","GenericLayout","mountPoint","measurement","config","dependencies","_config","_measurement","_matrices","_dependencies","matrices","mergeRecursive","border","width","Math","max","sanitizeIP","typeObj","matrix","_rowMatrix","_columnMatrix","_centerMatrix","_mountPoint","borderMap","applySpecificBorder","cells","color","type","style","specificBorderApplier","borderTypes","showBorders","borderInfo","borderStyle","forEach","borderType","borderApplier","showRowBorders","showColBorders","showValueBorders","row","column","applyBorders","borderApplierFn","borderMapVal","getMatrixMeasurement","getLogicalSpace","setMatrixMeasurement","value","spaces","setAvailableSpace","height","widths","heights","rIdx","placeholder","cIdx","setViewSpaces","layout","pointerType","viewSpaces","pointer","length","paginationDetailsMap","maxMeasure","measureType","scrollType","getMatrixMeasureForPagination","measureDetails","buffer","pagination","actualMeasure","scrollInfo","paginationMeasureGetter","matrixType","relatedMaxMeasure","getMatrixWidthDetails","rowMatrix","borderWidth","rowMatrixWidth","maxRowMatrixWidth","min","maxWidthAvailableForColumnMatrix","columnMatrixWidth","getHeightRequiredByColMatrix","columnMatrix","maxColumnMatrixHeight","columnViewPages","getViewableSpaces","columnViewSpace","columnPointer","columnMatrixHeight","primary","secondary","getMatrixHeightDetails","maxHeightAvailableForRowMatrix","rowMatrixHeight","setValueMatrixMeasurements","rowViewableSpaces","columnViewableSpaces","centerMatrix","rowHeights","concat","map","e","rowWidthsPrimary","columnWidths","rowWidthsSecondary","columnHeightsPrimary","columnHeightsSecondary","bufferCondition","isScroll","getBufferFromCondition","currentBufferType","keys","every","getActualBufferFromConfig","horizontalBuffer","verticalBuffer","computeLayoutMeasurements","DEFAULT_CONFIGURATION","FieldNames","rows","columns","DEFAULT_MEASUREMENTS","generateVisualMatrices","context","leftMatrix","rightMatrix","topMatrix","bottomMatrix","begColCells","endColCells","isRowSizeEqual","isColumnSizeEqual","gutterSpace","distribution","breakPage","priority","minUnitHeight","minUnitWidth","topLeft","topColumns","topRight","leftRows","valueMatrix","rightRows","bottomLeft","bottomColumns","bottomRight","d","RowMatrix","isDistributionEqual","gutter","unitMeasures","extraCellLengths","ColumnMatrix","isTransposed","col","GridLayout","constructor","defaultConfig","_layoutId","getUniqueId","_scrollInfo","horizontal","vertical","setViewInformation","pageNumber","pageType","toLowerCase","viewInfo","viewMatricesInfo","totalPages","renderGrid","currentPage","_viewInfo","maxRowHeight","maxColWidth","rowPointer","getViewMatrices","layoutDimensions","getViewMeasurements","assign","viewHeight","viewWidth","columnPages","rowPages","defaultMeasurement","orderMaker","arr","Array","from","nestByStack","stack","updateArr","optionalParams","order","keyFn","slice","currStack","prevStack","v","newArr","push","arrVal","stackVal","currElemIndex","j","newElem","arrElem","returnArr","spanCalculator","colData","colIdx","conditions","count","isNull","maskCreator","val","valueOf","viewMatrix","cell","colIndex","hierarchy","rowIndex","spanGenerator","spans","ridx","currSpan","filter","getOrder","matrixSpanGeneratorMap","orderGetter","viewMatrixMaker","spanMaker","matrixSpanGenerator","generator","cellSpanMaker","index","spaceAllocationDueToSpan","span","availHeight","availWidth","unitWidths","dimensions","selectElement","primaryUnitWidth","cumulativeWidth","spanApplier","cellCounter","attr","bind","spanApplierMap","params","applySpans","applier","rowMatrices","getViewableMatrices","columnMatrices","centralMatrixPointer","primaryMatrix","secondaryMatrix","rowMatrixLen","columnMatrixLen","measureSum","measureArr","reduce","total","measure","rowSpaces","colSpaces","leftWidth","rightWidth","topHeight","bottomHeight","centerHeight","centerWidth","actualCenterMeasures","totalMeasures","unitHeights","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_CLASS_NAME","DEFAULT_CONFIG","classPrefix","NODE_PREFIX","DataParser","data","_data","nodepoints","getnodePoints","DataPoint","node","_node","_className","model","host","LayoutComponent","className","datapoint","child","HTMLDataAdapter","getChildNode","renderer","createAndPositionDiv","findNode","nodeID","coordinates","find","point","id","renderHTML","HTMLRenderer","createhtml","mount","drawLayout","drawComponent","componentData","draw","removeElement","elemID","remove","setAlignConfig","alignment","newNodeConfig","refNode","left","abs","resolveAligment","component","alignWith","componentToAlign","componentMap","boundBox","renderAt","name","setSpatialConfig","x","y","DrawingManager","container","tree","_componentMap","_layoutClassName","layoutClassName","_renderer","_mount","Utils","isDOMElement","getElement","param","DummyComponent","conf","newDimensions","Error","componentName","document","getElementById","seed","_seed","_boundBox","_renderAt","_alignWith","_alignment","_target","_position","_componentName","DefinitionModel","_host","_cut","cut","_ratioWeight","ratioWeight","_preferred","preferred","_lanes","lanes","_remainingHeight","_remainingWidth","remainingHeight","remainingWidth","DefinitionManager","sequence","totalHeight","totalWidth","_prioritySequence","_totalHeight","_totalWidth","_targetComponentMap","prepareTargetComponentMap","canvasComponent","definitionModel","tempDefModel","componentRef","getComponent","placeComponent","second","placeGridComponent","isEqual","compareTo","TypeError","getNodeId","_uid","yExtraSpace","smallestHeight","getCutType","smallestExtraHeightHorizontally","containerHeight","hostHeight","Number","MAX_SAFE_INTEGER","h","xExtraSpace","smallestWidth","smallestExtraWidthVertically","containerWidth","hostWidth","w","determineBoundBox","bb","instance","lastSibling","_top","_left","_height","_width","parentCut","parent","targetComponentMap","Map","has","target","temp","set","comp","createPlaceHolderComponent","position","isPreferred","isGridComponent","componentRatioWidth","leftOvercomponentRationWidth","leftHeight","first","componentHeight","componentWidth","firstLaneConfig","firstLane","secondLaneConfig","secondLane","gridComponents","acc","iscolumnPreffered","columnPlaceHolderComponent","rowpreffred","negotiateDimension","cumultiveExtraSpaceAmt","alteredDim","nonAlteredDim","childrenLength","fn","extraSpaceAmt","computePosition","allocateBoundingBox","totalWeight","carry","ratio","LayoutModel","measurements","_measurements","_root","createTree","setBoundBox","Node","addChildren","lane","setHostSpatialConfig","setHostPosition","_model","_parent","_children","_parentCut","_id","entries","bound","nodeconfig","searchNode","childNode","nodeId","indexOf","splice","deleteSearchNode","sanitizeConfig","hostObj","hostID","childHost","undefined","calLayOutDef","dimension","defManager","layoutDef","prioritySequence","genLayoutdef","generateConfigModel","LayoutManager","_dimension","_skeletonType","skeletonType","_layoutDefinition","_layoutDef","LayoutDef","_drawingManager","_rootNodeID","addComponent","componentArray","addMultipleComponent","con","resetNode","updateNode","compute","_layout","layoutDefinition","sanitizedDefinition","negotiate","broadcast","layoutComponents","resetComponentMap","componentArr","compo","elementName","deleteElementId","co","deleteElement","def","clear","_coordinates","getCoordinates","mainDiv","parentDiv","createAndCustomiseParent","hasHost","appendChild","existingDiv","div","createElement","findContainer","Renderer","__logicalTree","element","Element","coordinate","divId","nest","Symbols","getMeasureInfo","firstMeasure","secondMeasure","findInPage","page","combineMatrices","joinedMatrix","rowData","matrixTree","lastLevelKey","facet","nestFn","layoutMatrix","_layoutMatrix","keyLength","key","counter","primaryMatrixLength","newMatrix","getMinMeasures","item","measures","minMeasures","firstMeasureValue","secondMeasureValue","values","valueArray","fMeasure","sMeasure","space","minSecondMeasure","ceil","computeLogicalSpace","maxMeasures","logicalSpace","valueItem","spaceTakenByRow","spaceTakenByColumn","createMatrixEachLevel","eachLevel","breakMatrix","breakPointer","columnIndex","getDistributedWidth","layoutConfig","availableWidth","distSum","t","n","distWidth","rowLen","floor","getDistributedHeight","gutterSum","heightWithoutGutter","availableHeight","colLen","distHeight","extraCellsRemover","beg","end","createMatrixInstances","depth","matrixInfo","_breakPointer","brokenMatrix","nextLevel","ColumnVisualMatrix","_tree","_logicalSpace","maxHeights","maxWidths","viewableMatrix","matrixInst","cellDimOptions","matrixIndex","getCellDimensions","heightMeasures","columnMeasures","begCellLen","endCellLen","NEGATIVE_INFINITY","heightDist","divider","condition","widthMeasures","availableSpace","mWidth","mHeight","options","redistributeViewSpaces","computeViewableSpaces","rHeights","_lastLevelKey","cWidths","oldLogicalSpace","heightDistribution","getPriorityDistribution","colHeight","colWidth","VisualMatrix","PROPS","sanitization","RowVisualMatrix","remainingAvailWidth","maxPrioritySpace","currentWidth","maxWidth","dist","prioritySpace","logicalWidths","_primaryMatrix","_secondaryMatrix","_maxMeasures","_availableSpace","generateGetterSetters","defCon","ERROR_MSG","INTERFACE_IMPL","populateMaxMeasures","calculateDepth","createViewPortMatrix","viewableMeasures","redistributeSpaces","childDepth","removeExtraCells","rotateAxis","tickText","labelManager","rotation","axis","renderConfig","smartTicks","scale","labelFunc","ticks","quantile","domain","orientation","fixedBaseline","labels","tickSize","getTickSize","each","yShift","xShift","datum","text","toString","tickLabelDim","getOriSize","quadrant","rotationNormalizer","sqrt","sin","angleToRadian","AxisOrientation","LINEAR","transition","duration","changeTickOrientation","selectContainer","axisInstance","_smartTicks","isSmartTicks","selectAll","tspan","makeElement","lines","on","registerAnimationDoneHook","oriTextHeight","setFixedBaseline","showInnerTicks","setAxisNamePos","textNode","axisNameHeight","renderAxis","range","tickLabelStyle","_tickLabelStyle","axisTickFormatter","_tickFormatter","axisNamePadding","show","xOffset","yOffset","showAxisName","smartAxisName","setStyle","tickValues","tickFormat","labelProps","axisComponentDimensions","largestTickDimensions","call","classed","HIDDEN","labelOffset","BandAxis","smartlabel","padding","maxTickSpaces","noWrap","getRotatedSpaces","paddingNormalized","tickFormatter","useEllipsesOnOverflow","getSmartText","textToLines","calculateBandSpace","setOffset","valueParser","formatTickValue","bandwidth","showOuterTicks","tickSizeInner","tickSizeOuter","v1","v2","invertExtent","reverse","extent","p1","p2","BAND","SimpleAxis","interpolatorMap","LOG","LogInterpolator","POW","PowInterpolator","LinearInterpolator","ContinousAxis","base","interpolator","exponent","InterpolatorCls","_interpolator","createScale","nice","domainVal","getScaleValue","sanitizeDomain","getValidDomain","setContinousAxisDomain","setAxisComponentDimensions","_domain","newTickValues","getTickValues","smartLabel","formatter","tickSpace","labelDim","getNumberOfTicks","getSmallestDiff","tickTransform","adjustRange","axisName","defClassName","CLASSPREFIX","numberFormat","numberOfTicks","rotate","rotatedHeight","rotatedWidth","angle","PI","cos","numberOfValues","tickLength","minTickDistance","_minTickDistance","MIN_NO_OF_TICKS","DEFAULT_NO_OF_TICKS","getAxisComponentDimensions","largestTick","smartTick","axisTicks","allTickDimensions","originalLabel","label","getFormattedText","tickDimensions","_axisNameStyle","axisNameDimensions","computeAxisDimensions","labelHeight","labelWidth","getHorizontalAxisSpace","axisDimensions","axisDimHeight","tickDimHeight","tickDimWidth","minTickDiff","getMinTickDifference","getVerticalAxisSpace","getAxisDimensions","largestDimHeight","minTickWidth","calculateContinousSpace","axisNameWidth","axisWidth","effHeight","userDom","defaultValue","hasAxesConfigChanged","obj","obj1","properties","some","resetTickInterval","isOffset","minDiff","_minDiff","applyTickSkipping","noOfTicks","right","tickInterval","adjustedRange","getAdjustedRange","setAxisRange","setTickConfig","getSmartAxisName","oriSize","scaleFactory","scaleMap","linear","_scale","sanitizeDomainWhenEqual","log","pow","oldConfig","mockedOldConfig","shouldAxesScaleUpdate","sanitizeTickFormatter","_axis","createAxis","resetRenderConfig","_renderConfig","_maxTickSpaces","_range","_domainLock","_axisDimensions","simpleConfig","bodyElem","getSmartComputedStyle","_minTickSpace","_animationDonePromises","domainValue","axisClass","axisOrientationMap","labelConfig","spaceSetter","setSmartAxisName","dimType","widthDim","invert","Promise","all","resolveFn","promise","resolve","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","longestWord","month","quarter","halfYearly","year","day","hour","mintues","seconds","week","tickIntervals","timeMillisecond","timeSecond","timeMinute","timeHour","timeDay","timeWeek","timeMonth","timeYear","getActualTickInterval","minWidthBetweenTicks","actualTickInterval","getTickIntervalBasedOnCurrentLevel","longestWordType","getTickIntervalFnBasedOnNumberOfTicks","interval","possibleTickLevelIndex","maxPossibleTicks","tickIntervalLevelInfo","tickIntervalInfo","numOfPossibleTicks","maxTickInterval","getSkippedTicks","actualNumberOfTicks","millisecondInterval","numOfTicksAccordingToMinDiff","minTickSpace","maxTicks","adjustHorizontalRange","diff","adjustVerticalRange","rangeAdjustmentMap","rangeBounds","offset","getAxisOffset","timeDiff","avWidth","pvr","bars","barWidth","spaceConfig","heightForTicks","namePadding","minTickHeight","TIME","tickShifter","widthForTicks","baseline","totalTickWidth","TimeAxis","Infinity","rawTicks","getTime","ColorAxis","_domainType","CONTINOUS","DISCRETE","_rangeType","step","_schemeType","getSchemeType","_colorStrategy","setColorStrategy","updateDomain","colorStrategy","getScheme","domainType","rangeType","schemeType","strategyGetter","hslColorArray","getHslString","getRawColor","uniqueValues","substring","lastIndexOf","split","rgbToHsv","domainRangeFn","domainRange","scaleInfo","stops","uniqueVals","scaleDomain","transformationArr","s","a","newH","newS","newL","newA","hsla","getActualHslColor","x11Colors","Pink","hex","rgb","LightPink","HotPink","DeepPink","PaleVioletRed","MediumVioletRed","LightSalmon","Salmon","DarkSalmon","LightCoral","IndianRed","Crimson","FireBrick","DarkRed","Red","OrangeRed","Tomato","Coral","DarkOrange","Orange","Gold","Yellow","LightYellow","LemonChiffon","LightGoldenrodYellow","PapayaWhip","Moccasin","PeachPuff","PaleGoldenrod","Khaki","DarkKhaki","Cornsilk","BlanchedAlmond","Bisque","NavajoWhite","Wheat","BurlyWood","Tan","RosyBrown","SandyBrown","Goldenrod","DarkGoldenrod","Peru","Chocolate","SaddleBrown","Sienna","Brown","Maroon","DarkOliveGreen","Olive","OliveDrab","YellowGreen","LimeGreen","Lime","LawnGreen","Chartreuse","GreenYellow","SpringGreen","MediumSpringGreen","LightGreen","PaleGreen","DarkSeaGreen","MediumSeaGreen","SeaGreen","ForestGreen","Green","DarkGreen","MediumAquamarine","Aqua","Cyan","LightCyan","PaleTurquoise","Aquamarine","Turquoise","MediumTurquoise","DarkTurquoise","LightSeaGreen","CadetBlue","DarkCyan","Teal","LightSteelBlue","PowderBlue","LightBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","CornflowerBlue","SteelBlue","RoyalBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","Lavender","Thistle","Plum","Violet","Orchid","Fuchsia","Magenta","MediumOrchid","MediumPurple","BlueViolet","DarkViolet","DarkOrchid","DarkMagenta","Purple","Indigo","DarkSlateBlue","SlateBlue","MediumSlateBlue","White","Snow","Honeydew","MintCream","Azure","AliceBlue","GhostWhite","WhiteSmoke","Seashell","Beige","OldLace","FloralWhite","Ivory","AntiqueWhite","Linen","LavenderBlush","MistyRose","Gainsboro","LightGray","Silver","DarkGrey","Grey","DimGrey","LightSlateGrey","SlateGrey","DarkSlateGrey","Black","getStops","newStops","sort","Set","numberInterpolator","shift","rangeStops","newStopsLength","newRange","maxRangeLength","piecewiseInterpolator","hslInterpolator","indexedDomain","retDomain","indexedDomainMeasure","normalDomain","steppedDomain","continousSteppedDomain","hslRange","uniqueRange","numVal","indexedRange","treatNullMeasures","normalRange","strategies","SEQUENTIAL","ORDINAL","QUANTILE","palette","DEFAULT_GRADIENT_COLOR","hslArr","convertToXllString","baseString","charAt","toUpperCase","paletteColor","replace","detectColor","HSL","HSLA","match","HEX","hexToHsv","RGB","newConfig","DATA_TYPES","DIMENSION","CATEGORICAL","MEASURE","TEMPORAL","dataTypeScaleMap","ScaleType","axisLeft","axisBottom","axisRight","axisTop","THRESHOLD","QUANTIZE","SHAPE","SIZE","DOMAIN","NUMBER","DEFAULT_ANGLE_DOMAIN","IDENTITY","scaledVal","minDomainScaledVal","InvalidAwareTypes","resolveAxisConfig","propVal","defaultVal","getObjProp","Function","sanitiseConfigIntervals","intervals","pie","createAngleValues","angleData","_angleFn","startAngle","endAngle","_angleValues","AngleAxis","sortValues","strategy","padAngle","customDomain","customRange","preset","adjustDomain","minOuterRadius","RadiusAxis","_radiusFactor","radius","sanitizedRange","rangeVal","scaleLinear","scales","scaleThreshold","scaleLog","scalePow","scaleIdentity","scaleOrdinal","scaleSequential","scaleQuantize","scaleQuantile","schemeCategory10","schemeCategory20","schemeCategory20b","scaleBand","scaleTime","SCHEMES","SCHEME1","SCHEME2","SCHEME3","scheme","colorSchemes","isArray","updateScaleRange","getScaleType","steps","shapeGenerator","generatorFn","generatedShapes","ShapeAxis","_generatedShapes","shapeType","getSymbol","_userRange","SizeAxis","_sizeStrategy","setStrategy","sizeVal","domainFn","domainInfo","newIntervals","discreteRange","pieceWiseRange","BrushBehaviour","BEHAVIOURNAMES","VolatileBehaviour","FilterBehaviour","FILTER","getIdentifiersFromSet","fieldsConfig","fields","getValueFromId","GenericBehaviour","firebolt","_enabled","payload","criteria","formalName","selectionSets","getSelectionSets","getAddSetFromCriteria","getPropagationInf","filteredDataModel","uids","selectionSet","setSelectionSet","_volatile","propagationIdentifiers","entryExitSet","getSets","entrySet","exitSet","completeSet","propagationInf","_entryExitSet","getSetInfo","mergedEnter","getMergedSet","mergedExit","getSourceFields","propData","getFieldsConfig","resetted","isSimpleObject","partition","subtype","DimensionSubtype","dims","otherFields","getRangeFromIdentifiers","getMergedEntrySet","identifiers","field","FieldType","_propagationIdentifiers","HighlightBehaviour","HIGHLIGHT","PersistentBehaviour","addSet","reset","existingAddSet","_set","SELECTION","propagate","updateExit","add","update","updateEntry","mergedExitSet","completeSetCount","getCompleteSet","SelectBehaviour","SELECT","click","targetEl","behaviours","dispatchBehaviour","args","event","getEvent","generatePayloadFromEvent","beh","stopPropagation","drag","attachDragEvent","dragCriteriaRetriever","COORD_TYPES","CARTESIAN","sourceInfo","startPos","endPos","axes","xAxis","yAxis","axisFields","xField","getMembers","yField","xFieldType","yFieldType","isXDimension","isYDimension","xRange","yRange","selectedDomains","b","rangeObj","xdom","ydom","POLAR","getDragActionConfig","getSourceInfo","coordType","coord","touch","drawingInf","d3Drag","getD3Drag","touchStart","getDrawingContext","Date","dragEnd","pos","getClientPoint","svgContainer","touches","nearestPoint","getNearestPoint","showInPosition","hover","tooltipConf","interaction","tooltip","mode","getAllPoints","CONSOLIDATED","FRAGMENTED","physicalActions","ACTIONNAMES","longtouch","touchdrag","touchEnd","setTimeout","selectionBoxDrag","subject","onDrag","action","dx","dy","y2","x2","behaviourEffectMap","BEHAVIOURS","DRAG","HOVER","SELECTIONDRAG","LONGTOUCH","TOUCHDRAG","ALL_ACTIONS","BRUSH","TOOLTIP","SELECTION_NEW_ENTRY","SELECTION_NEW_EXIT","SELECTION_NULL","SELECTION_OLD_ENTRY","SELECTION_OLD_EXIT","ANCHORS","BRUSH_ANCHORS","PERSISTENT_ANCHORS","HIGHLIGHTER","CROSSLINE","SELECTION_SUMMARY","HIGHLIGHT_SUMMARY","Firebolt","actions","sideEffects","_sideEffectDefinitions","_sideEffects","_propagationInf","_actions","behavioural","physical","_selectionSet","_volatileSelectionSet","_propagationFields","_sourceSideEffects","_propagationBehaviourMap","_sourceBehaviours","_actionBehaviourMap","_behaviourEffectMap","_actionHistory","_queuedSideEffects","mapSideEffects","registerBehaviouralActions","registerSideEffects","registerPhysicalBehaviouralMap","physicalBehaviouralMap","registerPhysicalActions","setSideEffectConfig","behEffectMap","hasOwnProperty","preventDefaultActions","effectNames","effects","initializeBehaviouralActions","prepareSelectionSets","initializeSideEffects","sideEffectStore","actionHistory","queuedSideEffects","sideEffect","combinedSet","mergeSelectionSets","effect","sideEffectInstance","isEnabled","mutates","isMutableAction","join","dispatchSideEffect","disable","apply","behaviour","propagationInfo","behaviouralActions","getSideEffects","dispatch","shouldApplySideEffects","applicableSideEffects","getApplicableSideEffects","applySideEffects","getEntryExitSet","sourceSelectionSet","behaviourConditions","sideEffectConditions","changeSideEffectAvailability","physicalAction","actionBehaviourMap","behaviourMap","mapActionsAndBehaviour","dataModel","unsubscribe","onDataModelPropagation","propValue","uniqueIds","volatileSelectionSet","SelectionSet","sideEffectDefinitions","initedActions","initializePhysicalActions","append","phyAction","initedPhysicalActions","mapObj","getDefaultTargetContainer","hasTouch","bindActionWithBehaviour","targets","behaviourList","nodes","empty","getDataModelFromIdentifiers","entryRowIds","getUids","sourceId","propagationSource","applicableSelectionSets","_resetted","unionSets","sideEffectsMap","SideEffect","sideEffectConf","dispatchableBehaviours","Action","toEnable","change","enable","sourceIdentifiers","sourceFields","found","models","uidSet","clone","existingModel","getSchema","select","f","saveChild","aggFns","retrieveNearestGroupByReducers","convertToObj","comps","registry","componentRegistry","_completeSetCount","_lockedSelection","ids","retObj","lockedSel","removeSet","updateSet","addLayer","layerRegistry","layerDefs","layers","layerDef","mark","layerCls","shouldDrawAnchors","depLayerEncoding","encoding","size","defaultSizeValue","commonName","groupId","transform","calculateDomain","getTransitionConfig","source","dm","interactive","owner","AnchorEffect","_layersMap","addAnchorLayers","disabled","layer","linkedLayer","getLayerByName","getTransformedDataFromIdentifiers","transformedData","schema","transformedDataModel","DataModel","SpawnableSideEffect","BrushAnchors","Crossline","bandWidth","px","bandClass","lineClass","drawingContext","isEmpty","hide","dataObj","getData","sourceInf","sideEffectGroup","elemData","fieldIndex","dataArr","axisIndex","fieldInst","getUnitWidth","plotWidth","getPlotSpan","pad","getPlotPadding","startPx","endPx","dataPoint","isNaN","parentGroup","elem","FilterEffect","entryModel","clearCaching","resetData","enableCaching","SurrogateSideEffect","GenericSideEffect","_strategy","_strategies","spaceOutBoxes","boxes","showVertically","len","spaceOutIfOverlap","firstBox","secondBox","opposite","PersistentAnchors","PlotHighlighter","fadeFn","applyInteractionStyle","fade","focus","highlight","getBoxDimensionsFromPayload","x1","y1","xDim","yDim","xLinear","yLinear","xCriteria","yCriteria","bandScale","x1Val","x2Val","x1DomainIndex","x2DomainIndex","y1Val","y2Val","y1DomainIndex","y2DomainIndex","direction","changeVisibility","visible","SelectionBox","boxConf","box","unitWidth","unitHeight","selectionGroupClassName","points","selectionGroup","selection","selectionBox","enter","merge","attrs","isValidValue","boxClassName","getQualifiedClassName","elemType","callbacks","_drawingContext","interactionType","configResolvers","specificConf","strategyObj","sanitizedConf","Tooltip","_tooltips","tooltips","dataModels","fragmented","xFieldDim","tooltipPos","fieldsArr","targetFields","indices","plotDimensions","getPlotPointsFromIdentifiers","getBBox","strategyConf","dataTransform","projectFields","plotDim","project","dt","layoutContainer","parentContainer","parentContainerDimensions","layoutBoundBox","getBoundingClientRect","unitBoundBox","htmlContainer","offsetLeft","offsetTop","tooltipInst","TooltipRenderer","detailFields","timeDiffs","timeDiffsByField","strategyFn","content","positionRelativeTo","tooltipBoundBox","_tooltipContainer","getContents","repositionArrow","highlightSummary","selectionSummary","fieldspace","getFieldspace","getDimension","getMeasure","projectedFields","SUM","GROUP_BY_FUNCTIONS","COUNT","FIRST_VALUE_MARGIN","SINGLE_DATA_MARGIN","formatters","formatTemporal","MeasureSubtype","CONTINUOUS","toFixed","getTabularData","fieldInf","displayName","fieldObj","getKeyValue","margin","isSelected","removeKey","keyObj","valueObj","getEncodingValues","configField","generateRetinalFieldsValues","valueArr","retinalFields","dimensionMeasureMap","dataLen","separator","colorAxis","shapeAxis","shape","sizeAxis","REF_VALUES_INDEX","REF_KEYS_INDEX","retField","retIndex","retinalFieldValue","measuresArr","icon","formattedRetinalValue","hasMultipleMeasures","selectedContext","measureIndex","dName","formatterFn","keyValue","getFieldInf","fieldsObj","defFormatter","inf","nf","retrieveFieldDisplayName","buildTooltipData","nestedDataObj","fieldValues","containsDetailField","intersect","displayFormat","TABLE_FORMAT","filteredDimensions","dim","allMeasures","filteredMeasures","nestCollection","generateTooltipContent","nestedData","formattedValue","len2","aggregatedModel","groupBy","fieldsConf","measureNames","IDFIELD","CONFIG","DATAMODEL","AXES","LAYERDEFS","MAXWIDTH","MOUNTPOINT","GRIDLINEPARENTGROUPCLASS","TRANSFORM","DEFAULTCOLOR","DEFAULTSIZE","MARGINBUFFER","DEFAULTICONSIZE","circle","square","DEFAULTSHAPE","STEP","GRADIENT","SCALE_FUNCTIONS","VALUE","PATH","ICON","RECT","START","UPPER","LOWER","END","SELECTIONBOX","Highlighter","ACTIONS","propagationBehaviourMap","propagationSideEffects","existingRemoveSet","metaData","propPayload","sourceCanvas","canvasAlias","propagateInterpolatedValues","propConfig","LegendFireBolt","behaviourName","rawVal","getCriteriaFromData","boundingBox","gradientDimensions","axisType","align","axisScale","rangeShifter","fieldName","getSelectionCriteria","selectionBoxMeasure","drawingInfMeasure","subjectStartPoint","getMousePos","sourceEvent","fadeOut","LegendHighlighter","brighten","gradientDimension","legendGradContainer","legendSelGroup","enterFn","el","selBox","ALIGN","DEFAULT_MEASUREMENT","maxHeight","LEGEND_TITLE","borderColor","bounds","lower","upper","tempConfig","ITEM_FORMATTER","STEP_DEFAULT_CONFIG","ICON_MAP","DiscreteLegend","getScaleInfo","scaleType","scaleFn","domainForLegend","ele","nextVal","minimumConsecutiveDifference","legendContainer","createLegendSkeleton","legendItem","createItemSkeleton","itemSkeleton","renderDiscreteItem","createSelectionSet","SimpleLegend","getGradientDomain","accumulator","currentValue","MAX_VALUE","MIN_VALUE","makeLinearGradient","defs","linearGradient","AxisCell","_cells","newAxis","_computedStyle","_labelManager","legendGradSvg","legendGradCont","legendRect","render","renderGradient","gradHeight","gradWidth","titleSpaces","maxItemSpaces","applyStyle","fill","_legendGradientSvg","GradientLegend","scaleParams","getInterpolatedArrayData","getInterpolatedData","getScaleFactor","effPadding","axisSpace","axisDomainLength","labelSpaces","getcomputedArray","computationhelper","requiredMeasure","availableMeasure","currentTickValue","nextTickValue","upperBound","measureParam","smartLabelCalc","pixelPerTick","requiredWidth","requiredHeight","maxTickDiff","minimumTickSize","isInteger","recomputeSteps","getTickMeasure","interpolatedFn","tickValue","round","titleCreator","title","titleWidth","titleContainer","getMaxMeasures","prop","getItemMeasures","formattedData","computeItemSpaces","titleHeight","textOrientation","itemSpaces","iconSpaces","maxIconWidth","labelSpace","itemSpace","iconSpace","newLabelWidth","getDomainBounds","domainBounds","domainLeg","legendOrientation","datasets","itemContainerMeasures","getStepSpacesInfo","iconHeight","iconWidth","stepPadding","positionConfig","alignmentMap","stepData","itemStack","resetLogicalSpace","store","commit","_title","getItemContainers","legendInstance","positionObj","maxGradHeight","maxGradWidth","legendBody","alignClass","applyItemStyle","stepColorCheck","checkPath","str","test","createShape","defaultIcon","groupElement","then","res","newShape","cloneNode","nodeName","src","href","createElementNS","setAttribute","shapeElement","pathStr","getLegendIcon","renderIcon","svg","group","renderStepItem","lowerLimit","upperLimit","interactions","_metaData","_fieldName","_firebolt","legendBehaviours","_canvasAlias","effBorder","effMargin","dataFromScale","titleSpace","getTitleSpace","getLabelSpaces","marginPosition","renderTitle","idRangeMap","ranges","StepLegend","lowerBounds","upperBounds","ARROW_RIGHT","ARROW_TOP","ARROW_BOTTOM","ARROW_LEFT","TOOLTIP_LEFT","TOOLTIP_RIGHT","TOOLTIP_BOTTOM","TOOLTIP_TOP","INITIAL_STYLE","Content","_formatter","ctx","_context","iconContainerSize","rowMargin","mountHtmlTooltip","html","body","table","tbody","setStyles","display","path","setAttrs","connectorClassName","spacing","iconScale","iconShape","iconColor","parentClassName","arrow","getArrowPos","orient","arrowPos","boxHeight","boxWidth","arrowDisabled","arrowWidth","start","plotBottom","boxBottom","plotRight","boxRight","placeArrow","tooltipArrow","_tooltipArrow","tooltipBackground","_tooltipBackground","arrowConf","_arrowOrientation","reorderContainers","connectorContainer","contentClass","_container","_contentContainer","_contents","_tooltipConnectorContainer","qualifiedClassName","addClass","defConf","contentConfig","contentConf","arrowOrient","outsidePlot","offsetHeight","offsetWidth","connector","_offset","_extent","arrowSize","topSpace","dimX","rightSpace","leftSpace","positionTop","positionRight","positionLeft","positionHorizontal","positionVertical","_arrowPos","array","prototype","NaN","ascendingBisect","bisector","ascending","bisectRight","bisectLeft","compare","ascendingComparator","lo","hi","mid","values0","values1","n0","n1","i0","i1","value0","pair","variance","valueof","identity","threshold","sturges","histogram","xz","x0","tz","tickStep","m","pop","bins","bin","bisect","_","arguments","constant","thresholds","sum","number","numbers","arrays","merged","p","pairs","indexes","permutes","value1","stop","xi","xj","random","deviation","LN2","e10","e5","e2","tickIncrement","isFinite","power","LN10","error","step0","step1","transpose","mean","delta","epsilon","translateX","translateY","entering","__axis","tickArguments","tickPadding","k","format","range0","range1","copy","tick","tickExit","exit","tickEnter","line","insert","getAttribute","parentNode","prefix","property","object","o","sortKeys","rollup","createResult","setResult","valuesByKey","result","sortKey","createObject","setObject","createMap","setMap","proto","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","displayable","trim","exec","parseInt","Rgb","rgbn","rgba","r","g","rgbConvert","opacity","extend","Hsl","hslConvert","hsl","m2","m1","hsl2rgb","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","atan2","rad2deg","cubehelix","deg2rad","cosh","sinh","factory","definition","create","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","z","lab","lab2xyz","lrgb2rgb","hclConvert","c","lch","hcl","noop","Dispatch","parseTypenames","typenames","types","typename","callback","T","that","defaultFilter","button","defaultContainer","defaultSubject","defaultTouchable","touchable","gestures","listeners","active","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","view","mousemoved","mouseupped","nodrag","nopropagation","clientX","clientY","noevent","yesdrag","changedTouches","identifier","clearTimeout","sublisteners","customEvent","DragEvent","p0","clickDistance","root","documentElement","__noselect","MozUserSelect","noclick","stopImmediatePropagation","preventDefault","overshoot","backIn","custom","backOut","backInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","circleIn","circleOut","circleInOut","cubicIn","cubicOut","cubicInOut","tau","amplitude","period","elasticIn","asin","elasticOut","elasticInOut","expIn","expOut","expInOut","polyIn","polyOut","polyInOut","quadIn","quadOut","quadInOut","pi","halfPi","sinIn","sinOut","sinInOut","locale","formatPrefix","defaultLocale","decimal","thousands","grouping","currency","formatLocale","formatDecimal","toExponential","coefficient","numerals","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","sign","symbol","zero","comma","precision","out","toPrecision","formatRounded","formatPrefixAuto","prefixes","formatGroup","formatNumerals","percent","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","nb","na","basis","v0","v3","exponential","hue","gamma","nogamma","cubehelixGamma","colorCubehelix","cubehelixLong","setTime","colorHcl","hclLong","colorHsl","hslLong","colorLab","piecewise","interpolate","I","samples","rgbGamma","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","reA","reB","one","bi","lastIndex","am","bm","bs","q","degrees","skewX","scaleX","scaleY","atan","interpolateTransform","parse","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","interpolateTransformCss","parseCss","interpolateTransformSvg","parseSvg","cssNode","cssRoot","cssView","svgNode","defaultView","getComputedStyle","getPropertyValue","removeChild","decompose","baseVal","consolidate","string","date","rho","SQRT2","rho2","rho4","epsilon2","exp","tanh","ux0","uy0","w0","ux1","uy1","w1","d2","S","d1","r0","r1","coshr0","u","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","rect","ramp","interpolateRgbBasis","interpolateCubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","band","ordinal","unknown","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","hiIndex","getClosestIndexOf","pointish","side","low","arrLen","high","highVal","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","polymap","clamp","continuous","interpolateValue","output","input","interpolateRound","linearish","pow10","powp","logp","log10","log2","reflect","logs","pows","implicit","raise","quantiles","quantize","rainbow","sequential","precisionPrefix","precisionRound","precisionFixed","calendar","minute","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","timeFormat","utcYear","utcMonth","utcWeek","utcDay","utcHour","utcMinute","utcSecond","utcMillisecond","utcFormat","UTC","creator","creatorInherit","ownerDocument","uri","namespaceURI","xhtml","creatorFixed","fullname","local","namespace","nextId","Local","selector","matches","namespaces","xlink","xml","xmlns","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","Selection","querySelector","querySelectorAll","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","classArray","classList","ClassList","_names","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_cloneShallow","insertBefore","nextSibling","selection_cloneDeep","deep","keyPrefix","bindIndex","groupLength","dataLength","__data__","EnterNode","bindKey","nodeByKeyValue","keyValues","parents","_parents","groups","_groups","enterGroup","updateGroup","exitGroup","previous","next","_next","_enter","_exit","dispatchEvent","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","sparse","matcher","subgroups","subgroup","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","selection_dispatch","constantNull","before","onenter","onupdate","onexit","previousSibling","firstChild","groups0","groups1","m0","merges","group0","group1","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","propertyRemove","propertyConstant","propertyFunction","subnode","selectorAll","compareNode","sortgroups","sortgroup","styleRemove","removeProperty","styleConstant","setProperty","styleFunction","styleValue","textRemove","textContent","textConstant","textFunction","none","current","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","pointX","pointY","defined","curve","curveLinear","area","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","curveRadialLinear","lineStartAngle","lineRadial","lineEndAngle","lineInnerRadius","lineOuterRadius","curveRadial","_curve","Basis","_line","_point","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","Linear","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","py","Radial","radial","Step","_t","stepBefore","stepAfter","linkSource","linkTarget","link","argv","curveHorizontal","curveVertical","pointRadial","p3","linkHorizontal","linkVertical","linkRadial","series","yp","yn","s2","si","sij0","sij1","s3","sk","skj0","skj1","peaks","peak","vi","vj","sums","appearance","tops","bottoms","descending","arcs","pa","stackValue","orderNone","offsetNone","kz","sz","oz","ki","sij","symbols","cross","diamond","star","triangle","wye","tan30","tan30_2","ka","kr","kx","ky","sqrt3","timeParse","utcParse","dateTime","time","periods","days","shortDays","months","shortMonths","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","localDate","H","M","L","setFullYear","utcDate","setUTCFullYear","newYear","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","pads","newParse","newDate","parseSpecifier","Q","V","getUTCDay","utcMonday","getUTCFullYear","getUTCMonth","getUTCDate","getDay","timeMonday","getFullYear","getMonth","getDate","W","U","Z","getHours","getUTCHours","numberRe","percentRe","requoteRe","requote","getMilliseconds","getMinutes","getSeconds","timeSunday","timeThursday","getTimezoneOffset","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","utcSunday","utcThursday","setHours","setDate","hours","newInterval","floori","offseti","milliseconds","minutes","setMonth","setUTCHours","setUTCDate","utcDays","setUTCMinutes","utcHours","setUTCSeconds","utcMinutes","setUTCMonth","utcMonths","utcWeekday","utcTuesday","utcWednesday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcYears","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","years","delay","Timer","restart","now","elapsed","frame","timeout","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","_call","_time","timer","sleep","timerFlush","wake","nap","poke","clearInterval","setInterval","schedules","__transition","schedule","state","SCHEDULED","Transition","STARTING","ENDING","ENDED","interrupt","selection_interrupt","selection_transition","defaultTiming","ease","easeCubicInOut","inherit","timing","_name","newId","string00","string1","interpolate0","string0","string10","attrTween","tweenValue","attrInterpolate","attrInterpolateNS","attrTweenNS","tween","_value","delayFunction","init","delayConstant","durationFunction","durationConstant","easeConstant","on0","on1","reject","cancel","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","styleTween","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","transition_end","interpolateNumber","interpolateRgb","interpolateString","onFunction","sit","removeFunction","emptyOn","emptyTween","CREATED","STARTED","RUNNING","self","styleNull","styleMaybeRemove","listener0","styleInterpolate","id0","id1","tweenRemove","tween0","tween1","tweenFunction","beachPool","Beach","RedBlackNode","edge","site","createBeach","beach","detachBeach","detachCircle","beaches","removeBeach","vertex","P","N","disappearing","lArc","unshift","rArc","nArcs","iArc","setEdgeEnd","createEdge","attachCircle","addBeach","directrix","dxl","dxr","leftBreakPoint","rightBreakPoint","R","createCell","newArc","lSite","rSite","hb","hc","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","halfedges","cellHalfedgeAngle","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","edges","clipCells","nCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","cover","createBorderEdge","dc","v00","v01","v11","v10","circlePool","firstCircle","Circle","cSite","ha","circles","triangleArea","lexicographic","Diagram","sites","RedBlackTree","clipEdges","polygons","polygon","triangles","e1","links","_found","vx","vy","clipEdge","connectEdge","lx","ly","rx","ry","fx","fy","fm","fb","after","grandpa","uncle","RedBlackFirst","RedBlackRotateLeft","RedBlackRotateRight","sibling","voronoi","_interopRequireDefault","__esModule","_lib","require","_lib2","_containerManager","_containerManager2","slLib","doc","win","BLANK","htmlSplCharSpace","documentSupport","getDocumentSupport","SVG_BBOX_CORRECTION","isWebKit","SmartLabelManager","useEllipses","wrapper","prevInstance","isBrowserLess","dispose","maxCacheLimit","maxDefaultCacheLimit","createContainer","testStrAvg","isHeadLess","isIE","parentContainerStyle","_showNoEllipses","_init","_calCharDimWithCache","calculateDifference","csArr","tw","twi","cachedStyle","asymmetricDifference","maxAdvancedCacheLimit","cache","_advancedCache","advancedCacheKey","_advancedCacheKey","cacheName","fontSize","fontFamily","fontWeight","fontStyle","cacheInitName","repeat","parseFloat","_getWidthFn","contObj","_containerObj","svgText","bbox","sCont","_styleNotSet","setLineHeight","_cache","charCache","_lineHeight","lineHeight","trimStr","tempArr","tmpText","maxWidthWithEll","toolText","oriWidth","oriHeight","newCharIndex","nearestChar","tempChar","getWidth","initialLeft","initialTop","getOriSizeImproveObj","spanArr","minWidth","chr","elemRightMostPoint","elemLowestPoint","lastBR","removeFromIndex","removeFromIndexForEllipses","hasHTMLTag","maxStrWidth","lastDash","lastSpace","lastIndexBroken","strWidth","strHeight","oriTextArr","ellipsesStr","ellipsesWidth","dotWidth","characterArr","dashIndex","spaceIndex","lastLineBreak","fastTrim","ws","oriTextWidth","oriText","isTruncated","xmlTagRegEx","ltgtRegex","substr","getNearestBreakIndex","detailObj","tooltext","spanAdditionRegx","spanAdditionReplacer","classNameWithTag","classNameWithTagBR","childRetriverFn","childRetriverString","noClassTesting","classNameReg","spaceIdx","dashIdx","classNameBrReg","spanRemovalRegx","detailedCalculationFlag","textArr","letter","lSize","cumulativeSize","indiSizeStore","ContainerManager","maxContainers","last","containers","rootNode","svgRoot","containerObj","keyStr","supportedStyle","prev","removeContainer","addContainer","avgCharWidth","hasSVG","cObj","lib","nav","navigator","userAgent","DIV","containerInstanceCount","clsNameSpace","containerClass","brReplaceRegex","whiteSpace","overflow","font","getElementsByClassName","opera","Boolean","SVGAngle","implementation","hasFeature","containerParent","getElementsByTagName","sl","difference","charLen","increment","avgWidth","styleObj","fSize","modules","__webpack_require__","makeEntry","sCon","_classCallCheck","this","set1","set2","filteredKeys","ForeignSet","reqAnimFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getTimeBasedId","__lastTime","__id","flat","scheduler","onFinishCallback","queue","animationFrame","tempQ","fns","unique","fetch","namedNode","qualifiedName","fetchAggregator","getUpstreamNodes","rec","qname","placedIndex","preArr","postArr","outgoingEdges","resolver","accumulate","resp","nodeDetails","CustomResolver","utils_classCallCheck","dep","_dep","graph_node_classCallCheck","requireResolve","retriever","history","electricEdges","_edges","entry","_this","retrieveDetails","head","hist","electric_node_classCallCheck","nextFrame","currentFrame","lstnrs","nFn","pullableRecent","pullableEnd","_this2","qualifiedNodeMap","graph_node","_wholeSet","_propagate","propagationOverride","currentFrameListeners","nextFrameListeners","_schedule","flushTarget","flush","resolveReqList","objn","perv","addDependencies","getDependencies","getResolvedList","props","fnSpec","eNode","_ref","electric_node","addEdges","addElectricNode","changedSet","upstreamNodes","upstreamNode","__execUniqueElectricEdges","cfLstnrs","nfLstnrs","toArray","_this3","repeatHead","resetPropagationOverride","qnames","_this4","resolved","resolveDependencyOrder","resolveMap","neighbour","isRoot","model_classCallCheck","_graph","graph","_lockFlag","_reqQ","_addPropInModel","calculationConfig","customResolver","varName","fetchFn","_customResolver","createNodesFrom","instantCall","_graph$stopPropagatio","propsArr","unsub","createElectricNodeOf","setPropagationOverride","resetNodeValue","_graph$stopPropagatio2","setProp","getNodeValue","getNodeFromQualifiedName","Model","__webpack_exports__","dataSelect","idFn","sortSelection","dataObjects","updateData","sortFn","kA","kB","idGetter","_dataObjects","_updateData","_enterData","_exitData","_idGetter","newData","entryData","exitdata","tempMap","duplicateData","updatedData","newSelection","_mode","currentData","mergedObjects","mergedData","newdata","sortSel","objects","STRING","DATA_TYPE","FUNCTION","HTMLElement","token","checkExistence","nonExistentKeys","htmlElem","getMax","getMin","getDomainFromData","fieldType","domArr","field0","field1","arr0","arr1","firstMin","secondMin","firstMax","secondMax","unionDomain","domains","dom","symbolFns","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolStar","symbolWye","symbolTriangle","easeFns","cubic","easeCubic","bounce","easeBounce","easeLinear","elastic","easeElastic","back","easeBack","poly","easePoly","easeCircle","getExtremePoint","compareValue","minOrMax","extremePoint","minOrMaxVal","getMinPoint","getMaxPoint","getNearestValue","filterData","getWindow","cancelAnimFrame","cancelAnimationFrame","capitalizeFirst","txt","getMinDiff","cls","getDependencyOrder","dependencyOrder","visited","visit","objectIterator","Voronoi","_voronoi","_voronoiFn","intSanitizer","propInfo","onset","typeChecker","defVal","getArraySum","arraysEqual","arr2","oldVal","newVal","is","enableChainedTransaction","transactionModel","transactionEndpoint","transactionItems","registerImmediateListener","isHTMLElem","sink","createSelection","sel","appendObj","mergedSelection","exitSelection","getObjects","inst","interpolateArray","fitCount","linearInterpolate","atPoint","springFactor","tmp","replaceCSSPrefix","colorInterpolator","interpolateHslLong","transformColors","hue2rgb","hslToRgb","hsvToRgb","shorthandRegex","matchRgb","matchHsl","matchRgba","matchHsla","matchHex","assembleModelFromIdentifiers","fieldMap","header","vals","fieldVal","getDataModelFromRange","hasBarLayer","selFields","selFn","fieldValue","internalValue","isFieldSelected","filteredSchema","include","propField","idx","findIndex","registerListeners","listenerMap","propListenerMap","ns","propType","listenerFn","escapeHTML","htmlEscapes","htmlEscaper","transposeArray","extendsClass","extendsFrom","concatModels","dm1","dm2","dataObj1","dataObj2","data1","data2","schema1","schema2","tuples1","tuples2","commonTuples","ii","row1","row2","dim1Values","dim2Values","allDimSame","dm1Key","dm2Key","commonSchema","stackOrders","STACK_CONFIG","stackOrderNone","stackOrderAscending","stackOrderDescending","stackOffsets","stackOffsetDiverging","stackOffsetNone","stackOffsetExpand","stackOffsetWiggle","d3Stack","pathInterpolators","curveStepAfter","curveStepBefore","curveStep","curveCatmullRom","Scales","timeFormats","timeDurations","getNearestInterval","nearestInterval","DateTimeFormatter","formatAs","temporalFields","filteredFields","lookupWhat","lookupDetails","resolvable","lookupTarget","depArr","deps","nextAnimFrame","getValueParser","measureFieldNames","filteredReducers","derivations","getDerivations","getAncestorDerivations","nearestReducers","derv","op","DM_DERIVATIVES","GROUPBY","measureName","measureField","defAggFn","nearestSortingDetails","allDerivations","nearestSortDerivation","derivation","SORT","sortOrderMap","SORT_ORDER_ASCENDING","firstVal","secondVal","localeCompare","SORT_ORDER_DESCENDING","sortCategoricalField","sortOrder","sortOrderType","accessors","fn1","fn2","filterFn","pass","mix","superclass","mixins","mixin","reg","regObj","register","customKey","CommonProps","ACTION_INF","ON_LAYER_DRAW","MATRIX_CREATED","BOOLEAN","UNIT_GLOBAL_NAMESPACE","UNIT_LOCAL_NAMESPACE","LAYER_LOCAL_NAMESPACE","LAYER_GLOBAL_NAMESPACE","GROUP_GLOBAL_NAMESPACE","GROUP_LOCAL_NAMESPACE","CANVAS_LOCAL_NAMESPACE","CANVAS_GLOBAL_NAMESPACE","ReservedFields","ROW_ID","ORDER_ASCENDING","ORDER_DESCENDING","ORDER_NONE","OFFSET_DIVERGING","OFFSET_NONE","OFFSET_EXPAND","OFFSET_WIGGLE","events","compositions","EVENT_LIST","composition","createPromise","eventName","prm","_makeNotifierPromise","_promises","LifeCycleManager","notification","hasOwn","_eventList","_notifiers","_lifeCycles","_unreleasedLifeCycles","_boot","_preparePromises","client","_releasePromisesFromCache","_notify","stage","_resolvePromise","retrieve","_callLifeCycleCallback","_cachePromise","_resetTargetPromise","stages","lifeCycles","SVGElement","selectorVal","selectorType","actualSelector","enterSel","mergeSel","exitSel","appendElement","element1","element2","setElementAttrs","removeClass","styles","createElements","selectionMerge","clipElement","clipPathElement","clipPathRect","boundingClientRect","clientPoint","tag","d3event","d3drag","css","textEl","testText","mandatoryStyle","computedStyle","styleForSmartLabel","initProp","fetchPropValues","propNames","addListenerToNamespace","namespaceInf","_listeners","namespaceListeners","setContexts","contexts","propObj","contextMap","depProps","registerPropInMaps","registeredListeners","_registeredListeners","_propListenerMap","subNamespace","subNamespaces","allProps","_fnCount","registerListener","propList","callBack","callbackFn","namespaceVal","commits","_savedCommits","listenersObj","_contextMap","contextsObj","commitsObj","propDeps","nm","fnInf","retrieveNamespaces","listenerTypes","removePropValue","propInf","sns","Store","_commits","_queuedProps","_locked","lock","unlock","serialize","locked","lockModel","queuedProps","propName","unlockModel","propFns","snsArr","nsObj","disableListener","sanitizedVal","savedCommits","calculatedProp","listenersMap","snsMap","transactor","holder","stateProps","nameSpaceProp","meta","nsProp","paramsLen","takesMultipleParams","prevVal","typeCheck","typeExpected","typeCheckResult","oldValues","defaultPolicy","registrableComponents","aliases","alias","propagationPayload","propagationCanvas","canvas","visualGroup","matrixInstance","canvasIterator","canvases","iteratorFn","cFn","throwback","_throwback","registerActions","fnName","_registrableComponents","vGroup","setFireboltDependencies","ActionModel","components","registerPropagationBehaviourMap","maps","dissociateBehaviour","dissociateSideEffect","policy","mergedPolicy","crossInteractionPolicy","actionModel","APP_INITIAL_STATE","app","units","Canvas","globalDependencies","_allOptions","localOptions","_registry","_composition","_cachedProps","_alias","_renderedResolve","_renderedPromise","_store","STATE_NAMESPACES","allOptions","canvasOptions","GroupFireBolt","subtitle","legend","setupChangeListener","_layoutManager","createLayoutManager","componentSubRegistry","interactionRegistry","initedComponents","initCanvas","createGroupState","lifeCycleManager","renderDetails","getRenderDetails","notify","prepareLayout","canvasHeight","canvasWidth","renderLayout","setLayoutInfForUnits","setLabelRotationForAxes","getAxes","RETINAL","initialSettings","regEntry","TransactionSupport","arrangeComponents","legendConfig","titleConfig","subtitleConfig","titleLayouts","TITLE","SUB_TITLE","GROUP","legendLayouts","LEGEND","LAYOUT","titlePosition","subtitlePosition","headers","legends","headerMap","headerCell","configType","TITLE_CONFIG","SUB_TITLE_CONFIG","headerAlignmentMap","HORIZONTAL_CENTER","checkParamsValidation","isGridPresent","createHeaderWrapper","headerType","layoutManager","CANVAS","headerConfig","wrapperParams","existingComponent","updateWrapper","HeaderComponent","createMessageWrapper","headerValues","messageWrapper","defaultDimensions","gridComponent","getBoundBox","message","NO_DATA_MESSAGE","MESSAGE_CONFIG","MESSAGE","MessageComponent","scrollBarMap","layoutBasedMeasure","viewMeasure","rowAlign","colAlign","createScrollBarWrapper","scrollBarType","grid","scrollBarWrapper","scrollBar","thickness","totalLength","viewLength","scrollConfig","scrollBarComponentConfig","ScrollComponent","createLegendWrapper","legendWrapper","LegendComponent","gridLayoutWrapper","gridWrapper","GridComponent","componentWrapperMaker","verticalScrollBar","horizontalScrollBar","applyScrollAction","scollDistance","scrollActionApplier","movement","setParams","matrixDim","matrixName","matrixConfig","MuzeComponent","matrixWrapper","MatrixComponent","allComponents","_scrollBarManager","scrollBarManager","wheelDeltaX","wheelDeltaY","preventBrowserScroll","triggerScrollBarAction","WHEEL_DELTA_MODIFIER","movedView","sanitizeGrid","attachScrollListener","selEnter","cont","renderHeader","defaultAlignmentHelper","VERTICAL_CENTER","legendSpace","sectionComponents","legendMount","legWidth","legHeight","sections","currHeight","currWidth","legendInfo","leg","legendHeight","legendWidth","renderLegend","renderPlaceholders","OVERFLOW","VISIBLE","containerForMatrix","applyScroll","renderTable","renderMatrix","textElement","arrowSizeMap","getUnitPositions","currentLen","unitPosition","createScrollBarArrow","chevron","createScrollBarRect","mover","applyRectClick","scrollMaker","moverRect","emptyScrollAreaClick","applyMoverDrag","moverStartPos","rectStartPos","distanceMoved","actualPosition","pageXOffset","pageYOffset","changeMoverPosition","applyScrollMouseDownAction","speed","rectX","rectY","registerListenerOnArrow","arrowType","_components","isTouchDevice","scrollContainerHelper","scrollBarContainer","HorizontalScrollMaker","prevArrow","nextArrow","scrollBarWithouArrowLength","_scrollBarWithouArrowLength","unitPositions","positionAdjuster","newPosition","currentPos","moverPos","totalDistance","movedViewLength","manager","performAttachedScrollFunction","scrollPercentage","ScrollMaker","_attachedScrollAction","_unitPositions","externalScrollAction","VerticalScrollMaker","scrollMakerMap","scrollDeltaTo","scrollTo","unitIndex","sanitizedUnitIndex","createScroll","externalAction","attachScrollAction","detachScrollAction","MUZE_PREFIX","maxLines","defaultInteractionPolicy","isMeasure","xFields","getFieldsFromChannel","yFields","colDim","getAllFields","rowFacets","colFacets","unitFireBolt","facetFields","facetByFields","unitColFacets","equals","unitRowFacets","propFields","propagateWith","defaultCrossInteractionPolicy","propagationCanvasAlias","parentAlias","propagationUnit","sourceUnit","unitId","_interactionPolicy","_crossInteractionPolicy","applyInteractionPolicy","getGroupByData","behaviouralAction","validFields","VisualGroup","fixScrollBarConfig","gridLayout","getRootNodeId","parentContainerInf","dispatchProps","invalidValues","createMatrices","equalityChecker","checker","option","ROWS","COLUMNS","DETAIL","DATA","updateChecker","notifyAnimationEnd","promises","cellArr","done","lifeCycle","animDonePromises","animationDone","xAxes","yAxes","axisArr","axisInst","nameSpaceProps","registerChangeListener","equalityProps","updateProps","interactionPolicy","changeBehaviourStateOnPropagation","changeSideEffectStateOnPropagation","rotationVal","getState","globalState","localState","cornerMatrices","triggerReflow","heightAttr","widthAttr","visGroup","placeholderInfo","minHeight","showHeaders","legendPosition","layoutArrangement","availableHeightForCanvas","availableWidthForCanvas","createHeaders","headerHeight","createLegend","getLegendSpace","mountSpace","componentIndexes","componentNames","VERTICAL_SCROLL_BAR","HORIZONTAL_SCROLL_BAR","attachListeners","componentWrappers","componentWrapper","attachListener","createScrollManager","horizontalScrollWrapper","verticalScrollWrapper","ScrollManager","scrollBarComponents","attachedComponents","hScrollBar","vScrollBar","compWrappers","deleteElementName","removeComponent","registerComponents","legendCreator","LegendCls","dataset","getRetinalAxes","axisInfo","scaleProps","stepMapper","LEGEND_TYPE_MAP","legendIconShapeMapper","layerMarks","IS_POINT_MAP","includes","POINT","legendInitializer","prevLegends","parser","dataInfo","legendMeasures","titleText","TextCell","PADDING","MARGIN","matrixLayers","setLegendMeasures","LAYERS","arg1","arg2","defConfig","sub","_scrollBarComponents","_attachedComponents","performScrollAction","resolveTitleSubTitleContent","rawContent","_sanitize","headerCreator","cellType","prevCell","minSpacing","_minTickDiff","createHeading","isSubtitle","headerOptions","INITIALIZED","SOURCE","MOUNT","CANVAS_UPDATED","POLICIES","RESOLVE","STEP_COLOR","TITLE_TEMPLATE_NOT_ALLOWED_TAGS","ICON_SHAPES","SQUARE","CIRCLE","OVERFLOW_X","OVERFLOW_Y","COMPONENTS","VisualUnit","SUBREGISTRIES","cellRegistry","INTERFACES","SimpleGroup","SimpleCell","minCharacters","verticalAlign","collapse","autoGroupBy","SIDE_EFFECT_COMMON","SIDE_EFFECT_INDIVIDUAL","TOOLTIP_CONSOLIDATED","TOOLTIP_FRAGMENTED","Muze","utils","Smartlabel","globalCache","defaultRegistry","globalRegistry","overrideRegistryDefinitions","overrideRegistry","muze","env","globalStore","componentSubRegistryDef","settings","withSettings","Components","VisualLayer","BaseLayer","LineLayer","TextLayer","TickLayer","PointLayer","SimpleLayer","AreaLayer","ArcLayer","helpers","enums","layerMixins","unitHelpers","unitEnums","UnitFireBolt","Encoders","encoderHelpers","groupUtils","groupEnums","SideEffects","standards","Behaviours","version","pkg","layerFactory","Operators","operators","share","vars","ComposedVars","variable","SimpleVariable","treeShakeNode","nodeType","ELEMENT_NODE","tagName","childNodes","strings","htmlCode","expLn","frag","createDocumentFragment","auxConfig","oldConf","newConf","INTERFACE_IMPl","STACK","FRACTURE","groupByIndices","groupedData","isInvalid","getInvalidType","identityTransform","normalizeData","valueField","uniqueField","uniqueFieldIndex","valueFieldIndex","seriesKeyIndex","seriesKeys","fieldNames","tuples","rowObj","_tuple","seriesKey","normalizedData","orderBy","orderIndex","groupByIndex","stackData","seriesData","transformMap","TransformType","transformFactory","computeAxisSpace","logicalWidth","logicalHeight","spaceFixer","_availHeight","_availWidth","AXIS","actualWidth","actualHeight","wrapperDiv","AXIS_CELL","CONSTANTS","BlankCell","BLANK_CELL","DEFAULT_PLACEHOLDERS","SIMPLE_CELL","TEXT_CELL","GEOM_CELL","GeomCell","SIMPLE","TEXT","GEOM","SPACE_FIXER","VERTICAL_ALIGN","TEXT_ALIGN","IS_OFFSET","BASELINE","SHOW","HEADER","FACET_BY_FIELDS","FIELDS","LAYER_DEF","DETAIL_FIELDS","MAX_LINES","MIN_CHARS","ROTATION","computeGeomSpace","getCaptionSpace","_unit","_layers","_axes","_datamodel","_facetByFields","_fields","_transform","_caption","caption","captionSpace","captionDom","DEFAULT_PROPS","geomProps","textProps","smartText","providedMinMeasure","setSmartText","minHeightSpace","minWidthSpace","paddedHeight","paddedWidth","computeTextSpace","minText","_minTextSpace","smartSpace","textAlign","vAlign","translation","middle","BINNED","CartesianEncoder","axesCreators","fieldInfo","geomCellAxes","projections","rowFields","columnFields","geomCell","Y","BOTH","axisFrom","generateAxisFromMap","groupAxes","unitsArr","encodingDomains","dataDomain","axisTypeIndex","fieldArr","typeOfField","axesArr","adjustedDomain","typeOfAxis","alignZeroLine","getAdjustedDomain","currentFieldName","oneVar","sortingOrder","facets","primaryFacets","secondaryFacets","primaryFields","secondaryFields","primaryLen","secondaryLen","projArr","primaryField","secondaryField","COL","axisFromIndex","existIndex","getIndex","datamodel","groupedModel","encodingObj","retriveDomainFromData","layerArray","serializedLayers","sanitizeLayerConfig","encodingConfigs","userLayerConfig","layerConfig","sanitizeIndividualLayerConfig","retinalConfig","colField","colFieldName","rowField","configs","rowFieldName","rowFieldType","colFieldType","getDefaultMark","defConfigs","layerConfigs","getLayerConfFromFields","layerConf","mergedLayerConf","serializedLayerConfig","getSerializedConf","VisualEncoder","getAxisConfig","axisOrientation","rawUserAxisConfig","userAxisConfigFn","userAxisConfig","allOrientations","axisConfig","createSimpleAxis","Cls","scaleMaps","simpleAxis","y1ratio","y2ratio","allSameSign","axesInfo","axisKey","currentAxes","cacheMaps","commonAxisKey","getAxisKey","_rotationLock","mutateAxesFromMap","xAxesMap","yAxesMap","xAxisSet","yAxisSet","axisId","BAR","LINE","createRetinalAxis","fieldProps","getAxisType","arrIndex","colFields","userConf","encodingArr","colFieldExist","rowFieldExist","axesObj","resolverAxes","RADIUS","ENCODING","ANGLE","ANGLE0","enc","userConfig","orderFields","fieldArray","dimensionArr","temporalArr","categoricalArr","fieldList","numOfMeasures","allDimensions","temporal","categorical","normalizeFields","convertToVar","transformFields","normalizedFields","norFields","rowsInfo","columnsInfo","rowDimensions","rowMeasures","rowTemporalFields","rowCategoricalFields","columnDimensions","columnTemporalFields","columnCategoricalFields","axesCls","getSizeMultiplier","sizeAxisDomain","sizeMultiplier","getSize","setRadiusFactor","sizeField","sizeFieldIndex","PolarEncoder","pieAxes","cellLayers","angle0","varInstances","encType","domainProps","unitDomains","encodingFields","specificAxes","sanitizedRows","sanitizedColumns","sanitizedFields","typeIndex","fieldSet","colorField","layerEncoding","allFields","ARC","sanitizedConfig","angleField","angle0Field","globalConfig","RetinalEncoder","newAxes","_fieldInfo","_axisFrom","_headerFrom","__headerFrom","getHeaderAxisFrom","rowHeader","rowAxis","colHeader","colAxis","headerFrom","getFieldsFromSuppliedLayers","MEASUREMENT","MIN_UNIT_WIDTH","MIN_UNIT_HEIGHT","DIMENSIONS","MEASURES","PIVOT","FORMAT","HAS_DATA_UPDATED","CELL","X_AXES","Y_AXES","ENTRY_CELLS","EXIT_CELLS","UNIT","UPDATED","BEFORE_UPDATE","VALUE_MATRIX","FACET_HEADERS","INTERACTION","GRID_LINES","GRID_BANDS","FACET","ASCENDING","DESCENDING","DATA_UPDATE_COUNTER","DEFAULT_LAYER_TYPE","updateCells","facetKey","createValueCells","suppliedLayers","encoder","horizontalAxis","verticalAxis","datamodelTransform","sortedFields","entryCellMap","exitCellMap","layerConfigArr","getLayerConfig","normalizedColumns","normalizedRows","allFacets","facetField","geomCellKey","getCellKey","sortConfig","extractAxisIndex","createAxisCells","currObj","axisPlaceholderGn","selObj","axesMatrix","selObjProp","axesForDraw","rowsPrimary","rowPrime","rowsSecondary","rowSec","columnsPrimary","colPrime","columnsSecondary","colSec","createTextCells","textCell","extractFacetIndex","headerPlaceholderGn","selectionObj","selectionKeys","selObjUpdater","keySet","textCells","generatePlaceholders","facetsAndProjections","encoders","valuesMatrix","rowProjections","colProjections","rowKeys","columnKeys","takeAxisFrom","simpleEncoder","takeHeaderFrom","section","hContext","generateMatrices","placeholderContext","leftHeaders","topHeaders","bottomHeaders","rightHeaders","leftFacets","rightFacets","rowPriority","colPriority","innerHeaders","currentBottomLength","getAxisFields","fieldHolder","ac","sortDmTemporalFields","fieldConfig","transformDataModel","resolvedData","newFieldsConfig","extractFields","aggregationFns","nearestAggFns","resolvedAggFns","computeMatrices","otherEncodings","optionalProjections","matrixGnContext","getCellDef","colCells","rowCells","resetSimpleAxes","newCacheMap","valueCellContext","serializeLayerConfig","cellCreator","valueCellsCreator","valueMatrixInfo","getMatrixModel","removeExitCells","createUnits","parentModel","initStore","rowType","initializeCacheMaps","cellMap","rowId","columnId","extractUnitConfig","unitConfig","attrNames","getHeaderText","rowLength","fieldHeaders","findInGroup","channel","facetType","projType","hasPolarEncodings","getEncoder","userAxisFromConfig","firstField","secondField","firstFieldType","secondFieldType","setFacetsAndProjections","getFacetsAndProjections","getRowBorders","borders","getColumnsBorders","getValueBorders","borderTypeRow","borderTypeCol","getBorders","allDimensionLength","allMeasuresLength","allTemporalFieldsLength","suppliedLayerConfig","layerFields","flattenArray","Variable","sortFacetFields","facetNames","sortInfo","facetSortConfig","getSchemaDef","exitCells","qualifiedStateProps","getQualifiedStateProps","lockCommits","unlockCommits","getFieldNames","fieldVar","prepareProjectionInfo","uniqueFields","rowProj","rIndex","newRIndex","colProj","cIndex","newCIndex","newRowProj","newColProj","prepareFacetInfo","rowFacetNames","colFacetNames","prepareHashMaps","hashMap","rowKey","_derivation","joinedRowKey","createJoinedKeys","keyArr","joinedKey","getSplitModelHashMap","splitModels","facetInfo","rowKeyHashMap","colKeyHashMap","colKeys","splitModelsHashMap","splitContext","colKey","formatKeys","formatterList","formattedKeys","rKeys","splitByColumn","projectionInfo","geomCellCreator","commonFields","projectionIndexObject","createColumnDataModels","colContext","sourceDM","rowKeyArr","colKeyObj","newRowIndex","currentColumnIndex","colKeyArr","hashMapKey","emptyDm","createRowDataModels","rowContext","rowIndexForCurrentKey","rowKeyObj","currentRowIndex","allSplitModels","splitByRow","generalContext","formattedColKeys","rawFormat","formattedRowKeys","transposedColKeys","MatrixResolver","_layerConfig","_matrixLayers","_valueMatrix","_facets","_projections","_datamodelTransform","_units","_cacheMaps","_fireboltDeps","_placeholderInfo","getterSetters","otherEncodingTypes","getProjectionFields","_horizontalAxis","_verticalAxis","fireboltDeps","metaInf","retContext","getRetinalFieldsDomain","retinalEncoder","setCommonDomain","retinalAxes","updateVisualUnit","placeholders","topCols","bottomCols","rowHeaders","blankCellCreator","footers","updateModel","RESOLVER_PROPS","_vars","member","_oneVar","dtFormat","getNativeDate","dateFormat","fieldDef","fieldSpace","varInst","setupChangeListeners","stores","getListeners","storeInst","listenerInf","registerDomainChangeListener","unionUnitDomains","unsubscribeChangeListeners","createUnitState","initializeGlobalState","createLayerState","sanitizeRetinalConfig","retinalConf","confValue","setMatrixInstances","ValueMatrix","createEncoderInstance","groupType","fieldSanitizer","setAxisAndHeaders","getMatrices","_groupedDataModel","createRetinalAxes","setRetinalAxisDomain","matrixArr","instancesById","cellValue","_instancesById","_matrix","_filterFn","rowWidth","currentRowWidth","rowHeight","currentRowHeight","_selection","createMatrixResolver","getSimpleAxes","info","BASE_LAYER","BaseLayerMixin","layerNs","groupNs","_points","_cachedData","_graphicElems","_customConfig","addSubNamespace","parentNamespace","_cacheEnabled","transformType","encodingFieldsInf","transformData","domainCalculator","encodingType","getNormalizedData","interactionConfig","interactionStyles","_transformType","getValidTransform","removeSubNamespace","layersDomain","unitDom","pointMap","_pointMap","styleType","interactionFn","getInteractionStyles","xMeasure","yMeasure","xMeasureIndex","yMeasureIndex","getAllAttrs","filteredPoints","identifierData","identifierSchema","_normalizedData","tupleArr","exist","transformedVal","tuple","graphicElems","elems","encodingValue","retrieveEncodingFields","resolveTransformType","_transformedData","getTransformedData","calculateDomainFromData","encodingFieldInfRetriever","getRenderProps","renderLayer","unitRowIndex","unitColIndex","layerState","prevData","dataDidSet","DEFAULT_LAYERS","LAYER_TYPES","BarLayer","OUTER_RADIUS_VALUE","TEXT_ANCHOR_MIDDLE","X0","Y0","RADIUS0","AGG_FN_SUM","AREA_LAYER","ARC_LAYER","LINE_LAYER","TEXT_LAYER","POINT_LAYER","BAR_LAYER","TICK_LAYER","SIMPLE_LAYER","transformColor","intensity","stateColor","originalColor","colorInfo","elements","getPlotElementsFromSet","isSpecificInteraction","applySpecificStyle","colorTransform","retrieveEncodingInf","encodingNames","encodingInf","encodingFieldInf","withUid","getIndividualClassName","individualClassName","classNameStr","dataNormalizers","radiusFieldIndex","angleFieldIndex","radius0FieldIndex","angle0FieldIndex","fieldsLen","pointObj","radius0","xFieldIndex","yFieldIndex","x0FieldIndex","y0FieldIndex","transformedDataArr","layerInst","angleValues","radius0Field","radiusDomain","xFieldSubType","yFieldSubType","x0Field","y0Field","yEnc","xEnc","attachDataToVoronoi","updateStyle","animateGroup","groupTransition","groupAnimateStyle","positionPoints","positioner","encodingTransform","getGroupSpan","groupSpan","getPlotMeasurement","dimensionalValues","_bandScale","offsetValues","actualGroupWidth","isTemporal","dataProps","innerPadding","isAxisBandScale","axisPadding","groupPadding","transformResolverPredicates","groupByField","dimensionField","resolveInvalidTransformType","getValidTransformForAggFn","resolvedInvalidTransformType","isCustomTransformTypeProvided","aggFn","getMarkId","resolveEncodingValues","transformedValues","getColorMetaInf","colorInf","auxStyles","getHslArray","originalStroke","stroke","strokeWidth","stateStroke","getCoordValue","trig","coordValueGetter","toCartesianCoordinates","rangePlot","sortData","commonHelpers","pointLayerHelpers","BarLayerMixin","LineLayerMixin","AreaLayerMixin","PointLayerMixin","TextLayerMixin","TickLayerMixin","ArcLayerMixin","parseLayerDefinition","layerType","strs","sanitizeEncoding","compositeLayers","factoryObj","setLayerRegistry","_layerRegistry","serializedDefs","unitLayerDef","sDef","getLayerInstance","instances","layerObj","layerConstructor","getLayerClass","composeLayers","getPreviousPoint","currIndex","prevArc","nextArc","tweenPie","_previousInfo","tweenExitPie","consecutiveExits","consecutiveExitArr","gElem","getFieldIndices","radiusField","angleIndex","sizeIndex","radiusIndex","colorIndex","_prevPieData","getDataFromEvent","getIdentifiersFromData","layerId","radiusAxis","pieIndex","angleV","angles","uid","resolvedEncodings","getOuterRadius","getInnerRadius","getColor","startAngle0","endAngle0","qualClassName","_arcFn","translatePoints","individualClass","exitCounter","tweenExit","exitArr","oldExitCounter","pieSlices","filteredPies","tData","pieSliceInf","states","fadeout","selected","drawArea","classNameFn","isXDim","isYDim","minYVal","basePos","xPx","yPx","y0Px","invalidY","invalidY0","resolvedValues","cachePoint","nearestPointThreshold","strokeOpacity","connectNullData","easeEffect","curveInterpolatorFn","enterAreaPath","updateAreaPath","selectionEnter","positionRetriever","isNegativeVal","barBasePos","resolveDimByField","spaceType","sizeEncoding","sizeConfig","sizeValue","enterSpace","minVal","maxVal","diffPx","minDomVal","resolveDimensions","enterWidth","enterX","xPos","enterHeight","enterY","yPos","strokeWidthPositionMap","strokeWidthWithOffsetMap","L1","L2","L3","inside","outside","getTranslatedPoints","auxiliaryStyles","strokeInteractionStyle","addOverlayPath","parentElement","removeOverlayPath","interactionStyleMap","_plotPadding","_plotSpan","_overlayPath","normalizedDataArr","containerSelection","generateDataPoints","seriesClassName","drawRects","barWidthMetrics","barHeightMetrics","barWidthOffsets","barHeightOffsets","barWidthOffset","barHeight","barHeightOffset","refElement","pathElement","currentPath","focusStroke","transitionBars","selTransition","barEnterFn","updateFns","drawLine","colorFieldIndex","getPathStyle","colorValFn","colorVal","getDrawFn","searchRadius","linepath","defColorStyle","fillOpacity","shapes","sizes","prepareDrawingInf","getShape","pointTranslators","offsetX","offsetY","getStrokeWidthByPosition","maxSize","drawFn","_maxSize","widthMetrics","heightMetrics","offsetXValues","offsetYValues","measurementConf","getMeasurementConfig","widthSpan","heightSpan","distanceLimit","drawSymbols","background","drawText","textanchor","textStyle","backgroundVal","backgroundPadding","backgroundEl","defaultEncoding","alignmentBaseLine","defRotation","polar","textEncoding","angleAxis","textFormatter","backgroundEncoding","backgroundValue","resolvedVal","cartesian","textField","textFieldIndex","textValue","ticksEnter","angle0Axis","angle0V","angles0","xSpan","ySpan","x0Px","drawTicks","trackerClassName","gridLines","zeroLineColor","gridBands","arcLayerClassName","sideEffectClassName","GRID_LINE_PARENT_GROUP_CLASS","GRID_BAND_PARENT_GROUP_CLASS","GRID_PARENT_GROUP","TICK","GRID_BAND","GRID_LINE","RETINAL_FIELDS","PARENT_ALIAS","CACHED_DATA","STORE","TRANSFORMEDDATA","DATADOMAIN","LAYERAXISINDEX","UnitBrushBehaviour","addFacetData","facetData","fieldsWithFacets","fieldIndexMap","dataWithFacets","newRow","propagateValues","propagationFields","propagationFieldNames","cachedData","sideEfffects","propagationBehaviour","propagationConf","sourceBehaviour","enabled","propConf","behaviourInstance","applyOnSource","filterImmutableAction","actionInf","initSideEffects","clearActionHistory","dispatchQueuedSideEffects","sideEffectPolicy","propagationData","sourceIdentifierFields","hasCommonCanvas","SIDE_EFFECTS","disabledSideEffects","aliasName","propagationSourceCanvas","sourceUnitId","sourceSideEffects","sideEffectInstances","actionOnSource","mappedEffects","se","sideEffectCheckers","getSelectionRejectionModel","isXandYMeasures","_cachedValuesMap","exitRowIds","enabledFn","payloadFn","payloadGenerator","__default","sourceBehaviours","filterFns","persistent","propagationSourceId","getRangeFromData","selectionDataModel","propCriteria","isActionSourceSame","isDimension","brush","getLayerDefinition","gridLineColor","gridBandColor","isLinearScale","isNegativeDomain","getDefaultVisibilty","getGridLayerDefinitions","dimensionSubTypes","getValidSubtype","getGridLayerData","gridData","jsonData","createGridLineLayer","vuConf","_timeDiffs","definitions","atomicDef","sConf","attachDataToGridLineLayers","_gridLines","_gridBands","gridLayerData","renderGridLineLayers","gridLineParentGroup","parentGroupClass","getDimensionMeasureMap","retinalEncodingsAndMeasures","shapeField","transformDataModels","transformVal","getLayerFromDef","existingLayer","instanceArr","resolveEncodingTransform","sanitizeLayerDef","sanitizedDefs","attachDataToLayers","transformedDataModels","dataSource","attachAxisToLayers","layerAxisIndex","axisInf","getLayerAxisIndex","specificField","encodingField","domain1","unionDomainFromLayers","getDataDomain","domainValues","layerDomain","fieldDomain","encodingDomain","fieldStr","renderLayers","_lifeCycleManager","orderedLayers","layerParentGroup","layerDepOrder","_layerDepOrder","layerSeq","getNearestDimensionalValue","entryVal","getLayersBy","searchBy","removeLayersBy","createSideEffectGroup","createRenderPromise","renderedPromise","getRadiusRange","radiusAxes","xMeasures","yMeasures","getKey","getValuesMap","idValuesMap","valuesIdMap","fieldIndices","propModel","propValuesMap","rejectionModel","rowIdsObj","removeExitLayers","layersMap","markSet","fieldsVal","queuedLayerDefs","_queuedLayerDefs","layerDefArr","defFn","hasPlotSpan","_timeDiffsByField","originalData","attachPropagationListener","layerAxisIndexVal","_layerAxisIndex","axesVal","_dimensionMeasureMap","valuesMap","oldData","FORMAL_NAME","unitNs","_gridLinesSelection","_gridBandsSelection","createFireboltInstance","getFireboltCls","getActionBehaviourMap","getBehaviourEffectMap","createRootContainers","_rootSvg","_sideEffectGroup","rootSvg","layerDefinition","layerDefinitions","layerIndex","layersArr","markId","defArr","instanceValues","layerdeps","REACTIVE_PROPS","dimValue","pointInf","getMarkInfFromLayers","markInf","parsedIdentifiers","getPointsFromIdentifiers","filteredRow","unitState","localNs","drawn"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;u/HClFA,yDACA,mGACA,yBADA,IAEA,SACA;AAAA;AAAA;AAAA,qGADA,IAEA,GAIC,CATD,EASC,MATD,CASC,WACD,M;ACVA,Q,CAAA;AACA,gC,SAEA,Q,CAAA;AACA,+C,QAAA,CAEA,QAFA,CAEA;AACA,uCACA,kDACA,SACA,QANA,CAMA;AACA,+CACA,kBADA,CAEA,eAFA,CAGA,kBACA,QAJA,E,QAPA,CAaA,QAbA,CAaA;AACA,yF,QAdA,CAgBA,QAhBA,CAgBA;AACA,sB,QAjBA,CAmBA,QAnBA,CAmBA;AACA,8BACA,S,kBAGA,Q,CAAA;AACA,sC,SAEA,Q,CAAA;AACA,+C,SAEA,Q,CAAA;AACA,4DACA,iDACA,4CAA0C,eAA1C,CAA0C,UAA1C,GACA,SACA,SAJA,C,SAMA,Q,CAAA;AACA,gDACA,4DACA,0DAAwD,cAAxD,GACA,SACA,oDAAiD,UAAjD,GACA,SALA,C,SAOA,Q,CAAA;AACA,Q,CAAA;AACA,Q,CAAA;AACA,Q,CAAA;AACA,Q,CAAA;AACA,mDACA,mDACA,+BACA,oFACA,mCACA,kCACA,4CAAyC,eAAzC,CAAyC,WAAzC,GACA,2GAAgH,kBAAqB,CAArI,CAAqI,IAArI,CAAqI,IAArI,CAAqI,GAArI,IACA,kBACA,SATA,C,SAWA,Q,CAAA;AACA,+CACA,6CACA,8BAA2B,yBAA4B,CADvD,CAEA,oCAAiC,cAAe,CAFhD,CAGA,iDACA,sBACA,SANA,C,SAQA,Q,CAAA;AACA,wDAAsD,6DAA+D,CAArH,C,SAEA,Q,CAAA;AACA,iC,kBAGA,Q,CAAA;AACA,4D;;wKChFA,wBAEA;AACA,oGAEA,gBACA,mBADA,CACA;AACA,WAFA,CAGA,YAHA,CAIA,cAJA,CAKA,eALA,CAMA,aANA,CAOA,gBAPA,CAQA,aARA,CASA,kBATA,CAUA,cAVA,EAYA,aACA,UADA,CAEA,QAFA,CAGA,UAHA,CAIA,WAJA,CAKA,SALA,CAMA,YANA,CAOA,SAPA,CAQA,cARA,EAUA,eACA,sBADA,CACA;AACA,iBAFA,CAEA;AACA,SAHA,CAGA;AACA,SAJA,CAIA;AACA,kBALA,CAKA;AACA;AANA,EAQA,gBACA,WADA,CACA;AACA,WAFA,CAEA;AACA;AAHA,EAMC,0CACD,wBACC,CAFA,EAID;;;;GAKA,wBACA;AACA,yBACA,YACA,CAEA;AACA,iBACA;AACA,0DACA,sBACA,OACA;AACA,8BAAsC;AACtC,gBACA,gBACA,CACA;AACA,oBACA,+CACA,CAEA,uBACA,OACA;AACA,gBACA,UACA,CACA,SACG,CApBH,EAsBA;AACA,uBACG,uCAEH,WACA,CAEA;;;GAIA,oCACA,gCACA,yDACA,CAEA,oBACA,2BACA,oDACA,SACA,kCACA,SACA,CACA,kBACA,0BACA,UACA,CACA,6DACA,2BACO,CAFP,EAEO,CACP,2HACA,CACA,gCACA,YACA,sBACA,CACA,4BACA,aACA,yBACA,CAEA,mBACK,CAnBL,IAmBK,2BACL,sFACA,CACA,sBACA,CACA,uBACA,CArCA,CAuCA;;GAGA,0BACA,qBACA,CAFA,CAIA;;;GAIA,iBAEA,0BACA,4CACA,mBAAsB,kBADtB,GAGA,6CACA,mBAAsB,mBADtB,GAGC,CAPD,IAOC,CACD,6BACA,+BACA,CAEA,0BACA;AACA,sDAAiD,eAAjD,CAAiD,eAAjD,CAAgF,eAAhF,CACA;AACA,yDAAmD,eAAnD,CACA;AACA,0CAEA,yBACA,wBACA,kCACA,mCACA,oBACA,wDACA,CACA,CAEA,iB;;0KC9KA,0BACA,qFACA,CAFA,C;;6LCDA,2JAAe,0BACf,uBACA,oCACA,yBACA,kCACA,oCACA,gCACA,2CACA,kGAAoG,IAApG,CAAoG,KAApG,EAAoG,sBAApG,IACA,UACA,kBACA,CACA,cACA,C;;2OCbA,4vBAEA,QAAU,qDAAG,GAAH,CAAV,CAEO,uBACA,+BACA,yBACA,iCACA,iC;;mLCRP,sDACA,MADA,CAEA,QAFA,CAGA,UAHA,CAIA,SAJA,CAMA,kCACA,mCAAoC,6BACpC,yCACG,CAFiC,EAEjC,IAFiC,CAEjC,GAFiC,CAApC,CAEG,GAFH,EAGA,CAEA,oCACA,oCACA,uBACA,gCACA,CAFA,CAGA,CAEA;AACA,4BACA,kCACA,UADA,CAGA,2BACA,uBACA,2BACA,uCACA,CACA,CACG,CANH,EAQA,eACA,CAEA,0BACA,+BACA,0DACA,CAEA,0BACA,+BACA,0BACA,WAFA,CAGA,CAEA,0BACA,6BACA,4BADA,CAEA,4BAFA,CAGA,sCAHA,CAIA,kCACA,kGACA,gGACA,mEACA,uDACA,EAJA,CADA,CAMA,CAEe,+EACf,iDACA,iCADA,CAGA,uBACA,wDACA,mCACA,kEACK,CAHL,EAIA,yBACA,YACA,CAEA,2BACA;AACA,aADA,CAEA,GAFA,CAEA;AACA,GAHA,CAGA;AACA,CAJA,CAIA;AACA,QALA,CAKA;AACA,SANA,CAMoB;AAEpB;AACA,sCACA,qCAEA,iBACA,kBACA,4BAEA;AACA,YACA,+BACA,yEACA,yBACA,oDACA,gBAAgC,SAAY,oCAAyC,CACrF,+CACA,CAEA;AACA,WACA,qDACA,gBAAgC,SAAY,oCAAyC,CAArF,IACA,2BACA,uBACA,CAEA;AACA,gCACA,CAEA,yBACA,WACA,+CACA,sCACA,eACA,CAEA,YACA,CAEA,qCACA,8BACA,oCACA,gCACO,CAFP,EAEO,IAFP,CAEO,SAFP,EAGK,CAJL,EAKA,CAEA,8BACA,4CACA,gGACA,CAEA,kCACA,4CACA,8CACA,CAEA,0BACA,sCACA,CAEA,wBACA,4CACA,CAEA,4BACA,sBACA,wCACA,8DACA,KAHA,CAIA,CAEA,OACA,WADA,CAEA,mBAFA,CAGA,aAHA,CAIA,qBAJA,CAKA,qBALA,EAOC,CAtGc,C;;qUC3Df,82E;;2OCAA,4vBAEA,QAAU,qDAAG,IAAH,CAAV,CAEO,uBACA,+BACA,yBACA,iCACA,iC;;qKCRP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,2FACA,gDACA,OADA,CAEA,4CACA,2DACA,CAJA,CAMA,mBACA,qCACA,yBACC,CAFD,IAEC,kCACD,+CACA,0CACA,MADA,CACA,oCADA,EAEA,CAHA,CAIC,CALA,IAKA,CACD,+CACA,0CACA,CAFA,CAGA,CAEA,qCACA,+CACA,CAEA,0DACA,qBACA,CAFA,CAIA,wBACA,6BACA,CACA,4BAEA;AACA,uCAEA,yCACA,sCACA,+CAEA;AACA;AACA,2BAEA,0DACA,eADA,CAEA,mBACA,2BACG,CAJH,CAKA,sBACA,mDACA,gIACA,CACA,wBACA,CAVA,GAaA,6BAEA,6BACA,kDADA,CACA,CACA,iCACA,oBACA,CAEA,iDACA,CATA,CAWA;AACA;AACA,mEACA,6CACA,4GACA,CACA,qBACA,YACA,CANA,CAQA,gCACA,kCACA,wCACA,0BACA,CAEA,kEACA,8BACA,CAFA,CAIA,gDACA,YACA,YAAiB,kBAAjB,CAAuC,GAAvC,EAAuC,wBAAvC,CACA,2BAEA,wBACA,sBACA,0CADA,IAEA,aACA,aAEA;AACA,YACA,OACA,iBACA,WACA,wBACA;AACA;AACA,SAAe;AACf,CACA;AACA,kEACA,eACA,UAAc;AACd,CAEA,yBAEA,uBACA,aAEA,gCACA,gCACG,CAFH,IAEG,CACH,uBACA,sCACA,YAAmB,KAAnB,CAA4B,GAA5B,EACA,qCADA,CAEA,CAEA,YACA,CA1CA,CA4CA,oDACA,MACA,WACA,aAEA,iCACA,2GACA,CAEA,sBACA,uBACA,0CACA,sBACG,CAHH,IAGG,CACH;AACA;AACA,mCACA,+BACA,4CADA,EAGA;AACA;AACA,sBACA,CACA,sBACA,CAEA,yBACA;AACA,+BACA,sBACG,CAJH,IAIG,CACH,iCACA;AACA,sBACA,+CADA,CAEA;AACK,CALL,IAKK,aACL,2BACK,CAFA,IAEA,CACL,wBACA,CAEA;AACA,2BACA,6CACA,qBACA;AACA;AACA,+DACA,eADA,CACA,GADA,CACA,YADA,CACA,aADA,CAEA,0CAFA,CAGA,gBAHA,EAIA,qCACA,iBACA,YACA,wBACA,sBACA,CACA,CAEA,cACA,CAEA,uEACA,8CACA,CAFA,CAIA,6DAEA,uCACA,wCACA,6CACA,CAHA,CAKA,uBACA,YACA,YAAiB,kBAAjB,CAAuC,GAAvC,EAAuC,wBAAvC,CACA,gBACA,kDACA,gBACA,6CACA,CACA,CAEA,yCACA,WAAe,WAAf,CAAe,gBAAf,CAAe,aAAf,CAAe,SAAf,CAAe,iBAAf,EACA,oCACA,0BACA,qBACA,eACA,CAEA,yDACA,iCACA,2GACA,CACA,4CACA,YACA,CANA,CAQA,2CACA,4CACA,iCACA,2GACA,CACA,yDACA,YACA,CAPA,CASA;AACA,sCACA,uCACA,4CAEA,iCACA,2GACA,CAEA,oBACA,sBACA,YAEA,kBACA,oBACA,YAEA,8CACA,2BACA,iCADA,IAEA,CACA,oBACA,yBACA,yDACA,CACO,CARP,IAQO,8BACP,YAEA,oBAAiC,IAAjC,CAAyC,GAAzC,CAAyC,CACzC,oDACA,kCACA,WACA,MACA,CACA,CAEA,cACA,YAEA,gBACA,aADA,IAEA,CACA,yBACA,CAEA,mBACA,qBAEA,qCACA,4DACA,CAEA,YACA,CApDA,CAsDA,iEAEA,0CACA,kCACA,uBAEA,oBACA,sBACA,YAEA;AACA,sCACA,yBACA,iCACA,oBACS,CAHT,IAGS,8BACT,2BACA,iCADA,IAGA,qBACA,CACA,YACA,CAEA;AACA,yBACA,6BACA,QACA,QAAmB,aAAnB,CAAoC,GAApC,CAAoC,CACpC,YACA,mCACA,6BACA,CACA,0CACA,iCACA,oBACA,YACA,CAEA,uBAEA,kCACA,oCACO,CAFP,IAEO,2BACP;AACA,yBAAsC,IAAtC,CAA8C,GAA9C,CAA8C,CAC9C,uCACA,CACA,CAEA,YACA,CAjDA,CAmDA,wCACA,0BAEA,sBACA,SAEA,4BACA,0BACA,SAEA,kCACA,6DAEA,cACA,2BADA,CACA,wCADA,CAEA,CAEA,0DACA,kCACA,CAFA,CAIA,gEACA,mCACA,CAFA,CAIA,kDACA,8CACA,mCACG,CAFH,IAEG,CACH,wCACA,CACA,CANA,CAQA,mDACA,6BACA,wBAEA,uBACA,4BAEA,mCACA,SACK,CAFL,IAEK,4BACL,yBACA,CACA,CAEA,SACA,CAEA,wDACA,2DACA,CAFA,CAIA,2BACA,sBACA,YAAiB,GAAjB,CAAwB,GAAxB,EACA,eADA,CAEA,YACA,CAEA,+BACA,KAAQ,mBAAR,CAAiC,OAAjC,EACA,0BADA,CAEA,WACA,CAEA,8BACA,8BACA,YAAiB,YAAjB,CAAiC,GAAjC,CAAiC,CACjC,+BACA,CACA,WACA,C;;mKC/bA,gBACA,YAAe,mBAAO,CAAC,8EAAD,CADtB,CAEA,cAAiB,mBAAO,CAAC,kFAAD,CAFxB,CAGA,cAAiB,mBAAO,CAAC,kFAAD,CAHxB,CAIA,gBAAmB,mBAAO,CAAC,kFAAD,CAJ1B,E;;uKCAA,w5DACA,4lCAEA,kBACA,gBAEA,QACA,6BACA,gBACA,oBACA,oBACA,qCACA,cACA,IACA,CAEA;;GAGA,0BAEA;;;GAIA,6CACA,sBACA,SACA,CACA,qCAAqC,mBACrC,QACA,2BACA,8CACA,6BADA,CAEA,0BAFA,CAIA,4CACA,8BACA,CACS,CART,IAQS,CACT,uBACA,CACA,cACK,CAdL,EAeA,CAnBA,CAqBA;;;GAIA,mCACA,uCACA,CAFA,CAIA;;;GAIA,6CACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,sCACA,4BAA0C,aAA1C,CACA,IACA,CACA,cACA,CAbA,CAeA;;;GAIA,mCACA,uCACA,CAFA,CAIA;;;GAIA,mDACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,yBACA,uBACA,UACA,sBACS,CAFT,IAES,mBACT,oBACS,CAFA,IAEA,CACT,sBACA,CACA,IACA,CACA,cACA,CApBA,CAsBA;;;GAIA,yCACA,6CACA,CAFA,CAIA;;;GAIA,qDACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,wBACA,WACA,iBACA,SACA,CACA,mBACA,IACA,CACA,cACA,CAjBA,CAmBA;;;GAIA,2CACA,+CACA,CAFA,CAIA,6B;;uKClJA,6zuCAEA,kBACA,iBAEA,oCAEA;;GAGA,0BAEA;;;GAIA,6CACA,sBACA,SACA,CACA,qCAAqC,mBACrC,QACA,2BACA,gCACA,2CADA,CAEA,0BAFA,CAIA,4CACA,8BACA,CACS,CART,IAQS,CACT,uBACA,CACA,cACK,CAdL,EAeA,CAnBA,CAqBA;;;GAIA,mCACA,uCACA,CAFA,CAIA;;;GAIA,6CACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,0CACA,aACA,wCACA,UACA,IACa,CAFb,IAEa,CACb,mBACA,CACA,UACA,sBACA,IACA,SACA,CACA,CACA,sBACA,IACA,CACA,cACA,CA1BA,CA4BA;;;GAIA,mCACA,uCACA,CAFA,CAIA;;;GAIA,mDACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,wBACA,0BACA,aACA,wCACA,UACA,IACa,CAFb,IAEa,CACb,mBACA,CACA,UACA,sBACA,IACA,SACA,CACA,CACA,gBACA,mBACS,CAFT,IAES,CACT,sBACA,CACA,IACA,CACA,cACA,CA/BA,CAiCA;;;GAIA,yCACA,6CACA,CAFA,CAIA;;;GAIA,qDACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,wBACA,WACA,iBACA,SACA,CACA,mBACA,IACA,CACA,cACA,CAjBA,CAmBA;;;GAIA,2CACA,+CACA,CAFA,CAIA;;;GAIA,6CACA,sBACA,gBACA,WACA,kBACA,eACA,eACA,iBACA,8EACA,aACA,YACA,2CACA,CACA,aACA,kBACA,qEACA,+CACS,CAJT,IAIS,CACT,2CACA,6CACA,CACA,CACA,CAEA,6B;;mKC7LA,iBACA,SADA,CAEA,SAFA,CAGA,WAHA,CAIA,YAJA,CAKA,UALA,CAMA,OAAS,GANT,CAOA,OAAS,GAPT,CAQA,SAAW,GARX,CASA,SAAW,IATX,CAUA,QAAU,GAVV,EAaA,gBACA,OADA,CAEA,OAFA,CAGA,SAHA,CAIA,SAJA,CAKA,QALA,EAQA,kBACA,UADA,CAEA,UAFA,CAGA,YAHA,CAIA,aAJA,CAKA,WALA,EAQA;;GAGA,wBAEA;;;GAIA,2CACA,sBACA,SACA,CACA,4CACA,uBACK,CAFL,EAGA,CAPA,CASA;;;GAIA,iCACA,qCACA,CAFA,CAIA;;;GAIA,2CACA,sBACA,SACA,CACA,wCAAwC,YACxC,sBACA,yCACA,wBADA,CAEA,qBAFA,CAIA,yCACA,SACA,CACA,iCACA,CACA,yBACK,CAZL,EAaA,CAjBA,CAmBA;;;GAIA,iCACA,qCACA,CAFA,CAIA;;;GAIA,iDACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,wBACA,wBACA,UACA,sBACA,IACA,SACA,CACA,gBACA,mBACS,CAFT,IAES,CACT,sBACA,CACA,IACA,CACA,cACA,CAvBA,CAyBA;;;GAIA,uCACA,2CACA,CAFA,CAIA;;;GAIA,mDACA,sBACA,SACA,CACA,yBACA,cACA,QACA,mBACA,wBACA,WACA,iBACA,SACA,CACA,mBACA,IACA,CACA,cACA,CAjBA,CAmBA;;;GAIA,yCACA,6CACA,CAFA,CAIA,2B;;uKC1JA;;;;;EAMA,2BACA,aACA,GAAQ,IAAR,CAAkD,CAC1C,iCAAO,UAAP,CAAiB,+LAAjB,CAAiB,yFAAjB,EACH,CAFL,IAEW,EAKV,CATD,EASC,IATD,CASC,WACD,aAEA;AACA,2BACA,8BAEA,gBACA,OADA,CAEA,OAFA,CAGA,MAHA,CAIA,MAJA,CAKA,OALA,EAQA;AACA,oCACA,2BACA,oCACA,wBACS,CAFT,IAES,CACT,IACA,gDACa,UACb;AACA,kBACA,8DACA,CAFA,CAGA,CACA,CACA,CAEA;AACA;AACA,gCACA,yBACA,iBACA,CAEA,iFACA,aAAyB;AAChB,CAFT,IAES,qCACT,sCACS,CAFA,IAEA,6BACT,iCACS,CAFA,IAEA,CACT,YACA,CACA,CAEA;AAEA,iDACA,0BACA,YAAuB,mBAAvB,CAA8C,GAA9C,CAA8C,CAC9C,6BACA,yBACA,IADA,CAEA,+CAFA,CAGA,CAEA;AACA,oBACA,CAEA;AACA;AACA,sEACA,kBACA,iFACA,kDACA,uCACA,CACA,CALA,CAMA,CAEA;AACA;AACA,2DACA,0BACA,+BACA,qDADA,CAEA,CAEA,2CACA,cACA,iBACA,0BACA,SACA,qBACA,CAEA,0CACA,6DAEA,qFAEA;AACA,IACA,0CACA,OACW,gBAEX;AACA,IACA,uBACA,gDADA,CAEW,gBACX,CAEA,6BACA,gBAEA,qFAEA,IACA,4CACW,gBAEX;AACA,0CACA,IACA,kCACA,4BACA,kCADA,EAEA,kBACA,uBAA0C,IAA1C,CAA0C,sBAA1C,EAA0C,CAA1C,EACA,CACe,gBACf,CAEA;AACA,yCACA,sBACA,CAEA,mBACA,CAEA;;;;SAMA,eAEA,aAAqB,SAArB,CAAqB,SAArB,CAAqB,QAArB,CAAqB,QAArB,CACA,SADA,CACA,UADA,EAGA,iDAEA,yBACA,oBACA,CAFA,CAIA,sCACA,0EACA,uCACA,CACA,iEACA,mBACA,oBAAsC;AACtC,8BACA,CACA,4CACA,2GACA,yCACA,CACW,CATX,IASW,CACX,wDACA,CACA,CAhBA,CAkBA,qCACA,yBACA,2BACA,CACA,CAJA,CAMA,iCACA,yCACA,CAFA,CAIA,kCACA,0CACA,CAFA,CAIA;AACA,qCACA,uBACA,oDACA,CACA,kCACA,CAEA;;;;OAMA,+BAEA,sBACA,iDACA,sCACA,sEACA,CAEA,gCACA,YACA,uCACA,IADA,CACA,wBADA,CACA,2BADA,EAEA,CACA,cACA,CAXA,CAaA;AACA,yGACA,oCACA,+EACA,0BADA,CACA,CACA,gBACA,CAEA,qBACA,CAPA,CASA,+CACA,sBACA,CAFA,CAIA,qBACC,CAnPD,E;;0NCNA,wIACA,CAAC,gBAED,4BACA,gBAAmB,OAA0B,OAA1B,EACnB,iBADmB,EACnB,OADA,CAEA,eAAkB,OAAyB,MAAzB,EAClB,gBADkB,EAClB,MADA,CAEA,kDACA,GACA,gCACA,8BADA,EAEA,4BAHA,CAIA,CACA,gBACA,CAEA;;;;IAKA,aAEA,iDACA,iBAHA,CAGA;AAEA,4BACA,OANA,CAOA,MAPA,CAQA,OARA,CASA,OATA,CAUA,QAVA,CAWA,cAXA,CAYA,YAZA,CAYA;AACA,aAbA,CAaA;AAEA,0BACA,qBAhBA,CAiBA,4BAjBA,CAiBA;AACA,2CAlBA,CAkBA;AAEA,qBACA,QACA,4DADA,CAEA,4DAFA,CAGA,+BAHA,CArBA,CA2BA,4BACA,uBA5BA,CA6BA,gBA7BA,CA8BA,sCA9BA,CAgCA,yBACA,GAjCA,CAmCA,8EAxDC,CA0DD;;;;;IAMA,qBACA,mCACA,CAEA;;;;;;;IAQA,uBACA,wBACA,cACA,gBACA,iCACA,CACA,cACA,CAEA;;;;;;;;;IAUA,8BACA,4BACA,cACA,mBACA;AACA;AACA,oBACA,gBACA,CACA;AACA,8CACA,6BACA,qCACA,sBACA,CAEA;;;;;;;;;;;;IAaA,4BACA,cACA,SADA,CAEA,oBAFA,CAGA,KAHA,CAIA,KAJA,CAKA,sBACA,mCACA,iDACA;AACA,mCACA,2BAAqC;AACrC,uDACK,CAFL,IAEK,CACL;AACA;AACA,mBACA,UACA,CACI,CAXJ,IAWI,CACJ,mBACA,CACA,CACA,cACA,CAEA;;;;;;;IAQA,2BACA,iCACA,cACA,iBACA,eACA,oDACA,yBACA,CACA,kCACA,cACG,CATH,EASG,IATH,CASG,EATH,EAUA,CAEA;;;;;;;;IASA,iCACA,oBACA,oBACA,CACA,oBACA,oBACA,CACA,oBACA,oBACA,CACA,YACA,CAEA;;;;;;;;;;IAWA,kCACA;AACA;AACA,6CACA,CAEA;;;;IAKA,0CACA,QACA,2CACA,8BACA,4BAA+B,2BAA/B,CAAkE,OAAlE,CAAkE,CAClE,iCACA,CACA,qDACA,CAEA;;;;;;IAOA,uBACA;AACA,cACA,wBADA,CAEA,GAFA,CAGA,GAHA,CAIA,UAJA,CAKA,gBALA,CAMA,KANA,CAOA,CAPA,CAQA,KARA,CASA,IATA,CAUA,CAVA,CAWA,CAXA,CAYA,KAZA,CAaA,CAbA,CAcA,iCACA,UAfA,CAiBA;AACA;AACA;AAEA,mCACA,YACA,QACA,CAEA,QAAa,OAAb,CAAwB,GAAxB,CAAwB,CACxB;AACA,8BACA,mBACA,CACA,iCACA,CAEA;AACA;AAEA,4BAAyC,iBAAzC,EAA8D,0BAE9D;AACA;AACA;AACA;AACA;AACA,uBAAkC,kBAAoB,OAAtD,CAAsD,CAEtD,uBACA,uBACA,CAEA,8CAEA,2CACA,kBACA,CAEA,WACA,wCAEA,YACA,MACA,CAEA,kBACA,+BACA,kBACA,CAEA,cAEA,CAEA,oBACA,+BAEA;AACA;AACA,0BACA,kBACA,CAEA,gBACA,OAEA;AACA,uBAEA,CAEA,0BACA,CAEA;;;;;;IAOA,uBACA,MACA,KADA,CAEA,cAFA,CAGA,WAHA,CAIA,IAJA,CAKA,CALA,CAMA,CANA,CAOA,CAPA,CAQA,CARA,CASA,CATA,CAUA,YAVA,CAWA,SAXA,CAYA,oEACA,WAbA,CAcA,iCACA,qBAfA,CAgBA,UAhBA,CAiBA,OAjBA,CAmBA;AACA,wBAEA;AACA,yBAEA;AACA,WACA,QACA,iBAEA;AACA,QAAa,aAAb,CAA8B,GAA9B,CAA8B,CAC9B,sBACA,sBACA,8CACA,CACA,CAEA,yCAEA;AACA;AAEA;AACA,gBACA,uBACA,CAEA;AACA,kCAEA;AACA;AACA,iBAA0B,aAA1B,CAA2C,GAA3C,CAA2C,CAC3C,sBACA,oCACA,eACA,CACA,CAEA;AACA;AACA,uCACA,oDACA,kBACA,CAEA,mCACA,IAEA,QAAc,aAAd,CAA+B,GAA/B,CAA+B,CAC/B,sBAEA,mCACA,kBACA,CAEA,oBACA;AACA,oBAA8B,kBAAoB,OAAlD,CAAkD,CAClD,wCACA,QACA,MACA,CACA,YACA,kBACA,YACA,wDADA,EAGA,4BACA,CAEA,mDACA,oEACA,QACA,iBACA,CACA,CAEA,QACA,IAEA,CACA,uBACA,CAEA;;;;;;;;;;IAWA,0BACA,wCACA,kCACA,qCADA,CAEA,MAFA,CAGG,CAJH,EAKA,CAEA;;;;;;;;;;IAWA,wBACA,wCACA,kCACA,qBADA,CAEA,MAFA,CAGG,CAJH,EAKA,CAEA,8EA9dC,CAgeD,4BACA,UACA;;;;KAKA,iBANA,CAOA;;;;;;KAOA,QACA,mBADA,CAEA,mBAFA,CAdA,CAkBA,eAlBA,CAmBA,eAnBA,CAoBA,iBApBA,CAqBA,qBArBA,EAwBA,wBAzfC,CA0fD;AACA;AACA,GACE,IADF,CAIA,CACE,gCAAmB,WACrB,gBACG,CAFD,CAEC,IAFD,CAEC,OAFD,CAEC,mBAFD,CAEC,OAFD,CAEC,MAFD,EAEC,yFAFD,EAGA,CARF,IAQQ,EAeP,CAnhBA,EAmhBA,IAnhBA,E,4BADD,E,IAAA,C,IAAA,C,kHAAA,C,0GAAA,E;;sLCAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA,kCACA,sDACA,CAEA,2CACA,aACA,WACA,WAEA,wCACA,WACA,CAEA,iBACA,iBAEA,iBACA,+CACA,wBACA,CAEA,kBACA;AACA,2BACA,YACA,CAEA,YAAiB,KAAjB,CAA0B,GAA1B,CAA0B,CAC1B,kCACA,iBADA,CAEA,IAFA,CAEA,IAFA,CAEA,CAFA,CAEA,CAFA,CAIA,WACA,qBACA,qBACK,CAHL,IAGK,CACL,OACA,QACA,CAEA,2BACA,2BAEA,2BACA,SACK,CAFL,IAEK,qBACL,eACK,CAFA,IAEA,CACL,kBACA,CACA,CAEA,WACA,CAjDA,CAmDA,wCACA,6DACA,CAFA,C;;sLCjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,sDACA,oBACA,aACA,SAEA,cACA,wBAEA,aACA,wBAEA,QACA,SAXA,CAaA,CAdA,CAgBA,yCACA,aA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A,CAKA,qCALA,CAMA,yBANA,CASA,6BACA,wCACA,yDACA,CAEA,oDACA,oBACA,yCACA,uBACA,kEACA,CACG,CAJH,EAMA;AACA;AACA,kEACA,iBAEA,8BACA,mCACA,6BACA,WACA,8CACA,oCACA,sBACA,OACA,CACA,sCACA,sBACA,CACA,4BACA,OACA,CAEA,kBACA,IACA,kCACO,gBACP,yBACA,OACA,CAEA,yDACA,OACA,CACA,2BACA,QACA,MACA,IACA,kCACS,gBACT,qCACA,MACA,CACA,iBACA,mBACA,kBACA,iBACA,0CACA;AACA,6BACA,uDACA,IADA,CACA,OADA,CACA,gBADA,CAEA,IAFA,CAEA,cAFA,CAEA,IAFA,EAGA,CAEA,+CACA,yCADA,CACA,CACA,qEACA,WADA,CACA,QADA,CACA,IADA,CACA,QADA,CACA,IADA,CACA,OADA,CACA,GADA,EAEA,CACA,mEACA,MACA,QACA,iCACA,MACA,QACA,WACA,gBACA,CACA,YACA,MApCA,CAsCA,CA5DA,CA8DA,4CAEA;AACA,6BACA,CAtEA,CAuEA,CArFA,CAuFC,CAxGD,EAwGC,IAxGD,CAwGC,IAxGD,CAwGC,CAAa,MAAb,CAxGD,EA0GC,CA3GiC,CA2GjC,CAAE,YAAF,CAAE,2BAAF,CAAE,eAAF,CAAE,kBAAF,CAAE,mBAAF,CAAE,gBAAF,CAAE,UAAF,CAAE,UAAF,CA3GiC,CAnOoxB,CA8U5qB,oCAC1I,mBACA,aAEA,gDACA,4BADA,CAEA,sBAFA,CAGA,qCAHA,CAMA,6BACA,wCACA,kDACA,CAEA,kCACA,wBAEA,cACA,mBACA,kCAEA,4CACA,aACA,iBACA,mBACA,SACA,IACA,uBACS,UACT,uBACA,CACA,CAEA,gCACA,QACA,CACA,CACA,6BACA,0BACG,CAlBH,EAmBA,CAEA,gCAEA,oCACA,0BACA,gBACA,CAHA,CAKA,wBAEC,CAnDD,EAmDC,IAnDD,CAmDC,IAnDD,CAmDC,CAAa,MAAb,CAnDD,EAqDC,CAtDyI,CAsDzI,CAAE,mBAAF,CAAE,UAAF,CAAE,UAAF,CAAE,aAAF,CAAE,UAA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mCACA,oCAEA;AACA,gEAEA;AACA,wBACA,4BAEA;AACA;AACA;AACA,eACA,+BADA,CAEA,oDAFA,CAGA,oDAHA,EAMA,kDACA,qDACA,CAEA,6BAEA,2BACA,2CACA,CAEA,6CACA;AACA,6BACA,oDACA,CACA;AACA,8BACA,+DACA,CAEA;AACA,sEACA,OACA,CAEA;AACA,kBACA,0DACA,CAlBA,CAoBA,qCACA;AACA;AACA,2BACA,aACA,CACA,wCACA,kFACA,CACA,kCACA,OACA,CACA,yCACA,CAbA,CAeA,oCAEA,oBACA,cACA,iBACA,gBAEA,iDACA,0BACA,cACA,UACA,6CACA,OACA,CAEA;AACA;AACA,6BACA;AACA,oDACA,4CACA,mBACA;AACA,iFACA,wCACA,qDAEA,gBACA,CArBA,CAuBA,qCACA,2CAAgD,SAAhD,CAA2D,kCAA3D,CAA2D,CAC3D,yCACA,uBACA,0BACA,iDACA,uCADA,EAEA,0CAHA,CAGA,CACA,0BACA,oCACA,wDACA,OACA,CACA,CAEA;AACA,mDACA,iFACA,iCAEA,iGACA,4DACA,oCACA,oEACA,6DACA,2DACA,mDACA,6BAEA,OACA,CACA,gDACA,CAhCA,CAkCA,8CACA,2BACA,wCACA,oBACA,wBACA,CAEA,iDACA,CACA,CATA,CAWA,iDACA,+BACA,cACA,mBADA,CAEA,oBAFA,CAGA,OAHA,CAMA;AACA,aACA,QACA,aACA,OACA,QACA,2CACA,kCACA,OAPA,CAUA,YACA,IACA,6BACK,UACL,0BACA,CACA,CAEA,iCACA,+BACA,OACA,CAEA,aACA,QACA,2BACA,4BACA,kCACA,iDACS,CAHT,EAIA,CACA,MACA,QACA,wCACA,uDACA,MACA,QACA,+CACA,wCACA,CACA,MAjBA,CAmBA,CAnDA,CAqDA,uDACA,oDACA,oBACA,qCACA,qBACA,oBACA,CAEA,yEACA,gBACA,OACA,CAEA,yBACA,CAdA,CAgBA,kCACA,6DACA,wCACA,6BACA,uCACA,8BACA,CACA,4BACA,6CACA,sCACA,kCACG,CATH,IASG,CACH;AACA;AACA,wCACA,CACA,CAhBA,CAkBA,uDACA,oEACA,oBAEA,aACA,eACA,iBACA,cACA,CACA,oBACA,wBACA,qBACA,oBACA,CAEA,oCACA,qEACA,CAEA,+BACA,sBACA,8BAEA,cACA,uCACA,CAEA,8BACA,2BACA,kBACA,gBAEA,sBACA,8CACA,sBACG,CAfH,CAeG,IAfH,CAeG,IAfH,EAeG,CAfH,EAgBA,CApCA,CAsCA;AACA;AACA,wCACA;AACA;AACA;AACA;AACA;AACA;AACA,YACA,aAAmB;AACnB,CACA,eAAmB;AACnB,CAXA,CAaA,6CACA,0CACA,0DACA,cACA,CAJA,CAMC,CAnYD,EAmYC,IAnYD,CAmYC,IAnYD,CAmYC,CAAa,MAAb,CAnYD,CAmYwB,uGAnYxB,EAqYC,CAtYG,CAsYH,CAAE,iBAAF,CAAE,iBAAF,CAAE,uBAAF,CAAE,yBAAF,CAAE,sBAAF,CAAE,oBAAF,CAAE,eAAF,CAAE,YAAF,CAAE,oBAAF,CAAE,mBAAF,CAAE,kBAAF,CAAE,gBAAF,CAAE,mBAAF,CAAE,mBAAF,CAAE,sBAAF,CAAE,gBAAF,CAAE,cAAF,CAAE,UAAF,CAAE,aAAF,CAAE,UAAF,CAAE,cAAF,CAtYG,CA9lBkzB,CAo+Brb,qCACjY,oBADiY,CAEjY,mBACA,aAEA;AAEA,mCACA,qCACA,yCACA,qCACA,qCAEA,uCACA,wCACA,gEACA,CAFA,CAGA,kCACA,8CACA,CAFA,CAGA,oCACA,+CACA,CAFA,CAIA,0DACA,IACA,yBAAgC,GAAhC,CAAgC,EAAhC,EACA,YACK,UAAY,iBACjB,aACA,CACC,CAPD,GASA;AACA;AACA,mBACA,wBACA,uEACA,iCAA+C,OAAQ,CACvD,mCACA,iBADA,CAEA,gBAFA,CAGA,aAHA,CAIA,YAJA,GAMA,CARA,CASC,CAVD,IAUC,CACD,uEACA,iCAA+C,OAAQ,CACvD,oBACA,CAHA,CAIA,CACA,uEACA,qBACA,kDACA,kDACA,CACA,CACA,CANA,CAQA,kCACA,YAAoB;AACpB,qDACA,CACA,iBACA,CALA,CAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA,wBACA,WACA,UAAkB;AAClB,IACK,CAFL,IAEK,gCACL,oCACA,CACA,SACA,CAEA,qBACA,aACA,CAEA;AACA;AACA;AACA;AAEA;AACA;AAEA,kBAEA,oCACA,yBAA+B;AAC/B;AACA,gBACA;AACA,wBACA,8EACA,CACA;AACA;AACA;AACA,uCAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAEA,0BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,wBACA,IADA,CAEA,wCAFA,EAIA,4BACA,cACA,CACA,YAEa,CA1Bb,IA0Ba,CACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,oBACA,IADA,CAEA,wCAFA,EAKA,CAEA,CAvDA,CAyDA;AACA;AACA;AACA;AACA;AAEA,sDAEA;AACA;AACA,iBACA,YAAuB,aAAvB,CAAwC,GAAxC,CAAwC,CACxC,sBACA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,kHAA8H,MAA9H,EAEA,qBACA,iCACA,4BACA;AACA,qBACA,CAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA,aACA,CAlIA,GAqIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,wBAAyB,eAAzB,GAGA,4BACA,0DAEA,wDACA;AACA,gCACA,6BACA,WACA,yCACA,iCAA8C,6BAAgC,CACrE,CAFT,EAIA,2BACA,aACA,2CACS,CAHT,CAGS,GAHT,EAIA,CACA,4DACA,CAfA,CAiBA,iCACA,yCACA,0BACA,sDADA,CAEA,kBAFA,CAGA,IAHA,CAIA,sBAJA,CAMA;AACA,qBACA,sBAAkC;AAClC,CAEA,kBACA,cACA;AACA;AACA;AACA,iCACA,CACA,CACA,CArBA,EAsBC,6CAtBD,EAwBA;AACA;AACA;AACA,2EACA,iCACA,iDACA,mEACA,sBADA,CAGA,YACA,SACA,CAEA,QACA,uBACA,0BACA,CAEA;AACA,8BACA,KAAc,QAAd,CAA0B,GAA1B,CAA0B,CAC1B,gCACA,SACA,CACA,CACA,SACA,CAtBA,EAuBC,qBAvBD,EAyBA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,uCACA,GACA,kCACA,gCADA,EAEA,8BAFA,EAGA,kCAHA,EAIA,qBAJA,EAKA,0BANA,CAOA,CACA,YACA,kDAA8D;AAE9D,gDACA,gBACA,kCACA,SACA,CAEA;AACA,kDACA,+CACA,CAEA,cACA,qCACA,0BADA,GAEA,yBAFA,GAEA;AACA,uBAHA,CADA,CAIA;AACA,eALA,CAMA;AACA,UAPA,CAOA,KAPA,CAOA,SAPA,CAOA,UAPA,CAQA,iDACA,WAAyB;AACzB,uBACA;AACA,6DACA,CACA;;;;;;eAOA,qBACA,MADA,CACA;AACA,eAFA,CAGA,oCACA;AACA,sCACA,4BACA,qDACA;AACA;AACA,uCACA,uCACA,YAA2C,oBAA3C,CAAqE,GAArE,CAAqE,CACrE,0BACA,gBACA,CACA,CACyB,CANzB,EAOA,CACA,8CACA,iDACA,CACA,2BACA,wBACA,yBACA,MACA,CACA,CACA,sCACA,sBAA0C;AAC1C,CACA,CACA,kCACA,oCACA,gBACA,CACa,CAJb,IAIa,CACb,yCACA,CACA,wDACA,CAxEA,CAyEK,CA5EL,IA8EA;AACA;AACA;AACA;AACA;AACA;AACC,CA5FD,IA4FC,gCACD,sDACA,kCAAkD,SAAW,CAC7D,+CACA,CAHA,CAIA,CAEA;AACA;AACA;AACA;AACA;AACA,yCACA,0DACA,kCACA,qCACA,0BACA,IADA,CAEA,iDAFA,CAGA,MAHA,EAKA,CAPA,EAQC,oBARD,EAUC,CAtcgY,CAschY,EAtcgY,CAp+Bqb,CA06ClzB,qCACJ,aAEA,gBACA;AACA,gCAFA,CAGA,oCAHA,CAIA,oCAJA,CAKA,kCALA,CAMA,0EAEA;AARA,CASA,+BATA,CAUA,uEAVA,CAWA,kCAXA,CAYA,kCAZA,CAaA,0EAbA,CAcA,oCAdA,EAiBC,CApBG,CAoBH,CAAE,4BAAF,CAAE,yBAAF,CAAE,8BAAF,CAAE,gCAAF,CAAE,0BAAF,CAAE,4BAAF,CAAE,8BAAF,CAAE,4BAAF,CAAE,8BAAF,CApBG,CA16CkzB,CA87CziB,qCAC7Q,0BACA,aAEA,gDACA,4BADA,CAEA,kCAFA,CAGA,mCAHA,CAIA,yBAJA,CAOA,6BACA,wCACA,oDACA,CAEA,oDACA,kBACA,cACA,wBAEA,sBACA,qCACG,CAFH,CAEG,CAFH,EAGA,CAEA,yCAEA,qEACA,cAEA,IACA,mBACG,UACH;AACA,CAEA,cACA,gBACA,uCACA,gBACA,OACA,CAEA;AACA,6CAEA;AACA;AACA,0CACA,wBACA,oBACG,CAHH,EAIA,IACA,+BACA,uCACA,8BACA,8BACA,qBACA,yBACA,qBACA,CAJA,CAKA,CACG,UACH,qBACA;AACA,yBACA,qBACA,OACA,CAEA,iEACA,yBACA;AACA;AAEA,8BACA,CACA,uBACA,6BACA,iDACA,CACA,CAEA,uCACA,aACA,eACA,gBACA,iCACA,qBACA,OACA;AACA;AACA,IACA,gBACA,oBACS,UACT;AACA,CACA,uBACA;AACA,kBACA,WACA,CAEA;AACA,sCACA,eACA,+BACA,CACA,MACA,OACA,gBACA,uBACA;AACA,kBACA,WACA,CACA;AACA;AACA,mCACA,SACA,CAEA,sCACA,0CACA,qBACA,MAtCA,CAwCA,CACA,CA9CA,CAgDA,IACA,uBACG,UACH,yBACA,qBACA,CACA,CA9GA,CAgHA,qDACA,iBACA,cACA,OACA,CACA,0BACA,gCAEA;AACA,yCACA,uBACA,wBACA,CAEA,UACA,IACA,iBACK,UACL;AACA,CACA,CACA,6BACA,CAtBA,CAwBA,6CACA,eACA,oBACA,CAHA,CAKA,gCACA;AACA;AACA,8CACA,8CACA,mCACA,mBACA,IACA,4CACK,UACL,YACA,CACA,CANA,CAOA,sCACA,CAEA,eACA,IACA,mCACC,gBACD;AACA,CAEA,oCAEA,iCAEC,CAnMD,EAmMC,IAnMD,CA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,CAsvE9vB,qCACxD,0BACA,aAEA,iCACA,yCADA,CAEA,mCAFA,CAGA,2CAHA,CAIA,oCAJA,CAOA,6BACA,wCACA,0DACA,CAEA,+BACA,WACA,wBACA,cACA,qCAEA,6BACA,oFAEA,yDACA,mDACA,0BADA,CACA,wBADA,CAGA,sCACA,uBACA,eACA,wBACA,CAJA,CAKA,+BACA,sBACA,0BACA,CARA,CASA,qBACA,cACA,gBACA,uBACA,CAbA,EAeA,4CACA,kBACA,gBACA,yBACG,CAJH,EAKA,CAEA,wCAEA,4CACA,eACA,gBACA,oBACA,CAJA,CAMA,+CACA,kBACA,mBACA,yBACA,oBACA,CACA,4CACA,CAPA,CASA,mDACA,uBACA,+BACA,0BACA,CAJA,CAMA,uCAEA;AACA,8CACA,kBACA,IACA,+DACG,UACH;AACA,CACA,CAEA,qFAEA,gCAEC,CAzFD,EAyFC,IAzFD,CAyFC,IAzFD,CAyFC,CAAa,MAAb,CAzFD,CAyFwB,uGAzFxB,EA2FC,CA5FuD,CA4FvD,CAAE,uBAAF,CAAE,uBAAF,CAAE,oBAAF,CAAE,UAAF,CAAE,UAAF,CAAE,aAAF,CA5FuD,CAtvE8vB,CAk1E1sB,qCAC5G,0BACA,aAEA,wCACA,oCADA,CAEA,sCAFA,CAGA,mCAHA,CAIA,4BAJA,CAKA,2CALA,CAQA,6BACA,wCACA,uDACA,CAEA,4BACA,WACA,cACA,wBAEA,+BAEA,6BACA,wFAEA,yDACA,8BAEA;AACA,qCACA,iBACA,mEACG,CAHH,CAGG,qBAHH,EAIA,CAEA,qCAEA,yCACA,eACA,mCACA,6CACA,cACA,iBACA,CACA,CAPA,CASA,4BACA,sCAEA,iDACA,wBACA,gBAEA,kBACA,OACA,CAEA,SACA,sBACA,0BACA,CACA,kCACA,0BACA,CAdA,CAgBA,6CACA,oBACA,gBACA,mBACA,wCACA,0BACA,CANA,CAQA,4CACA,kBACA,6BACA,iBACA,kDACA,kBACA,CACA,gBACA,uBACA;AACA;AACA,sCACA,yCACA,iCADA,CAEA,iBACA,CACA,sCACA,CAjBA,CAmBA,gDACA,sBACA,cACA,oBACA,OACA,CAEA,sCACA,qBACA,mEACA,CACG,CAJH,CAIG,gCAJH,EAKA,CAZA,CAcA,oDACA,2BACA,cACA,+DACA,YAAc;AAEd,+BACA,eACA,8BACA,uBACA,4CACA,yBACA,gBACA,kEACA,CAHA,CAKA;AACA;AACA,qCACA,8CACA,4CACA,2CACA,qBACA,IACA;AACA,iBACS,UACT;AACA,CACA,CACA,WACA,8EACA,CACA,CACA,CAhBA,CAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEACA;AACA;AACA;AACA,uBACA;AACA,IACA,yBACA,uBACO,UACP;AACA,CACA,kBACK,CATL,IASK,CACL;AACA,6DACA,qDAA0B,SAA1B,CAA0B,mCAA1B,CACA,iCACA,CACA,CACA,sCACA,kBACA,CAEA,yDACA,0CACA,YACA,2CACA,CACA,CA1EA,CA4EA,6BAEC,CAzLD,EAyLC,IAzLD,CAyLC,IAzLD,CAyLC,CAAa,MAAb,CAzLD,CAyLwB,uGAzLxB,EA2LC,CA5L2G,CA4L3G,CAAE,wBAAF,CAAE,uBAAF,CAAE,uBAAF,CAAE,oBAAF,CAAE,UAAF,CAAE,UAAF,CAAE,aAAF,CA5L2G,CAl1E0sB,CA8gFjrB,qCACrI,mBACA,aAEA,iCACA,2CADA,CAIA,6BACA,wCACA,qDACA,CAEA,qCACA,WACA,wBACA,cAEA,sBAEA,wCACA,kDACA,4CACA,4BACA,gCACA,aACA,8CACA,sBACA,+BACA,gBACG,CARH,EASA,CAEA,mCAEA,0DACA,8BACA,wBACA,OACA,CAEA,gBAAsB,0BAAtB,CAAsB,CACtB,wCACA,sBACA,aACA,MACA,CACA,yBACA,QACA,qBACA,yBACA,CACA,CACA,CAlBA,CAoBA,0CACA,kBACA,0BACA,CAHA,CAKA,uCACA,eACA,YACA,gBACA,eACA,+BACA,aACA,CACA,gBACA,CATA,CAWA,2BAEC,CAxED,EAwEC,IAxED,CAwEC,IAxED,CAwEC,CAAa,MAAb,CAxED,EA0EC,CA3EoI,CA2EpI,CAAE,UAAF,CAAE,UAAF,CAAE,aAAF,CA3EoI,CA9gFirB,CAylF/wB,qCACvC,0BACA,aAEA,yCACA,mCADA,CAIA,6BACA,wCACA,qDACA,CAEA,cAEA,0BACA,yBACA,IACA;AACA,+DACG,UACH,mDACA,eACA,cACA,CACA,CAEA,sBACA,oBACA,2CACA,0BACA,+BACA,mBACA,iDACA,2BAEA,+CACA,cACA,uBAEA,uCACA,CAEA,8CACA,mBACA,UACA,aACA,CACA,4BACA,eACA,2EAEA,4BACA,aACA,4BACA,yBAEA,IACA,mBACG,UACH;AACA,CACA,cAEA,sCACA,0BACA,oBACA,OACA,CACA,4DACA;AACA;AACA,sBACA,wBACA,sCACA,YACK,CAJL,CAIK,GAJL,EAKA,cACA;AACA;AACA,cACA,CAjBA,CAkBA,0BACA,oBACA,YACA,CAHA,CAIA,yBACA,mBACA,YACA,CAHA,CAIA,sCACA,mDACA,mCACA,YACA,CACA,CALA,CAMA,kBACA,oBACA,gCACA,CAHA,CAIA,CAzDA,CA2DC,CArGD,EAqGC,IArGD,CAqGC,IArGD,CAqGC,CAAa,MAAb,CArGD,CAqGwB,uGArGxB,EAuGC,CAxGsC,CAwGtC,CAAE,uBAAF,CAAE,oBAAF,CAAE,UAAF,CAxGsC,CAzlF+wB,CAisF3vB,qCAC3D,0BACA,aAEA,gDACA,4BADA,CAEA,uCAFA,CAGA,sCAHA,CAIA,mCAJA,CAOA,6BACA,wCACA,mDACA,CAEA;AACA;AACA;AAEA,uCACA,kBACA,cACA,wBAEA,sBACA,gCACG,CAFH,CAEG,CAFH,EAGA,CAEA,iCAEA,wDACA,gBACA,cACA,oCACA;AACA,6CAEA,uBACA,iBACA,cACA,CAHA,CAIA,yBACA,mBACA,cACA,CAHA,CAIA,0BACA,mCACA,wCACA,CAHA,CAIA,sBACA,cACA,yCACA,qBACA,CAJA,CAKA,aACA,+CACA,oBACG,CAFH,EAGA,IACA;AACA,0BACA,iBACA,8BACA,CACA,uBACG,UACH,cACA,CACA,CAtCA,CAwCA,sCACA,yBACA,qBACA,CAHA,CAKA,6CACA,uBACA,cACA,OACA,CACA,0BACA,qCAEA,6EACA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,wBACA,YACA,CAEA,yBACA,uBACA,gBACA,0CACA,CACA,WACA,CAlCA,CAoCA,kCACA,oBACA,qBACA,CACA,CAxCA,CA0CA,yDACA,yBACA,gBACA,qBACA,CACA,CA/CA,EAkDA,+CACA,gBACA,OACA,CACA,iBACA,wCACA,CANA,CAQA;AACA;AACA,yBACA,qDACA,CAEC,CA3ED,EA2EC,IA3ED,CA2EC,IA3ED,CA2EC,uGA3ED,EA6EC,CA9Ea,CA8Eb,CAAE,aAAF,CA9Ea,CAzsGwyB,CAuxGryB,qCACjB,0BACA,aAEA,kCACA,sBADA,CAEA,4BAFA,CAKA,6BACA,wCACA,qDACA,CAEA,gBACA,aADA,CAEA,oBAFA,CAIA,yDACA,wCACA,kCACA,CACA,CARA,CAUA,4CACA,2BACA,2CACA,uCADA,CAEA,SAFA,CAGA,aAHA,GAIO,GAJP,EAKK,CANL,IAMK,CACL,yDACA,CACA,CApBA,CAsBA,4DACA,mDACA,mBACA,iCACA,kBACA,mBACA;AACA,IACA,mBACO,UACP;AACA,CACA,oBACA,CAVA,CAWA,+BACA,iBACA,WACA,WACA;AACA;AACA;AACA,sBACA,WACA,sCACA,CACA,YACS,CALT,CAKS,CALT,EAMA,gCACA,CACA,CAfA,CAgBA,kCACA,qBACA,WACA,UACA,mBACA,CACA,CANA,CAOA,mCACA,yBACA,sBACA,IACA;AACA;AACA,iCACA,6CACA,CACS,UACT;AACA,CACO,CAVP,CAUO,CAVP,EAWA,CAbA,CAeA,qBACA,4BACA,iCACA,0BACA,mBACA,CAFA,CAGA,yBACA,gBACA;AACA;AACA,mBACA,2BACA,0BACO,CAFP,CAEO,IAFP,EAGA,CARA,CASA,yCACA,2BACA,mBACK,CAFL,CAEK,KAFL,EAGA,wCACA,OACA,SADA,CAEA,eAFA,CAGA,eAHA,EAKA,CAEA,4CArGA,CAsGA,gEACA,8CACA,oCACA,mBACA,WACA,iCACA,mBACA,oBACA,CAHA,CAIA,+BACA,QACA,WACA,gCACA,sCACA,gBACA,iBACA,CACA,CARA,CASA,gCACA,mBACA,QACA,UACA,iBACA,CACA,CANA,CAOA,mCACA,IACA;AACA;AACA,sBACA,iCACA,6CACA,CACS,CAJT,CAIS,CAJT,EAKO,UACP;AACA,CACA,CAZA,CAcA,WACA,8BACA,mBADA,CACA,sBADA,CACA,IADA,CAEA,KAFA,CAEA,eAFA,EAGA,YACA,wEACA,+BACA,wBACA,mCACA,sBACA,qBACA,0BACA,mBACA,CAFA,CAGA,2BACA,mBACK,CAFL,CAEK,KAFL,EAGA,wCACA,OACA,SADA,CAEA,eAFA,CAGA,eAHA,EAKA,CApKA,EAuKA,mCACA,oBACA;AACA;AACA,sEACA,uCADA,GACA,sBADA,CAEA,CAEC,CA5LD,EA4LC,IA5LD,CA4LC,IA5LD,CA4LC,CAAa,MAAb,CA5LD,CA4LwB,uGA5LxB,EA8LC,CA/LgB,CA+LhB,CAAE,cAAF,CAAE,YAAF,CAAE,UAAF,CAAE,UAAF,CA/LgB,CAvxGqyB,CAs9GjwB,qCACrD,kBACA,aAEA,iBACA,+CACA,gBAEA,IACA,+EACG,UACH;AACA,CAEA,wCACA,6DACG,CAFH,CAEG,yBAAoC,CAApC,CAAoC,aAFvC,CAGC,CAZD,EAcA,yBAEC,CApBD,EAoBC,IApBD,CAoBC,IApBD,CAoBC,uGApBD,EAsBC,CAvBoD,CAuBpD,EAvBoD,CAt9GiwB,CA6+GlzB,qCACJ,aAEA,gBACA,gCACA,uBACA,iDACA,CAJA,CAMA,4BACA,wBACA,WACA,CACA,gBACA,oCAA8C,QAA9C,CAA0D,GAA1D,CAA0D,CAC1D,oBACA,oBACA,sDACA,uBACA,CACA,CACA,CACA,WACA,CApBA,EAuBC,CA1BG,CA0BH,EA1BG,CA7+GkzB,CAugHlzB,qCACJ,aAEA,wBACA,6BAEA;AACA;AACA,0DACA,gBACA,+BACA,kCACA,qCACA,WACA,YAAmB,QAAnB,CAA+B,GAA/B,CAA+B,CAC/B,oDACA,CACA,oBACA,CATA,CAWA,4BACA,qCACA,CAbA,CAeA,wCACA,0BACA,+BACA,qCACA,CAnBA,EAsBC,CA/BG,CA+BH,CAAE,WAAF,CA/BG,CAvgHkzB,CAsiHvyB,qCACf,mBACA,aAEA,6BACA,wCACA,wDACA,CAEA,6CACA,OACA,mEACA,gBACA,OADA,CAEA,SAFA,EAIA,yBACA,uBACO,CAFP,IAEO,2CACP,0CACA,CAEA,4CACA,WACA,OACA,CAEA,8DACA,0CACA,OACA,CAEA,+BACA,qDADA,CACA,CACA,8CACA,OACA,CAEA,wBACA,qCACA,4BACA,0BACA,8CACA,CACS,CANT,IAMS,CACT,sCACA,CACO,CAzBP,EA0BA,kBACA,CAvCA,EAyCA,CA1CA,CA4CC,CApDD,EAoDC,IApDD,CAoDC,IApDD,CAoDC,CAAa,MAAb,CApDD,EAsDC,CAvDc,CAuDd,CAAE,UAAF,CAvDc,CAtiHuyB,CA6lHxyB,qCACd,mBACA,aAEA,6BAEA,6BACA,wCACA,kDACA,CAEA,gBACA,kCACA,SACA,YACA,CAEA,mBACA,yBACA,YACA,CAEA,gBACA,UACA,sCACA,CAEA,2CACA,CAjBA,CAmBA,0CACA,8CACA,sBACA,WACA,CAvBA,CAyBA,0CACA,yCACA,CA3BA,CA6BA,mCACA,sBACA,uCACA,CAhCA,CAkCA,kCACA,+CACA,CApCA,EAuCC,CAjDD,EAiDC,IAjDD,CAiDC,IAjDD,CAiDC,CAAa,MAAb,CAjDD,EAmDC,CApDa,CAoDb,CAAE,UAAF,CAAE,cAAF,CApDa,CA7lHwyB,CAipHzxB,qCAC7B,uBAEC,CAH4B,CAG5B,EAH4B,CAjpHyxB,CAopHlzB,qCACJ;;GAIA,WACA,WACA,WACA,WACA,UACA,eAEA;;;;;;;;;;;;GAcA,qCACA,oBACA,uBACA,kCACA,kBACG,CAFH,IAEG,yCACH,kDACA,CACA,gBACA,wDACA,mBAFA,EAIA,CAZA,CAcA;;;;;;GAQA,oBACA,gBACA,mBACA,OACA,CACA,sJACA,GADA,EAGA,WACA,OACA,CACA,2BACA,wCACA,aACA,YACA,WACA,UACA,SACA,QACA,WACA,YACA,WACA,QACA,WACA,WACA,UACA,QACA,WACA,YACA,WACA,UACA,SACA,QACA,WACA,cACA,aACA,WACA,UACA,QACA,WACA,cACA,aACA,WACA,UACA,QACA,WACA,mBACA,kBACA,YACA,WACA,SACA,SACA,QACA,iBAxCA,CA0CA,CAEA;;;;;;GAQA,sBACA,uBACA,aACA,4BACA,CACA,aACA,4BACA,CACA,aACA,4BACA,CACA,aACA,4BACA,CACA,eACA,CAEA;;;;;;GAQA,qBACA,uBACA,aACA,gCACA,CACA,aACA,iCACA,CACA,aACA,mCACA,CACA,aACA,mCACA,CACA,gBACA,CAEA;;GAIA,iCACA,0BACA,mDACA,CAEC,CApKG,CAoKH,EApKG,CAppHkzB,CAwzHlzB,qCACJ,mBACA,aAEA,sBAAuB,qEAA2E,8BAAkC,qBAAmB,CAArD,CAA0D,CAArI,IAAqI,CAAO,8BAAkC,gHAA8H,CAAhK,CAAqK,qBAAqB,CAE7V,wBALA,CAOA;;GAGA,gBACA,8BACA,kBACA,kBACA,4BACA,+BACA;;GAIA,ywBACA;;;;;;GArBA,CA4BA;AAEA,qBACA;AACA;AACA;AACA,2GACA,YACG;AAGH,0HACA,aACG;AACH;AAGA;AACA,qHADA,EACA;AACA;AACA,0IAHA,EAGA;AACA,kHAJA,CAKA,CACA;;;;GAOA,0BACA,qJAEA,oBACA,OACA,CAEA,2BACA,oCAAyC;AACzC;AACA;AAEA,YACA,YACA,8CACA,iBACA,OACA,CAEA,QAEA,iBACA;AACA;AACA,YACA,CACG,CAZH,EAaA,uBACA,CACA;;;;;GAQA,eACA,aAEA;AACA;AACA,4IACA,CACA;;;;;GAQA,0BACA,IACA,eACA,4CACK,CAFL,IAEK,CACL,oCACA,CACG,cAAgB;AACnB;AACA,CACA,CACA;;;;;GAQA,gBACA,MAEA,IACA,mCACG,cAAiB;AACpB;AACA;AAGA,sDACA,oBACA,CAEA,SACA,CACA;;;;;;;;;GAYA,wBACA,IACA;AACA;AACA,oBACG,cAAgB;AACnB;AACA,CACA,CAEA,4CACA,yCACA;;GAIA,yBACA,IACA,yBACG,cACH,mDACA,CACA,CANA,CASC,CAtLD,EAsLC,IAtLD,CAsLC,IAtLD,CAsLC,CAAa,MAAb,CAtLD,EAwLC,CAzLG,CAyLH,CAAE,aAAF,CAzLG,CAxzHkzB,CAi/HryB,qCACjB,aAEA;;;GAIA,oBACA,8BACA,mCACA,0BACA,4BACA,0BACA,4BACA,mCACA,uCACA,0BACG,CAFH,EAGA;;IAIA,yBACA;;IAIA,qBACA,qBACA;;;;IAMA,0BACA;;;;;IAOA,gCACA,WAEA,YAAmB,kBAAnB,CAAyC,GAAzC,CAAyC,CACzC,4CACA,QAAgB;AAChB,CAEA,oEACA,CAEA,oCACA;;;;;;IAQA,gCACA,aAEA,iBACA,0DAAyE,SAAzE,CAAsF,MAAtF,CAAsF,CACtF,2BACA,CAEA;AACA,mBACA,OACA,CAEA,eAAuB;AAEvB,4BACA,6BACA,aACA,mBACA,eACA,cACA,oCAEA,8BACA;AACA,mBACO;AAGP,YACA,+DACA;AACA,iBACA,aACA,CAEA,QACA,6CAEA,kCACA,oBACA,+BAA4C;AAE5C,qBACA,QACA,CAEA,aACO,CAlBP,EAkBS;AAET,uCACA,oCACA,uBACA,CAEA,0BACA,6CACA,wCACA,mCACA,sBACA,oBAA0B;AAC1B;AACA;AAEA,yCACA,wBACA,CAEA,kCACA,aACA,CAEA,mBACA,8CAEA,eACA,sCACA,YACA,CAEA,aACA,CAEA,qCACA,4FACA,CACA;;;;;;IASA,4BACA,6BACA,qBACA,qBACA,MACA,uEACA,qBAEA,QAAe,KAAf,CAAwB,GAAxB,CAAwB,CACxB,cACA;AACA,SACA,CAEA,yCAEA,wBACA,iEACO,CAFP,IAEO,CACP,uDACA,CACA,CAEA,QAAe,8BAAf,CAAiD,GAAjD,CAAiD,CACjD,sCACA,yDACA,CACA,CACA;;;;IAOA,mBACA,uBACA,CACA;;;;;;IASA,uBACA,8BACA,YACA,CAEA,MACA,QAEA,qCAA+C,KAA/C,CAAwD,GAAxD,CAAwD,CACxD,oCACA,aACA,CACA,CAEA,qCAA+C,KAA/C,CAAwD,GAAxD,CAAwD,CACxD,oCACA,YACA,CACA,CAEA,aACA,CACA;;;;;;IASA,qBACA,yBACA,8BACA,CAEA,WACA,CAEA,uCACA,mBACA,CAEA,qBAGC,CA3PgB,CA2PhB,CAAE,OAAF,CA3PgB,CAj/HqyB,CA4uI3yB,qCACX,sCACA;AACA,iDACA,sBACA,kDACA,aACA,UADA,CAEA,gBAFA,CAGA,aAHA,CAIA,iBAJA,CADA,GAQA,CAVA,CAWC,CAbD,IAaC,CACD;AACA,iDACA,sBACA,mCACA,uCACA,8BACA,gCACA,CANA,CAOA,CAEC,CAzBU,CAyBV,EAzBU,CA5uI2yB,CAqwIlzB,qCACJ,kBACA,sHACA,CAAC,YACD;AACA;AACA,oDAEA;AACA,iBACA,eADA,CAEA,aAFA,EAKA;AACA,oFAEA;AACA;AACA;AACA;AACA,6FACA,mHADA,CAGA,wHACA,gBACA,CAEA;AACA;AACA,uCACA,oCACA,oCAEA;AACA,6CACA,wCADA,CAEA,wCAFA,CAGA,kCAHA,CAIA,uDAJA,CAKA,iDALA,CAMA,kCANA,CAOA,wCAPA,CASA;AACA,+CACA,uCACA,+BACA,CAEA;AACA,iCACA,6BADA,CAEA,WAFA,CAEA,QAFA,CAEA,KAFA,CAIA;AACA,2CACA,IACA;AACA;AACA,4GACA;AACA;AACA;AACA,4BAJA,EAIA,8BAJA,EAIA,6BAJA,EAIA,oCAJA,CAKK,mBAEL;AACA;AACA,mBACA,sBACA;AACA,iBACA,CACA,gBACA,kCACA;AACA;AACA,wBACO,CAJP,IAIO,kBACP;AACA;AACA,qDACO,CAJA,IAIA,CACP,8EACA;AACA,2BACA,4FACA,uBACA;AACA,wBACA,SACa,CAFb,EAEa,MAFb,CAEa,KAFb,CAGA,IACA,mBACA;AACA;AACA,oBACA;AACA;AACA,6BAHA,EAIA,6BAJA,EAKA;AACA;AACA;AACA;AACA,2BATA,EAUA;AACA;AACA,wBAZA,EAaA;AACA;AACA,mBAfA,EAgBA;AACA;AACA;AACA;AACA;AACA,sBArBA,EAsBA,yBAtBA,EAuBA;AACA;AACA,4BAzBA,EA0BA;AACA,uBA3BA,EA4BA;AACA;AACA;AACA;AACA,oDAhCA,EAiCA;AACA;AACA,WAA2B,4CAA3B,IAA+E,UAnC/E,EAoCA;AACA,2BArCA,EAsCA,wCAtCA,EAuCA;AACA;AACA,8DAzCA,EA0CA;AACA,6DA3CA,EA4CA;AACA;AACA,kEA9CA,EA+CA;AACA;AACA,qDApDA,CAqDa,kBACb,yBACA,CACA,CACA,+BACA,CACA;AACA,uBACA,wBACA,6BACA,IACA;AACA;AACA;AACA,kCACA;AACA,wBACA,2DACA,mBACA,IACA;AACA,8BACmB,mBACnB,mBACA,IACA;AACA;AACA;AACA,+BACqB,mBACrB,CACA,mBACA,IACA;AACA;AACA;AACA,+BACqB,mBACrB,CACA,CACA,CACa,kBACb,qBACA,CACA,CACA,2BACA,CACA,CACA,+BACA,CAEA,iBACA;AACA,sCACA,yBADA,CAEA,6BAFA,CAGA,6BAHA,CAIA,2BAJA,CAKA,+BALA,CAOA;AACA,gDAEA;AACA,gBACA,qBACA;AACA;AACA,wDACA;AACA;AACA,uCACA,uIACA,CAFA,CAGA,CAEA;AACA;AACA,8CACA,0CACA,eAA0B,WAA1B,CACA,8CACA;AACA;AACA,YAHA,EAIW,OAJX,EAIW,QAJX,EAIW,QAJX,CAIW,CACX;AACA;AACA,0CACA;AACA;AACA;AACA,yEACA;AACA,wBACA,cACA,CARA,CASW,CAhBX,IAgBW,CACX;AACA,gCACA;AACA;AACA,0CACA,qDACA,kFACA,CAHA,CAIA,CACA,aACA,uCACA,CA9BA,CA+BA,CAEA;AACA;AACA,2CACA,uCAEA;AACA;AACA;AACA,kCACA,eACS,CAFT,EAES,SAFT,CAES,OAFT,CAES,CAFT,CAIA;AACA,yBACA,yBACA;AACA,uCACA,OACA,CACA,CACA,wBAEA;AACA,UACA;AACA,sHACA;AACA;AACA,2CACA,oEACA,qJACA,wBACA;AACA;AACA,4EACA,mBACA,CACA,CACA;AACA,0BAAyC,0BAAzC,CAAuE,qDAAvE,EAAuE,CAAvE,CACA,CAZA,CAaS,CAlBT,IAkBS,aACT;AACA,2CACA;AACA,eAA4B,+CAA5B,CAA4B,QAA5B,CACA,wBACA;AACA;AACA;AACA,wIACA,mBACA,CACA,CACA,CAXA,CAYS,CAdA,IAcA,CACT;AACA,2CACA,2EACA,wBACA,uHACA,mBACA,CACA,CACA;AACA;AACA,mEACA,mBACA,CACA,CAZA,CAaA,CACA,iCACA,CAtEA,CAwEA;AACA;AACA;AACA;AACA;AACA;AACA,2BACA;AACA,aACA,SADA,CAEA,QAFA,CAGA,OAHA,CAIA,QAJA,CAKA,QALA,CAMA,QANA,CAOA,OAPA,EAUA;AACA;AACA,2BACA,wDACA;AACA;AACA,+CACA,CAJA,CAMA;AACA;AACA;AACA;AACA,0BACA,gCACA,mFACA,iEACA,KAAgB,YAAhB,CAAgC,OAAhC,CAAgC,CAChC,qCACA;AACA;AACA,iBACA,sDACA,0BACA,MACA,QACA,gBACA,8DACA,MACA,CACA,wDATA,CAWA,CACA,kBACA,CApBA,CAsBA;AACA;AACA,mGACA,uHACA,IACA;AACA,uBACW,mBACX,qCACA,+BACA,4DACA,0BACA;AACA;AACA;AACA,WACA;AACA;AACA;AACA,wBACA,qCAAgE,sBAAhE,CAA6F,MAA7F,EAA6F,CAA7F,CACA,6CAAuE,0BAAvE,CAAwG,OAAxG,EAAwG,CAAxG,CACA,+BACA;AACA;AACA;AACA;AACA,+BACA;AACA;AACA,0BACA,2BACA,2BACA,sBACiB,CAnBjB,IAmBiB,CACjB,4BACA,0BACA,wBACA,0BACA,8BACA,8BACA,wCACA,CACA;AACA,uGACA,GADA,CACA,yBADA,CACA,GADA,CACA,sBADA,CAEA;AACA;AACA,GAJA,CAIA,uBAJA,CAIA,GAJA,CAIA,yBAJA,CAIA,GAJA,CAIA,yBAJA,CAKA;AACA,GANA,CAMA,8BANA,CAMA,GANA,CAOe,CAxCf,IAwCe,CACf,WACA,CACa,CA5Cb,IA4Ca,gJACb;AACA;AACA;AACA;AACA,6BACA,CACA,CACA,aACA;AACA;AACA,2CACA,CACA,iBACA,aACA,CACA,+BACA,4BACA;AACA,eACW,CAHX,IAGW,4BACX;AACA;AACA,6CACW,CAJA,IAIA,4BACX;AACA,uBACA,CACA;AACA,8BACA;AACA;AACA,wBAAuC,QAAvC,EAAiD,CACjD,0BACA;AACA,kBACA,CACA,CACA;AACA,kBACA,WACA;AACA,mBACA,wBACA,0BACA;AACA,gCAAoD,YAApD,CAAoE,OAApE,CAAoE,CACpE,gFACA,6CACA,CACA,kIACa,CAPb,IAOa,CACb;AACA;AACA;AACA,8CACA,uFACA,oBACA;AACA;AACA;AACA;AACA;AACA;AACA,8DACA,CACe,CAXf,EAYA,uCAAwD,WAAxD,CAAwD,+BAAxD,CAAwD,IAAxD,CAAwD,MAAxD,CAAwD,GAAxD,CAAkI,IAAO,iBAAP,CAAO,GAAzI,CAAmK,IAAnK,CACA,CACA;AACA,YACA,cACA,CACA,CA7HA,CA+HA;AACA,gDACA,6CACA,0CACA,qDACA,gBACa,CAFb,IAEa,2BACb;AACA,cACA,2CAAgE,YAAhE,CAAgF,4HAAhF,EAAgF,CAAhF,CACA,CACA,CACA,UACA,kDACA;AACA;AACA,uBACA,uCAAiE,uBAAjE,CAA4F,eAA5F,EAA4F,CAA5F,CACA,CACa,CANb,IAMa,4BACb,oDACA,CACA,CACA;AACA;AACA;AACA,8BAA0C,gBAA1C,CAA0C,KAA1C,EAA0C,QAA1C,CAA0C,UAA1C,CAA0C,UAA1C,CAA0C,EAA1C,CAA0C,EAA1C,EACA,CA1BA,CA2BA,CAEA;AACA,uBACA,qCAEA;AACA;AACA,eACA,OADA,CAEA,MAFA,CAGA,MAHA,CAIA,OAJA,CAKA,QALA,CAMA,QANA,CAOA,QAPA,CAQA,QARA,EAWA;AACA,iBAEA;AACA,2BACA,kBACA,oBACA,CAHA,CAKA;AACA;AACA;AACA,uBACA,8EACA,oBACA,kCACA,iBACA,+BACA;AACA;AACA,QACA,MACA,kDACA;AACA;AACA,wDACA,QACA,aACA,QACA;AACA;AACA;AACA;AACA,sBAA0C,YAA1C,EAA0D,CAC1D,kCACA,gBACA;AACA;AACA,QACmB,CAJnB,IAImB,kBACnB;AACA;AACA;AACA,oCACA,iBACA,oEACA;AACA,2BACA,QACA,MACA,SACA;AACA;AACA;AACA,cACA,qBAAkD,cAAlD,CAAoE,OAApE,CAAoE,CACpE,kCACA;AACA;AACA,2FACA;AACA,QACA,CACA,CACA;AACA,oDACA,MACA,QACA;AACA,QAzBA,CA2BmB,CAhCA,IAgCA,CACnB,iBACA;AACA;AACA,MACA,CACA,kCACA,YACA;AACA,gDACA,oCACA,CACA;AACA,iCACA,CACA,CACA,iCACA;AACA,QACA,aACA,CACA;AACA,QACA,QACA;AACA,YACA;AACA,iBACA,cACA,oCACA,CACA;AACA,+BACA;AACA,mFACA;AACA,QACA,CACA,eACA;AACA,KAAwB,4EAAxB,CAAqH,OAArH,EAAqH,CAArH,CACA;AACA;AACA,iCACA,iBACA;AACA,KAA0B,kFAA1B,CAA6H,UAA7H,EAA6H,CAA7H,CACA,oBACA;AACA,QACA,CACA,eACA,CACA;AACA;AACA,kCACA,gCACA,oCACA;AACA;AACA,+BACA,QACA,CACA;AACA,mBAA0C,kFAA1C,CAA6I,UAA7I,EAA6I,CAA7I,CACA,oBACA;AACA,QACA,CACA,eACA,CACA;AACA,iCACA,CACA;AACA,aACA,QACA,CACA;AACA,wCACA,SACA,YACiB,CAHjB,IAGiB,0CACjB,SACA,aACiB,CAHA,IAGA,yCACjB,SACA,YACA,CACA;AACA,QAjJA,CAmJA,CACA;AACA;AACA,UACA,CA3JA,CA6JA;AACA,4BACA,uBACA,eACA;AACA,QACA,CACA,2BACA,mDACA;AACA,sBACA,CACA;AACA,eACA;AACA,WACA,MAAqB,6BAArB,CAAqB,CACrB,YACA;AACA,eACA,MACA,CACA;AACA;AACA;AACA,eACA,eACA,YACA,eACA;AACA,QACA,CACmB,CANnB,IAMmB,CACnB;AACA,QACA,CACA,CACA;AACA,eACA,QACA,CACA,yBACA,CACA,eACa,CA/Bb,IA+Ba,eAAqB,CAClC;AACA,WACA,MAAqB,6BAArB,CAAqB,CACrB,YACA;AACA,cAA+B,CAC/B,MACA,CACA;AACA;AACA,eACA,eACA,YACA,cAAmC,CACnC;AACA,QACA,CACmB,CANnB,IAMmB,CACnB;AACA,QACA,CACA,CACA;AACA;AACA;AACA,mGACA,QACA,CACA,mCACA,CACA,eACA,CACA;AACA,QACA,CACA,aACA,CAhFA,CAkFA;AACA,qDACA,2CACA,oBACA,wBACW,CAFX,IAEW,CACX,yBACA,CACA,CAPA,CASA;AACA;AACA;AACA,iDACA,kCACA,qCACA;AACA;AACA;AACA,qCACA,wBAAyC,QAAzC,EAAmD,CACnD,8BACA,CACa,CAJb,IAIa,CACb,kCACA,gCACe,CAFf,EAGA,CACA,CACA,4CACA,CAjBA,CAmBA;AACA,wCACA,iBACA,QACA,iBACA,kBACA;AACA,eACA,QACA,CACA;AACA,kBACA,uEAAwF,gBAAxF,CAAwF,KAAxF,EAAwF,EAAxF,CAAwF,QAAxF,EAAwF,MAAxF,CACA,CAZA,CAaA,CACA,CAEA,qCACA,eACA,CAEA,2BACA;AACA,+BACG,CAHH,IAGG,CACH;AACA,yBACA,0BADA,CAEA,gBAFA,CAIA,2CACA;AACA;AACA,mCACA,gBACA,gBACA,qBACA,2BACA,6BACA,CACA,aACA,CAXA,GAcA,WACA,mBADA,CAEA,2BAFA,EAIA,CAEA;AACA,aACA,kBACA,aACK,CAFL,EAGA,CACC,CAp4BA,EAo4BA,IAp4BA,CAo4BA,IAp4BA,EAs4BA,CAx4BD,EAw4BC,IAx4BD,CAw4BC,IAx4BD,CAw4BC,uGAx4BD,EA04BC,CA34BG,CA24BH,EA34BG,CArwIkzB,CAgpKlzB,qCACJ,aAEA,wCAEA;;;;;;GAOA,uBACA,oDACA,CAEA;;;;;;GAOA,4BACA,iCACA,SADA,CAEA,IAFA,CAIA,+BACA,wBACA,qBADA,CAGA;AACA;AACA;AACA;AACA;AACA,0BACA,kBACA,CAEA,cACA,CAEA;;;;;;;GAQA,oCACA,kBAEA,aAEA;AACA;AACA;AACA,uCAEA,oBACA,sBACA,qEACA,CACA,CAEA,8CACA,CAEA;AACA;AACA;AACA,iCACA,0BAEC,CA7EG,CA6EH,EA7EG,CAhpKkzB,CA6tKlzB,qCACJ,aAEA;;;;;;;;GASA,gDACA,gCACA,WAEA,sBAEA,iBACA,WACA,SACA,iBAEA,YACA,UACA,kBAEA,UACA,iBAEA,aACA,iBAEA,WACA,aAhBA,CAmBA,gBACA,CA1BA,CA4BC,CAxCG,CAwCH,EAxCG,CA7tKkzB,CAqwKlzB,qCACJ,kBACA,aAEA,sCACA,4BADA,CAEA,oDAFA,CAGA,uCAHA,CAKA;;;;;;;;;;;GAYA,WACA,YADA,CACA;AACA,aAFA,CAEA;AACA,2BAA8B;AAC9B,iCACG,CALH,CAMA,gBANA,CAMA;AACA,cAPA,CAOA;AACA,0BARA,CAQA;AACA,8BATA,CASA;AACA;AAVA,EAaA;;;;;;;GAQA,YAAc,MAAd,CAAc,OAAd,EAEA;;;;;;;;;;;GAYA,wBACA,yCACA,kBAEA,wBACA,kBADA,CAEA,GAFA,CAIA,2BACA,oDACG,CAFH,IAEG,qBACH,iCACA,iDACG,CAHA,IAGA,qBACH,gBACA,0BACA,+BACA,CAEA,yCACA,gDACA,CACA,CAEA,wBACA,CAEA;;;;;;GAlFA,CA0FA;;;;;;GAOA,kCACA,mCAEA,OACA,2CADA,CAEA,kBAFA,CAGA,aAHA,EAKA,CAEA;;;;;;;GAQA,gCACA,wEACA,aADA,CAEA,cAFA,CAGA,aAHA,CAIA,IAJA,CAMA,WACA,kBACA,iBACK,CAFL,IAEK,oBACL,iBACA,KACK,CAHA,IAGA,QACL,sBACA,iBACA,KACA,CACA,CAEA,4BACA,yCAEA,sBACA,CAEA;;;;;;;;;;;;;GAcA,sCACA,2BACA,wCACA,CAEA,mDACA,0BADA,CAEA,uBAFA,CAGA,QAHA,CAIA,GAJA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCACA,gBACA,cACA,CAEA,sDAEA,6BAEA;AACA;AACA;AACA,uCACA,iDACA,0DACA,uDACA,uBAEA;AACA;AACA;AACA;AACA,0DAEA,KAAQ,qBAAR,CAAiC,GAAjC,CAAiC,CACjC,4BAEA,oCACA,6BACA,SACA,CAEA,qBACA,mBAEA,kBACA,iBACK,CAFL,IAEK,6BACL,oCACA,qCACA,gCACA,4CACS,CAHT,IAGS,CACT,8BACA,+BACA,CACA,CACK,CAVA,IAUA,+BACL,kBACA,qCACA,CAEA,oBACA,6CADA,EAIA;AACA;AACA;AACA;AACA,kDACA,CAEA;AACA;AACA;AACA;AACA;AACA,sCAEA;AACA;AACA;AACA,GACA,UACA,gBADA,EAEA,4BAFA,GAGA,yCAHA,CADA,CAKA,CACA,qDACA,CAEA;AACA;AACA;AACA;AACA;AACA,qCACA,sBACA,YACA,CAEA;AACA;AACA;AACA,6BACA,aACA,gCACA,gCACA,gCACA,CAEA,0DACA,0BADA,CAEA,MAFA,CAIA;AACA;AACA;AACA,wBACA,CAEA;;;;;;;;;;;;GAaA,4BACA,aAEA,aACA,YACA,0CACA,4BACA,CAEA,gBACA,MAEA,WACA,gBAEA,kCACA,sBACA,aACO,CAHP,IAGO,WACP,gCACA,CAEA,MAEA,eACA,gBAEA,gCACA,eACA,MAEA,WACA,gBAEA,wBACA,uBACA,qBACA,6BACO,CAJP,IAIO,CACP,mBACA,YACA,CAEA,MAEA,eACA,iCACA,gBACA,MAEA,eACA,WACA,UACA,oCACA,oDACO,CAHP,IAGO,CACP,gBACA,CACA,MAEA,QACA,gBA1DA,CA6DA,YAAiB,cAAjB,CAAmC,GAAnC,CAAmC,CACnC,iBAEA,gDACA,CAEA,0DACA,0BADA,CAEA,MAFA,CAIA,wBAEA,WACA,CAEA;;;;;;GAOA,6BACA,oEAEA,UACA,QADA,CAEA,qBAFA,CAIA,oEAEA,0CAEA,iBACA,qBACA,yCACA,YACA,CAEA,8BAEA,oEACA,uDAEA,6BAEA,cACA,CAEA,eAAiB,OAAjB,CAAiB,iBAAjB,EAEA;AACA;AACA;AACA;AACA,oCACA,uBACA,UAEA,mBAEC,CA3aD,EA2aC,IA3aD,CA2aC,IA3aD,CA2aC,uGA3aD,EA6aC,CA9aG,CA8aH,CAAE,mBAAF,CAAE,kBAAF,CA9aG,CArwKkzB,CAA/c,CAmrL3T,EAnrL2T,CAmrLxT,GAnrLwT,EAmrLxT,CAnrLwT,EAorLtW,CAprLD,E,4BADA,E,IAAA,C,IAAA,C,uGAAA,E;;0KCCA,cAAgB,mBAAO,CAAC,qDAAD,CAAP,EAAhB,CAEA,6BACA,2DACA,CAFA,C;;yJCHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,aAAe,mBAAO,CAAC,mFAAD,CAAtB,CACA,SAAW,mBAAO,CAAC,yCAAD,CAAlB,CAEA,uBACA,2BACA,uCACA,yBAEA,gBAEA,eACA,mBACA,kBACA,eACA,eACA,eACA,mBACA,eACA,iBACA,gBACA,mBACA,eACA,eACA,CAEA;AAEA;AACA;AACA,wCACA,sBADA,CAGA;AACA,sDAJA,CAMA;AACA;AACA,2CARA,CAUA;AACA,YAAgB,GAAhB,CAAqB,GAArB,CAAqB,IAArB,CAAqB,GAArB,CAAqB,GAArB,EAAqB,MAArB,CAAqB,MAArB,CAXA,CAaA;AACA,gCAdA,CAeA;AACA;AACA;AACA;AACA,8BAAqC,GAArC,EAAqC,MAArC,CAAqC,UAArC,CAnBA,CAoBA,6BApBA,CAqBA,kBArBA,CAsBA,4CAtBA,CAuBA,gDAvBA,CAwBA;AACA,gBACA,iBADA,CAEA,kBAFA,CAzBA,CA6BA;AACA,kBACA,iBADA,CAEA,kBAFA,CA9BA,CAkCA;AACA,iBACA,WADA,CAEA,YAFA,CAGA,UAHA,CAIA,aAJA,CAKA,WALA,CAMA,YANA,CAOA,aAPA,CAQA,WARA,CASA,cATA,CAUA,YAVA,CAnCA,CA+CA,YAAkB,mBAAO,CAAC,2DAAD,CA/CzB,CAiDA,0DACA,0DAEA,gBACA,gDACA,SACA,CAEA,qEACA,wBACA,4EACA,CAEA;AACA;AACA;AACA,gCACA,SACA,oDAFA,CAGA,0BAHA,CAIA,gBAJA,CAKA,4CACA,0BAEA,aAEA;AACA;AACA,iBAEA,kDACA;AACA,4CACA,eACA,eACA,eACA,4BACA,kBACA,0BACA,qBACA,oDACS,CAFT,IAES,CACT,iCACA,CACO,CAPP,IAOO,sBACP,eACA,cACA,CACA,YACA,CACA,CAEA,qCACA,UACA,eACA,mCACA,yBACA,+BACA,CAEA;AACA;AACA;AACA;AACA,iEACA,oCACA,+CACA,oBACA,kBACA,CACA,CAEA,8BACA,uCADA,EACA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA,eACA,YAAmB,wBAAnB,CAA+C,GAA/C,CAA+C,CAC/C,yCACA,yCACA,YACA,CAEA;AACA;AACA,gBACA,iBACA;AACA,6BACK,CAHL,IAGK,CACL;AACA;AACA,qCACA,CAEA;AACA;AACA,gBACA,0BACA,0BACA,mCACA,CAEA;AACA,WACA,YAAmB,qBAAnB,CAA4C,GAA5C,CAA4C,CAC5C,sCACA,yCACA,YACA,CACA;AACA,gBACA,oBAEA,gCACA,yBAEA;AACA,iBAEA;AACA;AACA,gCAEA;AACA;AACA,yCACA,2CADA,CAGA;AACA,kBACA,wCACA,+BAA2C,GAA3C,CAAkD,GAAlD,CAAkD,CAClD,sBACA,kBACA,qCACA,eACA,0BAA0C,GAA1C,CAAiD,GAAjD,CAAiD,CACjD,2BACA;AACA;AACA;AACA,aACa,CALb,IAKa,CACb,iBACA,CACA,CACA;AACA,wCACA,oCACA,iCACA,sCACA,QACA,wBACA,wBACA,CACA,mBACA,gCACA,CACA,mCACA,MACA,CACA,CACA,CACA,CAEA,wCACA,iBACK,CAFL,IAEK,CACL;AACA,0CACA,CAEA,kBACA;AACA;AACA;AACA;AACA,8CACA,CAEA,iCACA,wBACA,cACA,qBAEA;AACA;AACA,iBACA,6DACA,kBACA,cACA,CACA,CACA,CAEA;AACA;AACA,gCAEA;AACA;AACA;AACA,gCAA0C,GAA1C,CAAiD,GAAjD,CAAiD,CACjD,qBACA,yBACA,SACA,+BACA,aACA,eACA,CACA,8BACA,CACA,CAGA;AACA,2BACA,cACA;AACA,4BACA,wBACA,CACA,yBACA,YACA,4BACA,6BACA,qBACA,yCACA,CACA,sBACG,CAPH,IAOG,sBACH;AACA,eACA,cACA,CACA,2BACA,gCACA,aADA,EACA,cADA,CACA,CACA,kBACA,CAEA;AACA,+BACA,wBACA,sBACA,cACA,CAEA;AACA,wBACA,YACA,CAnQA,CAqQA;AACA,wBACA;AACA;AACA;AACA;AACA,wCACA,+DACA,oBACA,CAEA,gCACA,uBACA,SACA,8BACA,8BACA,UACA,CAEA,+BACA,0BADA,CAEA,kBAFA,CAGA,UAHA,CAIA,QAJA,CAMA,cACA,oBACG,CAFH,IAEG,mBACH,2CACA,aADA,CAEA,qBAFA,EAGA,cACA,oBACA,CACA,CAEA,eACA,yBADA,EAEA,8BAFA,CAEA,CACA,wCACA,CAEA,6CAEA,qDAEA;AACA;AACA,iBACA,oDADA,CACA,CACA,qBACA,4DACG,CAJH,IAIG,WACH,QACA,CAEA,4CACA,oDAEA,kDACA,iCACG,CAFH,EAGA,iCAEA,0CACA,CAtDA,CAwDA,qCACA,qDACA,CAEA,yCACA,kEACA,CAFA,CAIA,2CACA,2BACA,2DACA,CAEA,+CACA,4BACA,kBACA,+BACA,aACA,CAEA,qBACA,4BACA,aAAkB,eAAlB,CAAqC,IAArC,CAAqC,CACrC,mBACA,wBACA,CAEA;AACA;AACA,0BAEA;AACA,uBACA,4BACA,cACA,CAEA;AACA,yCACA;AACA,gCACA,aAAoB,eAApB,CAAuC,IAAvC,CAAuC,CACvC,mBACA,qBACA,4BACA,CAEA;AACA,qCACA,eADA,EACA,gBADA,CACA,CACA,gCACA,CAEA,4BACA,cACA,CAEA,2DACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCACA,+BACA,YAAqB,aAArB,CAAsC,GAAtC,CAAsC,CACtC,cACA,sBACA,CACA,4BACA,cACA,CAEA,kCACA,yDACA,+CACA,0DACA,mCACA,2CACA,uCACA,wCACA,kCACK,CARL,IAQK,CACL,kCACA,CACA,8BACA,4BACA,8BACA,0BACA,iDACA,0BACA;AACA,mCACA,0BACA,wBACA,gBACA,CACA,gDACA,4BACA,cACA,CAEA,iEACA,SACA,eACA,oDAHA,CAKA,kCACA,8BANA,CAOA,wBAPA,CAQA,uDARA,CASA,2DATA,CAUA,4DAVA,CAYA;AACA;AACA;AACA;AACA;AACA,cACA,mBACA,iBACA,gBACA,8CACA,8BACA,CACA,eACA,sBACA,uBACA,mBACA,kBACA,gDACA,gCACA,CACA,mBACA,CACA,0DACA,CAEA,aACA;AACA,8CACA,aADA,CACA,WADA,CAEA,0DACA,iBADA,CACA,eADA,CAEA,8BACA,4BACA,gBACA;AACG,CAVH,IAUG,oBACH;AACA;AACA,uBACA,cACA,gCACA,8BACA,4BACG,CARA,IAQA,8CACH;AACA;AACA;AACA,cACA,4CACA;AACA;AACA;AACA,uDACA,sBADA,CACA,KADA,CAEA,eACA,+BACA,+CACA,CACA,CACA,8BACA,4BACA;AACA,+DACA,kDACA,8BADA,EAEA,CACA,4BACA,cACA,CAEA,oBACA;AACA;AACA,qBACA;AACA,kBACA,8BACK,CAFL,IAEK,CACL,iBACA,CACA,4BACA,cACA,CAEA;AACA;AACA;AACA,8BACA,qBACA,iDACA,uBADA,GACA,SAFA,CAIA;AACA;AACA,SACA,yBAA8B,IAA9B,CAAsC,GAAtC,CAAsC,CACtC,gBACA,eACA,oBACK,CAFL,IAEK,iBACL,oBACA,KACK,CAHA,IAGA,QACL,oBACA,KACA,CACA,CAEA;AACA,gCACA,KAAU,IAAV,CAAgB,EAAhB,CAAgB,CAChB,sBACA,CACA,CAEA,iCACA,uCADA,EACA,CACA,oBACA,CAEA,yDACA,iBACA,CAEA,gCACA,sCADA,CAGA;AACA,cACA,0CACA,iCADA,CAEA;AACA;AACA;AACA,uDACA,sBADA,CACA,KADA,CAEA,eACA,+BACA,+CACA,CACA,CAEA,mDAEA,4BACA,oBACA,CAEA,oBACA,qBACA,iBACG,CAHH,IAGG,CACH,kCACA,CAEA;AACA,+DACA,kDACA,8BADA,EAEA,CACA,uCACA,gDACA,4BACA,cACA,CA5QA,CA8QA,mCACA,mBACA,gCACA,SACA,aACA,eACA,yBACA,CACA,4CACA,CACA,2BACA,CAXA,C;;2JC9sBA,gBACA,gCACA,6BACG,CAHH,CAIA,gCACA,4CACG,CANH,CAOA,4BACA,kBACG,CATH,CAUA,kDACA,iBACA,CAZA,E;;kNCDA;;EAIA,+CAAiD,uCAA0C,yDAA4D,EAEvJ,yCAA2C,YAAgB,cAAhB,CAAkC,GAAlC,CAAkC,CAAO,wBAA2B,mDAAwD,6BAAgC,iDAAuD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A,CAEA,cAFA,CAGA,YAHA,CAIA,cAJA,CAKA,eALA,CAMA,aANA,CAOA,gBAPA,CAQA,aARA,CASA,kBATA,CAUA,iBAVA,EAYA,uBACA,oBACA,+BACA,2BAEA,2CACA,4CACA,8CACA,yBACA,8BACA,oBACA,mBACA,qBACA,sBACA,2BACA,4BACA,2BACA,+BACA,2BACA,cACA,CAEA,iCACA,oDACA,+CACA,2BACA,iCACA,iBACA,gBACA,kBACA,mBACA,wBACA,yBACA,gDACA,0BACA,kDACA,2BACA,yBACA,2BACA,gCACA,0BACA,6CACA,WACA,CAEA,mDACA,eACA;AACA,8BACA,OACG;AACH;AAGA,wCAEA,kBACA;AACA,OACG;AAGH,6CACA,0CAAgD;AAEhD,kCACG,CAJH,EAIK;AACL;AACA;AAEA,yCACC;AAGD,iBACA,gBACA;AACA,OACG;AAGH,yCACA,gBACA,mBACA,2BACC;AAGD,+BACA,qCACA;AACA,gJACG,CAHH,EAIA,CAEA,gBACA,WADA,CAEA,uBAFA,E;;2LCpHA,oEACA,0CADA,CAGA;;EAHA,CAMA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,mBAAO,CAAC,+FAAD,CADP,CAEA,cACA,gBAEA,6CACA,uBACA,yBACA,UACG,CAFH,EAGA,0BACA,gBACA,iBACK;AAGL,YAAkB;AAElB,gBACA;AACA;AACA;AACA,yDACA,WACA,sBACA,qBACO,CAFP,CAEO,SAFP,EAGA,CACG,CAlBH,EAmBA,gCACA,yBAEA,uBACA,6BACA,CACG,CANH,EAOA,CA/BA,CAiCA,sB,4BAnDA,E,IAAA,C,IAAA,C,iJAAA,E;;wNCCA,iBAEA,QAAU,mBAAO,CAAC,qCAAD,CAAjB,CAEA,gBAAkB,mBAAO,CAAC,2DAAD,CAAzB,CAEA,2BAA6B,mBAAO,CAAC,yGAAD,CAApC,CAEA,wCACA,aAEA,wDACA;AACA,4CACG,CAHH,IAGG,CACH;AACA,wCAA8C;AAE9C,8CACA,+CACA,CAEA,wCACA,iCACA,CAEA,uBACA,mBADA,CAEA,mBAFA,CAGA,wBACA,4BADA,CAEA,4BAFA,CAEqC;AACrC;AACA;AACA;AAEA;AACA,yCADA,CACA,CACA,gCACG;AACH;AACA;AACA;AAGA,iFACA,gCACG;AAGH,sBACA,4BACA,2BAA+B;AAE/B,8CACA,wCAA8C;AAC9C;AACA;AAEA,wCACA,wCACA,wCACA,CAEA,mBACA,iBADA,CAEA,SAFA,CAGA,iBAHA,CAIA,aAJA,CAKA;AACA;AACA;AACA,iBARA,GAUA,CAEA,+B;;sOC3EA,kCACA;AACA;AACA,2BACA,kDACG;AAGH,wCACA,0DAEA,kBACA,yCACG;AAGH,8DACA,CAEA,sC;;gMCnBA,QAAU,mBAAO,CAAC,wDAAD,CAAP,CAAkB,SAAlB,CAAkB,oBAAlB,CAAV,CAEA,gBACA,gBACA,kBACA,kBACA,kBACA,oBAAsB;AACtB;AACA;AAEA,sBACA,gBAAkB;AAElB,0BAEA,4BACA,cACA,UACA,UACA,WACA,WACA,WACA,oBACA,MACA;AAEA,aACA;AACA,qBACA,MACA;AAEA,UACA,YACA,iBACA,MAEA,QACA,8DAtBA,CAwBA,CAEA,gBACA,OADA,CAEA,uBAFA,E;;4MC5CA,mCAEA,aAAe,mBAAO,CAAC,mEAAD,CAAtB,CACA,gBADA,CAGA,+BACA,6BACA,YADA,CAEA,0BAFA,CAGA,kCACA,6BADA,CAGA,4BACA,OACA,CAEA,QACA,oCAAwC;AAExC,eAAqB,mBAAO,CAAC,iEAAD,CAA5B,CAEA,gDAEA,2CACA;AACA,6DACA,CACG;AAXH,IAYA,gBACA,oBAA4B;AAE5B,2CACA,4CACA;AACA,mCACS,CAHT,IAGS,CACT,6BAEA,mCACA;AACA,mCACA,CACA,CACO,CAZP,EAaA,CAEA,4CACA,0BACA,4CACA,6BACA,CACA,CAEA,yB;;gNCrDA,mD,CACA;AAEA,4BACA,8GACA,kBACA,2BADA,CAEA,SAFA,EAGK,GAHL,EAIA,CACA,CAEA,uB;;wICbA,MAEA;AACA,aACA,YACC,CAFD,GAIA,IACA;AACA,mCACC,UACD;AACA,kFACA,CAEA;AACA;AACA;AAEA,iB;;wICnBA,gCACA,4BACA,8BACA,gBACA;AACA,uCACA,uC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AMA,iDACA,oCACA,oDACA,wDACA,gCACA,+CACA,UACA,iBACA,MACA,MAEA,4BAAsC,GAAtC,CAA6C,GAA7C,CAA6C,CAC7C,0BACA,iDACA,kFACA,CAEA,oBACA,CAlBA,CAoBA;;;;GAKA,kEACA,oDACA,mDACA,yDACA,qCACA,kBACA,YACA,gBACA,mBACA,eACA,QACA,MACA,UACA,gBACA,MACA,cAEA,kCACA,OAAe,cAAf,CAAe,IAAf,CAAe,aAAf,CAAe,WAAf,EAAe,CAAmD,SAAU,CAE5E,cACA,0CACA,+DAEA,gCAA8C,GAA9C,CAAqD,GAArD,CAAqD,CACrD,wBACA,yBAEA,oBACA,gBACa,CAFb,IAEa,CACb,uBACA,CACA,CAEA,wCAEA,4DACA,MACA,CAEA,gDACA,CAEA,8DACA,CACA,kCAA4C,CAF5C,IAGA,CACA,wCACA,CAEA,cACA,CApDA,CAsDA;;;;GAKA,sEACA,uBACA,wDACA,+CACA,oDACA,gBAEA,wBACA,WACA,aACA,eACA,gBAEA,MACA,MAEA,2BAEA,8DACA,uCACA,yBAAkC,IAAlC,CAA0C,GAA1C,CAA0C,CAC1C,6BAEA,sCACA,6BACA,SACA,CAEA,oCACA,uCACA,CAEA,iEACA,gDACA,yBADA,CAEA,6DAFA,CAIA,6BACA,CAEA,QAAe,kBAAf,CAAqC,GAArC,CAAqC,CACrC,qBACA,8FACA,CAEA,mEACA,sBAEA,0BAAoC,GAApC,CAA2C,GAA3C,CAA2C,CAC3C,uCACA,CACA,gBACA,CApDA,CAsDA;;;;GAKA,kEACA,cACA,mCACA,6BACK,CAFL,IAEK,6CACL,6BACA,CAFK,IAGL,CACA,qDACA,oBACA,8DACA,qBACA,CACA,CACA,YACA,CAfA,CAiBA,0DACA,iDACA,CAFA,CAIA;;;;;GAMA,oEACA,eAEA,kBACA,6DACK,CAFL,IAEK,mCACL,6CACA,CAEA,qDACA,CAVA,C;;kLCluBA;;;;;IAMe,0EACf,iCACA,iCAEA,yBACA,UACA,MACA,CACA,UACA,MACA,CACK,CAPL,EASA,gBACC,CAdc,C;;iKCNf,8KACA,0BACA,4CACA,kCACA,gCAEA,uCACA,uBACA,cAEA,SACA,uBACA,SACA,cACA,CACA,KACA,CAEA,cACA,CAEA,kDACA,SACA,MADA,CAEA,MAFA,CAGA,GAHA,CAIA,IAJA,CAKA;AACA;AACA;AAEA,YACA,cACA,cACA,CAHA,IAIA,CACA,kBACA,kBACA,CAEA,0BACA,WAAsB,gBAAtB,CAA0C,OAA1C,CAA0C,CAC1C,IACA,kBACA,kBACA,CACA,SACA,SACA,CAEA,oCACA,qCACA,kBACA,CACA,CAJA,IAKA,CACA,mDACA,gDACA,CACA,mCACA,cACA,+BACA,CAFA,IAGA,CACA,6CACA,CACA,CACA,CACA,CA5BA,IA6BA,CACA,kBACA,IACA,kBACA,kBACA,CACA,SACA,SACA,CAEA,mDACA;AACA;AACA;AACA;AACA,+BACA,sBACA,mDACA,qBACA,CACA,mCACA,cACA,+BACA,CAFA,IAGA,CACA,6CACA,CACA,CAXA,IAYA,sBACA,8CACA,qBACA,CACA,mCACA,cACA,+BACA,CAFA,IAGA,CACA,6CACA,CACA,CAXA,IAYA,CACA,kBACA,CACA,CAjCA,IAkCA,CACA,kCACA,SACA,CACA,kBACA,CACA,CACA,CACA,YACA,CAGA,sCACA;AACA,iEACA,YACA,CAEA,+CACA,YACA,CAEA,kCACA,iCACA,CACA,2BACA,YACA,C;;sQC5IA,usCAEA;;;;;GAMO,sBACP,0BACA,CAEA;;;;;GAMO,uBACP,yBACA,CAEA;;;;;GAMO,uBACP,6BACA,CAEA;;;;;GAMO,yBACP,+BACA,CAEA;;;;;GAMO,4BACP,yCACA,CAEO,0DAAgC,oBAAhC,SAAuD,+BAAvD,IAEP;;;;;;GAOO,+BACP,mCACA,mBACA,CAEA,8BACA,aACA,CAEA,YAAmB,aAAnB,CAAoC,GAApC,CAAoC,CACpC,sBACA,aACA,CACA,CAEA,YACA,CAEA;;;;;GAMO,2BACP,WACA,CAEA;;;;;GAMO,qDACP,mBACA,MAAe,mDAAU,OAAzB,CACK,CAFL,IAEK,qCACL,MAAe,mDAAU,OAAzB,CACK,CAFA,IAEA,yDACL,MAAe,mDAAU,SAAzB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","file":"muze.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"muze\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"muze\"] = factory();\n\telse\n\t\troot[\"muze\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/muze/src/index.js\");\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DataModel\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DataModel\"] = factory();\n\telse\n\t\troot[\"DataModel\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict'\n\nmodule.exports = ansiHTML\n\n// Reference to https://github.com/sindresorhus/ansi-regex\nvar _regANSI = /(?:(?:\\u001b\\[)|\\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\\u001b[A-M]/\n\nvar _defColors = {\n  reset: ['fff', '000'], // [FOREGROUD_COLOR, BACKGROUND_COLOR]\n  black: '000',\n  red: 'ff0000',\n  green: '209805',\n  yellow: 'e8bf03',\n  blue: '0000ff',\n  magenta: 'ff00ff',\n  cyan: '00ffee',\n  lightgrey: 'f0f0f0',\n  darkgrey: '888'\n}\nvar _styles = {\n  30: 'black',\n  31: 'red',\n  32: 'green',\n  33: 'yellow',\n  34: 'blue',\n  35: 'magenta',\n  36: 'cyan',\n  37: 'lightgrey'\n}\nvar _openTags = {\n  '1': 'font-weight:bold', // bold\n  '2': 'opacity:0.5', // dim\n  '3': '<i>', // italic\n  '4': '<u>', // underscore\n  '8': 'display:none', // hidden\n  '9': '<del>' // delete\n}\nvar _closeTags = {\n  '23': '</i>', // reset italic\n  '24': '</u>', // reset underscore\n  '29': '</del>' // reset delete\n}\n\n;[0, 21, 22, 27, 28, 39, 49].forEach(function (n) {\n  _closeTags[n] = '</span>'\n})\n\n/**\n * Converts text with ANSI color codes to HTML markup.\n * @param {String} text\n * @returns {*}\n */\nfunction ansiHTML (text) {\n  // Returns the text if the string has no ANSI escape code.\n  if (!_regANSI.test(text)) {\n    return text\n  }\n\n  // Cache opened sequence.\n  var ansiCodes = []\n  // Replace with markup.\n  var ret = text.replace(/\\033\\[(\\d+)*m/g, function (match, seq) {\n    var ot = _openTags[seq]\n    if (ot) {\n      // If current sequence has been opened, close it.\n      if (!!~ansiCodes.indexOf(seq)) { // eslint-disable-line no-extra-boolean-cast\n        ansiCodes.pop()\n        return '</span>'\n      }\n      // Open tag.\n      ansiCodes.push(seq)\n      return ot[0] === '<' ? ot : '<span style=\"' + ot + ';\">'\n    }\n\n    var ct = _closeTags[seq]\n    if (ct) {\n      // Pop sequence\n      ansiCodes.pop()\n      return ct\n    }\n    return ''\n  })\n\n  // Make sure tags are closed.\n  var l = ansiCodes.length\n  ;(l > 0) && (ret += Array(l + 1).join('</span>'))\n\n  return ret\n}\n\n/**\n * Customize colors.\n * @param {Object} colors reference to _defColors\n */\nansiHTML.setColors = function (colors) {\n  if (typeof colors !== 'object') {\n    throw new Error('`colors` parameter must be an Object.')\n  }\n\n  var _finalColors = {}\n  for (var key in _defColors) {\n    var hex = colors.hasOwnProperty(key) ? colors[key] : null\n    if (!hex) {\n      _finalColors[key] = _defColors[key]\n      continue\n    }\n    if ('reset' === key) {\n      if (typeof hex === 'string') {\n        hex = [hex]\n      }\n      if (!Array.isArray(hex) || hex.length === 0 || hex.some(function (h) {\n        return typeof h !== 'string'\n      })) {\n        throw new Error('The value of `' + key + '` property must be an Array and each item could only be a hex string, e.g.: FF0000')\n      }\n      var defHexColor = _defColors[key]\n      if (!hex[0]) {\n        hex[0] = defHexColor[0]\n      }\n      if (hex.length === 1 || !hex[1]) {\n        hex = [hex[0]]\n        hex.push(defHexColor[1])\n      }\n\n      hex = hex.slice(0, 2)\n    } else if (typeof hex !== 'string') {\n      throw new Error('The value of `' + key + '` property must be a hex string, e.g.: FF0000')\n    }\n    _finalColors[key] = hex\n  }\n  _setTags(_finalColors)\n}\n\n/**\n * Reset colors.\n */\nansiHTML.reset = function () {\n  _setTags(_defColors)\n}\n\n/**\n * Expose tags, including open and close.\n * @type {Object}\n */\nansiHTML.tags = {}\n\nif (Object.defineProperty) {\n  Object.defineProperty(ansiHTML.tags, 'open', {\n    get: function () { return _openTags }\n  })\n  Object.defineProperty(ansiHTML.tags, 'close', {\n    get: function () { return _closeTags }\n  })\n} else {\n  ansiHTML.tags.open = _openTags\n  ansiHTML.tags.close = _closeTags\n}\n\nfunction _setTags (colors) {\n  // reset all\n  _openTags['0'] = 'font-weight:normal;opacity:1;color:#' + colors.reset[0] + ';background:#' + colors.reset[1]\n  // inverse\n  _openTags['7'] = 'color:#' + colors.reset[1] + ';background:#' + colors.reset[0]\n  // dark grey\n  _openTags['90'] = 'color:#' + colors.darkgrey\n\n  for (var code in _styles) {\n    var color = _styles[code]\n    var oriColor = colors[color] || '000'\n    _openTags[code] = 'color:#' + oriColor\n    code = parseInt(code)\n    _openTags[(code + 10).toString()] = 'background:#' + oriColor\n  }\n}\n\nansiHTML.reset()\n","'use strict';\nmodule.exports = function () {\n\treturn /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;\n};\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/.test(value)) value = new Date(value);\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows\n  };\n}\n","export {default as dsvFormat} from \"./dsv\";\nexport {csvParse, csvParseRows, csvFormat, csvFormatBody, csvFormatRows} from \"./csv\";\nexport {tsvParse, tsvParseRows, tsvFormat, tsvFormatBody, tsvFormatRows} from \"./tsv\";\nexport {default as autoType} from \"./autoType\";\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","module.exports = {\n  XmlEntities: require('./lib/xml-entities.js'),\n  Html4Entities: require('./lib/html4-entities.js'),\n  Html5Entities: require('./lib/html5-entities.js'),\n  AllHtmlEntities: require('./lib/html5-entities.js')\n};\n","var HTML_ALPHA = ['apos', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'Aelig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'acirc', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'quot', 'amp', 'lt', 'gt', 'OElig', 'oelig', 'Scaron', 'scaron', 'Yuml', 'circ', 'tilde', 'ensp', 'emsp', 'thinsp', 'zwnj', 'zwj', 'lrm', 'rlm', 'ndash', 'mdash', 'lsquo', 'rsquo', 'sbquo', 'ldquo', 'rdquo', 'bdquo', 'dagger', 'Dagger', 'permil', 'lsaquo', 'rsaquo', 'euro', 'fnof', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigmaf', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'thetasym', 'upsih', 'piv', 'bull', 'hellip', 'prime', 'Prime', 'oline', 'frasl', 'weierp', 'image', 'real', 'trade', 'alefsym', 'larr', 'uarr', 'rarr', 'darr', 'harr', 'crarr', 'lArr', 'uArr', 'rArr', 'dArr', 'hArr', 'forall', 'part', 'exist', 'empty', 'nabla', 'isin', 'notin', 'ni', 'prod', 'sum', 'minus', 'lowast', 'radic', 'prop', 'infin', 'ang', 'and', 'or', 'cap', 'cup', 'int', 'there4', 'sim', 'cong', 'asymp', 'ne', 'equiv', 'le', 'ge', 'sub', 'sup', 'nsub', 'sube', 'supe', 'oplus', 'otimes', 'perp', 'sdot', 'lceil', 'rceil', 'lfloor', 'rfloor', 'lang', 'rang', 'loz', 'spades', 'clubs', 'hearts', 'diams'];\nvar HTML_CODES = [39, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 34, 38, 60, 62, 338, 339, 352, 353, 376, 710, 732, 8194, 8195, 8201, 8204, 8205, 8206, 8207, 8211, 8212, 8216, 8217, 8218, 8220, 8221, 8222, 8224, 8225, 8240, 8249, 8250, 8364, 402, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 931, 932, 933, 934, 935, 936, 937, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 962, 963, 964, 965, 966, 967, 968, 969, 977, 978, 982, 8226, 8230, 8242, 8243, 8254, 8260, 8472, 8465, 8476, 8482, 8501, 8592, 8593, 8594, 8595, 8596, 8629, 8656, 8657, 8658, 8659, 8660, 8704, 8706, 8707, 8709, 8711, 8712, 8713, 8715, 8719, 8721, 8722, 8727, 8730, 8733, 8734, 8736, 8743, 8744, 8745, 8746, 8747, 8756, 8764, 8773, 8776, 8800, 8801, 8804, 8805, 8834, 8835, 8836, 8838, 8839, 8853, 8855, 8869, 8901, 8968, 8969, 8970, 8971, 9001, 9002, 9674, 9824, 9827, 9829, 9830];\n\nvar alphaIndex = {};\nvar numIndex = {};\n\nvar i = 0;\nvar length = HTML_ALPHA.length;\nwhile (i < length) {\n    var a = HTML_ALPHA[i];\n    var c = HTML_CODES[i];\n    alphaIndex[a] = String.fromCharCode(c);\n    numIndex[c] = a;\n    i++;\n}\n\n/**\n * @constructor\n */\nfunction Html4Entities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.decode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/&(#?[\\w\\d]+);?/g, function(s, entity) {\n        var chr;\n        if (entity.charAt(0) === \"#\") {\n            var code = entity.charAt(1).toLowerCase() === 'x' ?\n                parseInt(entity.substr(2), 16) :\n                parseInt(entity.substr(1));\n\n            if (!(isNaN(code) || code < -32768 || code > 65535)) {\n                chr = String.fromCharCode(code);\n            }\n        } else {\n            chr = alphaIndex[entity];\n        }\n        return chr || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.decode = function(str) {\n    return new Html4Entities().decode(str);\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.encode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var alpha = numIndex[str.charCodeAt(i)];\n        result += alpha ? \"&\" + alpha + \";\" : str.charAt(i);\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.encode = function(str) {\n    return new Html4Entities().encode(str);\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.encodeNonUTF = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var cc = str.charCodeAt(i);\n        var alpha = numIndex[cc];\n        if (alpha) {\n            result += \"&\" + alpha + \";\";\n        } else if (cc < 32 || cc > 126) {\n            result += \"&#\" + cc + \";\";\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.encodeNonUTF = function(str) {\n    return new Html4Entities().encodeNonUTF(str);\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.prototype.encodeNonASCII = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml4Entities.encodeNonASCII = function(str) {\n    return new Html4Entities().encodeNonASCII(str);\n};\n\nmodule.exports = Html4Entities;\n","var ENTITIES = [['Aacute', [193]], ['aacute', [225]], ['Abreve', [258]], ['abreve', [259]], ['ac', [8766]], ['acd', [8767]], ['acE', [8766, 819]], ['Acirc', [194]], ['acirc', [226]], ['acute', [180]], ['Acy', [1040]], ['acy', [1072]], ['AElig', [198]], ['aelig', [230]], ['af', [8289]], ['Afr', [120068]], ['afr', [120094]], ['Agrave', [192]], ['agrave', [224]], ['alefsym', [8501]], ['aleph', [8501]], ['Alpha', [913]], ['alpha', [945]], ['Amacr', [256]], ['amacr', [257]], ['amalg', [10815]], ['amp', [38]], ['AMP', [38]], ['andand', [10837]], ['And', [10835]], ['and', [8743]], ['andd', [10844]], ['andslope', [10840]], ['andv', [10842]], ['ang', [8736]], ['ange', [10660]], ['angle', [8736]], ['angmsdaa', [10664]], ['angmsdab', [10665]], ['angmsdac', [10666]], ['angmsdad', [10667]], ['angmsdae', [10668]], ['angmsdaf', [10669]], ['angmsdag', [10670]], ['angmsdah', [10671]], ['angmsd', [8737]], ['angrt', [8735]], ['angrtvb', [8894]], ['angrtvbd', [10653]], ['angsph', [8738]], ['angst', [197]], ['angzarr', [9084]], ['Aogon', [260]], ['aogon', [261]], ['Aopf', [120120]], ['aopf', [120146]], ['apacir', [10863]], ['ap', [8776]], ['apE', [10864]], ['ape', [8778]], ['apid', [8779]], ['apos', [39]], ['ApplyFunction', [8289]], ['approx', [8776]], ['approxeq', [8778]], ['Aring', [197]], ['aring', [229]], ['Ascr', [119964]], ['ascr', [119990]], ['Assign', [8788]], ['ast', [42]], ['asymp', [8776]], ['asympeq', [8781]], ['Atilde', [195]], ['atilde', [227]], ['Auml', [196]], ['auml', [228]], ['awconint', [8755]], ['awint', [10769]], ['backcong', [8780]], ['backepsilon', [1014]], ['backprime', [8245]], ['backsim', [8765]], ['backsimeq', [8909]], ['Backslash', [8726]], ['Barv', [10983]], ['barvee', [8893]], ['barwed', [8965]], ['Barwed', [8966]], ['barwedge', [8965]], ['bbrk', [9141]], ['bbrktbrk', [9142]], ['bcong', [8780]], ['Bcy', [1041]], ['bcy', [1073]], ['bdquo', [8222]], ['becaus', [8757]], ['because', [8757]], ['Because', [8757]], ['bemptyv', [10672]], ['bepsi', [1014]], ['bernou', [8492]], ['Bernoullis', [8492]], ['Beta', [914]], ['beta', [946]], ['beth', [8502]], ['between', [8812]], ['Bfr', [120069]], ['bfr', [120095]], ['bigcap', [8898]], ['bigcirc', [9711]], ['bigcup', [8899]], ['bigodot', [10752]], ['bigoplus', [10753]], ['bigotimes', [10754]], ['bigsqcup', [10758]], ['bigstar', [9733]], ['bigtriangledown', [9661]], ['bigtriangleup', [9651]], ['biguplus', [10756]], ['bigvee', [8897]], ['bigwedge', [8896]], ['bkarow', [10509]], ['blacklozenge', [10731]], ['blacksquare', [9642]], ['blacktriangle', [9652]], ['blacktriangledown', [9662]], ['blacktriangleleft', [9666]], ['blacktriangleright', [9656]], ['blank', [9251]], ['blk12', [9618]], ['blk14', [9617]], ['blk34', [9619]], ['block', [9608]], ['bne', [61, 8421]], ['bnequiv', [8801, 8421]], ['bNot', [10989]], ['bnot', [8976]], ['Bopf', [120121]], ['bopf', [120147]], ['bot', [8869]], ['bottom', [8869]], ['bowtie', [8904]], ['boxbox', [10697]], ['boxdl', [9488]], ['boxdL', [9557]], ['boxDl', [9558]], ['boxDL', [9559]], ['boxdr', [9484]], ['boxdR', [9554]], ['boxDr', [9555]], ['boxDR', [9556]], ['boxh', [9472]], ['boxH', [9552]], ['boxhd', [9516]], ['boxHd', [9572]], ['boxhD', [9573]], ['boxHD', [9574]], ['boxhu', [9524]], ['boxHu', [9575]], ['boxhU', [9576]], ['boxHU', [9577]], ['boxminus', [8863]], ['boxplus', [8862]], ['boxtimes', [8864]], ['boxul', [9496]], ['boxuL', [9563]], ['boxUl', [9564]], ['boxUL', [9565]], ['boxur', [9492]], ['boxuR', [9560]], ['boxUr', [9561]], ['boxUR', [9562]], ['boxv', [9474]], ['boxV', [9553]], ['boxvh', [9532]], ['boxvH', [9578]], ['boxVh', [9579]], ['boxVH', [9580]], ['boxvl', [9508]], ['boxvL', [9569]], ['boxVl', [9570]], ['boxVL', [9571]], ['boxvr', [9500]], ['boxvR', [9566]], ['boxVr', [9567]], ['boxVR', [9568]], ['bprime', [8245]], ['breve', [728]], ['Breve', [728]], ['brvbar', [166]], ['bscr', [119991]], ['Bscr', [8492]], ['bsemi', [8271]], ['bsim', [8765]], ['bsime', [8909]], ['bsolb', [10693]], ['bsol', [92]], ['bsolhsub', [10184]], ['bull', [8226]], ['bullet', [8226]], ['bump', [8782]], ['bumpE', [10926]], ['bumpe', [8783]], ['Bumpeq', [8782]], ['bumpeq', [8783]], ['Cacute', [262]], ['cacute', [263]], ['capand', [10820]], ['capbrcup', [10825]], ['capcap', [10827]], ['cap', [8745]], ['Cap', [8914]], ['capcup', [10823]], ['capdot', [10816]], ['CapitalDifferentialD', [8517]], ['caps', [8745, 65024]], ['caret', [8257]], ['caron', [711]], ['Cayleys', [8493]], ['ccaps', [10829]], ['Ccaron', [268]], ['ccaron', [269]], ['Ccedil', [199]], ['ccedil', [231]], ['Ccirc', [264]], ['ccirc', [265]], ['Cconint', [8752]], ['ccups', [10828]], ['ccupssm', [10832]], ['Cdot', [266]], ['cdot', [267]], ['cedil', [184]], ['Cedilla', [184]], ['cemptyv', [10674]], ['cent', [162]], ['centerdot', [183]], ['CenterDot', [183]], ['cfr', [120096]], ['Cfr', [8493]], ['CHcy', [1063]], ['chcy', [1095]], ['check', [10003]], ['checkmark', [10003]], ['Chi', [935]], ['chi', [967]], ['circ', [710]], ['circeq', [8791]], ['circlearrowleft', [8634]], ['circlearrowright', [8635]], ['circledast', [8859]], ['circledcirc', [8858]], ['circleddash', [8861]], ['CircleDot', [8857]], ['circledR', [174]], ['circledS', [9416]], ['CircleMinus', [8854]], ['CirclePlus', [8853]], ['CircleTimes', [8855]], ['cir', [9675]], ['cirE', [10691]], ['cire', [8791]], ['cirfnint', [10768]], ['cirmid', [10991]], ['cirscir', [10690]], ['ClockwiseContourIntegral', [8754]], ['clubs', [9827]], ['clubsuit', [9827]], ['colon', [58]], ['Colon', [8759]], ['Colone', [10868]], ['colone', [8788]], ['coloneq', [8788]], ['comma', [44]], ['commat', [64]], ['comp', [8705]], ['compfn', [8728]], ['complement', [8705]], ['complexes', [8450]], ['cong', [8773]], ['congdot', [10861]], ['Congruent', [8801]], ['conint', [8750]], ['Conint', [8751]], ['ContourIntegral', [8750]], ['copf', [120148]], ['Copf', [8450]], ['coprod', [8720]], ['Coproduct', [8720]], ['copy', [169]], ['COPY', [169]], ['copysr', [8471]], ['CounterClockwiseContourIntegral', [8755]], ['crarr', [8629]], ['cross', [10007]], ['Cross', [10799]], ['Cscr', [119966]], ['cscr', [119992]], ['csub', [10959]], ['csube', [10961]], ['csup', [10960]], ['csupe', [10962]], ['ctdot', [8943]], ['cudarrl', [10552]], ['cudarrr', [10549]], ['cuepr', [8926]], ['cuesc', [8927]], ['cularr', [8630]], ['cularrp', [10557]], ['cupbrcap', [10824]], ['cupcap', [10822]], ['CupCap', [8781]], ['cup', [8746]], ['Cup', [8915]], ['cupcup', [10826]], ['cupdot', [8845]], ['cupor', [10821]], ['cups', [8746, 65024]], ['curarr', [8631]], ['curarrm', [10556]], ['curlyeqprec', [8926]], ['curlyeqsucc', [8927]], ['curlyvee', [8910]], ['curlywedge', [8911]], ['curren', [164]], ['curvearrowleft', [8630]], ['curvearrowright', [8631]], ['cuvee', [8910]], ['cuwed', [8911]], ['cwconint', [8754]], ['cwint', [8753]], ['cylcty', [9005]], ['dagger', [8224]], ['Dagger', [8225]], ['daleth', [8504]], ['darr', [8595]], ['Darr', [8609]], ['dArr', [8659]], ['dash', [8208]], ['Dashv', [10980]], ['dashv', [8867]], ['dbkarow', [10511]], ['dblac', [733]], ['Dcaron', [270]], ['dcaron', [271]], ['Dcy', [1044]], ['dcy', [1076]], ['ddagger', [8225]], ['ddarr', [8650]], ['DD', [8517]], ['dd', [8518]], ['DDotrahd', [10513]], ['ddotseq', [10871]], ['deg', [176]], ['Del', [8711]], ['Delta', [916]], ['delta', [948]], ['demptyv', [10673]], ['dfisht', [10623]], ['Dfr', [120071]], ['dfr', [120097]], ['dHar', [10597]], ['dharl', [8643]], ['dharr', [8642]], ['DiacriticalAcute', [180]], ['DiacriticalDot', [729]], ['DiacriticalDoubleAcute', [733]], ['DiacriticalGrave', [96]], ['DiacriticalTilde', [732]], ['diam', [8900]], ['diamond', [8900]], ['Diamond', [8900]], ['diamondsuit', [9830]], ['diams', [9830]], ['die', [168]], ['DifferentialD', [8518]], ['digamma', [989]], ['disin', [8946]], ['div', [247]], ['divide', [247]], ['divideontimes', [8903]], ['divonx', [8903]], ['DJcy', [1026]], ['djcy', [1106]], ['dlcorn', [8990]], ['dlcrop', [8973]], ['dollar', [36]], ['Dopf', [120123]], ['dopf', [120149]], ['Dot', [168]], ['dot', [729]], ['DotDot', [8412]], ['doteq', [8784]], ['doteqdot', [8785]], ['DotEqual', [8784]], ['dotminus', [8760]], ['dotplus', [8724]], ['dotsquare', [8865]], ['doublebarwedge', [8966]], ['DoubleContourIntegral', [8751]], ['DoubleDot', [168]], ['DoubleDownArrow', [8659]], ['DoubleLeftArrow', [8656]], ['DoubleLeftRightArrow', [8660]], ['DoubleLeftTee', [10980]], ['DoubleLongLeftArrow', [10232]], ['DoubleLongLeftRightArrow', [10234]], ['DoubleLongRightArrow', [10233]], ['DoubleRightArrow', [8658]], ['DoubleRightTee', [8872]], ['DoubleUpArrow', [8657]], ['DoubleUpDownArrow', [8661]], ['DoubleVerticalBar', [8741]], ['DownArrowBar', [10515]], ['downarrow', [8595]], ['DownArrow', [8595]], ['Downarrow', [8659]], ['DownArrowUpArrow', [8693]], ['DownBreve', [785]], ['downdownarrows', [8650]], ['downharpoonleft', [8643]], ['downharpoonright', [8642]], ['DownLeftRightVector', [10576]], ['DownLeftTeeVector', [10590]], ['DownLeftVectorBar', [10582]], ['DownLeftVector', [8637]], ['DownRightTeeVector', [10591]], ['DownRightVectorBar', [10583]], ['DownRightVector', [8641]], ['DownTeeArrow', [8615]], ['DownTee', [8868]], ['drbkarow', [10512]], ['drcorn', [8991]], ['drcrop', [8972]], ['Dscr', [119967]], ['dscr', [119993]], ['DScy', [1029]], ['dscy', [1109]], ['dsol', [10742]], ['Dstrok', [272]], ['dstrok', [273]], ['dtdot', [8945]], ['dtri', [9663]], ['dtrif', [9662]], ['duarr', [8693]], ['duhar', [10607]], ['dwangle', [10662]], ['DZcy', [1039]], ['dzcy', [1119]], ['dzigrarr', [10239]], ['Eacute', [201]], ['eacute', [233]], ['easter', [10862]], ['Ecaron', [282]], ['ecaron', [283]], ['Ecirc', [202]], ['ecirc', [234]], ['ecir', [8790]], ['ecolon', [8789]], ['Ecy', [1069]], ['ecy', [1101]], ['eDDot', [10871]], ['Edot', [278]], ['edot', [279]], ['eDot', [8785]], ['ee', [8519]], ['efDot', [8786]], ['Efr', [120072]], ['efr', [120098]], ['eg', [10906]], ['Egrave', [200]], ['egrave', [232]], ['egs', [10902]], ['egsdot', [10904]], ['el', [10905]], ['Element', [8712]], ['elinters', [9191]], ['ell', [8467]], ['els', [10901]], ['elsdot', [10903]], ['Emacr', [274]], ['emacr', [275]], ['empty', [8709]], ['emptyset', [8709]], ['EmptySmallSquare', [9723]], ['emptyv', [8709]], ['EmptyVerySmallSquare', [9643]], ['emsp13', [8196]], ['emsp14', [8197]], ['emsp', [8195]], ['ENG', [330]], ['eng', [331]], ['ensp', [8194]], ['Eogon', [280]], ['eogon', [281]], ['Eopf', [120124]], ['eopf', [120150]], ['epar', [8917]], ['eparsl', [10723]], ['eplus', [10865]], ['epsi', [949]], ['Epsilon', [917]], ['epsilon', [949]], ['epsiv', [1013]], ['eqcirc', [8790]], ['eqcolon', [8789]], ['eqsim', [8770]], ['eqslantgtr', [10902]], ['eqslantless', [10901]], ['Equal', [10869]], ['equals', [61]], ['EqualTilde', [8770]], ['equest', [8799]], ['Equilibrium', [8652]], ['equiv', [8801]], ['equivDD', [10872]], ['eqvparsl', [10725]], ['erarr', [10609]], ['erDot', [8787]], ['escr', [8495]], ['Escr', [8496]], ['esdot', [8784]], ['Esim', [10867]], ['esim', [8770]], ['Eta', [919]], ['eta', [951]], ['ETH', [208]], ['eth', [240]], ['Euml', [203]], ['euml', [235]], ['euro', [8364]], ['excl', [33]], ['exist', [8707]], ['Exists', [8707]], ['expectation', [8496]], ['exponentiale', [8519]], ['ExponentialE', [8519]], ['fallingdotseq', [8786]], ['Fcy', [1060]], ['fcy', [1092]], ['female', [9792]], ['ffilig', [64259]], ['fflig', [64256]], ['ffllig', [64260]], ['Ffr', [120073]], ['ffr', [120099]], ['filig', [64257]], ['FilledSmallSquare', [9724]], ['FilledVerySmallSquare', [9642]], ['fjlig', [102, 106]], ['flat', [9837]], ['fllig', [64258]], ['fltns', [9649]], ['fnof', [402]], ['Fopf', [120125]], ['fopf', [120151]], ['forall', [8704]], ['ForAll', [8704]], ['fork', [8916]], ['forkv', [10969]], ['Fouriertrf', [8497]], ['fpartint', [10765]], ['frac12', [189]], ['frac13', [8531]], ['frac14', [188]], ['frac15', [8533]], ['frac16', [8537]], ['frac18', [8539]], ['frac23', [8532]], ['frac25', [8534]], ['frac34', [190]], ['frac35', [8535]], ['frac38', [8540]], ['frac45', [8536]], ['frac56', [8538]], ['frac58', [8541]], ['frac78', [8542]], ['frasl', [8260]], ['frown', [8994]], ['fscr', [119995]], ['Fscr', [8497]], ['gacute', [501]], ['Gamma', [915]], ['gamma', [947]], ['Gammad', [988]], ['gammad', [989]], ['gap', [10886]], ['Gbreve', [286]], ['gbreve', [287]], ['Gcedil', [290]], ['Gcirc', [284]], ['gcirc', [285]], ['Gcy', [1043]], ['gcy', [1075]], ['Gdot', [288]], ['gdot', [289]], ['ge', [8805]], ['gE', [8807]], ['gEl', [10892]], ['gel', [8923]], ['geq', [8805]], ['geqq', [8807]], ['geqslant', [10878]], ['gescc', [10921]], ['ges', [10878]], ['gesdot', [10880]], ['gesdoto', [10882]], ['gesdotol', [10884]], ['gesl', [8923, 65024]], ['gesles', [10900]], ['Gfr', [120074]], ['gfr', [120100]], ['gg', [8811]], ['Gg', [8921]], ['ggg', [8921]], ['gimel', [8503]], ['GJcy', [1027]], ['gjcy', [1107]], ['gla', [10917]], ['gl', [8823]], ['glE', [10898]], ['glj', [10916]], ['gnap', [10890]], ['gnapprox', [10890]], ['gne', [10888]], ['gnE', [8809]], ['gneq', [10888]], ['gneqq', [8809]], ['gnsim', [8935]], ['Gopf', [120126]], ['gopf', [120152]], ['grave', [96]], ['GreaterEqual', [8805]], ['GreaterEqualLess', [8923]], ['GreaterFullEqual', [8807]], ['GreaterGreater', [10914]], ['GreaterLess', [8823]], ['GreaterSlantEqual', [10878]], ['GreaterTilde', [8819]], ['Gscr', [119970]], ['gscr', [8458]], ['gsim', [8819]], ['gsime', [10894]], ['gsiml', [10896]], ['gtcc', [10919]], ['gtcir', [10874]], ['gt', [62]], ['GT', [62]], ['Gt', [8811]], ['gtdot', [8919]], ['gtlPar', [10645]], ['gtquest', [10876]], ['gtrapprox', [10886]], ['gtrarr', [10616]], ['gtrdot', [8919]], ['gtreqless', [8923]], ['gtreqqless', [10892]], ['gtrless', [8823]], ['gtrsim', [8819]], ['gvertneqq', [8809, 65024]], ['gvnE', [8809, 65024]], ['Hacek', [711]], ['hairsp', [8202]], ['half', [189]], ['hamilt', [8459]], ['HARDcy', [1066]], ['hardcy', [1098]], ['harrcir', [10568]], ['harr', [8596]], ['hArr', [8660]], ['harrw', [8621]], ['Hat', [94]], ['hbar', [8463]], ['Hcirc', [292]], ['hcirc', [293]], ['hearts', [9829]], ['heartsuit', [9829]], ['hellip', [8230]], ['hercon', [8889]], ['hfr', [120101]], ['Hfr', [8460]], ['HilbertSpace', [8459]], ['hksearow', [10533]], ['hkswarow', [10534]], ['hoarr', [8703]], ['homtht', [8763]], ['hookleftarrow', [8617]], ['hookrightarrow', [8618]], ['hopf', [120153]], ['Hopf', [8461]], ['horbar', [8213]], ['HorizontalLine', [9472]], ['hscr', [119997]], ['Hscr', [8459]], ['hslash', [8463]], ['Hstrok', [294]], ['hstrok', [295]], ['HumpDownHump', [8782]], ['HumpEqual', [8783]], ['hybull', [8259]], ['hyphen', [8208]], ['Iacute', [205]], ['iacute', [237]], ['ic', [8291]], ['Icirc', [206]], ['icirc', [238]], ['Icy', [1048]], ['icy', [1080]], ['Idot', [304]], ['IEcy', [1045]], ['iecy', [1077]], ['iexcl', [161]], ['iff', [8660]], ['ifr', [120102]], ['Ifr', [8465]], ['Igrave', [204]], ['igrave', [236]], ['ii', [8520]], ['iiiint', [10764]], ['iiint', [8749]], ['iinfin', [10716]], ['iiota', [8489]], ['IJlig', [306]], ['ijlig', [307]], ['Imacr', [298]], ['imacr', [299]], ['image', [8465]], ['ImaginaryI', [8520]], ['imagline', [8464]], ['imagpart', [8465]], ['imath', [305]], ['Im', [8465]], ['imof', [8887]], ['imped', [437]], ['Implies', [8658]], ['incare', [8453]], ['in', [8712]], ['infin', [8734]], ['infintie', [10717]], ['inodot', [305]], ['intcal', [8890]], ['int', [8747]], ['Int', [8748]], ['integers', [8484]], ['Integral', [8747]], ['intercal', [8890]], ['Intersection', [8898]], ['intlarhk', [10775]], ['intprod', [10812]], ['InvisibleComma', [8291]], ['InvisibleTimes', [8290]], ['IOcy', [1025]], ['iocy', [1105]], ['Iogon', [302]], ['iogon', [303]], ['Iopf', [120128]], ['iopf', [120154]], ['Iota', [921]], ['iota', [953]], ['iprod', [10812]], ['iquest', [191]], ['iscr', [119998]], ['Iscr', [8464]], ['isin', [8712]], ['isindot', [8949]], ['isinE', [8953]], ['isins', [8948]], ['isinsv', [8947]], ['isinv', [8712]], ['it', [8290]], ['Itilde', [296]], ['itilde', [297]], ['Iukcy', [1030]], ['iukcy', [1110]], ['Iuml', [207]], ['iuml', [239]], ['Jcirc', [308]], ['jcirc', [309]], ['Jcy', [1049]], ['jcy', [1081]], ['Jfr', [120077]], ['jfr', [120103]], ['jmath', [567]], ['Jopf', [120129]], ['jopf', [120155]], ['Jscr', [119973]], ['jscr', [119999]], ['Jsercy', [1032]], ['jsercy', [1112]], ['Jukcy', [1028]], ['jukcy', [1108]], ['Kappa', [922]], ['kappa', [954]], ['kappav', [1008]], ['Kcedil', [310]], ['kcedil', [311]], ['Kcy', [1050]], ['kcy', [1082]], ['Kfr', [120078]], ['kfr', [120104]], ['kgreen', [312]], ['KHcy', [1061]], ['khcy', [1093]], ['KJcy', [1036]], ['kjcy', [1116]], ['Kopf', [120130]], ['kopf', [120156]], ['Kscr', [119974]], ['kscr', [120000]], ['lAarr', [8666]], ['Lacute', [313]], ['lacute', [314]], ['laemptyv', [10676]], ['lagran', [8466]], ['Lambda', [923]], ['lambda', [955]], ['lang', [10216]], ['Lang', [10218]], ['langd', [10641]], ['langle', [10216]], ['lap', [10885]], ['Laplacetrf', [8466]], ['laquo', [171]], ['larrb', [8676]], ['larrbfs', [10527]], ['larr', [8592]], ['Larr', [8606]], ['lArr', [8656]], ['larrfs', [10525]], ['larrhk', [8617]], ['larrlp', [8619]], ['larrpl', [10553]], ['larrsim', [10611]], ['larrtl', [8610]], ['latail', [10521]], ['lAtail', [10523]], ['lat', [10923]], ['late', [10925]], ['lates', [10925, 65024]], ['lbarr', [10508]], ['lBarr', [10510]], ['lbbrk', [10098]], ['lbrace', [123]], ['lbrack', [91]], ['lbrke', [10635]], ['lbrksld', [10639]], ['lbrkslu', [10637]], ['Lcaron', [317]], ['lcaron', [318]], ['Lcedil', [315]], ['lcedil', [316]], ['lceil', [8968]], ['lcub', [123]], ['Lcy', [1051]], ['lcy', [1083]], ['ldca', [10550]], ['ldquo', [8220]], ['ldquor', [8222]], ['ldrdhar', [10599]], ['ldrushar', [10571]], ['ldsh', [8626]], ['le', [8804]], ['lE', [8806]], ['LeftAngleBracket', [10216]], ['LeftArrowBar', [8676]], ['leftarrow', [8592]], ['LeftArrow', [8592]], ['Leftarrow', [8656]], ['LeftArrowRightArrow', [8646]], ['leftarrowtail', [8610]], ['LeftCeiling', [8968]], ['LeftDoubleBracket', [10214]], ['LeftDownTeeVector', [10593]], ['LeftDownVectorBar', [10585]], ['LeftDownVector', [8643]], ['LeftFloor', [8970]], ['leftharpoondown', [8637]], ['leftharpoonup', [8636]], ['leftleftarrows', [8647]], ['leftrightarrow', [8596]], ['LeftRightArrow', [8596]], ['Leftrightarrow', [8660]], ['leftrightarrows', [8646]], ['leftrightharpoons', [8651]], ['leftrightsquigarrow', [8621]], ['LeftRightVector', [10574]], ['LeftTeeArrow', [8612]], ['LeftTee', [8867]], ['LeftTeeVector', [10586]], ['leftthreetimes', [8907]], ['LeftTriangleBar', [10703]], ['LeftTriangle', [8882]], ['LeftTriangleEqual', [8884]], ['LeftUpDownVector', [10577]], ['LeftUpTeeVector', [10592]], ['LeftUpVectorBar', [10584]], ['LeftUpVector', [8639]], ['LeftVectorBar', [10578]], ['LeftVector', [8636]], ['lEg', [10891]], ['leg', [8922]], ['leq', [8804]], ['leqq', [8806]], ['leqslant', [10877]], ['lescc', [10920]], ['les', [10877]], ['lesdot', [10879]], ['lesdoto', [10881]], ['lesdotor', [10883]], ['lesg', [8922, 65024]], ['lesges', [10899]], ['lessapprox', [10885]], ['lessdot', [8918]], ['lesseqgtr', [8922]], ['lesseqqgtr', [10891]], ['LessEqualGreater', [8922]], ['LessFullEqual', [8806]], ['LessGreater', [8822]], ['lessgtr', [8822]], ['LessLess', [10913]], ['lesssim', [8818]], ['LessSlantEqual', [10877]], ['LessTilde', [8818]], ['lfisht', [10620]], ['lfloor', [8970]], ['Lfr', [120079]], ['lfr', [120105]], ['lg', [8822]], ['lgE', [10897]], ['lHar', [10594]], ['lhard', [8637]], ['lharu', [8636]], ['lharul', [10602]], ['lhblk', [9604]], ['LJcy', [1033]], ['ljcy', [1113]], ['llarr', [8647]], ['ll', [8810]], ['Ll', [8920]], ['llcorner', [8990]], ['Lleftarrow', [8666]], ['llhard', [10603]], ['lltri', [9722]], ['Lmidot', [319]], ['lmidot', [320]], ['lmoustache', [9136]], ['lmoust', [9136]], ['lnap', [10889]], ['lnapprox', [10889]], ['lne', [10887]], ['lnE', [8808]], ['lneq', [10887]], ['lneqq', [8808]], ['lnsim', [8934]], ['loang', [10220]], ['loarr', [8701]], ['lobrk', [10214]], ['longleftarrow', [10229]], ['LongLeftArrow', [10229]], ['Longleftarrow', [10232]], ['longleftrightarrow', [10231]], ['LongLeftRightArrow', [10231]], ['Longleftrightarrow', [10234]], ['longmapsto', [10236]], ['longrightarrow', [10230]], ['LongRightArrow', [10230]], ['Longrightarrow', [10233]], ['looparrowleft', [8619]], ['looparrowright', [8620]], ['lopar', [10629]], ['Lopf', [120131]], ['lopf', [120157]], ['loplus', [10797]], ['lotimes', [10804]], ['lowast', [8727]], ['lowbar', [95]], ['LowerLeftArrow', [8601]], ['LowerRightArrow', [8600]], ['loz', [9674]], ['lozenge', [9674]], ['lozf', [10731]], ['lpar', [40]], ['lparlt', [10643]], ['lrarr', [8646]], ['lrcorner', [8991]], ['lrhar', [8651]], ['lrhard', [10605]], ['lrm', [8206]], ['lrtri', [8895]], ['lsaquo', [8249]], ['lscr', [120001]], ['Lscr', [8466]], ['lsh', [8624]], ['Lsh', [8624]], ['lsim', [8818]], ['lsime', [10893]], ['lsimg', [10895]], ['lsqb', [91]], ['lsquo', [8216]], ['lsquor', [8218]], ['Lstrok', [321]], ['lstrok', [322]], ['ltcc', [10918]], ['ltcir', [10873]], ['lt', [60]], ['LT', [60]], ['Lt', [8810]], ['ltdot', [8918]], ['lthree', [8907]], ['ltimes', [8905]], ['ltlarr', [10614]], ['ltquest', [10875]], ['ltri', [9667]], ['ltrie', [8884]], ['ltrif', [9666]], ['ltrPar', [10646]], ['lurdshar', [10570]], ['luruhar', [10598]], ['lvertneqq', [8808, 65024]], ['lvnE', [8808, 65024]], ['macr', [175]], ['male', [9794]], ['malt', [10016]], ['maltese', [10016]], ['Map', [10501]], ['map', [8614]], ['mapsto', [8614]], ['mapstodown', [8615]], ['mapstoleft', [8612]], ['mapstoup', [8613]], ['marker', [9646]], ['mcomma', [10793]], ['Mcy', [1052]], ['mcy', [1084]], ['mdash', [8212]], ['mDDot', [8762]], ['measuredangle', [8737]], ['MediumSpace', [8287]], ['Mellintrf', [8499]], ['Mfr', [120080]], ['mfr', [120106]], ['mho', [8487]], ['micro', [181]], ['midast', [42]], ['midcir', [10992]], ['mid', [8739]], ['middot', [183]], ['minusb', [8863]], ['minus', [8722]], ['minusd', [8760]], ['minusdu', [10794]], ['MinusPlus', [8723]], ['mlcp', [10971]], ['mldr', [8230]], ['mnplus', [8723]], ['models', [8871]], ['Mopf', [120132]], ['mopf', [120158]], ['mp', [8723]], ['mscr', [120002]], ['Mscr', [8499]], ['mstpos', [8766]], ['Mu', [924]], ['mu', [956]], ['multimap', [8888]], ['mumap', [8888]], ['nabla', [8711]], ['Nacute', [323]], ['nacute', [324]], ['nang', [8736, 8402]], ['nap', [8777]], ['napE', [10864, 824]], ['napid', [8779, 824]], ['napos', [329]], ['napprox', [8777]], ['natural', [9838]], ['naturals', [8469]], ['natur', [9838]], ['nbsp', [160]], ['nbump', [8782, 824]], ['nbumpe', [8783, 824]], ['ncap', [10819]], ['Ncaron', [327]], ['ncaron', [328]], ['Ncedil', [325]], ['ncedil', [326]], ['ncong', [8775]], ['ncongdot', [10861, 824]], ['ncup', [10818]], ['Ncy', [1053]], ['ncy', [1085]], ['ndash', [8211]], ['nearhk', [10532]], ['nearr', [8599]], ['neArr', [8663]], ['nearrow', [8599]], ['ne', [8800]], ['nedot', [8784, 824]], ['NegativeMediumSpace', [8203]], ['NegativeThickSpace', [8203]], ['NegativeThinSpace', [8203]], ['NegativeVeryThinSpace', [8203]], ['nequiv', [8802]], ['nesear', [10536]], ['nesim', [8770, 824]], ['NestedGreaterGreater', [8811]], ['NestedLessLess', [8810]], ['nexist', [8708]], ['nexists', [8708]], ['Nfr', [120081]], ['nfr', [120107]], ['ngE', [8807, 824]], ['nge', [8817]], ['ngeq', [8817]], ['ngeqq', [8807, 824]], ['ngeqslant', [10878, 824]], ['nges', [10878, 824]], ['nGg', [8921, 824]], ['ngsim', [8821]], ['nGt', [8811, 8402]], ['ngt', [8815]], ['ngtr', [8815]], ['nGtv', [8811, 824]], ['nharr', [8622]], ['nhArr', [8654]], ['nhpar', [10994]], ['ni', [8715]], ['nis', [8956]], ['nisd', [8954]], ['niv', [8715]], ['NJcy', [1034]], ['njcy', [1114]], ['nlarr', [8602]], ['nlArr', [8653]], ['nldr', [8229]], ['nlE', [8806, 824]], ['nle', [8816]], ['nleftarrow', [8602]], ['nLeftarrow', [8653]], ['nleftrightarrow', [8622]], ['nLeftrightarrow', [8654]], ['nleq', [8816]], ['nleqq', [8806, 824]], ['nleqslant', [10877, 824]], ['nles', [10877, 824]], ['nless', [8814]], ['nLl', [8920, 824]], ['nlsim', [8820]], ['nLt', [8810, 8402]], ['nlt', [8814]], ['nltri', [8938]], ['nltrie', [8940]], ['nLtv', [8810, 824]], ['nmid', [8740]], ['NoBreak', [8288]], ['NonBreakingSpace', [160]], ['nopf', [120159]], ['Nopf', [8469]], ['Not', [10988]], ['not', [172]], ['NotCongruent', [8802]], ['NotCupCap', [8813]], ['NotDoubleVerticalBar', [8742]], ['NotElement', [8713]], ['NotEqual', [8800]], ['NotEqualTilde', [8770, 824]], ['NotExists', [8708]], ['NotGreater', [8815]], ['NotGreaterEqual', [8817]], ['NotGreaterFullEqual', [8807, 824]], ['NotGreaterGreater', [8811, 824]], ['NotGreaterLess', [8825]], ['NotGreaterSlantEqual', [10878, 824]], ['NotGreaterTilde', [8821]], ['NotHumpDownHump', [8782, 824]], ['NotHumpEqual', [8783, 824]], ['notin', [8713]], ['notindot', [8949, 824]], ['notinE', [8953, 824]], ['notinva', [8713]], ['notinvb', [8951]], ['notinvc', [8950]], ['NotLeftTriangleBar', [10703, 824]], ['NotLeftTriangle', [8938]], ['NotLeftTriangleEqual', [8940]], ['NotLess', [8814]], ['NotLessEqual', [8816]], ['NotLessGreater', [8824]], ['NotLessLess', [8810, 824]], ['NotLessSlantEqual', [10877, 824]], ['NotLessTilde', [8820]], ['NotNestedGreaterGreater', [10914, 824]], ['NotNestedLessLess', [10913, 824]], ['notni', [8716]], ['notniva', [8716]], ['notnivb', [8958]], ['notnivc', [8957]], ['NotPrecedes', [8832]], ['NotPrecedesEqual', [10927, 824]], ['NotPrecedesSlantEqual', [8928]], ['NotReverseElement', [8716]], ['NotRightTriangleBar', [10704, 824]], ['NotRightTriangle', [8939]], ['NotRightTriangleEqual', [8941]], ['NotSquareSubset', [8847, 824]], ['NotSquareSubsetEqual', [8930]], ['NotSquareSuperset', [8848, 824]], ['NotSquareSupersetEqual', [8931]], ['NotSubset', [8834, 8402]], ['NotSubsetEqual', [8840]], ['NotSucceeds', [8833]], ['NotSucceedsEqual', [10928, 824]], ['NotSucceedsSlantEqual', [8929]], ['NotSucceedsTilde', [8831, 824]], ['NotSuperset', [8835, 8402]], ['NotSupersetEqual', [8841]], ['NotTilde', [8769]], ['NotTildeEqual', [8772]], ['NotTildeFullEqual', [8775]], ['NotTildeTilde', [8777]], ['NotVerticalBar', [8740]], ['nparallel', [8742]], ['npar', [8742]], ['nparsl', [11005, 8421]], ['npart', [8706, 824]], ['npolint', [10772]], ['npr', [8832]], ['nprcue', [8928]], ['nprec', [8832]], ['npreceq', [10927, 824]], ['npre', [10927, 824]], ['nrarrc', [10547, 824]], ['nrarr', [8603]], ['nrArr', [8655]], ['nrarrw', [8605, 824]], ['nrightarrow', [8603]], ['nRightarrow', [8655]], ['nrtri', [8939]], ['nrtrie', [8941]], ['nsc', [8833]], ['nsccue', [8929]], ['nsce', [10928, 824]], ['Nscr', [119977]], ['nscr', [120003]], ['nshortmid', [8740]], ['nshortparallel', [8742]], ['nsim', [8769]], ['nsime', [8772]], ['nsimeq', [8772]], ['nsmid', [8740]], ['nspar', [8742]], ['nsqsube', [8930]], ['nsqsupe', [8931]], ['nsub', [8836]], ['nsubE', [10949, 824]], ['nsube', [8840]], ['nsubset', [8834, 8402]], ['nsubseteq', [8840]], ['nsubseteqq', [10949, 824]], ['nsucc', [8833]], ['nsucceq', [10928, 824]], ['nsup', [8837]], ['nsupE', [10950, 824]], ['nsupe', [8841]], ['nsupset', [8835, 8402]], ['nsupseteq', [8841]], ['nsupseteqq', [10950, 824]], ['ntgl', [8825]], ['Ntilde', [209]], ['ntilde', [241]], ['ntlg', [8824]], ['ntriangleleft', [8938]], ['ntrianglelefteq', [8940]], ['ntriangleright', [8939]], ['ntrianglerighteq', [8941]], ['Nu', [925]], ['nu', [957]], ['num', [35]], ['numero', [8470]], ['numsp', [8199]], ['nvap', [8781, 8402]], ['nvdash', [8876]], ['nvDash', [8877]], ['nVdash', [8878]], ['nVDash', [8879]], ['nvge', [8805, 8402]], ['nvgt', [62, 8402]], ['nvHarr', [10500]], ['nvinfin', [10718]], ['nvlArr', [10498]], ['nvle', [8804, 8402]], ['nvlt', [60, 8402]], ['nvltrie', [8884, 8402]], ['nvrArr', [10499]], ['nvrtrie', [8885, 8402]], ['nvsim', [8764, 8402]], ['nwarhk', [10531]], ['nwarr', [8598]], ['nwArr', [8662]], ['nwarrow', [8598]], ['nwnear', [10535]], ['Oacute', [211]], ['oacute', [243]], ['oast', [8859]], ['Ocirc', [212]], ['ocirc', [244]], ['ocir', [8858]], ['Ocy', [1054]], ['ocy', [1086]], ['odash', [8861]], ['Odblac', [336]], ['odblac', [337]], ['odiv', [10808]], ['odot', [8857]], ['odsold', [10684]], ['OElig', [338]], ['oelig', [339]], ['ofcir', [10687]], ['Ofr', [120082]], ['ofr', [120108]], ['ogon', [731]], ['Ograve', [210]], ['ograve', [242]], ['ogt', [10689]], ['ohbar', [10677]], ['ohm', [937]], ['oint', [8750]], ['olarr', [8634]], ['olcir', [10686]], ['olcross', [10683]], ['oline', [8254]], ['olt', [10688]], ['Omacr', [332]], ['omacr', [333]], ['Omega', [937]], ['omega', [969]], ['Omicron', [927]], ['omicron', [959]], ['omid', [10678]], ['ominus', [8854]], ['Oopf', [120134]], ['oopf', [120160]], ['opar', [10679]], ['OpenCurlyDoubleQuote', [8220]], ['OpenCurlyQuote', [8216]], ['operp', [10681]], ['oplus', [8853]], ['orarr', [8635]], ['Or', [10836]], ['or', [8744]], ['ord', [10845]], ['order', [8500]], ['orderof', [8500]], ['ordf', [170]], ['ordm', [186]], ['origof', [8886]], ['oror', [10838]], ['orslope', [10839]], ['orv', [10843]], ['oS', [9416]], ['Oscr', [119978]], ['oscr', [8500]], ['Oslash', [216]], ['oslash', [248]], ['osol', [8856]], ['Otilde', [213]], ['otilde', [245]], ['otimesas', [10806]], ['Otimes', [10807]], ['otimes', [8855]], ['Ouml', [214]], ['ouml', [246]], ['ovbar', [9021]], ['OverBar', [8254]], ['OverBrace', [9182]], ['OverBracket', [9140]], ['OverParenthesis', [9180]], ['para', [182]], ['parallel', [8741]], ['par', [8741]], ['parsim', [10995]], ['parsl', [11005]], ['part', [8706]], ['PartialD', [8706]], ['Pcy', [1055]], ['pcy', [1087]], ['percnt', [37]], ['period', [46]], ['permil', [8240]], ['perp', [8869]], ['pertenk', [8241]], ['Pfr', [120083]], ['pfr', [120109]], ['Phi', [934]], ['phi', [966]], ['phiv', [981]], ['phmmat', [8499]], ['phone', [9742]], ['Pi', [928]], ['pi', [960]], ['pitchfork', [8916]], ['piv', [982]], ['planck', [8463]], ['planckh', [8462]], ['plankv', [8463]], ['plusacir', [10787]], ['plusb', [8862]], ['pluscir', [10786]], ['plus', [43]], ['plusdo', [8724]], ['plusdu', [10789]], ['pluse', [10866]], ['PlusMinus', [177]], ['plusmn', [177]], ['plussim', [10790]], ['plustwo', [10791]], ['pm', [177]], ['Poincareplane', [8460]], ['pointint', [10773]], ['popf', [120161]], ['Popf', [8473]], ['pound', [163]], ['prap', [10935]], ['Pr', [10939]], ['pr', [8826]], ['prcue', [8828]], ['precapprox', [10935]], ['prec', [8826]], ['preccurlyeq', [8828]], ['Precedes', [8826]], ['PrecedesEqual', [10927]], ['PrecedesSlantEqual', [8828]], ['PrecedesTilde', [8830]], ['preceq', [10927]], ['precnapprox', [10937]], ['precneqq', [10933]], ['precnsim', [8936]], ['pre', [10927]], ['prE', [10931]], ['precsim', [8830]], ['prime', [8242]], ['Prime', [8243]], ['primes', [8473]], ['prnap', [10937]], ['prnE', [10933]], ['prnsim', [8936]], ['prod', [8719]], ['Product', [8719]], ['profalar', [9006]], ['profline', [8978]], ['profsurf', [8979]], ['prop', [8733]], ['Proportional', [8733]], ['Proportion', [8759]], ['propto', [8733]], ['prsim', [8830]], ['prurel', [8880]], ['Pscr', [119979]], ['pscr', [120005]], ['Psi', [936]], ['psi', [968]], ['puncsp', [8200]], ['Qfr', [120084]], ['qfr', [120110]], ['qint', [10764]], ['qopf', [120162]], ['Qopf', [8474]], ['qprime', [8279]], ['Qscr', [119980]], ['qscr', [120006]], ['quaternions', [8461]], ['quatint', [10774]], ['quest', [63]], ['questeq', [8799]], ['quot', [34]], ['QUOT', [34]], ['rAarr', [8667]], ['race', [8765, 817]], ['Racute', [340]], ['racute', [341]], ['radic', [8730]], ['raemptyv', [10675]], ['rang', [10217]], ['Rang', [10219]], ['rangd', [10642]], ['range', [10661]], ['rangle', [10217]], ['raquo', [187]], ['rarrap', [10613]], ['rarrb', [8677]], ['rarrbfs', [10528]], ['rarrc', [10547]], ['rarr', [8594]], ['Rarr', [8608]], ['rArr', [8658]], ['rarrfs', [10526]], ['rarrhk', [8618]], ['rarrlp', [8620]], ['rarrpl', [10565]], ['rarrsim', [10612]], ['Rarrtl', [10518]], ['rarrtl', [8611]], ['rarrw', [8605]], ['ratail', [10522]], ['rAtail', [10524]], ['ratio', [8758]], ['rationals', [8474]], ['rbarr', [10509]], ['rBarr', [10511]], ['RBarr', [10512]], ['rbbrk', [10099]], ['rbrace', [125]], ['rbrack', [93]], ['rbrke', [10636]], ['rbrksld', [10638]], ['rbrkslu', [10640]], ['Rcaron', [344]], ['rcaron', [345]], ['Rcedil', [342]], ['rcedil', [343]], ['rceil', [8969]], ['rcub', [125]], ['Rcy', [1056]], ['rcy', [1088]], ['rdca', [10551]], ['rdldhar', [10601]], ['rdquo', [8221]], ['rdquor', [8221]], ['CloseCurlyDoubleQuote', [8221]], ['rdsh', [8627]], ['real', [8476]], ['realine', [8475]], ['realpart', [8476]], ['reals', [8477]], ['Re', [8476]], ['rect', [9645]], ['reg', [174]], ['REG', [174]], ['ReverseElement', [8715]], ['ReverseEquilibrium', [8651]], ['ReverseUpEquilibrium', [10607]], ['rfisht', [10621]], ['rfloor', [8971]], ['rfr', [120111]], ['Rfr', [8476]], ['rHar', [10596]], ['rhard', [8641]], ['rharu', [8640]], ['rharul', [10604]], ['Rho', [929]], ['rho', [961]], ['rhov', [1009]], ['RightAngleBracket', [10217]], ['RightArrowBar', [8677]], ['rightarrow', [8594]], ['RightArrow', [8594]], ['Rightarrow', [8658]], ['RightArrowLeftArrow', [8644]], ['rightarrowtail', [8611]], ['RightCeiling', [8969]], ['RightDoubleBracket', [10215]], ['RightDownTeeVector', [10589]], ['RightDownVectorBar', [10581]], ['RightDownVector', [8642]], ['RightFloor', [8971]], ['rightharpoondown', [8641]], ['rightharpoonup', [8640]], ['rightleftarrows', [8644]], ['rightleftharpoons', [8652]], ['rightrightarrows', [8649]], ['rightsquigarrow', [8605]], ['RightTeeArrow', [8614]], ['RightTee', [8866]], ['RightTeeVector', [10587]], ['rightthreetimes', [8908]], ['RightTriangleBar', [10704]], ['RightTriangle', [8883]], ['RightTriangleEqual', [8885]], ['RightUpDownVector', [10575]], ['RightUpTeeVector', [10588]], ['RightUpVectorBar', [10580]], ['RightUpVector', [8638]], ['RightVectorBar', [10579]], ['RightVector', [8640]], ['ring', [730]], ['risingdotseq', [8787]], ['rlarr', [8644]], ['rlhar', [8652]], ['rlm', [8207]], ['rmoustache', [9137]], ['rmoust', [9137]], ['rnmid', [10990]], ['roang', [10221]], ['roarr', [8702]], ['robrk', [10215]], ['ropar', [10630]], ['ropf', [120163]], ['Ropf', [8477]], ['roplus', [10798]], ['rotimes', [10805]], ['RoundImplies', [10608]], ['rpar', [41]], ['rpargt', [10644]], ['rppolint', [10770]], ['rrarr', [8649]], ['Rrightarrow', [8667]], ['rsaquo', [8250]], ['rscr', [120007]], ['Rscr', [8475]], ['rsh', [8625]], ['Rsh', [8625]], ['rsqb', [93]], ['rsquo', [8217]], ['rsquor', [8217]], ['CloseCurlyQuote', [8217]], ['rthree', [8908]], ['rtimes', [8906]], ['rtri', [9657]], ['rtrie', [8885]], ['rtrif', [9656]], ['rtriltri', [10702]], ['RuleDelayed', [10740]], ['ruluhar', [10600]], ['rx', [8478]], ['Sacute', [346]], ['sacute', [347]], ['sbquo', [8218]], ['scap', [10936]], ['Scaron', [352]], ['scaron', [353]], ['Sc', [10940]], ['sc', [8827]], ['sccue', [8829]], ['sce', [10928]], ['scE', [10932]], ['Scedil', [350]], ['scedil', [351]], ['Scirc', [348]], ['scirc', [349]], ['scnap', [10938]], ['scnE', [10934]], ['scnsim', [8937]], ['scpolint', [10771]], ['scsim', [8831]], ['Scy', [1057]], ['scy', [1089]], ['sdotb', [8865]], ['sdot', [8901]], ['sdote', [10854]], ['searhk', [10533]], ['searr', [8600]], ['seArr', [8664]], ['searrow', [8600]], ['sect', [167]], ['semi', [59]], ['seswar', [10537]], ['setminus', [8726]], ['setmn', [8726]], ['sext', [10038]], ['Sfr', [120086]], ['sfr', [120112]], ['sfrown', [8994]], ['sharp', [9839]], ['SHCHcy', [1065]], ['shchcy', [1097]], ['SHcy', [1064]], ['shcy', [1096]], ['ShortDownArrow', [8595]], ['ShortLeftArrow', [8592]], ['shortmid', [8739]], ['shortparallel', [8741]], ['ShortRightArrow', [8594]], ['ShortUpArrow', [8593]], ['shy', [173]], ['Sigma', [931]], ['sigma', [963]], ['sigmaf', [962]], ['sigmav', [962]], ['sim', [8764]], ['simdot', [10858]], ['sime', [8771]], ['simeq', [8771]], ['simg', [10910]], ['simgE', [10912]], ['siml', [10909]], ['simlE', [10911]], ['simne', [8774]], ['simplus', [10788]], ['simrarr', [10610]], ['slarr', [8592]], ['SmallCircle', [8728]], ['smallsetminus', [8726]], ['smashp', [10803]], ['smeparsl', [10724]], ['smid', [8739]], ['smile', [8995]], ['smt', [10922]], ['smte', [10924]], ['smtes', [10924, 65024]], ['SOFTcy', [1068]], ['softcy', [1100]], ['solbar', [9023]], ['solb', [10692]], ['sol', [47]], ['Sopf', [120138]], ['sopf', [120164]], ['spades', [9824]], ['spadesuit', [9824]], ['spar', [8741]], ['sqcap', [8851]], ['sqcaps', [8851, 65024]], ['sqcup', [8852]], ['sqcups', [8852, 65024]], ['Sqrt', [8730]], ['sqsub', [8847]], ['sqsube', [8849]], ['sqsubset', [8847]], ['sqsubseteq', [8849]], ['sqsup', [8848]], ['sqsupe', [8850]], ['sqsupset', [8848]], ['sqsupseteq', [8850]], ['square', [9633]], ['Square', [9633]], ['SquareIntersection', [8851]], ['SquareSubset', [8847]], ['SquareSubsetEqual', [8849]], ['SquareSuperset', [8848]], ['SquareSupersetEqual', [8850]], ['SquareUnion', [8852]], ['squarf', [9642]], ['squ', [9633]], ['squf', [9642]], ['srarr', [8594]], ['Sscr', [119982]], ['sscr', [120008]], ['ssetmn', [8726]], ['ssmile', [8995]], ['sstarf', [8902]], ['Star', [8902]], ['star', [9734]], ['starf', [9733]], ['straightepsilon', [1013]], ['straightphi', [981]], ['strns', [175]], ['sub', [8834]], ['Sub', [8912]], ['subdot', [10941]], ['subE', [10949]], ['sube', [8838]], ['subedot', [10947]], ['submult', [10945]], ['subnE', [10955]], ['subne', [8842]], ['subplus', [10943]], ['subrarr', [10617]], ['subset', [8834]], ['Subset', [8912]], ['subseteq', [8838]], ['subseteqq', [10949]], ['SubsetEqual', [8838]], ['subsetneq', [8842]], ['subsetneqq', [10955]], ['subsim', [10951]], ['subsub', [10965]], ['subsup', [10963]], ['succapprox', [10936]], ['succ', [8827]], ['succcurlyeq', [8829]], ['Succeeds', [8827]], ['SucceedsEqual', [10928]], ['SucceedsSlantEqual', [8829]], ['SucceedsTilde', [8831]], ['succeq', [10928]], ['succnapprox', [10938]], ['succneqq', [10934]], ['succnsim', [8937]], ['succsim', [8831]], ['SuchThat', [8715]], ['sum', [8721]], ['Sum', [8721]], ['sung', [9834]], ['sup1', [185]], ['sup2', [178]], ['sup3', [179]], ['sup', [8835]], ['Sup', [8913]], ['supdot', [10942]], ['supdsub', [10968]], ['supE', [10950]], ['supe', [8839]], ['supedot', [10948]], ['Superset', [8835]], ['SupersetEqual', [8839]], ['suphsol', [10185]], ['suphsub', [10967]], ['suplarr', [10619]], ['supmult', [10946]], ['supnE', [10956]], ['supne', [8843]], ['supplus', [10944]], ['supset', [8835]], ['Supset', [8913]], ['supseteq', [8839]], ['supseteqq', [10950]], ['supsetneq', [8843]], ['supsetneqq', [10956]], ['supsim', [10952]], ['supsub', [10964]], ['supsup', [10966]], ['swarhk', [10534]], ['swarr', [8601]], ['swArr', [8665]], ['swarrow', [8601]], ['swnwar', [10538]], ['szlig', [223]], ['Tab', [9]], ['target', [8982]], ['Tau', [932]], ['tau', [964]], ['tbrk', [9140]], ['Tcaron', [356]], ['tcaron', [357]], ['Tcedil', [354]], ['tcedil', [355]], ['Tcy', [1058]], ['tcy', [1090]], ['tdot', [8411]], ['telrec', [8981]], ['Tfr', [120087]], ['tfr', [120113]], ['there4', [8756]], ['therefore', [8756]], ['Therefore', [8756]], ['Theta', [920]], ['theta', [952]], ['thetasym', [977]], ['thetav', [977]], ['thickapprox', [8776]], ['thicksim', [8764]], ['ThickSpace', [8287, 8202]], ['ThinSpace', [8201]], ['thinsp', [8201]], ['thkap', [8776]], ['thksim', [8764]], ['THORN', [222]], ['thorn', [254]], ['tilde', [732]], ['Tilde', [8764]], ['TildeEqual', [8771]], ['TildeFullEqual', [8773]], ['TildeTilde', [8776]], ['timesbar', [10801]], ['timesb', [8864]], ['times', [215]], ['timesd', [10800]], ['tint', [8749]], ['toea', [10536]], ['topbot', [9014]], ['topcir', [10993]], ['top', [8868]], ['Topf', [120139]], ['topf', [120165]], ['topfork', [10970]], ['tosa', [10537]], ['tprime', [8244]], ['trade', [8482]], ['TRADE', [8482]], ['triangle', [9653]], ['triangledown', [9663]], ['triangleleft', [9667]], ['trianglelefteq', [8884]], ['triangleq', [8796]], ['triangleright', [9657]], ['trianglerighteq', [8885]], ['tridot', [9708]], ['trie', [8796]], ['triminus', [10810]], ['TripleDot', [8411]], ['triplus', [10809]], ['trisb', [10701]], ['tritime', [10811]], ['trpezium', [9186]], ['Tscr', [119983]], ['tscr', [120009]], ['TScy', [1062]], ['tscy', [1094]], ['TSHcy', [1035]], ['tshcy', [1115]], ['Tstrok', [358]], ['tstrok', [359]], ['twixt', [8812]], ['twoheadleftarrow', [8606]], ['twoheadrightarrow', [8608]], ['Uacute', [218]], ['uacute', [250]], ['uarr', [8593]], ['Uarr', [8607]], ['uArr', [8657]], ['Uarrocir', [10569]], ['Ubrcy', [1038]], ['ubrcy', [1118]], ['Ubreve', [364]], ['ubreve', [365]], ['Ucirc', [219]], ['ucirc', [251]], ['Ucy', [1059]], ['ucy', [1091]], ['udarr', [8645]], ['Udblac', [368]], ['udblac', [369]], ['udhar', [10606]], ['ufisht', [10622]], ['Ufr', [120088]], ['ufr', [120114]], ['Ugrave', [217]], ['ugrave', [249]], ['uHar', [10595]], ['uharl', [8639]], ['uharr', [8638]], ['uhblk', [9600]], ['ulcorn', [8988]], ['ulcorner', [8988]], ['ulcrop', [8975]], ['ultri', [9720]], ['Umacr', [362]], ['umacr', [363]], ['uml', [168]], ['UnderBar', [95]], ['UnderBrace', [9183]], ['UnderBracket', [9141]], ['UnderParenthesis', [9181]], ['Union', [8899]], ['UnionPlus', [8846]], ['Uogon', [370]], ['uogon', [371]], ['Uopf', [120140]], ['uopf', [120166]], ['UpArrowBar', [10514]], ['uparrow', [8593]], ['UpArrow', [8593]], ['Uparrow', [8657]], ['UpArrowDownArrow', [8645]], ['updownarrow', [8597]], ['UpDownArrow', [8597]], ['Updownarrow', [8661]], ['UpEquilibrium', [10606]], ['upharpoonleft', [8639]], ['upharpoonright', [8638]], ['uplus', [8846]], ['UpperLeftArrow', [8598]], ['UpperRightArrow', [8599]], ['upsi', [965]], ['Upsi', [978]], ['upsih', [978]], ['Upsilon', [933]], ['upsilon', [965]], ['UpTeeArrow', [8613]], ['UpTee', [8869]], ['upuparrows', [8648]], ['urcorn', [8989]], ['urcorner', [8989]], ['urcrop', [8974]], ['Uring', [366]], ['uring', [367]], ['urtri', [9721]], ['Uscr', [119984]], ['uscr', [120010]], ['utdot', [8944]], ['Utilde', [360]], ['utilde', [361]], ['utri', [9653]], ['utrif', [9652]], ['uuarr', [8648]], ['Uuml', [220]], ['uuml', [252]], ['uwangle', [10663]], ['vangrt', [10652]], ['varepsilon', [1013]], ['varkappa', [1008]], ['varnothing', [8709]], ['varphi', [981]], ['varpi', [982]], ['varpropto', [8733]], ['varr', [8597]], ['vArr', [8661]], ['varrho', [1009]], ['varsigma', [962]], ['varsubsetneq', [8842, 65024]], ['varsubsetneqq', [10955, 65024]], ['varsupsetneq', [8843, 65024]], ['varsupsetneqq', [10956, 65024]], ['vartheta', [977]], ['vartriangleleft', [8882]], ['vartriangleright', [8883]], ['vBar', [10984]], ['Vbar', [10987]], ['vBarv', [10985]], ['Vcy', [1042]], ['vcy', [1074]], ['vdash', [8866]], ['vDash', [8872]], ['Vdash', [8873]], ['VDash', [8875]], ['Vdashl', [10982]], ['veebar', [8891]], ['vee', [8744]], ['Vee', [8897]], ['veeeq', [8794]], ['vellip', [8942]], ['verbar', [124]], ['Verbar', [8214]], ['vert', [124]], ['Vert', [8214]], ['VerticalBar', [8739]], ['VerticalLine', [124]], ['VerticalSeparator', [10072]], ['VerticalTilde', [8768]], ['VeryThinSpace', [8202]], ['Vfr', [120089]], ['vfr', [120115]], ['vltri', [8882]], ['vnsub', [8834, 8402]], ['vnsup', [8835, 8402]], ['Vopf', [120141]], ['vopf', [120167]], ['vprop', [8733]], ['vrtri', [8883]], ['Vscr', [119985]], ['vscr', [120011]], ['vsubnE', [10955, 65024]], ['vsubne', [8842, 65024]], ['vsupnE', [10956, 65024]], ['vsupne', [8843, 65024]], ['Vvdash', [8874]], ['vzigzag', [10650]], ['Wcirc', [372]], ['wcirc', [373]], ['wedbar', [10847]], ['wedge', [8743]], ['Wedge', [8896]], ['wedgeq', [8793]], ['weierp', [8472]], ['Wfr', [120090]], ['wfr', [120116]], ['Wopf', [120142]], ['wopf', [120168]], ['wp', [8472]], ['wr', [8768]], ['wreath', [8768]], ['Wscr', [119986]], ['wscr', [120012]], ['xcap', [8898]], ['xcirc', [9711]], ['xcup', [8899]], ['xdtri', [9661]], ['Xfr', [120091]], ['xfr', [120117]], ['xharr', [10231]], ['xhArr', [10234]], ['Xi', [926]], ['xi', [958]], ['xlarr', [10229]], ['xlArr', [10232]], ['xmap', [10236]], ['xnis', [8955]], ['xodot', [10752]], ['Xopf', [120143]], ['xopf', [120169]], ['xoplus', [10753]], ['xotime', [10754]], ['xrarr', [10230]], ['xrArr', [10233]], ['Xscr', [119987]], ['xscr', [120013]], ['xsqcup', [10758]], ['xuplus', [10756]], ['xutri', [9651]], ['xvee', [8897]], ['xwedge', [8896]], ['Yacute', [221]], ['yacute', [253]], ['YAcy', [1071]], ['yacy', [1103]], ['Ycirc', [374]], ['ycirc', [375]], ['Ycy', [1067]], ['ycy', [1099]], ['yen', [165]], ['Yfr', [120092]], ['yfr', [120118]], ['YIcy', [1031]], ['yicy', [1111]], ['Yopf', [120144]], ['yopf', [120170]], ['Yscr', [119988]], ['yscr', [120014]], ['YUcy', [1070]], ['yucy', [1102]], ['yuml', [255]], ['Yuml', [376]], ['Zacute', [377]], ['zacute', [378]], ['Zcaron', [381]], ['zcaron', [382]], ['Zcy', [1047]], ['zcy', [1079]], ['Zdot', [379]], ['zdot', [380]], ['zeetrf', [8488]], ['ZeroWidthSpace', [8203]], ['Zeta', [918]], ['zeta', [950]], ['zfr', [120119]], ['Zfr', [8488]], ['ZHcy', [1046]], ['zhcy', [1078]], ['zigrarr', [8669]], ['zopf', [120171]], ['Zopf', [8484]], ['Zscr', [119989]], ['zscr', [120015]], ['zwj', [8205]], ['zwnj', [8204]]];\n\nvar alphaIndex = {};\nvar charIndex = {};\n\ncreateIndexes(alphaIndex, charIndex);\n\n/**\n * @constructor\n */\nfunction Html5Entities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.decode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/&(#?[\\w\\d]+);?/g, function(s, entity) {\n        var chr;\n        if (entity.charAt(0) === \"#\") {\n            var code = entity.charAt(1) === 'x' ?\n                parseInt(entity.substr(2).toLowerCase(), 16) :\n                parseInt(entity.substr(1));\n\n            if (!(isNaN(code) || code < -32768 || code > 65535)) {\n                chr = String.fromCharCode(code);\n            }\n        } else {\n            chr = alphaIndex[entity];\n        }\n        return chr || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.decode = function(str) {\n    return new Html5Entities().decode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.encode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var charInfo = charIndex[str.charCodeAt(i)];\n        if (charInfo) {\n            var alpha = charInfo[str.charCodeAt(i + 1)];\n            if (alpha) {\n                i++;\n            } else {\n                alpha = charInfo[''];\n            }\n            if (alpha) {\n                result += \"&\" + alpha + \";\";\n                i++;\n                continue;\n            }\n        }\n        result += str.charAt(i);\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.encode = function(str) {\n    return new Html5Entities().encode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.encodeNonUTF = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        var charInfo = charIndex[c];\n        if (charInfo) {\n            var alpha = charInfo[str.charCodeAt(i + 1)];\n            if (alpha) {\n                i++;\n            } else {\n                alpha = charInfo[''];\n            }\n            if (alpha) {\n                result += \"&\" + alpha + \";\";\n                i++;\n                continue;\n            }\n        }\n        if (c < 32 || c > 126) {\n            result += '&#' + c + ';';\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.encodeNonUTF = function(str) {\n    return new Html5Entities().encodeNonUTF(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nHtml5Entities.prototype.encodeNonASCII = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n Html5Entities.encodeNonASCII = function(str) {\n    return new Html5Entities().encodeNonASCII(str);\n };\n\n/**\n * @param {Object} alphaIndex Passed by reference.\n * @param {Object} charIndex Passed by reference.\n */\nfunction createIndexes(alphaIndex, charIndex) {\n    var i = ENTITIES.length;\n    var _results = [];\n    while (i--) {\n        var e = ENTITIES[i];\n        var alpha = e[0];\n        var chars = e[1];\n        var chr = chars[0];\n        var addChar = (chr < 32 || chr > 126) || chr === 62 || chr === 60 || chr === 38 || chr === 34 || chr === 39;\n        var charInfo;\n        if (addChar) {\n            charInfo = charIndex[chr] = charIndex[chr] || {};\n        }\n        if (chars[1]) {\n            var chr2 = chars[1];\n            alphaIndex[alpha] = String.fromCharCode(chr) + String.fromCharCode(chr2);\n            _results.push(addChar && (charInfo[chr2] = alpha));\n        } else {\n            alphaIndex[alpha] = String.fromCharCode(chr);\n            _results.push(addChar && (charInfo[''] = alpha));\n        }\n    }\n}\n\nmodule.exports = Html5Entities;\n","var ALPHA_INDEX = {\n    '&lt': '<',\n    '&gt': '>',\n    '&quot': '\"',\n    '&apos': '\\'',\n    '&amp': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&apos;': '\\'',\n    '&amp;': '&'\n};\n\nvar CHAR_INDEX = {\n    60: 'lt',\n    62: 'gt',\n    34: 'quot',\n    39: 'apos',\n    38: 'amp'\n};\n\nvar CHAR_S_INDEX = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&apos;',\n    '&': '&amp;'\n};\n\n/**\n * @constructor\n */\nfunction XmlEntities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/<|>|\"|'|&/g, function(s) {\n        return CHAR_S_INDEX[s];\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encode = function(str) {\n    return new XmlEntities().encode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.decode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/&#?[0-9a-zA-Z]+;?/g, function(s) {\n        if (s.charAt(1) === '#') {\n            var code = s.charAt(2).toLowerCase() === 'x' ?\n                parseInt(s.substr(3), 16) :\n                parseInt(s.substr(2));\n\n            if (isNaN(code) || code < -32768 || code > 65535) {\n                return '';\n            }\n            return String.fromCharCode(code);\n        }\n        return ALPHA_INDEX[s] || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.decode = function(str) {\n    return new XmlEntities().decode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonUTF = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        var alpha = CHAR_INDEX[c];\n        if (alpha) {\n            result += \"&\" + alpha + \";\";\n            i++;\n            continue;\n        }\n        if (c < 32 || c > 126) {\n            result += '&#' + c + ';';\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonUTF = function(str) {\n    return new XmlEntities().encodeNonUTF(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonASCII = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLenght = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLenght) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonASCII = function(str) {\n    return new XmlEntities().encodeNonASCII(str);\n };\n\nmodule.exports = XmlEntities;\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = \"loglevel\";\n      if (name) {\n        storageKey += \":\" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== \"string\" || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    return defaultLogger;\n}));\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","/* sockjs-client v1.3.0 | http://sockjs.org | MIT license */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.SockJS = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar transportList = require('./transport-list');\n\nmodule.exports = require('./main')(transportList);\n\n// TODO can't get rid of this until all servers do\nif ('_sockjs_onload' in global) {\n  setTimeout(global._sockjs_onload, 1);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./main\":14,\"./transport-list\":16}],2:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction CloseEvent() {\n  Event.call(this);\n  this.initEvent('close', false, false);\n  this.wasClean = false;\n  this.code = 0;\n  this.reason = '';\n}\n\ninherits(CloseEvent, Event);\n\nmodule.exports = CloseEvent;\n\n},{\"./event\":4,\"inherits\":57}],3:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventTarget = require('./eventtarget')\n  ;\n\nfunction EventEmitter() {\n  EventTarget.call(this);\n}\n\ninherits(EventEmitter, EventTarget);\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._listeners[type];\n  } else {\n    this._listeners = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this\n    , fired = false;\n\n  function g() {\n    self.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  this.on(type, g);\n};\n\nEventEmitter.prototype.emit = function() {\n  var type = arguments[0];\n  var listeners = this._listeners[type];\n  if (!listeners) {\n    return;\n  }\n  // equivalent of Array.prototype.slice.call(arguments, 1);\n  var l = arguments.length;\n  var args = new Array(l - 1);\n  for (var ai = 1; ai < l; ai++) {\n    args[ai - 1] = arguments[ai];\n  }\n  for (var i = 0; i < listeners.length; i++) {\n    listeners[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\n\nmodule.exports.EventEmitter = EventEmitter;\n\n},{\"./eventtarget\":5,\"inherits\":57}],4:[function(require,module,exports){\n'use strict';\n\nfunction Event(eventType) {\n  this.type = eventType;\n}\n\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\n  this.type = eventType;\n  this.bubbles = canBubble;\n  this.cancelable = cancelable;\n  this.timeStamp = +new Date();\n  return this;\n};\n\nEvent.prototype.stopPropagation = function() {};\nEvent.prototype.preventDefault = function() {};\n\nEvent.CAPTURING_PHASE = 1;\nEvent.AT_TARGET = 2;\nEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = Event;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function() {\n  var event = arguments[0];\n  var t = event.type;\n  // equivalent of Array.prototype.slice.call(arguments, 0);\n  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction TransportMessageEvent(data) {\n  Event.call(this);\n  this.initEvent('message', false, false);\n  this.data = data;\n}\n\ninherits(TransportMessageEvent, Event);\n\nmodule.exports = TransportMessageEvent;\n\n},{\"./event\":4,\"inherits\":57}],7:[function(require,module,exports){\n'use strict';\n\nvar JSON3 = require('json3')\n  , iframeUtils = require('./utils/iframe')\n  ;\n\nfunction FacadeJS(transport) {\n  this._transport = transport;\n  transport.on('message', this._transportMessage.bind(this));\n  transport.on('close', this._transportClose.bind(this));\n}\n\nFacadeJS.prototype._transportClose = function(code, reason) {\n  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));\n};\nFacadeJS.prototype._transportMessage = function(frame) {\n  iframeUtils.postMessage('t', frame);\n};\nFacadeJS.prototype._send = function(data) {\n  this._transport.send(data);\n};\nFacadeJS.prototype._close = function() {\n  this._transport.close();\n  this._transport.removeAllListeners();\n};\n\nmodule.exports = FacadeJS;\n\n},{\"./utils/iframe\":47,\"json3\":58}],8:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , JSON3 = require('json3')\n  , FacadeJS = require('./facade')\n  , InfoIframeReceiver = require('./info-iframe-receiver')\n  , iframeUtils = require('./utils/iframe')\n  , loc = require('./location')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:iframe-bootstrap');\n}\n\nmodule.exports = function(SockJS, availableTransports) {\n  var transportMap = {};\n  availableTransports.forEach(function(at) {\n    if (at.facadeTransport) {\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\n    }\n  });\n\n  // hard-coded for the info iframe\n  // TODO see if we can make this more dynamic\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\n  var parentOrigin;\n\n  /* eslint-disable camelcase */\n  SockJS.bootstrap_iframe = function() {\n    /* eslint-enable camelcase */\n    var facade;\n    iframeUtils.currentWindowId = loc.hash.slice(1);\n    var onMessage = function(e) {\n      if (e.source !== parent) {\n        return;\n      }\n      if (typeof parentOrigin === 'undefined') {\n        parentOrigin = e.origin;\n      }\n      if (e.origin !== parentOrigin) {\n        return;\n      }\n\n      var iframeMessage;\n      try {\n        iframeMessage = JSON3.parse(e.data);\n      } catch (ignored) {\n        debug('bad json', e.data);\n        return;\n      }\n\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\n        return;\n      }\n      switch (iframeMessage.type) {\n      case 's':\n        var p;\n        try {\n          p = JSON3.parse(iframeMessage.data);\n        } catch (ignored) {\n          debug('bad json', iframeMessage.data);\n          break;\n        }\n        var version = p[0];\n        var transport = p[1];\n        var transUrl = p[2];\n        var baseUrl = p[3];\n        debug(version, transport, transUrl, baseUrl);\n        // change this to semver logic\n        if (version !== SockJS.version) {\n          throw new Error('Incompatible SockJS! Main site uses:' +\n                    ' \"' + version + '\", the iframe:' +\n                    ' \"' + SockJS.version + '\".');\n        }\n\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\n          throw new Error('Can\\'t connect to different domain from within an ' +\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\n        }\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\n        break;\n      case 'm':\n        facade._send(iframeMessage.data);\n        break;\n      case 'c':\n        if (facade) {\n          facade._close();\n        }\n        facade = null;\n        break;\n      }\n    };\n\n    eventUtils.attachEvent('message', onMessage);\n\n    // Start\n    iframeUtils.postMessage('s');\n  };\n};\n\n}).call(this,{ env: {} })\n\n},{\"./facade\":7,\"./info-iframe-receiver\":10,\"./location\":13,\"./utils/event\":46,\"./utils/iframe\":47,\"./utils/url\":52,\"debug\":55,\"json3\":58}],9:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , objectUtils = require('./utils/object')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-ajax');\n}\n\nfunction InfoAjax(url, AjaxObject) {\n  EventEmitter.call(this);\n\n  var self = this;\n  var t0 = +new Date();\n  this.xo = new AjaxObject('GET', url);\n\n  this.xo.once('finish', function(status, text) {\n    var info, rtt;\n    if (status === 200) {\n      rtt = (+new Date()) - t0;\n      if (text) {\n        try {\n          info = JSON3.parse(text);\n        } catch (e) {\n          debug('bad json', text);\n        }\n      }\n\n      if (!objectUtils.isObject(info)) {\n        info = {};\n      }\n    }\n    self.emit('finish', info, rtt);\n    self.removeAllListeners();\n  });\n}\n\ninherits(InfoAjax, EventEmitter);\n\nInfoAjax.prototype.close = function() {\n  this.removeAllListeners();\n  this.xo.close();\n};\n\nmodule.exports = InfoAjax;\n\n}).call(this,{ env: {} })\n\n},{\"./utils/object\":49,\"debug\":55,\"events\":3,\"inherits\":57,\"json3\":58}],10:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , JSON3 = require('json3')\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON3.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n\n},{\"./info-ajax\":9,\"./transport/sender/xhr-local\":37,\"events\":3,\"inherits\":57,\"json3\":58}],11:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , utils = require('./utils/event')\n  , IframeTransport = require('./transport/iframe')\n  , InfoReceiverIframe = require('./info-iframe-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-iframe');\n}\n\nfunction InfoIframe(baseUrl, url) {\n  var self = this;\n  EventEmitter.call(this);\n\n  var go = function() {\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);\n\n    ifr.once('message', function(msg) {\n      if (msg) {\n        var d;\n        try {\n          d = JSON3.parse(msg);\n        } catch (e) {\n          debug('bad json', msg);\n          self.emit('finish');\n          self.close();\n          return;\n        }\n\n        var info = d[0], rtt = d[1];\n        self.emit('finish', info, rtt);\n      }\n      self.close();\n    });\n\n    ifr.once('close', function() {\n      self.emit('finish');\n      self.close();\n    });\n  };\n\n  // TODO this seems the same as the 'needBody' from transports\n  if (!global.document.body) {\n    utils.attachEvent('load', go);\n  } else {\n    go();\n  }\n}\n\ninherits(InfoIframe, EventEmitter);\n\nInfoIframe.enabled = function() {\n  return IframeTransport.enabled();\n};\n\nInfoIframe.prototype.close = function() {\n  if (this.ifr) {\n    this.ifr.close();\n  }\n  this.removeAllListeners();\n  this.ifr = null;\n};\n\nmodule.exports = InfoIframe;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./info-iframe-receiver\":10,\"./transport/iframe\":22,\"./utils/event\":46,\"debug\":55,\"events\":3,\"inherits\":57,\"json3\":58}],12:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , urlUtils = require('./utils/url')\n  , XDR = require('./transport/sender/xdr')\n  , XHRCors = require('./transport/sender/xhr-cors')\n  , XHRLocal = require('./transport/sender/xhr-local')\n  , XHRFake = require('./transport/sender/xhr-fake')\n  , InfoIframe = require('./info-iframe')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-receiver');\n}\n\nfunction InfoReceiver(baseUrl, urlInfo) {\n  debug(baseUrl);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self.doXhr(baseUrl, urlInfo);\n  }, 0);\n}\n\ninherits(InfoReceiver, EventEmitter);\n\n// TODO this is currently ignoring the list of available transports and the whitelist\n\nInfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {\n  // determine method of CORS support (if needed)\n  if (urlInfo.sameOrigin) {\n    return new InfoAjax(url, XHRLocal);\n  }\n  if (XHRCors.enabled) {\n    return new InfoAjax(url, XHRCors);\n  }\n  if (XDR.enabled && urlInfo.sameScheme) {\n    return new InfoAjax(url, XDR);\n  }\n  if (InfoIframe.enabled()) {\n    return new InfoIframe(baseUrl, url);\n  }\n  return new InfoAjax(url, XHRFake);\n};\n\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\n  var self = this\n    , url = urlUtils.addPath(baseUrl, '/info')\n    ;\n  debug('doXhr', url);\n\n  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);\n\n  this.timeoutRef = setTimeout(function() {\n    debug('timeout');\n    self._cleanup(false);\n    self.emit('finish');\n  }, InfoReceiver.timeout);\n\n  this.xo.once('finish', function(info, rtt) {\n    debug('finish', info, rtt);\n    self._cleanup(true);\n    self.emit('finish', info, rtt);\n  });\n};\n\nInfoReceiver.prototype._cleanup = function(wasClean) {\n  debug('_cleanup');\n  clearTimeout(this.timeoutRef);\n  this.timeoutRef = null;\n  if (!wasClean && this.xo) {\n    this.xo.close();\n  }\n  this.xo = null;\n};\n\nInfoReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  this._cleanup(false);\n};\n\nInfoReceiver.timeout = 8000;\n\nmodule.exports = InfoReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"./info-ajax\":9,\"./info-iframe\":11,\"./transport/sender/xdr\":34,\"./transport/sender/xhr-cors\":35,\"./transport/sender/xhr-fake\":36,\"./transport/sender/xhr-local\":37,\"./utils/url\":52,\"debug\":55,\"events\":3,\"inherits\":57}],13:[function(require,module,exports){\n(function (global){\n'use strict';\n\nmodule.exports = global.location || {\n  origin: 'http://localhost:80'\n, protocol: 'http:'\n, host: 'localhost'\n, port: 80\n, href: 'http://localhost/'\n, hash: ''\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],14:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nrequire('./shims');\n\nvar URL = require('url-parse')\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , random = require('./utils/random')\n  , escape = require('./utils/escape')\n  , urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , transport = require('./utils/transport')\n  , objectUtils = require('./utils/object')\n  , browser = require('./utils/browser')\n  , log = require('./utils/log')\n  , Event = require('./event/event')\n  , EventTarget = require('./event/eventtarget')\n  , loc = require('./location')\n  , CloseEvent = require('./event/close')\n  , TransportMessageEvent = require('./event/trans-message')\n  , InfoReceiver = require('./info-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:main');\n}\n\nvar transports;\n\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\nfunction SockJS(url, protocols, options) {\n  if (!(this instanceof SockJS)) {\n    return new SockJS(url, protocols, options);\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\n  }\n  EventTarget.call(this);\n\n  this.readyState = SockJS.CONNECTING;\n  this.extensions = '';\n  this.protocol = '';\n\n  // non-standard extension\n  options = options || {};\n  if (options.protocols_whitelist) {\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\n  }\n  this._transportsWhitelist = options.transports;\n  this._transportOptions = options.transportOptions || {};\n\n  var sessionId = options.sessionId || 8;\n  if (typeof sessionId === 'function') {\n    this._generateSessionId = sessionId;\n  } else if (typeof sessionId === 'number') {\n    this._generateSessionId = function() {\n      return random.string(sessionId);\n    };\n  } else {\n    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');\n  }\n\n  this._server = options.server || random.numberString(1000);\n\n  // Step 1 of WS spec - parse and validate the url. Issue #8\n  var parsedUrl = new URL(url);\n  if (!parsedUrl.host || !parsedUrl.protocol) {\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\n  } else if (parsedUrl.hash) {\n    throw new SyntaxError('The URL must not contain a fragment');\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\n  }\n\n  var secure = parsedUrl.protocol === 'https:';\n  // Step 2 - don't allow secure origin with an insecure protocol\n  if (loc.protocol === 'https:' && !secure) {\n    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\n  }\n\n  // Step 3 - check port access - no need here\n  // Step 4 - parse protocols argument\n  if (!protocols) {\n    protocols = [];\n  } else if (!Array.isArray(protocols)) {\n    protocols = [protocols];\n  }\n\n  // Step 5 - check protocols argument\n  var sortedProtocols = protocols.sort();\n  sortedProtocols.forEach(function(proto, i) {\n    if (!proto) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\n    }\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\n    }\n  });\n\n  // Step 6 - convert origin\n  var o = urlUtils.getOrigin(loc.href);\n  this._origin = o ? o.toLowerCase() : null;\n\n  // remove the trailing slash\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\n\n  // store the sanitized url\n  this.url = parsedUrl.href;\n  debug('using url', this.url);\n\n  // Step 7 - start connection in background\n  // obtain server info\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\n  this._urlInfo = {\n    nullOrigin: !browser.hasDomain()\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\n  };\n\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\n  this._ir.once('finish', this._receiveInfo.bind(this));\n}\n\ninherits(SockJS, EventTarget);\n\nfunction userSetCode(code) {\n  return code === 1000 || (code >= 3000 && code <= 4999);\n}\n\nSockJS.prototype.close = function(code, reason) {\n  // Step 1\n  if (code && !userSetCode(code)) {\n    throw new Error('InvalidAccessError: Invalid code');\n  }\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\n  if (reason && reason.length > 123) {\n    throw new SyntaxError('reason argument has an invalid length');\n  }\n\n  // Step 3.1\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\n    return;\n  }\n\n  // TODO look at docs to determine how to set this\n  var wasClean = true;\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\n};\n\nSockJS.prototype.send = function(data) {\n  // #13 - convert anything non-string to string\n  // TODO this currently turns objects into [object Object]\n  if (typeof data !== 'string') {\n    data = '' + data;\n  }\n  if (this.readyState === SockJS.CONNECTING) {\n    throw new Error('InvalidStateError: The connection has not been established yet');\n  }\n  if (this.readyState !== SockJS.OPEN) {\n    return;\n  }\n  this._transport.send(escape.quote(data));\n};\n\nSockJS.version = require('./version');\n\nSockJS.CONNECTING = 0;\nSockJS.OPEN = 1;\nSockJS.CLOSING = 2;\nSockJS.CLOSED = 3;\n\nSockJS.prototype._receiveInfo = function(info, rtt) {\n  debug('_receiveInfo', rtt);\n  this._ir = null;\n  if (!info) {\n    this._close(1002, 'Cannot connect to server');\n    return;\n  }\n\n  // establish a round-trip timeout (RTO) based on the\n  // round-trip time (RTT)\n  this._rto = this.countRTO(rtt);\n  // allow server to override url used for the actual transport\n  this._transUrl = info.base_url ? info.base_url : this.url;\n  info = objectUtils.extend(info, this._urlInfo);\n  debug('info', info);\n  // determine list of desired and supported transports\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\n  this._transports = enabledTransports.main;\n  debug(this._transports.length + ' enabled transports');\n\n  this._connect();\n};\n\nSockJS.prototype._connect = function() {\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\n    debug('attempt', Transport.transportName);\n    if (Transport.needBody) {\n      if (!global.document.body ||\n          (typeof global.document.readyState !== 'undefined' &&\n            global.document.readyState !== 'complete' &&\n            global.document.readyState !== 'interactive')) {\n        debug('waiting for body');\n        this._transports.unshift(Transport);\n        eventUtils.attachEvent('load', this._connect.bind(this));\n        return;\n      }\n    }\n\n    // calculate timeout based on RTO and round trips. Default to 5s\n    var timeoutMs = (this._rto * Transport.roundTrips) || 5000;\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\n    debug('using timeout', timeoutMs);\n\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());\n    var options = this._transportOptions[Transport.transportName];\n    debug('transport url', transportUrl);\n    var transportObj = new Transport(transportUrl, this._transUrl, options);\n    transportObj.on('message', this._transportMessage.bind(this));\n    transportObj.once('close', this._transportClose.bind(this));\n    transportObj.transportName = Transport.transportName;\n    this._transport = transportObj;\n\n    return;\n  }\n  this._close(2000, 'All transports failed', false);\n};\n\nSockJS.prototype._transportTimeout = function() {\n  debug('_transportTimeout');\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transport) {\n      this._transport.close();\n    }\n\n    this._transportClose(2007, 'Transport timed out');\n  }\n};\n\nSockJS.prototype._transportMessage = function(msg) {\n  debug('_transportMessage', msg);\n  var self = this\n    , type = msg.slice(0, 1)\n    , content = msg.slice(1)\n    , payload\n    ;\n\n  // first check for messages that don't need a payload\n  switch (type) {\n    case 'o':\n      this._open();\n      return;\n    case 'h':\n      this.dispatchEvent(new Event('heartbeat'));\n      debug('heartbeat', this.transport);\n      return;\n  }\n\n  if (content) {\n    try {\n      payload = JSON3.parse(content);\n    } catch (e) {\n      debug('bad json', content);\n    }\n  }\n\n  if (typeof payload === 'undefined') {\n    debug('empty payload', content);\n    return;\n  }\n\n  switch (type) {\n    case 'a':\n      if (Array.isArray(payload)) {\n        payload.forEach(function(p) {\n          debug('message', self.transport, p);\n          self.dispatchEvent(new TransportMessageEvent(p));\n        });\n      }\n      break;\n    case 'm':\n      debug('message', this.transport, payload);\n      this.dispatchEvent(new TransportMessageEvent(payload));\n      break;\n    case 'c':\n      if (Array.isArray(payload) && payload.length === 2) {\n        this._close(payload[0], payload[1], true);\n      }\n      break;\n  }\n};\n\nSockJS.prototype._transportClose = function(code, reason) {\n  debug('_transportClose', this.transport, code, reason);\n  if (this._transport) {\n    this._transport.removeAllListeners();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\n    this._connect();\n    return;\n  }\n\n  this._close(code, reason);\n};\n\nSockJS.prototype._open = function() {\n  debug('_open', this._transport.transportName, this.readyState);\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transportTimeoutId) {\n      clearTimeout(this._transportTimeoutId);\n      this._transportTimeoutId = null;\n    }\n    this.readyState = SockJS.OPEN;\n    this.transport = this._transport.transportName;\n    this.dispatchEvent(new Event('open'));\n    debug('connected', this.transport);\n  } else {\n    // The server might have been restarted, and lost track of our\n    // connection.\n    this._close(1006, 'Server lost session');\n  }\n};\n\nSockJS.prototype._close = function(code, reason, wasClean) {\n  debug('_close', this.transport, code, reason, wasClean, this.readyState);\n  var forceFail = false;\n\n  if (this._ir) {\n    forceFail = true;\n    this._ir.close();\n    this._ir = null;\n  }\n  if (this._transport) {\n    this._transport.close();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (this.readyState === SockJS.CLOSED) {\n    throw new Error('InvalidStateError: SockJS has already been closed');\n  }\n\n  this.readyState = SockJS.CLOSING;\n  setTimeout(function() {\n    this.readyState = SockJS.CLOSED;\n\n    if (forceFail) {\n      this.dispatchEvent(new Event('error'));\n    }\n\n    var e = new CloseEvent('close');\n    e.wasClean = wasClean || false;\n    e.code = code || 1000;\n    e.reason = reason;\n\n    this.dispatchEvent(e);\n    this.onmessage = this.onclose = this.onerror = null;\n    debug('disconnected');\n  }.bind(this), 0);\n};\n\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\n// and RFC 2988.\nSockJS.prototype.countRTO = function(rtt) {\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\n  // transport the time needed to establish a connection (the time that pass\n  // from the opening of the transport to the call of `_dispatchOpen`) is\n  // around 200msec (the lower bound used in the article above) and this\n  // causes spurious timeouts. For this reason we calculate a value slightly\n  // larger than that used in the article.\n  if (rtt > 100) {\n    return 4 * rtt; // rto > 400msec\n  }\n  return 300 + rtt; // 300msec < rto <= 400msec\n};\n\nmodule.exports = function(availableTransports) {\n  transports = transport(availableTransports);\n  require('./iframe-bootstrap')(SockJS, availableTransports);\n  return SockJS;\n};\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./event/close\":2,\"./event/event\":4,\"./event/eventtarget\":5,\"./event/trans-message\":6,\"./iframe-bootstrap\":8,\"./info-receiver\":12,\"./location\":13,\"./shims\":15,\"./utils/browser\":44,\"./utils/escape\":45,\"./utils/event\":46,\"./utils/log\":48,\"./utils/object\":49,\"./utils/random\":50,\"./utils/transport\":51,\"./utils/url\":52,\"./version\":53,\"debug\":55,\"inherits\":57,\"json3\":58,\"url-parse\":61}],15:[function(require,module,exports){\n/* eslint-disable */\n/* jscs: disable */\n'use strict';\n\n// pulled specific shims from https://github.com/es-shims/es5-shim\n\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar array_slice = ArrayPrototype.slice;\n\nvar _toString = ObjectPrototype.toString;\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === '[object String]';\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n    }\n    return Object(o);\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction ToUint32(x) {\n    return x >>> 0;\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline  ? 'm' : '') +\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nmodule.exports = [\n  // streaming transports\n  require('./transport/websocket')\n, require('./transport/xhr-streaming')\n, require('./transport/xdr-streaming')\n, require('./transport/eventsource')\n, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))\n\n  // polling transports\n, require('./transport/htmlfile')\n, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))\n, require('./transport/xhr-polling')\n, require('./transport/xdr-polling')\n, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))\n, require('./transport/jsonp-polling')\n];\n\n},{\"./transport/eventsource\":20,\"./transport/htmlfile\":21,\"./transport/jsonp-polling\":23,\"./transport/lib/iframe-wrap\":26,\"./transport/websocket\":38,\"./transport/xdr-polling\":39,\"./transport/xdr-streaming\":40,\"./transport/xhr-polling\":41,\"./transport/xhr-streaming\":42}],17:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('../../utils/event')\n  , urlUtils = require('../../utils/url')\n  , XHR = global.XMLHttpRequest\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:browser:xhr');\n}\n\nfunction AbstractXHRObject(method, url, payload, opts) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function () {\n    self._start(method, url, payload, opts);\n  }, 0);\n}\n\ninherits(AbstractXHRObject, EventEmitter);\n\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\n  var self = this;\n\n  try {\n    this.xhr = new XHR();\n  } catch (x) {\n    // intentionally empty\n  }\n\n  if (!this.xhr) {\n    debug('no xhr');\n    this.emit('finish', 0, 'no xhr support');\n    this._cleanup();\n    return;\n  }\n\n  // several browsers cache POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  // Explorer tends to keep connection open, even after the\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload cleanup');\n    self._cleanup(true);\n  });\n  try {\n    this.xhr.open(method, url, true);\n    if (this.timeout && 'timeout' in this.xhr) {\n      this.xhr.timeout = this.timeout;\n      this.xhr.ontimeout = function() {\n        debug('xhr timeout');\n        self.emit('finish', 0, '');\n        self._cleanup(false);\n      };\n    }\n  } catch (e) {\n    debug('exception', e);\n    // IE raises an exception on wrong port.\n    this.emit('finish', 0, '');\n    this._cleanup(false);\n    return;\n  }\n\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\n    debug('withCredentials');\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\n    // \"This never affects same-site requests.\"\n\n    this.xhr.withCredentials = true;\n  }\n  if (opts && opts.headers) {\n    for (var key in opts.headers) {\n      this.xhr.setRequestHeader(key, opts.headers[key]);\n    }\n  }\n\n  this.xhr.onreadystatechange = function() {\n    if (self.xhr) {\n      var x = self.xhr;\n      var text, status;\n      debug('readyState', x.readyState);\n      switch (x.readyState) {\n      case 3:\n        // IE doesn't like peeking into responseText or status\n        // on Microsoft.XMLHTTP and readystate=3\n        try {\n          status = x.status;\n          text = x.responseText;\n        } catch (e) {\n          // intentionally empty\n        }\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n\n        // IE does return readystate == 3 for 404 answers.\n        if (status === 200 && text && text.length > 0) {\n          debug('chunk');\n          self.emit('chunk', status, text);\n        }\n        break;\n      case 4:\n        status = x.status;\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n        // IE returns this for a bad port\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\n        if (status === 12005 || status === 12029) {\n          status = 0;\n        }\n\n        debug('finish', status, x.responseText);\n        self.emit('finish', status, x.responseText);\n        self._cleanup(false);\n        break;\n      }\n    }\n  };\n\n  try {\n    self.xhr.send(payload);\n  } catch (e) {\n    self.emit('finish', 0, '');\n    self._cleanup(false);\n  }\n};\n\nAbstractXHRObject.prototype._cleanup = function(abort) {\n  debug('cleanup');\n  if (!this.xhr) {\n    return;\n  }\n  this.removeAllListeners();\n  utils.unloadDel(this.unloadRef);\n\n  // IE needs this field to be a function\n  this.xhr.onreadystatechange = function() {};\n  if (this.xhr.ontimeout) {\n    this.xhr.ontimeout = null;\n  }\n\n  if (abort) {\n    try {\n      this.xhr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xhr = null;\n};\n\nAbstractXHRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\nAbstractXHRObject.enabled = !!XHR;\n// override XMLHttpRequest for IE6/7\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (!AbstractXHRObject.enabled && (axo in global)) {\n  debug('overriding xmlhttprequest');\n  XHR = function() {\n    try {\n      return new global[axo]('Microsoft.XMLHTTP');\n    } catch (e) {\n      return null;\n    }\n  };\n  AbstractXHRObject.enabled = !!new XHR();\n}\n\nvar cors = false;\ntry {\n  cors = 'withCredentials' in new XHR();\n} catch (ignored) {\n  // intentionally empty\n}\n\nAbstractXHRObject.supportsCORS = cors;\n\nmodule.exports = AbstractXHRObject;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/event\":46,\"../../utils/url\":52,\"debug\":55,\"events\":3,\"inherits\":57}],18:[function(require,module,exports){\n(function (global){\nmodule.exports = global.EventSource;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],19:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Driver = global.WebSocket || global.MozWebSocket;\nif (Driver) {\n\tmodule.exports = function WebSocketBrowserDriver(url) {\n\t\treturn new Driver(url);\n\t};\n} else {\n\tmodule.exports = undefined;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , EventSourceReceiver = require('./receiver/eventsource')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , EventSourceDriver = require('eventsource')\n  ;\n\nfunction EventSourceTransport(transUrl) {\n  if (!EventSourceTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\n}\n\ninherits(EventSourceTransport, AjaxBasedTransport);\n\nEventSourceTransport.enabled = function() {\n  return !!EventSourceDriver;\n};\n\nEventSourceTransport.transportName = 'eventsource';\nEventSourceTransport.roundTrips = 2;\n\nmodule.exports = EventSourceTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/eventsource\":29,\"./sender/xhr-cors\":35,\"eventsource\":18,\"inherits\":57}],21:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , HtmlfileReceiver = require('./receiver/htmlfile')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  ;\n\nfunction HtmlFileTransport(transUrl) {\n  if (!HtmlfileReceiver.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\n}\n\ninherits(HtmlFileTransport, AjaxBasedTransport);\n\nHtmlFileTransport.enabled = function(info) {\n  return HtmlfileReceiver.enabled && info.sameOrigin;\n};\n\nHtmlFileTransport.transportName = 'htmlfile';\nHtmlFileTransport.roundTrips = 2;\n\nmodule.exports = HtmlFileTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/htmlfile\":30,\"./sender/xhr-local\":37,\"inherits\":57}],22:[function(require,module,exports){\n(function (process){\n'use strict';\n\n// Few cool transports do work only for same-origin. In order to make\n// them work cross-domain we shall use iframe, served from the\n// remote domain. New browsers have capabilities to communicate with\n// cross domain iframe using postMessage(). In IE it was implemented\n// from IE 8+, but of course, IE got some details wrong:\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\n//    http://stevesouders.com/misc/test-postmessage.php\n\nvar inherits = require('inherits')\n  , JSON3 = require('json3')\n  , EventEmitter = require('events').EventEmitter\n  , version = require('../version')\n  , urlUtils = require('../utils/url')\n  , iframeUtils = require('../utils/iframe')\n  , eventUtils = require('../utils/event')\n  , random = require('../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:transport:iframe');\n}\n\nfunction IframeTransport(transport, transUrl, baseUrl) {\n  if (!IframeTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  EventEmitter.call(this);\n\n  var self = this;\n  this.origin = urlUtils.getOrigin(baseUrl);\n  this.baseUrl = baseUrl;\n  this.transUrl = transUrl;\n  this.transport = transport;\n  this.windowId = random.string(8);\n\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\n  debug(transport, transUrl, iframeUrl);\n\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\n    debug('err callback');\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\n    self.close();\n  });\n\n  this.onmessageCallback = this._message.bind(this);\n  eventUtils.attachEvent('message', this.onmessageCallback);\n}\n\ninherits(IframeTransport, EventEmitter);\n\nIframeTransport.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.iframeObj) {\n    eventUtils.detachEvent('message', this.onmessageCallback);\n    try {\n      // When the iframe is not loaded, IE raises an exception\n      // on 'contentWindow'.\n      this.postMessage('c');\n    } catch (x) {\n      // intentionally empty\n    }\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n    this.onmessageCallback = this.iframeObj = null;\n  }\n};\n\nIframeTransport.prototype._message = function(e) {\n  debug('message', e.data);\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\n    debug('not same origin', e.origin, this.origin);\n    return;\n  }\n\n  var iframeMessage;\n  try {\n    iframeMessage = JSON3.parse(e.data);\n  } catch (ignored) {\n    debug('bad json', e.data);\n    return;\n  }\n\n  if (iframeMessage.windowId !== this.windowId) {\n    debug('mismatched window id', iframeMessage.windowId, this.windowId);\n    return;\n  }\n\n  switch (iframeMessage.type) {\n  case 's':\n    this.iframeObj.loaded();\n    // window global dependency\n    this.postMessage('s', JSON3.stringify([\n      version\n    , this.transport\n    , this.transUrl\n    , this.baseUrl\n    ]));\n    break;\n  case 't':\n    this.emit('message', iframeMessage.data);\n    break;\n  case 'c':\n    var cdata;\n    try {\n      cdata = JSON3.parse(iframeMessage.data);\n    } catch (ignored) {\n      debug('bad json', iframeMessage.data);\n      return;\n    }\n    this.emit('close', cdata[0], cdata[1]);\n    this.close();\n    break;\n  }\n};\n\nIframeTransport.prototype.postMessage = function(type, data) {\n  debug('postMessage', type, data);\n  this.iframeObj.post(JSON3.stringify({\n    windowId: this.windowId\n  , type: type\n  , data: data || ''\n  }), this.origin);\n};\n\nIframeTransport.prototype.send = function(message) {\n  debug('send', message);\n  this.postMessage('m', message);\n};\n\nIframeTransport.enabled = function() {\n  return iframeUtils.iframeEnabled;\n};\n\nIframeTransport.transportName = 'iframe';\nIframeTransport.roundTrips = 2;\n\nmodule.exports = IframeTransport;\n\n}).call(this,{ env: {} })\n\n},{\"../utils/event\":46,\"../utils/iframe\":47,\"../utils/random\":50,\"../utils/url\":52,\"../version\":53,\"debug\":55,\"events\":3,\"inherits\":57,\"json3\":58}],23:[function(require,module,exports){\n(function (global){\n'use strict';\n\n// The simplest and most robust transport, using the well-know cross\n// domain hack - JSONP. This transport is quite inefficient - one\n// message could use up to one http request. But at least it works almost\n// everywhere.\n// Known limitations:\n//   o you will get a spinning cursor\n//   o for Konqueror a dumb timer is needed to detect errors\n\nvar inherits = require('inherits')\n  , SenderReceiver = require('./lib/sender-receiver')\n  , JsonpReceiver = require('./receiver/jsonp')\n  , jsonpSender = require('./sender/jsonp')\n  ;\n\nfunction JsonPTransport(transUrl) {\n  if (!JsonPTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\n}\n\ninherits(JsonPTransport, SenderReceiver);\n\nJsonPTransport.enabled = function() {\n  return !!global.document;\n};\n\nJsonPTransport.transportName = 'jsonp-polling';\nJsonPTransport.roundTrips = 1;\nJsonPTransport.needBody = true;\n\nmodule.exports = JsonPTransport;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./lib/sender-receiver\":28,\"./receiver/jsonp\":31,\"./sender/jsonp\":33,\"inherits\":57}],24:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , SenderReceiver = require('./sender-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:ajax-based');\n}\n\nfunction createAjaxSender(AjaxObject) {\n  return function(url, payload, callback) {\n    debug('create ajax sender', url, payload);\n    var opt = {};\n    if (typeof payload === 'string') {\n      opt.headers = {'Content-type': 'text/plain'};\n    }\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\n    xo.once('finish', function(status) {\n      debug('finish', status);\n      xo = null;\n\n      if (status !== 200 && status !== 204) {\n        return callback(new Error('http status ' + status));\n      }\n      callback();\n    });\n    return function() {\n      debug('abort');\n      xo.close();\n      xo = null;\n\n      var err = new Error('Aborted');\n      err.code = 1000;\n      callback(err);\n    };\n  };\n}\n\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\n}\n\ninherits(AjaxBasedTransport, SenderReceiver);\n\nmodule.exports = AjaxBasedTransport;\n\n}).call(this,{ env: {} })\n\n},{\"../../utils/url\":52,\"./sender-receiver\":28,\"debug\":55,\"inherits\":57}],25:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:buffered-sender');\n}\n\nfunction BufferedSender(url, sender) {\n  debug(url);\n  EventEmitter.call(this);\n  this.sendBuffer = [];\n  this.sender = sender;\n  this.url = url;\n}\n\ninherits(BufferedSender, EventEmitter);\n\nBufferedSender.prototype.send = function(message) {\n  debug('send', message);\n  this.sendBuffer.push(message);\n  if (!this.sendStop) {\n    this.sendSchedule();\n  }\n};\n\n// For polling transports in a situation when in the message callback,\n// new message is being send. If the sending connection was started\n// before receiving one, it is possible to saturate the network and\n// timeout due to the lack of receiving socket. To avoid that we delay\n// sending messages by some small time, in order to let receiving\n// connection be started beforehand. This is only a halfmeasure and\n// does not fix the big problem, but it does make the tests go more\n// stable on slow networks.\nBufferedSender.prototype.sendScheduleWait = function() {\n  debug('sendScheduleWait');\n  var self = this;\n  var tref;\n  this.sendStop = function() {\n    debug('sendStop');\n    self.sendStop = null;\n    clearTimeout(tref);\n  };\n  tref = setTimeout(function() {\n    debug('timeout');\n    self.sendStop = null;\n    self.sendSchedule();\n  }, 25);\n};\n\nBufferedSender.prototype.sendSchedule = function() {\n  debug('sendSchedule', this.sendBuffer.length);\n  var self = this;\n  if (this.sendBuffer.length > 0) {\n    var payload = '[' + this.sendBuffer.join(',') + ']';\n    this.sendStop = this.sender(this.url, payload, function(err) {\n      self.sendStop = null;\n      if (err) {\n        debug('error', err);\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\n        self.close();\n      } else {\n        self.sendScheduleWait();\n      }\n    });\n    this.sendBuffer = [];\n  }\n};\n\nBufferedSender.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nBufferedSender.prototype.close = function() {\n  debug('close');\n  this._cleanup();\n  if (this.sendStop) {\n    this.sendStop();\n    this.sendStop = null;\n  }\n};\n\nmodule.exports = BufferedSender;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":55,\"events\":3,\"inherits\":57}],26:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/object\":49,\"../iframe\":22,\"inherits\":57}],27:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:polling');\n}\n\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\n  debug(receiveUrl);\n  EventEmitter.call(this);\n  this.Receiver = Receiver;\n  this.receiveUrl = receiveUrl;\n  this.AjaxObject = AjaxObject;\n  this._scheduleReceiver();\n}\n\ninherits(Polling, EventEmitter);\n\nPolling.prototype._scheduleReceiver = function() {\n  debug('_scheduleReceiver');\n  var self = this;\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\n\n  poll.on('message', function(msg) {\n    debug('message', msg);\n    self.emit('message', msg);\n  });\n\n  poll.once('close', function(code, reason) {\n    debug('close', code, reason, self.pollIsClosing);\n    self.poll = poll = null;\n\n    if (!self.pollIsClosing) {\n      if (reason === 'network') {\n        self._scheduleReceiver();\n      } else {\n        self.emit('close', code || 1006, reason);\n        self.removeAllListeners();\n      }\n    }\n  });\n};\n\nPolling.prototype.abort = function() {\n  debug('abort');\n  this.removeAllListeners();\n  this.pollIsClosing = true;\n  if (this.poll) {\n    this.poll.abort();\n  }\n};\n\nmodule.exports = Polling;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":55,\"events\":3,\"inherits\":57}],28:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , BufferedSender = require('./buffered-sender')\n  , Polling = require('./polling')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender-receiver');\n}\n\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\n  debug(pollUrl);\n  var self = this;\n  BufferedSender.call(this, transUrl, senderFunc);\n\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\n  this.poll.on('message', function(msg) {\n    debug('poll message', msg);\n    self.emit('message', msg);\n  });\n  this.poll.once('close', function(code, reason) {\n    debug('poll close', code, reason);\n    self.poll = null;\n    self.emit('close', code, reason);\n    self.close();\n  });\n}\n\ninherits(SenderReceiver, BufferedSender);\n\nSenderReceiver.prototype.close = function() {\n  BufferedSender.prototype.close.call(this);\n  debug('close');\n  this.removeAllListeners();\n  if (this.poll) {\n    this.poll.abort();\n    this.poll = null;\n  }\n};\n\nmodule.exports = SenderReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"../../utils/url\":52,\"./buffered-sender\":25,\"./polling\":27,\"debug\":55,\"inherits\":57}],29:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , EventSourceDriver = require('eventsource')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:eventsource');\n}\n\nfunction EventSourceReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n\n  var self = this;\n  var es = this.es = new EventSourceDriver(url);\n  es.onmessage = function(e) {\n    debug('message', e.data);\n    self.emit('message', decodeURI(e.data));\n  };\n  es.onerror = function(e) {\n    debug('error', es.readyState, e);\n    // ES on reconnection has readyState = 0 or 1.\n    // on network error it's CLOSED = 2\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\n    self._cleanup();\n    self._close(reason);\n  };\n}\n\ninherits(EventSourceReceiver, EventEmitter);\n\nEventSourceReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nEventSourceReceiver.prototype._cleanup = function() {\n  debug('cleanup');\n  var es = this.es;\n  if (es) {\n    es.onmessage = es.onerror = null;\n    es.close();\n    this.es = null;\n  }\n};\n\nEventSourceReceiver.prototype._close = function(reason) {\n  debug('close', reason);\n  var self = this;\n  // Safari and chrome < 15 crash if we close window before\n  // waiting for ES cleanup. See:\n  // https://code.google.com/p/chromium/issues/detail?id=89155\n  setTimeout(function() {\n    self.emit('close', null, reason);\n    self.removeAllListeners();\n  }, 200);\n};\n\nmodule.exports = EventSourceReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":55,\"events\":3,\"eventsource\":18,\"inherits\":57}],30:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar inherits = require('inherits')\n  , iframeUtils = require('../../utils/iframe')\n  , urlUtils = require('../../utils/url')\n  , EventEmitter = require('events').EventEmitter\n  , random = require('../../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:htmlfile');\n}\n\nfunction HtmlfileReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n  iframeUtils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\n\n  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\n\n  global[iframeUtils.WPrefix][this.id] = {\n    start: function() {\n      debug('start');\n      self.iframeObj.loaded();\n    }\n  , message: function(data) {\n      debug('message', data);\n      self.emit('message', data);\n    }\n  , stop: function() {\n      debug('stop');\n      self._cleanup();\n      self._close('network');\n    }\n  };\n  this.iframeObj = constructFunc(url, function() {\n    debug('callback');\n    self._cleanup();\n    self._close('permanent');\n  });\n}\n\ninherits(HtmlfileReceiver, EventEmitter);\n\nHtmlfileReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nHtmlfileReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  if (this.iframeObj) {\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n  }\n  delete global[iframeUtils.WPrefix][this.id];\n};\n\nHtmlfileReceiver.prototype._close = function(reason) {\n  debug('_close', reason);\n  this.emit('close', null, reason);\n  this.removeAllListeners();\n};\n\nHtmlfileReceiver.htmlfileEnabled = false;\n\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (axo in global) {\n  try {\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\n  } catch (x) {\n    // intentionally empty\n  }\n}\n\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\n\nmodule.exports = HtmlfileReceiver;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/iframe\":47,\"../../utils/random\":50,\"../../utils/url\":52,\"debug\":55,\"events\":3,\"inherits\":57}],31:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar utils = require('../../utils/iframe')\n  , random = require('../../utils/random')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:jsonp');\n}\n\nfunction JsonpReceiver(url) {\n  debug(url);\n  var self = this;\n  EventEmitter.call(this);\n\n  utils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\n\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\n  this._createScript(urlWithId);\n\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\n  this.timeoutId = setTimeout(function() {\n    debug('timeout');\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\n  }, JsonpReceiver.timeout);\n}\n\ninherits(JsonpReceiver, EventEmitter);\n\nJsonpReceiver.prototype.abort = function() {\n  debug('abort');\n  if (global[utils.WPrefix][this.id]) {\n    var err = new Error('JSONP user aborted read');\n    err.code = 1000;\n    this._abort(err);\n  }\n};\n\nJsonpReceiver.timeout = 35000;\nJsonpReceiver.scriptErrorTimeout = 1000;\n\nJsonpReceiver.prototype._callback = function(data) {\n  debug('_callback', data);\n  this._cleanup();\n\n  if (this.aborting) {\n    return;\n  }\n\n  if (data) {\n    debug('message', data);\n    this.emit('message', data);\n  }\n  this.emit('close', null, 'network');\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._abort = function(err) {\n  debug('_abort', err);\n  this._cleanup();\n  this.aborting = true;\n  this.emit('close', err.code, err.message);\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  clearTimeout(this.timeoutId);\n  if (this.script2) {\n    this.script2.parentNode.removeChild(this.script2);\n    this.script2 = null;\n  }\n  if (this.script) {\n    var script = this.script;\n    // Unfortunately, you can't really abort script loading of\n    // the script.\n    script.parentNode.removeChild(script);\n    script.onreadystatechange = script.onerror =\n        script.onload = script.onclick = null;\n    this.script = null;\n  }\n  delete global[utils.WPrefix][this.id];\n};\n\nJsonpReceiver.prototype._scriptError = function() {\n  debug('_scriptError');\n  var self = this;\n  if (this.errorTimer) {\n    return;\n  }\n\n  this.errorTimer = setTimeout(function() {\n    if (!self.loadedOkay) {\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\n    }\n  }, JsonpReceiver.scriptErrorTimeout);\n};\n\nJsonpReceiver.prototype._createScript = function(url) {\n  debug('_createScript', url);\n  var self = this;\n  var script = this.script = global.document.createElement('script');\n  var script2;  // Opera synchronous load trick.\n\n  script.id = 'a' + random.string(8);\n  script.src = url;\n  script.type = 'text/javascript';\n  script.charset = 'UTF-8';\n  script.onerror = this._scriptError.bind(this);\n  script.onload = function() {\n    debug('onload');\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\n  };\n\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\n  // Use loadedOkay to determine if actually errored\n  script.onreadystatechange = function() {\n    debug('onreadystatechange', script.readyState);\n    if (/loaded|closed/.test(script.readyState)) {\n      if (script && script.htmlFor && script.onclick) {\n        self.loadedOkay = true;\n        try {\n          // In IE, actually execute the script.\n          script.onclick();\n        } catch (x) {\n          // intentionally empty\n        }\n      }\n      if (script) {\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\n      }\n    }\n  };\n  // IE: event/htmlFor/onclick trick.\n  // One can't rely on proper order for onreadystatechange. In order to\n  // make sure, set a 'htmlFor' and 'event' properties, so that\n  // script code will be installed as 'onclick' handler for the\n  // script object. Later, onreadystatechange, manually execute this\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\n  // set. For reference see:\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n  // Also, read on that about script ordering:\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\n    // According to mozilla docs, in recent browsers script.async defaults\n    // to 'true', so we may use it to detect a good browser:\n    // https://developer.mozilla.org/en/HTML/Element/script\n    if (!browser.isOpera()) {\n      // Naively assume we're in IE\n      try {\n        script.htmlFor = script.id;\n        script.event = 'onclick';\n      } catch (x) {\n        // intentionally empty\n      }\n      script.async = true;\n    } else {\n      // Opera, second sync script hack\n      script2 = this.script2 = global.document.createElement('script');\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\n      script.async = script2.async = false;\n    }\n  }\n  if (typeof script.async !== 'undefined') {\n    script.async = true;\n  }\n\n  var head = global.document.getElementsByTagName('head')[0];\n  head.insertBefore(script, head.firstChild);\n  if (script2) {\n    head.insertBefore(script2, head.firstChild);\n  }\n};\n\nmodule.exports = JsonpReceiver;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/browser\":44,\"../../utils/iframe\":47,\"../../utils/random\":50,\"../../utils/url\":52,\"debug\":55,\"events\":3,\"inherits\":57}],32:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:xhr');\n}\n\nfunction XhrReceiver(url, AjaxObject) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n\n  this.bufferPosition = 0;\n\n  this.xo = new AjaxObject('POST', url, null);\n  this.xo.on('chunk', this._chunkHandler.bind(this));\n  this.xo.once('finish', function(status, text) {\n    debug('finish', status, text);\n    self._chunkHandler(status, text);\n    self.xo = null;\n    var reason = status === 200 ? 'network' : 'permanent';\n    debug('close', reason);\n    self.emit('close', null, reason);\n    self._cleanup();\n  });\n}\n\ninherits(XhrReceiver, EventEmitter);\n\nXhrReceiver.prototype._chunkHandler = function(status, text) {\n  debug('_chunkHandler', status);\n  if (status !== 200 || !text) {\n    return;\n  }\n\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\n    var buf = text.slice(this.bufferPosition);\n    idx = buf.indexOf('\\n');\n    if (idx === -1) {\n      break;\n    }\n    var msg = buf.slice(0, idx);\n    if (msg) {\n      debug('message', msg);\n      this.emit('message', msg);\n    }\n  }\n};\n\nXhrReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nXhrReceiver.prototype.abort = function() {\n  debug('abort');\n  if (this.xo) {\n    this.xo.close();\n    debug('close');\n    this.emit('close', null, 'user');\n    this.xo = null;\n  }\n  this._cleanup();\n};\n\nmodule.exports = XhrReceiver;\n\n}).call(this,{ env: {} })\n\n},{\"debug\":55,\"events\":3,\"inherits\":57}],33:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar random = require('../../utils/random')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:jsonp');\n}\n\nvar form, area;\n\nfunction createIframe(id) {\n  debug('createIframe', id);\n  try {\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n    return global.document.createElement('<iframe name=\"' + id + '\">');\n  } catch (x) {\n    var iframe = global.document.createElement('iframe');\n    iframe.name = id;\n    return iframe;\n  }\n}\n\nfunction createForm() {\n  debug('createForm');\n  form = global.document.createElement('form');\n  form.style.display = 'none';\n  form.style.position = 'absolute';\n  form.method = 'POST';\n  form.enctype = 'application/x-www-form-urlencoded';\n  form.acceptCharset = 'UTF-8';\n\n  area = global.document.createElement('textarea');\n  area.name = 'd';\n  form.appendChild(area);\n\n  global.document.body.appendChild(form);\n}\n\nmodule.exports = function(url, payload, callback) {\n  debug(url, payload);\n  if (!form) {\n    createForm();\n  }\n  var id = 'a' + random.string(8);\n  form.target = id;\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\n\n  var iframe = createIframe(id);\n  iframe.id = id;\n  iframe.style.display = 'none';\n  form.appendChild(iframe);\n\n  try {\n    area.value = payload;\n  } catch (e) {\n    // seriously broken browsers get here\n  }\n  form.submit();\n\n  var completed = function(err) {\n    debug('completed', id, err);\n    if (!iframe.onerror) {\n      return;\n    }\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\n    // Opera mini doesn't like if we GC iframe\n    // immediately, thus this timeout.\n    setTimeout(function() {\n      debug('cleaning up', id);\n      iframe.parentNode.removeChild(iframe);\n      iframe = null;\n    }, 500);\n    area.value = '';\n    // It is not possible to detect if the iframe succeeded or\n    // failed to submit our form.\n    callback(err);\n  };\n  iframe.onerror = function() {\n    debug('onerror', id);\n    completed();\n  };\n  iframe.onload = function() {\n    debug('onload', id);\n    completed();\n  };\n  iframe.onreadystatechange = function(e) {\n    debug('onreadystatechange', id, iframe.readyState, e);\n    if (iframe.readyState === 'complete') {\n      completed();\n    }\n  };\n  return function() {\n    debug('aborted', id);\n    completed(new Error('Aborted'));\n  };\n};\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/random\":50,\"../../utils/url\":52,\"debug\":55}],34:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , eventUtils = require('../../utils/event')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:xdr');\n}\n\n// References:\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\nfunction XDRObject(method, url, payload) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self._start(method, url, payload);\n  }, 0);\n}\n\ninherits(XDRObject, EventEmitter);\n\nXDRObject.prototype._start = function(method, url, payload) {\n  debug('_start');\n  var self = this;\n  var xdr = new global.XDomainRequest();\n  // IE caches even POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  xdr.onerror = function() {\n    debug('onerror');\n    self._error();\n  };\n  xdr.ontimeout = function() {\n    debug('ontimeout');\n    self._error();\n  };\n  xdr.onprogress = function() {\n    debug('progress', xdr.responseText);\n    self.emit('chunk', 200, xdr.responseText);\n  };\n  xdr.onload = function() {\n    debug('load');\n    self.emit('finish', 200, xdr.responseText);\n    self._cleanup(false);\n  };\n  this.xdr = xdr;\n  this.unloadRef = eventUtils.unloadAdd(function() {\n    self._cleanup(true);\n  });\n  try {\n    // Fails with AccessDenied if port number is bogus\n    this.xdr.open(method, url);\n    if (this.timeout) {\n      this.xdr.timeout = this.timeout;\n    }\n    this.xdr.send(payload);\n  } catch (x) {\n    this._error();\n  }\n};\n\nXDRObject.prototype._error = function() {\n  this.emit('finish', 0, '');\n  this._cleanup(false);\n};\n\nXDRObject.prototype._cleanup = function(abort) {\n  debug('cleanup', abort);\n  if (!this.xdr) {\n    return;\n  }\n  this.removeAllListeners();\n  eventUtils.unloadDel(this.unloadRef);\n\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\n  if (abort) {\n    try {\n      this.xdr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xdr = null;\n};\n\nXDRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\n// IE 8/9 if the request target uses the same scheme - #79\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\n\nmodule.exports = XDRObject;\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../utils/browser\":44,\"../../utils/event\":46,\"../../utils/url\":52,\"debug\":55,\"events\":3,\"inherits\":57}],35:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRCorsObject(method, url, payload, opts) {\n  XhrDriver.call(this, method, url, payload, opts);\n}\n\ninherits(XHRCorsObject, XhrDriver);\n\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\n\nmodule.exports = XHRCorsObject;\n\n},{\"../driver/xhr\":17,\"inherits\":57}],36:[function(require,module,exports){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  ;\n\nfunction XHRFake(/* method, url, payload, opts */) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.to = setTimeout(function() {\n    self.emit('finish', 200, '{}');\n  }, XHRFake.timeout);\n}\n\ninherits(XHRFake, EventEmitter);\n\nXHRFake.prototype.close = function() {\n  clearTimeout(this.to);\n};\n\nXHRFake.timeout = 2000;\n\nmodule.exports = XHRFake;\n\n},{\"events\":3,\"inherits\":57}],37:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRLocalObject(method, url, payload /*, opts */) {\n  XhrDriver.call(this, method, url, payload, {\n    noCredentials: true\n  });\n}\n\ninherits(XHRLocalObject, XhrDriver);\n\nXHRLocalObject.enabled = XhrDriver.enabled;\n\nmodule.exports = XHRLocalObject;\n\n},{\"../driver/xhr\":17,\"inherits\":57}],38:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar utils = require('../utils/event')\n  , urlUtils = require('../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , WebsocketDriver = require('./driver/websocket')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:websocket');\n}\n\nfunction WebSocketTransport(transUrl, ignore, options) {\n  if (!WebSocketTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  EventEmitter.call(this);\n  debug('constructor', transUrl);\n\n  var self = this;\n  var url = urlUtils.addPath(transUrl, '/websocket');\n  if (url.slice(0, 5) === 'https') {\n    url = 'wss' + url.slice(5);\n  } else {\n    url = 'ws' + url.slice(4);\n  }\n  this.url = url;\n\n  this.ws = new WebsocketDriver(this.url, [], options);\n  this.ws.onmessage = function(e) {\n    debug('message event', e.data);\n    self.emit('message', e.data);\n  };\n  // Firefox has an interesting bug. If a websocket connection is\n  // created after onunload, it stays alive even when user\n  // navigates away from the page. In such situation let's lie -\n  // let's not open the ws connection at all. See:\n  // https://github.com/sockjs/sockjs-client/issues/28\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload');\n    self.ws.close();\n  });\n  this.ws.onclose = function(e) {\n    debug('close event', e.code, e.reason);\n    self.emit('close', e.code, e.reason);\n    self._cleanup();\n  };\n  this.ws.onerror = function(e) {\n    debug('error event', e);\n    self.emit('close', 1006, 'WebSocket connection broken');\n    self._cleanup();\n  };\n}\n\ninherits(WebSocketTransport, EventEmitter);\n\nWebSocketTransport.prototype.send = function(data) {\n  var msg = '[' + data + ']';\n  debug('send', msg);\n  this.ws.send(msg);\n};\n\nWebSocketTransport.prototype.close = function() {\n  debug('close');\n  var ws = this.ws;\n  this._cleanup();\n  if (ws) {\n    ws.close();\n  }\n};\n\nWebSocketTransport.prototype._cleanup = function() {\n  debug('_cleanup');\n  var ws = this.ws;\n  if (ws) {\n    ws.onmessage = ws.onclose = ws.onerror = null;\n  }\n  utils.unloadDel(this.unloadRef);\n  this.unloadRef = this.ws = null;\n  this.removeAllListeners();\n};\n\nWebSocketTransport.enabled = function() {\n  debug('enabled');\n  return !!WebsocketDriver;\n};\nWebSocketTransport.transportName = 'websocket';\n\n// In theory, ws should require 1 round trip. But in chrome, this is\n// not very stable over SSL. Most likely a ws connection requires a\n// separate SSL connection, in which case 2 round trips are an\n// absolute minumum.\nWebSocketTransport.roundTrips = 2;\n\nmodule.exports = WebSocketTransport;\n\n}).call(this,{ env: {} })\n\n},{\"../utils/event\":46,\"../utils/url\":52,\"./driver/websocket\":19,\"debug\":55,\"events\":3,\"inherits\":57}],39:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XdrStreamingTransport = require('./xdr-streaming')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\nfunction XdrPollingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\n}\n\ninherits(XdrPollingTransport, AjaxBasedTransport);\n\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\nXdrPollingTransport.transportName = 'xdr-polling';\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrPollingTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xdr\":34,\"./xdr-streaming\":40,\"inherits\":57}],40:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\n// According to:\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n\nfunction XdrStreamingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\n}\n\ninherits(XdrStreamingTransport, AjaxBasedTransport);\n\nXdrStreamingTransport.enabled = function(info) {\n  if (info.cookie_needed || info.nullOrigin) {\n    return false;\n  }\n  return XDRObject.enabled && info.sameScheme;\n};\n\nXdrStreamingTransport.transportName = 'xdr-streaming';\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrStreamingTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xdr\":34,\"inherits\":57}],41:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  ;\n\nfunction XhrPollingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrPollingTransport, AjaxBasedTransport);\n\nXhrPollingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n\n  if (XHRLocalObject.enabled && info.sameOrigin) {\n    return true;\n  }\n  return XHRCorsObject.enabled;\n};\n\nXhrPollingTransport.transportName = 'xhr-polling';\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XhrPollingTransport;\n\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xhr-cors\":35,\"./sender/xhr-local\":37,\"inherits\":57}],42:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , browser = require('../utils/browser')\n  ;\n\nfunction XhrStreamingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrStreamingTransport, AjaxBasedTransport);\n\nXhrStreamingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n  // Opera doesn't support xhr-streaming #60\n  // But it might be able to #92\n  if (browser.isOpera()) {\n    return false;\n  }\n\n  return XHRCorsObject.enabled;\n};\n\nXhrStreamingTransport.transportName = 'xhr-streaming';\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\n\n// Safari gets confused when a streaming ajax request is started\n// before onload. This causes the load indicator to spin indefinetely.\n// Only require body when used in a browser\nXhrStreamingTransport.needBody = !!global.document;\n\nmodule.exports = XhrStreamingTransport;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../utils/browser\":44,\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xhr-cors\":35,\"./sender/xhr-local\":37,\"inherits\":57}],43:[function(require,module,exports){\n(function (global){\n'use strict';\n\nif (global.crypto && global.crypto.getRandomValues) {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Uint8Array(length);\n    global.crypto.getRandomValues(bytes);\n    return bytes;\n  };\n} else {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Array(length);\n    for (var i = 0; i < length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],44:[function(require,module,exports){\n(function (global){\n'use strict';\n\nmodule.exports = {\n  isOpera: function() {\n    return global.navigator &&\n      /opera/i.test(global.navigator.userAgent);\n  }\n\n, isKonqueror: function() {\n    return global.navigator &&\n      /konqueror/i.test(global.navigator.userAgent);\n  }\n\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\n, hasDomain: function () {\n    // non-browser client always has a domain\n    if (!global.document) {\n      return true;\n    }\n\n    try {\n      return !!global.document.domain;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],45:[function(require,module,exports){\n'use strict';\n\nvar JSON3 = require('json3');\n\n// Some extra characters that Chrome gets wrong, and substitutes with\n// something else on the wire.\n// eslint-disable-next-line no-control-regex\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\n  , extraLookup;\n\n// This may be quite slow, so let's delay until user actually uses bad\n// characters.\nvar unrollLookup = function(escapable) {\n  var i;\n  var unrolled = {};\n  var c = [];\n  for (i = 0; i < 65536; i++) {\n    c.push( String.fromCharCode(i) );\n  }\n  escapable.lastIndex = 0;\n  c.join('').replace(escapable, function(a) {\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    return '';\n  });\n  escapable.lastIndex = 0;\n  return unrolled;\n};\n\n// Quote string, also taking care of unicode characters that browsers\n// often break. Especially, take care of unicode surrogates:\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\nmodule.exports = {\n  quote: function(string) {\n    var quoted = JSON3.stringify(string);\n\n    // In most cases this should be very fast and good enough.\n    extraEscapable.lastIndex = 0;\n    if (!extraEscapable.test(quoted)) {\n      return quoted;\n    }\n\n    if (!extraLookup) {\n      extraLookup = unrollLookup(extraEscapable);\n    }\n\n    return quoted.replace(extraEscapable, function(a) {\n      return extraLookup[a];\n    });\n  }\n};\n\n},{\"json3\":58}],46:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar random = require('./random');\n\nvar onUnload = {}\n  , afterUnload = false\n    // detect google chrome packaged apps because they don't allow the 'unload' event\n  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime\n  ;\n\nmodule.exports = {\n  attachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.addEventListener(event, listener, false);\n    } else if (global.document && global.attachEvent) {\n      // IE quirks.\n      // According to: http://stevesouders.com/misc/test-postmessage.php\n      // the message gets delivered only to 'document', not 'window'.\n      global.document.attachEvent('on' + event, listener);\n      // I get 'window' for ie8.\n      global.attachEvent('on' + event, listener);\n    }\n  }\n\n, detachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.removeEventListener(event, listener, false);\n    } else if (global.document && global.detachEvent) {\n      global.document.detachEvent('on' + event, listener);\n      global.detachEvent('on' + event, listener);\n    }\n  }\n\n, unloadAdd: function(listener) {\n    if (isChromePackagedApp) {\n      return null;\n    }\n\n    var ref = random.string(8);\n    onUnload[ref] = listener;\n    if (afterUnload) {\n      setTimeout(this.triggerUnloadCallbacks, 0);\n    }\n    return ref;\n  }\n\n, unloadDel: function(ref) {\n    if (ref in onUnload) {\n      delete onUnload[ref];\n    }\n  }\n\n, triggerUnloadCallbacks: function() {\n    for (var ref in onUnload) {\n      onUnload[ref]();\n      delete onUnload[ref];\n    }\n  }\n};\n\nvar unloadTriggered = function() {\n  if (afterUnload) {\n    return;\n  }\n  afterUnload = true;\n  module.exports.triggerUnloadCallbacks();\n};\n\n// 'unload' alone is not reliable in opera within an iframe, but we\n// can't use `beforeunload` as IE fires it on javascript: links.\nif (!isChromePackagedApp) {\n  module.exports.attachEvent('unload', unloadTriggered);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./random\":50}],47:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nvar eventUtils = require('./event')\n  , JSON3 = require('json3')\n  , browser = require('./browser')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:iframe');\n}\n\nmodule.exports = {\n  WPrefix: '_jp'\n, currentWindowId: null\n\n, polluteGlobalNamespace: function() {\n    if (!(module.exports.WPrefix in global)) {\n      global[module.exports.WPrefix] = {};\n    }\n  }\n\n, postMessage: function(type, data) {\n    if (global.parent !== global) {\n      global.parent.postMessage(JSON3.stringify({\n        windowId: module.exports.currentWindowId\n      , type: type\n      , data: data || ''\n      }), '*');\n    } else {\n      debug('Cannot postMessage, no parent window.', type, data);\n    }\n  }\n\n, createIframe: function(iframeUrl, errorCallback) {\n    var iframe = global.document.createElement('iframe');\n    var tref, unloadRef;\n    var unattach = function() {\n      debug('unattach');\n      clearTimeout(tref);\n      // Explorer had problems with that.\n      try {\n        iframe.onload = null;\n      } catch (x) {\n        // intentionally empty\n      }\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      debug('cleanup');\n      if (iframe) {\n        unattach();\n        // This timeout makes chrome fire onbeforeunload event\n        // within iframe. Without the timeout it goes straight to\n        // onunload.\n        setTimeout(function() {\n          if (iframe) {\n            iframe.parentNode.removeChild(iframe);\n          }\n          iframe = null;\n        }, 0);\n        eventUtils.unloadDel(unloadRef);\n      }\n    };\n    var onerror = function(err) {\n      debug('onerror', err);\n      if (iframe) {\n        cleanup();\n        errorCallback(err);\n      }\n    };\n    var post = function(msg, origin) {\n      debug('post', msg, origin);\n      setTimeout(function() {\n        try {\n          // When the iframe is not loaded, IE raises an exception\n          // on 'contentWindow'.\n          if (iframe && iframe.contentWindow) {\n            iframe.contentWindow.postMessage(msg, origin);\n          }\n        } catch (x) {\n          // intentionally empty\n        }\n      }, 0);\n    };\n\n    iframe.src = iframeUrl;\n    iframe.style.display = 'none';\n    iframe.style.position = 'absolute';\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    iframe.onload = function() {\n      debug('onload');\n      // `onload` is triggered before scripts on the iframe are\n      // executed. Give it few seconds to actually load stuff.\n      clearTimeout(tref);\n      tref = setTimeout(function() {\n        onerror('onload timeout');\n      }, 2000);\n    };\n    global.document.body.appendChild(iframe);\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n\n/* eslint no-undef: \"off\", new-cap: \"off\" */\n, createHtmlfile: function(iframeUrl, errorCallback) {\n    var axo = ['Active'].concat('Object').join('X');\n    var doc = new global[axo]('htmlfile');\n    var tref, unloadRef;\n    var iframe;\n    var unattach = function() {\n      clearTimeout(tref);\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      if (doc) {\n        unattach();\n        eventUtils.unloadDel(unloadRef);\n        iframe.parentNode.removeChild(iframe);\n        iframe = doc = null;\n        CollectGarbage();\n      }\n    };\n    var onerror = function(r) {\n      debug('onerror', r);\n      if (doc) {\n        cleanup();\n        errorCallback(r);\n      }\n    };\n    var post = function(msg, origin) {\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n              iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    doc.open();\n    doc.write('<html><s' + 'cript>' +\n              'document.domain=\"' + global.document.domain + '\";' +\n              '</s' + 'cript></html>');\n    doc.close();\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\n    var c = doc.createElement('div');\n    doc.body.appendChild(c);\n    iframe = doc.createElement('iframe');\n    c.appendChild(iframe);\n    iframe.src = iframeUrl;\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n};\n\nmodule.exports.iframeEnabled = false;\nif (global.document) {\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\n  // huge delay, or not at all.\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\n}\n\n}).call(this,{ env: {} },typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./browser\":44,\"./event\":46,\"debug\":55,\"json3\":58}],48:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar logObject = {};\n['log', 'debug', 'warn'].forEach(function (level) {\n  var levelExists;\n\n  try {\n    levelExists = global.console && global.console[level] && global.console[level].apply;\n  } catch(e) {\n    // do nothing\n  }\n\n  logObject[level] = levelExists ? function () {\n    return global.console[level].apply(global.console, arguments);\n  } : (level === 'log' ? function () {} : logObject.log);\n});\n\nmodule.exports = logObject;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],49:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  isObject: function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n, extend: function(obj) {\n    if (!this.isObject(obj)) {\n      return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  }\n};\n\n},{}],50:[function(require,module,exports){\n'use strict';\n\n/* global crypto:true */\nvar crypto = require('crypto');\n\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\n// bias.\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\nmodule.exports = {\n  string: function(length) {\n    var max = _randomStringChars.length;\n    var bytes = crypto.randomBytes(length);\n    var ret = [];\n    for (var i = 0; i < length; i++) {\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\n    }\n    return ret.join('');\n  }\n\n, number: function(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n, numberString: function(max) {\n    var t = ('' + (max - 1)).length;\n    var p = new Array(t + 1).join('0');\n    return (p + this.number(max)).slice(-t);\n  }\n};\n\n},{\"crypto\":43}],51:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:transport');\n}\n\nmodule.exports = function(availableTransports) {\n  return {\n    filterToEnabled: function(transportsWhitelist, info) {\n      var transports = {\n        main: []\n      , facade: []\n      };\n      if (!transportsWhitelist) {\n        transportsWhitelist = [];\n      } else if (typeof transportsWhitelist === 'string') {\n        transportsWhitelist = [transportsWhitelist];\n      }\n\n      availableTransports.forEach(function(trans) {\n        if (!trans) {\n          return;\n        }\n\n        if (trans.transportName === 'websocket' && info.websocket === false) {\n          debug('disabled from server', 'websocket');\n          return;\n        }\n\n        if (transportsWhitelist.length &&\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\n          debug('not in whitelist', trans.transportName);\n          return;\n        }\n\n        if (trans.enabled(info)) {\n          debug('enabled', trans.transportName);\n          transports.main.push(trans);\n          if (trans.facadeTransport) {\n            transports.facade.push(trans.facadeTransport);\n          }\n        } else {\n          debug('disabled', trans.transportName);\n        }\n      });\n      return transports;\n    }\n  };\n};\n\n}).call(this,{ env: {} })\n\n},{\"debug\":55}],52:[function(require,module,exports){\n(function (process){\n'use strict';\n\nvar URL = require('url-parse');\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:url');\n}\n\nmodule.exports = {\n  getOrigin: function(url) {\n    if (!url) {\n      return null;\n    }\n\n    var p = new URL(url);\n    if (p.protocol === 'file:') {\n      return null;\n    }\n\n    var port = p.port;\n    if (!port) {\n      port = (p.protocol === 'https:') ? '443' : '80';\n    }\n\n    return p.protocol + '//' + p.hostname + ':' + port;\n  }\n\n, isOriginEqual: function(a, b) {\n    var res = this.getOrigin(a) === this.getOrigin(b);\n    debug('same', a, b, res);\n    return res;\n  }\n\n, isSchemeEqual: function(a, b) {\n    return (a.split(':')[0] === b.split(':')[0]);\n  }\n\n, addPath: function (url, path) {\n    var qs = url.split('?');\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\n  }\n\n, addQuery: function (url, q) {\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\n  }\n};\n\n}).call(this,{ env: {} })\n\n},{\"debug\":55,\"url-parse\":61}],53:[function(require,module,exports){\nmodule.exports = '1.3.0';\n\n},{}],54:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n},{}],55:[function(require,module,exports){\n(function (process){\n\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n}).call(this,{ env: {} })\n\n},{\"./common\":56}],56:[function(require,module,exports){\n\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n},{\"ms\":54}],57:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],58:[function(require,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],59:[function(require,module,exports){\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  return decodeURIComponent(input.replace(/\\+/g, ' '));\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    if (key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = [];\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n\n},{}],60:[function(require,module,exports){\n'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n\n},{}],61:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//;\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var location = global && global.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} location Location defaults for relative paths.\n * @param {Boolean|Function} parser Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.qs = qs;\n\nmodule.exports = Url;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"querystringify\":59,\"requires-port\":60}]},{},[1])(1)\n});\n\n\n//# sourceMappingURL=sockjs.js.map\n","'use strict';\nvar ansiRegex = require('ansi-regex')();\n\nmodule.exports = function (str) {\n\treturn typeof str === 'string' ? str.replace(ansiRegex, '') : str;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n/* eslint-disable\n  no-unused-vars\n*/\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BaseClient() {\n    _classCallCheck(this, BaseClient);\n  }\n\n  _createClass(BaseClient, null, [{\n    key: \"getClientPath\",\n    value: function getClientPath(options) {\n      throw new Error('Client needs implementation');\n    }\n  }]);\n\n  return BaseClient;\n}();","'use strict';\n/* eslint-disable\n  no-unused-vars\n*/\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SockJS = require('sockjs-client/dist/sockjs');\n\nvar BaseClient = require('./BaseClient');\n\nmodule.exports =\n/*#__PURE__*/\nfunction (_BaseClient) {\n  _inherits(SockJSClient, _BaseClient);\n\n  function SockJSClient(url) {\n    var _this;\n\n    _classCallCheck(this, SockJSClient);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SockJSClient).call(this));\n    _this.sock = new SockJS(url);\n    return _this;\n  }\n\n  _createClass(SockJSClient, [{\n    key: \"onOpen\",\n    value: function onOpen(f) {\n      this.sock.onopen = f;\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(f) {\n      this.sock.onclose = f;\n    } // call f with the message string as the first argument\n\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(f) {\n      this.sock.onmessage = function (e) {\n        f(e.data);\n      };\n    }\n  }], [{\n    key: \"getClientPath\",\n    value: function getClientPath(options) {\n      return require.resolve('./SockJSClient');\n    }\n  }]);\n\n  return SockJSClient;\n}(BaseClient);","'use strict';\n/* global __resourceQuery WorkerGlobalScope self */\n\n/* eslint prefer-destructuring: off */\n\nvar stripAnsi = require('strip-ansi');\n\nvar socket = require('./socket');\n\nvar overlay = require('./overlay');\n\nvar _require = require('./utils/log'),\n    log = _require.log,\n    setLogLevel = _require.setLogLevel;\n\nvar sendMessage = require('./utils/sendMessage');\n\nvar reloadApp = require('./utils/reloadApp');\n\nvar createSocketUrl = require('./utils/createSocketUrl');\n\nvar status = {\n  isUnloading: false,\n  currentHash: ''\n};\nvar options = {\n  hot: false,\n  hotReload: true,\n  liveReload: false,\n  initial: true,\n  useWarningOverlay: false,\n  useErrorOverlay: false,\n  useProgress: false\n};\nvar socketUrl = createSocketUrl(__resourceQuery);\nself.addEventListener('beforeunload', function () {\n  status.isUnloading = true;\n});\n\nif (typeof window !== 'undefined') {\n  var qs = window.location.search.toLowerCase();\n  options.hotReload = qs.indexOf('hotreload=false') === -1;\n}\n\nvar onSocketMessage = {\n  hot: function hot() {\n    options.hot = true;\n    log.info('[WDS] Hot Module Replacement enabled.');\n  },\n  liveReload: function liveReload() {\n    options.liveReload = true;\n    log.info('[WDS] Live Reloading enabled.');\n  },\n  invalid: function invalid() {\n    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('Invalid');\n  },\n  hash: function hash(_hash) {\n    status.currentHash = _hash;\n  },\n  'still-ok': function stillOk() {\n    log.info('[WDS] Nothing changed.');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('StillOk');\n  },\n  'log-level': function logLevel(level) {\n    var hotCtx = require.context('webpack/hot', false, /^\\.\\/log$/);\n\n    if (hotCtx.keys().indexOf('./log') !== -1) {\n      hotCtx('./log').setLogLevel(level);\n    }\n\n    setLogLevel(level);\n  },\n  overlay: function overlay(value) {\n    if (typeof document !== 'undefined') {\n      if (typeof value === 'boolean') {\n        options.useWarningOverlay = false;\n        options.useErrorOverlay = value;\n      } else if (value) {\n        options.useWarningOverlay = value.warnings;\n        options.useErrorOverlay = value.errors;\n      }\n    }\n  },\n  progress: function progress(_progress) {\n    if (typeof document !== 'undefined') {\n      options.useProgress = _progress;\n    }\n  },\n  'progress-update': function progressUpdate(data) {\n    if (options.useProgress) {\n      log.info(\"[WDS] \".concat(data.percent, \"% - \").concat(data.msg, \".\"));\n    }\n\n    sendMessage('Progress', data);\n  },\n  ok: function ok() {\n    sendMessage('Ok');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  'content-changed': function contentChanged() {\n    log.info('[WDS] Content base changed. Reloading...');\n    self.location.reload();\n  },\n  warnings: function warnings(_warnings) {\n    log.warn('[WDS] Warnings while compiling.');\n\n    var strippedWarnings = _warnings.map(function (warning) {\n      return stripAnsi(warning);\n    });\n\n    sendMessage('Warnings', strippedWarnings);\n\n    for (var i = 0; i < strippedWarnings.length; i++) {\n      log.warn(strippedWarnings[i]);\n    }\n\n    if (options.useWarningOverlay) {\n      overlay.showMessage(_warnings);\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  errors: function errors(_errors) {\n    log.error('[WDS] Errors while compiling. Reload prevented.');\n\n    var strippedErrors = _errors.map(function (error) {\n      return stripAnsi(error);\n    });\n\n    sendMessage('Errors', strippedErrors);\n\n    for (var i = 0; i < strippedErrors.length; i++) {\n      log.error(strippedErrors[i]);\n    }\n\n    if (options.useErrorOverlay) {\n      overlay.showMessage(_errors);\n    }\n\n    options.initial = false;\n  },\n  error: function error(_error) {\n    log.error(_error);\n  },\n  close: function close() {\n    log.error('[WDS] Disconnected!');\n    sendMessage('Close');\n  }\n};\nsocket(socketUrl, onSocketMessage);","'use strict'; // The error overlay is inspired (and mostly copied) from Create React App (https://github.com/facebookincubator/create-react-app)\n// They, in turn, got inspired by webpack-hot-middleware (https://github.com/glenjamin/webpack-hot-middleware).\n\nvar ansiHTML = require('ansi-html');\n\nvar _require = require('html-entities'),\n    AllHtmlEntities = _require.AllHtmlEntities;\n\nvar entities = new AllHtmlEntities();\nvar colors = {\n  reset: ['transparent', 'transparent'],\n  black: '181818',\n  red: 'E36049',\n  green: 'B3CB74',\n  yellow: 'FFD080',\n  blue: '7CAFC2',\n  magenta: '7FACCA',\n  cyan: 'C3C2EF',\n  lightgrey: 'EBE7E3',\n  darkgrey: '6D7891'\n};\nvar overlayIframe = null;\nvar overlayDiv = null;\nvar lastOnOverlayDivReady = null;\nansiHTML.setColors(colors);\n\nfunction createOverlayIframe(onIframeLoad) {\n  var iframe = document.createElement('iframe');\n  iframe.id = 'webpack-dev-server-client-overlay';\n  iframe.src = 'about:blank';\n  iframe.style.position = 'fixed';\n  iframe.style.left = 0;\n  iframe.style.top = 0;\n  iframe.style.right = 0;\n  iframe.style.bottom = 0;\n  iframe.style.width = '100vw';\n  iframe.style.height = '100vh';\n  iframe.style.border = 'none';\n  iframe.style.zIndex = 9999999999;\n  iframe.onload = onIframeLoad;\n  return iframe;\n}\n\nfunction addOverlayDivTo(iframe) {\n  var div = iframe.contentDocument.createElement('div');\n  div.id = 'webpack-dev-server-client-overlay-div';\n  div.style.position = 'fixed';\n  div.style.boxSizing = 'border-box';\n  div.style.left = 0;\n  div.style.top = 0;\n  div.style.right = 0;\n  div.style.bottom = 0;\n  div.style.width = '100vw';\n  div.style.height = '100vh';\n  div.style.backgroundColor = 'rgba(0, 0, 0, 0.85)';\n  div.style.color = '#E8E8E8';\n  div.style.fontFamily = 'Menlo, Consolas, monospace';\n  div.style.fontSize = 'large';\n  div.style.padding = '2rem';\n  div.style.lineHeight = '1.2';\n  div.style.whiteSpace = 'pre-wrap';\n  div.style.overflow = 'auto';\n  iframe.contentDocument.body.appendChild(div);\n  return div;\n}\n\nfunction ensureOverlayDivExists(onOverlayDivReady) {\n  if (overlayDiv) {\n    // Everything is ready, call the callback right away.\n    onOverlayDivReady(overlayDiv);\n    return;\n  } // Creating an iframe may be asynchronous so we'll schedule the callback.\n  // In case of multiple calls, last callback wins.\n\n\n  lastOnOverlayDivReady = onOverlayDivReady;\n\n  if (overlayIframe) {\n    // We've already created it.\n    return;\n  } // Create iframe and, when it is ready, a div inside it.\n\n\n  overlayIframe = createOverlayIframe(function () {\n    overlayDiv = addOverlayDivTo(overlayIframe); // Now we can talk!\n\n    lastOnOverlayDivReady(overlayDiv);\n  }); // Zalgo alert: onIframeLoad() will be called either synchronously\n  // or asynchronously depending on the browser.\n  // We delay adding it so `overlayIframe` is set when `onIframeLoad` fires.\n\n  document.body.appendChild(overlayIframe);\n} // Successful compilation.\n\n\nfunction clear() {\n  if (!overlayDiv) {\n    // It is not there in the first place.\n    return;\n  } // Clean up and reset internal state.\n\n\n  document.body.removeChild(overlayIframe);\n  overlayDiv = null;\n  overlayIframe = null;\n  lastOnOverlayDivReady = null;\n} // Compilation with errors (e.g. syntax error or missing modules).\n\n\nfunction showMessage(messages) {\n  ensureOverlayDivExists(function (div) {\n    // Make it look similar to our terminal.\n    div.innerHTML = \"<span style=\\\"color: #\".concat(colors.red, \"\\\">Failed to compile.</span><br><br>\").concat(ansiHTML(entities.encode(messages[0])));\n  });\n}\n\nmodule.exports = {\n  clear: clear,\n  showMessage: showMessage\n};","'use strict';\n/* global __webpack_dev_server_client__ */\n\n/* eslint-disable\n  camelcase\n*/\n// this SockJSClient is here as a default fallback, in case inline mode\n// is off or the client is not injected. This will be switched to\n// WebsocketClient when it becomes the default\n// important: the path to SockJSClient here is made to work in the 'client'\n// directory, but is updated via the webpack compilation when compiled from\n// the 'client-src' directory\n\nvar Client = typeof __webpack_dev_server_client__ !== 'undefined' ? __webpack_dev_server_client__ : // eslint-disable-next-line import/no-unresolved\nrequire('./clients/SockJSClient');\nvar retries = 0;\nvar client = null;\n\nvar socket = function initSocket(url, handlers) {\n  client = new Client(url);\n  client.onOpen(function () {\n    retries = 0;\n  });\n  client.onClose(function () {\n    if (retries === 0) {\n      handlers.close();\n    } // Try to reconnect.\n\n\n    client = null; // After 10 retries stop trying, to prevent logspam.\n\n    if (retries <= 10) {\n      // Exponentially increase timeout to reconnect.\n      // Respectfully copied from the package `got`.\n      // eslint-disable-next-line no-mixed-operators, no-restricted-properties\n      var retryInMs = 1000 * Math.pow(2, retries) + Math.random() * 100;\n      retries += 1;\n      setTimeout(function () {\n        socket(url, handlers);\n      }, retryInMs);\n    }\n  });\n  client.onMessage(function (data) {\n    var msg = JSON.parse(data);\n\n    if (handlers[msg.type]) {\n      handlers[msg.type](msg.data);\n    }\n  });\n};\n\nmodule.exports = socket;","'use strict';\n/* global self */\n\nvar url = require('url');\n\nvar querystring = require('querystring');\n\nvar getCurrentScriptSource = require('./getCurrentScriptSource');\n\nfunction createSocketUrl(resourceQuery) {\n  var urlParts;\n\n  if (typeof resourceQuery === 'string' && resourceQuery !== '') {\n    // If this bundle is inlined, use the resource query to get the correct url.\n    urlParts = url.parse(resourceQuery.substr(1));\n  } else {\n    // Else, get the url from the <script> this file was called with.\n    var scriptHost = getCurrentScriptSource(); // eslint-disable-next-line no-useless-escape\n\n    scriptHost = scriptHost.replace(/\\/[^\\/]+$/, '');\n    urlParts = url.parse(scriptHost || '/', false, true);\n  }\n\n  if (!urlParts.port || urlParts.port === '0') {\n    urlParts.port = self.location.port;\n  }\n\n  var _urlParts = urlParts,\n      auth = _urlParts.auth,\n      path = _urlParts.path;\n  var _urlParts2 = urlParts,\n      hostname = _urlParts2.hostname,\n      protocol = _urlParts2.protocol; // check ipv4 and ipv6 `all hostname`\n  // why do we need this check?\n  // hostname n/a for file protocol (example, when using electron, ionic)\n  // see: https://github.com/webpack/webpack-dev-server/pull/384\n\n  if ((hostname === '0.0.0.0' || hostname === '::') && self.location.hostname && // eslint-disable-next-line no-bitwise\n  !!~self.location.protocol.indexOf('http')) {\n    hostname = self.location.hostname;\n  } // `hostname` can be empty when the script path is relative. In that case, specifying\n  // a protocol would result in an invalid URL.\n  // When https is used in the app, secure websockets are always necessary\n  // because the browser doesn't accept non-secure websockets.\n\n\n  if (hostname && (self.location.protocol === 'https:' || urlParts.hostname === '0.0.0.0')) {\n    protocol = self.location.protocol;\n  } // default values of the sock url if they are not provided\n\n\n  var sockHost = hostname;\n  var sockPath = '/sockjs-node';\n  var sockPort = urlParts.port; // eslint-disable-next-line no-undefined\n\n  if (path !== null && path !== undefined && path !== '/') {\n    var parsedQuery = querystring.parse(path); // all of these sock url params are optionally passed in through\n    // resourceQuery, so we need to fall back to the default if\n    // they are not provided\n\n    sockHost = parsedQuery.sockHost || sockHost;\n    sockPath = parsedQuery.sockPath || sockPath;\n    sockPort = parsedQuery.sockPort || sockPort;\n  }\n\n  return url.format({\n    protocol: protocol,\n    auth: auth,\n    hostname: sockHost,\n    port: sockPort,\n    // If sockPath is provided it'll be passed in via the resourceQuery as a\n    // query param so it has to be parsed out of the querystring in order for the\n    // client to open the socket to the correct location.\n    pathname: sockPath\n  });\n}\n\nmodule.exports = createSocketUrl;","'use strict';\n\nfunction getCurrentScriptSource() {\n  // `document.currentScript` is the most accurate way to find the current script,\n  // but is not supported in all browsers.\n  if (document.currentScript) {\n    return document.currentScript.getAttribute('src');\n  } // Fall back to getting all scripts in the document.\n\n\n  var scriptElements = document.scripts || [];\n  var currentScript = scriptElements[scriptElements.length - 1];\n\n  if (currentScript) {\n    return currentScript.getAttribute('src');\n  } // Fail as there was no script to use.\n\n\n  throw new Error('[WDS] Failed to get current script source.');\n}\n\nmodule.exports = getCurrentScriptSource;","'use strict';\n\nvar log = require('loglevel').getLogger('webpack-dev-server');\n\nvar INFO = 'info';\nvar WARN = 'warn';\nvar ERROR = 'error';\nvar DEBUG = 'debug';\nvar TRACE = 'trace';\nvar SILENT = 'silent'; // deprecated\n// TODO: remove these at major released\n// https://github.com/webpack/webpack-dev-server/pull/1825\n\nvar WARNING = 'warning';\nvar NONE = 'none'; // Set the default log level\n\nlog.setDefaultLevel(INFO);\n\nfunction setLogLevel(level) {\n  switch (level) {\n    case INFO:\n    case WARN:\n    case ERROR:\n    case DEBUG:\n    case TRACE:\n      log.setLevel(level);\n      break;\n    // deprecated\n\n    case WARNING:\n      // loglevel's warning name is different from webpack's\n      log.setLevel('warn');\n      break;\n    // deprecated\n\n    case NONE:\n    case SILENT:\n      log.disableAll();\n      break;\n\n    default:\n      log.error(\"[WDS] Unknown clientLogLevel '\".concat(level, \"'\"));\n  }\n}\n\nmodule.exports = {\n  log: log,\n  setLogLevel: setLogLevel\n};","'use strict';\n/* global WorkerGlobalScope self */\n\nvar _require = require('./log'),\n    log = _require.log;\n\nfunction reloadApp(_ref, _ref2) {\n  var hotReload = _ref.hotReload,\n      hot = _ref.hot,\n      liveReload = _ref.liveReload;\n  var isUnloading = _ref2.isUnloading,\n      currentHash = _ref2.currentHash;\n\n  if (isUnloading || !hotReload) {\n    return;\n  }\n\n  if (hot) {\n    log.info('[WDS] App hot update...'); // eslint-disable-next-line global-require\n\n    var hotEmitter = require('webpack/hot/emitter');\n\n    hotEmitter.emit('webpackHotUpdate', currentHash);\n\n    if (typeof self !== 'undefined' && self.window) {\n      // broadcast update to window\n      self.postMessage(\"webpackHotUpdate\".concat(currentHash), '*');\n    }\n  } // allow refreshing the page only if liveReload isn't disabled\n  else if (liveReload) {\n      var rootWindow = self; // use parent window for reload (in case we're in an iframe with no valid src)\n\n      var intervalId = self.setInterval(function () {\n        if (rootWindow.location.protocol !== 'about:') {\n          // reload immediately if protocol is valid\n          applyReload(rootWindow, intervalId);\n        } else {\n          rootWindow = rootWindow.parent;\n\n          if (rootWindow.parent === rootWindow) {\n            // if parent equals current window we've reached the root which would continue forever, so trigger a reload anyways\n            applyReload(rootWindow, intervalId);\n          }\n        }\n      });\n    }\n\n  function applyReload(rootWindow, intervalId) {\n    clearInterval(intervalId);\n    log.info('[WDS] App updated. Reloading...');\n    rootWindow.location.reload();\n  }\n}\n\nmodule.exports = reloadApp;","'use strict';\n/* global __resourceQuery WorkerGlobalScope self */\n// Send messages to the outside, so plugins can consume it.\n\nfunction sendMsg(type, data) {\n  if (typeof self !== 'undefined' && (typeof WorkerGlobalScope === 'undefined' || !(self instanceof WorkerGlobalScope))) {\n    self.postMessage({\n      type: \"webpack\".concat(type),\n      data: data\n    }, '*');\n  }\n}\n\nmodule.exports = sendMsg;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var map = {\n\t\"./log\": \"./node_modules/webpack/hot/log.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\";","var EventEmitter = require(\"events\");\nmodule.exports = new EventEmitter();\n","var logLevel = \"info\";\n\nfunction dummy() {}\n\nfunction shouldLog(level) {\n\tvar shouldLog =\n\t\t(logLevel === \"info\" && level === \"info\") ||\n\t\t([\"info\", \"warning\"].indexOf(logLevel) >= 0 && level === \"warning\") ||\n\t\t([\"info\", \"warning\", \"error\"].indexOf(logLevel) >= 0 && level === \"error\");\n\treturn shouldLog;\n}\n\nfunction logGroup(logFn) {\n\treturn function(level, msg) {\n\t\tif (shouldLog(level)) {\n\t\t\tlogFn(msg);\n\t\t}\n\t};\n}\n\nmodule.exports = function(level, msg) {\n\tif (shouldLog(level)) {\n\t\tif (level === \"info\") {\n\t\t\tconsole.log(msg);\n\t\t} else if (level === \"warning\") {\n\t\t\tconsole.warn(msg);\n\t\t} else if (level === \"error\") {\n\t\t\tconsole.error(msg);\n\t\t}\n\t}\n};\n\n/* eslint-disable node/no-unsupported-features/node-builtins */\nvar group = console.group || dummy;\nvar groupCollapsed = console.groupCollapsed || dummy;\nvar groupEnd = console.groupEnd || dummy;\n/* eslint-enable node/no-unsupported-features/node-builtins */\n\nmodule.exports.group = logGroup(group);\n\nmodule.exports.groupCollapsed = logGroup(groupCollapsed);\n\nmodule.exports.groupEnd = logGroup(groupEnd);\n\nmodule.exports.setLogLevel = function(level) {\n\tlogLevel = level;\n};\n\nmodule.exports.formatError = function(err) {\n\tvar message = err.message;\n\tvar stack = err.stack;\n\tif (!stack) {\n\t\treturn message;\n\t} else if (stack.indexOf(message) < 0) {\n\t\treturn message + \"\\n\" + stack;\n\t} else {\n\t\treturn stack;\n\t}\n};\n","export { DataFormat, FilteringMode } from '../enums';\n/**\n * The event name for data propagation.\n */\nexport const PROPAGATION = 'propagation';\n\n/**\n * The name of the unique row id column in DataModel.\n */\nexport const ROW_ID = '__id__';\n\n/**\n * The enums for operation names performed on DataModel.\n */\nexport const DM_DERIVATIVES = {\n    SELECT: 'select',\n    PROJECT: 'project',\n    GROUPBY: 'group',\n    COMPOSE: 'compose',\n    CAL_VAR: 'calculatedVariable',\n    BIN: 'bin',\n    SORT: 'sort'\n};\n\nexport const JOINS = {\n    CROSS: 'cross',\n    LEFTOUTER: 'leftOuter',\n    RIGHTOUTER: 'rightOuter',\n    NATURAL: 'natural',\n    FULLOUTER: 'fullOuter'\n};\n\nexport const LOGICAL_OPERATORS = {\n    AND: 'and',\n    OR: 'or'\n};\n","import DataConverter from './model/dataConverter';\nimport { DSVStringConverter, DSVArrayConverter, JSONConverter, AutoDataConverter } from './defaultConverters';\n\nclass DataConverterStore {\n    constructor() {\n        this.store = new Map();\n        this.converters(this._getDefaultConverters());\n    }\n\n    _getDefaultConverters() {\n        return [\n            new DSVStringConverter(),\n            new DSVArrayConverter(),\n            new JSONConverter(),\n            new AutoDataConverter()\n        ];\n    }\n\n    /**\n     * Sets the given converters in the store and returns the store\n     * @param  {Array<DataConverter>} converters : contains array of converter instance\n     * @return { Map<String,DataConverter> }\n     */\n    converters(converters = []) {\n        converters.forEach(converter => this.store.set(converter.type, converter));\n        return this.store;\n    }\n\n    /**\n     * Registers a Converter of type DataConverter\n     * @param {DataConverter} converter : converter Instance\n     * @returns self\n     */\n    register(converter) {\n        if (converter instanceof DataConverter) {\n            this.store.set(converter.type, converter);\n            return this;\n        }\n        return null;\n    }\n\n    /**\n     * Rempves a converter from store\n     * @param {DataConverter} converter : converter Instance\n     * @returns self\n     */\n\n    unregister(converter) {\n        this.store.delete(converter.type);\n        return this;\n    }\n\n    get(name) {\n        if (this.store.has(name)) {\n            return this.store.get(name);\n        }\n        return null;\n    }\n\n}\n\nconst converterStore = (function () {\n    let store = null;\n\n    function getStore () {\n        store = new DataConverterStore();\n        return store;\n    }\n    return store || getStore();\n}());\n\nexport default converterStore;\n","import DataConverter from '../model/dataConverter';\nimport AUTO from '../utils/auto-resolver';\nimport DataFormat from '../../enums/data-format';\n\nexport default class AutoDataConverter extends DataConverter {\n    constructor() {\n        super(DataFormat.AUTO);\n    }\n\n    convert(data, schema, options) {\n        return AUTO(data, schema, options);\n    }\n}\n","import DataConverter from '../model/dataConverter';\nimport DSVArr from '../utils/dsv-arr';\nimport DataFormat from '../../enums/data-format';\n\nexport default class DSVArrayConverter extends DataConverter {\n    constructor() {\n        super(DataFormat.DSV_ARR);\n    }\n\n    convert(data, schema, options) {\n        return DSVArr(data, schema, options);\n    }\n}\n","import DataConverter from '../model/dataConverter';\nimport DSVStr from '../utils/dsv-str';\nimport DataFormat from '../../enums/data-format';\n\nexport default class DSVStringConverter extends DataConverter {\n    constructor() {\n        super(DataFormat.DSV_STR);\n    }\n\n    convert(data, schema, options) {\n        return DSVStr(data, schema, options);\n    }\n}\n","export { default as DSVStringConverter } from './dsvStringConverter';\nexport { default as JSONConverter } from './jsonConverter';\nexport { default as DSVArrayConverter } from './dsvArrayConverter';\nexport { default as AutoDataConverter } from './autoConverter';\n","import DataConverter from '../model/dataConverter';\nimport FlatJSON from '../utils/flat-json';\nimport DataFormat from '../../enums/data-format';\n\nexport default class JSONConverter extends DataConverter {\n    constructor() {\n        super(DataFormat.FLAT_JSON);\n    }\n\n    convert(data, schema, options) {\n        return FlatJSON(data, schema, options);\n    }\n}\n","import converterStore from './dataConverterStore';\nimport DataConverter from './model/dataConverter';\n\nexport { DataConverter, converterStore };\n","/**\n * Interface for all data converters\n */\nexport default class DataConverter {\n    constructor(type) {\n        this._type = type;\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    convert() {\n        throw new Error('Convert method not implemented.');\n    }\n\n}\n","import FlatJSON from './flat-json';\nimport DSVArr from './dsv-arr';\nimport DSVStr from './dsv-str';\nimport { detectDataFormat } from '../../utils';\n\n/**\n * Parses the input data and detect the format automatically.\n *\n * @param {string|Array} data - The input data.\n * @param {Object} options - An optional config specific to data format.\n * @return {Array.<Object>} Returns an array of headers and column major data.\n */\nfunction Auto (data, schema, options) {\n    const converters = { FlatJSON, DSVStr, DSVArr };\n    const dataFormat = detectDataFormat(data);\n\n    if (!dataFormat) {\n        throw new Error('Couldn\\'t detect the data format');\n    }\n\n    return converters[dataFormat](data, schema, options);\n}\n\nexport default Auto;\n","import { columnMajor } from '../../utils';\n\n/**\n * Parses and converts data formatted in DSV array to a manageable internal format.\n *\n * @param {Array.<Array>} arr - A 2D array containing of the DSV data.\n * @param {Object} options - Option to control the behaviour of the parsing.\n * @param {boolean} [options.firstRowHeader=true] - Whether the first row of the dsv data is header or not.\n * @return {Array} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = [\n *    [\"a\", \"b\", \"c\"],\n *    [1, 2, 3],\n *    [4, 5, 6],\n *    [7, 8, 9]\n * ];\n */\nfunction DSVArr(arr, schema, options) {\n    if (!Array.isArray(schema)) {\n        throw new Error('Schema missing or is in an unsupported format');\n    }\n    const defaultOption = {\n        firstRowHeader: true,\n    };\n    const schemaFields = schema.map(unitSchema => unitSchema.name);\n    options = Object.assign({}, defaultOption, options);\n\n    const columns = [];\n    const push = columnMajor(columns);\n\n    let headers = schemaFields;\n    if (options.firstRowHeader) {\n        // If header present then remove the first header row.\n        // Do in-place mutation to save space.\n        headers = arr.splice(0, 1)[0];\n    }\n    // create a map of the headers\n    const headerMap = headers.reduce((acc, h, i) => (\n        Object.assign(acc, { [h]: i })\n    ), {});\n\n    arr.forEach((fields) => {\n        const field = [];\n        schemaFields.forEach((schemaField) => {\n            const headIndex = headerMap[schemaField];\n            field.push(fields[headIndex]);\n        });\n        return push(...field);\n    });\n    return [schemaFields, columns];\n}\n\nexport default DSVArr;\n","import { dsvFormat as d3Dsv } from 'd3-dsv';\nimport DSVArr from './dsv-arr';\n\n/**\n * Parses and converts data formatted in DSV string to a manageable internal format.\n *\n * @todo Support to be given for https://tools.ietf.org/html/rfc4180.\n * @todo Sample implementation https://github.com/knrz/CSV.js/.\n *\n * @param {string} str - The input DSV string.\n * @param {Object} options - Option to control the behaviour of the parsing.\n * @param {boolean} [options.firstRowHeader=true] - Whether the first row of the dsv string data is header or not.\n * @param {string} [options.fieldSeparator=\",\"] - The separator of two consecutive field.\n * @return {Array} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = `\n * a,b,c\n * 1,2,3\n * 4,5,6\n * 7,8,9\n * `\n */\nfunction DSVStr (str, schema, options) {\n    const defaultOption = {\n        firstRowHeader: true,\n        fieldSeparator: ','\n    };\n    options = Object.assign({}, defaultOption, options);\n\n    const dsv = d3Dsv(options.fieldSeparator);\n    return DSVArr(dsv.parseRows(str), schema, options);\n}\n\nexport default DSVStr;\n","import { columnMajor } from '../../utils';\n\n/**\n * Parses and converts data formatted in JSON to a manageable internal format.\n *\n * @param {Array.<Object>} arr - The input data formatted in JSON.\n * @return {Array.<Object>} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = [\n *    {\n *      \"a\": 1,\n *      \"b\": 2,\n *      \"c\": 3\n *    },\n *    {\n *      \"a\": 4,\n *      \"b\": 5,\n *      \"c\": 6\n *    },\n *    {\n *      \"a\": 7,\n *      \"b\": 8,\n *      \"c\": 9\n *    }\n * ];\n */\nfunction FlatJSON (arr, schema) {\n    if (!Array.isArray(schema)) {\n        throw new Error('Schema missing or is in an unsupported format');\n    }\n\n    const header = {};\n    let i = 0;\n    let insertionIndex;\n    const columns = [];\n    const push = columnMajor(columns);\n    const schemaFieldsName = schema.map(unitSchema => unitSchema.name);\n\n    arr.forEach((item) => {\n        const fields = [];\n        schemaFieldsName.forEach((unitSchema) => {\n            if (unitSchema in header) {\n                insertionIndex = header[unitSchema];\n            } else {\n                header[unitSchema] = i++;\n                insertionIndex = i - 1;\n            }\n            fields[insertionIndex] = item[unitSchema];\n        });\n        push(...fields);\n    });\n\n    return [Object.keys(header), columns];\n}\n\nexport default FlatJSON;\n","/* eslint-disable default-case */\n\nimport { FieldType, DimensionSubtype, DataFormat, FilteringMode } from './enums';\nimport {\n    persistDerivations,\n    getRootGroupByModel,\n    propagateToAllDataModels,\n    getRootDataModel,\n    propagateImmutableActions,\n    addToPropNamespace,\n    sanitizeUnitSchema,\n    splitWithSelect,\n    splitWithProject,\n    getNormalizedProFields\n} from './helper';\nimport { DM_DERIVATIVES, PROPAGATION } from './constants';\nimport {\n    dataBuilder,\n    rowDiffsetIterator,\n    groupBy\n} from './operator';\nimport { createBinnedFieldData } from './operator/bucket-creator';\nimport Relation from './relation';\nimport reducerStore from './utils/reducer-store';\nimport { createFields } from './field-creator';\nimport InvalidAwareTypes from './invalid-aware-types';\nimport Value from './value';\nimport { converterStore } from './converter';\nimport { fieldRegistry } from './fields';\n\n/**\n * DataModel is an in-browser representation of tabular data. It supports\n * {@link https://en.wikipedia.org/wiki/Relational_algebra | relational algebra} operators as well as generic data\n * processing opearators.\n * DataModel extends {@link Relation} class which defines all the relational algebra opreators. DataModel gives\n * definition of generic data processing operators which are not relational algebra complient.\n *\n * @public\n * @class\n * @extends Relation\n * @memberof Datamodel\n */\nclass DataModel extends Relation {\n    /**\n     * Creates a new DataModel instance by providing data and schema. Data could be in the form of\n     * - Flat JSON\n     * - DSV String\n     * - 2D Array\n     *\n     * By default DataModel finds suitable adapter to serialize the data. DataModel also expects a\n     * {@link Schema | schema} for identifying the variables present in data.\n     *\n     * @constructor\n     * @example\n     * const data = loadData('cars.csv');\n     * const schema = [\n     *      { name: 'Name', type: 'dimension' },\n     *      { name: 'Miles_per_Gallon', type: 'measure', unit : 'cm', scale: '1000', numberformat: val => `${val}G`},\n     *      { name: 'Cylinders', type: 'dimension' },\n     *      { name: 'Displacement', type: 'measure' },\n     *      { name: 'Horsepower', type: 'measure' },\n     *      { name: 'Weight_in_lbs', type: 'measure' },\n     *      { name: 'Acceleration', type: 'measure' },\n     *      { name: 'Year', type: 'dimension', subtype: 'datetime', format: '%Y' },\n     *      { name: 'Origin', type: 'dimension' }\n     * ];\n     * const dm = new DataModel(data, schema, { name: 'Cars' });\n     * table(dm);\n     *\n     * @public\n     *\n     * @param {Array.<Object> | string | Array.<Array>} data Input data in any of the mentioned formats\n     * @param {Array.<Schema>} schema Defination of the variables. Order of the variables in data and order of the\n     *      variables in schema has to be same.\n     * @param {object} [options] Optional arguments to specify more settings regarding the creation part\n     * @param {string} [options.name] Name of the datamodel instance. If no name is given an auto generated name is\n     *      assigned to the instance.\n     * @param {string} [options.fieldSeparator=','] specify field separator type if the data is of type dsv string.\n     */\n    constructor (...args) {\n        super(...args);\n\n        this._onPropagation = [];\n    }\n\n    /**\n     * Reducers are simple functions which reduces an array of numbers to a representative number of the set.\n     * Like an array of numbers `[10, 20, 5, 15]` can be reduced to `12.5` if average / mean reducer function is\n     * applied. All the measure fields in datamodel (variables in data) needs a reducer to handle aggregation.\n     *\n     * @public\n     *\n     * @return {ReducerStore} Singleton instance of {@link ReducerStore}.\n     */\n    static get Reducers () {\n        return reducerStore;\n    }\n\n    /**\n     * Converters are functions that transforms data in various format tpo datamodel consumabe format.\n     */\n    static get Converters() {\n        return converterStore;\n    }\n\n    /**\n     * Register new type of fields\n     */\n    static get FieldTypes() {\n        return fieldRegistry;\n    }\n\n    /**\n     * Configure null, undefined, invalid values in the source data\n     *\n     * @public\n     *\n     * @param {Object} [config] - Configuration to control how null, undefined and non-parsable values are\n     * represented in DataModel.\n     * @param {string} [config.undefined] - Define how an undefined value will be represented.\n     * @param {string} [config.null] - Define how a null value will be represented.\n     * @param {string} [config.invalid] - Define how a non-parsable value will be represented.\n     */\n    static configureInvalidAwareTypes (config) {\n        return InvalidAwareTypes.invalidAwareVals(config);\n    }\n\n    /**\n     * Retrieve the data attached to an instance in JSON format.\n     *\n     * @example\n     * // DataModel instance is already prepared and assigned to dm variable\n     *  const data = dm.getData({\n     *      order: 'column',\n     *      formatter: {\n     *          origin: (val) => val === 'European Union' ? 'EU' : val;\n     *      }\n     *  });\n     *  console.log(data);\n     *\n     * @public\n     *\n     * @param {Object} [options] Options to control how the raw data is to be returned.\n     * @param {string} [options.order='row'] Defines if data is retieved in row order or column order. Possible values\n     *      are `'rows'` and `'columns'`\n     * @param {Function} [options.formatter=null] Formats the output data. This expects an object, where the keys are\n     *      the name of the variable needs to be formatted. The formatter function is called for each row passing the\n     *      value of the cell for a particular row as arguments. The formatter is a function in the form of\n     *      `function (value, rowId, schema) => { ... }`\n     *      Know more about {@link Fomatter}.\n     *\n     * @return {Array} Returns a multidimensional array of the data with schema. The return format looks like\n     *      ```\n     *          {\n     *              data,\n     *              schema\n     *          }\n     *      ```\n     */\n    getData (options) {\n        const defOptions = {\n            order: 'row',\n            formatter: null,\n            withUid: false,\n            getAllFields: false,\n            sort: []\n        };\n        options = Object.assign({}, defOptions, options);\n        const fields = this.getPartialFieldspace().fields;\n\n        const dataGenerated = dataBuilder.call(\n            this,\n            this.getPartialFieldspace().fields,\n            this._rowDiffset,\n            options.getAllFields ? fields.map(d => d.name()).join() : this._colIdentifier,\n            options.sort,\n            {\n                columnWise: options.order === 'column',\n                addUid: !!options.withUid\n            }\n        );\n\n        if (!options.formatter) {\n            return dataGenerated;\n        }\n\n        const { formatter } = options;\n        const { data, schema, uids } = dataGenerated;\n        const fieldNames = schema.map((e => e.name));\n        const fmtFieldNames = Object.keys(formatter);\n        const fmtFieldIdx = fmtFieldNames.reduce((acc, next) => {\n            const idx = fieldNames.indexOf(next);\n            if (idx !== -1) {\n                acc.push([idx, formatter[next]]);\n            }\n            return acc;\n        }, []);\n\n        if (options.order === 'column') {\n            fmtFieldIdx.forEach((elem) => {\n                const fIdx = elem[0];\n                const fmtFn = elem[1];\n\n                data[fIdx].forEach((datum, datumIdx) => {\n                    data[fIdx][datumIdx] = fmtFn.call(\n                        undefined,\n                        datum,\n                        uids[datumIdx],\n                        schema[fIdx]\n                    );\n                });\n            });\n        } else {\n            data.forEach((datum, datumIdx) => {\n                fmtFieldIdx.forEach((elem) => {\n                    const fIdx = elem[0];\n                    const fmtFn = elem[1];\n\n                    datum[fIdx] = fmtFn.call(\n                        undefined,\n                        datum[fIdx],\n                        uids[datumIdx],\n                        schema[fIdx]\n                    );\n                });\n            });\n        }\n\n        return dataGenerated;\n    }\n\n    /**\n     * Returns the unique ids in an array.\n     *\n     * @return {Array} Returns an array of ids.\n     */\n    getUids () {\n        const rowDiffset = this._rowDiffset;\n        const ids = [];\n\n        if (rowDiffset.length) {\n            const diffSets = rowDiffset.split(',');\n\n            diffSets.forEach((set) => {\n                let [start, end] = set.split('-').map(Number);\n\n                end = end !== undefined ? end : start;\n                ids.push(...Array(end - start + 1).fill().map((_, idx) => start + idx));\n            });\n        }\n\n        return ids;\n    }\n    /**\n     * Groups the data using particular dimensions and by reducing measures. It expects a list of dimensions using which\n     * it projects the datamodel and perform aggregations to reduce the duplicate tuples. Refer this\n     * {@link link_to_one_example_with_group_by | document} to know the intuition behind groupBy.\n     *\n     * DataModel by default provides definition of few {@link reducer | Reducers}.\n     * {@link ReducerStore | User defined reducers} can also be registered.\n     *\n     * This is the chained implementation of `groupBy`.\n     * `groupBy` also supports {@link link_to_compose_groupBy | composability}\n     *\n     * @example\n     * const groupedDM = dm.groupBy(['Year'], { horsepower: 'max' } );\n     * console.log(groupedDm);\n     *\n     * @public\n     *\n     * @param {Array.<string>} fieldsArr - Array containing the name of dimensions\n     * @param {Object} [reducers={}] - A map whose key is the variable name and value is the name of the reducer. If its\n     *      not passed, or any variable is ommitted from the object, default aggregation function is used from the\n     *      schema of the variable.\n     *\n     * @return {DataModel} Returns a new DataModel instance after performing the groupby.\n     */\n    groupBy (fieldsArr, reducers = {}, config = { saveChild: true }) {\n        const groupByString = `${fieldsArr.join()}`;\n        let params = [this, fieldsArr, reducers];\n        const newDataModel = groupBy(...params);\n\n        persistDerivations(\n            this,\n            newDataModel,\n            DM_DERIVATIVES.GROUPBY,\n            { fieldsArr, groupByString, defaultReducer: reducerStore.defaultReducer() },\n            reducers\n        );\n\n        if (config.saveChild) {\n            newDataModel.setParent(this);\n        } else {\n            newDataModel.setParent(null);\n        }\n\n        return newDataModel;\n    }\n\n    /**\n     * Performs sorting operation on the current {@link DataModel} instance according to the specified sorting details.\n     * Like every other operator it doesn't mutate the current DataModel instance on which it was called, instead\n     * returns a new DataModel instance containing the sorted data.\n     *\n     * DataModel support multi level sorting by listing the variables using which sorting needs to be performed and\n     * the type of sorting `ASC` or `DESC`.\n     *\n     * In the following example, data is sorted by `Origin` field in `DESC` order in first level followed by another\n     * level of sorting by `Acceleration` in `ASC` order.\n     *\n     * @example\n     * // here dm is the pre-declared DataModel instance containing the data of 'cars.json' file\n     * let sortedDm = dm.sort([\n     *    [\"Origin\", \"DESC\"]\n     *    [\"Acceleration\"] // Default value is ASC\n     * ]);\n     *\n     * console.log(dm.getData());\n     * console.log(sortedDm.getData());\n     *\n     * // Sort with a custom sorting function\n     * sortedDm = dm.sort([\n     *    [\"Origin\", \"DESC\"]\n     *    [\"Acceleration\", (a, b) => a - b] // Custom sorting function\n     * ]);\n     *\n     * console.log(dm.getData());\n     * console.log(sortedDm.getData());\n     *\n     * @text\n     * DataModel also provides another sorting mechanism out of the box where sort is applied to a variable using\n     * another variable which determines the order.\n     * Like the above DataModel contains three fields `Origin`, `Name` and `Acceleration`. Now, the data in this\n     * model can be sorted by `Origin` field according to the average value of all `Acceleration` for a\n     * particular `Origin` value.\n     *\n     * @example\n     * // here dm is the pre-declared DataModel instance containing the data of 'cars.json' file\n     * const sortedDm = dm.sort([\n     *     ['Origin', ['Acceleration', (a, b) => avg(...a.Acceleration) - avg(...b.Acceleration)]]\n     * ]);\n     *\n     * console.log(dm.getData());\n     * console.log(sortedDm.getData());\n     *\n     * @public\n     *\n     * @param {Array.<Array>} sortingDetails - Sorting details based on which the sorting will be performed.\n     * @return {DataModel} Returns a new instance of DataModel with sorted data.\n     */\n    sort (sortingDetails, config = { saveChild: false }) {\n        const rawData = this.getData({\n            order: 'row',\n            sort: sortingDetails\n        });\n        const header = rawData.schema.map(field => field.name);\n        const dataInCSVArr = [header].concat(rawData.data);\n\n        const sortedDm = new this.constructor(dataInCSVArr, rawData.schema, { dataFormat: 'DSVArr' });\n\n        persistDerivations(\n            this,\n            sortedDm,\n            DM_DERIVATIVES.SORT,\n            config,\n            sortingDetails\n        );\n\n        if (config.saveChild) {\n            sortedDm.setParent(this);\n        } else {\n            sortedDm.setParent(null);\n        }\n\n        return sortedDm;\n    }\n\n    /**\n     * Performs the serialization operation on the current {@link DataModel} instance according to the specified data\n     * type. When an {@link DataModel} instance is created, it de-serializes the input data into its internal format,\n     * and during its serialization process, it converts its internal data format to the specified data type and returns\n     * that data regardless what type of data is used during the {@link DataModel} initialization.\n     *\n     * @example\n     * // here dm is the pre-declared DataModel instance.\n     * const csvData = dm.serialize(DataModel.DataFormat.DSV_STR, { fieldSeparator: \",\" });\n     * console.log(csvData); // The csv formatted data.\n     *\n     * const jsonData = dm.serialize(DataModel.DataFormat.FLAT_JSON);\n     * console.log(jsonData); // The json data.\n     *\n     * @public\n     *\n     * @param {string} type - The data type name for serialization.\n     * @param {Object} options - The optional option object.\n     * @param {string} options.fieldSeparator - The field separator character for DSV data type.\n     * @return {Array|string} Returns the serialized data.\n     */\n    serialize (type, options) {\n        type = type || this._dataFormat;\n        options = Object.assign({}, { fieldSeparator: ',' }, options);\n\n        const fields = this.getFieldspace().fields;\n        const colData = fields.map(f => f.formattedData());\n        const rowsCount = colData[0].length;\n        let serializedData;\n        let rowIdx;\n        let colIdx;\n\n        if (type === DataFormat.FLAT_JSON) {\n            serializedData = [];\n            for (rowIdx = 0; rowIdx < rowsCount; rowIdx++) {\n                const row = {};\n                for (colIdx = 0; colIdx < fields.length; colIdx++) {\n                    row[fields[colIdx].name()] = colData[colIdx][rowIdx];\n                }\n                serializedData.push(row);\n            }\n        } else if (type === DataFormat.DSV_STR) {\n            serializedData = [fields.map(f => f.name()).join(options.fieldSeparator)];\n            for (rowIdx = 0; rowIdx < rowsCount; rowIdx++) {\n                const row = [];\n                for (colIdx = 0; colIdx < fields.length; colIdx++) {\n                    row.push(colData[colIdx][rowIdx]);\n                }\n                serializedData.push(row.join(options.fieldSeparator));\n            }\n            serializedData = serializedData.join('\\n');\n        } else if (type === DataFormat.DSV_ARR) {\n            serializedData = [fields.map(f => f.name())];\n            for (rowIdx = 0; rowIdx < rowsCount; rowIdx++) {\n                const row = [];\n                for (colIdx = 0; colIdx < fields.length; colIdx++) {\n                    row.push(colData[colIdx][rowIdx]);\n                }\n                serializedData.push(row);\n            }\n        } else {\n            throw new Error(`Data type ${type} is not supported`);\n        }\n\n        return serializedData;\n    }\n\n    addField (field) {\n        const fieldName = field.name();\n        this._colIdentifier += `,${fieldName}`;\n        const partialFieldspace = this._partialFieldspace;\n        const cachedValueObjects = partialFieldspace._cachedValueObjects;\n        const formattedData = field.formattedData();\n        const rawData = field.partialField.data;\n\n        if (!partialFieldspace.fieldsObj()[field.name()]) {\n            partialFieldspace.fields.push(field);\n            cachedValueObjects.forEach((obj, i) => {\n                obj[field.name()] = new Value(formattedData[i], rawData[i], field);\n            });\n        } else {\n            const fieldIndex = partialFieldspace.fields.findIndex(fieldinst => fieldinst.name() === fieldName);\n            fieldIndex >= 0 && (partialFieldspace.fields[fieldIndex] = field);\n        }\n\n        // flush out cached namespace values on addition of new fields\n        partialFieldspace._cachedFieldsObj = null;\n        partialFieldspace._cachedDimension = null;\n        partialFieldspace._cachedMeasure = null;\n\n        this.__calculateFieldspace().calculateFieldsConfig();\n        return this;\n    }\n\n    /**\n    * Creates a new variable calculated from existing variables. This method expects the definition of the newly created\n    * variable and a function which resolves the value of the new variable from existing variables.\n    *\n    * Can create a new measure based on existing variables:\n    * @example\n    *  // DataModel already prepared and assigned to dm variable;\n    *  const newDm = dataModel.calculateVariable({\n    *      name: 'powerToWeight',\n    *      type: 'measure'\n    *  }, ['horsepower', 'weight_in_lbs', (hp, weight) => hp / weight ]);\n    *\n    *\n    * Can create a new dimension based on existing variables:\n    * @example\n    *  // DataModel already prepared and assigned to dm variable;\n    *  const child = dataModel.calculateVariable(\n    *     {\n    *       name: 'Efficiency',\n    *       type: 'dimension'\n    *     }, ['horsepower', (hp) => {\n    *      if (hp < 80) { return 'low'; },\n    *      else if (hp < 120) { return 'moderate'; }\n    *      else { return 'high' }\n    *  }]);\n    *\n    * @public\n    *\n    * @param {Object} schema - The schema of newly defined variable.\n    * @param {Array.<string|function>} dependency - An array containing the dependency variable names and a resolver\n    * function as the last element.\n    * @param {Object} config - An optional config object.\n    * @param {boolean} [config.saveChild] - Whether the newly created DataModel will be a child.\n    * @param {boolean} [config.replaceVar] - Whether the newly created variable will replace the existing variable.\n    * @return {DataModel} Returns an instance of DataModel with the new field.\n    */\n    calculateVariable (schema, dependency, config) {\n        schema = sanitizeUnitSchema(schema);\n        config = Object.assign({}, { saveChild: true, replaceVar: false }, config);\n\n        const fieldsConfig = this.getFieldsConfig();\n        const depVars = dependency.slice(0, dependency.length - 1);\n        const retrieveFn = dependency[dependency.length - 1];\n\n        if (fieldsConfig[schema.name] && !config.replaceVar) {\n            throw new Error(`${schema.name} field already exists in datamodel`);\n        }\n\n        const depFieldIndices = depVars.map((field) => {\n            const fieldSpec = fieldsConfig[field];\n            if (!fieldSpec) {\n                // @todo dont throw error here, use warning in production mode\n                throw new Error(`${field} is not a valid column name.`);\n            }\n            return fieldSpec.index;\n        });\n\n        const clone = this.clone(config.saveChild);\n\n        const fs = clone.getFieldspace().fields;\n        const suppliedFields = depFieldIndices.map(idx => fs[idx]);\n\n        let cachedStore = {};\n        let cloneProvider = () => this.detachedRoot();\n\n        const computedValues = [];\n        rowDiffsetIterator(clone._rowDiffset, (i) => {\n            const fieldsData = suppliedFields.map(field => field.partialField.data[i]);\n            computedValues[i] = retrieveFn(...fieldsData, i, cloneProvider, cachedStore);\n        });\n        const [field] = createFields([computedValues], [schema], [schema.name]);\n        clone.addField(field);\n\n        persistDerivations(\n            this,\n            clone,\n            DM_DERIVATIVES.CAL_VAR,\n            { config: schema, fields: depVars },\n            retrieveFn\n        );\n\n        return clone;\n    }\n\n    /**\n     * Propagates changes across all the connected DataModel instances.\n     *\n     * @param {Array} identifiers - A list of identifiers that were interacted with.\n     * @param {Object} payload - The interaction specific details.\n     *\n     * @return {DataModel} DataModel instance.\n     */\n    propagate (identifiers, config = {}, addToNameSpace, propConfig = {}) {\n        const isMutableAction = config.isMutableAction;\n        const propagationSourceId = config.sourceId;\n        const payload = config.payload;\n        const rootModel = getRootDataModel(this);\n        const propagationNameSpace = rootModel._propagationNameSpace;\n        const rootGroupByModel = getRootGroupByModel(this);\n        const rootModels = {\n            groupByModel: rootGroupByModel,\n            model: rootModel\n        };\n\n        addToNameSpace && addToPropNamespace(propagationNameSpace, config, this);\n        propagateToAllDataModels(identifiers, rootModels, { propagationNameSpace, sourceId: propagationSourceId },\n            Object.assign({\n                payload\n            }, config));\n\n        if (isMutableAction) {\n            propagateImmutableActions(propagationNameSpace, rootModel, {\n                config,\n                propConfig\n            }, this);\n        }\n\n        return this;\n    }\n\n    /**\n     * Associates a callback with an event name.\n     *\n     * @param {string} eventName - The name of the event.\n     * @param {Function} callback - The callback to invoke.\n     * @return {DataModel} Returns this current DataModel instance itself.\n     */\n    on (eventName, callback) {\n        switch (eventName) {\n        case PROPAGATION:\n            this._onPropagation.push(callback);\n            break;\n        }\n        return this;\n    }\n\n    /**\n     * Unsubscribes the callbacks for the provided event name.\n     *\n     * @param {string} eventName - The name of the event to unsubscribe.\n     * @return {DataModel} Returns the current DataModel instance itself.\n     */\n    unsubscribe (eventName) {\n        switch (eventName) {\n        case PROPAGATION:\n            this._onPropagation = [];\n            break;\n\n        }\n        return this;\n    }\n\n    /**\n     * This method is used to invoke the method associated with propagation.\n     *\n     * @param {Object} payload The interaction payload.\n     * @param {DataModel} identifiers The propagated DataModel.\n     * @memberof DataModel\n     */\n    handlePropagation (propModel, payload) {\n        let propListeners = this._onPropagation;\n        propListeners.forEach(fn => fn.call(this, propModel, payload));\n    }\n\n    /**\n     * Performs the binning operation on a measure field based on the binning configuration. Binning means discretizing\n     * values of a measure. Binning configuration contains an array; subsequent values from the array marks the boundary\n     * of buckets in [inclusive, exclusive) range format. This operation does not mutate the subject measure field,\n     * instead, it creates a new field (variable) of type dimension and subtype binned.\n     *\n     * Binning can be configured by\n     * - providing custom bin configuration with non-uniform buckets,\n     * - providing bins count,\n     * - providing each bin size,\n     *\n     * When custom `buckets` are provided as part of binning configuration:\n     * @example\n     *  // DataModel already prepared and assigned to dm variable\n     *  const config = { name: 'binnedHP', buckets: [30, 80, 100, 110] }\n     *  const binnedDM = dataModel.bin('horsepower', config);\n     *\n     * @text\n     * When `binsCount` is defined as part of binning configuration:\n     * @example\n     *  // DataModel already prepared and assigned to dm variable\n     *  const config = { name: 'binnedHP', binsCount: 5, start: 0, end: 100 }\n     *  const binDM = dataModel.bin('horsepower', config);\n     *\n     * @text\n     * When `binSize` is defined as part of binning configuration:\n     * @example\n     *  // DataModel already prepared and assigned to dm variable\n     *  const config = { name: 'binnedHorsepower', binSize: 20, start: 5}\n     *  const binDM = dataModel.bin('horsepower', config);\n     *\n     * @public\n     *\n     * @param {string} measureFieldName - The name of the target measure field.\n     * @param {Object} config - The config object.\n     * @param {string} [config.name] - The name of the new field which will be created.\n     * @param {string} [config.buckets] - An array containing the bucket ranges.\n     * @param {string} [config.binSize] - The size of each bin. It is ignored when buckets are given.\n     * @param {string} [config.binsCount] - The total number of bins to generate. It is ignored when buckets are given.\n     * @param {string} [config.start] - The start value of the bucket ranges. It is ignored when buckets are given.\n     * @param {string} [config.end] - The end value of the bucket ranges. It is ignored when buckets are given.\n     * @return {DataModel} Returns a new {@link DataModel} instance with the new field.\n     */\n    bin (measureFieldName, config) {\n        const fieldsConfig = this.getFieldsConfig();\n\n        if (!fieldsConfig[measureFieldName]) {\n            throw new Error(`Field ${measureFieldName} doesn't exist`);\n        }\n\n        const binFieldName = config.name || `${measureFieldName}_binned`;\n\n        if (fieldsConfig[binFieldName]) {\n            throw new Error(`Field ${binFieldName} already exists`);\n        }\n\n        const measureField = this.getFieldspace().fieldsObj()[measureFieldName];\n        const { binnedData, bins } = createBinnedFieldData(measureField, this._rowDiffset, config);\n\n        const binField = createFields([binnedData], [\n            {\n                name: binFieldName,\n                type: FieldType.DIMENSION,\n                subtype: DimensionSubtype.BINNED,\n                bins\n            }], [binFieldName])[0];\n\n        const clone = this.clone(config.saveChild);\n        clone.addField(binField);\n\n        persistDerivations(\n            this,\n            clone,\n            DM_DERIVATIVES.BIN,\n             { measureFieldName, config, binFieldName },\n             null\n        );\n\n        return clone;\n    }\n\n    /**\n     * Creates a new {@link DataModel} instance with completely detached root from current {@link DataModel} instance,\n     * the new {@link DataModel} instance has no parent-children relationship with the current one, but has same data as\n     * the current one.\n     * This API is useful when a completely different {@link DataModel} but with same data as the current instance is\n     * needed.\n     *\n     * @example\n     *  const dm = new DataModel(data, schema);\n     *  const detachedDm = dm.detachedRoot();\n     *\n     * // has different namespace\n     * console.log(dm.getPartialFieldspace().name);\n     * console.log(detachedDm.getPartialFieldspace().name);\n     *\n     * // has same data\n     * console.log(dm.getData());\n     * console.log(detachedDm.getData());\n     *\n     * @public\n     *\n     * @return {DataModel} Returns a detached {@link DataModel} instance.\n     */\n    detachedRoot () {\n        const data = this.serialize(DataFormat.FLAT_JSON);\n        const schema = this.getSchema();\n\n        return new DataModel(data, schema);\n    }\n\n    /**\n     * Creates a set of new {@link DataModel} instances by splitting the set of rows in the source {@link DataModel}\n     * instance based on a set of dimensions.\n     *\n     * For each unique dimensional value, a new split is created which creates a unique {@link DataModel} instance for\n     *  that split\n     *\n     * If multiple dimensions are provided, it splits the source {@link DataModel} instance with all possible\n     * combinations of the dimensional values for all the dimensions provided\n     *\n     * Additionally, it also accepts a predicate function to reduce the set of rows provided. A\n     * {@link link_to_selection | Selection} is performed on all the split {@link DataModel} instances based on\n     * the predicate function\n     *\n     * @example\n     *  // without predicate function:\n     *  const splitDt = dt.splitByRow(['Origin'])\n     *  console.log(splitDt));\n     * // This should give three unique DataModel instances, one each having rows only for 'USA',\n     * // 'Europe' and 'Japan' respectively\n     *\n     * @example\n     *  // without predicate function:\n     *  const splitDtMulti = dt.splitByRow(['Origin', 'Cylinders'])\n     *  console.log(splitDtMulti));\n     * // This should give DataModel instances for all unique combinations of Origin and Cylinder values\n     *\n     * @example\n     * // with predicate function:\n     * const splitWithPredDt = dt.select(['Origin'], fields => fields.Origin.value === \"USA\")\n     * console.log(splitWithPredDt);\n     * // This should not include the DataModel for the Origin : 'USA'\n     *\n     *\n     * @public\n     *\n     * @param {Array} dimensionArr - Set of dimensions based on which the split should occur\n     * @param {Object} config - The configuration object\n     * @param {string} [config.saveChild] - Configuration to save child or not\n     * @param {string}[config.mode=FilteringMode.NORMAL] -The mode of the selection.\n     * @return {Array}  Returns the new DataModel instances after operation.\n     */\n    splitByRow (dimensionArr, reducerFn, config) {\n        const fieldsConfig = this.getFieldsConfig();\n\n        dimensionArr.forEach((fieldName) => {\n            if (!fieldsConfig[fieldName]) {\n                throw new Error(`Field ${fieldName} doesn't exist in the schema`);\n            }\n        });\n\n        const defConfig = {\n            mode: FilteringMode.NORMAL,\n            saveChild: true\n        };\n\n        config = Object.assign({}, defConfig, config);\n\n        return splitWithSelect(this, dimensionArr, reducerFn, config);\n    }\n\n    /**\n     * Creates a set of new {@link DataModel} instances by splitting the set of fields in the source {@link DataModel}\n     * instance based on a set of common and unique field names provided.\n     *\n     * Each DataModel created contains a set of fields which are common to all and a set of unique fields.\n     * It also accepts configurations such as saveChild and mode(inverse or normal) to include/exclude the respective\n     * fields\n     *\n     * @example\n     *  // without predicate function:\n     *  const splitDt = dt.splitByColumn( [['Acceleration'], ['Horsepower']], ['Origin'])\n     *  console.log(splitDt));\n     * // This should give two unique DataModel instances, both having the field 'Origin' and\n     * // one each having 'Acceleration' and 'Horsepower' fields respectively\n     *\n     * @example\n     *  // without predicate function:\n     *  const splitDtInv = dt.splitByColumn( [['Acceleration'], ['Horsepower'],['Origin', 'Cylinders'],\n     *                           {mode: 'inverse'})\n     *  console.log(splitDtInv));\n     * // This should give DataModel instances in the following way:\n     * // All DataModel Instances do not have the fields 'Origin' and 'Cylinders'\n     * // One DataModel Instance has rest of the fields except 'Acceleration' and the other DataModel instance\n     * // has rest of the fields except 'Horsepower'\n     *\n     *\n     *\n     * @public\n     *\n     * @param {Array} uniqueFields - Set of unique fields included in each datamModel instance\n     * @param {Array} commonFields - Set of common fields included in all datamModel instances\n     * @param {Object} config - The configuration object\n     * @param {string} [config.saveChild] - Configuration to save child or not\n     * @param {string}[config.mode=FilteringMode.NORMAL] -The mode of the selection.\n     * @return {Array}  Returns the new DataModel instances after operation.\n     */\n    splitByColumn (uniqueFields = [], commonFields = [], config) {\n        const defConfig = {\n            mode: FilteringMode.NORMAL,\n            saveChild: true\n        };\n        const fieldConfig = this.getFieldsConfig();\n        const allFields = Object.keys(fieldConfig);\n        const normalizedProjFieldSets = [[commonFields]];\n\n        config = Object.assign({}, defConfig, config);\n        uniqueFields = uniqueFields.length ? uniqueFields : [[]];\n\n\n        uniqueFields.forEach((fieldSet, i) => {\n            normalizedProjFieldSets[i] = getNormalizedProFields(\n                [...fieldSet, ...commonFields],\n                allFields,\n                fieldConfig);\n        });\n\n        return splitWithProject(this, normalizedProjFieldSets, config, allFields);\n    }\n\n\n}\n\nexport default DataModel;\n","import { DataFormat } from './enums';\n\nexport default {\n    dataFormat: DataFormat.AUTO\n};\n","/**\n * DataFormat Enum defines the format of the input data.\n * Based on the format of the data the respective adapter is loaded.\n *\n * @readonly\n * @enum {string}\n */\nconst DataFormat = {\n    FLAT_JSON: 'FlatJSON',\n    DSV_STR: 'DSVStr',\n    DSV_ARR: 'DSVArr',\n    AUTO: 'Auto'\n};\n\nexport default DataFormat;\n","/**\n * DimensionSubtype enum defines the sub types of the Dimensional Field.\n *\n * @readonly\n * @enum {string}\n */\nconst DimensionSubtype = {\n    CATEGORICAL: 'categorical',\n    TEMPORAL: 'temporal',\n    BINNED: 'binned'\n};\n\nexport default DimensionSubtype;\n","/**\n * FieldType enum defines the high level field based on which visuals are controlled.\n * Measure in a high level is numeric field and Dimension in a high level is string field.\n *\n * @readonly\n * @enum {string}\n */\nconst FieldType = {\n    MEASURE: 'measure',\n    DIMENSION: 'dimension'\n};\n\nexport default FieldType;\n","/**\n * Filtering mode enum defines the filering modes of DataModel.\n *\n * @readonly\n * @enum {string}\n */\nconst FilteringMode = {\n    NORMAL: 'normal',\n    INVERSE: 'inverse',\n    ALL: 'all'\n};\n\nexport default FilteringMode;\n","/**\n * Group by function names\n *\n * @readonly\n * @enum {string}\n */\nconst GROUP_BY_FUNCTIONS = {\n    SUM: 'sum',\n    AVG: 'avg',\n    MIN: 'min',\n    MAX: 'max',\n    FIRST: 'first',\n    LAST: 'last',\n    COUNT: 'count',\n    STD: 'std'\n};\n\nexport default GROUP_BY_FUNCTIONS;\n","/**\n * FilteringMode determines if resultant DataModel should be created from selection set or rejection set.\n *\n * The following modes are available\n * - `NORMAL`: Only entries from selection set are included in the resulatant DataModel instance\n * - `INVERSE`: Only entries from rejection set are included in the resulatant DataModel instance\n * - ALL: Both the entries from selection and rejection set are returned in two different DataModel instance\n */\n\nexport { default as DataFormat } from './data-format';\nexport { default as DimensionSubtype } from './dimension-subtype';\nexport { default as MeasureSubtype } from './measure-subtype';\nexport { default as FieldType } from './field-type';\nexport { default as FilteringMode } from './filtering-mode';\nexport { default as GROUP_BY_FUNCTIONS } from './group-by-functions';\n","/**\n * MeasureSubtype enum defines the sub types of the Measure Field.\n *\n * @readonly\n * @enum {string}\n */\nconst MeasureSubtype = {\n    CONTINUOUS: 'continuous'\n};\n\nexport default MeasureSubtype;\n","import DataModel from './datamodel';\nimport {\n  compose,\n  bin,\n  select,\n  project,\n  groupby as groupBy,\n  calculateVariable,\n  sort,\n  crossProduct,\n  difference,\n  naturalJoin,\n  leftOuterJoin,\n  rightOuterJoin,\n  fullOuterJoin,\n  union,\n  rowDiffsetIterator\n} from './operator';\nimport * as Stats from './stats';\nimport * as enums from './enums';\nimport { DataConverter } from './converter';\nimport { DateTimeFormatter } from './utils';\nimport { DataFormat, FilteringMode, DM_DERIVATIVES } from './constants';\nimport InvalidAwareTypes from './invalid-aware-types';\nimport pkg from '../package.json';\nimport * as FieldsUtility from './fields';\n\nconst Operators = {\n    compose,\n    bin,\n    select,\n    project,\n    groupBy,\n    calculateVariable,\n    sort,\n    crossProduct,\n    difference,\n    naturalJoin,\n    leftOuterJoin,\n    rightOuterJoin,\n    fullOuterJoin,\n    union,\n    rowDiffsetIterator\n};\n\nconst version = pkg.version;\nObject.assign(DataModel, {\n    Operators,\n    Stats,\n    DM_DERIVATIVES,\n    DateTimeFormatter,\n    DataFormat,\n    FilteringMode,\n    InvalidAwareTypes,\n    version,\n    DataConverter,\n    FieldsUtility\n}, enums);\n\nexport default DataModel;\n","import { FieldType, DimensionSubtype, MeasureSubtype } from './enums';\nimport { fieldRegistry } from './fields';\n\n/**\n * Creates a field instance according to the provided data and schema.\n *\n * @param {Array} data - The field data array.\n * @param {Object} schema - The field schema object.\n * @return {Field} Returns the newly created field instance.\n */\nfunction createUnitField(data, schema) {\n    data = data || [];\n\n    if (fieldRegistry.has(schema.subtype)) {\n        return fieldRegistry.get(schema.subtype)\n                        .BUILDER\n                        .fieldName(schema.name)\n                        .schema(schema)\n                        .data(data)\n                        .rowDiffset(`0-${data.length - 1}`)\n                        .build();\n    }\n    return fieldRegistry\n                    .get(schema.type === FieldType.MEASURE ? MeasureSubtype.CONTINUOUS : DimensionSubtype.CATEGORICAL)\n                    .BUILDER\n                    .fieldName(schema.name)\n                    .schema(schema)\n                    .data(data)\n                    .rowDiffset(`0-${data.length - 1}`)\n                    .build();\n}\n\n\n/**\n * Creates a field instance from partialField and rowDiffset.\n *\n * @param {PartialField} partialField - The corresponding partial field.\n * @param {string} rowDiffset - The data subset config.\n * @return {Field} Returns the newly created field instance.\n */\nexport function createUnitFieldFromPartial(partialField, rowDiffset) {\n    const { schema } = partialField;\n\n    if (fieldRegistry.has(schema.subtype)) {\n        return fieldRegistry.get(schema.subtype)\n                        .BUILDER\n                        .partialField(partialField)\n                        .rowDiffset(rowDiffset)\n                        .build();\n    }\n    return fieldRegistry\n                    .get(schema.type === FieldType.MEASURE ? MeasureSubtype.CONTINUOUS : DimensionSubtype.CATEGORICAL)\n                    .BUILDER\n                    .partialField(partialField)\n                    .rowDiffset(rowDiffset)\n                    .build();\n}\n\n/**\n * Creates the field instances with input data and schema.\n *\n * @param {Array} dataColumn - The data array for fields.\n * @param {Array} schema - The schema array for fields.\n * @param {Array} headers - The array of header names.\n * @return {Array.<Field>} Returns an array of newly created field instances.\n */\nexport function createFields(dataColumn, schema, headers) {\n    const headersObj = {};\n\n    if (!(headers && headers.length)) {\n        headers = schema.map(item => item.name);\n    }\n\n    headers.forEach((header, i) => {\n        headersObj[header] = i;\n    });\n\n    return schema.map(item => createUnitField(dataColumn[headersObj[item.name]], item));\n}\n","import { FieldType } from './enums';\nimport { getUniqueId } from './utils';\n\nconst fieldStore = {\n    data: {},\n\n    createNamespace (fieldArr, name) {\n        const dataId = name || getUniqueId();\n\n        this.data[dataId] = {\n            name: dataId,\n            fields: fieldArr,\n\n            fieldsObj () {\n                let fieldsObj = this._cachedFieldsObj;\n\n                if (!fieldsObj) {\n                    fieldsObj = this._cachedFieldsObj = {};\n                    this.fields.forEach((field) => {\n                        fieldsObj[field.name()] = field;\n                    });\n                }\n                return fieldsObj;\n            },\n            getMeasure () {\n                let measureFields = this._cachedMeasure;\n\n                if (!measureFields) {\n                    measureFields = this._cachedMeasure = {};\n                    this.fields.forEach((field) => {\n                        if (field.schema().type === FieldType.MEASURE) {\n                            measureFields[field.name()] = field;\n                        }\n                    });\n                }\n                return measureFields;\n            },\n            getDimension () {\n                let dimensionFields = this._cachedDimension;\n\n                if (!this._cachedDimension) {\n                    dimensionFields = this._cachedDimension = {};\n                    this.fields.forEach((field) => {\n                        if (field.schema().type === FieldType.DIMENSION) {\n                            dimensionFields[field.name()] = field;\n                        }\n                    });\n                }\n                return dimensionFields;\n            },\n        };\n        return this.data[dataId];\n    },\n};\n\nexport default fieldStore;\n","import Dimension from '../dimension';\nimport BinnedParser from '../parsers/binned-parser';\n\n/**\n * Represents binned field subtype.\n *\n * @public\n * @class\n * @extends Dimension\n */\nexport default class Binned extends Dimension {\n    /**\n     * Calculates the corresponding field domain.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the last and first values of bins config array.\n     */\n    calculateDataDomain () {\n        const binsArr = this.partialField.schema.bins;\n        return [binsArr[0], binsArr[binsArr.length - 1]];\n    }\n\n    /**\n     * Returns the bins config provided while creating the field instance.\n     *\n     * @public\n     * @return {Array} Returns the bins array config.\n     */\n    bins () {\n        return this.partialField.schema.bins;\n    }\n\n    static parser() {\n        return new BinnedParser();\n    }\n}\n","import { rowDiffsetIterator } from '../../operator/row-diffset-iterator';\nimport { DimensionSubtype } from '../../enums';\nimport Dimension from '../dimension';\nimport CategoricalParser from '../parsers/categorical-parser';\n/**\n * Represents categorical field subtype.\n *\n * @public\n * @class\n * @extends Dimension\n */\nexport default class Categorical extends Dimension {\n    /**\n     * Returns the subtype of the field.\n     *\n     * @public\n     * @override\n     * @return {string} Returns the subtype of the field.\n     */\n    subtype () {\n        return DimensionSubtype.CATEGORICAL;\n    }\n\n    /**\n     * Calculates the corresponding field domain.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the unique values.\n     */\n    calculateDataDomain () {\n        const hash = new Set();\n        const domain = [];\n\n        // here don't use this.data() as the iteration will be occurred two times on same data.\n        rowDiffsetIterator(this.rowDiffset, (i) => {\n            const datum = this.partialField.data[i];\n            if (!hash.has(datum)) {\n                hash.add(datum);\n                domain.push(datum);\n            }\n        });\n        return domain;\n    }\n\n    static parser() {\n        return new CategoricalParser();\n    }\n}\n","import { rowDiffsetIterator } from '../../operator/row-diffset-iterator';\nimport { MeasureSubtype } from '../../enums';\nimport Measure from '../measure';\nimport InvalidAwareTypes from '../../invalid-aware-types';\nimport ContinuousParser from '../parsers/continuous-parser';\n\n/**\n * Represents continuous field subtype.\n *\n * @public\n * @class\n * @extends Measure\n */\nexport default class Continuous extends Measure {\n    /**\n     * Returns the subtype of the field.\n     *\n     * @public\n     * @override\n     * @return {string} Returns the subtype of the field.\n     */\n    subtype () {\n        return MeasureSubtype.CONTINUOUS;\n    }\n\n    /**\n     * Calculates the corresponding field domain.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the min and max values.\n     */\n    calculateDataDomain () {\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n\n        // here don't use this.data() as the iteration will be occurred two times on same data.\n        rowDiffsetIterator(this.rowDiffset, (i) => {\n            const datum = this.partialField.data[i];\n            if (datum instanceof InvalidAwareTypes) {\n                return;\n            }\n\n            if (datum < min) {\n                min = datum;\n            }\n            if (datum > max) {\n                max = datum;\n            }\n        });\n\n        return [min, max];\n    }\n\n    static parser() {\n        return new ContinuousParser();\n    }\n}\n","import Field from '../field';\n\n/**\n * Represents dimension field type.\n *\n * @public\n * @class\n * @extends Field\n */\nexport default class Dimension extends Field {\n    /**\n     * Returns the domain for the dimension field.\n     *\n     * @override\n     * @public\n     * @return {any} Returns the calculated domain.\n     */\n    domain () {\n        if (!this._cachedDomain) {\n            this._cachedDomain = this.calculateDataDomain();\n        }\n        return this._cachedDomain;\n    }\n\n    /**\n     * Calculates the corresponding field domain.\n     *\n     * @public\n     * @abstract\n     */\n    calculateDataDomain () {\n        throw new Error('Not yet implemented');\n    }\n\n     /**\n     * Returns the formatted version of the underlying field data.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the formatted data.\n     */\n    formattedData () {\n        return this.data();\n    }\n}\n","import Categorical from './categorical';\nimport Temporal from './temporal';\nimport Binned from './binned';\nimport Continuous from './continuous';\nimport { DimensionSubtype, MeasureSubtype } from '../enums';\n\n\nclass FieldTypeRegistry {\n    constructor() {\n        this._fieldType = new Map();\n    }\n\n    registerFieldType(subtype, dimension) {\n        this._fieldType.set(subtype, dimension);\n        return this;\n    }\n\n    has(type) {\n        return this._fieldType.has(type);\n    }\n\n    get(type) {\n        return this._fieldType.get(type);\n    }\n}\n\nconst registerDefaultFields = (store) => {\n    store\n                    .registerFieldType(DimensionSubtype.CATEGORICAL, Categorical)\n                    .registerFieldType(DimensionSubtype.TEMPORAL, Temporal)\n                    .registerFieldType(DimensionSubtype.BINNED, Binned)\n                    .registerFieldType(MeasureSubtype.CONTINUOUS, Continuous);\n};\n\nconst fieldRegistry = (function () {\n    let store = null;\n    function getStore () {\n        store = new FieldTypeRegistry();\n        registerDefaultFields(store);\n        return store;\n    }\n    return store || getStore();\n}());\n\nexport default fieldRegistry;\n\n","import { rowDiffsetIterator } from '../../operator/row-diffset-iterator';\nimport PartialField from '../partial-field';\n\n/**\n * In {@link DataModel}, every tabular data consists of column, a column is stored as field.\n * Field contains all the data for a given column in an array.\n *\n * Each record consists of several fields; the fields of all records form the columns.\n * Examples of fields: name, gender, sex etc.\n *\n * In DataModel, each field can have multiple attributes which describes its data and behaviour.\n * A field can have two types of data: Measure and Dimension.\n *\n * A Dimension Field is the context on which a data is categorized and the measure is the numerical values that\n * quantify the data set.\n * In short a dimension is the lens through which you are looking at your measure data.\n *\n * Refer to {@link Schema} to get info about possible field attributes.\n *\n * @public\n * @class\n */\nexport default class Field {\n    /**\n     * Initialize a new instance.\n     *\n     * @public\n     * @param {PartialField} partialField - The partialField instance which holds the whole data.\n     * @param {string} rowDiffset - The data subset definition.\n     */\n    constructor (partialField, rowDiffset) {\n        this.partialField = partialField;\n        this.rowDiffset = rowDiffset;\n    }\n\n    static parser() {\n        throw new Error('Not yet implemented');\n    }\n\n    /**\n     * Generates the field type specific domain.\n     *\n     * @public\n     * @abstract\n     */\n    domain () {\n        throw new Error('Not yet implemented');\n    }\n\n    /**\n     * Returns the the field schema.\n     *\n     * @public\n     * @return {string} Returns the field schema.\n     */\n    schema () {\n        return this.partialField.schema;\n    }\n\n    /**\n     * Returns the name of the field.\n     *\n     * @public\n     * @return {string} Returns the name of the field.\n     */\n    name () {\n        return this.partialField.name;\n    }\n\n    /**\n     * Returns the type of the field.\n     *\n     * @public\n     * @return {string} Returns the type of the field.\n     */\n    type () {\n        return this.partialField.schema.type;\n    }\n\n    /**\n     * Returns the subtype of the field.\n     *\n     * @public\n     * @return {string} Returns the subtype of the field.\n     */\n    subtype () {\n        return this.partialField.schema.subtype;\n    }\n\n    /**\n     * Returns the description of the field.\n     *\n     * @public\n     * @return {string} Returns the description of the field.\n     */\n    description () {\n        return this.partialField.schema.description;\n    }\n\n    /**\n     * Returns the display name of the field.\n     *\n     * @public\n     * @return {string} Returns the display name of the field.\n     */\n    displayName () {\n        return this.partialField.schema.displayName || this.partialField.schema.name;\n    }\n\n    /**\n     * Returns the data associated with the field.\n     *\n     * @public\n     * @return {Array} Returns the data.\n     */\n    data () {\n        const data = [];\n        rowDiffsetIterator(this.rowDiffset, (i) => {\n            data.push(this.partialField.data[i]);\n        });\n        return data;\n    }\n\n    /**\n     * Returns the formatted version of the underlying field data.\n     *\n     * @public\n     * @abstract\n     */\n    formattedData () {\n        throw new Error('Not yet implemented');\n    }\n\n    static get BUILDER() {\n        const builder = {\n            _params: {},\n            _context: this,\n            fieldName(name) {\n                this._params.name = name;\n                return this;\n            },\n            schema(schema) {\n                this._params.schema = schema;\n                return this;\n            },\n            data(data) {\n                this._params.data = data;\n                return this;\n            },\n            partialField(partialField) {\n                this._params.partialField = partialField;\n                return this;\n            },\n            rowDiffset(rowDiffset) {\n                this._params.rowDiffset = rowDiffset;\n                return this;\n            },\n            build() {\n                let partialField = null;\n                if (this._params.partialField instanceof PartialField) {\n                    partialField = this._params.partialField;\n                } else if (this._params.schema && this._params.data) {\n                    partialField = new PartialField(this._params.name,\n                                        this._params.data,\n                                        this._params.schema,\n                                        this._context.parser());\n                }\n                else {\n                    throw new Error('Invalid Field parameters');\n                }\n                return new this._context(partialField, this._params.rowDiffset);\n            }\n        };\n        return builder;\n    }\n}\n","export { default as Dimension } from './dimension';\nexport { default as Measure } from './measure';\nexport { default as FieldParser } from './parsers/field-parser';\nexport { default as fieldRegistry } from './field-registry';\nexport { columnMajor } from '../utils';\n","import { formatNumber } from '../../utils';\nimport { defaultReducerName } from '../../operator/group-by-function';\nimport Field from '../field';\n\n/**\n * Represents measure field type.\n *\n * @public\n * @class\n * @extends Field\n */\nexport default class Measure extends Field {\n  /**\n   * Returns the domain for the measure field.\n   *\n   * @override\n   * @public\n   * @return {any} Returns the calculated domain.\n   */\n    domain () {\n        if (!this._cachedDomain) {\n            this._cachedDomain = this.calculateDataDomain();\n        }\n        return this._cachedDomain;\n    }\n\n  /**\n   * Returns the unit of the measure field.\n   *\n   * @public\n   * @return {string} Returns unit of the field.\n   */\n    unit () {\n        return this.partialField.schema.unit;\n    }\n\n  /**\n   * Returns the aggregation function name of the measure field.\n   *\n   * @public\n   * @return {string} Returns aggregation function name of the field.\n   */\n    defAggFn () {\n        return this.partialField.schema.defAggFn || defaultReducerName;\n    }\n\n  /**\n   * Returns the number format of the measure field.\n   *\n   * @public\n   * @return {Function} Returns number format of the field.\n   */\n    numberFormat () {\n        const { numberFormat } = this.partialField.schema;\n        return numberFormat instanceof Function ? numberFormat : formatNumber;\n    }\n\n  /**\n   * Calculates the corresponding field domain.\n   *\n   * @public\n   * @abstract\n   */\n    calculateDataDomain () {\n        throw new Error('Not yet implemented');\n    }\n\n    /**\n     * Returns the formatted version of the underlying field data.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the formatted data.\n     */\n    formattedData () {\n        return this.data();\n    }\n}\n","import FieldParser from '../field-parser';\nimport InvalidAwareTypes from '../../../invalid-aware-types';\n\n/**\n * A FieldParser which parses the binned values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\nexport default class BinnedParser extends FieldParser {\n  /**\n   * Parses a single binned value of a field and returns the sanitized value.\n   *\n   * @public\n   * @param {string} val - The value of the field.\n   * @return {string} Returns the sanitized value.\n   */\n    parse (val) {\n        const regex = /^\\s*([+-]?\\d+(?:\\.\\d+)?)\\s*-\\s*([+-]?\\d+(?:\\.\\d+)?)\\s*$/;\n        val = String(val);\n        let result;\n        // check if invalid date value\n        if (!InvalidAwareTypes.isInvalid(val)) {\n            let matched = val.match(regex);\n            result = matched ? `${Number.parseFloat(matched[1])}-${Number.parseFloat(matched[2])}`\n                             : InvalidAwareTypes.NA;\n        } else {\n            result = InvalidAwareTypes.getInvalidType(val);\n        }\n        return result;\n    }\n}\n","import FieldParser from '../field-parser';\nimport InvalidAwareTypes from '../../../invalid-aware-types';\n\n/**\n * A FieldParser which parses the categorical values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\nexport default class CategoricalParser extends FieldParser {\n  /**\n   * Parses a single value of a field and returns the stringified form.\n   *\n   * @public\n   * @param {string|number} val - The value of the field.\n   * @return {string} Returns the stringified value.\n   */\n    parse (val) {\n        let result;\n        // check if invalid date value\n        if (!InvalidAwareTypes.isInvalid(val)) {\n            result = String(val).trim();\n        } else {\n            result = InvalidAwareTypes.getInvalidType(val);\n        }\n        return result;\n    }\n}\n","import FieldParser from '../field-parser';\nimport InvalidAwareTypes from '../../../invalid-aware-types';\n\n/**\n * A FieldParser which parses the continuous values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\nexport default class ContinuousParser extends FieldParser {\n  /**\n   * Parses a single value of a field and returns the number form.\n   *\n   * @public\n   * @param {string|number} val - The value of the field.\n   * @return {string} Returns the number value.\n   */\n    parse (val) {\n        let result;\n        // check if invalid date value\n        if (!InvalidAwareTypes.isInvalid(val)) {\n            let parsedVal = parseFloat(val, 10);\n            result = Number.isNaN(parsedVal) ? InvalidAwareTypes.NA : parsedVal;\n        } else {\n            result = InvalidAwareTypes.getInvalidType(val);\n        }\n        return result;\n    }\n}\n","/**\n * A interface to represent a parser which is responsible to parse the field.\n *\n * @public\n * @interface\n */\nexport default class FieldParser {\n    /**\n     * Parses a single value of a field and return the sanitized form.\n     *\n     * @public\n     * @abstract\n     */\n    parse () {\n        throw new Error('Not yet implemented');\n    }\n}\n","import { DateTimeFormatter } from '../../../utils';\nimport FieldParser from '../field-parser';\nimport InvalidAwareTypes from '../../../invalid-aware-types';\n\n/**\n * A FieldParser which parses the temporal values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\nexport default class TemporalParser extends FieldParser {\n\n    /**\n     * Parses a single value of a field and returns the millisecond value.\n     *\n     * @public\n     * @param {string|number} val - The value of the field.\n     * @return {number} Returns the millisecond value.\n     */\n    parse (val, { format }) {\n        let result;\n        // check if invalid date value\n        if (!this._dtf) {\n            this._dtf = new DateTimeFormatter(format);\n        }\n        if (!InvalidAwareTypes.isInvalid(val)) {\n            let nativeDate = this._dtf.getNativeDate(val);\n            result = nativeDate ? nativeDate.getTime() : InvalidAwareTypes.NA;\n        } else {\n            result = InvalidAwareTypes.getInvalidType(val);\n        }\n        return result;\n    }\n}\n","/**\n * Stores the full data and the metadata of a field. It provides\n * a single source of data from which the future Field\n * instance can get a subset of it with a rowDiffset config.\n *\n * @class\n * @public\n */\nexport default class PartialField {\n    /**\n     * Initialize a new instance.\n     *\n     * @public\n     * @param {string} name - The name of the field.\n     * @param {Array} data - The data array.\n     * @param {Object} schema - The schema object of the corresponding field.\n     * @param {FieldParser} parser - The parser instance corresponding to that field.\n     */\n    constructor (name, data, schema, parser) {\n        this.name = name;\n        this.schema = schema;\n        this.parser = parser;\n        this.data = this._sanitize(data);\n    }\n\n    /**\n     * Sanitizes the field data.\n     *\n     * @private\n     * @param {Array} data - The actual input data.\n     * @return {Array} Returns the sanitized data.\n     */\n    _sanitize (data) {\n        return data.map(datum => this.parser.parse(datum, { format: this.schema.format }));\n    }\n}\n","import { rowDiffsetIterator } from '../../operator/row-diffset-iterator';\nimport Dimension from '../dimension';\nimport { DateTimeFormatter } from '../../utils';\nimport InvalidAwareTypes from '../../invalid-aware-types';\nimport TemporalParser from '../parsers/temporal-parser';\n\n/**\n * Represents temporal field subtype.\n *\n * @public\n * @class\n * @extends Dimension\n */\nexport default class Temporal extends Dimension {\n     /**\n     * Initialize a new instance.\n     *\n     * @public\n     * @param {PartialField} partialField - The partialField instance which holds the whole data.\n     * @param {string} rowDiffset - The data subset definition.\n     */\n    constructor (partialField, rowDiffset) {\n        super(partialField, rowDiffset);\n\n        this._cachedMinDiff = null;\n    }\n\n     /**\n     * Calculates the corresponding field domain.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the unique values.\n     */\n    calculateDataDomain () {\n        const hash = new Set();\n        const domain = [];\n\n        // here don't use this.data() as the iteration will be\n        // occurred two times on same data.\n        rowDiffsetIterator(this.rowDiffset, (i) => {\n            const datum = this.partialField.data[i];\n            if (!hash.has(datum)) {\n                hash.add(datum);\n                domain.push(datum);\n            }\n        });\n\n        return domain;\n    }\n\n\n    /**\n     * Calculates the minimum consecutive difference from the associated field data.\n     *\n     * @public\n     * @return {number} Returns the minimum consecutive diff in milliseconds.\n     */\n    minimumConsecutiveDifference () {\n        if (this._cachedMinDiff) {\n            return this._cachedMinDiff;\n        }\n\n        const sortedData = this.data().filter(item => !(item instanceof InvalidAwareTypes)).sort((a, b) => a - b);\n        const arrLn = sortedData.length;\n        let minDiff = Number.POSITIVE_INFINITY;\n        let prevDatum;\n        let nextDatum;\n        let processedCount = 0;\n\n        for (let i = 1; i < arrLn; i++) {\n            prevDatum = sortedData[i - 1];\n            nextDatum = sortedData[i];\n\n            if (nextDatum === prevDatum) {\n                continue;\n            }\n\n            minDiff = Math.min(minDiff, nextDatum - sortedData[i - 1]);\n            processedCount++;\n        }\n\n        if (!processedCount) {\n            minDiff = null;\n        }\n        this._cachedMinDiff = minDiff;\n\n        return this._cachedMinDiff;\n    }\n\n    /**\n     * Returns the format specified in the input schema while creating field.\n     *\n     * @public\n     * @return {string} Returns the datetime format.\n     */\n    format () {\n        return this.partialField.schema.format;\n    }\n\n    /**\n     * Returns the formatted version of the underlying field data\n     * If data is of type invalid or has missing format use the raw value\n     * @public\n     * @override\n     * @return {Array} Returns the formatted data.\n     */\n    formattedData () {\n        const data = [];\n        const dataFormat = this.format();\n\n        rowDiffsetIterator(this.rowDiffset, (i) => {\n            const datum = this.partialField.data[i];\n            // If value is of invalid type or format is missing\n            if (InvalidAwareTypes.isInvalid(datum) || (!dataFormat && Number.isFinite(datum))) {\n                // Use the invalid map value or the raw value\n                const parsedDatum = InvalidAwareTypes.getInvalidType(datum) || datum;\n                data.push(parsedDatum);\n            } else {\n                data.push(DateTimeFormatter.formatAs(datum, dataFormat));\n            }\n        });\n        return data;\n    }\n\n    static parser() {\n        return new TemporalParser();\n    }\n}\n\n","import { FieldType, FilteringMode, DimensionSubtype, MeasureSubtype, DataFormat } from './enums';\nimport fieldStore from './field-store';\nimport Value from './value';\nimport {\n    rowDiffsetIterator\n} from './operator';\nimport { DM_DERIVATIVES, LOGICAL_OPERATORS, ROW_ID } from './constants';\nimport { createFields, createUnitFieldFromPartial } from './field-creator';\nimport defaultConfig from './default-config';\nimport { converterStore } from './converter';\nimport { fieldRegistry } from './fields';\nimport { extend2, detectDataFormat } from './utils';\n\n/**\n * Prepares the selection data.\n */\nfunction prepareSelectionData (fields, formattedData, rawData, i) {\n    const resp = {};\n\n    for (const [key, field] of fields.entries()) {\n        resp[field.name()] = new Value(formattedData[key][i], rawData[key][i], field);\n    }\n    return resp;\n}\n\nexport function prepareJoinData (fields) {\n    const resp = {};\n\n    for (const key in fields) {\n        resp[key] = new Value(fields[key].formattedValue, fields[key].rawValue, key);\n    }\n    return resp;\n}\n\nexport const updateFields = ([rowDiffset, colIdentifier], partialFieldspace, fieldStoreName) => {\n    let collID = colIdentifier.length ? colIdentifier.split(',') : [];\n    let partialFieldMap = partialFieldspace.fieldsObj();\n    let newFields = collID.map(coll => createUnitFieldFromPartial(partialFieldMap[coll].partialField, rowDiffset));\n    return fieldStore.createNamespace(newFields, fieldStoreName);\n};\n\nexport const persistCurrentDerivation = (model, operation, config = {}, criteriaFn) => {\n    if (operation === DM_DERIVATIVES.COMPOSE) {\n        model._derivation.length = 0;\n        model._derivation.push(...criteriaFn);\n    } else {\n        model._derivation.push({\n            op: operation,\n            meta: config,\n            criteria: criteriaFn\n        });\n    }\n};\nexport const persistAncestorDerivation = (sourceDm, newDm) => {\n    newDm._ancestorDerivation.push(...sourceDm._ancestorDerivation, ...sourceDm._derivation);\n};\n\nexport const persistDerivations = (sourceDm, model, operation, config = {}, criteriaFn) => {\n    persistCurrentDerivation(model, operation, config, criteriaFn);\n    persistAncestorDerivation(sourceDm, model);\n};\n\nconst selectModeMap = {\n    [FilteringMode.NORMAL]: {\n        diffIndex: ['rowDiffset'],\n        calcDiff: [true, false]\n    },\n    [FilteringMode.INVERSE]: {\n        diffIndex: ['rejectRowDiffset'],\n        calcDiff: [false, true]\n    },\n    [FilteringMode.ALL]: {\n        diffIndex: ['rowDiffset', 'rejectRowDiffset'],\n        calcDiff: [true, true]\n    }\n};\n\nconst generateRowDiffset = (rowDiffset, i, lastInsertedValue) => {\n    if (lastInsertedValue !== -1 && i === (lastInsertedValue + 1)) {\n        const li = rowDiffset.length - 1;\n\n        rowDiffset[li] = `${rowDiffset[li].split('-')[0]}-${i}`;\n    } else {\n        rowDiffset.push(`${i}`);\n    }\n};\n\nexport const selectRowDiffsetIterator = (rowDiffset, checker, mode) => {\n    let lastInsertedValueSel = -1;\n    let lastInsertedValueRej = -1;\n    const newRowDiffSet = [];\n    const rejRowDiffSet = [];\n\n    const [shouldSelect, shouldReject] = selectModeMap[mode].calcDiff;\n\n    rowDiffsetIterator(rowDiffset, (i) => {\n        const checkerResult = checker(i);\n        checkerResult && shouldSelect && generateRowDiffset(newRowDiffSet, i, lastInsertedValueSel);\n        !checkerResult && shouldReject && generateRowDiffset(rejRowDiffSet, i, lastInsertedValueRej);\n    });\n    return {\n        rowDiffset: newRowDiffSet.join(','),\n        rejectRowDiffset: rejRowDiffSet.join(',')\n    };\n};\n\n\nexport const rowSplitDiffsetIterator = (rowDiffset, checker, mode, dimensionArr, fieldStoreObj) => {\n    let lastInsertedValue = {};\n    const splitRowDiffset = {};\n    const dimensionMap = {};\n\n    rowDiffsetIterator(rowDiffset, (i) => {\n        if (checker(i)) {\n            let hash = '';\n\n            let dimensionSet = { keys: {} };\n\n            dimensionArr.forEach((_) => {\n                const data = fieldStoreObj[_].partialField.data[i];\n                hash = `${hash}-${data}`;\n                dimensionSet.keys[_] = data;\n            });\n\n            if (splitRowDiffset[hash] === undefined) {\n                splitRowDiffset[hash] = [];\n                lastInsertedValue[hash] = -1;\n                dimensionMap[hash] = dimensionSet;\n            }\n\n            generateRowDiffset(splitRowDiffset[hash], i, lastInsertedValue[hash]);\n            lastInsertedValue[hash] = i;\n        }\n    });\n\n    return {\n        splitRowDiffset,\n        dimensionMap\n    };\n};\n\n\nexport const selectHelper = (clonedDm, selectFn, config, sourceDm, iterator) => {\n    let cachedStore = {};\n    let cloneProvider = () => sourceDm.detachedRoot();\n    const { mode } = config;\n    const rowDiffset = clonedDm._rowDiffset;\n    const cachedValueObjects = clonedDm._partialFieldspace._cachedValueObjects;\n\n    const selectorHelperFn = index => selectFn(\n        cachedValueObjects[index],\n        index,\n        cloneProvider,\n        cachedStore\n    );\n\n    return iterator(rowDiffset, selectorHelperFn, mode);\n};\n\nexport const cloneWithAllFields = (model) => {\n    const clonedDm = model.clone(false);\n    const partialFieldspace = model.getPartialFieldspace();\n    clonedDm._colIdentifier = partialFieldspace.fields.map(f => f.name()).join(',');\n\n    // flush out cached namespace values on addition of new fields\n    partialFieldspace._cachedFieldsObj = null;\n    partialFieldspace._cachedDimension = null;\n    partialFieldspace._cachedMeasure = null;\n    clonedDm.__calculateFieldspace().calculateFieldsConfig();\n\n    return clonedDm;\n};\n\nconst getKey = (arr, data, fn) => {\n    let key = fn(arr, data, 0);\n\n    for (let i = 1, len = arr.length; i < len; i++) {\n        key = `${key},${fn(arr, data, i)}`;\n    }\n    return key;\n};\n\nconst keyFn = (arr, fields, idx, rowId) => {\n    const val = fields[arr[idx]].internalValue;\n    return arr[idx] === ROW_ID ? rowId : val;\n};\n\nconst domainChecker = (val, domain) => {\n    const domainArr = domain[0] instanceof Array ? domain : [domain];\n    return domainArr.some(dom => val >= dom[0] && val <= dom[1]);\n};\n\nconst boundsChecker = {\n    [MeasureSubtype.CONTINUOUS]: domainChecker,\n    [DimensionSubtype.TEMPORAL]: domainChecker\n};\n\nconst isWithinDomain = (value, domain, fieldType) => boundsChecker[fieldType](value, domain);\n\nexport const filterPropagationModel = (model, propModels, config = {}) => {\n    let fns = [];\n    const operation = config.operation || LOGICAL_OPERATORS.AND;\n    const filterByMeasure = config.filterByMeasure;\n    const clonedModel = cloneWithAllFields(model);\n    const modelFieldsConfig = clonedModel.getFieldsConfig();\n\n    if (!propModels.length) {\n        fns = [() => false];\n    } else {\n        fns = propModels.map(propModel => ((criteria = {}) => {\n            const { identifiers = [[], []], range } = criteria;\n            let [fieldNames = [], values = []] = identifiers;\n            const indices = fieldNames.reduce((map, name, i) => {\n                map[name] = i;\n                return map;\n            }, {});\n            fieldNames = fieldNames.filter(field => field in modelFieldsConfig);\n            const dLen = fieldNames.length;\n            const valuesMap = {};\n\n            if (dLen) {\n                for (let i = 1, len = identifiers.length; i < len; i++) {\n                    const row = identifiers[i];\n                    const key = `${fieldNames.map((field) => {\n                        const idx = indices[field];\n                        return row[idx];\n                    })}`;\n                    valuesMap[key] = 1;\n                }\n            }\n            let rangeKeys = Object.keys(range || {}).filter(field => field in modelFieldsConfig);\n\n            if (!filterByMeasure) {\n                rangeKeys = rangeKeys.filter(field => modelFieldsConfig[field].def.type !== FieldType.MEASURE);\n            }\n\n            return values.length || rangeKeys.length ? (fields, i) => {\n                const present = dLen ? valuesMap[getKey(fieldNames, fields, keyFn, i)] : true;\n\n                return rangeKeys.every((field) => {\n                    const val = fields[field].internalValue;\n                    return isWithinDomain(val, range[field], modelFieldsConfig[field].def.subtype);\n                }) && present;\n            } : () => false;\n        })(propModel));\n    }\n\n    let filteredModel;\n    if (operation === LOGICAL_OPERATORS.AND) {\n        filteredModel = clonedModel.select(fields => fns.every(fn => fn(fields)), {\n            saveChild: false\n        });\n    } else {\n        filteredModel = clonedModel.select(fields => fns.some(fn => fn(fields)), {\n            saveChild: false\n        });\n    }\n\n    return filteredModel;\n};\n\n\nexport const splitWithSelect = (sourceDm, dimensionArr, reducerFn = val => val, config) => {\n    const {\n        saveChild,\n    } = config;\n    const fieldStoreObj = sourceDm.getFieldspace().fieldsObj();\n\n    const {\n        splitRowDiffset,\n        dimensionMap\n    } = selectHelper(\n        sourceDm.clone(saveChild),\n        reducerFn,\n        config,\n        sourceDm,\n        (...params) => rowSplitDiffsetIterator(...params, dimensionArr, fieldStoreObj)\n        );\n\n    const clonedDMs = [];\n    Object.keys(splitRowDiffset).sort().forEach((e) => {\n        if (splitRowDiffset[e]) {\n            const cloned = sourceDm.clone(saveChild);\n            const derivation = dimensionMap[e];\n            cloned._rowDiffset = splitRowDiffset[e].join(',');\n            cloned.__calculateFieldspace().calculateFieldsConfig();\n\n            const derivationFormula = fields => dimensionArr.every(_ => fields[_].internalValue === derivation.keys[_]);\n            // Store reference to child model and selector function\n            if (saveChild) {\n                persistDerivations(sourceDm, cloned, DM_DERIVATIVES.SELECT, config, derivationFormula);\n            }\n            cloned._derivation[cloned._derivation.length - 1].meta = dimensionMap[e];\n\n            clonedDMs.push(cloned);\n        }\n    });\n\n\n    return clonedDMs;\n};\nexport const addDiffsetToClonedDm = (clonedDm, rowDiffset, sourceDm, selectConfig, selectFn) => {\n    clonedDm._rowDiffset = rowDiffset;\n    clonedDm.__calculateFieldspace().calculateFieldsConfig();\n    persistDerivations(\n        sourceDm,\n        clonedDm,\n        DM_DERIVATIVES.SELECT,\n         { config: selectConfig },\n          selectFn\n    );\n};\n\n\nexport const cloneWithSelect = (sourceDm, selectFn, selectConfig, cloneConfig) => {\n    let extraCloneDm = {};\n\n    let { mode } = selectConfig;\n\n    const cloned = sourceDm.clone(cloneConfig.saveChild);\n    const setOfRowDiffsets = selectHelper(\n        cloned,\n        selectFn,\n        selectConfig,\n        sourceDm,\n        selectRowDiffsetIterator\n    );\n    const diffIndex = selectModeMap[mode].diffIndex;\n\n    addDiffsetToClonedDm(cloned, setOfRowDiffsets[diffIndex[0]], sourceDm, selectConfig, selectFn);\n\n    if (diffIndex.length > 1) {\n        extraCloneDm = sourceDm.clone(cloneConfig.saveChild);\n        addDiffsetToClonedDm(extraCloneDm, setOfRowDiffsets[diffIndex[1]], sourceDm, selectConfig, selectFn);\n        return [cloned, extraCloneDm];\n    }\n\n    return cloned;\n};\n\nexport const cloneWithProject = (sourceDm, projField, config, allFields) => {\n    const cloned = sourceDm.clone(config.saveChild);\n    let projectionSet = projField;\n    if (config.mode === FilteringMode.INVERSE) {\n        projectionSet = allFields.filter(fieldName => projField.indexOf(fieldName) === -1);\n    }\n    // cloned._colIdentifier = sourceDm._colIdentifier.split(',')\n    //                         .filter(coll => projectionSet.indexOf(coll) !== -1).join();\n    cloned._colIdentifier = projectionSet.join(',');\n    cloned.__calculateFieldspace().calculateFieldsConfig();\n\n    persistDerivations(\n        sourceDm,\n        cloned,\n        DM_DERIVATIVES.PROJECT,\n        { projField, config, actualProjField: projectionSet },\n        null\n    );\n\n    return cloned;\n};\n\n\nexport const splitWithProject = (sourceDm, projFieldSet, config, allFields) =>\n    projFieldSet.map(projFields =>\n        cloneWithProject(sourceDm, projFields, config, allFields));\n\nexport const sanitizeUnitSchema = (unitSchema) => {\n    // Do deep clone of the unit schema as the user might change it later.\n    unitSchema = extend2({}, unitSchema);\n    if (!unitSchema.type) {\n        unitSchema.type = FieldType.DIMENSION;\n    }\n\n    if (!unitSchema.subtype) {\n        switch (unitSchema.type) {\n        case FieldType.MEASURE:\n            unitSchema.subtype = MeasureSubtype.CONTINUOUS;\n            break;\n        default:\n        case FieldType.DIMENSION:\n            unitSchema.subtype = DimensionSubtype.CATEGORICAL;\n            break;\n        }\n    }\n\n    return unitSchema;\n};\n\nexport const validateUnitSchema = (unitSchema) => {\n    const { type, subtype, name } = unitSchema;\n    if (type === FieldType.DIMENSION || type === FieldType.MEASURE) {\n        if (!fieldRegistry.has(subtype)) {\n            throw new Error(`DataModel doesn't support measure field subtype ${subtype} used for ${name} field`);\n        }\n    } else {\n        throw new Error(`DataModel doesn't support field type ${type} used for ${name} field`);\n    }\n};\n\nexport const sanitizeAndValidateSchema = schema => schema.map((unitSchema) => {\n    unitSchema = sanitizeUnitSchema(unitSchema);\n    validateUnitSchema(unitSchema);\n    return unitSchema;\n});\n\nexport const resolveFieldName = (schema, dataHeader) => {\n    schema.forEach((unitSchema) => {\n        const fieldNameAs = unitSchema.as;\n        if (!fieldNameAs) { return; }\n\n        const idx = dataHeader.indexOf(unitSchema.name);\n        dataHeader[idx] = fieldNameAs;\n        unitSchema.name = fieldNameAs;\n        delete unitSchema.as;\n    });\n};\n\nexport const updateData = (relation, data, schema, options) => {\n    schema = sanitizeAndValidateSchema(schema);\n    options = Object.assign(Object.assign({}, defaultConfig), options);\n    const converter = converterStore.get(options.dataFormat);\n\n\n    if (!converter) {\n        throw new Error(`No converter function found for ${options.dataFormat} format`);\n    }\n\n    const [header, formattedData] = converter.convert(data, schema, options);\n    resolveFieldName(schema, header);\n    const fieldArr = createFields(formattedData, schema, header);\n\n    // This will create a new fieldStore with the fields\n    const nameSpace = fieldStore.createNamespace(fieldArr, options.name);\n    relation._partialFieldspace = nameSpace;\n\n    // If data is provided create the default colIdentifier and rowDiffset\n    relation._rowDiffset = formattedData.length && formattedData[0].length ? `0-${formattedData[0].length - 1}` : '';\n\n    // This stores the value objects which is passed to the filter method when selection operation is done.\n    const valueObjects = [];\n    const { fields } = nameSpace;\n    const rawFieldsData = fields.map(field => field.data());\n    const formattedFieldsData = fields.map(field => field.formattedData());\n    rowDiffsetIterator(relation._rowDiffset, (i) => {\n        valueObjects[i] = prepareSelectionData(fields, formattedFieldsData, rawFieldsData, i);\n    });\n    nameSpace._cachedValueObjects = valueObjects;\n\n    relation._colIdentifier = (schema.map(_ => _.name)).join();\n    relation._dataFormat = options.dataFormat === DataFormat.AUTO ? detectDataFormat(data) : options.dataFormat;\n    return relation;\n};\n\nexport const fieldInSchema = (schema, field) => {\n    let i = 0;\n\n    for (; i < schema.length; ++i) {\n        if (field === schema[i].name) {\n            return {\n                name: field,\n                type: schema[i].subtype || schema[i].type,\n                index: i,\n            };\n        }\n    }\n    return null;\n};\n\nexport const getDerivationArguments = (derivation) => {\n    let params = [];\n    let operation;\n    operation = derivation.op;\n    switch (operation) {\n    case DM_DERIVATIVES.SELECT:\n        params = [derivation.criteria];\n        break;\n    case DM_DERIVATIVES.PROJECT:\n        params = [derivation.meta.actualProjField];\n        break;\n    case DM_DERIVATIVES.SORT:\n        params = [derivation.criteria];\n        break;\n    case DM_DERIVATIVES.GROUPBY:\n        operation = 'groupBy';\n        params = [derivation.meta.groupByString.split(','), derivation.criteria];\n        break;\n    default:\n        operation = null;\n    }\n\n    return {\n        operation,\n        params\n    };\n};\n\nconst applyExistingOperationOnModel = (propModel, dataModel) => {\n    const derivations = dataModel.getDerivations();\n    let selectionModel = propModel;\n\n    derivations.forEach((derivation) => {\n        if (!derivation) {\n            return;\n        }\n\n        const { operation, params } = getDerivationArguments(derivation);\n        if (operation) {\n            selectionModel = selectionModel[operation](...params, {\n                saveChild: false\n            });\n        }\n    });\n\n    return selectionModel;\n};\n\nconst getFilteredModel = (propModel, path) => {\n    for (let i = 0, len = path.length; i < len; i++) {\n        const model = path[i];\n        propModel = applyExistingOperationOnModel(propModel, model);\n    }\n    return propModel;\n};\n\nconst propagateIdentifiers = (dataModel, propModel, config = {}, propModelInf = {}) => {\n    const nonTraversingModel = propModelInf.nonTraversingModel;\n    const excludeModels = propModelInf.excludeModels || [];\n\n    if (dataModel === nonTraversingModel) {\n        return;\n    }\n\n    const propagate = excludeModels.length ? excludeModels.indexOf(dataModel) === -1 : true;\n\n    propagate && dataModel.handlePropagation(propModel, config);\n\n    const children = dataModel._children;\n    children.forEach((child) => {\n        const selectionModel = applyExistingOperationOnModel(propModel, child);\n        propagateIdentifiers(child, selectionModel, config, propModelInf);\n    });\n};\n\nexport const getRootGroupByModel = (model) => {\n    while (model._parent && model._derivation.find(d => d.op !== DM_DERIVATIVES.GROUPBY)) {\n        model = model._parent;\n    }\n    return model;\n};\n\nexport const getRootDataModel = (model) => {\n    while (model._parent) {\n        model = model._parent;\n    }\n    return model;\n};\n\nexport const getPathToRootModel = (model, path = []) => {\n    while (model._parent) {\n        path.push(model);\n        model = model._parent;\n    }\n    return path;\n};\n\nexport const propagateToAllDataModels = (identifiers, rootModels, propagationInf, config) => {\n    let criteria;\n    let propModel;\n    const { propagationNameSpace, propagateToSource } = propagationInf;\n    const propagationSourceId = propagationInf.sourceId;\n    const propagateInterpolatedValues = config.propagateInterpolatedValues;\n    const filterFn = (entry) => {\n        const filter = config.filterFn || (() => true);\n        return filter(entry, config);\n    };\n\n    let criterias = [];\n\n    if (identifiers === null) {\n        criterias = [{\n            criteria: []\n        }];\n        criteria = [];\n    } else {\n        let actionCriterias = Object.values(propagationNameSpace.mutableActions);\n        if (propagateToSource !== false) {\n            actionCriterias = actionCriterias.filter(d => d.config.sourceId !== propagationSourceId);\n        }\n\n        const filteredCriteria = actionCriterias.filter(filterFn).map(action => action.config.criteria);\n\n        const excludeModels = [];\n\n        if (propagateToSource !== false) {\n            const sourceActionCriterias = Object.values(propagationNameSpace.mutableActions);\n\n            sourceActionCriterias.forEach((actionInf) => {\n                const actionConf = actionInf.config;\n                if (actionConf.applyOnSource === false && actionConf.action === config.action &&\n                        actionConf.sourceId !== propagationSourceId) {\n                    excludeModels.push(actionInf.model);\n                    criteria = sourceActionCriterias.filter(d => d !== actionInf).map(d => d.config.criteria);\n                    criteria.length && criterias.push({\n                        criteria,\n                        models: actionInf.model,\n                        path: getPathToRootModel(actionInf.model)\n                    });\n                }\n            });\n        }\n\n\n        criteria = [].concat(...[...filteredCriteria, identifiers]).filter(d => d !== null);\n        criterias.push({\n            criteria,\n            excludeModels: [...excludeModels, ...config.excludeModels || []]\n        });\n    }\n\n    const rootModel = rootModels.model;\n\n    const propConfig = Object.assign({\n        sourceIdentifiers: identifiers,\n        propagationSourceId\n    }, config);\n\n    const rootGroupByModel = rootModels.groupByModel;\n\n    if (propagateInterpolatedValues && rootGroupByModel) {\n        propModel = filterPropagationModel(rootGroupByModel, criteria, {\n            filterByMeasure: true\n        });\n        propagateIdentifiers(rootGroupByModel, propModel, propConfig);\n    }\n\n    criterias.forEach((inf) => {\n        const propagationModel = filterPropagationModel(rootModel, inf.criteria);\n        const path = inf.path;\n\n        if (path) {\n            const filteredModel = getFilteredModel(propagationModel, path.reverse());\n            inf.models.handlePropagation(filteredModel, propConfig);\n        } else {\n            propagateIdentifiers(rootModel, propagationModel, propConfig, {\n                excludeModels: inf.excludeModels,\n                nonTraversingModel: propagateInterpolatedValues && rootGroupByModel\n            });\n        }\n    });\n};\n\nexport const propagateImmutableActions = (propagationNameSpace, rootModel, propagationInf) => {\n    const immutableActions = propagationNameSpace.immutableActions;\n\n    for (const action in immutableActions) {\n        const actionInf = immutableActions[action];\n        const actionConf = actionInf.config;\n        const propagationSourceId = propagationInf.config.sourceId;\n        const filterImmutableAction = propagationInf.propConfig.filterImmutableAction ?\n            propagationInf.propConfig.filterImmutableAction(actionConf, propagationInf.config) : true;\n        if (actionConf.sourceId !== propagationSourceId && filterImmutableAction) {\n            const criteriaModel = actionConf.criteria;\n            propagateToAllDataModels(criteriaModel, {\n                model: rootModel,\n                groupByModel: getRootGroupByModel(actionInf.model)\n            }, {\n                propagationNameSpace,\n                propagateToSource: false,\n                sourceId: propagationSourceId\n            }, actionConf);\n        }\n    }\n};\n\nexport const addToPropNamespace = (propagationNameSpace, config = {}, model) => {\n    let sourceNamespace;\n    const isMutableAction = config.isMutableAction;\n    const criteria = config.criteria;\n    const key = `${config.action}-${config.sourceId}`;\n\n    if (isMutableAction) {\n        sourceNamespace = propagationNameSpace.mutableActions;\n    } else {\n        sourceNamespace = propagationNameSpace.immutableActions;\n    }\n\n    if (criteria === null) {\n        delete sourceNamespace[key];\n    } else {\n        sourceNamespace[key] = {\n            model,\n            config\n        };\n    }\n\n    return this;\n};\n\n\nexport const getNormalizedProFields = (projField, allFields, fieldConfig) => {\n    const normalizedProjField = projField.reduce((acc, field) => {\n        if (field.constructor.name === 'RegExp') {\n            acc.push(...allFields.filter(fieldName => fieldName.search(field) !== -1));\n        } else if (field in fieldConfig) {\n            acc.push(field);\n        }\n        return acc;\n    }, []);\n    return Array.from(new Set(normalizedProjField)).map(field => field.trim());\n};\n\n/**\n * Get the numberFormatted value if numberFormat present,\n * else returns the supplied value.\n * @param {Object} field Field Instance\n * @param {Number|String} value\n * @return {Number|String}\n */\nexport const getNumberFormattedVal = (field, value) => {\n    if (field.numberFormat) {\n        return field.numberFormat()(value);\n    }\n    return value;\n};\n","const DataModel = require('./export');\n\nmodule.exports = DataModel.default ? DataModel.default : DataModel;\n","/**\n * A parser to parser null, undefined, invalid and NIL values.\n *\n * @public\n * @class\n */\nclass InvalidAwareTypes {\n    /**\n     * Static method which gets/sets the invalid value registry.\n     *\n     * @public\n     * @param {Object} config - The custom configuration supplied by user.\n     * @return {Object} Returns the invalid values registry.\n     */\n    static invalidAwareVals (config) {\n        if (!config) {\n            return InvalidAwareTypes._invalidAwareValsMap;\n        }\n        return Object.assign(InvalidAwareTypes._invalidAwareValsMap, config);\n    }\n\n    /**\n     * Initialize a new instance.\n     *\n     * @public\n     * @param {string} value - The value of the invalid data type.\n     */\n    constructor (value) {\n        this._value = value;\n    }\n\n    /**\n     * Returns the current value of the instance.\n     *\n     * @public\n     * @return {string} Returns the value of the invalid data type.\n     */\n    value () {\n        return this._value;\n    }\n\n    /**\n     * Returns the current value of the instance in string format.\n     *\n     * @public\n     * @return {string} Returns the value of the invalid data type.\n     */\n    toString () {\n        return String(this._value);\n    }\n\n    static isInvalid(val) {\n        return (val instanceof InvalidAwareTypes) || !!InvalidAwareTypes.invalidAwareVals()[val];\n    }\n\n    static getInvalidType(val) {\n        return val instanceof InvalidAwareTypes ? val : InvalidAwareTypes.invalidAwareVals()[val];\n    }\n}\n\n/**\n * Enums for Invalid types.\n */\nInvalidAwareTypes.NULL = new InvalidAwareTypes('null');\nInvalidAwareTypes.NA = new InvalidAwareTypes('na');\nInvalidAwareTypes.NIL = new InvalidAwareTypes('nil');\n\n/**\n * Default Registry for mapping the invalid values.\n *\n * @private\n */\nInvalidAwareTypes._invalidAwareValsMap = {\n    invalid: InvalidAwareTypes.NA,\n    nil: InvalidAwareTypes.NIL,\n    null: InvalidAwareTypes.NULL,\n    undefined: InvalidAwareTypes.NA\n};\n\nexport default InvalidAwareTypes;\n","import { rowDiffsetIterator } from './row-diffset-iterator';\nimport InvalidAwareTypes from '../invalid-aware-types';\n\nconst generateBuckets = (binSize, start, end) => {\n    const buckets = [];\n    let next = start;\n\n    while (next < end) {\n        buckets.push(next);\n        next += binSize;\n    }\n    buckets.push(next);\n\n    return buckets;\n};\n\nconst findBucketRange = (bucketRanges, value) => {\n    let leftIdx = 0;\n    let rightIdx = bucketRanges.length - 1;\n    let midIdx;\n    let range;\n\n    // Here use binary search as the bucketRanges is a sorted array\n    while (leftIdx <= rightIdx) {\n        midIdx = leftIdx + Math.floor((rightIdx - leftIdx) / 2);\n        range = bucketRanges[midIdx];\n\n        if (value >= range.start && value < range.end) {\n            return range;\n        } else if (value >= range.end) {\n            leftIdx = midIdx + 1;\n        } else if (value < range.start) {\n            rightIdx = midIdx - 1;\n        }\n    }\n\n    return null;\n};\n\n /**\n  * Creates the bin data from input measure field and supplied configs.\n  *\n  * @param {Measure} measureField - The Measure field instance.\n  * @param {string} rowDiffset - The datamodel rowDiffset values.\n  * @param {Object} config - The config object.\n  * @return {Object} Returns the binned data and the corresponding bins.\n  */\nexport function createBinnedFieldData (measureField, rowDiffset, config) {\n    let { buckets, binsCount, binSize, start, end } = config;\n    const [dMin, dMax] = measureField.domain();\n\n    if (!buckets) {\n        start = (start !== 0 && (!start || start > dMin)) ? dMin : start;\n        end = (end !== 0 && (!end || end < dMax)) ? (dMax + 1) : end;\n\n        if (binsCount) {\n            binSize = Math.ceil(Math.abs(end - start) / binsCount);\n        }\n\n        buckets = generateBuckets(binSize, start, end);\n    }\n\n    if (buckets[0] > dMin) {\n        buckets.unshift(dMin);\n    }\n    if (buckets[buckets.length - 1] <= dMax) {\n        buckets.push(dMax + 1);\n    }\n\n    const bucketRanges = [];\n    for (let i = 0; i < buckets.length - 1; i++) {\n        bucketRanges.push({\n            start: buckets[i],\n            end: buckets[i + 1]\n        });\n    }\n\n    const binnedData = [];\n    rowDiffsetIterator(rowDiffset, (i) => {\n        const datum = measureField.partialField.data[i];\n        if (datum instanceof InvalidAwareTypes) {\n            binnedData.push(datum);\n            return;\n        }\n\n        const range = findBucketRange(bucketRanges, datum);\n        binnedData.push(`${range.start}-${range.end}`);\n    });\n\n    return { binnedData, bins: buckets };\n}\n","import { persistDerivations } from '../helper';\nimport { DM_DERIVATIVES } from '../constants';\n\n/**\n * DataModel's opearators are exposed as composable functional operators as well as chainable operators. Chainable\n * operators are called on the instances of {@link Datamodel} and {@link Relation} class.\n *\n * Those same operators can be used as composable operators from `DataModel.Operators` namespace.\n *\n * All these operators have similar behaviour. All these operators when called with the argument returns a function\n * which expects a DataModel instance.\n *\n * @public\n * @module Operators\n * @namespace DataModel\n */\n\n/**\n * This is functional version of selection operator. {@link link_to_selection | Selection} is a row filtering operation.\n * It takes {@link SelectionPredicate | predicate} for filtering criteria and returns a function.\n * The returned function is called with the DataModel instance on which the action needs to be performed.\n *\n * {@link SelectionPredicate} is a function which returns a boolean value. For selection opearation the selection\n * function is called for each row of DataModel instance with the current row passed as argument.\n *\n * After executing {@link SelectionPredicate} the rows are labeled as either an entry of selection set or an entry\n * of rejection set.\n *\n * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n * resulatant datamodel.\n *\n * @warning\n * [Warn] Selection and rejection set is only a logical idea for concept explanation purpose.\n *\n * @error\n * [Error] `FilteringMode.ALL` is not a valid working mode for functional version of `select`. Its only avialable on the\n * chained version.\n *\n * @example\n * const select = DataModel.Operators.select;\n * usaCarsFn = select(fields => fields.Origin.value === 'USA');\n * usaCarsDm = usaCarsFn(dm);\n * console.log(usaCarsDm);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {SelectionPredicate} selectFn - Predicate funciton which is called for each row with the current row\n *      ```\n *          function (row, i)  { ... }\n *      ```\n * @param {Object} [config] - The configuration object to control the inclusion exclusion of a row in resultant\n *      DataModel instance\n * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - The mode of the selection\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nexport const select = (...args) => dm => dm.select(...args);\n\n/**\n * This is functional version of projection operator. {@link link_to_projection | Projection} is a column filtering\n * operation.It expects list of fields name and either include those or exclude those based on {@link FilteringMode} on\n * the  resultant variable.It returns a function which is called with the DataModel instance on which the action needs\n * to be performed.\n *\n * Projection expects array of fields name based on which it creates the selection and rejection set. All the field\n * whose name is present in array goes in selection set and rest of the fields goes in rejection set.\n *\n * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n * resulatant datamodel.\n *\n * @warning\n * Selection and rejection set is only a logical idea for concept explanation purpose.\n *\n * @error\n * `FilteringMode.ALL` is not a valid working mode for functional version of `select`. Its only avialable on the\n * chained version.\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {Array.<string | Regexp>} projField - An array of column names in string or regular expression.\n * @param {Object} [config] - An optional config to control the creation of new DataModel\n * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - Mode of the projection\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nexport const project = (...args) => dm => dm.project(...args);\n\n/**\n * This is functional version of binnig operator. Binning happens on a measure field based on a binning configuration.\n * Binning in DataModel does not aggregate the number of rows present in DataModel instance after binning, it just adds\n * a new field with the binned value. Refer binning {@link example_of_binning | example} to have a intuition of what\n * binning is and the use case.\n *\n * Binning can be configured by\n * - providing custom bin configuration with non uniform buckets\n * - providing bin count\n * - providing each bin size\n *\n * When custom buckets are provided as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const buckets = {\n *      start: 30\n *      stops: [80, 100, 110]\n *  };\n *  const config = { buckets, name: 'binnedHP' }\n *  const binFn = bin('horsepower', config);\n *  const binnedDm = binFn(dm);\n *\n * @text\n * When `binCount` is defined as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const config = { binCount: 5, name: 'binnedHP' }\n *  const binFn = bin('horsepower', config);\n *  const binnedDm = binFn(Dm);\n *\n * @text\n * When `binSize` is defined as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const config = { binSize: 200, name: 'binnedHorsepower' }\n *  const binnedDm = dataModel.bin('horsepower', config);\n *  const binnedDm = binFn(Dm);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {String} name Name of measure which will be used to create bin\n * @param {Object} config Config required for bin creation\n * @param {Array.<Number>} config.bucketObj.stops Defination of bucket ranges. Two subsequent number from arrays\n *      are picked and a range is created. The first number from range is inclusive and the second number from range\n *      is exclusive.\n * @param {Number} [config.bucketObj.startAt] Force the start of the bin from a particular number.\n *      If not mentioned, the start of the bin or the lower domain of the data if stops is not mentioned, else its\n *      the first value of the stop.\n * @param {Number} config.binSize Bucket size for each bin\n * @param {Number} config.binCount Number of bins which will be created\n * @param {String} config.name Name of the new binned field to be created\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nexport const bin = (...args) => dm => dm.bin(...args);\n\n/**\n * This is functional version of `groupBy` operator.Groups the data using particular dimensions and by reducing\n * measures. It expects a list of dimensions using which it projects the datamodel and perform aggregations to reduce\n * the duplicate tuples. Refer this {@link link_to_one_example_with_group_by | document} to know the intuition behind\n * groupBy.\n *\n * DataModel by default provides definition of few {@link reducer | Reducers}.\n * {@link ReducerStore | User defined reducers} can also be registered.\n *\n * This is the chained implementation of `groupBy`.\n * `groupBy` also supports {@link link_to_compose_groupBy | composability}\n *\n * @example\n * const groupBy = DataModel.Operators.groupBy;\n * const groupedFn = groupBy(['Year'], { horsepower: 'max' } );\n * groupedDM = groupByFn(dm);\n *\n * @public\n *\n * @param {Array.<string>} fieldsArr - Array containing the name of dimensions\n * @param {Object} [reducers={}] - A map whose key is the variable name and value is the name of the reducer. If its\n *      not passed, or any variable is ommitted from the object, default aggregation function is used from the\n *      schema of the variable.\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nexport const groupBy = (...args) => dm => dm.groupBy(...args);\n\n/**\n * Enables composing operators to run multiple operations and save group of operataion as named opration on a DataModel.\n * The resulting DataModel will be the result of all the operation provided. The operations provided will be executed in\n * a serial manner ie. result of one operation will be the input for the next operations (like pipe operator in unix).\n *\n * Suported operations in compose are\n * - `select`\n * - `project`\n * - `groupBy`\n * - `bin`\n * - `compose`\n *\n * @example\n * const compose = DataModel.Operators.compose;\n * const select = DataModel.Operators.select;\n * const project = DataModel.Operators.project;\n *\n * let composedFn = compose(\n *    select(fields => fields.netprofit.value <= 15),\n *    project(['netprofit', 'netsales']));\n *\n * const dataModel = new DataModel(data1, schema1);\n *\n * let composedDm = composedFn(dataModel);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {Array.<Operators>} operators: An array of operation that will be applied on the\n * datatable.\n *\n * @returns {DataModel} Instance of resultant DataModel\n */\nexport const compose = (...operations) =>\n    (dm, config = { saveChild: true }) => {\n        let currentDM = dm;\n        let firstChild;\n        const derivations = [];\n\n        operations.forEach((operation) => {\n            currentDM = operation(currentDM);\n            derivations.push(...currentDM._derivation);\n            if (!firstChild) {\n                firstChild = currentDM;\n            }\n        });\n\n        if (firstChild && firstChild !== currentDM) {\n            firstChild.dispose();\n        }\n\n        // reset all ancestorDerivation saved in-between compose\n        currentDM._ancestorDerivation = [];\n        persistDerivations(\n            dm,\n            currentDM,\n            DM_DERIVATIVES.COMPOSE,\n            null,\n            derivations\n        );\n\n        if (config.saveChild) {\n            currentDM.setParent(dm);\n        } else {\n            currentDM.setParent(null);\n        }\n\n        return currentDM;\n    };\n","import DataModel from '../datamodel';\nimport { extend2 } from '../utils';\nimport { getCommonSchema } from './get-common-schema';\nimport { rowDiffsetIterator } from './row-diffset-iterator';\nimport { JOINS } from '../constants';\nimport { prepareJoinData } from '../helper';\n/**\n * Default filter function for crossProduct.\n *\n * @return {boolean} Always returns true.\n */\nfunction defaultFilterFn() { return true; }\n\n/**\n * Implementation of cross product operation between two DataModel instances.\n * It internally creates the data and schema for the new DataModel.\n *\n * @param {DataModel} dataModel1 - The left DataModel instance.\n * @param {DataModel} dataModel2 - The right DataModel instance.\n * @param {Function} filterFn - The filter function which is used to filter the tuples.\n * @param {boolean} [replaceCommonSchema=false] - The flag if the common name schema should be there.\n * @return {DataModel} Returns The newly created DataModel instance from the crossProduct operation.\n */\nexport function crossProduct (dm1, dm2, filterFn, replaceCommonSchema = false, jointype = JOINS.CROSS) {\n    const schema = [];\n    const data = [];\n    const applicableFilterFn = filterFn || defaultFilterFn;\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    const dm1FieldStoreName = dm1FieldStore.name;\n    const dm2FieldStoreName = dm2FieldStore.name;\n    const name = `${dm1FieldStore.name}.${dm2FieldStore.name}`;\n    const commonSchemaList = getCommonSchema(dm1FieldStore, dm2FieldStore);\n\n    if (dm1FieldStoreName === dm2FieldStoreName) {\n        throw new Error('DataModels must have different alias names');\n    }\n    // Here prepare the schema\n    dm1FieldStore.fields.forEach((field) => {\n        const tmpSchema = extend2({}, field.schema());\n        if (commonSchemaList.indexOf(tmpSchema.name) !== -1 && !replaceCommonSchema) {\n            tmpSchema.name = `${dm1FieldStore.name}.${tmpSchema.name}`;\n        }\n        schema.push(tmpSchema);\n    });\n    dm2FieldStore.fields.forEach((field) => {\n        const tmpSchema = extend2({}, field.schema());\n        if (commonSchemaList.indexOf(tmpSchema.name) !== -1) {\n            if (!replaceCommonSchema) {\n                tmpSchema.name = `${dm2FieldStore.name}.${tmpSchema.name}`;\n                schema.push(tmpSchema);\n            }\n        } else {\n            schema.push(tmpSchema);\n        }\n    });\n\n    // Here prepare Data\n    rowDiffsetIterator(dm1._rowDiffset, (i) => {\n        let rowAdded = false;\n        let rowPosition;\n        rowDiffsetIterator(dm2._rowDiffset, (ii) => {\n            const tuple = [];\n            const userArg = {};\n            userArg[dm1FieldStoreName] = {};\n            userArg[dm2FieldStoreName] = {};\n            dm1FieldStore.fields.forEach((field) => {\n                tuple.push(field.partialField.data[i]);\n                userArg[dm1FieldStoreName][field.name()] = {\n                    rawValue: field.partialField.data[i],\n                    formattedValue: field.formattedData()[i],\n                };\n            });\n            dm2FieldStore.fields.forEach((field) => {\n                if (!(commonSchemaList.indexOf(field.schema().name) !== -1 && replaceCommonSchema)) {\n                    tuple.push(field.partialField.data[ii]);\n                }\n                userArg[dm2FieldStoreName][field.name()] = {\n                    rawValue: field.partialField.data[ii],\n                    formattedValue: field.formattedData()[ii],\n                };\n            });\n\n            let cachedStore = {};\n            let cloneProvider1 = () => dm1.detachedRoot();\n            let cloneProvider2 = () => dm2.detachedRoot();\n\n            const dm1Fields = prepareJoinData(userArg[dm1FieldStoreName]);\n            const dm2Fields = prepareJoinData(userArg[dm2FieldStoreName]);\n            if (applicableFilterFn(dm1Fields, dm2Fields, cloneProvider1, cloneProvider2, cachedStore)) {\n                const tupleObj = {};\n                tuple.forEach((cellVal, iii) => {\n                    tupleObj[schema[iii].name] = cellVal;\n                });\n                if (rowAdded && JOINS.CROSS !== jointype) {\n                    data[rowPosition] = tupleObj;\n                }\n                else {\n                    data.push(tupleObj);\n                    rowAdded = true;\n                    rowPosition = i;\n                }\n            } else if ((jointype === JOINS.LEFTOUTER || jointype === JOINS.RIGHTOUTER) && !rowAdded) {\n                const tupleObj = {};\n                let len = dm1FieldStore.fields.length - 1;\n                tuple.forEach((cellVal, iii) => {\n                    if (iii <= len) {\n                        tupleObj[schema[iii].name] = cellVal;\n                    }\n                    else {\n                        tupleObj[schema[iii].name] = null;\n                    }\n                });\n                rowAdded = true;\n                rowPosition = i;\n                data.push(tupleObj);\n            }\n        });\n    });\n\n    return new DataModel(data, schema, { name });\n}\n","import { rowDiffsetIterator } from './row-diffset-iterator';\nimport { sortData } from './sort';\n\n/**\n * Builds the actual data array.\n *\n * @param {Array} fieldStore - An array of field.\n * @param {string} rowDiffset - A string consisting of which rows to be included eg. '0-2,4,6';\n * @param {string} colIdentifier - A string consisting of the details of which column\n * to be included eg 'date,sales,profit';\n * @param {Object} sortingDetails - An object containing the sorting details of the DataModel instance.\n * @param {Object} options - The options required to create the type of the data.\n * @return {Object} Returns an object containing the multidimensional array and the relative schema.\n */\nexport function dataBuilder (fieldStore, rowDiffset, colIdentifier, sortingDetails, options) {\n    const defOptions = {\n        addUid: false,\n        columnWise: false\n    };\n    options = Object.assign({}, defOptions, options);\n\n    const retObj = {\n        schema: [],\n        data: [],\n        uids: []\n    };\n    const addUid = options.addUid;\n    const reqSorting = sortingDetails && sortingDetails.length > 0;\n    // It stores the fields according to the colIdentifier argument\n    const tmpDataArr = [];\n    // Stores the fields according to the colIdentifier argument\n    const colIArr = colIdentifier.split(',');\n\n    colIArr.forEach((colName) => {\n        for (let i = 0; i < fieldStore.length; i += 1) {\n            if (fieldStore[i].name() === colName) {\n                tmpDataArr.push(fieldStore[i]);\n                break;\n            }\n        }\n    });\n\n    // Inserts the schema to the schema object\n    tmpDataArr.forEach((field) => {\n        /** @todo Need to use extend2 here otherwise user can overwrite the schema. */\n        retObj.schema.push(field.schema());\n    });\n\n    if (addUid) {\n        retObj.schema.push({\n            name: 'uid',\n            type: 'identifier'\n        });\n    }\n\n    rowDiffsetIterator(rowDiffset, (i) => {\n        retObj.data.push([]);\n        const insertInd = retObj.data.length - 1;\n        let start = 0;\n        tmpDataArr.forEach((field, ii) => {\n            retObj.data[insertInd][ii + start] = field.partialField.data[i];\n        });\n        if (addUid) {\n            retObj.data[insertInd][tmpDataArr.length] = i;\n        }\n        // Creates an array of unique identifiers for each row\n        retObj.uids.push(i);\n\n        // If sorting needed then there is the need to expose the index\n        // mapping from the old index to its new index\n        if (reqSorting) { retObj.data[insertInd].push(i); }\n    });\n\n    // Handles the sort functionality\n    if (reqSorting) {\n        sortData(retObj, sortingDetails);\n    }\n\n    if (options.columnWise) {\n        const tmpData = Array(...Array(retObj.schema.length)).map(() => []);\n        retObj.data.forEach((tuple) => {\n            tuple.forEach((data, i) => {\n                tmpData[i].push(data);\n            });\n        });\n        retObj.data = tmpData;\n    }\n\n    return retObj;\n}\n","import DataModel from '../datamodel';\nimport { extend2 } from '../utils';\nimport { rowDiffsetIterator } from './row-diffset-iterator';\nimport { isArrEqual } from '../utils/helper';\n\n/**\n * Performs the union operation between two dm instances.\n *\n * @todo Fix the conflicts between union and difference terminology here.\n *\n * @param {dm} dm1 - The first dm instance.\n * @param {dm} dm2 - The second dm instance.\n * @return {dm} Returns the newly created dm after union operation.\n */\nexport function difference (dm1, dm2) {\n    const hashTable = {};\n    const schema = [];\n    const schemaNameArr = [];\n    const data = [];\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    const dm1FieldStoreFieldObj = dm1FieldStore.fieldsObj();\n    const dm2FieldStoreFieldObj = dm2FieldStore.fieldsObj();\n    const name = `${dm1FieldStore.name} union ${dm2FieldStore.name}`;\n\n   // For union the columns should match otherwise return a clone of the dm1\n    if (!isArrEqual(dm1._colIdentifier.split(',').sort(), dm2._colIdentifier.split(',').sort())) {\n        return null;\n    }\n\n    // Prepare the schema\n    (dm1._colIdentifier.split(',')).forEach((fieldName) => {\n        const field = dm1FieldStoreFieldObj[fieldName];\n        schema.push(extend2({}, field.schema()));\n        schemaNameArr.push(field.schema().name);\n    });\n\n    /**\n     * The helper function to create the data.\n     *\n     * @param {dm} dm - The dm instance for which the data is inserted.\n     * @param {Object} fieldsObj - The fieldStore object format.\n     * @param {boolean} addData - If true only tuple will be added to the data.\n     */\n    function prepareDataHelper(dm, fieldsObj, addData) {\n        rowDiffsetIterator(dm._rowDiffset, (i) => {\n            const tuple = {};\n            let hashData = '';\n            schemaNameArr.forEach((schemaName) => {\n                const value = fieldsObj[schemaName].partialField.data[i];\n                hashData += `-${value}`;\n                tuple[schemaName] = value;\n            });\n            if (!hashTable[hashData]) {\n                if (addData) { data.push(tuple); }\n                hashTable[hashData] = true;\n            }\n        });\n    }\n\n    // Prepare the data\n    prepareDataHelper(dm2, dm2FieldStoreFieldObj, false);\n    prepareDataHelper(dm1, dm1FieldStoreFieldObj, true);\n\n    return new DataModel(data, schema, { name });\n}\n\n","/**\n * The helper function that returns an array of common schema\n * from two fieldStore instances.\n *\n * @param {FieldStore} fs1 - The first FieldStore instance.\n * @param {FieldStore} fs2 - The second FieldStore instance.\n * @return {Array} An array containing the common schema.\n */\nexport function getCommonSchema (fs1, fs2) {\n    const retArr = [];\n    const fs1Arr = [];\n    fs1.fields.forEach((field) => {\n        fs1Arr.push(field.schema().name);\n    });\n    fs2.fields.forEach((field) => {\n        if (fs1Arr.indexOf(field.schema().name) !== -1) {\n            retArr.push(field.schema().name);\n        }\n    });\n    return retArr;\n}\n","import { isArray } from '../utils';\nimport InvalidAwareTypes from '../invalid-aware-types';\nimport { GROUP_BY_FUNCTIONS } from '../enums';\n\nconst { SUM, AVG, FIRST, LAST, COUNT, STD, MIN, MAX } = GROUP_BY_FUNCTIONS;\n\nfunction getFilteredValues(arr) {\n    return arr.filter(item => !(item instanceof InvalidAwareTypes));\n}\n/**\n * Reducer function that returns the sum of all the values.\n *\n * @public\n * @param  {Array.<number>} arr - The input array.\n * @return {number} Returns the sum of the array.\n */\nfunction sum (arr) {\n    if (isArray(arr) && !(arr[0] instanceof Array)) {\n        const filteredNumber = getFilteredValues(arr);\n        const totalSum = filteredNumber.length ?\n                            filteredNumber.reduce((acc, curr) => acc + curr, 0)\n                            : InvalidAwareTypes.NULL;\n        return totalSum;\n    }\n    return InvalidAwareTypes.NULL;\n}\n\n/**\n * Reducer function that returns the average of all the values.\n *\n * @public\n * @param  {Array.<number>} arr - The input array.\n * @return {number} Returns the mean value of the array.\n */\nfunction avg (arr) {\n    if (isArray(arr) && !(arr[0] instanceof Array)) {\n        const totalSum = sum(arr);\n        const len = arr.length || 1;\n        return (Number.isNaN(totalSum) || totalSum instanceof InvalidAwareTypes) ?\n                 InvalidAwareTypes.NULL : totalSum / len;\n    }\n    return InvalidAwareTypes.NULL;\n}\n\n/**\n * Reducer function that gives the min value amongst all the values.\n *\n * @public\n * @param  {Array.<number>} arr - The input array.\n * @return {number} Returns the minimum value of the array.\n */\nfunction min (arr) {\n    if (isArray(arr) && !(arr[0] instanceof Array)) {\n        // Filter out undefined, null and NaN values\n        const filteredValues = getFilteredValues(arr);\n\n        return (filteredValues.length) ? Math.min(...filteredValues) : InvalidAwareTypes.NULL;\n    }\n    return InvalidAwareTypes.NULL;\n}\n\n/**\n * Reducer function that gives the max value amongst all the values.\n *\n * @public\n * @param  {Array.<number>} arr - The input array.\n * @return {number} Returns the maximum value of the array.\n */\nfunction max (arr) {\n    if (isArray(arr) && !(arr[0] instanceof Array)) {\n        // Filter out undefined, null and NaN values\n        const filteredValues = getFilteredValues(arr);\n\n        return (filteredValues.length) ? Math.max(...filteredValues) : InvalidAwareTypes.NULL;\n    }\n    return InvalidAwareTypes.NULL;\n}\n\n/**\n * Reducer function that gives the first value of the array.\n *\n * @public\n * @param  {Array} arr - The input array.\n * @return {number} Returns the first value of the array.\n */\nfunction first (arr) {\n    return arr[0];\n}\n\n/**\n * Reducer function that gives the last value of the array.\n *\n * @public\n * @param  {Array} arr - The input array.\n * @return {number} Returns the last value of the array.\n */\nfunction last (arr) {\n    return arr[arr.length - 1];\n}\n\n/**\n * Reducer function that gives the count value of the array.\n *\n * @public\n * @param  {Array} arr - The input array.\n * @return {number} Returns the length of the array.\n */\nfunction count (arr) {\n    if (isArray(arr)) {\n        return arr.length;\n    }\n    return InvalidAwareTypes.NULL;\n}\n\n/**\n * Calculates the variance of the input array.\n *\n * @param  {Array.<number>} arr - The input array.\n * @return {number} Returns the variance of the input array.\n */\nfunction variance (arr) {\n    let mean = avg(arr);\n    return avg(arr.map(num => (num - mean) ** 2));\n}\n\n/**\n * Calculates the square root of the variance of the input array.\n *\n * @public\n * @param  {Array.<number>} arr - The input array.\n * @return {number} Returns the square root of the variance.\n */\nfunction std (arr) {\n    return Math.sqrt(variance(arr));\n}\n\n\nconst fnList = {\n    [SUM]: sum,\n    [AVG]: avg,\n    [MIN]: min,\n    [MAX]: max,\n    [FIRST]: first,\n    [LAST]: last,\n    [COUNT]: count,\n    [STD]: std\n};\n\nconst defaultReducerName = SUM;\n\nexport {\n    defaultReducerName,\n    sum as defReducer,\n    fnList,\n};\n","import { extend2 } from '../utils';\nimport { rowDiffsetIterator } from './row-diffset-iterator';\nimport DataModel from '../export';\nimport reducerStore from '../utils/reducer-store';\nimport { defaultReducerName } from './group-by-function';\nimport { FieldType } from '../enums';\n\n/**\n * This function sanitize the user given field and return a common Array structure field\n * list\n * @param  {DataModel} dataModel the dataModel operating on\n * @param  {Array} fieldArr  user input of field Array\n * @return {Array}           arrays of field name\n */\nfunction getFieldArr (dataModel, fieldArr) {\n    const retArr = [];\n    const fieldStore = dataModel.getFieldspace();\n    const dimensions = fieldStore.getDimension();\n\n    Object.entries(dimensions).forEach(([key]) => {\n        if (fieldArr && fieldArr.length) {\n            if (fieldArr.indexOf(key) !== -1) {\n                retArr.push(key);\n            }\n        } else {\n            retArr.push(key);\n        }\n    });\n\n    return retArr;\n}\n\n/**\n * This sanitize the reducer provide by the user and create a common type of object.\n * user can give function Also\n * @param  {DataModel} dataModel     dataModel to worked on\n * @param  {Object|function} [reducers={}] reducer provided by the users\n * @return {Object}               object containing reducer function for every measure\n */\nfunction getReducerObj (dataModel, reducers = {}) {\n    const retObj = {};\n    const fieldStore = dataModel.getFieldspace();\n    const measures = fieldStore.getMeasure();\n    const defReducer = reducerStore.defaultReducer();\n\n    Object.keys(measures).forEach((measureName) => {\n        if (typeof reducers[measureName] !== 'string') {\n            reducers[measureName] = measures[measureName].defAggFn();\n        }\n        const reducerFn = reducerStore.resolve(reducers[measureName]);\n        if (reducerFn) {\n            retObj[measureName] = reducerFn;\n        } else {\n            retObj[measureName] = defReducer;\n            reducers[measureName] = defaultReducerName;\n        }\n    });\n    return retObj;\n}\n\n/**\n * main function which perform the group-by operations which reduce the measures value is the\n * fields are common according to the reducer function provided\n * @param  {DataModel} dataModel the dataModel to worked\n * @param  {Array} fieldArr  fields according to which the groupby should be worked\n * @param  {Object|Function} reducers  reducers function\n * @param {DataModel} existingDataModel Existing datamodel instance\n * @return {DataModel} new dataModel with the group by\n */\nfunction groupBy (dataModel, fieldArr, reducers, existingDataModel) {\n    const sFieldArr = getFieldArr(dataModel, fieldArr);\n    const reducerObj = getReducerObj(dataModel, reducers);\n    const fieldStore = dataModel.getFieldspace();\n    const fieldStoreObj = fieldStore.fieldsObj();\n    const dbName = fieldStore.name;\n    const dimensionArr = [];\n    const measureArr = [];\n    const schema = [];\n    const hashMap = {};\n    const data = [];\n    let newDataModel;\n\n    // Prepare the schema\n    Object.entries(fieldStoreObj).forEach(([key, value]) => {\n        if (sFieldArr.indexOf(key) !== -1 || reducerObj[key]) {\n            schema.push(extend2({}, value.schema()));\n\n            switch (value.schema().type) {\n            case FieldType.MEASURE:\n                measureArr.push(key);\n                break;\n            default:\n            case FieldType.DIMENSION:\n                dimensionArr.push(key);\n            }\n        }\n    });\n    // Prepare the data\n    let rowCount = 0;\n    rowDiffsetIterator(dataModel._rowDiffset, (i) => {\n        let hash = '';\n        dimensionArr.forEach((_) => {\n            hash = `${hash}-${fieldStoreObj[_].partialField.data[i]}`;\n        });\n        if (hashMap[hash] === undefined) {\n            hashMap[hash] = rowCount;\n            data.push({});\n            dimensionArr.forEach((_) => {\n                data[rowCount][_] = fieldStoreObj[_].partialField.data[i];\n            });\n            measureArr.forEach((_) => {\n                data[rowCount][_] = [fieldStoreObj[_].partialField.data[i]];\n            });\n            rowCount += 1;\n        } else {\n            measureArr.forEach((_) => {\n                data[hashMap[hash]][_].push(fieldStoreObj[_].partialField.data[i]);\n            });\n        }\n    });\n\n    // reduction\n    let cachedStore = {};\n    let cloneProvider = () => dataModel.detachedRoot();\n    data.forEach((row) => {\n        const tuple = row;\n        measureArr.forEach((_) => {\n            tuple[_] = reducerObj[_](row[_], cloneProvider, cachedStore);\n        });\n    });\n    if (existingDataModel) {\n        existingDataModel.__calculateFieldspace();\n        newDataModel = existingDataModel;\n    }\n    else {\n        newDataModel = new DataModel(data, schema, { name: dbName });\n    }\n    return newDataModel;\n}\n\nexport { groupBy, getFieldArr, getReducerObj };\n","export { createBinnedFieldData } from './bucket-creator';\nexport { compose, bin, select, project, groupBy as groupby } from './compose';\nexport { calculateVariable, sort } from './pure-operators';\nexport { crossProduct } from './cross-product';\nexport { dataBuilder } from './data-builder';\nexport { difference } from './difference';\nexport { getCommonSchema } from './get-common-schema';\nexport { defReducer, fnList } from './group-by-function';\nexport { groupBy, getFieldArr, getReducerObj } from './group-by';\nexport { mergeSort } from './merge-sort';\nexport { naturalJoinFilter } from './natural-join-filter-function';\nexport { naturalJoin } from './natural-join';\nexport { leftOuterJoin, rightOuterJoin, fullOuterJoin } from './outer-join';\nexport { rowDiffsetIterator } from './row-diffset-iterator';\nexport { union } from './union';\n","/**\n * The default sort function.\n *\n * @param {*} a - The first value.\n * @param {*} b - The second value.\n * @return {number} Returns the comparison result e.g. 1 or 0 or -1.\n */\nfunction defSortFn (a, b) {\n    const a1 = `${a}`;\n    const b1 = `${b}`;\n    if (a1 < b1) {\n        return -1;\n    }\n    if (a1 > b1) {\n        return 1;\n    }\n    return 0;\n}\n\n/**\n * The helper function for merge sort which creates the sorted array\n * from the two halves of the input array.\n *\n * @param {Array} arr - The target array which needs to be merged.\n * @param {number} lo - The starting index of the first array half.\n * @param {number} mid - The ending index of the first array half.\n * @param {number} hi - The ending index of the second array half.\n * @param {Function} sortFn - The sort function.\n */\nfunction merge (arr, lo, mid, hi, sortFn) {\n    const mainArr = arr;\n    const auxArr = [];\n    for (let i = lo; i <= hi; i += 1) {\n        auxArr[i] = mainArr[i];\n    }\n    let a = lo;\n    let b = mid + 1;\n\n    for (let i = lo; i <= hi; i += 1) {\n        if (a > mid) {\n            mainArr[i] = auxArr[b];\n            b += 1;\n        } else if (b > hi) {\n            mainArr[i] = auxArr[a];\n            a += 1;\n        } else if (sortFn(auxArr[a], auxArr[b]) <= 0) {\n            mainArr[i] = auxArr[a];\n            a += 1;\n        } else {\n            mainArr[i] = auxArr[b];\n            b += 1;\n        }\n    }\n}\n\n/**\n * The helper function for merge sort which would be called\n * recursively for sorting the array halves.\n *\n * @param {Array} arr - The target array which needs to be sorted.\n * @param {number} lo - The starting index of the array half.\n * @param {number} hi - The ending index of the array half.\n * @param {Function} sortFn - The sort function.\n * @return {Array} Returns the target array itself.\n */\nfunction sort (arr, lo, hi, sortFn) {\n    if (hi === lo) { return arr; }\n\n    const mid = lo + Math.floor((hi - lo) / 2);\n    sort(arr, lo, mid, sortFn);\n    sort(arr, mid + 1, hi, sortFn);\n    merge(arr, lo, mid, hi, sortFn);\n\n    return arr;\n}\n\n/**\n * The implementation of merge sort.\n * It is used in DataModel for stable sorting as it is not sure\n * what the sorting algorithm used by browsers is stable or not.\n *\n * @param {Array} arr - The target array which needs to be sorted.\n * @param {Function} [sortFn=defSortFn] - The sort function.\n * @return {Array} Returns the input array itself in sorted order.\n */\nexport function mergeSort (arr, sortFn = defSortFn) {\n    if (arr.length > 1) {\n        sort(arr, 0, arr.length - 1, sortFn);\n    }\n    return arr;\n}\n","import { getCommonSchema } from './get-common-schema';\n\n/**\n * The filter function used in natural join.\n * It generates a function that will have the logic to join two\n * DataModel instances by the process of natural join.\n *\n * @param {DataModel} dm1 - The left DataModel instance.\n * @param {DataModel} dm2 - The right DataModel instance.\n * @return {Function} Returns a function that is used in cross-product operation.\n */\nexport function naturalJoinFilter (dm1, dm2) {\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    // const dm1FieldStoreName = dm1FieldStore.name;\n    // const dm2FieldStoreName = dm2FieldStore.name;\n    const commonSchemaArr = getCommonSchema(dm1FieldStore, dm2FieldStore);\n\n    return (dm1Fields, dm2Fields) => {\n        let retainTuple = true;\n        commonSchemaArr.forEach((fieldName) => {\n            if (dm1Fields[fieldName].internalValue ===\n                dm2Fields[fieldName].internalValue && retainTuple) {\n                retainTuple = true;\n            } else {\n                retainTuple = false;\n            }\n        });\n        return retainTuple;\n    };\n}\n","import { crossProduct } from './cross-product';\nimport { naturalJoinFilter } from './natural-join-filter-function';\n\nexport function naturalJoin (dataModel1, dataModel2) {\n    return crossProduct(dataModel1, dataModel2, naturalJoinFilter(dataModel1, dataModel2), true);\n}\n","import { crossProduct } from './cross-product';\nimport { JOINS } from '../constants';\nimport { union } from './union';\n\n\nexport function leftOuterJoin (dataModel1, dataModel2, filterFn) {\n    return crossProduct(dataModel1, dataModel2, filterFn, false, JOINS.LEFTOUTER);\n}\n\nexport function rightOuterJoin (dataModel1, dataModel2, filterFn) {\n    return crossProduct(dataModel2, dataModel1, filterFn, false, JOINS.RIGHTOUTER);\n}\n\nexport function fullOuterJoin (dataModel1, dataModel2, filterFn) {\n    return union(leftOuterJoin(dataModel1, dataModel2, filterFn), rightOuterJoin(dataModel1, dataModel2, filterFn));\n}\n","/**\n * Wrapper on calculateVariable() method of DataModel to behave\n * the pure-function functionality.\n *\n * @param {Array} args - The argument list.\n * @return {any} Returns the returned value of calling function.\n */\nexport const calculateVariable = (...args) => dm => dm.calculateVariable(...args);\n\n/**\n * Wrapper on sort() method of DataModel to behave\n * the pure-function functionality.\n *\n * @param {Array} args - The argument list.\n * @return {any} Returns the returned value of calling function.\n */\nexport const sort = (...args) => dm => dm.sort(...args);\n","/**\n * Iterates through the diffSet array and call the callback with the current\n * index.\n *\n * @param {string} rowDiffset - The row diffset string e.g. '0-4,6,10-13'.\n * @param {Function} callback - The callback function to be called with every index.\n */\nexport function rowDiffsetIterator (rowDiffset, callback) {\n    if (rowDiffset.length > 0) {\n        const rowDiffArr = rowDiffset.split(',');\n        rowDiffArr.forEach((diffStr) => {\n            const diffStsArr = diffStr.split('-');\n            const start = +(diffStsArr[0]);\n            const end = +(diffStsArr[1] || diffStsArr[0]);\n            if (end >= start) {\n                for (let i = start; i <= end; i += 1) {\n                    callback(i);\n                }\n            }\n        });\n    }\n}\n","import { DimensionSubtype, MeasureSubtype } from '../enums';\nimport { mergeSort } from './merge-sort';\nimport { fieldInSchema } from '../helper';\nimport { isCallable, isArray } from '../utils';\n\n/**\n * Generates the sorting functions to sort the data of a DataModel instance\n * according to the input data type.\n *\n * @param {string} dataType - The data type e.g. 'measure', 'datetime' etc.\n * @param {string} sortType - The sorting order i.e. 'asc' or 'desc'.\n * @return {Function} Returns the the sorting function.\n */\nfunction getSortFn (dataType, sortType) {\n    let retFunc;\n\n    switch (dataType) {\n    case MeasureSubtype.CONTINUOUS:\n    case DimensionSubtype.TEMPORAL:\n        if (sortType === 'asc') {\n            retFunc = (a, b) => a - b;\n        } else {\n            retFunc = (a, b) => b - a;\n        }\n        break;\n    default:\n        if (sortType === 'asc') {\n            retFunc = (a, b) => {\n                a = `${a}`;\n                b = `${b}`;\n                if (a === b) {\n                    return 0;\n                }\n                return a > b ? 1 : -1;\n            };\n        } else {\n            retFunc = (a, b) => {\n                a = `${a}`;\n                b = `${b}`;\n                if (a === b) {\n                    return 0;\n                }\n                return a > b ? -1 : 1;\n            };\n        }\n    }\n\n    return retFunc;\n}\n\n/**\n * Resolves the actual sorting function based on sorting string value.\n *\n * @param {Object} fDetails - The target field info.\n * @param {string} strSortOrder - The sort order value.\n * @return {Function} Returns the sorting function.\n */\nfunction resolveStrSortOrder (fDetails, strSortOrder) {\n    const sortOrder = String(strSortOrder).toLowerCase() === 'desc' ? 'desc' : 'asc';\n    return getSortFn(fDetails.type, sortOrder);\n}\n\n/**\n * Groups the data according to the specified target field.\n *\n * @param {Array} data - The input data array.\n * @param {number} fieldIndex - The target field index within schema array.\n * @return {Array} Returns an array containing the grouped data.\n */\nfunction groupData (data, fieldIndex) {\n    const hashMap = new Map();\n    const groupedData = [];\n\n    data.forEach((datum) => {\n        const fieldVal = datum[fieldIndex];\n        if (hashMap.has(fieldVal)) {\n            groupedData[hashMap.get(fieldVal)][1].push(datum);\n        } else {\n            groupedData.push([fieldVal, [datum]]);\n            hashMap.set(fieldVal, groupedData.length - 1);\n        }\n    });\n\n    return groupedData;\n}\n\n/**\n * Creates the argument value used for sorting function when sort is done\n * with another fields.\n *\n * @param {Array} groupedDatum - The grouped datum for a single dimension field value.\n * @param {Array} targetFields - An array of the sorting fields.\n * @param {Array} targetFieldDetails - An array of the sorting field details in schema.\n * @return {Object} Returns an object containing the value of sorting fields and the target field name.\n */\nfunction createSortingFnArg (groupedDatum, targetFields, targetFieldDetails) {\n    const arg = {\n        label: groupedDatum[0]\n    };\n\n    targetFields.reduce((acc, next, idx) => {\n        acc[next] = groupedDatum[1].map(datum => datum[targetFieldDetails[idx].index]);\n        return acc;\n    }, arg);\n\n    return arg;\n}\n\n/**\n * Sorts the data by applying the standard sorting mechanism.\n *\n * @param {Array} data - The input data array.\n * @param {Array} schema - The data schema.\n * @param {Array} sortingDetails - An array containing the sorting configs.\n */\nfunction applyStandardSort (data, schema, sortingDetails) {\n    let fieldName;\n    let sortMeta;\n    let fDetails;\n    let i = sortingDetails.length - 1;\n\n    for (; i >= 0; i--) {\n        fieldName = sortingDetails[i][0];\n        sortMeta = sortingDetails[i][1];\n        fDetails = fieldInSchema(schema, fieldName);\n\n        if (!fDetails) {\n            // eslint-disable-next-line no-continue\n            continue;\n        }\n\n        if (isCallable(sortMeta)) {\n            // eslint-disable-next-line no-loop-func\n            mergeSort(data, (a, b) => sortMeta(a[fDetails.index], b[fDetails.index]));\n        } else if (isArray(sortMeta)) {\n            const groupedData = groupData(data, fDetails.index);\n            const sortingFn = sortMeta[sortMeta.length - 1];\n            const targetFields = sortMeta.slice(0, sortMeta.length - 1);\n            const targetFieldDetails = targetFields.map(f => fieldInSchema(schema, f));\n\n            groupedData.forEach((groupedDatum) => {\n                groupedDatum.push(createSortingFnArg(groupedDatum, targetFields, targetFieldDetails));\n            });\n\n            mergeSort(groupedData, (a, b) => {\n                const m = a[2];\n                const n = b[2];\n                return sortingFn(m, n);\n            });\n\n            // Empty the array\n            data.length = 0;\n            groupedData.forEach((datum) => {\n                data.push(...datum[1]);\n            });\n        } else {\n            const sortFn = resolveStrSortOrder(fDetails, sortMeta);\n            // eslint-disable-next-line no-loop-func\n            mergeSort(data, (a, b) => sortFn(a[fDetails.index], b[fDetails.index]));\n        }\n    }\n}\n\n/**\n * Creates a map based on grouping.\n *\n * @param {Array} depColumns - The dependency columns' info.\n * @param {Array} data - The input data.\n * @param {Array} schema - The data schema.\n * @param {Array} sortingDetails - The sorting details for standard sorting.\n * @return {Map} Returns a map.\n */\nconst makeGroupMapAndSort = (depColumns, data, schema, sortingDetails) => {\n    if (depColumns.length === 0) { return data; }\n\n    const targetCol = depColumns[0];\n    const map = new Map();\n\n    data.reduce((acc, currRow) => {\n        const fVal = currRow[targetCol.index];\n        if (acc.has(fVal)) {\n            acc.get(fVal).push(currRow);\n        } else {\n            acc.set(fVal, [currRow]);\n        }\n        return acc;\n    }, map);\n\n    for (let [key, val] of map) {\n        const nMap = makeGroupMapAndSort(depColumns.slice(1), val, schema, sortingDetails);\n        map.set(key, nMap);\n        if (Array.isArray(nMap)) {\n            applyStandardSort(nMap, schema, sortingDetails);\n        }\n    }\n\n    return map;\n};\n\n/**\n * Sorts the data by retaining the position/order of a particular field.\n *\n * @param {Array} data - The input data array.\n * @param {Array} schema - The data schema.\n * @param {Array} sortingDetails - An array containing the sorting configs.\n * @param {Array} depColumns - The dependency column list.\n * @return {Array} Returns the sorted data.\n */\nfunction applyGroupSort (data, schema, sortingDetails, depColumns) {\n    sortingDetails = sortingDetails.filter((detail) => {\n        if (detail[1] === null) {\n            depColumns.push(detail[0]);\n            return false;\n        }\n        return true;\n    });\n    if (sortingDetails.length === 0) { return data; }\n\n    depColumns = depColumns.map(c => fieldInSchema(schema, c));\n\n    const sortedGroupMap = makeGroupMapAndSort(depColumns, data, schema, sortingDetails);\n    return data.map((row) => {\n        let i = 0;\n        let nextMap = sortedGroupMap;\n\n        while (!Array.isArray(nextMap)) {\n            nextMap = nextMap.get(row[depColumns[i++].index]);\n        }\n\n        return nextMap.shift();\n    });\n}\n\n/**\n * Sorts the data.\n *\n * @param {Object} dataObj - An object containing the data and schema.\n * @param {Array} sortingDetails - An array containing the sorting configs.\n */\nexport function sortData (dataObj, sortingDetails) {\n    let { schema, data } = dataObj;\n\n    sortingDetails = sortingDetails.filter(sDetial => !!fieldInSchema(schema, sDetial[0]));\n    if (sortingDetails.length === 0) { return; }\n\n    let groupSortingIdx = sortingDetails.findIndex(sDetial => sDetial[1] === null);\n    groupSortingIdx = groupSortingIdx !== -1 ? groupSortingIdx : sortingDetails.length;\n\n    const standardSortingDetails = sortingDetails.slice(0, groupSortingIdx);\n    const groupSortingDetails = sortingDetails.slice(groupSortingIdx);\n\n    applyStandardSort(data, schema, standardSortingDetails);\n    data = applyGroupSort(data, schema, groupSortingDetails, standardSortingDetails.map(detail => detail[0]));\n\n    dataObj.uids = data.map(row => row.pop());\n    dataObj.data = data;\n}\n","import DataModel from '../export';\nimport { extend2 } from '../utils';\nimport { rowDiffsetIterator } from './row-diffset-iterator';\nimport { isArrEqual } from '../utils/helper';\n/**\n * Performs the union operation between two dm instances.\n *\n * @param {dm} dm1 - The first dm instance.\n * @param {dm} dm2 - The second dm instance.\n * @return {dm} Returns the newly created dm after union operation.\n */\nexport function union (dm1, dm2) {\n    const hashTable = {};\n    const schema = [];\n    const schemaNameArr = [];\n    const data = [];\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    const dm1FieldStoreFieldObj = dm1FieldStore.fieldsObj();\n    const dm2FieldStoreFieldObj = dm2FieldStore.fieldsObj();\n    const name = `${dm1FieldStore.name} union ${dm2FieldStore.name}`;\n\n    // For union the columns should match otherwise return a clone of the dm1\n    if (!isArrEqual(dm1._colIdentifier.split(',').sort(), dm2._colIdentifier.split(',').sort())) {\n        return null;\n    }\n\n    // Prepare the schema\n    (dm1._colIdentifier.split(',')).forEach((fieldName) => {\n        const field = dm1FieldStoreFieldObj[fieldName];\n        schema.push(extend2({}, field.schema()));\n        schemaNameArr.push(field.schema().name);\n    });\n\n    /**\n     * The helper function to create the data.\n     *\n     * @param {dm} dm - The dm instance for which the data is inserted.\n     * @param {Object} fieldsObj - The fieldStore object format.\n     */\n    function prepareDataHelper (dm, fieldsObj) {\n        rowDiffsetIterator(dm._rowDiffset, (i) => {\n            const tuple = {};\n            let hashData = '';\n            schemaNameArr.forEach((schemaName) => {\n                const value = fieldsObj[schemaName].partialField.data[i];\n                hashData += `-${value}`;\n                tuple[schemaName] = value;\n            });\n            if (!hashTable[hashData]) {\n                data.push(tuple);\n                hashTable[hashData] = true;\n            }\n        });\n    }\n\n    // Prepare the data\n    prepareDataHelper(dm1, dm1FieldStoreFieldObj);\n    prepareDataHelper(dm2, dm2FieldStoreFieldObj);\n\n    return new DataModel(data, schema, { name });\n}\n","import { FilteringMode } from './enums';\nimport { getUniqueId } from './utils';\nimport {\n    updateFields,\n    cloneWithSelect,\n    cloneWithProject,\n    updateData,\n    getNormalizedProFields\n} from './helper';\nimport { crossProduct, difference, naturalJoinFilter, union } from './operator';\n\n/**\n * Relation provides the definitions of basic operators of relational algebra like *selection*, *projection*, *union*,\n * *difference* etc.\n *\n * It is extended by {@link DataModel} to inherit the functionalities of relational algebra concept.\n *\n * @class\n * @public\n * @module Relation\n * @namespace DataModel\n */\nclass Relation {\n\n    /**\n     * Creates a new Relation instance by providing underlying data and schema.\n     *\n     * @private\n     *\n     * @param {Object | string | Relation} data - The input tabular data in dsv or json format or\n     * an existing Relation instance object.\n     * @param {Array} schema - An array of data schema.\n     * @param {Object} [options] - The optional options.\n     */\n    constructor (...params) {\n        let source;\n\n        this._parent = null;\n        this._derivation = [];\n        this._ancestorDerivation = [];\n        this._children = [];\n\n        if (params.length === 1 && ((source = params[0]) instanceof Relation)) {\n            // parent datamodel was passed as part of source\n            this._colIdentifier = source._colIdentifier;\n            this._rowDiffset = source._rowDiffset;\n            this._dataFormat = source._dataFormat;\n            this._parent = source;\n            this._partialFieldspace = this._parent._partialFieldspace;\n            this._fieldStoreName = getUniqueId();\n            this.__calculateFieldspace().calculateFieldsConfig();\n        } else {\n            updateData(this, ...params);\n            this._fieldStoreName = this._partialFieldspace.name;\n            this.__calculateFieldspace().calculateFieldsConfig();\n            this._propagationNameSpace = {\n                mutableActions: {},\n                immutableActions: {}\n            };\n        }\n    }\n\n    /**\n     * Retrieves the {@link Schema | schema} details for every {@link Field | field} as an array.\n     *\n     * @public\n     *\n     * @return {Array.<Schema>} Array of fields schema.\n     *      ```\n     *      [\n     *          { name: 'Name', type: 'dimension' },\n     *          { name: 'Miles_per_Gallon', type: 'measure', numberFormat: (val) => `${val} miles / gallon` },\n     *          { name: 'Cylinder', type: 'dimension' },\n     *          { name: 'Displacement', type: 'measure', defAggFn: 'max' },\n     *          { name: 'HorsePower', type: 'measure', defAggFn: 'max' },\n     *          { name: 'Weight_in_lbs', type: 'measure', defAggFn: 'avg',  },\n     *          { name: 'Acceleration', type: 'measure', defAggFn: 'avg' },\n     *          { name: 'Year', type: 'dimension', subtype: 'datetime', format: '%Y' },\n     *          { name: 'Origin' }\n     *      ]\n     *      ```\n     */\n    getSchema () {\n        return this.getFieldspace().fields.map(d => d.schema());\n    }\n\n    /**\n     * Returns the name of the {@link DataModel} instance. If no name was specified during {@link DataModel}\n     * initialization, then it returns a auto-generated name.\n     *\n     * @public\n     *\n     * @return {string} Name of the DataModel instance.\n     */\n    getName() {\n        return this._fieldStoreName;\n    }\n\n    getFieldspace () {\n        return this._fieldspace;\n    }\n\n    __calculateFieldspace () {\n        this._fieldspace = updateFields([this._rowDiffset, this._colIdentifier],\n             this.getPartialFieldspace(), this._fieldStoreName);\n        return this;\n    }\n\n    getPartialFieldspace () {\n        return this._partialFieldspace;\n    }\n\n    /**\n     * Performs {@link link_of_cross_product | cross-product} between two {@link DataModel} instances and returns a\n     * new {@link DataModel} instance containing the results. This operation is also called theta join.\n     *\n     * Cross product takes two set and create one set where each value of one set is paired with each value of another\n     * set.\n     *\n     * This method takes an optional predicate which filters the generated result rows. If the predicate returns true\n     * the combined row is included in the resulatant table.\n     *\n     * @example\n     *  let originDM = dm.project(['Origin','Origin_Formal_Name']);\n     *  let carsDM = dm.project(['Name','Miles_per_Gallon','Origin'])\n     *\n     *  console.log(carsDM.join(originDM)));\n     *\n     *  console.log(carsDM.join(originDM,\n     *      obj => obj.[originDM.getName()].Origin === obj.[carsDM.getName()].Origin));\n     *\n     * @text\n     * This is chained version of `join` operator. `join` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} joinWith - The DataModel to be joined with the current instance DataModel.\n     * @param {SelectionPredicate} filterFn - The predicate function that will filter the result of the crossProduct.\n     *\n     * @return {DataModel} New DataModel instance created after joining.\n     */\n    join (joinWith, filterFn) {\n        return crossProduct(this, joinWith, filterFn);\n    }\n\n    /**\n     * {@link natural_join | Natural join} is a special kind of cross-product join where filtering of rows are performed\n     * internally by resolving common fields are from both table and the rows with common value are included.\n     *\n     * @example\n     *  let originDM = dm.project(['Origin','Origin_Formal_Name']);\n     *  let carsDM = dm.project(['Name','Miles_per_Gallon','Origin'])\n     *\n     *  console.log(carsDM.naturalJoin(originDM));\n     *\n     * @text\n     * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} joinWith - The DataModel with which the current instance of DataModel on which the method is\n     *      called will be joined.\n     * @return {DataModel} New DataModel instance created after joining.\n     */\n    naturalJoin (joinWith) {\n        return crossProduct(this, joinWith, naturalJoinFilter(this, joinWith), true);\n    }\n\n    /**\n     * {@link link_to_union | Union} operation can be termed as vertical stacking of all rows from both the DataModel\n     * instances, provided that both of the {@link DataModel} instances should have same column names.\n     *\n     * @example\n     * console.log(EuropeanMakerDM.union(USAMakerDM));\n     *\n     * @text\n     * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} unionWith - DataModel instance for which union has to be applied with the instance on which\n     *      the method is called\n     *\n     * @return {DataModel} New DataModel instance with the result of the operation\n     */\n    union (unionWith) {\n        return union(this, unionWith);\n    }\n\n    /**\n     * {@link link_to_difference | Difference } operation only include rows which are present in the datamodel on which\n     * it was called but not on the one passed as argument.\n     *\n     * @example\n     * console.log(highPowerDM.difference(highExpensiveDM));\n     *\n     * @text\n     * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} differenceWith - DataModel instance for which difference has to be applied with the instance\n     *      on which the method is called\n     * @return {DataModel} New DataModel instance with the result of the operation\n     */\n    difference (differenceWith) {\n        return difference(this, differenceWith);\n    }\n\n    /**\n     * {@link link_to_selection | Selection} is a row filtering operation. It expects a predicate and an optional mode\n     * which control which all rows should be included in the resultant DataModel instance.\n     *\n     * {@link SelectionPredicate} is a function which returns a boolean value. For selection operation the selection\n     * function is called for each row of DataModel instance with the current row passed as argument.\n     *\n     * After executing {@link SelectionPredicate} the rows are labeled as either an entry of selection set or an entry\n     * of rejection set.\n     *\n     * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n     * resultant datamodel.\n     *\n     * @warning\n     * Selection and rejection set is only a logical idea for concept explanation purpose.\n     *\n     * @example\n     *  // with selection mode NORMAL:\n     *  const normDt = dt.select(fields => fields.Origin.value === \"USA\")\n     *  console.log(normDt));\n     *\n     * // with selection mode INVERSE:\n     * const inverDt = dt.select(fields => fields.Origin.value === \"USA\", { mode: DataModel.FilteringMode.INVERSE })\n     * console.log(inverDt);\n     *\n     * // with selection mode ALL:\n     * const dtArr = dt.select(fields => fields.Origin.value === \"USA\", { mode: DataModel.FilteringMode.ALL })\n     * // print the selected parts\n     * console.log(dtArr[0]);\n     * // print the inverted parts\n     * console.log(dtArr[1]);\n     *\n     * @text\n     * This is chained version of `select` operator. `select` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {Function} selectFn - The predicate function which is called for each row with the current row.\n     * ```\n     *  function (row, i, cloneProvider, store)  { ... }\n     * ```\n     * @param {Object} config - The configuration object to control the inclusion exclusion of a row in resultant\n     * DataModel instance.\n     * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - The mode of the selection.\n     * @return {DataModel} Returns the new DataModel instance(s) after operation.\n     */\n    select (selectFn, config) {\n        const defConfig = {\n            mode: FilteringMode.NORMAL,\n            saveChild: true\n        };\n        config = Object.assign({}, defConfig, config);\n        config.mode = config.mode || defConfig.mode;\n\n        const cloneConfig = { saveChild: config.saveChild };\n        return cloneWithSelect(\n            this,\n            selectFn,\n            config,\n            cloneConfig\n        );\n    }\n\n    /**\n     * Retrieves a boolean value if the current {@link DataModel} instance has data.\n     *\n     * @example\n     * const schema = [\n     *    { name: 'CarName', type: 'dimension' },\n     *    { name: 'HorsePower', type: 'measure' },\n     *    { name: \"Origin\", type: 'dimension' }\n     * ];\n     * const data = [];\n     *\n     * const dt = new DataModel(data, schema);\n     * console.log(dt.isEmpty());\n     *\n     * @public\n     *\n     * @return {Boolean} True if the datamodel has no data, otherwise false.\n     */\n    isEmpty () {\n        return !this._rowDiffset.length || !this._colIdentifier.length;\n    }\n\n    /**\n     * Creates a clone from the current DataModel instance with child parent relationship.\n     *\n     * @private\n     * @param {boolean} [saveChild=true] - Whether the cloned instance would be recorded in the parent instance.\n     * @return {DataModel} - Returns the newly cloned DataModel instance.\n     */\n    clone (saveChild = true) {\n        const clonedDm = new this.constructor(this);\n        if (saveChild) {\n            clonedDm.setParent(this);\n        } else {\n            clonedDm.setParent(null);\n        }\n        return clonedDm;\n    }\n\n    /**\n     * {@link Projection} is filter column (field) operation. It expects list of fields' name and either include those\n     * or exclude those based on {@link FilteringMode} on the resultant variable.\n     *\n     * Projection expects array of fields name based on which it creates the selection and rejection set. All the field\n     * whose name is present in array goes in selection set and rest of the fields goes in rejection set.\n     *\n     * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n     * resulatant datamodel.\n     *\n     * @warning\n     * Selection and rejection set is only a logical idea for concept explanation purpose.\n     *\n     * @example\n     *  const dm = new DataModel(data, schema);\n     *\n     *  // with projection mode NORMAL:\n     *  const normDt = dt.project([\"Name\", \"HorsePower\"]);\n     *  console.log(normDt.getData());\n     *\n     *  // with projection mode INVERSE:\n     *  const inverDt = dt.project([\"Name\", \"HorsePower\"], { mode: DataModel.FilteringMode.INVERSE })\n     *  console.log(inverDt.getData());\n     *\n     *  // with selection mode ALL:\n     *  const dtArr = dt.project([\"Name\", \"HorsePower\"], { mode: DataModel.FilteringMode.ALL })\n     *  // print the normal parts\n     *  console.log(dtArr[0].getData());\n     *  // print the inverted parts\n     *  console.log(dtArr[1].getData());\n     *\n     * @text\n     * This is chained version of `select` operator. `select` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {Array.<string | Regexp>} projField - An array of column names in string or regular expression.\n     * @param {Object} [config] - An optional config to control the creation of new DataModel\n     * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - Mode of the projection\n     *\n     * @return {DataModel} Returns the new DataModel instance after operation.\n     */\n    project (projField, config) {\n        const defConfig = {\n            mode: FilteringMode.NORMAL,\n            saveChild: true\n        };\n        config = Object.assign({}, defConfig, config);\n        const fieldConfig = this.getFieldsConfig();\n        const allFields = Object.keys(fieldConfig);\n        const { mode } = config;\n        const normalizedProjField = getNormalizedProFields(projField, allFields, fieldConfig);\n\n        let dataModel;\n\n        if (mode === FilteringMode.ALL) {\n            let projectionClone = cloneWithProject(this, normalizedProjField, {\n                mode: FilteringMode.NORMAL,\n                saveChild: config.saveChild\n            }, allFields);\n            let rejectionClone = cloneWithProject(this, normalizedProjField, {\n                mode: FilteringMode.INVERSE,\n                saveChild: config.saveChild\n            }, allFields);\n            dataModel = [projectionClone, rejectionClone];\n        } else {\n            let projectionClone = cloneWithProject(this, normalizedProjField, config, allFields);\n            dataModel = projectionClone;\n        }\n\n        return dataModel;\n    }\n\n    getFieldsConfig () {\n        return this._fieldConfig;\n    }\n\n    calculateFieldsConfig () {\n        this._fieldConfig = this._fieldspace.fields.reduce((acc, fieldObj, i) => {\n            acc[fieldObj.name()] = {\n                index: i,\n                def: fieldObj.schema(),\n            };\n            return acc;\n        }, {});\n        return this;\n    }\n\n\n    /**\n     * Frees up the resources associated with the current DataModel instance and breaks all the links instance has in\n     * the DAG.\n     *\n     * @public\n     */\n    dispose () {\n        this._parent && this._parent.removeChild(this);\n        this._parent = null;\n        this._children.forEach((child) => {\n            child._parent = null;\n        });\n        this._children = [];\n    }\n\n    /**\n     * Removes the specified child {@link DataModel} from the child list of the current {@link DataModel} instance.\n     *\n     * @example\n     * const schema = [\n     *    { name: 'Name', type: 'dimension' },\n     *    { name: 'HorsePower', type: 'measure' },\n     *    { name: \"Origin\", type: 'dimension' }\n     * ];\n     *\n     * const data = [\n     *    { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n     *    { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n     *    { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n     *    { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n     * ]\n     *\n     * const dt = new DataModel(data, schema);\n     *\n     * const dt2 = dt.select(fields => fields.Origin.value === \"USA\")\n     * dt.removeChild(dt2);\n     *\n     * @private\n     *\n     * @param {DataModel} child - Delegates the parent to remove this child.\n     */\n    removeChild (child) {\n        let idx = this._children.findIndex(sibling => sibling === child);\n        idx !== -1 ? this._children.splice(idx, 1) : true;\n    }\n\n    /**\n     * Sets the specified {@link DataModel} as a parent for the current {@link DataModel} instance.\n     *\n     * @param {DataModel} parent - The datamodel instance which will act as parent.\n     */\n    setParent (parent) {\n        this._parent && this._parent.removeChild(this);\n        this._parent = parent;\n        parent && parent._children.push(this);\n    }\n\n    /**\n     * Returns the parent {@link DataModel} instance.\n     *\n     * @example\n     * const schema = [\n     *    { name: 'Name', type: 'dimension' },\n     *    { name: 'HorsePower', type: 'measure' },\n     *    { name: \"Origin\", type: 'dimension' }\n     * ];\n     *\n     * const data = [\n     *    { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n     *    { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n     *    { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n     *    { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n     * ]\n     *\n     * const dt = new DataModel(data, schema);\n     *\n     * const dt2 = dt.select(fields => fields.Origin.value === \"USA\");\n     * const parentDm = dt2.getParent();\n     *\n     * @return {DataModel} Returns the parent DataModel instance.\n     */\n    getParent () {\n        return this._parent;\n    }\n\n    /**\n     * Returns the immediate child {@link DataModel} instances.\n     *\n     * @example\n     * const schema = [\n     *    { name: 'Name', type: 'dimension' },\n     *    { name: 'HorsePower', type: 'measure' },\n     *    { name: \"Origin\", type: 'dimension' }\n     * ];\n     *\n     * const data = [\n     *    { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n     *    { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n     *    { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n     *    { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n     * ]\n     *\n     * const dt = new DataModel(data, schema);\n     *\n     * const childDm1 = dt.select(fields => fields.Origin.value === \"USA\");\n     * const childDm2 = dt.select(fields => fields.Origin.value === \"Japan\");\n     * const childDm3 = dt.groupBy([\"Origin\"]);\n     *\n     * @return {DataModel[]} Returns the immediate child DataModel instances.\n     */\n    getChildren () {\n        return this._children;\n    }\n\n    /**\n     * Returns the in-between operation meta data while creating the current {@link DataModel} instance.\n     *\n     * @example\n     * const schema = [\n     *   { name: 'Name', type: 'dimension' },\n     *   { name: 'HorsePower', type: 'measure' },\n     *   { name: \"Origin\", type: 'dimension' }\n     * ];\n     *\n     * const data = [\n     *   { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n     *   { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n     *   { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n     *   { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n     * ]\n     *\n     * const dt = new DataModel(data, schema);\n     * const dt2 = dt.select(fields => fields.Origin.value === \"USA\");\n     * const dt3 = dt2.groupBy([\"Origin\"]);\n     * const derivations = dt3.getDerivations();\n     *\n     * @return {Any[]} Returns the derivation meta data.\n     */\n    getDerivations () {\n        return this._derivation;\n    }\n\n    /**\n     * Returns the in-between operation meta data happened from root {@link DataModel} to current instance.\n     *\n     * @example\n     * const schema = [\n     *   { name: 'Name', type: 'dimension' },\n     *   { name: 'HorsePower', type: 'measure' },\n     *   { name: \"Origin\", type: 'dimension' }\n     * ];\n     *\n     * const data = [\n     *   { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n     *   { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n     *   { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n     *   { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n     * ]\n     *\n     * const dt = new DataModel(data, schema);\n     * const dt2 = dt.select(fields => fields.Origin.value === \"USA\");\n     * const dt3 = dt2.groupBy([\"Origin\"]);\n     * const ancDerivations = dt3.getAncestorDerivations();\n     *\n     * @return {Any[]} Returns the previous derivation meta data.\n     */\n    getAncestorDerivations () {\n        return this._ancestorDerivation;\n    }\n}\n\nexport default Relation;\n","import { fnList } from '../operator/group-by-function';\n\nexport const { sum, avg, min, max, first, last, count, std: sd } = fnList;\n","/**\n * The utility function to calculate major column.\n *\n * @param {Object} store - The store object.\n * @return {Function} Returns the push function.\n */\nexport default (store) => {\n    let i = 0;\n    return (...fields) => {\n        fields.forEach((val, fieldIndex) => {\n            if (!(store[fieldIndex] instanceof Array)) {\n                store[fieldIndex] = Array.from({ length: i });\n            }\n            store[fieldIndex].push(val);\n        });\n        i++;\n    };\n};\n","/**\n * Creates a JS native date object from input\n *\n * @param {string | number | Date} date Input using which date object to be created\n * @return {Date} : JS native date object\n */\nfunction convertToNativeDate (date) {\n    if (date instanceof Date) {\n        return date;\n    }\n\n    return new Date(date);\n}\n/**\n * Apply padding before a number if its less than 1o. This is used when constant digit's number to be returned\n * between 0 - 99\n *\n * @param {number} n Input to be padded\n * @return {string} Padded number\n */\nfunction pad (n) {\n    return (n < 10) ? (`0${n}`) : n;\n}\n/*\n * DateFormatter utility to convert any date format to any other date format\n * DateFormatter parse a date time stamp specified by a user abiding by rules which are defined\n * by user in terms of token. It creates JS native date object from the user specified format.\n * That native date can also be displayed\n * in any specified format.\n * This utility class only takes care of format conversion only\n */\n\n/*\n * Escapes all the special character that are used in regular expression.\n * Like\n * RegExp.escape('sgfd-$') // Output: sgfd\\-\\$\n *\n * @param text {String} : text which is to be escaped\n */\nRegExp.escape = function (text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n};\n\n/**\n * DateTimeFormatter class to convert any user format of date time stamp to any other format\n * of date time stamp.\n *\n * @param {string} format Format of the date given. For the above date,\n * 'year: %Y, month: %b, day: %d'.\n * @class\n */\n/* istanbul ignore next */ function DateTimeFormatter (format) {\n    this.format = format;\n    this.dtParams = undefined;\n    this.nativeDate = undefined;\n}\n\n// The identifier of the tokens\nDateTimeFormatter.TOKEN_PREFIX = '%';\n\n// JS native Date constructor takes the date params (year, month, etc) in a certail sequence.\n// This defines the sequence of the date parameters in the constructor.\nDateTimeFormatter.DATETIME_PARAM_SEQUENCE = {\n    YEAR: 0,\n    MONTH: 1,\n    DAY: 2,\n    HOUR: 3,\n    MINUTE: 4,\n    SECOND: 5,\n    MILLISECOND: 6\n};\n\n/*\n * This is a default number parsing utility. It tries to parse a number in integer, if parsing is unsuccessful, it\n * gives back a default value.\n *\n * @param: defVal {Number} : Default no if the parsing to integer is not successful\n * @return {Function} : An closure function which is to be called by passing an the value which needs to be parsed.\n */\nDateTimeFormatter.defaultNumberParser = function (defVal) {\n    return function (val) {\n        let parsedVal;\n        if (isFinite(parsedVal = parseInt(val, 10))) {\n            return parsedVal;\n        }\n\n        return defVal;\n    };\n};\n\n/*\n * This is a default number range utility. It tries to find an element in the range. If not found it returns a\n * default no as an index.\n *\n * @param: range {Array} : The list which is to be serached\n * @param: defVal {Number} : Default no if the serach and find does not return anything\n * @return {Function} : An closure function which is to be called by passing an the value which needs to be found\n */\nDateTimeFormatter.defaultRangeParser = function (range, defVal) {\n    return (val) => {\n        let i;\n        let l;\n\n        if (!val) { return defVal; }\n\n        const nVal = val.toLowerCase();\n\n        for (i = 0, l = range.length; i < l; i++) {\n            if (range[i].toLowerCase() === nVal) {\n                return i;\n            }\n        }\n\n        if (i === undefined) {\n            return defVal;\n        }\n        return null;\n    };\n};\n\n/*\n * Defines the tokens which are supporter by the dateformatter. Using this definitation a value gets extracted from\n * the user specifed date string. This also formats the value for display purpose from native JS date.\n * The definition of each token contains the following named properties\n * {\n *     %token_name% : {\n *         name: name of the token, this is used in reverse lookup,\n *         extract: a function that returns the regular expression to extract that piece of information. All the\n *                  regex should be gouped by using ()\n *         parser: a function which receives value extracted by the above regex and parse it to get the date params\n *         formatter: a formatter function that takes milliseconds or JS Date object and format the param\n *                  represented by the token only.\n *     }\n * }\n *\n * @return {Object} : Definition of the all the supported tokens.\n */\nDateTimeFormatter.getTokenDefinitions = function () {\n    const daysDef = {\n        short: [\n            'Sun',\n            'Mon',\n            'Tue',\n            'Wed',\n            'Thu',\n            'Fri',\n            'Sat'\n        ],\n        long: [\n            'Sunday',\n            'Monday',\n            'Tuesday',\n            'Wednesday',\n            'Thursday',\n            'Friday',\n            'Saturday'\n        ]\n    };\n    const monthsDef = {\n        short: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        long: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ]\n    };\n\n    const definitions = {\n        H: {\n            // 24 hours format\n            name: 'H',\n            index: 3,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n\n                return d.getHours().toString();\n            }\n        },\n        l: {\n            // 12 hours format\n            name: 'l',\n            index: 3,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const hours = d.getHours() % 12;\n\n                return (hours === 0 ? 12 : hours).toString();\n            }\n        },\n        p: {\n            // AM or PM\n            name: 'p',\n            index: 3,\n            extract () { return '(AM|PM)'; },\n            parser: (val) => {\n                if (val) {\n                    return val.toLowerCase();\n                }\n                return null;\n            },\n            formatter: (val) => {\n                const d = convertToNativeDate(val);\n                const hours = d.getHours();\n\n                return (hours < 12 ? 'AM' : 'PM');\n            }\n        },\n        P: {\n            // am or pm\n            name: 'P',\n            index: 3,\n            extract () { return '(am|pm)'; },\n            parser: (val) => {\n                if (val) {\n                    return val.toLowerCase();\n                }\n                return null;\n            },\n            formatter: (val) => {\n                const d = convertToNativeDate(val);\n                const hours = d.getHours();\n\n                return (hours < 12 ? 'am' : 'pm');\n            }\n        },\n        M: {\n            // Two digit minutes 00 - 59\n            name: 'M',\n            index: 4,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const mins = d.getMinutes();\n\n                return pad(mins);\n            }\n        },\n        S: {\n            // Two digit seconds 00 - 59\n            name: 'S',\n            index: 5,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const seconds = d.getSeconds();\n\n                return pad(seconds);\n            }\n        },\n        K: {\n            // Milliseconds\n            name: 'K',\n            index: 6,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const ms = d.getMilliseconds();\n\n                return ms.toString();\n            }\n        },\n        a: {\n            // Short name of day, like Mon\n            name: 'a',\n            index: 2,\n            extract () { return `(${daysDef.short.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(daysDef.short),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDay();\n\n                return (daysDef.short[day]).toString();\n            }\n        },\n        A: {\n            // Long name of day, like Monday\n            name: 'A',\n            index: 2,\n            extract () { return `(${daysDef.long.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(daysDef.long),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDay();\n\n                return (daysDef.long[day]).toString();\n            }\n        },\n        e: {\n            // 8 of March, 11 of November\n            name: 'e',\n            index: 2,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDate();\n\n                return day.toString();\n            }\n        },\n        d: {\n            // 08 of March, 11 of November\n            name: 'd',\n            index: 2,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDate();\n\n                return pad(day);\n            }\n        },\n        b: {\n            // Short month, like Jan\n            name: 'b',\n            index: 1,\n            extract () { return `(${monthsDef.short.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(monthsDef.short),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const month = d.getMonth();\n\n                return (monthsDef.short[month]).toString();\n            }\n        },\n        B: {\n            // Long month, like January\n            name: 'B',\n            index: 1,\n            extract () { return `(${monthsDef.long.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(monthsDef.long),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const month = d.getMonth();\n\n                return (monthsDef.long[month]).toString();\n            }\n        },\n        m: {\n            // Two digit month of year like 01 for January\n            name: 'm',\n            index: 1,\n            extract () { return '(\\\\d+)'; },\n            parser (val) { return DateTimeFormatter.defaultNumberParser()(val) - 1; },\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const month = d.getMonth();\n\n                return pad(month + 1);\n            }\n        },\n        y: {\n            // Short year like 90 for 1990\n            name: 'y',\n            index: 0,\n            extract () { return '(\\\\d{2})'; },\n            parser (val) {\n                let result;\n                if (val) {\n                    const l = val.length;\n                    val = val.substring(l - 2, l);\n                }\n                let parsedVal = DateTimeFormatter.defaultNumberParser()(val);\n                let presentDate = new Date();\n                let presentYear = Math.trunc((presentDate.getFullYear()) / 100);\n\n                result = `${presentYear}${parsedVal}`;\n\n                if (convertToNativeDate(result).getFullYear() > presentDate.getFullYear()) {\n                    result = `${presentYear - 1}${parsedVal}`;\n                }\n                return convertToNativeDate(result).getFullYear();\n            },\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                let year = d.getFullYear().toString();\n                let l;\n\n                if (year) {\n                    l = year.length;\n                    year = year.substring(l - 2, l);\n                }\n\n                return year;\n            }\n        },\n        Y: {\n            // Long year like 1990\n            name: 'Y',\n            index: 0,\n            extract () { return '(\\\\d{4})'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const year = d.getFullYear().toString();\n\n                return year;\n            }\n        }\n    };\n\n    return definitions;\n};\n\n/*\n * The tokens which works internally is not user friendly in terms of memorizing the names. This gives a formal\n * definition to the informal notations.\n *\n * @return {Object} : Formal definition of the tokens\n */\nDateTimeFormatter.getTokenFormalNames = function () {\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n\n    return {\n        HOUR: definitions.H,\n        HOUR_12: definitions.l,\n        AMPM_UPPERCASE: definitions.p,\n        AMPM_LOWERCASE: definitions.P,\n        MINUTE: definitions.M,\n        SECOND: definitions.S,\n        SHORT_DAY: definitions.a,\n        LONG_DAY: definitions.A,\n        DAY_OF_MONTH: definitions.e,\n        DAY_OF_MONTH_CONSTANT_WIDTH: definitions.d,\n        SHORT_MONTH: definitions.b,\n        LONG_MONTH: definitions.B,\n        MONTH_OF_YEAR: definitions.m,\n        SHORT_YEAR: definitions.y,\n        LONG_YEAR: definitions.Y\n    };\n};\n\n/*\n * This defines the rules and declares dependencies that resolves a date parameter (year, month etc) from\n * the date time parameter array.\n *\n * @return {Object} : An object that contains dependencies and a resolver function. The dependencies values are fed\n *                  to the resolver function in that particular sequence only.\n */\nDateTimeFormatter.tokenResolver = function () {\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    const defaultResolver = (...args) => { // eslint-disable-line require-jsdoc\n        let i = 0;\n        let arg;\n        let targetParam;\n        const l = args.length;\n\n        for (; i < l; i++) {\n            arg = args[i];\n            if (args[i]) {\n                targetParam = arg;\n            }\n        }\n\n        if (!targetParam) { return null; }\n\n        return targetParam[0].parser(targetParam[1]);\n    };\n\n    return {\n        YEAR: [definitions.y, definitions.Y,\n            defaultResolver\n        ],\n        MONTH: [definitions.b, definitions.B, definitions.m,\n            defaultResolver\n        ],\n        DAY: [definitions.a, definitions.A, definitions.e, definitions.d,\n            defaultResolver\n        ],\n        HOUR: [definitions.H, definitions.l, definitions.p, definitions.P,\n            function (hourFormat24, hourFormat12, ampmLower, ampmUpper) {\n                let targetParam;\n                let amOrpm;\n                let isPM;\n                let val;\n\n                if (hourFormat12 && (amOrpm = (ampmLower || ampmUpper))) {\n                    if (amOrpm[0].parser(amOrpm[1]) === 'pm') {\n                        isPM = true;\n                    }\n\n                    targetParam = hourFormat12;\n                } else if (hourFormat12) {\n                    targetParam = hourFormat12;\n                } else {\n                    targetParam = hourFormat24;\n                }\n\n                if (!targetParam) { return null; }\n\n                val = targetParam[0].parser(targetParam[1]);\n                if (isPM) {\n                    val += 12;\n                }\n                return val;\n            }\n        ],\n        MINUTE: [definitions.M,\n            defaultResolver\n        ],\n        SECOND: [definitions.S,\n            defaultResolver\n        ]\n    };\n};\n\n/*\n * Finds token from the format rule specified by a user.\n * @param format {String} : The format of the input date specified by the user\n * @return {Array} : An array of objects which contains the available token and their occurence index in the format\n */\nDateTimeFormatter.findTokens = function (format) {\n    const tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    const tokenLiterals = Object.keys(definitions);\n    const occurrence = [];\n    let i;\n    let forwardChar;\n\n    while ((i = format.indexOf(tokenPrefix, i + 1)) >= 0) {\n        forwardChar = format[i + 1];\n        if (tokenLiterals.indexOf(forwardChar) === -1) { continue; }\n\n        occurrence.push({\n            index: i,\n            token: forwardChar\n        });\n    }\n\n    return occurrence;\n};\n\n/*\n * Format any JS date to a specified date given by user.\n *\n * @param date {Number | Date} : The date object which is to be formatted\n * @param format {String} : The format using which the date will be formatted for display\n */\nDateTimeFormatter.formatAs = function (date, format) {\n    const nDate = convertToNativeDate(date);\n    const occurrence = DateTimeFormatter.findTokens(format);\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    let formattedStr = String(format);\n    const tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    let token;\n    let formattedVal;\n    let i;\n    let l;\n\n    for (i = 0, l = occurrence.length; i < l; i++) {\n        token = occurrence[i].token;\n        formattedVal = definitions[token].formatter(nDate);\n        formattedStr = formattedStr.replace(new RegExp(tokenPrefix + token, 'g'), formattedVal);\n    }\n\n    return formattedStr;\n};\n\n/*\n * Parses the user specified date string to extract the date time params.\n *\n * @return {Array} : Value of date time params in an array [year, month, day, hour, minutes, seconds, milli]\n */\nDateTimeFormatter.prototype.parse = function (dateTimeStamp, options) {\n    const tokenResolver = DateTimeFormatter.tokenResolver();\n    const dtParams = this.extractTokenValue(dateTimeStamp);\n    const dtParamSeq = DateTimeFormatter.DATETIME_PARAM_SEQUENCE;\n    const noBreak = options && options.noBreak;\n    const dtParamArr = [];\n    const args = [];\n    let resolverKey;\n    let resolverParams;\n    let resolverFn;\n    let val;\n    let i;\n    let param;\n    let resolvedVal;\n    let l;\n    let result = [];\n\n    for (resolverKey in tokenResolver) {\n        if (!{}.hasOwnProperty.call(tokenResolver, resolverKey)) { continue; }\n\n        args.length = 0;\n        resolverParams = tokenResolver[resolverKey];\n        resolverFn = resolverParams.splice(resolverParams.length - 1, 1)[0];\n\n        for (i = 0, l = resolverParams.length; i < l; i++) {\n            param = resolverParams[i];\n            val = dtParams[param.name];\n\n            if (val === undefined) {\n                args.push(null);\n            } else {\n                args.push([param, val]);\n            }\n        }\n\n        resolvedVal = resolverFn.apply(this, args);\n\n        if ((resolvedVal === undefined || resolvedVal === null) && !noBreak) {\n            break;\n        }\n\n        dtParamArr[dtParamSeq[resolverKey]] = resolvedVal;\n    }\n\n    if (dtParamArr.length && this.checkIfOnlyYear(dtParamArr.length))\n     {\n        result.unshift(dtParamArr[0], 0, 1); }\n    else {\n        result.unshift(...dtParamArr);\n    }\n\n    return result;\n};\n\n/*\n * Extract the value of the token from user specified date time string.\n *\n * @return {Object} : An key value pair which contains the tokens as key and value as pair\n */\nDateTimeFormatter.prototype.extractTokenValue = function (dateTimeStamp) {\n    const format = this.format;\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    const tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    const occurrence = DateTimeFormatter.findTokens(format);\n    const tokenObj = {};\n\n    let lastOccurrenceIndex;\n    let occObj;\n    let occIndex;\n    let targetText;\n    let regexFormat;\n\n    let l;\n    let i;\n\n    regexFormat = String(format);\n\n    const tokenArr = occurrence.map(obj => obj.token);\n    const occurrenceLength = occurrence.length;\n    for (i = occurrenceLength - 1; i >= 0; i--) {\n        occIndex = occurrence[i].index;\n\n        if (occIndex + 1 === regexFormat.length - 1) {\n            lastOccurrenceIndex = occIndex;\n            continue;\n        }\n\n        if (lastOccurrenceIndex === undefined) {\n            lastOccurrenceIndex = regexFormat.length;\n        }\n\n        targetText = regexFormat.substring(occIndex + 2, lastOccurrenceIndex);\n        regexFormat = regexFormat.substring(0, occIndex + 2) +\n            RegExp.escape(targetText) +\n            regexFormat.substring(lastOccurrenceIndex, regexFormat.length);\n\n        lastOccurrenceIndex = occIndex;\n    }\n\n    for (i = 0; i < occurrenceLength; i++) {\n        occObj = occurrence[i];\n        regexFormat = regexFormat.replace(tokenPrefix + occObj.token, definitions[occObj.token].extract());\n    }\n\n    const extractValues = dateTimeStamp.match(new RegExp(regexFormat)) || [];\n    extractValues.shift();\n\n    for (i = 0, l = tokenArr.length; i < l; i++) {\n        tokenObj[tokenArr[i]] = extractValues[i];\n    }\n    return tokenObj;\n};\n\n/*\n * Give back the JS native date formed from  user specified date string\n *\n * @return {Date} : Native JS Date\n */\nDateTimeFormatter.prototype.getNativeDate = function (dateTimeStamp) {\n    let date = null;\n    if (Number.isFinite(dateTimeStamp)) {\n        date = new Date(dateTimeStamp);\n    } else if (!this.format && Date.parse(dateTimeStamp)) {\n        date = new Date(dateTimeStamp);\n    }\n    else {\n        const dtParams = this.dtParams = this.parse(dateTimeStamp);\n        if (dtParams.length) {\n            this.nativeDate = new Date(...dtParams);\n            date = this.nativeDate;\n        }\n    }\n    return date;\n};\n\nDateTimeFormatter.prototype.checkIfOnlyYear = function(len) {\n    return len === 1 && this.format.match(/y|Y/g).length;\n};\n\n/*\n * Represents JS native date to a user specified format.\n *\n * @param format {String} : The format according to which the date is to be represented\n * @return {String} : The formatted date string\n */\nDateTimeFormatter.prototype.formatAs = function (format, dateTimeStamp) {\n    let nativeDate;\n\n    if (dateTimeStamp) {\n        nativeDate = this.nativeDate = this.getNativeDate(dateTimeStamp);\n    } else if (!(nativeDate = this.nativeDate)) {\n        nativeDate = this.getNativeDate(dateTimeStamp);\n    }\n\n    return DateTimeFormatter.formatAs(nativeDate, format);\n};\n\nexport { DateTimeFormatter as default };\n","/**\n * Generates domain for measure field.\n *\n * @param {Array} data - The array of data.\n * @return {Array} Returns the measure domain.\n */\nexport default (data) => {\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    data.forEach((d) => {\n        if (d < min) {\n            min = d;\n        }\n        if (d > max) {\n            max = d;\n        }\n    });\n\n    return [min, max];\n};\n","/* eslint-disable */\nconst OBJECTSTRING = 'object';\nconst objectToStrFn = Object.prototype.toString;\nconst objectToStr = '[object Object]';\nconst arrayToStr = '[object Array]';\n\nfunction checkCyclicRef(obj, parentArr) {\n    let i = parentArr.length;\n    let bIndex = -1;\n\n    while (i) {\n        if (obj === parentArr[i]) {\n            bIndex = i;\n            return bIndex;\n        }\n        i -= 1;\n    }\n\n    return bIndex;\n}\n\nfunction merge(obj1, obj2, skipUndef, tgtArr, srcArr) {\n    var item,\n        srcVal,\n        tgtVal,\n        str,\n        cRef;\n    // check whether obj2 is an array\n    // if array then iterate through it's index\n    // **** MOOTOOLS precution\n\n    if (!srcArr) {\n        tgtArr = [obj1];\n        srcArr = [obj2];\n    }\n    else {\n        tgtArr.push(obj1);\n        srcArr.push(obj2);\n    }\n\n    if (obj2 instanceof Array) {\n        for (item = 0; item < obj2.length; item += 1) {\n            try {\n                srcVal = obj1[item];\n                tgtVal = obj2[item];\n            }\n            catch (e) {\n                continue;\n            }\n\n            if (typeof tgtVal !== OBJECTSTRING) {\n                if (!(skipUndef && tgtVal === undefined)) {\n                    obj1[item] = tgtVal;\n                }\n            }\n            else {\n                if (srcVal === null || typeof srcVal !== OBJECTSTRING) {\n                    srcVal = obj1[item] = tgtVal instanceof Array ? [] : {};\n                }\n                cRef = checkCyclicRef(tgtVal, srcArr);\n                if (cRef !== -1) {\n                    srcVal = obj1[item] = tgtArr[cRef];\n                }\n                else {\n                    merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                }\n            }\n        }\n    }\n    else {\n        for (item in obj2) {\n            try {\n                srcVal = obj1[item];\n                tgtVal = obj2[item];\n            }\n            catch (e) {\n                continue;\n            }\n\n            if (tgtVal !== null && typeof tgtVal === OBJECTSTRING) {\n                // Fix for issue BUG: FWXT-602\n                // IE < 9 Object.prototype.toString.call(null) gives\n                // '[object Object]' instead of '[object Null]'\n                // that's why null value becomes Object in IE < 9\n                str = objectToStrFn.call(tgtVal);\n                if (str === objectToStr) {\n                    if (srcVal === null || typeof srcVal !== OBJECTSTRING) {\n                        srcVal = obj1[item] = {};\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    }\n                    else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                }\n                else if (str === arrayToStr) {\n                    if (srcVal === null || !(srcVal instanceof Array)) {\n                        srcVal = obj1[item] = [];\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    }\n                    else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                }\n                else {\n                    obj1[item] = tgtVal;\n                }\n            }\n            else {\n                if (skipUndef && tgtVal === undefined) {\n                    continue;\n                }\n                obj1[item] = tgtVal;\n            }\n        }\n    }\n    return obj1;\n}\n\n\nfunction extend2 (obj1, obj2, skipUndef) {\n    //if none of the arguments are object then return back\n    if (typeof obj1 !== OBJECTSTRING && typeof obj2 !== OBJECTSTRING) {\n        return null;\n    }\n\n    if (typeof obj2 !== OBJECTSTRING || obj2 === null) {\n        return obj1;\n    }\n\n    if (typeof obj1 !== OBJECTSTRING) {\n        obj1 = obj2 instanceof Array ? [] : {};\n    }\n    merge(obj1, obj2, skipUndef);\n    return obj1;\n}\n\nexport { extend2 as default };\n","import { DataFormat } from '../enums';\n\n/**\n * Checks whether the value is an array.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is an array otherwise returns false.\n */\nexport function isArray (val) {\n    return Array.isArray(val);\n}\n\n/**\n * Checks whether the value is an object.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is an object otherwise returns false.\n */\nexport function isObject (val) {\n    return val === Object(val);\n}\n\n/**\n * Checks whether the value is a string value.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is a string value otherwise returns false.\n */\nexport function isString (val) {\n    return typeof val === 'string';\n}\n\n/**\n * Checks whether the value is callable.\n *\n * @param {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is callable otherwise returns false.\n */\nexport function isCallable (val) {\n    return typeof val === 'function';\n}\n\n/**\n * Returns the unique values from the input array.\n *\n * @param {Array} data - The input array.\n * @return {Array} Returns a new array of unique values.\n */\nexport function uniqueValues (data) {\n    return [...new Set(data)];\n}\n\nexport const getUniqueId = () => `id-${new Date().getTime()}${Math.round(Math.random() * 10000)}`;\n\n/**\n * Checks Whether two arrays have same content.\n *\n * @param {Array} arr1 - The first array.\n * @param {Array} arr2 - The 2nd array.\n * @return {boolean} Returns whether two array have same content.\n */\nexport function isArrEqual(arr1, arr2) {\n    if (!isArray(arr1) || !isArray(arr2)) {\n        return arr1 === arr2;\n    }\n\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * It is the default number format function for the measure field type.\n *\n * @param {any} val - The input value.\n * @return {number} Returns a number value.\n */\nexport function formatNumber(val) {\n    return val;\n}\n\n/**\n * Returns the detected data format.\n *\n * @param {any} data - The input data to be tested.\n * @return {string} Returns the data format name.\n */\nexport const detectDataFormat = (data) => {\n    if (isString(data)) {\n        return DataFormat.DSV_STR;\n    } else if (isArray(data) && isArray(data[0])) {\n        return DataFormat.DSV_ARR;\n    } else if (isArray(data) && (data.length === 0 || isObject(data[0]))) {\n        return DataFormat.FLAT_JSON;\n    }\n    return null;\n};\n","export { default as DateTimeFormatter } from './date-time-formatter';\nexport { default as columnMajor } from './column-major';\nexport { default as generateMeasureDomain } from './domain-generator';\nexport { default as extend2 } from './extend2';\nexport * from './helper';\n","import { defReducer, fnList } from '../operator';\n\n/**\n * A page level storage which stores, registers, unregisters reducers for all the datamodel instances. There is only one\n * reducer store available in a page. All the datamodel instances receive same instance of reducer store. DataModel\n * out of the box provides handful of {@link reducer | reducers} which can be used as reducer funciton.\n *\n * @public\n * @namespace DataModel\n */\nclass ReducerStore {\n    constructor () {\n        this.store = new Map();\n        this.store.set('defReducer', defReducer);\n\n        Object.entries(fnList).forEach((key) => {\n            this.store.set(key[0], key[1]);\n        });\n    }\n\n    /**\n     * Changes the `defaultReducer` globally. For all the fields which does not have `defAggFn` mentioned in schema, the\n     * value of `defaultReducer` is used for aggregation.\n     *\n     * @public\n     * @param {string} [reducer='sum'] - The name of the default reducer. It picks up the definition from store by doing\n     * name lookup. If no name is found then it takes `sum` as the default reducer.\n     * @return {ReducerStore} Returns instance of the singleton store in page.\n     */\n    defaultReducer (...params) {\n        if (!params.length) {\n            return this.store.get('defReducer');\n        }\n\n        let reducer = params[0];\n\n        if (typeof reducer === 'function') {\n            this.store.set('defReducer', reducer);\n        } else {\n            reducer = String(reducer);\n            if (Object.keys(fnList).indexOf(reducer) !== -1) {\n                this.store.set('defReducer', fnList[reducer]);\n            } else {\n                throw new Error(`Reducer ${reducer} not found in registry`);\n            }\n        }\n        return this;\n    }\n\n    /**\n     *\n     * Registers a {@link reducer | reducer}.\n     * A {@link reducer | reducer} has to be registered before it is used.\n     *\n     * @example\n     *  // find the mean squared value of a given set\n     *  const reducerStore = DataModel.Reducers();\n     *\n     *  reducers.register('meanSquared', (arr) => {\n     *      const squaredVal = arr.map(item => item * item);\n     *      let sum = 0;\n     *      for (let i = 0, l = squaredVal.length; i < l; i++) {\n     *          sum += squaredVal[i++];\n     *      }\n     *\n     *      return sum;\n     *  })\n     *\n     *  // datamodel (dm) is already prepared with cars.json\n     *  const dm1 = dm.groupBy(['origin'], {\n     *      accleration: 'meanSquared'\n     *  });\n     *\n     * @public\n     *\n     * @param {string} name formal name for a reducer. If the given name already exists in store it is overridden by new\n     *      definition.\n     * @param {Function} reducer definition of {@link reducer} function.\n     *\n     * @return {Function} function for unregistering the reducer.\n     */\n    register (name, reducer) {\n        if (typeof reducer !== 'function') {\n            throw new Error('Reducer should be a function');\n        }\n\n        name = String(name);\n        this.store.set(name, reducer);\n\n        return () => { this.__unregister(name); };\n    }\n\n    __unregister (name) {\n        if (this.store.has(name)) {\n            this.store.delete(name);\n        }\n    }\n\n    resolve (name) {\n        if (name instanceof Function) {\n            return name;\n        }\n        return this.store.get(name);\n    }\n}\n\nconst reducerStore = (function () {\n    let store = null;\n\n    function getStore () {\n        if (store === null) {\n            store = new ReducerStore();\n        }\n        return store;\n    }\n    return getStore();\n}());\n\nexport default reducerStore;\n","import { getNumberFormattedVal } from './helper';\n\n/**\n * The wrapper class on top of the primitive value of a field.\n *\n * @todo Need to have support for StringValue, NumberValue, DateTimeValue\n * and GeoValue. These types should expose predicate API mostly.\n */\nclass Value {\n\n  /**\n   * Creates new Value instance.\n   *\n   * @param {*} val - the primitive value from the field cell.\n   * @param {string | Field} field - The field from which the value belongs.\n   */\n    constructor (value, rawValue, field) {\n        const formattedValue = getNumberFormattedVal(field, value);\n\n        Object.defineProperties(this, {\n            _value: {\n                enumerable: false,\n                configurable: false,\n                writable: false,\n                value\n            },\n            _formattedValue: {\n                enumerable: false,\n                configurable: false,\n                writable: false,\n                value: formattedValue\n            },\n            _internalValue: {\n                enumerable: false,\n                configurable: false,\n                writable: false,\n                value: rawValue\n            }\n        });\n\n        this.field = field;\n    }\n\n  /**\n   * Returns the field value.\n   *\n   * @return {*} Returns the current value.\n   */\n    get value () {\n        return this._value;\n    }\n\n    /**\n     * Returns the parsed value of field\n     */\n    get formattedValue () {\n        return this._formattedValue;\n    }\n\n    /**\n     * Returns the internal value of field\n     */\n    get internalValue () {\n        return this._internalValue;\n    }\n\n  /**\n   * Converts to human readable string.\n   *\n   * @override\n   * @return {string} Returns a human readable string of the field value.\n   *\n   */\n    toString () {\n        return String(this.value);\n    }\n\n  /**\n   * Returns the value of the field.\n   *\n   * @override\n   * @return {*} Returns the field value.\n   */\n    valueOf () {\n        return this.value;\n    }\n}\n\nexport default Value;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * This file exports constants that will be used to\n * create the state store of the table layout.\n */\n/**\n * The index of top, bottom and center in the matrix\n */\nexport const VIEW_INDEX = {\n    top: 0,\n    center: 1,\n    bottom: 2\n};\n\nexport const ROW_MATRIX_INDEX = {\n    0: 'top',\n    1: 'center',\n    2: 'bottom'\n};\n\nexport const COLUMN_MATRIX_INDEX = {\n    0: 'left',\n    1: 'middle',\n    2: 'right'\n};\n\n/**\n * The width of the grid suppied by the user.\n */\nexport const GRID_WIDTH = 'width';\n\n/**\n * The height of the grid supplied by the user.\n */\nexport const GRID_HEIGHT = 'height';\n\n/**\n  * The border for the grid\n  */\nexport const BORDER = 'border';\n\n /**\n  *  The index of the first visible row in view matrix.\n  */\nexport const ROW_POINTER = 'rowPointer';\n\n/**\n * The index of the first visible column in the view matrix.\n */\nexport const COLUMN_POINTER = 'columnPointer';\n\n/**\n * Flag to specify whether row sizes should be equal.\n */\nexport const ROW_SIZE_IS_EQUAL = 'isRowSizeEqual';\n\n/**\n * Flag to specify whether column sizes are equal.\n */\nexport const COLUMN_SIZE_IS_EQUAL = 'isColumnSizeEqual';\n\n/**\n * Field to store an array an of the widths of visible columns.\n * @computed\n */\nexport const COLUMN_WIDTHS = 'visibleColumnWidths';\n\n/**\n * Field to store an array of heights of visible rows.\n * @computed\n */\nexport const ROW_HEIGHTS = 'visibleRowHeights';\n\n/**\n * Field to store the width of the left matrix.\n * @computed\n */\nexport const LEFT_MATRIX_WIDTH = 'leftMatrixWidth';\n\n/**\n * Field to store the width of the right matrix.\n * @computed\n */\nexport const RIGHT_MATRIX_WIDTH = 'rightMatrixWidth';\n\n/**\n * Field to store the height of the top matrix.\n * @computed\n */\nexport const TOP_MATRIX_HEIGHT = 'topMatrixHeight';\n\n/**\n * Field to store the height of the bottom matrix.\n * @computed\n */\nexport const BOTTOM_MATRIX_HEIGHT = 'bottomMatrixHeight';\n\n/**\n * The dom element to render the layout inside.\n */\nexport const MOUNT_POINT = 'mount';\n\n/**\n * The id attribute of the left table element.\n */\nexport const LEFT_TABLE_ID = 'grid-left';\n\n/**\n * The id attribute of the right table element.\n */\nexport const RIGHT_TABLE_ID = 'grid-right';\n\n/**\n * The id attribute of the top table.\n */\nexport const TOP_TABLE_ID = 'grid-top';\n\n/**\n * The id attribute of the bottom table.\n */\nexport const BOTTOM_TABLE_ID = 'grid-bottom';\n\n/**\n * The id attribute of the center table.\n */\nexport const CENTER_TABLE_ID = 'grid-center';\n\n/**\n * The id attribute of the top div.\n */\nexport const TOP_DIV_ID = 'muze-div-top';\n\n/**\n * The id attribute of the bottom div.\n */\nexport const BOTTOM_DIV_ID = 'muze-div-bottom';\n\n/**\n * The id attribute of the center div.\n */\nexport const CENTER_DIV_ID = 'muze-div-center';\n\n/**\n * Field that indicates if the row configuration has changed\n */\nexport const HAVE_ROWS_CHANGED = 'haveRowsChanged';\n\n/**\n * Field that indicates if the column configuration has changed\n */\nexport const HAVE_COLUMNS_CHANGED = 'haveColumnsChanged';\n\n/**\n * Field that indicates if the values configuration for the center matrix has changed\n */\nexport const HAVE_VALUES_CHANGED = 'haveValuesChanged';\n\n/**\n * Field that indicates the width of row matrix\n */\nexport const ROW_MATRIX_WIDTH = 'rowMatrixWidth';\n\n/**\n * Field that indicates the height of row matrix\n */\nexport const COLUMN_MATRIX_HEIGHT = 'columnMatrixHeight';\n\n/**\n * Field that indicates the unit width of layout\n */\nexport const UNIT_WIDTH = 'unitWidth';\n\n/**\n * Field that indicates the unit height of layout\n */\nexport const UNIT_HEIGHT = 'unitHeight';\n\n/**\n * Field that indicates the style object\n */\nexport const STYLE = 'style';\n\n/**\n * Field that indicates the color configuration\n */\nexport const COLOR = 'color';\n\n/**\n * Field that indicates width\n */\nexport const WIDTH = 'width';\n\n/**\n * Field that indicates collpase property for border\n */\nexport const COLLAPSE = 'collapse';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SPACING = 'spacing';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const DISTRIBUTION = 'distribution';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const GUTTERSPACE = 'gutterSpace';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const BREAK_PAGE = 'breakPage';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_ROW_BORDERS = 'showRowBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_COL_BORDERS = 'showColBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_VALUE_BORDERS = 'showValueBorders';\n\nexport const HEIGHT = 'height';\nexport const COLUMN = 'column';\nexport const ROW = 'row';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const CENTER = 'center';\nexport const CLICK = 'click';\nexport const ROW_LEFT = 'rowLeft';\nexport const ROW_RIGHT = 'rowRight';\nexport const COLUMN_BOTTOM = 'colBottom';\nexport const COLUMN_TOP = 'colTop';\nexport const AUTO = 'auto';\nexport const ROW_SPAN = 'rowSpan';\nexport const COL_SPAN = 'colSpan';\nexport const ROW_ROOT = 'rowRoot';\nexport const COLUMN_ROOT = 'columnRoot';\nexport const PRIMARY = 'primary';\nexport const SECONDARY = 'secondary';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\nexport const GRID = 'grid';\n\nexport const BLANK_BORDERS = 'rgba(0,0,0,0)';\n\nexport const PAGINATION = 'pagination';\nexport const BUFFER = 'buffer';\nexport const HOLISTIC = 'holistic';\nexport const SCROLL = 'scroll';\nexport const MIDDLE = 'middle';\nexport const NO_BORDERS = null;\n\nexport const MAX_WIDTH_AVAIL_FOR_COL_MATRIX = 'maxWidthAvailableForColumnMatrix';\nexport const COLUMN_MATRIX = 'columnMatrix';\nexport const MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX = 'maxHeightAvailableForRowMatrix';\nexport const ROW_MATRIX = 'rowMatrix';\n","import { sanitizeIP, mergeRecursive } from 'muze-utils';\nimport { TOP, CENTER, BOTTOM } from '../enums/constants';\n\n/*\n * This is the abstract implementation of the root layout. This takes care of common work which all the layouts\n * has to handle. The common work includes sanitizaion of inputs, update, rerender, dispose etc. This class can't be\n * used directly (as ofcourse this is an abstract implementaiton), the class which is implementing it has to implement\n * the necessary methods and gives its on visual.\n */\n\n/**\n * This class is used to create a generic layout. It can be extended to create layouts\n * of different types\n * @class GenericLayout\n */\nexport default class GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config configuration to be given for the layout\n     * @param {Object} dependencies external dependencies.\n     *\n     * @memberof GenericLayout\n     *\n     */\n    constructor (mountPoint, measurement, config, dependencies) {\n        this._config = {};\n        this._measurement = {};\n        this._matrices = [];\n        // External dependencies to be included for the layout. This includes the ext global dependencies like\n        // smartlabel which has one single implementation of throughout the page or per isntance\n        this._dependencies = dependencies;\n\n        this.measurement(measurement);\n        this.mountPoint(mountPoint);\n        this.config(config);\n    }\n\n    /**\n     * Returns an object which is used to recreate the layout.\n     * @return {Object} the serialized components\n     */\n    serialize () {\n        return {\n            measurement: this.measurement(),\n            config: this.config(),\n            matrices: this.matrices()\n        };\n    }\n\n     /**\n     * Sets/Gets the config for the layout\n     * @param {Object} config configuration for the layout\n     * @return {Layout|Object} Gets the Config/ Returns this instance when set\n     */\n    config (config) {\n        if (config) {\n            this._config = mergeRecursive(this._config || {}, config);\n            this._config.border.width = Math.max(0, this._config.border.width);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Sets/Gets the measurement for the layout\n     * @param {Object} measurement measurement for the layout\n     * @return {Layout|Object} Gets the measurement/ Returns this instance when set\n     */\n    measurement (measurement) {\n        if (measurement) {\n            this._measurement = mergeRecursive(this._measurement || {}, measurement);\n\n            return this;\n        }\n        return this._measurement;\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     * @param {Object} matrices matrices for the layout\n     * @return {Layout|Object} Gets the matrices/ Returns this instance when set\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = sanitizeIP.typeObj([TOP, CENTER, BOTTOM], matrices);\n\n            return this;\n        }\n        return this._matrices;\n    }\n\n    /**\n     * Sets/Gets the matrix for row\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    rowMatrix (matrix) {\n        if (matrix) {\n            this._rowMatrix = matrix;\n            return this;\n        }\n        return this._rowMatrix;\n    }\n\n    /**\n     * Sets/Gets the matrix for columns\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    columnMatrix (matrix) {\n        if (matrix) {\n            this._columnMatrix = matrix;\n            return this;\n        }\n        return this._columnMatrix;\n    }\n\n   /**\n     * Sets/Gets the matrix for value\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    centerMatrix (matrix) {\n        if (matrix) {\n            this._centerMatrix = matrix;\n            return this;\n        }\n        return this._centerMatrix;\n    }\n\n    /**\n     * Sets/Gets the mountPoint for the layout\n     * @param {Object} mountPoint mountPoint for the layout\n     * @return {Layout|Object} Gets the mountPoint/ Returns this instance when set\n     */\n    mountPoint (mountPoint) {\n        if (mountPoint) {\n            this._mountPoint = mountPoint;\n\n            return this;\n        }\n        return this._mountPoint;\n    }\n}\n","import {\n    TOP, BOTTOM, LEFT, RIGHT, CENTER, BLANK_BORDERS, COLUMN, ROW,\n    VIEW_INDEX, ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX, MIDDLE, NO_BORDERS\n} from '../enums/constants';\n\nconst borderMap = {\n    [`${TOP}-${LEFT}`]: NO_BORDERS,\n    [`${TOP}-${MIDDLE}`]: COLUMN,\n    [`${TOP}-${RIGHT}`]: NO_BORDERS,\n    [`${CENTER}-${LEFT}`]: ROW,\n    [`${CENTER}-${MIDDLE}`]: CENTER,\n    [`${CENTER}-${RIGHT}`]: ROW,\n    [`${BOTTOM}-${LEFT}`]: NO_BORDERS,\n    [`${BOTTOM}-${MIDDLE}`]: COLUMN,\n    [`${BOTTOM}-${RIGHT}`]: NO_BORDERS\n};\n\nconst applySpecificBorder = (cells, color, type, style) => {\n    cells.style(`border-${type}`, `${style} ${color}`);\n};\n\nconst specificBorderApplier = (borderTypes, showBorders, cells, borderInfo) => {\n    const {\n        color,\n        width,\n        style\n    } = borderInfo;\n    const borderStyle = `${width}px ${style}`;\n\n    borderTypes.forEach((borderType) => {\n        applySpecificBorder(cells, showBorders[borderType] ? color : BLANK_BORDERS, borderType, borderStyle);\n    });\n};\n\nconst borderApplier = (cells, borderInfo) => {\n    const {\n       showRowBorders,\n      showColBorders,\n      showValueBorders\n  } = borderInfo;\n    return {\n        row: () => specificBorderApplier([TOP, BOTTOM], showRowBorders, cells, borderInfo),\n        column: () => specificBorderApplier([LEFT, RIGHT], showColBorders, cells, borderInfo),\n        center: () => specificBorderApplier([LEFT, RIGHT, TOP, BOTTOM], showValueBorders, cells, borderInfo)\n    };\n};\n\nexport const applyBorders = (cells, border, row, column) => {\n    const borderApplierFn = borderApplier(cells, border);\n    const borderMapVal = borderMap[`${ROW_MATRIX_INDEX[VIEW_INDEX[row]]}-${COLUMN_MATRIX_INDEX[column]}`];\n    if (borderMapVal) {\n        borderApplierFn[borderMapVal]();\n    }\n};\n","import {\n    HEIGHT, WIDTH, COLUMN, ROW, HORIZONTAL, VERTICAL, HOLISTIC,\n    MAX_WIDTH_AVAIL_FOR_COL_MATRIX, COLUMN_MATRIX, MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX, ROW_MATRIX, SCROLL\n} from '../enums/constants';\n\n/**\n * Gets measurement for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @return {Object} Logical height/width of the matrix\n */\nexport function getMatrixMeasurement (matrix, type) {\n    if (matrix) {\n        return matrix.getLogicalSpace()[type];\n    }\n    return 0;\n}\n\n/**\n * Sets available space for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @param {number} value Value of measurement\n */\nexport function setMatrixMeasurement (matrix, type, value) {\n    if (matrix) {\n        const spaces = matrix.getLogicalSpace();\n        if (value && spaces[type] !== value) {\n            type === HEIGHT ? matrix.setAvailableSpace(spaces.width, value) :\n                matrix.setAvailableSpace(value, spaces.height);\n        }\n    }\n}\n\nconst setAvailableSpace = (matrix, widths, heights) => {\n    matrix.forEach((row, rIdx) => {\n        row.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(widths[cIdx], heights[rIdx]);\n        });\n    });\n};\n\nconst setViewSpaces = (layout, pointerType, viewSpaces) => {\n    let pointer = layout.config()[`${pointerType}Pointer`];\n    if (viewSpaces.length - 1 < pointer) {\n        pointer = 0;\n        layout.config({ [`${pointerType}Pointer`]: pointer });\n    }\n    return pointer;\n};\n\nconst paginationDetailsMap = {\n    column: {\n        maxMeasure: MAX_WIDTH_AVAIL_FOR_COL_MATRIX,\n        matrix: COLUMN_MATRIX,\n        measureType: WIDTH,\n        scrollType: HORIZONTAL\n    },\n    row: {\n        maxMeasure: MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX,\n        matrix: ROW_MATRIX,\n        measureType: HEIGHT,\n        scrollType: VERTICAL\n    }\n};\n\n/**\n * This method provides the required width/height in the different pagination stages.\n * If the pagination is holistic, then only the max width/height will be provided for layouting\n * If scroll is enabled, then the entire width/height shall be provided for layouting\n * Note: width is required for scrolling the columns while height is required for scrolling rows\n *\n *\n * @param {Layout} layout Layout instance required for configuration details\n * @param {Object} measureDetails different measure details for row/column\n * @param {number} maxMeasure maximum width/height present for column/row respectively\n * @return {number} Provides the width/height based on which further calculation can occur\n */\nconst getMatrixMeasureForPagination = (layout, measureDetails, maxMeasure, buffer) => {\n    const {\n        pagination\n    } = layout.config();\n    const {\n        matrix,\n        measureType,\n        scrollType\n    } = measureDetails;\n\n    switch (pagination) {\n    case HOLISTIC:\n        return maxMeasure;\n    default: {\n        const actualMeasure = getMatrixMeasurement(layout[matrix](), measureType) + buffer;\n\n        if (actualMeasure > maxMeasure) {\n            layout.scrollInfo({ [scrollType]: true });\n        }\n        return Math.max(maxMeasure, actualMeasure);\n    }\n    }\n};\n\n/**\n * This method uses the getMatrixMeasureForPagination function to calculate maximum measure\n * depending on the layouting algorithm used\n *\n *\n * @param {Layout} layout Layout instance required for configuration details\n * @param {string} matrixType row/column\n * @param {number} relatedMaxMeasure maximum width/height present for column/row respectively\n * @return {number} Provides the width/height based on which further calculation can occur\n */\nconst paginationMeasureGetter = (layout, matrixType, relatedMaxMeasure, buffer) =>\n    getMatrixMeasureForPagination(layout, paginationDetailsMap[matrixType], relatedMaxMeasure, buffer);\n\nconst getMatrixWidthDetails = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const {\n        width\n    } = layout.measurement();\n    const {\n        border,\n        buffer\n    } = layout.config();\n\n    // Border adjustment for each cell in the central matrix\n    const borderWidth = border.width;\n\n    // Get width of row matrix\n    const rowMatrixWidth = getMatrixMeasurement(rowMatrix, WIDTH);\n\n    // Get maximum width allowed for the row matrix\n    const maxRowMatrixWidth = Math.min(rowMatrixWidth + buffer, width / 2);\n\n    // Get maximum width available for the column matrix\n    const maxWidthAvailableForColumnMatrix = width - maxRowMatrixWidth - borderWidth;\n\n    // Set width for column matrix\n    const columnMatrixWidth = paginationMeasureGetter(layout, COLUMN, maxWidthAvailableForColumnMatrix, 0);\n\n    return {\n        rowMatrixWidth,\n        maxRowMatrixWidth,\n        columnMatrixWidth,\n        maxWidthAvailableForColumnMatrix\n    };\n};\n\nconst getHeightRequiredByColMatrix = (layout, columnMatrixWidth) => {\n    const {\n        height\n    } = layout.measurement();\n    const columnMatrix = layout.columnMatrix();\n\n    // Get maximum allowed height for colum matrix\n    const maxColumnMatrixHeight = Math.min(columnMatrix.getLogicalSpace().height, height / 2);\n\n    // Set the computed width and max height to column matrix to determine the actual height\n    // that will be taken by the column matrix\n    columnMatrix.setAvailableSpace(columnMatrixWidth, maxColumnMatrixHeight);\n\n    // Get the set of pages column view\n    const columnViewPages = columnMatrix.getViewableSpaces();\n\n    // Figuring out total space needed by current view space\n    const columnViewSpace = columnViewPages[layout.config().columnPointer];\n\n    // Getting height of column matrix\n    const columnMatrixHeight = columnViewSpace.height.primary + columnViewSpace.height.secondary;\n\n    return {\n        columnMatrixHeight,\n        maxColumnMatrixHeight\n    };\n};\n\nconst getMatrixHeightDetails = (layout, columnMatrixWidth) => {\n    const {\n        height\n    } = layout.measurement();\n    const {\n        buffer\n    } = layout.config();\n\n    // Get actual height required by column matrix\n    const { columnMatrixHeight, maxColumnMatrixHeight } = getHeightRequiredByColMatrix(layout, columnMatrixWidth);\n\n    // Based on column height, compute max height available for row matrix\n    const maxHeightAvailableForRowMatrix = height - Math.min(maxColumnMatrixHeight, columnMatrixHeight);\n\n    // Get height for row matrix\n    const rowMatrixHeight = paginationMeasureGetter(layout, ROW, maxHeightAvailableForRowMatrix, buffer);\n\n    return {\n        columnMatrixHeight,\n        maxColumnMatrixHeight,\n        rowMatrixHeight,\n        maxHeightAvailableForRowMatrix\n    };\n};\n\nconst setValueMatrixMeasurements = (layout, rowViewableSpaces, columnViewableSpaces) => {\n    const centerMatrix = layout.centerMatrix();\n\n    const {\n        border\n    } = layout.config();\n    const matrices = layout.matrices();\n    const {\n        top,\n        bottom\n    } = matrices;\n\n    // Border adjustment for each cell in the central matrix\n    const borderWidth = border.width;\n\n    // Get the heights for each cell in the row matrix\n    const rowHeights = [].concat(...rowViewableSpaces.map(e => e.rowHeights.primary));\n\n    // Get the widths for each of the row matrix cells(primary and secondary)\n    const rowWidthsPrimary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.primary));\n    const rowWidthsSecondary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.secondary));\n\n    // Get the widths for each cell in the column matrix\n    const columnWidths = [].concat(...columnViewableSpaces.map(e => e.columnWidths.primary));\n\n    // Get the widths for each of the column matrix cells(primary and secondary)\n    const columnHeightsPrimary = columnViewableSpaces[0].rowHeights.primary;\n    const columnHeightsSecondary = [].concat(...columnViewableSpaces.map(e => e.rowHeights.secondary));\n\n    // Setting the available space for each cell in the centre matrix computed throught the row and\n    // column matrices\n    centerMatrix.forEach((matrix, rIdx) => {\n        matrix.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(columnWidths[cIdx] - borderWidth, rowHeights[rIdx] - borderWidth);\n        });\n    });\n\n    // Set the heights and widths for the corner matrices namely:\n    // TOP_LEFT\n    setAvailableSpace(top[0], rowWidthsPrimary, columnHeightsPrimary);\n    // TOP_RIGHT\n    setAvailableSpace(top[2], rowWidthsSecondary, columnHeightsPrimary);\n    // BOTTOM_LEFT\n    setAvailableSpace(bottom[0], rowWidthsPrimary, columnHeightsSecondary);\n     // BOTTOM_RIGHT\n    setAvailableSpace(bottom[2], rowWidthsSecondary, columnHeightsSecondary);\n};\n\nconst bufferCondition = {\n    isScroll: true,\n    pagination: SCROLL\n};\n\nconst getBufferFromCondition = (layout, type) => {\n    const scrollInfo = layout.scrollInfo();\n    const {\n        pagination\n    } = layout.config();\n\n    const currentBufferType = {\n        pagination,\n        isScroll: scrollInfo[type]\n    };\n\n    return Object.keys(bufferCondition).every(e => bufferCondition[e] === currentBufferType[e]);\n};\n\nconst getActualBufferFromConfig = (layout) => {\n    const {\n        buffer\n    } = layout.config();\n    const [horizontalBuffer, verticalBuffer] = [HORIZONTAL, VERTICAL].map((type) => {\n        if (getBufferFromCondition(layout, type)) {\n            return buffer;\n        }\n        return 0;\n    });\n\n    return {\n        horizontalBuffer,\n        verticalBuffer\n    };\n};\n/**\n * Computes the measurements of space for all matrices in the\n * layout\n *\n * @param {Object} layout Instance of grid layout\n * @return {Object} set of measurements for the layout\n */\nexport const computeLayoutMeasurements = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n\n    // Compute the widths of the row and column matrices\n    const {\n        rowMatrixWidth,\n        maxRowMatrixWidth,\n        maxWidthAvailableForColumnMatrix,\n        columnMatrixWidth\n    } = getMatrixWidthDetails(layout);\n\n    // Compute the heights of the row and column matrices\n    const {\n        columnMatrixHeight,\n        rowMatrixHeight,\n        maxHeightAvailableForRowMatrix\n    } = getMatrixHeightDetails(layout, columnMatrixWidth);\n\n    const {\n        horizontalBuffer,\n        verticalBuffer\n    } = getActualBufferFromConfig(layout);\n    rowMatrix.setAvailableSpace(maxRowMatrixWidth - verticalBuffer, rowMatrixHeight - horizontalBuffer);\n\n    // Get row and columns viewable spaces\n    const rowViewableSpaces = rowMatrix.getViewableSpaces();\n    const columnViewableSpaces = columnMatrix.getViewableSpaces();\n\n    // Set view spaces for row and columns\n    setViewSpaces(layout, ROW, rowViewableSpaces);\n    setViewSpaces(layout, COLUMN, columnViewableSpaces);\n\n    // Set measures for each cell of the value matrix\n    setValueMatrixMeasurements(layout, rowViewableSpaces, columnViewableSpaces);\n\n    return {\n        rowMatrixHeight: rowMatrixHeight - horizontalBuffer,\n        rowMatrixWidth: rowMatrixWidth - verticalBuffer,\n        maxHeightAvailableForRowMatrix: maxHeightAvailableForRowMatrix - horizontalBuffer,\n\n        columnMatrixHeight,\n        columnMatrixWidth,\n        maxWidthAvailableForColumnMatrix\n    };\n};\n","import * as FieldNames from '../enums/constants';\n\n/**\n * Default configuration of the layout\n * @return {Object} returns the default configuration\n */\nexport const DEFAULT_CONFIGURATION = {\n    [FieldNames.BORDER]: {\n        [FieldNames.STYLE]: 'solid',\n        [FieldNames.COLOR]: '#d6d6d6',\n        [FieldNames.WIDTH]: 2,\n        [FieldNames.COLLAPSE]: true,\n        [FieldNames.SPACING]: 0\n    },\n    [FieldNames.PAGINATION]: 'scroll',\n    [FieldNames.BUFFER]: 20,\n    [FieldNames.GUTTERSPACE]: { rows: [], columns: [] },\n    [FieldNames.DISTRIBUTION]: { rows: [], columns: [] },\n    [FieldNames.BREAK_PAGE]: { rows: [], columns: [] },\n    [FieldNames.ROW_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_POINTER]: 0,\n    [FieldNames.ROW_POINTER]: 0\n};\n\n/**\n * Default measurements for the layout\n * @return {Object} returns the default measurements\n */\nexport const DEFAULT_MEASUREMENTS = {\n    [FieldNames.GRID_WIDTH]: 100,\n    [FieldNames.GRID_HEIGHT]: 100,\n    [FieldNames.UNIT_WIDTH]: 100,\n    [FieldNames.UNIT_HEIGHT]: 100\n};\n\nexport const BLANK_BORDERS = 'rgba(0,0,0,0)';\n","export { default as GridLayout } from './layout';\n\nexport {\n    applyBorders\n} from './border-helper';\n\nexport {\n    cellSpanMaker,\n    applySpans\n} from './span-maker';\n","import RowMatrix from '../visual-matrix/row-matrix';\nimport ColumnMatrix from '../visual-matrix/column-matrix';\n\nexport const generateVisualMatrices = (context, matrices) => {\n    // Set of matrices for layout is generated starting with the left matrix\n    let leftMatrix = [];\n    let rightMatrix = [];\n    let topMatrix = [];\n    let bottomMatrix = [];\n    let begColCells;\n    let endColCells;\n    const {\n        isRowSizeEqual,\n        isColumnSizeEqual,\n        gutterSpace,\n        distribution,\n        border,\n        breakPage,\n        priority\n    } = context.config();\n    const {\n        minUnitHeight,\n        minUnitWidth\n    } = context.measurement();\n    const { top, center, bottom } = matrices;\n    const [topLeft, topColumns, topRight] = top;\n    const [leftRows, valueMatrix, rightRows] = center;\n    const [bottomLeft, bottomColumns, bottomRight] = bottom;\n\n    if (leftRows.length > 0) {\n        // If no left matrix is present, context will be empty\n        leftMatrix = [...topLeft, ...leftRows, ...bottomLeft];\n    }\n    if (rightRows.length > 0) {\n        // If no right matrix is present, context will be empty\n        rightMatrix = [...topRight, ...rightRows, ...bottomRight];\n    }\n    if (topColumns.length > 0 && topColumns[0].length > 0) {\n        // If no top matrix is present, context will be empty\n        topMatrix = topColumns.map((d, i) => [...topLeft[i], ...d, ...topRight[i]]);\n    }\n    if (bottomColumns.length > 0 && bottomColumns[0].length > 0) {\n        // If no bottom matrix is present, context will be empty\n        bottomMatrix = bottomColumns.map((d, i) => [...bottomLeft[i], ...d, ...bottomRight[i]]);\n    }\n\n    context.rowMatrix(new RowMatrix([leftMatrix, rightMatrix], {\n        isDistributionEqual: isRowSizeEqual,\n        distribution: distribution.rows,\n        gutter: gutterSpace.rows,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        priority: priority.row,\n        breakPage: breakPage.rows.map(e => e + Math.max(topLeft.length, topRight.length)),\n        extraCellLengths: [topLeft.length, bottomLeft.length]\n    }));\n\n    if (topLeft.length > 0) {\n        begColCells = topLeft[0].length;\n    } else {\n        begColCells = bottomLeft.length > 0 ? bottomLeft[0].length : 0;\n    }\n\n    if (topRight.length > 0) {\n        endColCells = topRight[0].length;\n    } else {\n        endColCells = bottomRight.length > 0 ? bottomRight[0].length : 0;\n    }\n\n    context.columnMatrix(new ColumnMatrix([topMatrix, bottomMatrix], {\n        isDistributionEqual: isColumnSizeEqual,\n        distribution: distribution.columns,\n        gutter: gutterSpace.columns,\n        isTransposed: true,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        priority: priority.col,\n        breakPage: breakPage.columns,\n        extraCellLengths: [begColCells, endColCells]\n    }));\n    context.centerMatrix(valueMatrix);\n\n    return matrices;\n};\n","/**\n * This file declares a table that can be extended to create a Datagrid, crosstab\n * and man other visualzations that require a tabular structure.\n */\n\nimport { getUniqueId, mergeRecursive } from 'muze-utils';\nimport GenericLayout from '../generic-layout';\nimport { DEFAULT_CONFIGURATION, DEFAULT_MEASUREMENTS } from './defaults';\nimport { generateVisualMatrices } from './layout-helper';\nimport { computeLayoutMeasurements } from './computations';\nimport { getViewMeasurements, getViewMatrices } from './view-info-getter';\n/**\n * This class is used to create a tabular structure that\n * can house charts and values.\n *\n * @class GridLayout\n */\nexport default class GridLayout extends GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} matrices Set of upto 9 matrices containing the cells to be rendered\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config external configurations.\n     * @memberof GenericLayout\n     */\n    constructor (matrices, mountPoint, measurement, config) {\n        super(mountPoint, measurement, config);\n        this.matrices(matrices);\n        this.config(this.constructor.defaultConfig());\n        this._layoutId = getUniqueId();\n        this._scrollInfo = { horizontal: false, vertical: false };\n    }\n\n    static defaultViewInfo () {\n        return Object.assign({}, {\n            layoutDimensions: {\n                border: this.defaultConfig().border,\n                viewHeight: [0, 0, 0],\n                viewWidth: [0, 0, 0]\n            },\n            viewMatricesInfo: {\n                columnPages: 0,\n                rowPages: 0,\n                matrices: { top: [], center: [], bottom: [] }\n            }\n        });\n    }\n\n    /**\n     * Returns initial set of measurements for the grid layout\n     *\n     * @static\n     * @return {Object} Returns initial set of measurements\n     * @memberof GridLayout\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENTS;\n    }\n\n    /**\n     * Returns initialconfiguration for grid layout\n     *\n     * @static\n     * @return {Object} Returns initial configuration for grid layout\n     * @memberof GridLayout\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIGURATION;\n    }\n\n    /**\n     * This function is used to return an instance of GridLayout\n     *\n     * @return {GridLayout} Instance of grid layout.\n     * @static\n     * @memberof GridLayout\n     */\n    static create () {\n        return new GridLayout(null, null, this.defaultMeasurement(), this.defaultConfig());\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     *\n     * @param {Array} matrices Set of matrices\n     * @return {Object} Getter/Setter\n     * @memberof GridLayout\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = generateVisualMatrices(this, matrices);\n            return this;\n        }\n        return super.matrices(matrices);\n    }\n\n    /**\n     * Triggers the computations for the layout based on the matrices available\n     * This causes a reflow in the entire layout system.\n     *\n     * @return {Object} Layout instance\n     * @memberof GridLayout\n     */\n    triggerReflow () {\n        this.scrollInfo({ horizontal: false, vertical: false });\n        const {\n            maxHeightAvailableForRowMatrix,\n            maxWidthAvailableForColumnMatrix\n        } = computeLayoutMeasurements(this);\n\n        this.setViewInformation(maxHeightAvailableForRowMatrix, maxWidthAvailableForColumnMatrix);\n        return this;\n    }\n\n    gotoPage (type, pageNumber) {\n        const pageType = type.toLowerCase();\n        const { viewMatricesInfo } = this.viewInfo();\n        const totalPages = viewMatricesInfo[`${pageType}Pages`];\n        const pointer = Math.min(Math.max(1, pageNumber), totalPages);\n        this.config({\n            [`${pageType}Pointer`]: pointer - 1\n        });\n        this.setViewInformation();\n        this.renderGrid();\n        return this;\n    }\n\n    pages (type) {\n        const { viewMatricesInfo } = this.viewInfo();\n        const pageType = type.toLowerCase();\n        return {\n            totalPages: viewMatricesInfo[`${pageType}Pages`],\n            currentPage: this.config()[`${pageType}Pointer`] + 1\n        };\n    }\n\n    viewInfo (...viewInfo) {\n        if (viewInfo.length) {\n            this._viewInfo = viewInfo[0];\n            return this;\n        }\n        return this._viewInfo;\n    }\n\n    scrollInfo (...scrollInfo) {\n        if (scrollInfo.length) {\n            this._scrollInfo = mergeRecursive(this._scrollInfo, scrollInfo[0]);\n            return this;\n        }\n        return this._scrollInfo;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof GridLayout\n     */\n    setViewInformation (maxRowHeight, maxColWidth) {\n        const {\n            rowPointer,\n            columnPointer,\n            border\n        } = this.config();\n        const viewMatricesInfo = getViewMatrices(this, rowPointer, columnPointer);\n        const layoutDimensions = getViewMeasurements(this, maxRowHeight, maxColWidth);\n        layoutDimensions.border = border;\n        this.viewInfo({\n            viewMatricesInfo,\n            layoutDimensions\n        });\n        return this;\n    }\n}\n","import { selectElement } from 'muze-utils';\nimport {\n     TOP, BOTTOM, ROW_SPAN, COL_SPAN, CENTER, ROW, COLUMN\n} from '../enums/constants';\n\nconst orderMaker = arr => Array.from(Array(arr.length).keys());\n\nconst nestByStack = (stack, updateArr, optionalParams = {}) => {\n    let {\n        order,\n        keyFn\n    } = optionalParams;\n    const arr = updateArr.slice();\n    const currStack = stack.slice();\n    const prevStack = currStack.slice();\n    // Order in which element are to be checked for nesting, default normal looping\n    // Order is always in the order of nest, i.e., left to right\n    order = order || Array.from(Array(arr.length).keys());\n\n    // Key function, if array of objects\n    keyFn = keyFn || (v => v);\n\n    // Return same array if stack is empty\n    if (currStack.length === 0) {\n        const newArr = [];\n        order.forEach((e) => {\n            newArr.push(arr[e]);\n        });\n        return { prevStack, currStack: arr, arr: newArr };\n    }\n\n    let arrVal = '';\n    let stackVal = '';\n    const newArr = [];\n\n    // Loop in order\n    for (let i = order.length - 1; i >= 0; i--) {\n        // Get current element index from the order given\n        const currElemIndex = order[i];\n\n        // Crete a hashmap for the hierarchy by joining strings of the array for both stack and input array\n        arrVal += keyFn(arr[currElemIndex]);\n        stackVal += keyFn(currStack[currElemIndex]);\n\n        // If the current value and value in stack is same, convert it to null\n        if (arrVal === stackVal) {\n            newArr[currElemIndex] = null;\n        } else {\n            stackVal = '';\n            // Loop from the current index in order to the last element in order to change the\n            // whole hierarchy\n            for (let j = i; j < order.length; j++) {\n                const newElem = order[j];\n                const arrElem = arr[newElem];\n\n                newArr[newElem] = arrElem;\n\n                // Reset stack to new stack\n                currStack[newElem] = arrElem;\n                stackVal = arrVal;\n            }\n        }\n    }\n    const returnArr = [];\n    order.forEach((e) => {\n        returnArr.push(newArr[e]);\n    });\n    return { prevStack, currStack, arr: returnArr };\n};\n\nconst spanCalculator = (colData, colIdx, matrix, rIdx) => {\n    // if data is not header cell then rowspan\n    // has to be 1\n    if (!colData) {\n        return () => null;\n    }\n\n    const conditions = {\n        row: count => matrix[rIdx + count] && matrix[rIdx + count][colIdx],\n        column: count => matrix[rIdx][colIdx + count]\n    };\n\n    return (type) => {\n        let count = 1;\n        let isNull = false;\n\n        while (!isNull) {\n            if (conditions[type](count) === null) {\n                count += 1;\n            } else {\n                isNull = true;\n            }\n        }\n        return count;\n    };\n};\n\nconst maskCreator = (matrix, order) => ({\n    row: () => {\n        let stack = [];\n        return matrix.map((e) => {\n            const {\n                    currStack,\n                    arr\n                } = nestByStack(stack, e, { keyFn: val => val.valueOf(), order });\n\n            stack = currStack;\n            return arr;\n        });\n    },\n    column: () => {\n        let stack = [];\n        const viewMatrix = [];\n        matrix.length && matrix[0].forEach((cell, colIndex) => {\n            const hierarchy = [];\n            matrix.forEach((row) => {\n                hierarchy.push(row[colIndex]);\n            });\n            const {\n                    currStack,\n                    arr\n                } = nestByStack(stack, hierarchy, { keyFn: val => val.valueOf(), order });\n            stack = currStack;\n\n            matrix.forEach((row, rowIndex) => {\n                viewMatrix[rowIndex] = viewMatrix[rowIndex] || [];\n                viewMatrix[rowIndex][colIndex] = arr[rowIndex];\n            });\n        });\n        return viewMatrix;\n    }\n});\n\nconst spanGenerator = viewMatrix => ({\n    row: () => {\n        const spans = [];\n        viewMatrix.forEach((row, ridx) => {\n            spans[ridx] = spans[ridx] || [];\n            row.forEach((col, i) => {\n                if (viewMatrix[ridx][i]) {\n                    const currSpan = spanCalculator(col, i, viewMatrix, ridx)('row');\n                    currSpan && spans[ridx].push(currSpan);\n                }\n            });\n        });\n        return spans;\n    },\n    column: () => viewMatrix.map((row, ridx) => row.map((col, i) => spanCalculator(col, i, viewMatrix, ridx)('column'))\n                    .filter(col => col !== null))\n});\n\nconst getOrder = () => ({\n    row: matrix => orderMaker(matrix[0]),\n    column: matrix => orderMaker(matrix)\n});\n\nconst matrixSpanGeneratorMap = {\n    [`${TOP}-1`]: {\n        orderGetter: getOrder()[COLUMN],\n        viewMatrixMaker: (...params) => maskCreator(...params)[COLUMN],\n        spanMaker: (...params) => spanGenerator(...params)[COLUMN]\n    },\n    [`${BOTTOM}-1`]: {\n        orderGetter: getOrder()[COLUMN],\n        viewMatrixMaker: (...params) => maskCreator(...params)[COLUMN],\n        spanMaker: (...params) => spanGenerator(...params)[COLUMN]\n    },\n    [`${CENTER}-0`]: {\n        orderGetter: getOrder()[ROW],\n        viewMatrixMaker: (...params) => maskCreator(...params)[ROW],\n        spanMaker: (...params) => spanGenerator(...params)[ROW]\n    },\n    [`${CENTER}-2`]: {\n        orderGetter: getOrder()[ROW],\n        viewMatrixMaker: (...params) => maskCreator(...params)[ROW],\n        spanMaker: (...params) => spanGenerator(...params)[ROW]\n    }\n};\n\nconst matrixSpanGenerator = (type) => {\n    const generator = matrixSpanGeneratorMap[type];\n    if (generator) {\n        return generator;\n    }\n    return {\n        orderGetter: () => null,\n        viewMatrixMaker: matrix => () => matrix,\n        spanMaker: () => () => null\n    };\n};\n\n/**\n * This function is used to set the col and row spans\n * for the matrices based on repeated/hierarchichal data\n *\n * @export\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {string} type Type of array (center, top, bottom)\n * @param {number} index Index of array in the row\n * @return {Object} containing the view matrix and their spans\n */\nexport function cellSpanMaker (matrix, type, index) {\n    let spans = null;\n    let viewMatrix = matrix;\n    const {\n        orderGetter,\n        viewMatrixMaker,\n        spanMaker\n    } = matrixSpanGenerator(`${type}-${index}`);\n\n    if (matrix.length) {\n        const order = orderGetter(matrix);\n        viewMatrix = viewMatrixMaker(matrix, order)();\n        spans = spanMaker(viewMatrix)();\n    }\n    return { viewMatrix, spans };\n}\n\nconst spaceAllocationDueToSpan = (span = 1, placeholder, config, index) => {\n    const height = placeholder.availHeight();\n    const width = placeholder.availWidth();\n    const borderWidth = config.border.width;\n    const { unitWidths } = config.dimensions;\n    const { col } = index;\n\n    return {\n        [ROW_SPAN] () {\n            placeholder.setAvailableSpace(width, height * span);\n            if (span === 1) {\n                selectElement(this).style('height', `${height * span + borderWidth}px`);\n            }\n        },\n        [COL_SPAN] () {\n            const primaryUnitWidth = unitWidths.primary[col];\n            if (span > 1) {\n                let cumulativeWidth = 0;\n                for (let i = col; i < col + span; i++) {\n                    cumulativeWidth += unitWidths.primary[i] - borderWidth;\n                }\n                placeholder.setAvailableSpace(cumulativeWidth + borderWidth, height);\n            } else if (primaryUnitWidth) {\n                placeholder.setAvailableSpace(primaryUnitWidth - borderWidth, height);\n            }\n            selectElement(this).style('height', `${height}px`);\n        }\n    };\n};\n\nconst spanApplier = (cells, spans, config, type) => {\n    let cellCounter = 0;\n    cells.attr(type, function (cell, colIndex) {\n        if (colIndex === 0) {\n            cellCounter = 0;\n        }\n        const span = spans[cell.rowIndex][colIndex];\n        const placeholder = cell.placeholder;\n        const index = {\n            row: cell.rowIndex,\n            col: cellCounter\n        };\n\n        spaceAllocationDueToSpan(span, placeholder, config, index)[type].bind(this)();\n        cellCounter += span;\n        return span;\n    });\n};\n\nconst spanApplierMap = {\n    [`${TOP}-0`]: null,\n    [`${TOP}-1`]: (...params) => spanApplier(...params, COL_SPAN),\n    [`${TOP}-2`]: null,\n    [`${CENTER}-0`]: (...params) => spanApplier(...params, ROW_SPAN),\n    [`${CENTER}-1`]: null,\n    [`${CENTER}-2`]: (...params) => spanApplier(...params, ROW_SPAN),\n    [`${BOTTOM}-0`]: null,\n    [`${BOTTOM}-1`]: (...params) => spanApplier(...params, COL_SPAN),\n    [`${BOTTOM}-2`]: null\n};\n\nexport const applySpans = (cells, spans, config, type) => {\n    const applier = spanApplierMap[type];\n    if (applier) {\n        applier(cells, spans, config);\n    }\n};\n","/**\n * Gets view matrices based on current pointers for row and column\n *\n * @param {Object} layout instance of layout\n * @param {number} rowPointer current row pointer\n * @param {number} columnPointer current column pointer\n * @return {Object} returns the view matrix and its relevant information\n */\nexport const getViewMatrices = (layout, rowPointer, columnPointer) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const centerMatrix = layout.centerMatrix();\n    const matrices = layout.matrices();\n    const rowMatrices = rowMatrix.getViewableMatrices();\n    const columnMatrices = columnMatrix.getViewableMatrices();\n    const centralMatrixPointer = {\n        row: 0,\n        column: 0\n    };\n\n    for (let i = rowPointer - 1; i >= 0; i--) {\n        const length = Math.max(rowMatrices[i].primaryMatrix.length,\n            rowMatrices[i].secondaryMatrix.length);\n        centralMatrixPointer.row += length;\n    }\n     /* istanbul ignore next */\n    for (let i = columnPointer - 1; i >= 0; i--) {\n        const matrix = columnMatrices[i];\n        const { primaryMatrix, secondaryMatrix } = matrix;\n        const length = Math.max(primaryMatrix[0] ? primaryMatrix[0].length : 0,\n            secondaryMatrix[0] ? secondaryMatrix[0].length : 0);\n        centralMatrixPointer.column += length;\n    }\n\n    matrices.top[1] = columnMatrices[columnPointer].primaryMatrix;\n    matrices.bottom[1] = columnMatrices[columnPointer].secondaryMatrix;\n\n    matrices.center[0] = rowMatrices[rowPointer].primaryMatrix;\n    matrices.center[2] = rowMatrices[rowPointer].secondaryMatrix;\n\n    const rowMatrixLen = Math.max(matrices.center[0].length, matrices.center[2].length);\n     /* istanbul ignore next */\n    const columnMatrixLen = Math.max(matrices.top[1][0] ? matrices.top[1][0].length : 0, matrices.bottom[1][0] ?\n            matrices.bottom[1][0].length : 0);\n    matrices.center[1] = centerMatrix.slice(centralMatrixPointer.row, centralMatrixPointer.row + rowMatrixLen)\n        .map(matrix => matrix.slice(centralMatrixPointer.column, centralMatrixPointer.column + columnMatrixLen));\n\n    return {\n        matrices,\n        rowPages: rowMatrices.length,\n        columnPages: columnMatrices.length\n    };\n};\n\nconst measureSum = measureArr => measureArr.reduce((total, measure) => total + measure, 0);\n/**\n * Returns measurements of the cells of the current matrix\n *\n * @param {Object} layout instance of layout\n * @return {Object} returns the measurements for current view matrix\n */\nexport const getViewMeasurements = (layout, maxRowHeight, maxColWidth) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const {\n        columnPointer,\n        rowPointer\n    } = layout.config();\n\n    const rowSpaces = rowMatrix.getViewableSpaces()[rowPointer];\n    const colSpaces = columnMatrix.getViewableSpaces()[columnPointer];\n\n    const {\n        rowHeights,\n        width: rowMatrixWidth\n    } = rowSpaces;\n    const {\n        columnWidths,\n        height: columnMatrixHeight\n    } = colSpaces;\n\n    const { primary: leftWidth, secondary: rightWidth } = rowMatrixWidth;\n    const { primary: topHeight, secondary: bottomHeight } = columnMatrixHeight;\n\n    const centerHeight = measureSum(rowHeights.primary);\n    const centerWidth = measureSum(columnWidths.primary);\n    const viewWidth = [leftWidth, Math.min(centerWidth, maxColWidth), rightWidth];\n    const viewHeight = [topHeight, Math.min(centerHeight, maxRowHeight), bottomHeight];\n\n    return {\n        viewWidth,\n        viewHeight,\n        actualCenterMeasures: {\n            height: centerHeight,\n            width: centerWidth\n        },\n        totalMeasures: {\n            width: measureSum(viewWidth),\n            height: measureSum(viewHeight)\n        },\n        unitHeights: rowHeights,\n        unitWidths: columnWidths\n    };\n};\n","/**\n * This file is used to export all the public classes in this module.\n * @module Layout\n */\n\nexport {\n    GridLayout,\n    cellSpanMaker,\n    applySpans,\n    applyBorders\n} from './grid-layout';\n","import { DEFAULT_CONFIG } from '../../../../muze/src/defaults';\n\nconst DEFAULT_WIDTH = 600;\nconst DEFAULT_HEIGHT = 400;\nconst DEFAULT_CLASS_NAME = `${DEFAULT_CONFIG.classPrefix}-layout-container-component`;\nconst NODE_PREFIX = `${DEFAULT_CONFIG.classPrefix}-layout-container`;\n\nexport {\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT,\n  DEFAULT_CLASS_NAME,\n  NODE_PREFIX\n};\n","import { getnodePoints } from './helper';\n\nexport class DataParser {\n    constructor (data) {\n        this._data = data;\n    }\n\n    defaultDataPointLogic () {\n        const nodepoints = [];\n        getnodePoints(this._data, nodepoints);\n        return nodepoints;\n    }\n\n}\n","import { DEFAULT_CLASS_NAME } from '../constants/defaults';\nimport { LayoutComponent } from '../layout-component';\n\nexport default class DataPoint {\n    constructor (node) {\n        this._node = node;\n        this._className = node.model().host() instanceof LayoutComponent ?\n                            node.model().host().className() : DEFAULT_CLASS_NAME;\n    }\n\n    node () {\n        return this._node;\n    }\n\n    hasHost () {\n        return this._node.model().host() instanceof LayoutComponent;\n    }\n\n    className () {\n        return this._className || DEFAULT_CLASS_NAME;\n    }\n}\n","import DataPoint from './data-point';\n\nexport const getnodePoints = (node, nodepoints) => {\n    const datapoint = new DataPoint(node);\n    nodepoints.push(datapoint);\n    node.children().forEach((child) => {\n        getnodePoints(child, nodepoints);\n    });\n};\n","import { DataParser } from './data-parser';\n\nexport class HTMLDataAdapter extends DataParser {\n    getCoordinates () {\n        return super.defaultDataPointLogic();\n    }\n}\n","import { selectElement } from 'muze-utils';\nimport { HTMLRenderer } from '../renderers/html-renderer';\nimport { LayoutComponent } from '../layout-component';\n\nexport const getChildNode = (context, config) =>\n    context.renderer().createAndPositionDiv(config);\n\nexport const findNode = (context, nodeID) =>\n    context.renderer().coordinates().find(point => point.node().id() === nodeID);\n\nexport const renderHTML = (context) => {\n    context.renderer(new HTMLRenderer(context.data()));\n    context.renderer().createhtml(context.mount(), context.className());\n};\n\nexport const drawLayout = context => renderHTML(context);\n\nexport const drawComponent = (componentData) => {\n    componentData.children().forEach((node) => {\n        const host = node.model().host();\n        if (host instanceof LayoutComponent) {\n            host.draw();\n        }\n        drawComponent(node);\n    });\n};\n\nexport const removeElement = (elemID) => {\n    if (elemID) {\n        selectElement(`#${elemID}`).remove();\n    }\n};\n\nconst setAlignConfig = (alignment, params) => {\n    let newNodeConfig = {};\n    const { node, refNode } = params;\n    switch (alignment) {\n    case 'left':\n        newNodeConfig = {\n            top: node.top,\n            left: refNode.left,\n            height: node.height,\n            width: Math.abs(node.width - Math.abs(refNode.left - node.left))\n        };\n        break;\n\n    case 'right':\n        newNodeConfig = {\n            top: node.top,\n            left: node.left,\n            height: node.height,\n            width: Math.abs(node.width - Math.abs(node.left + node.width - (refNode.left + refNode.width)))\n        };\n        break;\n\n    case 'top':\n        newNodeConfig = {\n            top: refNode.top,\n            left: node.left,\n            height: Math.abs(node.height - Math.abs(refNode.top - node.top)),\n            width: node.width\n        };\n        break;\n\n    case 'bottom':\n        newNodeConfig = {\n            top: node.top,\n            left: node.left,\n            height: Math.abs(node.top - refNode.top + refNode.height),\n            width: node.width\n        };\n        break;\n\n    case 'h-center':\n        newNodeConfig = {\n            top: node.top,\n            left: refNode.left,\n            height: node.height,\n            width: refNode.width\n        };\n        break;\n\n    case 'v-center':\n        newNodeConfig = {\n            top: refNode.top,\n            left: node.left,\n            height: refNode.top,\n            width: node.width\n        };\n        break;\n    default:\n        break;\n    }\n    return newNodeConfig;\n};\n\nexport const resolveAligment = (context, componentData) => {\n    componentData.children().forEach((component) => {\n        const host = component.model().host();\n\n        if (host instanceof LayoutComponent && host.alignWith()) {\n            const componentToAlign = context.componentMap().get(host.alignWith());\n\n            if (componentToAlign) {\n                const point = findNode(context, component.id()).node();\n                const node = point.boundBox();\n                const refNode = findNode(context, componentToAlign.renderAt())\n                    .node()\n                    .boundBox();\n                const newNodeConfig = setAlignConfig(host.alignment(), { node, refNode });\n\n                // check if model in parent component\n                Object.assign(newNodeConfig, { id: point.id(), className: host.className() });\n                context.renderer().createAndPositionDiv(newNodeConfig);\n                context.componentMap().get(host.name()).setSpatialConfig({\n                    x: newNodeConfig.left,\n                    y: newNodeConfig.top,\n                    height: newNodeConfig.height,\n                    width: newNodeConfig.width\n\n                });\n            }\n        }\n\n        resolveAligment(context, component);\n    });\n};\n","import { Utils } from '../utils';\nimport { drawLayout, resolveAligment, drawComponent } from './helper';\n\nexport class DrawingManager {\n    constructor (data, renderer, container) {\n        this._data = data.tree;\n        this._componentMap = data.componentMap;\n        this._layoutClassName = data.layoutClassName;\n        this._renderer = renderer;\n        this._mount = Utils.isDOMElement(container) ? container : Utils.getElement(container);\n    }\n\n    draw () {\n        drawLayout(this);\n        resolveAligment(this, this._data);\n        drawComponent(this._data);\n        return this;\n    }\n\n    data (data) {\n        if (data) {\n            this._data = data;\n        }\n        return this._data;\n    }\n\n    componentMap (param) {\n        if (param) {\n            this._componentMap = param;\n        }\n        return this._componentMap;\n    }\n\n    className (param) {\n        if (param) {\n            this._layoutClassName = param;\n        }\n        return this._layoutClassName;\n    }\n\n    renderer (param) {\n        if (param) {\n            this._renderer = param;\n        }\n        return this._renderer;\n    }\n\n    mount (param) {\n        if (param) {\n            this._mount = param;\n        }\n        return this._mount;\n    }\n}\n","import { DummyComponent, LayoutComponent } from './layout-component';\nimport LayoutManager from './layout-manager/';\n\nexport { LayoutManager, DummyComponent, LayoutComponent };\n","import LayoutComponent from './layoutComponent';\n\nclass DummyComponent extends LayoutComponent {\n    getLogicalSpace () {\n        return {\n            width: this.boundBox().width,\n            height: this.boundBox().height\n        };\n    }\n\n    setSpatialConfig (conf) {\n        this.boundBox({ top: conf.y, left: conf.x });\n        this.newDimensions = {\n            width: conf.width,\n            height: conf.height\n        };\n        this.renderAt(conf.renderAt);\n        return this;\n    }\n\n    draw () {\n        if (!this.component) {\n            throw new Error(`Component not set for ${this.componentName}`);\n        }\n        this.component.mount(document.getElementById(this.renderAt)); // Change the draw method to component draw\n        return this;\n    }\n}\n\nexport default DummyComponent;\n","import DummyComponent from './dummy-component';\nimport LayoutComponent from './layoutComponent';\n\nexport { DummyComponent, LayoutComponent };\n","export default class LayoutComponent {\n    constructor (name, dimensions, seed) {\n        this._seed = seed;\n        this._boundBox = {\n            height: dimensions.height,\n            width: dimensions.width,\n            top: null,\n            left: null\n        };\n        this._renderAt = null;\n        this._alignWith = null;\n        this._alignment = null;\n        this._target = null;\n        this._position = null;\n        this._componentName = name;\n        this._className = null;\n    }\n\n    getLogicalSpace () {\n        throw new Error('getLogicalSpace is not defined');\n    }\n\n    setSpatialConfig () {\n        throw new Error('setSpatialSpace is not defined');\n    }\n\n    name (param) {\n        if (param) {\n            this._componentName = param;\n        }\n        return this._componentName;\n    }\n\n    target (param) {\n        if (param) {\n            this._target = param;\n        }\n        return this._target;\n    }\n\n    position (param) {\n        if (param) {\n            this._position = param;\n        }\n        return this._position;\n    }\n\n    alignment (param) {\n        if (param) {\n            this._alignment = param;\n        }\n        return this._alignment;\n    }\n\n    alignWith (param) {\n        if (param) {\n            this._alignWith = param;\n        }\n        return this._alignWith;\n    }\n\n    renderAt (param) {\n        if (param) {\n            this._renderAt = param;\n        }\n        return this._renderAt;\n    }\n\n    boundBox (param) {\n        if (param) {\n            Object.assign(this._boundBox, param);\n        }\n        return this._boundBox;\n    }\n\n    className (param) {\n        if (param) {\n            this._className = param;\n        }\n        return this._className;\n    }\n\n    draw () {\n        throw new Error('draw is not defined');\n    }\n\n    attachListener () {\n        return this;\n    }\n  }\n\n","export default class DefinitionModel {\n    constructor (config) {\n        this._host = config.host || null;\n        this._cut = config.cut || null;\n        this._ratioWeight = config.ratioWeight === 0 ? 0 : config.ratioWeight || 1;\n        this._preferred = config.preferred || false;\n        this._lanes = config.lanes || [];\n        this._remainingHeight = 0;\n        this._remainingWidth = 0;\n    }\n\n    host (host) {\n        if (host) {\n            this._host = host;\n        }\n        return this._host;\n    }\n\n    preferred (preferred) {\n        if (preferred) {\n            this._preferred = preferred;\n        }\n        return this._preferred;\n    }\n\n    cut (cut) {\n        if (cut) {\n            this._cut = cut;\n        }\n        return this._cut;\n    }\n\n    ratioWeight (ratioWeight) {\n        if (ratioWeight) {\n            this._ratioWeight = ratioWeight;\n        }\n        return this._ratioWeight;\n    }\n\n    lanes (lanes) {\n        if (lanes) {\n            this._lanes = lanes;\n        }\n        return this._lanes;\n    }\n\n    remainingHeight (remainingHeight) {\n        if (remainingHeight) {\n            this._remainingHeight = remainingHeight;\n        }\n        return this._remainingHeight;\n    }\n\n    remainingWidth (remainingWidth) {\n        if (remainingWidth) {\n            this._remainingWidth = remainingWidth;\n        }\n        return this._remainingWidth;\n    }\n}\n","import DefinitionModel from './definitionModel';\nimport { prepareTargetComponentMap, getComponent, placeComponent, placeGridComponent } from '../helper';\n\nexport default class DefinitionManager {\n    constructor (componentMap, sequence, totalHeight, totalWidth) {\n        this._componentMap = componentMap;\n        this._prioritySequence = sequence;\n        this._totalHeight = totalHeight;\n        this._totalWidth = totalWidth;\n        this._targetComponentMap = null;\n    }\n\n    // create the config model\n    generateConfigModel () {\n        prepareTargetComponentMap(this);\n        const canvasComponent = this._targetComponentMap.get('canvas');\n        const definitionModel = new DefinitionModel({});\n        let tempDefModel = definitionModel;\n        definitionModel.remainingHeight(this._totalHeight);\n        definitionModel.remainingWidth(this._totalWidth);\n\n        let componentRef = null;\n\n        this._prioritySequence.forEach((name) => {\n            componentRef = getComponent(canvasComponent, name);\n            if (name !== 'grid') {\n                tempDefModel = placeComponent(tempDefModel, componentRef).second;\n            } else {\n                tempDefModel = placeGridComponent(tempDefModel, componentRef.component);\n            }\n        });\n        return definitionModel;\n    }\n\n    componentMap (param) {\n        if (param) {\n            this._componentMap = param;\n        }\n        return this._componentMap;\n    }\n\n    targetComponentMap (param) {\n        if (param) {\n            this._targetComponentMap = param;\n        }\n        return this._targetComponentMap;\n    }\n}\n","import { NODE_PREFIX } from '../../constants/defaults';\nimport DefinitionModel from '../definition-manager/definitionModel';\nimport DummyComponent from '../../layout-component/dummy-component';\n/**\n * Compares two strings in lowercase\n *\n * @export\n * @param {string} value the value to be compared\n * @param {string} compareTo whom the value would be compared\n * @return {boolean} true if values are equal\n */\nexport function isEqual (value, compareTo) {\n    if (typeof value !== 'string' || typeof compareTo !== 'string') {\n        throw new TypeError('value and compareTo must be string');\n    }\n    return value.toLowerCase() === compareTo.toLowerCase();\n}\n\nexport const getNodeId = (() => {\n    let _uid = 0;\n    return () => `${NODE_PREFIX}-${++_uid}`;\n})();\n\nexport function yExtraSpace (node) {\n    let smallestHeight = 0;\n    if (node.getCutType() === 'v') {\n        smallestHeight = smallestExtraHeightHorizontally(node); // eslint-disable-line no-use-before-define\n    } else if (node.getCutType() === 'h') {\n        node.children().forEach((child) => {\n            smallestHeight += yExtraSpace(child);\n        });\n    } else if (node.model().host() && node.model().host().getLogicalSpace) {\n        const containerHeight = node.boundBox().height;\n        const hostHeight = node.model().host().getLogicalSpace().height;\n\n        smallestHeight = containerHeight - hostHeight;\n        if (smallestHeight < 0) {\n            smallestHeight = 0;\n        }\n    } else {\n        smallestHeight = 0;\n    }\n    return smallestHeight;\n}\n\nexport function smallestExtraHeightHorizontally (node) {\n    let smallestHeight = Number.MAX_SAFE_INTEGER;\n    node.children().forEach((child) => {\n        const h = yExtraSpace(child);\n        if (h < smallestHeight) {\n            smallestHeight = h;\n        }\n    });\n    return smallestHeight;\n}\n\nexport function xExtraSpace (node) {\n    let smallestWidth = 0;\n    if (node.getCutType() === 'h') {\n        smallestWidth = smallestExtraWidthVertically(node); // eslint-disable-line no-use-before-define\n    } else if (node.getCutType() === 'v') {\n        node.children().forEach((child) => {\n            smallestWidth += xExtraSpace(child);\n        });\n    } else if (node.model().host() && node.model().host().getLogicalSpace) {\n        const containerWidth = node.boundBox().width;\n        const hostWidth = node.model().host().getLogicalSpace().width;\n        smallestWidth = containerWidth - hostWidth;\n        if (smallestWidth < 0) {\n            smallestWidth = 0;\n        }\n    } else {\n        smallestWidth = 0;\n    }\n    return smallestWidth;\n}\n\nexport function smallestExtraWidthVertically (node) {\n    let smallestWidth = Number.MAX_SAFE_INTEGER;\n    node.children().forEach((child) => {\n        const w = xExtraSpace(child);\n        if (w < smallestWidth) {\n            smallestWidth = w;\n        }\n    });\n    return smallestWidth;\n}\n\nexport function determineBoundBox (bb, i, arr, instance) {\n    if (i) {\n    // if not first sibling, take boundbox from previous sibling\n        const lastSibling = arr[i - 1];\n        const { top: _top, left: _left, height: _height, width: _width } = lastSibling.boundBox();\n        return {\n            width: bb.width,\n            height: bb.height,\n\n            top: instance.parentCut() === 'h'\n        ? _top + _height : _top,\n\n            left: instance.parentCut() === 'h'\n        ? _left : _left + _width\n        };\n    }\n  // if first sibling, take boundbox from parent\n    const { top: _top, left: _left } = instance.parent().boundBox();\n    return {\n        width: bb.width,\n        height: bb.height,\n        top: _top,\n        left: _left\n    };\n}\n\n// prepares the targetComponent Map for target Mapping ie. where a component should lie\nexport function prepareTargetComponentMap (context) {\n    context.targetComponentMap(new Map());\n    context.componentMap().forEach((value) => {\n        if (context.targetComponentMap().has(value.target())) {\n            context.targetComponentMap().get(value.target()).push(value);\n        } else {\n            const temp = [];\n            temp.push(value);\n            context.targetComponentMap().set(value.target(), temp);\n        }\n    });\n}\n\nexport function getComponent (canvasComponent, componentName) {\n    const comp = canvasComponent.find(component => component.name() === componentName);\n    return (comp && comp !== -1) ? comp : null;\n}\nexport function createPlaceHolderComponent (height, width, position) {\n    const comp = new DummyComponent(0, { height, width });\n    comp.name('placeHolder');\n    comp.position(position);\n    return comp;\n}\n\nexport function placeComponent (definitionModel, component, isPreferred = false, isGridComponent = false) {\n    let cut = '';\n    let componentRatioWidth = 1;\n    let leftOvercomponentRationWidth = 1;\n    let leftHeight = 0;\n    let leftWidth = 0;\n\n    if (!component) {\n        return { first: definitionModel, second: definitionModel };\n    }\n\n    const { height: componentHeight, width: componentWidth } = component.getLogicalSpace();\n    const position = component.position();\n    if (position === 'top' || position === 'bottom') {\n        cut = 'h';\n        componentRatioWidth = componentHeight / definitionModel.remainingHeight();\n        leftHeight = definitionModel.remainingHeight() - componentHeight;\n        leftWidth = definitionModel.remainingWidth();\n    } else {\n        cut = 'v';\n        componentRatioWidth = componentWidth / definitionModel.remainingWidth();\n        leftWidth = definitionModel.remainingWidth() - componentWidth;\n        leftHeight = definitionModel.remainingHeight();\n    }\n    leftOvercomponentRationWidth = 1 - componentRatioWidth;\n\n// update parentModel\n    definitionModel.cut(cut);\n    const firstLaneConfig = {\n        host: component.name(),\n        cut: null,\n        ratioWeight: componentRatioWidth,\n        preferred: isGridComponent ? false : isPreferred,\n        lanes: []\n    };\n    const firstLane = new DefinitionModel(firstLaneConfig);\n    firstLane.remainingHeight(componentHeight);\n    firstLane.remainingWidth(componentWidth);\n\n    const secondLaneConfig = {\n        host: null,\n        cut: null,\n        ratioWeight: leftOvercomponentRationWidth,\n        preferred: isGridComponent ? false : !isPreferred,\n        lanes: []\n    };\n    const secondLane = new DefinitionModel(secondLaneConfig);\n    secondLane.remainingHeight(leftHeight);\n    secondLane.remainingWidth(leftWidth);\n    if (isPreferred) {\n        definitionModel.lanes([firstLane]);\n    } else if (position === 'top' || position === 'left') {\n        definitionModel.lanes([firstLane, secondLane]);\n    } else {\n        definitionModel.lanes([secondLane, firstLane]);\n    }\n    return { first: firstLane, second: secondLane };\n}\n\nexport function placeGridComponent (definitionModel, gridComponents) {\n    let tempDefModel = definitionModel;\n    const rows = gridComponents.length;\n    const column = rows ? gridComponents[0].length : 0;\n    const height = gridComponents.reduce((acc, val) => (acc + val[0].getLogicalSpace().height), 0);\n\n    for (let i = 0; i < column; i++) {\n        const iscolumnPreffered = i === column - 1;\n        const columnPlaceHolderComponent = createPlaceHolderComponent(height,\n                                                    gridComponents[0][i].getLogicalSpace().width, 'left');\n        const { first, second } = placeComponent(tempDefModel, columnPlaceHolderComponent, iscolumnPreffered);\n        tempDefModel = first;\n        for (let j = 0; j < rows; j++) {\n            const rowpreffred = j === (rows - 1);\n            tempDefModel = placeComponent(tempDefModel, gridComponents[j][i], rowpreffred, true).second;\n        }\n        tempDefModel = second;\n    }\n    return tempDefModel;\n}\n\nexport function negotiateDimension (node) {\n    let preferred;\n    let cumultiveExtraSpaceAmt = 0;\n    let alteredDim;\n    let nonAlteredDim;\n\n    const childrenLength = node.children().length;\n\n    for (let index = 0; index < childrenLength; index++) {\n        let fn;\n        let extraSpaceAmt;\n        const child = node.children()[index];\n\n        if (child.parentCut() === 'h') {\n            fn = yExtraSpace;\n            alteredDim = 'height';\n            nonAlteredDim = 'width';\n        } else {\n            fn = xExtraSpace;\n            alteredDim = 'width';\n            nonAlteredDim = 'height';\n        }\n  // if vertical then get extra height from other node and push it to the preferred node.\n  // for horizontal cut the same thing is to be done with width\n        if (child.isPreferred()) {\n    // push extra space in sink. Execute it when all non preferred space are computed.\n            preferred = child;\n\n            continue; // eslint-disable-line no-continue\n        }\n  // reduce own height and save it in a var\n        cumultiveExtraSpaceAmt += (extraSpaceAmt = fn(child));\n        child.boundBox()[alteredDim] -= extraSpaceAmt;\n  // update nonaltered dim from parent for any change which happened during negotiation\n        child.boundBox()[nonAlteredDim] = child.parent().boundBox()[nonAlteredDim];\n\n        negotiateDimension(child);\n    }\n\n    if (preferred) {\n        preferred.boundBox()[alteredDim] += cumultiveExtraSpaceAmt;\n        preferred.boundBox()[nonAlteredDim] = preferred.parent().boundBox()[nonAlteredDim];\n        negotiateDimension(preferred);\n    }\n}\n\nexport function computePosition (node) {\n    node.children().forEach((child, i, children) => {\n        const boundBox = determineBoundBox(child.boundBox(), i, children, child);\n        child.boundBox(boundBox);\n        computePosition(child);\n    });\n}\n\nexport function allocateBoundingBox (node) {\n    const totalWeight = node.children()\n                            .map(child => child.model().ratioWeight())\n                            .reduce((carry, val) => carry + val, 0);\n\n    node.children().forEach((child, i, children) => {\n        const lastSibling = children[i - 1];\n        const ratio = child.model().ratioWeight() / totalWeight;\n\n        if (child.parentCut() === 'h') {\n            child.boundBox({\n                top: i ? lastSibling.boundBox().top + lastSibling.boundBox().height : 0,\n                left: child.parent().boundBox().left,\n                height: child.parent().boundBox().height * ratio,\n                width: child.parent().boundBox().width\n            });\n        } else {\n            child.boundBox({\n                top: child.parent().boundBox().top,\n                left: i ? lastSibling.boundBox().left + lastSibling.boundBox().width : 0,\n                height: child.parent().boundBox().height,\n                width: child.parent().boundBox().width * ratio\n            });\n        }\n        allocateBoundingBox(child);\n    });\n}\n\n","import LayoutModel from './layout-model';\n\nexport { LayoutModel };\n","import Node from '../tree';\nimport {\n    allocateBoundingBox,\n    negotiateDimension,\n    computePosition\n} from '../helper';\n\nexport default class LayoutModel {\n    constructor (measurements, config) {\n        this._measurements = measurements;\n        this._config = config;\n        this._root = this.createTree(this._config, null);\n        this.setBoundBox();\n    }\n\n    createTree (config, parent) {\n        const node = new Node(config);\n        if (parent) {\n            node.parentCut(parent.getCutType());\n            parent.addChildren([node]);\n        } else {\n            this._root = node;\n        }\n        for (const lane of config.lanes()) {\n            this.createTree(lane, node);\n        }\n\n        return this._root;\n    }\n\n    setBoundBox () {\n        this._root.boundBox({\n            top: 0,\n            left: 0,\n            width: this._measurements.width,\n            height: this._measurements.height\n        });\n        allocateBoundingBox(this._root);\n    }\n\n    setHostPosition (node) {\n        node.children().forEach((child) => {\n            LayoutModel.setHostSpatialConfig(child);\n            this.setHostPosition(child);\n        });\n    }\n\n    static setHostSpatialConfig (node) {\n        const bb = node.boundBox();\n        const host = node.model().host();\n        if (host && host.setSpatialConfig) {\n            const conf = {\n                x: bb.left,\n                y: bb.top,\n                width: bb.width,\n                height: bb.height,\n                renderAt: node.id()\n            };\n            host.setSpatialConfig(conf);\n        }\n    }\n\n    negotiate () {\n        negotiateDimension(this._root);\n        computePosition(this._root);\n        return this;\n    }\n\n    broadcast () {\n        this.setHostPosition(this._root);\n        return this;\n    }\n\n    tree () {\n        return this._root;\n    }\n}\n","import { getNodeId } from '../helper';\nimport { LayoutComponent } from '../../layout-component';\n\nclass Node {\n    constructor (data) {\n        this._model = data;\n        this._parent = null;\n        this._children = [];\n        this._parentCut = null;\n        this._boundBox = {\n            top: null,\n            left: null,\n            height: null,\n            width: null\n        };\n\n        this._id = this._model.host() instanceof LayoutComponent && this._model.host().renderAt() ?\n                    this._model.host().renderAt() :\n                    getNodeId();\n    }\n\n    addChildren (entries) {\n        this._children.push(...entries);\n        entries.forEach((e) => { e.parent(this); });\n    }\n\n    isRoot () {\n        return this._parent === null;\n    }\n\n    isLeaf () {\n        return !this._children.length;\n    }\n\n    getCutType () {\n        return this._model.cut();\n    }\n\n    isPreferred () {\n        return !!this._model.preferred();\n    }\n\n    children (children) {\n        if (children) {\n            this._children = children;\n        }\n        return this._children;\n    }\n\n    parent (parent) {\n        if (parent) {\n            this._parent = parent;\n        }\n        return this._parent;\n    }\n\n    parentCut (parentCut) {\n        if (parentCut) {\n            this._parentCut = parentCut;\n        }\n        return this._parentCut;\n    }\n\n    id (id) {\n        if (id) {\n            this._id = id;\n        }\n        return this._id;\n    }\n\n    model (model) {\n        if (model) {\n            this._model = model;\n        }\n        return this._model;\n    }\n\n    boundBox (bound) {\n        if (bound) {\n            this._boundBox = {\n                top: bound.top,\n                left: bound.left,\n                height: bound.height,\n                width: bound.width\n            };\n        }\n        return this._boundBox;\n    }\n  /**\n     * function to search a node and update it with the config provided.\n     * @param  {Object} nodeconfig\n     */\n    updateNode (nodeconfig) {\n        if (this._id === nodeconfig._id) {\n            this._model.cut(nodeconfig.cut);\n            this._model.ratioWeight(nodeconfig.ratioWeight);\n        } else {\n            this._children.forEach((node) => {\n                if (node._id === nodeconfig._id) {\n                    node.model.cut(nodeconfig.cut);\n                    node.model.ratioWeight(nodeconfig.ratioWeight);\n                    return;\n                }\n                this.searchNode(node, nodeconfig);\n            });\n        }\n    }\n\n  // Recursive function to search a node\n    searchNode (node, nodeconfig) {\n        node.children().forEach((childNode) => {\n            if (childNode.id() === nodeconfig._id) {\n                childNode.model().cut(nodeconfig.cut);\n                childNode.model().ratioWeight(nodeconfig.ratioWeight);\n            } else {\n                this.searchNode(childNode, nodeconfig);\n            }\n        });\n    }\n\n  /**\n     * function to delete a node from tree Structure.\n     * @param  {String} nodeId - node Id of the Node\n     */\n    delete (nodeId) {\n        this._children.forEach((node) => {\n            if (node.id() === nodeId) {\n                const index = this._children.indexOf(node);\n                this._model.lanes().splice(index, 1);\n            }\n            this.deleteSearchNode(node, nodeId);\n        });\n    }\n\n  // Recursive function to search a node\n    deleteSearchNode (node, nodeId) {\n        node.children().forEach((childNode) => {\n            if (childNode.id() === nodeId) {\n                const index = node.children().indexOf(childNode);\n                node.model().lanes().splice(index, 1);\n            } else {\n                this.deleteSearchNode(childNode, nodeId);\n            }\n        });\n    }\n}\n\nexport default Node;\n","import DefinitionManager from '../layout-definition/definition-manager';\n\nexport function sanitizeConfig (context, hostObj) {\n    const hostID = hostObj.host();\n    if (hostObj.lanes() && hostObj.lanes().length) {\n        hostObj.lanes().forEach(childHost => sanitizeConfig(context, childHost));\n    }\n    if (hostID != null && typeof (hostID) === 'string') {\n        if (context.componentMap().get(hostID) !== undefined) {\n            hostObj.host(context.componentMap().get(hostID));\n        }\n    }\n}\n\nexport function calLayOutDef (context) {\n    const { height, width } = context.dimension();\n    const defManager = new DefinitionManager(context.layoutDef().componentMap(),\n                                              context.prioritySequence(),\n                                              height,\n                                              width);\n    const genLayoutdef = defManager.generateConfigModel();\n    return genLayoutdef;\n}\n","import {\n  LayoutModel\n} from '../layout-definition';\n\nimport {\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT\n} from '../constants/defaults';\n\nimport {\n   GRID\n} from '../../enums/constants';\n\nimport { DrawingManager } from '../drawing-manager';\nimport { removeElement } from '../drawing-manager/helper';\nimport { Utils } from '../utils';\nimport { LayoutDef } from './layout-def';\nimport { calLayOutDef } from './helper';\n\nexport default class LayoutManager {\n    constructor (conf) {\n        this._renderAt = conf.renderAt;\n        this._layoutClassName = conf.className;\n        this._dimension = {\n            width: conf.width || DEFAULT_WIDTH,\n            height: conf.height || DEFAULT_HEIGHT\n        };\n\n        this._skeletonType = conf.skeletonType || 'html';\n        this._layoutDefinition = null;\n        this._layoutDef = new LayoutDef();\n        this._drawingManager = null;\n        this._prioritySequence = [];\n        this.tree = null;\n        this._rootNodeID = null;\n    }\n\n    layoutDef (param) {\n        if (param) {\n            this._layoutDef = param;\n        }\n        return this._layoutDef;\n    }\n\n    prioritySequence (param) {\n        if (param) {\n            this._prioritySequence = param;\n        }\n        return this._prioritySequence;\n    }\n\n    dimension (param) {\n        if (param) {\n            Object.assign(this._dimension, param);\n        }\n        return this._dimension;\n    }\n\n    addComponent (component) {\n        this._layoutDef.addComponent(component);\n    }\n\n    addMultipleComponent (componentArray) {\n        this._layoutDef.addMultipleComponent(componentArray);\n    }\n\n    resetNode (node) {\n        if (this.con) {\n            this.con.resetNode(node);\n        }\n    }\n\n  /**\n   * function to update the node and rerender the layout.\n   * @param  {} config - node configuration to change.\n   */\n    updateNode (config) {\n        this.tree.updateNode(config);\n        this._layoutDefinition = this.tree.model;\n        this.compute();\n    }\n\n    compute () {\n        //----\n        if (Utils.isDOMElement(this._renderAt)) {\n            this._renderAt._layout = this;\n        } else {\n            document.getElementById(this._renderAt)._layout = this;\n        }\n        //-----\n        this._layoutDefinition = calLayOutDef(this);\n        this._layoutDef.layoutDefinition(this._layoutDefinition);\n        this._layoutDefinition = this._layoutDef.sanitizedDefinition();\n        this._layout = new LayoutModel({\n            width: this._dimension.width,\n            height: this._dimension.height\n        },\n            this._layoutDefinition);\n        this.tree = this._layout.negotiate().tree();\n        this._layout.broadcast();\n        this._drawingManager = new DrawingManager({\n            tree: this.tree,\n            componentMap: this._layoutDef.componentMap(),\n            layoutClassName: this._layoutClassName\n        }, this._skeletonType, this._renderAt);\n\n        if (this._rootNodeID) {\n            this.tree.id(this._rootNodeID);\n        } else {\n            this._rootNodeID = this.tree.id();\n        }\n    // this will draw all the components by calling their draw method\n        this._drawingManager.draw();\n    }\n\n    getRootNodeId () {\n        return this._rootNodeID;\n    }\n\n  /**\n  * This function takes the LayoutComponents and Register them in component store\n  * @param {Array<LayoutComponent>} layoutComponents\n  */\n    registerComponents (layoutComponents) {\n        this._prioritySequence.length = 0;\n        this._layoutDef.resetComponentMap();\n        layoutComponents.forEach((container) => {\n            if (container) {\n                this._prioritySequence.push(container.name());\n                this.addComponent(container);\n                if (container.name() === 'grid') {\n                    container.component.forEach((componentArr) => {\n                        componentArr.forEach((compo) => {\n                            this.addComponent(compo);\n                        });\n                    });\n                }\n            }\n        });\n        return this;\n    }\n\n    getComponent (componentName) {\n        return this._layoutDef.componentMap().get(componentName);\n    }\n\n    deleteElement (component, elementName) {\n        this._layoutDef.componentMap().delete(elementName);\n        const deleteElementId = component.renderAt();\n        return removeElement(deleteElementId);\n    }\n\n    removeComponent (name) {\n        const component = this.getComponent(name);\n        if (component) {\n            if (name === GRID) {\n                return component.component.map(comp => comp.map(\n                    co => this.deleteElement(co, co.name())\n                ));\n            }\n            return this.deleteElement(component, name);\n        }\n        return this;\n    }\n\n    renderAt (mount) {\n        if (mount) {\n            this._renderAt = mount;\n        }\n        return this._renderAt;\n    }\n}\n","import { sanitizeConfig } from './helper';\n\nexport class LayoutDef {\n    constructor () {\n        this._componentMap = new Map();\n        this._layoutDefinition = null;\n    }\n\n    addComponent (component) {\n        this._componentMap.set(component.name(), component);\n    }\n\n    layoutDefinition (def) {\n        if (def) {\n            this._layoutDefinition = def;\n        }\n        return this._layoutDefinition;\n    }\n\n    addMultipleComponent (componentArray) {\n        componentArray.forEach((comp) => {\n            this.addComponent(comp);\n        });\n    }\n\n    sanitizedDefinition () {\n        sanitizeConfig(this, this._layoutDefinition);\n        return this.layoutDefinition();\n    }\n\n    componentMap () {\n        return this._componentMap;\n    }\n    resetComponentMap () {\n        this._componentMap.clear();\n    }\n}\n","import { HTMLDataAdapter } from '../data-adapters/html-data';\nimport { Utils } from '../utils';\nimport { Renderer } from './renderer';\n\nexport class HTMLRenderer extends Renderer {\n    constructor (data) {\n        super();\n        this._data = data;\n        this._coordinates = new HTMLDataAdapter(this._data).getCoordinates();\n    }\n\n    createhtml (mount, className) {\n        const mainDiv = mount;\n        super.initRenderer(mainDiv, this._data); // Initialise node with layout id\n        this.parentDiv = this.createAndCustomiseParent(className);\n        this._coordinates.forEach((node) => {\n            if (node.hasHost()) {\n                const host = node.node();\n                this.parentDiv.appendChild(this.createAndPositionDiv({ ...host.boundBox(),\n                    id: host.id(),\n                    className: node.className() }));\n            }\n        });\n        mainDiv.appendChild(this.parentDiv);\n    }\n\n    createAndPositionDiv (config) {\n        const { top, left, height, width, className, id } = config;\n        const existingDiv = document.getElementById(id);\n        const div = existingDiv || document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.left = `${left}px`;\n        div.style.top = `${top}px`;\n        div.style.height = `${height}px`;\n        div.style.width = `${width}px`;\n        div.id = id;\n        div.className = className;\n        return div;\n    }\n\n    createAndCustomiseParent (className) {\n        const container = Utils.findContainer(this._coordinates);\n        const host = container.node();\n        const parentDiv = this.createAndPositionDiv({ ...host.boundBox(),\n            id: host.id(),\n            className: container.className() });\n        parentDiv.className = className;\n        parentDiv.style.position = 'relative';\n        return parentDiv;\n    }\n\n    coordinates () {\n        return this._coordinates;\n    }\n}\n","export class Renderer {\n\n    initRenderer (node, tree) {\n        node.__logicalTree = tree;\n    }\n}\n","/* eslint no-undef: \"off\" */\n/* eslint default-case: \"off\" */\nexport class Utils {\n    static isDOMElement (element) {\n        return element instanceof Element;\n    }\n\n    static getID (element) {\n        return element.id;\n    }\n\n    static getElement (id) {\n        return document.getElementById(id);\n    }\n\n    static findContainer (data) {\n        return data.filter(coordinate => coordinate.parent == null)[0];\n    }\n  /**\n   * static method to remove the div\n   * @param  {} divId - div ID to be removed.\n   */\n    static removeDiv (divId) {\n        if (document.getElementById(divId) !== null) { document.getElementById(divId).remove(); }\n    }\n}\n","/**\n * This file exports utility functions that are used across the layout module\n */\nimport { Symbols } from 'muze-utils';\nimport { PRIMARY, SECONDARY, HEIGHT, WIDTH } from '../enums/constants';\n\nconst nest = Symbols.nest;\n/**\n *\n *\n * @param {*} isTransposed\n *\n */\nconst getMeasureInfo = (isTransposed) => {\n    if (isTransposed) {\n        return {\n            firstMeasure: HEIGHT,\n            secondMeasure: WIDTH\n        };\n    }\n    return {\n        firstMeasure: WIDTH,\n        secondMeasure: HEIGHT\n    };\n};\n\n/**\n *\n *\n * @param {*} i\n * @param {*} page\n *\n */\nconst findInPage = (i, page) => {\n    let count = 0;\n    for (const x in page) {\n        if (i < page[x]) {\n            count = x;\n            break;\n        }\n    }\n    return count;\n};\n\n/**\n * Creates a single matrix from two matrices\n *\n * @param {Array<Array>} matrix Input matrix\n * @return {Array<Array>} Joined matrix\n * @memberof VisualMatrix\n */\nexport const combineMatrices = (matrix, config) => {\n    const { isTransposed } = config;\n    let joinedMatrix = matrix[0].length > 0 ? matrix[0] : matrix[1];\n    if (isTransposed) {\n        joinedMatrix = matrix[0].length > 0 ? [...matrix[0]] : [];\n        joinedMatrix = matrix[1].length > 0 ? [...joinedMatrix, ...matrix[1]] : joinedMatrix;\n    } else {\n        joinedMatrix = joinedMatrix.map((row, rowIndex) => {\n            let rowData = [];\n            if (matrix[0].length > 0) {\n                rowData = [...matrix[0][rowIndex]];\n            }\n            if (matrix[1].length > 0) {\n                rowData = [...rowData, ...matrix[1][rowIndex]];\n            }\n            return rowData;\n        });\n    }\n    return joinedMatrix;\n};\n\n/**\n * Creates a hirachical tree from the context\n *\n * @param {Object} context context for creating tree\n * @return {Object} nested tree\n */\nexport const createTree = (context) => {\n    let matrixTree = {};\n    let lastLevelKey = 0;\n    let facet = PRIMARY;\n    const nestFn = nest();\n    const keys = [];\n    const layoutMatrix = context._layoutMatrix;\n    const primaryMatrix = context.primaryMatrix();\n    const secondaryMatrix = context.secondaryMatrix();\n    const { isTransposed, breakPage } = context.config();\n\n    if (!isTransposed) {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix[0].length - 1; i++) {\n                keys.push(i);\n            }\n            keys.push(primaryMatrix[0].length - 1);\n            if (facet === SECONDARY || secondaryMatrix.length === 0) {\n                lastLevelKey = primaryMatrix[0].length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const keyLength = primaryMatrix.length > 0 ? primaryMatrix[0].length : 0;\n            for (let i = secondaryMatrix[0].length - 1; i > 0; i--) {\n                keys.push(i + keyLength);\n            }\n            keys.push(keyLength);\n\n            if (facet === PRIMARY) {\n                lastLevelKey = keyLength;\n            }\n        } else {\n            lastLevelKey = primaryMatrix.length > 0 ? primaryMatrix[0].length - 1 : 0;\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        matrixTree = nestFn.entries(layoutMatrix);\n    } else {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix.length - 1; i++) {\n                keys.push(i);\n            }\n            // if (facet === PRIMARY) {\n            keys.push(primaryMatrix.length - 1);\n            // } else {\n            if (facet === SECONDARY) {\n                lastLevelKey = primaryMatrix.length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const primaryMatrixLength = primaryMatrix.length;\n            for (let i = secondaryMatrix.length - 1; i > 0; i--) {\n                keys.push(i + primaryMatrixLength);\n            }\n            // if (facet === SECONDARY) {\n            keys.push(primaryMatrixLength);\n            // }\n            if (facet === PRIMARY) {\n                lastLevelKey = primaryMatrixLength;\n            }\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        let newMatrix = [];\n        newMatrix = layoutMatrix[0].map((col, colIndex) => layoutMatrix.map(row => row[colIndex]));\n        matrixTree = nestFn.entries(newMatrix);\n    }\n    return { tree: matrixTree, lastLevelKey };\n};\n\n/**\n * Gives the min measues\n *\n * @param {boolean} isTransposed is column matrix\n * @param {Object} unitMeasures min measures to be given to cells\n * @return {Object} dimension min cell\n */\nexport const getMinMeasures = (isTransposed, unitMeasures) => {\n    if (!isTransposed) {\n        return {\n            height: unitMeasures.height,\n            width: 0\n        };\n    }\n    return {\n        height: 0,\n        width: unitMeasures.width\n    };\n};\n\n/**\n * Get the logical space from the tree\n *\n * @param {Node} item tree to be calculated\n * @param {number} measures width and height\n * @param {Array} minMeasures min measures for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} dimension\n */\nexport const getLogicalSpace = (item, measures, minMeasures, maxMeasure = []) => {\n    const { firstMeasure, secondMeasure } = measures;\n    let firstMeasureValue = 0;\n    let secondMeasureValue = 0;\n    item.values.forEach((valueArray) => {\n        let fMeasure = 0;\n        let sMeasure = 0;\n        valueArray.forEach((placeholder, colIndex) => {\n            placeholder.setAvailableSpace();\n            const space = placeholder.getLogicalSpace();\n            const minSecondMeasure = placeholder.getMinMeasures(minMeasures[secondMeasure]);\n\n            sMeasure = Math.max(sMeasure, +space[secondMeasure], minSecondMeasure);\n            maxMeasure[colIndex] = Math.max(maxMeasure[colIndex] || 0, space[firstMeasure]);\n            fMeasure += +maxMeasure[colIndex];\n        });\n        secondMeasureValue += sMeasure;\n        firstMeasureValue = Math.max(firstMeasureValue, fMeasure);\n        item.space = {\n            [secondMeasure]: Math.ceil(secondMeasureValue),\n            [firstMeasure]: Math.ceil(firstMeasureValue)\n        };\n    });\n    return {\n        [secondMeasure]: secondMeasureValue,\n        [firstMeasure]: firstMeasureValue\n    };\n};\n\n/**\n * Computes the logical spcae taken by the matrix tree\n *\n * @param {*} [item={}] tree to be viewed\n * @param {boolean} [isTransposed=false] is column matrix\n * @param {*} unitMeasures min measues for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} logical space taken\n */\nexport const computeLogicalSpace = (item = {}, config, maxMeasures) => {\n    const { isTransposed = false, unitMeasures } = config;\n    const { firstMeasure, secondMeasure } = getMeasureInfo(isTransposed);\n    const { values } = item;\n    const minMeasures = getMinMeasures(isTransposed, unitMeasures);\n\n    if (values[0].key) {\n        const logicalSpace = { [firstMeasure]: 0, [secondMeasure]: 0 };\n\n        values.forEach((valueItem) => {\n            // Compute logical space for lowest level\n            const space = computeLogicalSpace(valueItem, config, maxMeasures);\n            // Set logical space for first measure\n            logicalSpace[firstMeasure] = Math.max(logicalSpace[firstMeasure], space[firstMeasure],\n                minMeasures[firstMeasure]);\n\n            // Set logical space for second measure\n            logicalSpace[secondMeasure] += +space[secondMeasure];\n        });\n        item.space = logicalSpace;\n        return logicalSpace;\n    }\n\n    return getLogicalSpace(item, { firstMeasure, secondMeasure }, minMeasures, maxMeasures);\n};\n\n/**\n * Gives the space taken by a row\n *\n * @param {Array} row matrix array of rows\n * @return {Object} dimension of the row\n */\nexport const spaceTakenByRow = (row) => {\n    let height = 0;\n    let width = 0;\n    row.forEach((col) => {\n        const spaces = col.getLogicalSpace();\n        height = Math.max(height, spaces.height);\n        width += spaces.width;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Gives the space taken by a column\n *\n * @param {Array<Array>} matrix column matrix\n * @param {number} colIndex column index\n * @return {Object} dimension of the column\n */\nexport const spaceTakenByColumn = (matrix, colIndex) => {\n    let height = 0;\n    let width = 0;\n    matrix.forEach((row) => {\n        const col = row[colIndex];\n        const spaces = col.getLogicalSpace();\n        width = Math.max(width, spaces.width);\n        height += spaces.height;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Creates different level matrices\n *\n * @param {Object} item matrix tree\n * @param {boolean} isTransposed is column matrix\n * @return {Object} matrix of each level\n */\nexport const createMatrixEachLevel = (item, isTransposed) => {\n    if (item.values[0].key) {\n        const arr = [];\n        item.values.forEach((child) => {\n            if (!isTransposed) {\n                arr.push(...createMatrixEachLevel(child, isTransposed));\n            } else {\n                const eachLevel = createMatrixEachLevel(child, isTransposed);\n                eachLevel.forEach((e, i) => {\n                    arr[i] = arr[i] || [];\n                    arr[i].push(...e);\n                });\n            }\n        });\n        item.matrix = arr;\n        return arr;\n    }\n    if (!isTransposed) {\n        item.matrix = item.values;\n    } else {\n        item.matrix = item.values[0].map((col, colIndex) => item.values.map(row => row[colIndex]));\n    }\n    return item.matrix;\n};\n\n/**\n * Breaks the matrix into two part\n *\n * @param {Array<Array>} matrix input matrix\n * @param {boolean} isTransposed is column matrix\n * @param {number} breakPointer point in matrix where it is to be broken\n * @return {Array} two broken matrix\n */\nexport const breakMatrix = (matrix, isTransposed, breakPointer) => {\n    const primaryMatrix = [];\n    const secondaryMatrix = [];\n    if (isTransposed) {\n        matrix.forEach((row, rowIndex) => {\n            if (rowIndex >= breakPointer) {\n                secondaryMatrix.push(row);\n            } else {\n                primaryMatrix.push(row);\n            }\n        });\n    } else {\n        matrix.forEach((row, rowIndex) => {\n            row.forEach((column, columnIndex) => {\n                if (columnIndex >= breakPointer) {\n                    secondaryMatrix[rowIndex] = secondaryMatrix[rowIndex] || [];\n                    secondaryMatrix[rowIndex].push(column);\n                } else {\n                    primaryMatrix[rowIndex] = primaryMatrix[rowIndex] || [];\n                    primaryMatrix[rowIndex].push(column);\n                }\n            });\n        });\n    }\n    return [primaryMatrix, secondaryMatrix];\n};\n\n/**\n * Distributed width returned\n *\n * @param {Object} context context for the width distibution\n * @return {number} distributed widths\n */\nexport const getDistributedWidth = (context, layoutConfig) => {\n    const {\n        availableWidth,\n        width,\n        row\n    } = context;\n    const {\n        isDistributionEqual,\n        isTransposed,\n        distribution\n    } = layoutConfig;\n    let distSum = 0;\n    if (distribution && distribution[0]) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    return row.map((col, colIndex) => {\n        const space = col.getLogicalSpace().width;\n        let distWidth = (space + (availableWidth - width) * (space / width));\n        if (isTransposed) {\n            if (distribution.length > 0) {\n                distWidth = (availableWidth * distribution[colIndex] / distSum);\n            } else if (isDistributionEqual || width === 0) {\n                const rowLen = row.length;\n                distWidth = (availableWidth / rowLen);\n            }\n        }\n        return Math.floor(distWidth);\n    });\n};\n\n/**\n * Distributeed heights returned\n *\n * @param {Object} context input for the height distribution\n * @return {Object} distribured heights\n */\nexport const getDistributedHeight = (context) => {\n    let distSum = 0;\n    let gutterSum = 0;\n    let heightWithoutGutter = 0;\n    const {\n        isTransposed,\n        distribution,\n        availableHeight,\n        height,\n        isDistributionEqual,\n        gutter,\n        matrix,\n        cIdx\n    } = context;\n\n    if (distribution && distribution[0] !== undefined) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    if (gutter && gutter[0] !== undefined) {\n        gutterSum = gutter.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    heightWithoutGutter = availableHeight - Math.floor(availableHeight * gutterSum);\n\n    const colLen = matrix.length;\n    return matrix.map((row, rIdx) => {\n        const col = row[cIdx];\n        const space = col.getLogicalSpace().height;\n        let distHeight = (space + (heightWithoutGutter - height) * (space / height));\n\n        if (!isTransposed) {\n            if (distribution.length > 0 && colLen === distribution.length) {\n                distHeight = (heightWithoutGutter * distribution[rIdx] / distSum);\n            } else if (isDistributionEqual || context.height === 0) {\n                distHeight = (heightWithoutGutter / colLen);\n            }\n        }\n        return Math.floor(distHeight);\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} beg\n * @param {*} end\n */\nexport const extraCellsRemover = (arr, beg, end) => arr.slice(beg, -end);\n\n/**\n * Creates matrix instancess\n *\n * @param {Array} [arr=[]] mutated arry\n * @param {number} depth depth of the tree\n * @param {Array} matrixInfo Details about the matrix(tree, etc) to be inserted\n * @param {boolean} layout Instance of layout\n */\nexport const createMatrixInstances = (arr = [], depth, matrixInfo, layout) => {\n    const breakPointer = layout._breakPointer;\n    const config = layout.config();\n    const {\n        isTransposed\n    } = config;\n    const {\n        tree,\n        layoutMatrix\n    } = matrixInfo;\n\n    if (depth === 0) {\n        const brokenMatrix = breakMatrix(tree.matrix, isTransposed, breakPointer);\n        arr.push({\n            matrix: tree.matrix,\n            primaryMatrix: brokenMatrix[0],\n            secondaryMatrix: brokenMatrix[1],\n            space: tree.space\n        });\n        return arr;\n    }\n    const nextLevel = depth - 1;\n    tree.values.forEach((e) => {\n        createMatrixInstances(arr, nextLevel, {\n            tree: e,\n            layoutMatrix\n        }, layout);\n    });\n    return arr;\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    extraCellsRemover,\n    getDistributedWidth,\n    spaceTakenByRow,\n    createMatrixEachLevel,\n    computeLogicalSpace\n  } from '../utils';\nimport { COLUMN_ROOT } from '../enums/constants';\nimport VisualMatrix from './visual-matrix';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class ColumnVisualMatrix extends VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        super(matrix, config);\n\n        this._breakPointer = matrix[0].length;\n\n        // Create Tree\n        this._tree = {\n            key: COLUMN_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.computeLogicalSpace();\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, true);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    computeViewableSpaces (measures) {\n        const {\n            maxHeights,\n            maxWidths,\n            height,\n            width\n        } = measures;\n\n        return this.viewableMatrix.map((matrixInst, i) => {\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i, height };\n            const {\n                heights,\n                rowHeights,\n                columnWidths\n            } = this.getCellDimensions(cellDimOptions);\n            const heightMeasures = heights;\n            const columnMeasures = [width, width];\n\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n\n        tree.matrix = tree.matrix.map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    getPriorityDistribution (measures) {\n        const {\n            height,\n            maxHeights\n        } = measures;\n        let remainingHeight = height;\n        let heightDist = [];\n        let conditions = [];\n        let divider = 2;\n        const priority = this.config().priority;\n        const primaryMatrixLength = this.primaryMatrix().length;\n\n        if (priority === 2) {\n            conditions = [primaryMatrixLength - 1, primaryMatrixLength];\n            divider = 2;\n        } else {\n            conditions = priority === 0 ? [primaryMatrixLength - 1] : [primaryMatrixLength];\n            divider = 1;\n        }\n        maxHeights.forEach((heights, index) => {\n            if (conditions.indexOf(index) === -1) {\n                heightDist[index] = heights;\n                remainingHeight -= heights;\n            }\n        });\n        if (remainingHeight < 0) {\n            heightDist = heightDist.map(() => 0);\n        } else {\n            conditions.forEach((condition) => {\n                heightDist[condition] = Math.min(maxHeights[condition], (remainingHeight) / divider);\n            });\n        }\n        return heightDist;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures) {\n        let j;\n        const { width } = this.availableSpace();\n\n        for (j = 0; j < widthMeasures.length; j++) {\n            if (widthMeasures[j] <= width) break;\n        }\n        return Math.min(widthMeasures.length - 1, j);\n    }\n\n     /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces (width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n\n        this.viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths };\n            const maxMeasures = this.redistributeViewSpaces(options);\n            maxWidths = maxMeasures.maxWidths;\n            maxHeights = maxMeasures.maxHeights;\n        });\n\n        return this.computeViewableSpaces({ height, width, maxHeights, maxWidths });\n    }\n\n    /**\n     * Distibutes the given space column wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces (measures) {\n        let rHeights = [];\n        const {\n            matrix,\n            width,\n            maxHeights,\n            maxWidths\n        } = measures;\n        const borderWidth = this.config().unitMeasures.border;\n\n        const mWidth = spaceTakenByRow(matrix[this._lastLevelKey]).width;\n        const cWidths = getDistributedWidth({\n            row: matrix[this._lastLevelKey],\n            width: mWidth,\n            availableWidth: width\n        }, this.config());\n\n        matrix.forEach((row, rIdx) => row.forEach((col, cIdx) => {\n            const oldLogicalSpace = col.getLogicalSpace();\n\n            col.setAvailableSpace(cWidths[cIdx] - borderWidth, oldLogicalSpace.height);\n\n            rHeights[rIdx] = Math.max(rHeights[rIdx] || 0, Math.floor(col.getLogicalSpace().height));\n        }));\n        if (maxHeights.length > 0) {\n            rHeights = rHeights.map((e, i) => Math.max(e, maxHeights[0][i]));\n        }\n        maxHeights.push(rHeights);\n        for (let x = 0; x < maxHeights.length; x++) {\n            maxHeights[x] = rHeights;\n        }\n        maxWidths.push(cWidths);\n        return { maxHeights, maxWidths };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (measures) {\n        const {\n            unitMeasures\n        } = this.config();\n        const borderWidth = unitMeasures.border;\n        const { matrixInst, height, maxWidths, maxHeights, matrixIndex } = measures;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        const heightDistribution = this.getPriorityDistribution({ height, maxHeights: maxHeights[0] || [] });\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = heightDistribution[rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                cell.setAvailableSpace(colWidth - borderWidth, colHeight);\n\n                if (cIdx === 0 && rIdx < breakPointer) {\n                    rowHeights[0][rIdx] = colHeight;\n                    heights[0] = (heights[0] || 0) + colHeight;\n                } else if (cIdx === 0 && rIdx >= breakPointer) {\n                    rowHeights[1][rIdx - breakPointer] = colHeight;\n                    heights[1] = (heights[1] || 0) + colHeight;\n                }\n                if (rIdx === this._lastLevelKey) {\n                    columnWidths[0][cIdx] = colWidth;\n                    columnWidths[1][cIdx] = colWidth;\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { PRIMARY } from '../enums/constants';\n/**\n *\n *\n */\nexport const defaultConfig = {\n    distribution: [],\n    classPrefix: 'muze',\n    isDistributionEqual: true,\n    unitMeasures: {\n        height: 100,\n        width: 100,\n        border: 1\n    },\n    isTransposed: false,\n    facet: PRIMARY,\n    extraCellLengths: []\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    maxMeasures: {},\n    availableSpace: {},\n    logicalSpace: {}\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    extraCellsRemover,\n    combineMatrices,\n    spaceTakenByColumn,\n    getDistributedHeight,\n    computeLogicalSpace,\n    createMatrixEachLevel\n  } from '../utils';\nimport { ROW_ROOT } from '../enums/constants';\nimport VisualMatrix from './visual-matrix';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class RowVisualMatrix extends VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        super(matrix, config);\n\n        this._breakPointer = (matrix[0].length > 0 ? matrix[0][0].length : 0);\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n\n        // Create Tree\n        this._tree = {\n            key: ROW_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.computeLogicalSpace();\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, false);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    computeViewableSpaces (measures) {\n        const {\n            maxHeights,\n            maxWidths,\n            height\n        } = measures;\n        return this.viewableMatrix.map((matrixInst, i) => {\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i };\n            const { widths, rowHeights, columnWidths } = this.getCellDimensions(cellDimOptions);\n            const heightMeasures = [height, height];\n            const columnMeasures = widths;\n\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n        tree.matrix = extraCellsRemover(tree.matrix, begCellLen, endCellLen);\n\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    getPriorityDistribution (measures) {\n        let remainingAvailWidth;\n        let remainingWidth;\n        let cWidths = [];\n        let conditions = [];\n        let maxPrioritySpace = 0;\n        const {\n            matrix,\n            width: availableWidth,\n            maxMeasures: maxWidths,\n            maxWidth: currentWidth,\n            height\n        } = measures;\n        const priority = this.config().priority;\n        const primaryMatrixLength = this.primaryMatrix().length ? this.primaryMatrix()[0].length : 0;\n\n        const dist = [];\n\n        remainingAvailWidth = availableWidth;\n        remainingWidth = currentWidth;\n\n        if (priority === 2) {\n            conditions = [primaryMatrixLength - 1, primaryMatrixLength];\n            // divider = Math.min(2, matrixLen);\n        } else {\n            conditions = priority === 0 ? [primaryMatrixLength - 1] : [primaryMatrixLength];\n            // divider = Math.min(1, matrixLen);\n        }\n        conditions.forEach((i) => {\n            dist[i] = maxWidths[i];\n            maxPrioritySpace += maxWidths[i];\n            remainingAvailWidth -= dist[i];\n            remainingWidth -= dist[i];\n        });\n        matrix[0].forEach((e, i) => {\n            if (conditions.indexOf(i) === -1) {\n                dist[i] = remainingAvailWidth * (maxWidths[i] / remainingWidth);\n            }\n        });\n        matrix.forEach(row => row.forEach((col, cIdx) => {\n            if (conditions.indexOf(cIdx) === -1) {\n                col.setAvailableSpace(dist[cIdx], height);\n\n                cWidths[cIdx] = Math.max(cWidths[cIdx] || 0, Math.floor(col.getLogicalSpace().width));\n            } else {\n                cWidths[cIdx] = 0;\n            }\n        }));\n\n        const prioritySpace = availableWidth - cWidths.reduce((t, n) => t + n);\n        if (prioritySpace < 0) {\n            cWidths = cWidths.map(() => 0);\n        } else {\n            conditions.forEach((i) => {\n                cWidths[i] = Math.floor(prioritySpace * (dist[i] / maxPrioritySpace || 1));\n            });\n        }\n        return cWidths;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures, heightMeasures) {\n        let i;\n        const { height } = this.availableSpace();\n\n        for (i = 0; i < heightMeasures.length; i++) {\n            if (heightMeasures[i] <= height) break;\n        }\n\n        return Math.min(widthMeasures.length - 1, i);\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces (width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n        const maxMeasures = this.maxMeasures();\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        const logicalWidths = this.getPriorityDistribution({\n            matrix: this._layoutMatrix,\n            maxWidth,\n            maxMeasures,\n            width,\n            height\n        });\n\n        this.viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths, logicalWidths };\n            const measures = this.redistributeViewSpaces(options);\n            maxWidths = measures.maxWidths;\n            maxHeights = measures.maxHeights;\n        });\n        return this.computeViewableSpaces({ height, width, maxHeights, maxWidths });\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces (measures) {\n        let cWidths = [];\n        let rHeights = [];\n        let mHeight = 0;\n        const maxMeasures = this.maxMeasures();\n\n        const {\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        } = this.config();\n        const { matrix, height, maxHeights, maxWidths, logicalWidths } = measures;\n        mHeight = spaceTakenByColumn(matrix, this._lastLevelKey).height;\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        measures.maxMeasures = maxMeasures;\n        measures.maxWidth = maxWidth;\n        if (maxWidth > 0) {\n            cWidths = logicalWidths;\n        } else {\n            cWidths = maxMeasures.map(() => 0);\n        }\n        rHeights = getDistributedHeight({\n            matrix,\n            cIdx: this._lastLevelKey,\n            height: mHeight,\n            availableHeight: height,\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        });\n        if (maxWidths.length > 0) {\n            cWidths = cWidths.map((e, i) => Math.max(e, maxWidths[0][i] || 0));\n        }\n        maxWidths.push(cWidths);\n        for (let x = 0; x < maxWidths.length; x++) {\n            maxWidths[x] = cWidths;\n        }\n        maxHeights.push(rHeights);\n        return { maxWidths, maxHeights };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (measures) {\n        const {\n            unitMeasures\n        } = this.config();\n        const borderWidth = unitMeasures.border;\n        const { matrixInst, maxWidths, maxHeights, matrixIndex } = measures;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = maxHeights[matrixIndex][rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                cell.setAvailableSpace(colWidth, colHeight - borderWidth);\n\n                if (rIdx === 0 && cIdx < breakPointer) {\n                    columnWidths[0][cIdx] = colWidth;\n                    widths[0] = (widths[0] || 0) + colWidth;\n                } else if (rIdx === 0 && cIdx >= breakPointer) {\n                    columnWidths[1][cIdx - breakPointer] = colWidth;\n                    widths[1] = (widths[1] || 0) + colWidth;\n                }\n                if (cIdx === this._lastLevelKey) {\n                    rowHeights[0][rIdx] = colHeight;\n                    rowHeights[1][rIdx] = colHeight;\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { mergeRecursive, generateGetterSetters, ERROR_MSG } from 'muze-utils';\nimport {\n    createTree,\n    combineMatrices,\n    createMatrixInstances\n  } from '../utils';\nimport { PROPS } from './props';\nimport { HEIGHT, WIDTH } from '../enums/constants';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        // Prepare matrices\n        this._lastLevelKey = 0;\n        this._primaryMatrix = matrix[0] || [];\n        this._secondaryMatrix = matrix[1] || [];\n        this._maxMeasures = [];\n        this._availableSpace = {};\n\n        // Store the config\n        generateGetterSetters(this, PROPS);\n        const defCon = Object.assign({}, this.constructor.defaultConfig());\n        this.config(mergeRecursive(defCon, config));\n\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n    }\n\n     /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    computeViewableSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    getPriorityDistribution () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof VisualMatrix\n     */\n    primaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._primaryMatrix;\n    }\n\n    secondaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._secondaryMatrix;\n    }\n\n    tree (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._tree;\n    }\n\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    createTree () {\n        const { tree, lastLevelKey } = createTree(this);\n        this._lastLevelKey = lastLevelKey;\n        return tree;\n    }\n\n    /**\n     * Returns the space taken by visual matrix\n     *\n     * @return {Object} space taken by the matrix\n     * @memberof VisualMatrix\n     */\n    getLogicalSpace () {\n        return this.logicalSpace();\n    }\n\n    /**\n     * Sets the provied space to the visual matrix\n     *\n     * @param {number} width width provided\n     * @param {number} height height provided\n     * @memberof VisualMatrix\n     */\n    setAvailableSpace (width, height) {\n        this.availableSpace({ width, height });\n        const tree = this.tree();\n        const heightMeasures = this.populateMaxMeasures(HEIGHT, tree);\n        const widthMeasures = this.populateMaxMeasures(WIDTH, tree);\n        const depth = this.calculateDepth(widthMeasures, heightMeasures);\n\n        this.viewableMatrix = this.createViewPortMatrix(depth);\n        this.viewableMeasures = this.redistributeSpaces(width, height);\n        return this;\n    }\n\n    /**\n     * Populate the max measures in the array\n     *\n     * @param {Array} measures array to be filled with max measures\n     * @param {Object} matrixTree matrix tree of visual matrix\n     * @param {number} measure width or height\n     * @param {number} [depth=0] depth of the tree that to be calculated\n     * @memberof VisualMatrix\n     */\n    populateMaxMeasures (type, matrixTree, depth = 0, measures = []) {\n        measures[depth] = Math.max(measures[depth] || 0, matrixTree.space[type]);\n        if (matrixTree.values) {\n            const childDepth = depth + 1;\n            matrixTree.values.forEach((child) => {\n                if (child.space) {\n                    measures = this.populateMaxMeasures(type, child, childDepth, measures);\n                }\n            });\n        }\n        return measures;\n    }\n\n    /**\n     * Gets the viewable measures for the current viewable matrix\n     *\n     * @return {Object} Set of viewable measures\n     * @memberof VisualMatrix\n     */\n    getViewableSpaces () {\n        return this.viewableMeasures;\n    }\n\n    /**\n     * Returns the matrix that can be viewed in the current viewport\n     *\n     * @return {Array} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    getViewableMatrices () {\n        return this.viewableMatrix;\n    }\n\n    /**\n     * Creates the viewport that can be viewed together\n     *\n     * @param {number} depth maxDepth that can be viewed in the viewport\n     * @return {Array<Object>} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    createViewPortMatrix (depth) {\n        const arr = [];\n        createMatrixInstances(arr, depth, this.removeExtraCells(), this);\n        return arr;\n    }\n}\n\n","/**\n * This file exports functionality that is used to render axis.\n */\nimport { selectElement, makeElement, angleToRadian } from 'muze-utils';\nimport * as AxisOrientation from './enums/axis-orientation';\nimport { LINEAR, HIDDEN, BOTTOM, TOP } from './enums/constants';\n\n/**\n *\n *\n * @param {*} instance\n * @param {*} container\n * @param {*} labelManager\n * @param {*} config\n */\nconst rotateAxis = (instance, tickText, labelManager) => {\n    let rotation;\n    const axis = instance.axis();\n    const config = instance.config();\n    const renderConfig = instance.renderConfig();\n    const smartTicks = instance.smartTicks();\n    const scale = axis.scale();\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n    const ticks = labelFunc();\n    const {\n        orientation,\n        fixedBaseline,\n        type\n    } = config;\n    const {\n        labels\n    } = renderConfig;\n\n    rotation = labels.rotation;\n\n    const tickSize = instance.getTickSize();\n    tickText.each(function (d, index) {\n        let yShift;\n        let xShift;\n        let datum = smartTicks[index] ? smartTicks[index].text : d;\n\n        datum = datum.toString();\n\n        const tickLabelDim = labelManager.getOriSize(datum);\n\n        const width = tickLabelDim.width * 0.5;\n        const height = tickLabelDim.height * 0.5;\n\n        if (rotation < 0) {\n            rotation = 360 + rotation;\n        }\n\n        const quadrant = 4 - Math.floor(rotation / 90);\n        const rotationNormalizer = ((quadrant % 2 === 0) ? rotation : 180 * Math.ceil(rotation / 180) - rotation) % 180;\n\n        yShift = Math.sqrt(height ** 2 + width ** 2) * Math.sin(angleToRadian(rotationNormalizer));\n\n        if ((quadrant === 3 || quadrant === 2) && !(rotationNormalizer > 67.5 && rotationNormalizer <= 90)) {\n            yShift += height * 2;\n        }\n        xShift = width;\n\n        if (rotation === 90) {\n            xShift = height;\n        } else if (rotation === 270) {\n            xShift = -height;\n        } else {\n            xShift = 0;\n        }\n\n        if (orientation === AxisOrientation.TOP) {\n            xShift = (fixedBaseline && ticks[0] === d && type === LINEAR) ? xShift + xShift / 2 : xShift;\n            selectElement(this)\n                            .attr('transform', `translate(${-xShift + tickSize}\n                                ${-yShift - tickSize}) rotate(${rotation})`);\n        } else {\n            xShift = (fixedBaseline && ticks[0] === d && type === LINEAR) ? xShift - xShift / 2 : xShift;\n\n            selectElement(this)\n                            .attr('transform', `translate(${xShift - tickSize}\n                                ${yShift + tickSize}) rotate(${rotation})`);\n        }\n        selectElement(this).transition()\n                        .duration(1000).text(datum);\n    });\n    return tickText;\n};\n\n/**\n *\n *\n * @param {*} tickText\n * @param {*} axisInstance\n */\nconst changeTickOrientation = (selectContainer, axisInstance, tickSize) => {\n    const {\n        _smartTicks\n    } = axisInstance;\n    const config = axisInstance.config();\n    const renderConfig = axisInstance.renderConfig();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const {\n        orientation,\n        classPrefix\n    } = config;\n    const {\n        labels\n    } = renderConfig;\n    const {\n        rotation,\n        smartTicks: isSmartTicks\n    } = labels;\n\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.selectAll('tspan').remove();\n\n    // rotate labels if not enough space is available\n    if (rotation && (orientation === TOP || orientation === BOTTOM)) {\n        rotateAxis(axisInstance, tickText, labelManager);\n    } else if (!rotation && !isSmartTicks) {\n        tickText.attr('transform', '');\n    } else {\n        tickText.text('');\n        if (orientation === TOP || orientation === BOTTOM) {\n            tickText.attr('y', 0)\n                            .attr('x', 0)\n                            .attr('transform', '')\n                            .text('');\n            const tspan = makeElement(tickText, 'tspan', (d, i) => {\n                if (_smartTicks[i]) {\n                    return _smartTicks[i].lines;\n                } return [];\n            }, `${classPrefix}-smart-text`);\n\n            tspan.attr('dy', '0')\n                            .style('opacity', '0')\n\n                            .transition()\n                            .duration(1000)\n                            .on('end', axisInstance.registerAnimationDoneHook())\n                            .attr('dy', (d, i) => {\n                                if (orientation === BOTTOM || i !== 0) {\n                                    return _smartTicks[0].oriTextHeight;\n                                }\n                                return -_smartTicks[0].oriTextHeight * (_smartTicks[0].lines.length - 1) - tickSize;\n                            })\n                            .style('opacity', 1)\n                            .text(e => e)\n                            .attr('x', 0);\n        } else {\n            const tspan = makeElement(tickText, 'tspan', (d, i) => _smartTicks[i].lines, `${classPrefix}-smart-text`);\n            tspan.text(e => e);\n        }\n    }\n\n    return tickText;\n};\n\nconst setFixedBaseline = (axisInstance) => {\n    const {\n        fixedBaseline\n    } = axisInstance.config();\n    const {\n        showInnerTicks\n    } = axisInstance.renderConfig();\n    const domain = axisInstance.domain();\n    if (fixedBaseline && domain.length && showInnerTicks) {\n        axisInstance.setFixedBaseline();\n    }\n};\n\n/**\n *\n *\n * @param {*} textNode\n * @param {*} orientation\n * @param {*} measures\n */\nconst setAxisNamePos = (textNode, orientation, measures) => {\n    const {\n        axisNameHeight,\n        availableSpace\n    } = measures;\n\n    switch (orientation) {\n    case AxisOrientation.LEFT:\n        textNode.attr('transform',\n            `translate(${-(availableSpace.width - axisNameHeight)},${availableSpace.height / 2})rotate(-90)`);\n        break;\n    case AxisOrientation.RIGHT:\n        textNode.attr('transform',\n             `translate(${(availableSpace.width - axisNameHeight)},${availableSpace.height / 2})rotate(90)`);\n        break;\n    case AxisOrientation.TOP:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${-availableSpace.height + axisNameHeight})`);\n        break;\n    case AxisOrientation.BOTTOM:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${availableSpace.height - axisNameHeight / 2})`);\n        break;\n    default:\n    }\n    return textNode;\n};\n\n/**\n * This method is used to render the axis inside an\n * svg container.\n *\n * @export\n * @param {Object} axisInstance the nput object required to render axis\n * @param {string} axisInstance.orientation the orientation of axis\n * @param {Object} axisInstance.scale instance of d3 scale\n * @param {SVGElement} axisInstance.container the container in which to render\n */\nexport function renderAxis (axisInstance) {\n    const config = axisInstance.config();\n    const renderConfig = axisInstance.renderConfig();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const mount = axisInstance.mount();\n    const range = axisInstance.range();\n    const axis = axisInstance.axis();\n    const scale = axisInstance.scale();\n    const {\n        _tickLabelStyle: tickLabelStyle,\n        _tickFormatter: axisTickFormatter\n     } = axisInstance;\n    const {\n        orientation,\n        axisNamePadding,\n        className,\n        id,\n        classPrefix\n     } = config;\n    const {\n        show,\n        xOffset,\n        yOffset,\n        showAxisName,\n        labels,\n        smartAxisName\n    } = renderConfig;\n\n    if (!show) {\n        return;\n    }\n\n    const tickSize = axisInstance.getTickSize();\n\n    const selectContainer = makeElement(selectElement(mount), 'g', [axisInstance], `${className}`, {},\n        key => key.config().id);\n\n    // Set style for tick labels\n    labelManager.setStyle(tickLabelStyle);\n\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n\n    const ticks = axis.tickValues() || labelFunc();\n\n    axis.tickFormat(axisTickFormatter(ticks));\n\n    // Get range(length of range)\n    const availableSpace = Math.abs(range[0] - range[1]);\n\n    // Get width and height taken by axis labels\n    const labelProps = axisInstance.axisComponentDimensions().largestTickDimensions;\n\n    // Draw axis ticks\n    selectContainer.attr('transform', `translate(${xOffset},${yOffset})`);\n    setFixedBaseline(axisInstance);\n    if (labels.smartTicks === false || tickSize === 0) {\n        selectContainer.transition()\n                        .duration(1000)\n                        .on('end', axisInstance.registerAnimationDoneHook())\n                        .call(axis);\n    } else {\n        selectContainer.call(axis);\n    }\n    selectContainer.selectAll('.tick').classed(`${classPrefix}-ticks`, true);\n    selectContainer.selectAll('.tick line').classed(`${classPrefix}-tick-lines`, true);\n\n    // Set classes for ticks\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.classed(`${classPrefix}-ticks`, true)\n                    .classed(`${classPrefix}-ticks-${id}`, true);\n\n    changeTickOrientation(selectContainer, axisInstance, tickSize);\n\n    // Create axis name\n    const textNode = makeElement(selectContainer, 'text', [smartAxisName], `${classPrefix}-axis-name`)\n                    .attr('text-anchor', 'middle')\n                    .classed(`${classPrefix}-axis-name-${id}`, true)\n                    .text(d => d.text);\n\n    // Hide axis name if show is off\n    textNode.classed(HIDDEN, !showAxisName);\n\n    // render labels based on orientation of axis\n    const labelOffset = availableSpace / 2;\n\n    const measures = {\n        labelProps,\n        tickSize,\n        axisNamePadding,\n        axisNameHeight: smartAxisName.height,\n        yOffset,\n        xOffset,\n        labelOffset,\n        availableSpace: axisInstance.availableSpace()\n    };\n    // Set position for axis name\n    setAxisNamePos(textNode, orientation, measures);\n}\n","import SimpleAxis from './simple-axis';\nimport { BAND } from '../enums/scale-type';\nimport { calculateBandSpace, setOffset, getRotatedSpaces } from './helper';\n\nexport default class BandAxis extends SimpleAxis {\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof BandAxis\n     */\n    static type () {\n        return BAND;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks = '';\n        let smartlabel;\n        const domain = this.domain();\n        const { labelManager } = this._dependencies;\n        const { padding } = this.config();\n        const { labels, tickValues } = this.renderConfig();\n        const { height: availHeight, width: availWidth, noWrap } = this.maxTickSpaces();\n        const { width, height } = getRotatedSpaces(labels.rotation, availWidth, availHeight);\n\n        tickValues && this.axis().tickValues(tickValues);\n        smartTicks = tickValues || domain;\n\n        // set the style on the shared label manager instance\n        labelManager.setStyle(this._tickLabelStyle);\n\n        // Update padding between plots\n        if (typeof padding === 'number') {\n            const paddingNormalized = Math.min(1, Math.max(0, padding));\n            this.scale().padding(paddingNormalized);\n        }\n\n        if (domain && domain.length) {\n            const values = tickValues || domain;\n            const tickFormatter = this._tickFormatter(values);\n            smartTicks = values.map((d, i) => {\n                labelManager.useEllipsesOnOverflow(true);\n\n                smartlabel = labelManager.getSmartText(tickFormatter(d, i), width, height, noWrap);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n        this.smartTicks(smartTicks);\n        return this;\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n        }\n        setOffset(this);\n\n        return this.logicalSpace();\n    }\n\n    /**\n     *\n     *\n     * @memberof BandAxis\n     */\n    getTickValues () {\n        return this.axis().scale().domain();\n    }\n\n    formatTickValue (val) {\n        return this.valueParser()(val);\n    }\n\n    sanitizeTickFormatter (value) {\n        const { tickFormat } = value;\n\n        if (tickFormat) {\n            return ticks => (val, i) => tickFormat(this.formatTickValue(val), val, i, ticks);\n        }\n        return () => val => this.formatTickValue(val);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BandAxis\n     */\n    getUnitWidth () {\n        return this.scale().bandwidth();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n\n        axis.tickSizeInner(showInnerTicks ? 6 : 0);\n        axis.tickSizeOuter(showOuterTicks ? 6 : 0);\n        return axis.tickSize();\n    }\n\n    invertExtent (v1, v2) {\n        return this.scale().invertExtent(v1, v2);\n    }\n\n    /**\n     * Gets the nearest range value from the given range values.\n     * @param {number} v1 Start range value\n     * @param {number} v2 End range value\n     * @return {Array} range values\n     */\n    getNearestRange (v1, v2) {\n        const scale = this.scale();\n        const range = scale.range();\n        const reverse = range[0] > range[1];\n\n        const extent = this.invertExtent(v1, v2);\n        const p1 = scale(reverse ? extent[extent.length - 1] : extent[0]);\n        const p2 = scale(reverse ? extent[0] : extent[extent.length - 1]) + scale.bandwidth();\n        return [p1, p2];\n    }\n}\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { BOTTOM, TOP, LEFT, RIGHT } from '../enums/axis-orientation';\nimport { LINEAR, LOG, POW } from '../enums/scale-type';\nimport { LogInterpolator, PowInterpolator, LinearInterpolator } from './interpolators';\nimport {\n    getNumberOfTicks,\n    getValidDomain,\n    setContinousAxisDomain\n} from './helper';\n\nexport const interpolatorMap = {\n    [LOG]: LogInterpolator,\n    [POW]: PowInterpolator,\n    [LINEAR]: LinearInterpolator\n};\n\nexport default class ContinousAxis extends SimpleAxis {\n    constructor (config, dependencies) {\n        config.tickFormat = config.tickFormat || (val => val);\n        super(config, dependencies);\n    }\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const InterpolatorCls = interpolatorMap[interpolator];\n\n        this._interpolator = new InterpolatorCls();\n        let scale = this._interpolator.createScale({\n            padding,\n            exponent,\n            base,\n            range\n        });\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ContinousAxis\n     */\n    static type () {\n        return LINEAR;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this._interpolator.getScaleValue(domainVal);\n    }\n /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n\n        return axis.tickSize();\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            const domainVal = this._interpolator.sanitizeDomain(getValidDomain(this, domain[0]));\n            setContinousAxisDomain(this, domainVal);\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        }\n        return this._domain;\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (...params) {\n        super.setAvailableSpace(...params);\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} tickValues\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        const {\n            tickValues,\n            showInnerTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n\n        if (!showInnerTicks) {\n            axis.tickValues([]);\n            return this;\n        }\n\n        if (tickValues) {\n            tickValues instanceof Array && this.axis().tickValues(tickValues);\n        }\n        const newTickValues = this.getTickValues();\n\n        axis.tickValues(newTickValues);\n        const smartLabel = this.dependencies().labelManager;\n        smartLabel.setStyle(this._tickLabelStyle);\n        const formatter = this._tickFormatter(newTickValues);\n        const smartTicks = newTickValues.map((val, i) => {\n            const text = formatter(val, i);\n            const tickSpace = smartLabel.getOriSize(text);\n\n            tickSpace.text = text;\n            return tickSpace;\n        });\n\n        this.smartTicks(smartTicks);\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickValues () {\n        let labelDim = 0;\n        const {\n            orientation\n\n        } = this.config();\n        const {\n            tickValues\n        } = this.renderConfig();\n        const range = this.range();\n        const axis = this.axis();\n\n        const availableSpace = Math.abs(range[0] - range[1]);\n\n        const labelProps = this.axisComponentDimensions().largestTickDimensions;\n\n        if (tickValues) {\n            return tickValues;\n        }\n        labelDim = labelProps[orientation === BOTTOM || orientation === TOP ? 'width' : 'height'];\n\n        return getNumberOfTicks(availableSpace, labelDim, axis, this);\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.renderConfig().tickValues);\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline (tickText) {\n        const {\n            orientation\n        } = this.config();\n        const {\n            labels\n        } = this.renderConfig();\n\n        const {\n            rotation\n        } = labels;\n        const axis = this.axis();\n        const ticks = axis.tickValues();\n        const smartTicks = this.smartTicks();\n\n        if (smartTicks && smartTicks.length) {\n            const { width, height } = this.smartTicks()[0];\n\n            axis.tickTransform((d) => {\n                if (d === ticks[0]) {\n                    if ((orientation === LEFT || orientation === RIGHT)) {\n                        return `translate(0, -${(height) / 3}px)`;\n                    }\n\n                    if ((orientation === TOP || orientation === BOTTOM) && !rotation) {\n                        return `translate(${width / 2}px,  ${0}px)`;\n                    }\n                } return '';\n            });\n        }\n        return tickText;\n    }\n\n}\n","import { getUniqueId } from 'muze-utils';\nimport { CLASSPREFIX } from '../enums/constants';\n\n/**\n *\n *\n */\nexport const defaultConfig = {\n    id: getUniqueId(),\n    adjustRange: false,\n    axisName: {\n        defClassName: 'axis-name'\n    },\n    axisNamePadding: 12,\n    base: 10,\n    classPrefix: CLASSPREFIX,\n    className: `${CLASSPREFIX}-axis`,\n    exponent: 1,\n    interpolator: 'linear',\n    fixedBaseline: true,\n    labels: {\n        rotation: null,\n        smartTicks: null\n    },\n    orientation: 'left',\n    numberFormat: val => val,\n    padding: 0.3,\n    nice: true,\n    numberOfTicks: null,\n    rotate: false,\n    show: true,\n    showAxisName: true,\n    showInnerTicks: true,\n    showOuterTicks: true,\n    style: {},\n    type: 'linear',\n    tickFormat: null,\n    tickValues: null,\n    xOffset: 0,\n    yOffset: 0\n};\n\n","import { defaultValue } from 'muze-utils';\nimport { TOP, LEFT, BOTTOM } from '../enums/axis-orientation';\nimport { MIN_NO_OF_TICKS, DEFAULT_NO_OF_TICKS } from '../enums/constants';\nimport { setAxisRange, getAdjustedRange } from './space-setter';\n\nexport const getRotatedSpaces = (rotation = 0, width, height) => {\n    let rotatedHeight = height;\n    let rotatedWidth = width;\n    if (rotation) {\n        const angle = ((rotation || 0) * Math.PI) / 180;\n        rotatedWidth = Math.abs(height * Math.sin(angle)) + Math.abs(width * Math.cos(angle));\n        rotatedHeight = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n    }\n    return { width: rotatedWidth, height: rotatedHeight };\n};\n\nexport const setOffset = (context) => {\n    let x = 0;\n    let y = 0;\n    const logicalSpace = context.logicalSpace();\n    const config = context.config();\n    const {\n        orientation,\n        xOffset,\n        yOffset\n    } = config;\n    if (orientation === LEFT) {\n        x = xOffset === undefined ? logicalSpace.width : xOffset;\n    }\n    if (orientation === TOP) {\n        y = yOffset === undefined ? logicalSpace.height : yOffset;\n    }\n    context.renderConfig({ xOffset: x, yOffset: y });\n};\n\nexport const getNumberOfTicks = (availableSpace, labelDim, axis, axisInstance) => {\n    let numberOfValues = 0;\n    let tickValues = [];\n    let { numberOfTicks } = axisInstance.config();\n    const ticks = axis.scale().ticks();\n    const tickLength = ticks.length;\n    const minTickDistance = axisInstance._minTickDistance.width;\n\n    numberOfValues = tickLength;\n\n    if (tickLength * (labelDim + minTickDistance) > availableSpace) {\n        numberOfValues = Math.floor(availableSpace / (labelDim + minTickDistance));\n    }\n\n    numberOfTicks = numberOfTicks || numberOfValues;\n    numberOfValues = Math.min(numberOfTicks, Math.max(MIN_NO_OF_TICKS, numberOfValues));\n\n    tickValues = axis.scale().ticks(numberOfValues);\n\n    if (tickValues.length > numberOfValues) {\n        tickValues = tickValues.filter((e, i) => i % 2 === 0);\n    }\n\n    if (numberOfValues === MIN_NO_OF_TICKS) {\n        tickValues = axis.scale().ticks(DEFAULT_NO_OF_TICKS);\n        tickValues = [tickValues[0], tickValues[tickValues.length - 1]];\n    }\n    return tickValues;\n};\n\nexport const getAxisComponentDimensions = (context) => {\n    let largestTick = '';\n    let largestTickDimensions = { width: 0, height: 0 };\n    let smartTick = {};\n    let axisTicks;\n    const allTickDimensions = [];\n    const scale = context.scale();\n    const { tickValues, showAxisName } = context.renderConfig();\n    const { name } = context.config();\n    const { labelManager } = context.dependencies();\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n\n    // set the style on the shared label manager instance\n    labelManager.setStyle(context._tickLabelStyle);\n\n    // get the values along the domain\n    axisTicks = tickValues || labelFunc();\n\n    // Get the tick labels\n    axisTicks = axisTicks.map((originalLabel, i) => {\n        const label = context.getFormattedText(originalLabel, i, axisTicks);\n\n    // convert to string for quant values\n        const tickDimensions = labelManager.getOriSize(label);\n\n    // Get spaces for all labels\n        allTickDimensions.push(tickDimensions);\n\n    // Getting largest label\n        if (tickDimensions.width > largestTickDimensions.width) {\n            largestTick = label;\n            smartTick = context.smartTicks() ? context.smartTicks()[i] : {};\n\n            largestTickDimensions = tickDimensions;\n            smartTick = smartTick || tickDimensions;\n        }\n        return label;\n    });\n\n    labelManager.setStyle(context._axisNameStyle);\n    const axisNameDimensions = showAxisName ? labelManager.getOriSize(name) : { width: 0, height: 0 };\n\n    return {\n        axisNameDimensions,\n        largestTick,\n        largestTickDimensions,\n        allTickDimensions,\n        axisTicks,\n        smartTick,\n        tickSize: context.getTickSize()\n    };\n};\n\nexport const computeAxisDimensions = (context) => {\n    let tickDimensions = {};\n    const { labels } = context.renderConfig();\n    const { smartTicks, rotation } = labels;\n    const {\n        largestTickDimensions,\n        axisTicks,\n        smartTick,\n        axisNameDimensions,\n        allTickDimensions,\n        tickSize\n    } = getAxisComponentDimensions(context);\n    const { height: labelHeight, width: labelWidth } = largestTickDimensions;\n\n    // get the domain of axis\n    const domain = context.domain();\n    // const angle = ((rotation || 0) * Math.PI) / 180;\n\n    if (domain.length === 0) {\n        return null;\n    }\n\n    if (smartTicks) {\n        tickDimensions = smartTick;\n    } else {\n        tickDimensions = { width: labelWidth, height: labelHeight };\n    }\n    tickDimensions = getRotatedSpaces(rotation, tickDimensions.width, tickDimensions.height);\n\n    if (tickSize === 0) {\n        tickDimensions = { width: 0, height: 0 };\n    }\n    return {\n        allTickDimensions,\n        tickSize,\n        tickDimensions,\n        axisNameDimensions,\n        largestTickDimensions,\n        axisTicks\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n *\n */\nexport const getHorizontalAxisSpace = (context, axisDimensions, range) => {\n    let width;\n    let height;\n    const domain = context.domain();\n    const minTickDistance = context._minTickDistance.width;\n    const { tickSize, tickDimensions, axisNameDimensions } = axisDimensions;\n    const { axisNamePadding, tickValues } = context.config();\n    const { showAxisName } = context.renderConfig();\n    const { height: axisDimHeight } = axisNameDimensions;\n    const { height: tickDimHeight, width: tickDimWidth } = tickDimensions;\n\n    width = range && range.length ? range[1] - range[0] : ((tickDimWidth + minTickDistance) * 3);\n\n    height = 0;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [\n            Math.min(...tickValues, ...domain),\n            Math.max(...tickValues, ...domain)\n        ];\n\n        width = ((max - min) / Math.abs(minTickDiff)) * (tickDimWidth + context._minTickDistance.width);\n    }\n    if (!range || !range.length) {\n        height = Math.max(tickDimWidth, tickDimHeight);\n    } else {\n        height = tickDimHeight;\n    }\n\n    height += (showAxisName ? axisDimHeight + axisNamePadding : 0) + tickSize;\n\n    return {\n        width,\n        height\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n *\n */\nexport const getVerticalAxisSpace = (context, axisDimensions) => {\n    let height;\n    let width;\n    const domain = context.domain();\n    const { tickSize, tickDimensions, axisNameDimensions } = axisDimensions;\n    const { axisNamePadding, tickValues } = context.config();\n    const { showAxisName } = context.renderConfig();\n    const { height: axisDimHeight } = axisNameDimensions;\n    const { height: tickDimHeight, width: tickDimWidth } = tickDimensions;\n\n    height = 0;\n    width = tickDimWidth;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [\n            Math.min(...tickValues, ...domain),\n            Math.max(...tickValues, ...domain)\n        ];\n\n        height = ((max - min) / Math.abs(minTickDiff)) * tickDimHeight;\n    }\n    width += (showAxisName ? axisDimHeight : 0) + tickSize + axisNamePadding;\n\n    return {\n        height,\n        width\n    };\n};\n\n/**\n * Calculates the logical space of the axis\n * @return {Object} Width and height occupied by the axis.\n */\nexport const calculateBandSpace = (context) => {\n    const range = context.range();\n    const axisDimensions = context.getAxisDimensions();\n\n    const { orientation } = context.config();\n    const { show } = context.renderConfig();\n    const { largestTickDimensions, axisTicks, allTickDimensions } = axisDimensions;\n    const { height: largestDimHeight } = largestTickDimensions;\n    const minTickWidth = context._minTickDistance.width;\n    if (orientation === TOP || orientation === BOTTOM) {\n        let {\n            width,\n            height\n        } = getHorizontalAxisSpace(context, axisDimensions, range);\n\n        if (!range || !range.length) {\n            width = allTickDimensions.reduce((t, n) =>\n                t + Math.min(n.width, n.height) + minTickWidth, 0);\n        }\n\n        if (show === false) {\n            height = 0;\n            width = 0;\n        }\n        return {\n            width,\n            height\n        };\n    }\n\n    let {\n        width,\n        height\n    } = getVerticalAxisSpace(context, axisDimensions, range);\n\n    if (!height || height === 0) {\n        height = axisTicks.length * (largestDimHeight + context._minTickDistance.height);\n    }\n    if (show === false) {\n        width = 0;\n    }\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Calculates the logical space of the axis\n * @return {Object} Width and height occupied by the axis.\n */\nexport const calculateContinousSpace = (context) => {\n    const range = context.range();\n    const axisDimensions = context.getAxisDimensions();\n    const { orientation } = context.config();\n    const { show, showAxisName } = context.renderConfig();\n    const { axisNameDimensions } = axisDimensions;\n\n    if (show === false) {\n        return {\n            width: 0,\n            height: 0\n        };\n    }\n\n    const { width: axisNameWidth } = axisNameDimensions;\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        const {\n            width,\n            height\n        } = getHorizontalAxisSpace(context, axisDimensions, range);\n        const axisWidth = Math.max(width, axisNameWidth);\n\n        return {\n            width: axisWidth,\n            height\n        };\n    }\n    const {\n        width,\n        height\n    } = getVerticalAxisSpace(context, axisDimensions, range);\n\n    const effHeight = Math.max(height, showAxisName ? axisNameWidth : 0);\n\n    return {\n        width,\n        height: effHeight\n    };\n};\n\n/**\n * Overwrites domain with user defined domain (if present)\n * @param {Object} context reference to current axes\n * @param {Array} domain default domain\n *\n * @return {Array} domain\n */\nexport const getValidDomain = (context, domain) => {\n    const { domain: userDom } = context.config();\n\n    if (userDom) {\n        domain = userDom;\n    }\n\n    return defaultValue(domain, []);\n};\n\nexport const setContinousAxisDomain = (context, domain) => {\n    const { nice } = context.config();\n    const scale = context.scale.bind(context);\n\n    scale().domain(domain);\n    nice && scale().nice();\n    context._domain = scale().domain();\n};\n\n/**\n * Checks if any of the properties have changed between two objects\n * @param {Object} obj first object\n * @param {Object} obj1 second object\n * @param {Array} properties properties to be compared between two objects\n *\n * @return {Boolean} boolean value\n */\nexport const hasAxesConfigChanged = (obj = {}, obj1 = {}, properties) => {\n    if (!Object.keys(obj).length || !Object.keys(obj1).length) {\n        return false;\n    }\n    return properties.some(key => obj[key] !== obj1[key]);\n};\n\nexport const resetTickInterval = (context, domain) => {\n    const {\n        orientation,\n        isOffset\n    } = context.config();\n\n    const minDiff = context._minDiff;\n     // Set available space on interaction\n    if (context.range().length && (orientation === TOP || orientation === BOTTOM)) {\n        context.applyTickSkipping();\n        const {\n            largestTickDimensions\n        } = context.getAxisDimensions();\n\n        const noOfTicks = context.getTickValues().length;\n\n        const { width, height, padding } = context.availableSpace();\n        const {\n            left,\n            right\n        } = padding;\n        // Get the Tick Interval\n        const tickInterval = Math.min(largestTickDimensions.width,\n            ((width - (noOfTicks - 1) * (context._minTickDistance.width)) / noOfTicks));\n\n        context.maxTickSpaces({\n            width: tickInterval\n        });\n\n        const adjustedRange = getAdjustedRange(minDiff, [tickInterval / 2,\n            width - left - right - tickInterval / 2], domain, context.config());\n\n         // set range for axis\n        setAxisRange(context, 'y', adjustedRange, isOffset ? height : null);\n\n        context.setTickConfig();\n    }\n};\n\nexport const getSmartAxisName = (name, width, labelManager) => {\n    const oriSize = labelManager.getOriSize(name);\n\n    labelManager.useEllipsesOnOverflow(true);\n\n    return labelManager.getSmartText(name, width, oriSize.height, true);\n};\n","export { default as ContinousAxis } from './continous-axis';\nexport { default as BandAxis } from './band-axis';\nexport { default as TimeAxis } from './time-axis';\nexport { default as SimpleAxis } from './simple-axis';\n","export { default as LinearInterpolator } from './linear';\nexport { default as LogInterpolator } from './log';\nexport { default as PowInterpolator } from './pow';\n","import { sanitizeDomainWhenEqual } from 'muze-utils';\nimport { scaleMap } from '../../scale-creator';\n\nexport default class LinearInterpolator {\n\n    createScale (config) {\n        const {\n            range\n        } = config;\n        const scaleFactory = scaleMap.linear;\n        this._scale = scaleFactory().range(range);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        if (domain.length) {\n            domain = sanitizeDomainWhenEqual(domain);\n        }\n        return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class LogInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            base\n        } = config;\n        const scaleFactory = scaleMap.log;\n        this._scale = scaleFactory().range(range).base(base);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        const scale = this._scale;\n        if (domainVal <= 0) {\n            return scale(scale.domain()[0]);\n        }\n\n        return scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        if (domain[0] <= 0) {\n            domain[0] = Math.max(1, domain[0]);\n        }\n        if (domain[1] <= 0) {\n            domain[1] = Math.max(1, domain[1]);\n        }\n        return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class PowInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            exponent\n        } = config;\n        const scaleFactory = scaleMap.pow;\n        this._scale = scaleFactory().range(range).exponent(exponent);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        return domain;\n    }\n}\n","import { mergeRecursive } from 'muze-utils';\nimport { hasAxesConfigChanged } from './helper';\n\nexport const PROPS = {\n    availableSpace: {},\n    axisDimensions: {},\n    axisComponentDimensions: {},\n    config: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._config || {});\n            const mockedOldConfig = mergeRecursive({}, oldConfig);\n            value = mergeRecursive(mockedOldConfig, value);\n\n            value.axisNamePadding = Math.max(value.axisNamePadding, 0);\n            const shouldAxesScaleUpdate = hasAxesConfigChanged(\n                value, oldConfig, ['interpolator', 'exponent', 'base', 'orientation']\n            );\n            const tickFormatter = context.sanitizeTickFormatter(value);\n\n            if (shouldAxesScaleUpdate) {\n                context._scale = context.createScale(value);\n                context._axis = context.createAxis(value);\n            }\n\n            context._tickFormatter = ticks => tickFormatter(ticks);\n\n            context.resetRenderConfig(value);\n            return value;\n        }\n    },\n    renderConfig: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._renderConfig || {});\n            value = mergeRecursive(oldConfig, value);\n            return value;\n        }\n    },\n    logicalSpace: {},\n    mount: {\n    },\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.logicalSpace(null);\n            return value;\n        }\n    },\n\n    smartTicks: {},\n    tickSize: {},\n    maxTickSpaces: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._maxTickSpaces || {});\n            value = mergeRecursive(oldConfig, value);\n            return value;\n        }\n    },\n    valueParser: {\n        defaultValue: val => val\n    }\n};\n","import {\n    mergeRecursive,\n    getSmartComputedStyle,\n    selectElement,\n    generateGetterSetters,\n    getUniqueId\n} from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { axisOrientationMap, BOTTOM, TOP } from '../enums/axis-orientation';\nimport { defaultConfig } from './default-config';\nimport { renderAxis } from '../axis-renderer';\nimport { spaceSetter } from './space-setter';\nimport {\n    getAxisComponentDimensions,\n    computeAxisDimensions,\n    calculateContinousSpace,\n    setOffset,\n    getValidDomain,\n    getSmartAxisName\n} from './helper';\nimport { PROPS } from './props';\n\nexport default class SimpleAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @memberof SimpleAxis\n     */\n    constructor (config, dependencies) {\n        this._id = getUniqueId();\n\n        this._dependencies = dependencies;\n        this._mount = null;\n        this._range = [];\n        this._domain = [];\n        this._domainLock = false;\n        this._axisDimensions = {};\n        this._smartTicks = [];\n\n        const defCon = mergeRecursive({}, this.constructor.defaultConfig());\n        const simpleConfig = mergeRecursive(defCon, config);\n\n        const bodyElem = selectElement('body');\n        const classPrefix = simpleConfig.classPrefix;\n        this._tickLabelStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-ticks`);\n        this._axisNameStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-axis-name`);\n\n        dependencies.labelManager.setStyle(this._tickLabelStyle);\n        const dist = dependencies.labelManager.getOriSize('w');\n\n        this._minTickDistance = { width: dist.width * 3 / 4, height: dist.height / 2 };\n        this._minTickSpace = dependencies.labelManager.getOriSize('www...');\n\n        generateGetterSetters(this, PROPS);\n        this.config(simpleConfig);\n\n        this._scale = this.createScale(this._config);\n        this._axis = this.createAxis(this._config);\n        this._animationDonePromises = [];\n    }\n\n    /**\n     * Returns the default configuration of simple axis\n     *  @return {Object} default configurations\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    scale (...params) {\n        if (params.length) {\n            this._scale = params[0];\n            return this;\n        }\n        return this._scale;\n    }\n\n    resetDomain () {\n        this._domain = [];\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    axis (...params) {\n        if (params.length) {\n            this._axis = params[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            const domainValue = getValidDomain(this, domain[0]);\n            this.scale().domain(domainValue);\n            this._domain = this.scale().domain();\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        }\n        return this._domain;\n    }\n\n    setAxisComponentDimensions () {\n        this.axisComponentDimensions(getAxisComponentDimensions(this));\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const scale = createScale({\n            padding,\n            interpolator,\n            exponent,\n            base,\n            range,\n            type: this.constructor.type()\n        });\n\n        return scale;\n    }\n\n    sanitizeTickFormatter (value) {\n        const { tickFormat, numberFormat } = value;\n\n        if (tickFormat) {\n            return ticks => (val, i) => tickFormat(numberFormat(val), val, i, ticks);\n        }\n\n        return () => val => numberFormat(val);\n    }\n\n    resetRenderConfig (config) {\n        const {\n            labels,\n            show,\n            showInnerTicks,\n            showOuterTicks,\n            showAxisName,\n            xOffset,\n            yOffset,\n            tickValues,\n            smartAxisName\n        } = config;\n        this.renderConfig({\n            labels,\n            show,\n            showInnerTicks,\n            showOuterTicks,\n            showAxisName,\n            xOffset,\n            yOffset,\n            tickValues,\n            smartAxisName\n        });\n        return this;\n    }\n\n    resetLogicalSpace () {\n        this.logicalSpace(null);\n        this.range([]);\n\n        this.resetRenderConfig(this.config());\n    }\n\n    getFormattedText (text, index, axisTicks) {\n        const formatter = this._tickFormatter;\n\n        return formatter(axisTicks)(text, index);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createAxis (config) {\n        const { orientation } = config;\n        const axisClass = axisOrientationMap[orientation];\n\n        if (axisClass) {\n            const axis = axisClass(this.scale());\n            return axis;\n        }\n        return null;\n    }\n\n    setTickValues (tickValues) {\n        const renderConfig = this.renderConfig();\n        this.config({ ...renderConfig, tickValues });\n        this.tickValues = tickValues;\n        this.axis().tickValues(tickValues);\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        let labelConfig = {};\n        const {\n           orientation\n       } = this.config();\n\n        this.availableSpace({ width, height, padding });\n        const type = this.constructor.type();\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            labelConfig = spaceSetter(this, { isOffset })[type].x();\n        } else {\n            labelConfig = spaceSetter(this, { isOffset })[type].y();\n        }\n\n        // Set config\n        this.renderConfig({\n            labels: labelConfig\n        });\n        this.setTickConfig();\n        this.setSmartAxisName();\n        return this;\n    }\n\n    setSmartAxisName () {\n        const { orientation, name } = this.config();\n        const dimType = (orientation === TOP || orientation === BOTTOM) ? 'width' : 'height';\n        const widthDim = this.availableSpace()[dimType];\n        const labelManager = this.dependencies().labelManager;\n        labelManager.setStyle(this._axisNameStyle);\n        this.renderConfig({\n            smartAxisName: getSmartAxisName(name, widthDim, labelManager)\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        return this;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this.scale()(domainVal);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        return this.axis().tickSize();\n    }\n\n    /**\n     * Gets the space occupied by the parts of an axis\n     *\n     * @return {Object} object with details about sizes of the axis.\n     * @memberof SimpleAxis\n     */\n    getAxisDimensions (...params) {\n        this.axisDimensions(computeAxisDimensions(this, ...params));\n        return this.axisDimensions();\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateContinousSpace(this));\n        }\n        setOffset(this);\n\n        return this.logicalSpace();\n    }\n\n    /**\n     * Returns the value from the domain when given a value from the range.\n     * @param {number} value Value from the range.\n     * @return {number} Value\n     */\n    invert (value) {\n        return this.scale().invert(value);\n    }\n\n    /**\n     * Gets the nearest range value from the given range values.\n     * @param {number} v1 Start range value\n     * @param {number} v2 End range value\n     *\n     * @return {Array} range values\n     */\n    getNearestRange (v1, v2) {\n        return [v1, v2];\n    }\n\n    invertExtent (v1, v2) {\n        return [this.invert(v1), this.invert(v2)];\n    }\n\n    getMinTickDifference () {\n        return this.domain();\n    }\n\n    getFormattedTickValues (tickValues) {\n        return tickValues;\n    }\n\n    /**\n     * This method returns the width in pixels for one\n     * unit along the axis. It is only applicable to band scale\n     * and returns undefined for other scale type.\n     *\n     * @return {number} the width of one band along band scale axis\n     * @memberof SimpleAxis\n     */\n    getUnitWidth () {\n        return 0;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof SimpleAxis\n     */\n    serialize () {\n        return {\n            name: this.name,\n            type: this.type,\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * This method is used to render the axis inside\n     * the supplied svg container.\n     *\n     * @param {SVGElement} svg the svg element in which to render the path\n     * @memberof SimpleAxis\n     */\n    /* istanbul ignore next */render () {\n        if (this.mount()) {\n            this.setTickConfig();\n            renderAxis(this);\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    remove () {\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    unsubscribe () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    isReverse () {\n        const range = this.range();\n        return range[0] > range[1];\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getPixelToValueRatio () {\n        const scale = this.scale();\n        const range = scale.range();\n        const domain = scale.domain();\n\n        return Math.abs(range[1] - range[0]) / (domain[1] - domain[0]);\n    }\n\n     /**\n     * Notifies when all animations/transitions of the axis are completed.\n     *\n     * @public\n     * @return {Promise} Returns a promise to notify the animation completion.\n     */\n    animationDone () {\n        return Promise.all(this._animationDonePromises);\n    }\n\n    registerAnimationDoneHook () {\n        let resolveFn;\n        const promise = new Promise((resolve) => {\n            resolveFn = resolve;\n        });\n        this._animationDonePromises.push(promise);\n\n        return () => {\n            resolveFn();\n        };\n    }\n}\n\n","import {\n    timeMillisecond,\n    timeSecond,\n    timeMinute,\n    timeHour,\n    timeDay,\n    timeWeek,\n    timeMonth,\n    timeYear\n} from 'muze-utils';\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\n// Longest Word for each level based on which tick skipping is decided\nconst longestWord = {\n    month: 'September',\n    quarter: 'October',\n    halfYearly: 'July',\n    year: 9999,\n    day: 'September',\n    hour: '24 AM',\n    mintues: '60:60',\n    seconds: ':60',\n    week: 'Wed 31'\n};\n\n// These are the various levels of ticks that can be shown by Muze.\n// Each level is described as how frequently the ticks appear\n// The format is as follows:\n// [Frequency, Milliseconds, Name of Seconds, Tick Generator, Level Type]\nconst tickIntervals = [\n    [1, 1, 'milliseconds', timeMillisecond.every(1), 'seconds'],\n    [1, durationSecond, 'seconds', timeSecond.every(1), 'seconds'],\n    [5, 5 * durationSecond, 'five seconds', timeSecond.every(5), 'seconds'],\n    [10, 10 * durationSecond, 'ten seconds', timeSecond.every(10), 'seconds'],\n    [15, 15 * durationSecond, 'fifteen seconds', timeSecond.every(15), 'seconds'],\n    [30, 30 * durationSecond, 'thirty seconds', timeSecond.every(30), 'seconds'],\n    [1, durationMinute, 'minute', timeMinute.every(1), 'minutes'],\n    [5, 5 * durationMinute, 'five minutes', timeMinute.every(5), 'minutes'],\n    [10, 10 * durationMinute, 'ten minutes', timeMinute.every(10), 'minutes'],\n    [15, 15 * durationMinute, 'fifteen minutes', timeMinute.every(15), 'minutes'],\n    [30, 30 * durationMinute, 'thirty minutes', timeMinute.every(30), 'minutes'],\n    [1, durationHour, 'hour', timeHour.every(1), 'hour'],\n    [3, 3 * durationHour, 'three hours', timeHour.every(3), 'hour'],\n    [6, 6 * durationHour, 'six hours', timeHour.every(6), 'hour'],\n    [12, 12 * durationHour, 'twelve hours', timeHour.every(12), 'hour'],\n    [1, durationDay, 'daily', timeDay.every(1), 'day'],\n    [1, durationWeek, 'weekly', timeWeek.every(1), 'week'],\n    [1, durationMonth, 'monthly', timeMonth.every(1), 'week'],\n    [3, 3 * durationMonth, 'quaterly', timeMonth.every(3), 'quarter'],\n    [6, 6 * durationMonth, 'half yearly', timeMonth.every(6), 'halfYearly'],\n    [1, durationYear, 'yearly', timeYear.every(1), 'year'],\n    [2, 2 * durationYear, '2 year', timeYear.every(2), 'year'],\n    [3, 3 * durationYear, '3 year', timeYear.every(3), 'year'],\n    [5, 5 * durationYear, '5 year', timeYear.every(5), 'year'],\n    [10, 10 * durationYear, 'decade', timeYear.every(10), 'year'],\n    [100, 100 * durationYear, 'century', timeYear.every(100), 'year'],\n    [1000, 1000 * durationYear, 'millenium', timeYear.every(1000), 'year']\n];\n/**\n * Get the actual tick interval based on the available width, number of ticks\n * and the distance between two ticks\n *\n * @param {Object} context Axis Context\n * @param {number} noOfTicks Number of Ticks based on which interval is calculated\n * @return {number} The width for the tick interval\n */\nconst getActualTickInterval = (context, noOfTicks) => {\n    const minTickDistance = context._minTickDistance;\n    const minWidthBetweenTicks = minTickDistance.width;\n\n    const { width } = context.availableSpace();\n    const actualTickInterval = Math.floor(((width - (noOfTicks - 1) * (minWidthBetweenTicks)) / noOfTicks));\n\n    return actualTickInterval;\n};\n\n/**\n * Get the tick interval based on the current level of ticks. Levels are decided on\n * the number of ticks that are possible to show\n *\n * @param {Object} context Axis Context\n * @param {string} type Type of level (yearly, monthly, etc)\n * @return {number} The width for the tick interval\n */\nconst getTickIntervalBasedOnCurrentLevel = (context, type) => {\n    const labelManager = context._dependencies.labelManager;\n    const longestWordType = longestWord[type];\n    const measure = labelManager.getOriSize(longestWordType);\n\n    return measure.width;\n};\n\nconst getTickIntervalFnBasedOnNumberOfTicks = (interval, count, context) => {\n    let possibleTickLevelIndex = tickIntervals.length - 1;\n    let maxPossibleTicks = 1;\n    let tickIntervalLevelInfo = null;\n\n    // Decide possible tick level based on min tick width (with ellipses)\n    for (let i = tickIntervals.length - 1; i >= 0; i--) {\n        const tickIntervalInfo = tickIntervals[i];\n        const numOfPossibleTicks = Math.floor(interval / tickIntervalInfo[1]);\n        if (numOfPossibleTicks <= count) {\n            possibleTickLevelIndex = i;\n            maxPossibleTicks = numOfPossibleTicks;\n        }\n    }\n\n    tickIntervalLevelInfo = tickIntervals[possibleTickLevelIndex];\n\n    // Get actual tick interval based on the level of ticks generated\n    const actualTickInterval = getActualTickInterval(context, maxPossibleTicks);\n\n    // Maximum Possible tick Interval for a particular level based on a pre decided set of values\n    const maxTickInterval = getTickIntervalBasedOnCurrentLevel(context, tickIntervalLevelInfo[4]);\n\n    // Display the next level involving tick skipping if current level does not meet the requirement\n    // for displaying max tick\n    if (actualTickInterval < maxTickInterval && possibleTickLevelIndex < tickIntervals.length - 1) {\n        tickIntervalLevelInfo = tickIntervals[possibleTickLevelIndex + 1];\n    }\n    return tickIntervalLevelInfo[3];\n};\n\nexport const getSkippedTicks = (context, maxPossibleTicks) => {\n    let actualNumberOfTicks = maxPossibleTicks;\n    const domain = context.domain();\n    const minDiff = context._minDiff;\n    // Get the interval in ms from the domain\n    const millisecondInterval = domain[1] - domain[0];\n    // Get number of ticks based on the minimum difference in the data\n    const numOfTicksAccordingToMinDiff = Math.floor(millisecondInterval / minDiff);\n\n    // Show ticks according to min diff if possible\n    if (maxPossibleTicks >= numOfTicksAccordingToMinDiff) {\n        actualNumberOfTicks = numOfTicksAccordingToMinDiff;\n    }\n\n    return getTickIntervalFnBasedOnNumberOfTicks(millisecondInterval, actualNumberOfTicks, context);\n};\n","import { BOTTOM, TOP, LEFT, RIGHT } from '../enums/axis-orientation';\nimport { getSkippedTicks } from './skip-ticks';\nimport { TIME, LINEAR, BAND } from '../enums/scale-type';\n\nexport const applyTickSkipping = (context) => {\n    const minTickDistance = context._minTickDistance;\n    const minTickSpace = context._minTickSpace;\n    const minWidthBetweenTicks = minTickDistance.width;\n    const minTickWidth = minTickSpace.width;\n\n    const { width } = context.availableSpace();\n\n    const maxTicks = Math.floor((width + minWidthBetweenTicks) / (minTickWidth + minWidthBetweenTicks));\n\n    const ticks = context.scale().ticks(getSkippedTicks(context, maxTicks));\n\n    context.renderConfig({\n        tickValues: ticks\n    });\n};\n\nconst adjustHorizontalRange = (range, diff) => {\n    range[0] += diff;\n    range[1] -= diff;\n    return range;\n};\n\nconst adjustVerticalRange = (range, diff) => {\n    range[0] -= diff;\n    range[1] += diff;\n    return range;\n};\n\nconst rangeAdjustmentMap = {\n    [TOP]: adjustHorizontalRange,\n    [BOTTOM]: adjustHorizontalRange,\n    [LEFT]: adjustVerticalRange,\n    [RIGHT]: adjustVerticalRange\n};\n\nexport const setAxisRange = (context, type, rangeBounds, offset) => {\n    context.range(rangeBounds);\n    offset && context.renderConfig({ [`${type}Offset`]: offset });\n};\n\nconst getAxisOffset = (timeDiff, range, domain) => {\n    const avWidth = Math.abs(range[1] - range[0]);\n    const pvr = avWidth / (domain[1] - domain[0]);\n    const width = (pvr * timeDiff);\n    const bars = avWidth / width;\n    const barWidth = avWidth / (bars + 1);\n    const diff = avWidth - barWidth * bars;\n\n    return diff / 2;\n};\n\nexport const getAdjustedRange = (minDiff, range, domain, config) => {\n    const {\n        orientation,\n        adjustRange\n    } = config;\n    const diff = getAxisOffset(minDiff, range, domain);\n\n    if (adjustRange) {\n        return rangeAdjustmentMap[orientation](range, diff);\n    }\n    return range;\n};\n\nexport const spaceSetter = (context, spaceConfig) => {\n    let tickInterval;\n    let heightForTicks;\n    const config = context.config();\n    const {\n        width: availWidth,\n        height: availHeight,\n        padding\n    } = context.availableSpace();\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = padding;\n    const {\n        isOffset\n    } = spaceConfig;\n    const {\n        showAxisName,\n        labels\n    } = context.renderConfig();\n    const {\n        rotation\n    } = labels;\n    const {\n        fixedBaseline,\n        axisNamePadding,\n        tickValues\n    } = config;\n    const {\n        tickDimensions,\n        allTickDimensions,\n        axisNameDimensions,\n        tickSize\n    } = context.getAxisDimensions();\n    const {\n        height: tickDimHeight,\n        width: tickDimWidth\n    } = tickDimensions;\n\n    const namePadding = showAxisName ? axisNamePadding : 0;\n    const labelConfig = { smartTicks: true, rotation: labels.rotation };\n    const minTickDistance = context._minTickDistance;\n    const minTickSpace = context._minTickSpace;\n    const minDiff = context._minDiff;\n    const domain = context.domain();\n    const axisNameHeight = axisNameDimensions.height;\n    const minWidthBetweenTicks = minTickDistance.width;\n    const minTickWidth = Math.min(minTickSpace.width, tickDimWidth);\n    const minTickHeight = Math.min(minTickSpace.height, tickDimHeight);\n\n    return {\n        [TIME]: {\n            x: () => {\n                !tickValues && context.applyTickSkipping();\n                const noOfTicks = context.getTickValues().length;\n\n                // Get the Tick Interval\n                tickInterval = ((availWidth - (noOfTicks - 1) * (minWidthBetweenTicks)) / noOfTicks);\n\n                // Get height for ticks\n                heightForTicks = availHeight - axisNameHeight - tickSize - namePadding;\n\n                if (tickInterval < minTickWidth && rotation !== 0) {\n                    // set smart ticks and rotation config\n                    labelConfig.rotation = rotation;\n                    // Remove ticks if not enough height\n                    if (tickInterval < minTickHeight) {\n                        heightForTicks = availHeight;\n                        tickInterval = minTickHeight;\n                        context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n\n                const tickShifter = Math.min(tickInterval, tickDimWidth);\n                // set range for axis\n                setAxisRange(context, 'y', getAdjustedRange(minDiff, [tickShifter / 2,\n                    availWidth - left - right - tickShifter / 2], domain, config),\n                        isOffset ? availHeight : null);\n\n                context.maxTickSpaces({\n                    width: tickInterval,\n                    height: heightForTicks,\n                    noWrap: rotation !== null\n                });\n\n                return labelConfig;\n            },\n            y: () => {\n                let widthForTicks = availWidth;\n                const tickShifter = tickDimHeight / 2;\n\n                setAxisRange(context, 'x', getAdjustedRange(minDiff,\n                    [availHeight - top - bottom - tickShifter, tickShifter], domain, config),\n                        isOffset ? availWidth : null);\n\n                if ((availWidth - axisNameHeight - namePadding) <= minWidthBetweenTicks) {\n                    widthForTicks = 0;\n                    context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: widthForTicks,\n                    height: availHeight,\n                    noWrap: true\n                });\n                if (availWidth < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            }\n        },\n        [BAND]: {\n            x: () => {\n                setAxisRange(context, 'y', [0, availWidth - left - right], isOffset ? availHeight : null);\n                const range = context.range();\n\n                // Get Tick Interval\n                tickInterval = ((range[1] - range[0]) / (tickValues || domain).length) - minWidthBetweenTicks;\n\n                // Get height available for ticks\n                heightForTicks = availHeight - axisNameHeight - tickSize - namePadding;\n\n                if (tickInterval < minTickWidth && rotation !== 0) {\n                    // set smart ticks and rotation config\n                    labelConfig.rotation = rotation === null ? -90 : rotation;\n                    labelConfig.smartTicks = false;\n\n                    tickInterval = Math.max(heightForTicks, minTickWidth);\n\n                    if (heightForTicks < minTickWidth) {\n                        context.renderConfig({ showAxisName: false });\n                    }\n                } else if (tickValues) {\n                    const interval = (availWidth / domain.length) - minWidthBetweenTicks;\n                    if (interval < minTickWidth) {\n                        context.range([minTickHeight / 2, availWidth - minTickHeight / 2]);\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n\n                context.maxTickSpaces({\n                    width: tickInterval,\n                    height: heightForTicks,\n                    noWrap: rotation !== null\n                });\n                return labelConfig;\n            },\n            y: () => {\n                setAxisRange(context, 'x', [availHeight - bottom, top], isOffset ? availWidth : null);\n\n                let widthForTicks = availWidth - axisNameHeight - tickSize - namePadding;\n                if (widthForTicks <= minWidthBetweenTicks) {\n                    widthForTicks = 0;\n                    context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: widthForTicks,\n                    height: availHeight,\n                    noWrap: true\n                });\n                if (availWidth < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            }\n        },\n        [LINEAR]: {\n            x: () => {\n                labelConfig.smartTicks = false;\n                const tickShifter = tickDimWidth / 2;\n\n                const baseline = fixedBaseline ? 0 : tickShifter;\n\n                setAxisRange(context, 'y', [baseline + left, availWidth - right - tickShifter],\n                    isOffset ? availHeight : null);\n\n                const range = context.range();\n\n                // Get Tick widths and available space\n                const totalTickWidth = allTickDimensions.length * (tickDimWidth + minWidthBetweenTicks);\n                const availableWidth = range[1] - range[0];\n\n                 // Rotate labels if not enough width\n                if (availableWidth < totalTickWidth && labels.rotation !== null) {\n                    if (availHeight - tickDimWidth - namePadding - tickSize > axisNameHeight) {\n                        labelConfig.rotation = null;\n                        context.renderConfig({\n                            showInnerTicks: true,\n                            showAxisName: true\n                        });\n                    } else {\n                        labelConfig.rotation = -90;\n                        context.renderConfig({\n                            showInnerTicks: true,\n                            showAxisName: false\n\n                        });\n                    }\n                }\n\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            },\n            y: () => {\n                labelConfig.smartTicks = false;\n                const tickShifter = tickDimensions.height / 2;\n                const baseline = fixedBaseline ? 1 : tickShifter;\n\n                setAxisRange(context, 'x', [availHeight - bottom - baseline, tickShifter + top],\n                    isOffset ? availWidth : null);\n\n                // Remove display of ticks if no space is left\n                if (availWidth < tickDimWidth + axisNameHeight + namePadding) {\n                    context.renderConfig({ showInnerTicks: false });\n                    if (availWidth < axisNameHeight) {\n                        context.renderConfig({ show: false });\n                    }\n                }\n                return labelConfig;\n            }\n        }\n    };\n};\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { TIME } from '../enums/scale-type';\nimport { calculateBandSpace, getRotatedSpaces, getValidDomain, setContinousAxisDomain, setOffset,\n    resetTickInterval } from './helper';\nimport { applyTickSkipping } from './space-setter';\n\n/**\n *\n *\n * @export\n * @class TimeAxis\n * @extends {SimpleAxis}\n */\nexport default class TimeAxis extends SimpleAxis {\n\n    constructor (...params) {\n        super(...params);\n        this._minDiff = Infinity;\n    }\n\n    /**\n     *\n     *\n     * @param {*} range\n     *\n     * @memberof TimeAxis\n     */\n    createScale (range) {\n        let scale = super.createScale(range);\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof TimeAxis\n     */\n    static type () {\n        return TIME;\n    }\n\n    formatTickValue (val) {\n        return this.scale().tickFormat()(val);\n    }\n\n    sanitizeTickFormatter (value) {\n        const { tickFormat } = value;\n\n        if (tickFormat) {\n            return (ticks) => {\n                const rawTicks = ticks.map(t => t.getTime());\n                return (val, i) => tickFormat(this.formatTickValue(val), val.getTime(), i, rawTicks);\n            };\n        }\n        return () => val => this.formatTickValue(val);\n    }\n\n     /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n        return super.getTickSize();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof TimeAxis\n     */\n    getTickValues () {\n        return this.renderConfig().tickValues || this.scale().ticks();\n    }\n\n    /**\n     *\n     *\n     * @param {*} diff\n     *\n     * @memberof TimeAxis\n     */\n    minDiff (diff) {\n        this._minDiff = Math.min(this._minDiff, diff);\n        return this;\n    }\n\n    applyTickSkipping () {\n        applyTickSkipping(this);\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            const domainValue = getValidDomain(this, domain[0]);\n            setContinousAxisDomain(this, domainValue);\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n\n            resetTickInterval(this, domainValue);\n            return this;\n        }\n        return this._domain;\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n        }\n        setOffset(this);\n\n        return this.logicalSpace();\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.config().tickValues);\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (...params) {\n        super.setAvailableSpace(...params);\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks;\n        let smartlabel;\n\n        const { labels, tickValues } = this.renderConfig();\n        const { height: availHeight, width: availWidth, noWrap } = this.maxTickSpaces();\n        const { labelManager } = this._dependencies;\n        const domain = this.getTickValues();\n\n        tickValues && this.axis().tickValues(tickValues);\n\n        const { width, height } = getRotatedSpaces(labels.rotation, availWidth, availHeight);\n\n        smartTicks = tickValues || domain;\n\n        // set the style on the shared label manager instance\n        labelManager.setStyle(this._tickLabelStyle);\n\n        if (domain && domain.length) {\n            const values = tickValues || domain;\n            const tickFormatter = this._tickFormatter(values);\n            smartTicks = values.map((d, i) => {\n                labelManager.useEllipsesOnOverflow(true);\n\n                smartlabel = labelManager.getSmartText(tickFormatter(d, i), width, height, noWrap);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n\n        this.smartTicks(smartTicks);\n        return this;\n    }\n}\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters, rgbToHsv, defaultValue } from 'muze-utils';\nimport { createScale, getScheme, getSchemeType } from '../scale-creator';\nimport { CONTINOUS, DISCRETE, COLOR } from '../enums/constants';\nimport { strategyGetter } from './color-strategy';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { PROPS, getHslString, getActualHslColor } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ColorAxis {\n\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} config input parameters.\n    * @param {Object | undefined} params.range Type of color range.\n    * @param {string} params.name the label to show on axis.\n    * @param {string} params.type The type of scale to handle.\n    * @memberof ColorAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n        this.config(config);\n\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n        this._rangeType = (this._config.type === 'linear' && !this._config.step) ? CONTINOUS : DISCRETE;\n\n        this._schemeType = getSchemeType(this._config.range);\n\n        this._colorStrategy = this.setColorStrategy(this._domainType, this._rangeType, this._schemeType);\n        this._scale = this.createScale(this._colorStrategy);\n\n        this._id = getUniqueId();\n\n        this.updateDomain(config.domain);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return COLOR;\n    }\n\n    /**\n     *\n     *\n     * @param {*} colorStrategy\n     *\n     * @memberof ColorAxis\n     */\n    createScale (colorStrategy) {\n        const { range } = this.config();\n        if (range && typeof (range) === 'string') {\n            return getScheme(range);\n        }\n        return createScale({\n            type: colorStrategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     *\n     * @memberof ColorAxis\n     */\n    setColorStrategy (domainType, rangeType, schemeType) {\n        return strategyGetter(domainType, rangeType, schemeType);\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getHslString (hslColorArray) {\n        return getHslString(hslColorArray);\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getColor (domainVal) {\n        return this.getHslString(this.getRawColor(domainVal));\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getRawColor (domainVal) {\n        if (this.domain() && domainVal !== undefined) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const color = this._colorStrategy.value(range)(domainVal, scale, this.domain(), this.uniqueValues());\n            if (color) {\n                if (typeof color === 'string') {\n                    const col = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(/,\\s*/);\n                    return rgbToHsv(...col);\n                }\n                return [...color];\n            }\n        }\n        return [...this.config().value];\n    }\n\n    /**\n     *\n     *\n     * @param {*} [domain=[]]\n     *\n     * @memberof ColorAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const domainRangeFn = this._colorStrategy.domainRange();\n            const scaleInfo = domainRangeFn(domain, this.config().stops, range);\n\n            this.domain(scaleInfo.domain);\n            scaleInfo.range && this.scale().range(scaleInfo.range);\n            this.uniqueValues(scaleInfo.uniqueVals);\n            this.scale().domain(scaleInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            config: this.config()\n        };\n    }\n\n    transformColor (color, transformationArr) {\n        const h = color[0] * 360;\n        const s = color[1] * 100;\n        const l = color[2] * 100;\n        const a = Math.min(defaultValue(color[3], 0), 1);\n        const newH = h + transformationArr[0];\n        const newS = s + transformationArr[1];\n        const newL = l + transformationArr[2];\n        const newA = Math.min(a + transformationArr[3] || 0, 1);\n\n        return { color: `hsla(${newH},${newS}%,${newL}%,${newA})`, hsla: [newH / 360, newS / 100, newL / 100, newA] };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n\n    getHslArray (color) {\n        return getActualHslColor(color);\n    }\n\n}\n","export const x11Colors = {\n    Pink: { hex: 'ffc0cb', rgb: '255,192,203' },\n    LightPink: { hex: 'ffb6c1', rgb: '255,182,193' },\n    HotPink: { hex: 'ff69b4', rgb: '255,105,180' },\n    DeepPink: { hex: 'ff1493', rgb: '255,20,147' },\n    PaleVioletRed: { hex: 'db7093', rgb: '219,112,147' },\n    MediumVioletRed: { hex: 'c71585', rgb: '199,21,133' },\n    LightSalmon: { hex: 'ffa07a', rgb: '255,160,122' },\n    Salmon: { hex: 'fa8072', rgb: '250,128,114' },\n    DarkSalmon: { hex: 'e9967a', rgb: '233,150,122' },\n    LightCoral: { hex: 'f08080', rgb: '240,128,128' },\n    IndianRed: { hex: 'cd5c5c', rgb: '205,92,92' },\n    Crimson: { hex: 'dc143c', rgb: '220,20,60' },\n    FireBrick: { hex: 'b22222', rgb: '178,34,34' },\n    DarkRed: { hex: '8b0000', rgb: '139,0,0' },\n    Red: { hex: 'ff0000', rgb: '255,0,0' },\n    OrangeRed: { hex: 'ff4500', rgb: '255,69,0' },\n    Tomato: { hex: 'ff6347', rgb: '255,99,71' },\n    Coral: { hex: 'ff7f50', rgb: '255,127,80' },\n    DarkOrange: { hex: 'ff8c00', rgb: '255,140,0' },\n    Orange: { hex: 'ffa500', rgb: '255,165,0' },\n    Gold: { hex: 'ffd700', rgb: '255,215,0' },\n    Yellow: { hex: 'ffff00', rgb: '255,255,0' },\n    LightYellow: { hex: 'ffffe0', rgb: '255,255,224' },\n    LemonChiffon: { hex: 'fffacd', rgb: '255,250,205' },\n    LightGoldenrodYellow: { hex: 'fafad2', rgb: '250,250,210' },\n    PapayaWhip: { hex: 'ffefd5', rgb: '255,239,213' },\n    Moccasin: { hex: 'ffe4b5', rgb: '255,228,181' },\n    PeachPuff: { hex: 'ffdab9', rgb: '255,218,185' },\n    PaleGoldenrod: { hex: 'eee8aa', rgb: '238,232,170' },\n    Khaki: { hex: 'f0e68c', rgb: '240,230,140' },\n    DarkKhaki: { hex: 'bdb76b', rgb: '189,183,107' },\n    Cornsilk: { hex: 'fff8dc', rgb: '255,248,220' },\n    BlanchedAlmond: { hex: 'ffebcd', rgb: '255,235,205' },\n    Bisque: { hex: 'ffe4c4', rgb: '255,228,196' },\n    NavajoWhite: { hex: 'ffdead', rgb: '255,222,173' },\n    Wheat: { hex: 'f5deb3', rgb: '245,222,179' },\n    BurlyWood: { hex: 'deb887', rgb: '222,184,135' },\n    Tan: { hex: 'd2b48c', rgb: '210,180,140' },\n    RosyBrown: { hex: 'bc8f8f', rgb: '188,143,143' },\n    SandyBrown: { hex: 'f4a460', rgb: '244,164,96' },\n    Goldenrod: { hex: 'daa520', rgb: '218,165,32' },\n    DarkGoldenrod: { hex: 'b8860b', rgb: '184,134,11' },\n    Peru: { hex: 'cd853f', rgb: '205,133,63' },\n    Chocolate: { hex: 'd2691e', rgb: '210,105,30' },\n    SaddleBrown: { hex: '8b4513', rgb: '139,69,19' },\n    Sienna: { hex: 'a0522d', rgb: '160,82,45' },\n    Brown: { hex: 'a52a2a', rgb: '165,42,42' },\n    Maroon: { hex: '800000', rgb: '128,0,0' },\n    DarkOliveGreen: { hex: '556b2f', rgb: '85,107,47' },\n    Olive: { hex: '808000', rgb: '128,128,0' },\n    OliveDrab: { hex: '6b8e23', rgb: '107,142,35' },\n    YellowGreen: { hex: '9acd32', rgb: '154,205,50' },\n    LimeGreen: { hex: '32cd32', rgb: '50,205,50' },\n    Lime: { hex: '00ff00', rgb: '0,255,0' },\n    LawnGreen: { hex: '7cfc00', rgb: '124,252,0' },\n    Chartreuse: { hex: '7fff00', rgb: '127,255,0' },\n    GreenYellow: { hex: 'adff2f', rgb: '173,255,47' },\n    SpringGreen: { hex: '00ff7f', rgb: '0,255,127' },\n    MediumSpringGreen: { hex: '00fa9a', rgb: '0,250,154' },\n    LightGreen: { hex: '90ee90', rgb: '144,238,144' },\n    PaleGreen: { hex: '98fb98', rgb: '152,251,152' },\n    DarkSeaGreen: { hex: '8fbc8f', rgb: '143,188,143' },\n    MediumSeaGreen: { hex: '3cb371', rgb: '60,179,113' },\n    SeaGreen: { hex: '2e8b57', rgb: '46,139,87' },\n    ForestGreen: { hex: '228b22', rgb: '34,139,34' },\n    Green: { hex: '008000', rgb: '0,128,0' },\n    DarkGreen: { hex: '006400', rgb: '0,100,0' },\n    MediumAquamarine: { hex: '66cdaa', rgb: '102,205,170' },\n    Aqua: { hex: '00ffff', rgb: '0,255,255' },\n    Cyan: { hex: '00ffff', rgb: '0,255,255' },\n    LightCyan: { hex: 'e0ffff', rgb: '224,255,255' },\n    PaleTurquoise: { hex: 'afeeee', rgb: '175,238,238' },\n    Aquamarine: { hex: '7fffd4', rgb: '127,255,212' },\n    Turquoise: { hex: '40e0d0', rgb: '64,224,208' },\n    MediumTurquoise: { hex: '48d1cc', rgb: '72,209,204' },\n    DarkTurquoise: { hex: '00ced1', rgb: '0,206,209' },\n    LightSeaGreen: { hex: '20b2aa', rgb: '32,178,170' },\n    CadetBlue: { hex: '5f9ea0', rgb: '95,158,160' },\n    DarkCyan: { hex: '008b8b', rgb: '0,139,139' },\n    Teal: { hex: '008080', rgb: '0,128,128' },\n    LightSteelBlue: { hex: 'b0c4de', rgb: '176,196,222' },\n    PowderBlue: { hex: 'b0e0e6', rgb: '176,224,230' },\n    LightBlue: { hex: 'add8e6', rgb: '173,216,230' },\n    SkyBlue: { hex: '87ceeb', rgb: '135,206,235' },\n    LightSkyBlue: { hex: '87cefa', rgb: '135,206,250' },\n    DeepSkyBlue: { hex: '00bfff', rgb: '0,191,255' },\n    DodgerBlue: { hex: '1e90ff', rgb: '30,144,255' },\n    CornflowerBlue: { hex: '6495ed', rgb: '100,149,237' },\n    SteelBlue: { hex: '4682b4', rgb: '70,130,180' },\n    RoyalBlue: { hex: '4169e1', rgb: '65,105,225' },\n    Blue: { hex: '0000ff', rgb: '0,0,255' },\n    MediumBlue: { hex: '0000cd', rgb: '0,0,205' },\n    DarkBlue: { hex: '00008b', rgb: '0,0,139' },\n    Navy: { hex: '000080', rgb: '0,0,128' },\n    MidnightBlue: { hex: '191970', rgb: '25,25,112' },\n    Lavender: { hex: 'e6e6fa', rgb: '230,230,250' },\n    Thistle: { hex: 'd8bfd8', rgb: '216,191,216' },\n    Plum: { hex: 'dda0dd', rgb: '221,160,221' },\n    Violet: { hex: 'ee82ee', rgb: '238,130,238' },\n    Orchid: { hex: 'da70d6', rgb: '218,112,214' },\n    Fuchsia: { hex: 'ff00ff', rgb: '255,0,255' },\n    Magenta: { hex: 'ff00ff', rgb: '255,0,255' },\n    MediumOrchid: { hex: 'ba55d3', rgb: '186,85,211' },\n    MediumPurple: { hex: '9370db', rgb: '147,112,219' },\n    BlueViolet: { hex: '8a2be2', rgb: '138,43,226' },\n    DarkViolet: { hex: '9400d3', rgb: '148,0,211' },\n    DarkOrchid: { hex: '9932cc', rgb: '153,50,204' },\n    DarkMagenta: { hex: '8b008b', rgb: '139,0,139' },\n    Purple: { hex: '800080', rgb: '128,0,128' },\n    Indigo: { hex: '4b0082', rgb: '75,0,130' },\n    DarkSlateBlue: { hex: '483d8b', rgb: '72,61,139' },\n    SlateBlue: { hex: '6a5acd', rgb: '106,90,205' },\n    MediumSlateBlue: { hex: '7b68ee', rgb: '123,104,238' },\n    White: { hex: 'ffffff', rgb: '255,255,255' },\n    Snow: { hex: 'fffafa', rgb: '255,250,250' },\n    Honeydew: { hex: 'f0fff0', rgb: '240,255,240' },\n    MintCream: { hex: 'f5fffa', rgb: '245,255,250' },\n    Azure: { hex: 'f0ffff', rgb: '240,255,255' },\n    AliceBlue: { hex: 'f0f8ff', rgb: '240,248,255' },\n    GhostWhite: { hex: 'f8f8ff', rgb: '248,248,255' },\n    WhiteSmoke: { hex: 'f5f5f5', rgb: '245,245,245' },\n    Seashell: { hex: 'fff5ee', rgb: '255,245,238' },\n    Beige: { hex: 'f5f5dc', rgb: '245,245,220' },\n    OldLace: { hex: 'fdf5e6', rgb: '253,245,230' },\n    FloralWhite: { hex: 'fffaf0', rgb: '255,250,240' },\n    Ivory: { hex: 'fffff0', rgb: '255,255,240' },\n    AntiqueWhite: { hex: 'faebd7', rgb: '250,235,215' },\n    Linen: { hex: 'faf0e6', rgb: '250,240,230' },\n    LavenderBlush: { hex: 'fff0f5', rgb: '255,240,245' },\n    MistyRose: { hex: 'ffe4e1', rgb: '255,228,225' },\n    Gainsboro: { hex: 'dcdcdc', rgb: '220,220,220' },\n    LightGray: { hex: 'd3d3d3', rgb: '211,211,211' },\n    Silver: { hex: 'c0c0c0', rgb: '192,192,192' },\n    DarkGrey: { hex: 'a9a9a9', rgb: '169,169,169' },\n    Grey: { hex: '808080', rgb: '128,128,128' },\n    DimGrey: { hex: '696969', rgb: '105,105,105' },\n    LightSlateGrey: { hex: '778899', rgb: '119,136,153' },\n    SlateGrey: { hex: '708090', rgb: '112,128,144' },\n    DarkSlateGrey: { hex: '2f4f4f', rgb: '47,79,79' },\n    Black: { hex: '000000', rgb: '0,0,0' }\n};\n","import { numberInterpolator, piecewiseInterpolator, hslInterpolator, sanitizeDomainWhenEqual } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, SEQUENTIAL, ORDINAL, QUANTILE } from '../enums/scale-type';\nimport { getHslString } from './props';\nimport { treatNullMeasures } from '../helper';\n\nconst getStops = (domain, stops) => {\n    let newStops = [];\n\n    if (stops instanceof Array) {\n        newStops = stops.slice().sort();\n        newStops = [...new Set([domain[0], ...stops, domain[1]])].sort();\n    } else {\n        const interpolator = numberInterpolator()(...domain);\n        for (let i = 0; i <= stops; i++) {\n            newStops[i] = interpolator(i / stops);\n        }\n    }\n\n    if (newStops[0] < domain[0]) {\n        newStops.shift();\n    }\n    return { domain, newStops };\n};\n\nconst rangeStops = (newStopsLength, range) => {\n    let newRange = [];\n    const maxRangeLength = Math.min(range.length, 18);\n\n    if (newStopsLength > maxRangeLength) {\n        const interpolator = piecewiseInterpolator()(hslInterpolator(), range.map(e => getHslString(e)));\n        for (let i = 0; i < newStopsLength; i++) {\n            newRange[i] = interpolator(i / (newStopsLength - 1));\n        }\n    } else {\n        newRange = range.slice(0, newStopsLength);\n    }\n    return { newRange };\n};\n\n/**\n*\n*\n* @param {*} domain\n*\n*/\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst indexedDomainMeasure = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { domain, uniqueVals, scaleDomain: [0, 1], range };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst normalDomain = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain, nice: true, range };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} stops\n *\n */\nconst steppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(domain, stops);\n    const { newRange } = rangeStops(newStops.length - 1, range);\n\n    return { uniqueVals, domain: newStops, nice: true, range: newRange };\n};\n\nconst continousSteppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(sanitizeDomainWhenEqual(domain), range.length - 1);\n    const hslRange = range.map(e => getHslString(e));\n    return { uniqueVals, domain: newStops, nice: true, range: hslRange };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n *\n */\nconst uniqueRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    return scale(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n *\n */\nconst indexedRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n\n    return treatNullMeasures(domainValue, scale(numVal), scale(0));\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale, domain) => treatNullMeasures(domainValue, scale(domainValue),\n    scale(domain[0]));\n\n/**\n *\n *\n * @param {*} stops\n */\nconst strategies = () => ({\n    [`${CONTINOUS}-${CONTINOUS}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomain,\n        value: () => uniqueRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${ORDINAL}`]: {\n        scale: ORDINAL,\n        domainRange: () => normalDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}-${ORDINAL}`]: {\n        scale: LINEAR,\n        domainRange: () => continousSteppedDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${ORDINAL}`]: {\n        scale: QUANTILE,\n        domainRange: () => steppedDomain,\n        value: () => normalRange\n\n    }\n});\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} stops\n */\nexport const strategyGetter = (domainType, rangeType, schemeType) =>\n    strategies()[`${domainType}-${rangeType}-${schemeType || ''}`];\n","import {\n    LINEAR\n} from '../enums/constants';\n/**\n * Set of default colors\n */\nexport const palette = [\n    '#086bb6',\n    '#f37d45',\n    '#f5ce02',\n    '#67bda0',\n    '#c54e4e',\n    '#ae70af'\n];\n\nexport const DEFAULT_GRADIENT_COLOR = '#eaeaea';\n\nexport const DEFAULT_CONFIG = {\n    range: palette,\n    value: palette[0],\n    step: false,\n    stops: 5,\n    type: LINEAR\n};\n","export { default as ColorAxis } from './color-axis';\n","import { mergeRecursive, detectColor, hexToHsv, rgbToHsv, defaultValue } from 'muze-utils';\nimport { x11Colors } from './color-maps';\nimport { palette, DEFAULT_GRADIENT_COLOR } from './defaults';\nimport { LINEAR, RGB, HEX, HSL, HSLA } from '../enums/constants';\n\nexport const getHslString = hslArr => `hsla(${hslArr[0] * 360},${hslArr[1] * 100}%,${hslArr[2] * 100}%,\\\n${hslArr[3] || 1})`;\n\nexport const convertToXllString = baseString => (baseString.split(' ') || [])\n                .reduce((x, e) => `${x}${e.charAt(0).toUpperCase()}${e.slice(1)}`, '');\n\nexport const getActualHslColor = (e, paletteColor) => {\n    let color = '';\n    if (typeof e === 'string') {\n        e = e.replace(/ /g, '');\n        e = e.toLowerCase();\n        if (detectColor(e) === HSL || detectColor(e) === HSLA) {\n            color = e.match(/(\\d+(\\.\\d+)?)/g);\n            color = [color[0] / 360, color[1] / 100, color[2] / 100, defaultValue(Number(color[3]), 1)];\n        } else if (detectColor(e) === HEX) {\n            color = hexToHsv(e);\n        } else if (detectColor(e) === RGB) {\n            const col = e.substring(e.indexOf('(') + 1, e.lastIndexOf(')')).split(/,\\s*/);\n            color = rgbToHsv(...col);\n        } else if (x11Colors[convertToXllString(e)]) {\n            color = rgbToHsv(...x11Colors[convertToXllString(e)].rgb.split(','));\n        }\n    } else if (!(e instanceof Array)) {\n        color = rgbToHsv(paletteColor);\n    } else {\n        color = e;\n    }\n    return color;\n};\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, config) => {\n            const defCon = mergeRecursive({}, context.constructor.defaultConfig());\n            if (config.type === LINEAR) {\n                config.range = config.range || [defCon.range[0]];\n                config.range = config.range.length > 1 ? config.range : [DEFAULT_GRADIENT_COLOR, ...config.range];\n            }\n            const oldConfig = mergeRecursive(defCon, context.config());\n            const newConfig = mergeRecursive(oldConfig, config);\n\n            if (newConfig.range instanceof Array) {\n                newConfig.range = newConfig.range.map((e, i) => getActualHslColor(e, palette[i]));\n                newConfig.stops = config.stops || newConfig.range.length;\n            }\n            newConfig.value = getActualHslColor(newConfig.value, newConfig.value);\n            return newConfig;\n        }\n    },\n    domain: {},\n    scale: {},\n    uniqueValues: {}\n};\n","import * as ScaleType from './enums/scale-type';\n\nconst DATA_TYPES = {\n    DIMENSION: 'dimension',\n    CATEGORICAL: 'categorical',\n    MEASURE: 'measure',\n    TEMPORAL: 'temporal'\n};\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    [DATA_TYPES.DIMENSION]: ScaleType.BAND,\n    [DATA_TYPES.MEASURE]: ScaleType.LINEAR,\n    [DATA_TYPES.TEMPORAL]: ScaleType.TIME\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { Symbols } from 'muze-utils';\nimport * as AxisOrientation from '../enums/axis-orientation';\n\n/**\n * @module Axis\n * This file exports constants that are used to reference axis orientations\n * in a consistent manner.\n */\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\n\n/**\n  * This object is used to associate the axis orientation with the d3 class\n  * used to represent that axis.\n  */\nexport const axisOrientationMap = {\n    [AxisOrientation.LEFT]: Symbols.axisLeft,\n    [AxisOrientation.BOTTOM]: Symbols.axisBottom,\n    [AxisOrientation.RIGHT]: Symbols.axisRight,\n    [AxisOrientation.TOP]: Symbols.axisTop\n};\n","export const CLASSPREFIX = 'muze';\n\nexport const CONTINOUS = 'continous';\nexport const DISCRETE = 'discrete';\nexport const SEQUENTIAL = 'sequential';\nexport const ORDINAL = 'ordinal';\nexport const LINEAR = 'linear';\nexport const BAND = 'band';\nexport const THRESHOLD = 'threshold';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\n\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\n\nexport const DOMAIN = 'domain';\nexport const HIDDEN = 'hidden';\nexport const NUMBER = 'number';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\n\nexport const RGB = 'rgb';\nexport const HEX = 'hex';\nexport const HSLA = 'hsla';\nexport const HSL = 'hsl';\n\nexport const DEFAULT_ANGLE_DOMAIN = [1];\nexport const MIN_NO_OF_TICKS = 2;\nexport const DEFAULT_NO_OF_TICKS = 10;\n\n","/**\n * @module axis\n * This file exports constants used to reference scale type\n * consistently throughout the project.\n */\nexport const LINEAR = 'linear';\nexport const BAND = 'band';\nexport const TIME = 'temporal';\nexport const COLOR = 'color';\nexport const ORDINAL = 'ordinal';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\nexport const LOG = 'log';\nexport const POW = 'pow';\nexport const IDENTITY = 'identity';\nexport const SEQUENTIAL = 'sequential';\nexport const THRESHOLD = 'threshold';\n","import { InvalidAwareTypes, getObjProp } from 'muze-utils';\n\nexport const treatNullMeasures = (domainVal, scaledVal, minDomainScaledVal) => {\n    if (domainVal instanceof InvalidAwareTypes) {\n        return minDomainScaledVal;\n    }\n    return scaledVal;\n};\n\nexport const resolveAxisConfig = (propVal, defaultVal, context) => {\n    const constructor = getObjProp(propVal, 'constructor');\n    switch (constructor) {\n    case Function:\n        return propVal(defaultVal, context);\n    case Array:\n        return propVal;\n    default:\n        return defaultVal;\n    }\n};\n\nexport const sanitiseConfigIntervals = (intervals) => {\n    if (intervals) {\n        return intervals;\n    }\n    return 5;\n};\n","/**\n * @module Axis\n * This file exports all the public methods and classes in the axis module.\n */\nimport * as AxisOrientation from './enums/axis-orientation';\nimport * as ScaleType from './enums/scale-type';\nimport './styles.scss';\n\nexport { SimpleAxis, ContinousAxis, BandAxis, TimeAxis } from './cartesian-axis';\nexport { ColorAxis } from './color-axis';\nexport { SizeAxis } from './size-axis';\nexport { ShapeAxis } from './shape-axis';\nexport { RadiusAxis, AngleAxis } from './polar-axis';\nexport { dataTypeScaleMap } from './data-type-scale-map';\nexport { AxisOrientation, ScaleType };\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, Symbols, mergeRecursive, generateGetterSetters } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_ANGLE_DOMAIN } from '../enums/constants';\nimport { PROPS } from './props';\nimport { resolveAxisConfig } from '../helper';\n\nconst { pie } = Symbols;\n\nconst createAngleValues = (context) => {\n    const angleData = context._angleFn(context._domain);\n    angleData.forEach((v) => {\n        v.startAngle -= Math.PI / 2;\n        v.endAngle -= Math.PI / 2;\n    });\n    context._angleValues = angleData.reduce((values, d) => {\n        const key = d.data;\n        !values[key] && (values[key] = []);\n        values[key].push(d);\n        return values;\n    }, {});\n};\n\n/**\n* This class is used to instantiate a AngleAxis.\n* @class AngleAxis\n*/\nexport default class AngleAxis {\n\n    /**\n     * Creates an instance of AngleAxis.\n     * @param {Object} config input parameters.\n     * @memberof AngleAxis\n     */\n    constructor (config = {}) {\n        this._id = getUniqueId();\n        generateGetterSetters(this, PROPS);\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n        this.config(config);\n        this._range = [0, 360];\n        this._angleFn = pie()\n                .value(d => (typeof d === 'string' ? 1 : d))\n                .sortValues(null);\n        this._angleValues = {};\n    }\n\n    static defaultConfig () {\n        return {};\n    }\n\n    createScale (strategy) {\n        const {\n            range\n        } = this.config();\n        return createScale({\n            type: strategy.scale,\n            range\n        });\n    }\n\n    getScaleValue (domainVal) {\n        return this._angleValues[domainVal];\n    }\n\n    padAngle (angle) {\n        this._angleFn = this._angleFn.padAngle(angle);\n    }\n\n    domain (...domainVal) {\n        if (domainVal.length) {\n            const { domain: customDomain } = this.config();\n            const domain = domainVal[0].length ? domainVal[0] : DEFAULT_ANGLE_DOMAIN;\n            this._domain = resolveAxisConfig(customDomain, domain, this);\n            createAngleValues(this);\n            return this;\n        }\n        return this._domain;\n    }\n\n    range (...range) {\n        if (range.length) {\n            const { range: customRange } = this.config();\n            this._range = resolveAxisConfig(customRange, range[0], this);\n            const domain = this.domain();\n            const [startAngle, endAngle] = this._range;\n            this._angleFn\n                    .startAngle((startAngle / 180) * Math.PI)\n                    .endAngle(Math.PI * endAngle / 180);\n            if (domain && domain.length) {\n                createAngleValues(this);\n            }\n            return this;\n        }\n        return this._range;\n    }\n}\n","export { default as AngleAxis } from './angle-axis';\nexport { default as RadiusAxis } from './radius-axis';\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, config) => mergeRecursive(context.config(), config),\n        preset: (context, config) => {\n            const { range, domain } = config;\n            range && context.range(range);\n            domain && context.domain(domain);\n        }\n    },\n    domain: {},\n    range: {}\n};\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, mergeRecursive, generateGetterSetters, sanitizeDomainWhenEqual } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { LINEAR } from '../../../visual-group/src/enums/constants';\nimport { PROPS } from './props';\nimport { resolveAxisConfig } from '../helper';\n\nconst adjustDomain = (context) => {\n    const minOuterRadius = context.config().minOuterRadius;\n    const domain = context._domain;\n    if (context._range.length) {\n        const scale = context._scale;\n        const value = scale.invert(minOuterRadius) - scale.invert(0);\n        context._domain = [domain[0] - value, domain[1]];\n        scale.domain(context._domain);\n    }\n};\n\n/**\n* This class is used to instantiate a RadiusAxis.\n* @class RadiusAxis\n*/\nexport default class RadiusAxis {\n\n    /**\n     * Creates an instance of RadiusAxis.\n     * @param {Object} config input parameters.\n     * @memberof RadiusAxis\n     */\n    constructor (config = {}) {\n        this._id = getUniqueId();\n        generateGetterSetters(this, PROPS);\n        this._range = [];\n        this._radiusFactor = 1;\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n        this.config(config);\n        this._scale = this.createScale({\n            scale: LINEAR\n        });\n    }\n\n    static defaultConfig () {\n        return {\n            padding: [0, 1],\n            minOuterRadius: 10\n        };\n    }\n\n    config (...params) {\n        if (params.length) {\n            const config = mergeRecursive(this.config(), params[0]);\n            this._config = config;\n            return this;\n        }\n        return this._config;\n    }\n\n    createScale (strategy) {\n        return createScale({\n            type: strategy.scale,\n            range: this.range()\n        });\n    }\n\n    domain (...domainVal) {\n        if (domainVal.length) {\n            const { domain: customDomain } = this.config();\n            let domain = resolveAxisConfig(customDomain, domainVal[0], this);\n            domain = sanitizeDomainWhenEqual(domain);\n            this._scale.domain(domain);\n            this._domain = domain;\n            adjustDomain(this);\n        }\n        return this._domain;\n    }\n\n    getInnerRadius (domainVal) {\n        if (domainVal === undefined) {\n            return this.range()[0];\n        }\n        return this._scale(domainVal);\n    }\n\n    getOuterRadius (domainVal) {\n        if (domainVal === undefined) {\n            return this.range()[1];\n        }\n        const radius = this._scale(domainVal) * this._radiusFactor;\n        return radius;\n    }\n\n    range (...range) {\n        if (range.length) {\n            const { padding, range: customRange } = this.config();\n            const sanitizedRange = range[0].map((v, i) => v + (i ? -padding[i] : padding[i]));\n            const rangeVal = resolveAxisConfig(customRange, sanitizedRange, this);\n            this._range = rangeVal;\n            this._scale.range(rangeVal);\n            adjustDomain(this);\n        }\n        return this._range;\n    }\n\n    setRadiusFactor (val) {\n        this._radiusFactor = val;\n        return this;\n    }\n}\n","import { scales, colorSchemes } from 'muze-utils';\n\nimport {\n    SEQUENTIAL,\n    ORDINAL,\n    LINEAR,\n    CONTINOUS,\n    THRESHOLD,\n    QUANTIZE\n} from './enums/constants';\n\nimport * as ScaleType from './enums/scale-type';\n\nconst {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} = scales;\nexport const scaleMap = {\n    [ScaleType.LINEAR]: scaleLinear,\n    [ScaleType.BAND]: scaleBand,\n    [ScaleType.QUANTIZE]: scaleQuantize,\n    [ScaleType.QUANTILE]: scaleQuantile,\n    [ScaleType.THRESHOLD]: scaleThreshold,\n    [ScaleType.SEQUENTIAL]: scaleSequential,\n    [ScaleType.LOG]: scaleLog,\n    [ScaleType.POW]: scalePow,\n    [ScaleType.IDENTITY]: scaleIdentity,\n    [ScaleType.TIME]: scaleTime,\n    [ScaleType.COLOR]: scaleLinear,\n    [ScaleType.ORDINAL]: scaleOrdinal\n};\nexport const SCHEMES = {\n    SCHEME1: schemeCategory10,\n    SCHEME2: schemeCategory20,\n    SCHEME3: schemeCategory20b\n};\n\n/**\n * Accepts a scheme in a string format and returns the scale from d3-scale-chromatic\n *\n * @export\n * @param {string} scheme a string representing the kind of scheme for the color axis\n * @return {Object} The corresponding scale from a scheme type from d3 chromatic scale\n */\nexport function getScheme (scheme) {\n    if (scheme[0] === 'i') {\n        return scaleSequential(colorSchemes[scheme]);\n    }\n    return scaleOrdinal(colorSchemes[scheme]);\n}\n\n/**\n *\n *\n * @export\n * @param {*} scheme\n *\n */\nexport function getSchemeType (scheme) {\n    let schemeType = '';\n    if (scheme && typeof (scheme) === 'string') {\n        schemeType = scheme[0] === 'i' ? SEQUENTIAL : ORDINAL;\n    } else {\n        schemeType = ORDINAL;\n    }\n    return schemeType;\n}\n\n/**\n * This function is used to create a scale that is assigned to\n * an instance of axis.\n *\n * @export\n * @param {Object} params the input parameters to create a Scale object\n * @param {string} params.type the type of scale\n * @param {Array} params.range the range of scale\n * @return {Object} instance of scale\n */\nexport function createScale (params) {\n    if (!params.type || !scaleMap[params.type]) {\n        throw new Error(`${params.type} is not a valid scale type`);\n    }\n    if (!Array.isArray(params.range)) {\n        throw new Error('range parameter must be an array');\n    }\n    let scaleFactory = null;\n    const range = params.range;\n    // @todo: do it using scale decorator\n    if (params.type === LINEAR && params.interpolator) {\n        scaleFactory = scaleMap[params.interpolator];\n        if (params.interpolator === ScaleType.POW) {\n            return scaleFactory().range(range).exponent(params.exponent);\n        } else if (params.interpolator === ScaleType.LOG) {\n            return scaleFactory().range(range).base([params.base]);\n        }\n    } else {\n        scaleFactory = scaleMap[params.type];\n    }\n\n    if (params.type === QUANTIZE) {\n        scaleFactory().nice();\n    }\n    return scaleFactory().range(range);\n}\n\n/**\n * This method is used to update the range of a scale\n * so that the core module can remain agnostic of the d3\n * scale api.\n *\n * @export\n * @param {Scale} scale Instance of d3 Scale.\n * @param {Array} range new range of the scale.\n * @return {Scale} Updated scale.\n */\nexport function updateScaleRange (scale, range) {\n    return scale.range(range);\n}\n\n/**\n *\n *\n * @export\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} steps\n *\n */\nexport function getScaleType (domainType, rangeType, steps) {\n    if (rangeType === CONTINOUS) {\n        return LINEAR;\n    }\n    if (domainType === CONTINOUS) {\n        if (steps instanceof Array) {\n            return THRESHOLD;\n        }\n        return QUANTIZE;\n    }\n    return ORDINAL;\n}\n","export const DEFAULT_CONFIG = {\n    generator: null,\n    value: 'circle',\n    range: ['circle', 'diamond', 'star', 'cross', 'square', 'wye', 'triangle']\n};\n","/**\n *\n *\n * @param {*} domain\n * @param {*} generatorFn\n *\n */\nexport const shapeGenerator = (domain, generatorFn) => {\n    const generatedShapes = {};\n    domain.forEach((value) => {\n        generatedShapes[value] = generatorFn(value);\n    });\n    return generatedShapes;\n};\n","export { default as ShapeAxis } from './shape-axis';\n","export const PROPS = {\n    config: {},\n    domain: {},\n    scale: {},\n    uniqueValues: {},\n    generator: {}\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, getSymbol, generateGetterSetters, mergeRecursive, InvalidAwareTypes } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SHAPE } from '../enums/constants';\nimport { shapeGenerator } from './helper';\nimport { PROPS } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ShapeAxis {\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} params input parameters.\n    * @param {Object | undefined} params.range Type of color scheme.\n    * @memberof ShapeAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this._config = Object.assign({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(this._config, config);\n\n        this._scale = createScale({\n            type: 'ordinal',\n            range: this._config.range\n        });\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SHAPE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} value\n     *\n     * @memberof ShapeAxis\n     */\n    getShape (value) {\n        if (!this.scale() || !this.domain() || !value || value instanceof InvalidAwareTypes) {\n            return this.config().value;\n        }\n\n        if (this._generatedShapes) {\n            return this._generatedShapes[value];\n        }\n\n        const shapeType = this.scale()(value);\n        if (shapeType === 'string') {\n            return getSymbol(shapeType);\n        }\n\n        return shapeType;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof ShapeAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            this.uniqueValues(domain);\n            this.domain(domain);\n            this.scale().domain(domain);\n\n            if (this.config().generator) {\n                this._generatedShapes = shapeGenerator(domain, this.config().generator);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.config().range,\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","export const DEFAULT_CONFIG = {\n    value: 51,\n    range: [51, 1000]\n};\n","export { default as SizeAxis } from './size-axis';\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => {\n            context._userRange = value.range;\n            return mergeRecursive(context._config || {}, value);\n        }\n    },\n    domain: {\n        sanitization: (context, value) => {\n            context.scale().domain(value);\n            return value;\n        }\n    },\n    range: {},\n    scale: {},\n    uniqueValues: {}\n};\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SIZE, CONTINOUS, DISCRETE } from '../enums/constants';\nimport { strategyGetter } from './size-strategy';\nimport { PROPS } from './props';\nimport { sanitiseConfigIntervals } from '../helper';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class SizeAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @param {Object} config input parameters.\n     * @memberof SizeAxis\n     */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this.config(this.constructor.defaultConfig());\n        this.config(config);\n        // @todo: Will use configuration override using scale decorator\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n\n        this._config.range = this._userRange ? this._userRange : this._config.range;\n\n        this._config.intervals = sanitiseConfigIntervals(this._config.intervals);\n        this._rangeType = this._config.type === 'linear' && !!this._config.intervals ? DISCRETE : CONTINOUS;\n\n        this._sizeStrategy = this.setStrategy(this._domainType, this._rangeType);\n        this._scale = this.createScale(this._sizeStrategy);\n        this._range = this._config.range;\n\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     *\n     * @memberof ColorAxis\n     */\n    setStrategy (domainType, rangeType) {\n        return strategyGetter(domainType, rangeType);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SizeAxis\n     */\n    createScale (strategy) {\n        const {\n            range\n        } = this.config();\n        return createScale({\n            type: strategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SIZE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof SizeAxis\n     */\n    getSize (domainVal = 0) {\n        let sizeVal = 1;\n        const {\n            value\n        } = this.config();\n        const scale = this.scale();\n        const domain = this.domain() || [1, 1];\n\n        if (!scale || domain[0] === domain[1]) {\n            sizeVal = value;\n        } else {\n            return this._sizeStrategy.range(domainVal, scale, this.domain(), this.uniqueValues());\n        }\n        return sizeVal;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SizeAxis\n     */\n    updateDomain (domain) {\n        if (domain) {\n            const domainFn = this._sizeStrategy.domain;\n\n            const domainInfo = domainFn(domain, this.config().intervals);\n\n            this.domain(domainInfo.domain);\n            this.uniqueValues(domainInfo.uniqueVals);\n\n            this.scale().domain(domainInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","import { numberInterpolator, piecewiseInterpolator } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, THRESHOLD } from '../enums/scale-type';\nimport { treatNullMeasures } from '../helper';\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst normalDomain = (domain) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} intervals\n *\n */\nconst steppedDomain = (domain, intervals) => {\n    let newIntervals = [];\n    if (intervals instanceof Array) {\n        newIntervals = intervals.slice().sort();\n    } else {\n        const interpolator = numberInterpolator()(...domain);\n        for (let i = 0; i < intervals; i++) {\n            newIntervals[i] = interpolator(i / (intervals - 1));\n        }\n    }\n    if (newIntervals[0] < domain[0]) {\n        newIntervals.shift();\n    }\n    const retDomain = newIntervals;\n    return { uniqueVals: newIntervals, domain: retDomain, nice: true };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n *\n */\nconst discreteRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n    const interpolator = numberInterpolator()(...scale.range());\n    return treatNullMeasures(domainValue, interpolator(numVal), interpolator(domain[0]));\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n *\n */\nconst pieceWiseRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    const fn = piecewiseInterpolator()(numberInterpolator(), [...scale.range()]);\n    return fn(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale, domain) =>\n    treatNullMeasures(domainValue, scale(domainValue), scale(domain[0]));\n\n/**\n *\n *\n * @param {*} intervals\n */\nconst strategies = {\n    [`${DISCRETE}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: indexedDomain,\n        range: pieceWiseRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: normalDomain,\n        range: normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}`]: {\n        scale: THRESHOLD,\n        domain: steppedDomain,\n        range: discreteRange\n    }\n};\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} intervals\n */\nexport const strategyGetter = (domainType, rangeType) =>\n     strategies[`${domainType}-${rangeType}`];\n","// extracted by mini-css-extract-plugin","import VolatileBehaviour from './volatile';\nimport * as BEHAVIOURNAMES from '../../enums/behaviours';\n\n/**\n * This is the behaviour for brushing a region on the chart. It accepts a payload\n * which contains the x and y range of the data and other configuration. It will then\n * create a selection box from the range and select the points which fall within the range.\n */\nexport default class BrushBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return BEHAVIOURNAMES.BRUSH;\n    }\n}\n","import VolatileBehaviour from './volatile';\nimport { FILTER } from '../../enums/behaviours';\n\nexport default class FilterBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return FILTER;\n    }\n\n    static mutates () {\n        return true;\n    }\n}\n","import { isSimpleObject, DimensionSubtype, partition, FieldType } from 'muze-utils';\nimport { getMergedSet, getSourceFields } from '../../helper';\n\nexport const getIdentifiersFromSet = (set, context, { fieldsConfig, fields }) => {\n    const data = [fields];\n\n    set.forEach(id => data.push(context.getValueFromId(id, fields, fieldsConfig)));\n    return data;\n};\n\n/**\n * This is the base class has all the common functionalities needed for all behavioural actions. Any other behavioural\n * action needs to extend this class.\n *\n * @public\n * @class GenericBehaviour\n * @module GenericBehaviour\n */\nexport default class GenericBehaviour {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n    }\n\n    /**\n     * Returns entry and exit set information. This method is called by firebolt when ```dispatchBehaviour``` is called\n     * dynamically or when any physical action is triggered on the chart.\n     *\n     * @param {Object} payload Payload information.\n     * @param {Object|Array} payload.criteria Identifiers of data interacted with.\n     *\n     * @return {Array} Entry and exit set information.\n     */\n    dispatch (payload) {\n        const criteria = payload.criteria;\n        const firebolt = this.firebolt;\n        const formalName = this.constructor.formalName();\n        const selectionSets = firebolt.getSelectionSets(formalName);\n        const {\n            model: filteredDataModel,\n            uids\n        } = this.getAddSetFromCriteria(criteria, this.firebolt.getPropagationInf());\n\n        selectionSets.forEach((selectionSet) => {\n            this.setSelectionSet(uids, selectionSet, {\n                filteredDataModel,\n                payload\n            });\n\n            selectionSet._volatile && this.propagationIdentifiers(selectionSet, payload);\n            this.entryExitSet(selectionSet, filteredDataModel, payload);\n        });\n    }\n\n    getAddSetFromCriteria (...params) {\n        return this.firebolt.getAddSetFromCriteria(...params);\n    }\n\n    /**\n     * Updates the selection set by adding uids to the instance of {@link SelectionSet} or removing them.\n     * {@link SelectionSet} keeps the information of which rows are in the entry set and exit set.\n     *\n     * @public\n     * @param {Array} addSet Array of row ids which got affected during interaction.\n     * @param {SelectionSet} selectionSet Instance of selection set.\n     *\n     * @return {GenericBehaviour} Instance of behaviour.\n     */\n    setSelectionSet () {\n        return this;\n    }\n\n    entryExitSet (...params) {\n        if (params.length) {\n            const [selectionSet, filteredDataModel, payload] = params;\n            const {\n                entrySet,\n                exitSet,\n                completeSet\n            } = selectionSet.getSets();\n            const propagationInf = this.firebolt.getPropagationInf();\n\n            this._entryExitSet = {\n                entrySet: [this.getSetInfo('oldEntry', entrySet[0], filteredDataModel),\n                    this.getSetInfo('newEntry', entrySet[1], filteredDataModel)],\n                exitSet: [this.getSetInfo('oldEntry', exitSet[0], filteredDataModel),\n                    this.getSetInfo('newExit', exitSet[1], filteredDataModel)],\n                mergedEnter: this.getSetInfo('mergedEnter', getMergedSet(entrySet), filteredDataModel),\n                mergedExit: this.getSetInfo('mergedExit', getMergedSet(exitSet), filteredDataModel),\n                completeSet: this.getSetInfo('complete', completeSet, filteredDataModel),\n                fields: getSourceFields(propagationInf, payload.criteria)\n            };\n\n            return this;\n        }\n        return this._entryExitSet;\n    }\n\n    getSetInfo (type, set, filteredDataModel) {\n        let model = null;\n\n        if (type === 'mergedEnter') {\n            model = filteredDataModel ? filteredDataModel[0] : null;\n        } else if (type === 'mergedExit') {\n            model = filteredDataModel ? filteredDataModel[1] : null;\n        }\n\n        return {\n            uids: set,\n            length: set.length,\n            model\n        };\n    }\n\n    propagationIdentifiers (...params) {\n        if (params.length) {\n            let propData = null;\n            const [selectionSet, payload] = params;\n            const { context } = this.firebolt;\n            const fieldsConfig = this.firebolt.data().getFieldsConfig();\n            const { criteria } = payload;\n\n            if (selectionSet.resetted() || criteria === null) {\n                propData = null;\n            } else if (isSimpleObject(criteria)) {\n                const fields = isSimpleObject(criteria) ? Object.keys(criteria) : criteria[0];\n                // const fields = Object.keys(criteria);\n                const [dims, otherFields] =\n                    partition(fields, (d => fieldsConfig[d].def.subtype === DimensionSubtype.CATEGORICAL));\n\n                propData = {\n                    fields: fields.map(d => fieldsConfig[d].def),\n                    range: context.getRangeFromIdentifiers({\n                        criteria,\n                        entrySet: selectionSet.getMergedEntrySet(),\n                        fields: otherFields\n                    }),\n                    identifiers: getIdentifiersFromSet(selectionSet.getMergedEntrySet(), context, {\n                        fields: dims,\n                        fieldsConfig\n                    })\n                };\n            } else {\n                const data = getIdentifiersFromSet(selectionSet.getMergedEntrySet(), context, {\n                    fields: criteria[0].filter(field => fieldsConfig[field].def.type === FieldType.DIMENSION),\n                    fieldsConfig\n                });\n                propData = {\n                    fields: data[0].map(d => fieldsConfig[d].def),\n                    identifiers: data\n                };\n            }\n            this._propagationIdentifiers = propData;\n            return this;\n        }\n        return this._propagationIdentifiers;\n    }\n\n    static mutates () {\n        return false;\n    }\n\n    enable () {\n        this._enabled = true;\n    }\n\n    disable () {\n        this._enabled = false;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n}\n\n","import VolatileBehaviour from './volatile';\nimport { HIGHLIGHT } from '../../enums/behaviours';\n\nexport default class HighlightBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return HIGHLIGHT;\n    }\n}\n","export { default as HighlightBeahviour } from './highlight';\nexport { default as BrushBehaviour } from './brush';\nexport { default as FilterBehaviour } from './filter';\nexport { default as SelectBehaviour } from './select';\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class PersistentBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            const propagationInf = this.firebolt.getPropagationInf();\n            // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            if (propagationInf.propagate === false) {\n                selectionSet.updateExit();\n                const { entrySet } = selectionSet.getSets();\n                selectionSet.reset(getMergedSet(entrySet));\n                selectionSet.add(addSet);\n                selectionSet.update(existingAddSet);\n            } else {\n                // existing add set\n                if (existingAddSet.length) {\n                    selectionSet.updateExit();\n                    selectionSet.remove(existingAddSet);\n                } else {\n                    selectionSet.updateEntry();\n                    selectionSet.add(addSet);\n                }\n                const { exitSet } = selectionSet.getSets();\n                const mergedExitSet = getMergedSet(exitSet);\n                const completeSetCount = selectionSet.getCompleteSet().length;\n                if (mergedExitSet.length === completeSetCount) {\n                    selectionSet.reset();\n                }\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n\n        return this;\n    }\n}\n","import PersistentBehaviour from './persistent';\nimport { SELECT } from '../../enums/behaviours';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return SELECT;\n    }\n}\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class VolatileBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n                // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                    || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            selectionSet.updateExit();\n            const { entrySet } = selectionSet.getSets();\n            selectionSet.reset(getMergedSet(entrySet));\n            selectionSet.add(addSet);\n            selectionSet.update(existingAddSet);\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n    }\n}\n","import { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\nexport default click;\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt);\n};\n\nexport default drag;\n","import { DimensionSubtype, COORD_TYPES } from 'muze-utils';\n\nconst dragCriteriaRetriever = {\n    [COORD_TYPES.CARTESIAN]: (context, sourceInfo, { startPos, endPos }) => {\n        const fieldsConfig = context.data().getFieldsConfig();\n        const axes = sourceInfo.axes;\n        const xAxis = axes.x[0];\n        const yAxis = axes.y[0];\n        const axisFields = sourceInfo.fields;\n        const xField = axisFields.x[0].getMembers()[0];\n        const yField = axisFields.y[0].getMembers()[0];\n        const xFieldType = fieldsConfig[xField].def.subtype;\n        const yFieldType = fieldsConfig[yField].def.subtype;\n        const dimensions = {};\n\n        const isXDimension = xFieldType === DimensionSubtype.CATEGORICAL;\n        const isYDimension = yFieldType === DimensionSubtype.CATEGORICAL;\n        const xRange = xAxis.invertExtent(startPos.x, endPos.x);\n        const yRange = yAxis.invertExtent(startPos.y, endPos.y);\n        const selectedDomains = {\n            x: isXDimension ? xRange : xRange.sort((a, b) => a - b),\n            y: isYDimension ? yRange : yRange.sort((a, b) => a - b)\n        };\n        const rangeObj = {};\n\n        if (selectedDomains.x) rangeObj[xField] = selectedDomains.x;\n        if (selectedDomains.y) rangeObj[yField] = selectedDomains.y;\n\n        if (xField === yField) {\n            const xdom = selectedDomains.x;\n            const ydom = selectedDomains.y;\n            const min = xdom[0] > ydom[0] ? ydom : xdom;\n            const max = min === ydom ? xdom : ydom;\n            if (min[1] < max[0]) {\n                rangeObj[xField] = [];\n            } else {\n                rangeObj[xField] = [max[0], min[1] < max[1] ? min[1] : max[1]];\n            }\n        }\n\n        dimensions.x = [startPos.x, endPos.x];\n        dimensions.y = [startPos.y, endPos.y];\n\n        return {\n            criteria: rangeObj,\n            dimensions\n        };\n    },\n    [COORD_TYPES.POLAR]: () => ({\n        criteria: null\n    })\n};\n\n/**\n * Gets the drag action configuration\n * @param {VisualUnit} instance instance of visual unit\n * @param {Object} config x y positions\n * @return {Object} Payload of behaviour\n*/\n/* istanbul ignore next */ const getDragActionConfig = (context, config) => {\n    const sourceInfo = context.getSourceInfo();\n    const { startPos, endPos } = config;\n    const coordType = context.coord();\n\n    if (startPos.x === endPos.x && startPos.y === endPos.y) {\n        return {\n            criteria: null\n        };\n    }\n\n    return dragCriteriaRetriever[coordType](context, sourceInfo, config);\n};\n\nexport default getDragActionConfig;\n","import {\n    getEvent,\n    getD3Drag\n} from 'muze-utils';\nimport getDragActionConfig from './drag-action-config';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const attachDragEvent = (targetEl, behaviours, firebolt, touch) => {\n    let startPos = {};\n    let endPos = {};\n    let drawingInf;\n\n    const d3Drag = getD3Drag();\n    let touchStart;\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n        drawingInf = firebolt.context.getDrawingContext();\n        touchStart = new Date().getTime();\n    }).on('drag', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        if (touch && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n\n        const payload = getDragActionConfig(firebolt.context, {\n            startPos,\n            endPos\n        });\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n    }).on('end', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        const duration = new Date().getTime() - touchStart;\n\n        if (touch && duration > 100 && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n\n        const payload = getDragActionConfig(firebolt.context, {\n            startPos,\n            endPos\n        });\n        payload.dragEnd = true;\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n    }));\n};\n\n","import { getClientPoint } from 'muze-utils';\n\nexport const generatePayloadFromEvent = function (args, event, firebolt) {\n    const context = firebolt.context;\n    const pos = getClientPoint(context.getDrawingContext().svgContainer, event.touches ? event.touches[0] : event);\n    const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n        data: args,\n        event\n    });\n    return {\n        criteria: nearestPoint ? nearestPoint.id : null,\n        showInPosition: nearestPoint.showInPosition,\n        target: nearestPoint.target,\n        position: pos\n    };\n};\n","import { getClientPoint, getEvent } from 'muze-utils';\nimport { CONSOLIDATED, FRAGMENTED } from '../../enums/constants';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} instance instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const context = firebolt.context;\n        const tooltipConf = context.config().interaction.tooltip;\n        const mode = tooltipConf.mode;\n        const pos = getClientPoint(context.getDrawingContext().svgContainer, event);\n        const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n            getAllPoints: mode === CONSOLIDATED || mode === FRAGMENTED,\n            data: args,\n            event\n        });\n        const payload = {\n            criteria: nearestPoint ? nearestPoint.id : null,\n            showInPosition: nearestPoint.showInPosition,\n            target: nearestPoint.target,\n            position: pos,\n            mode\n        };\n\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, {\n                            criteria: null\n                        }));\n                    });\n};\n\nexport default hover;\n","import drag from './drag';\nimport hover from './hover';\nimport { longtouch } from './longtouch';\nimport { touchdrag } from './touch-drag';\nimport * as ACTIONNAMES from '../../enums/actions';\nimport click from './click';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click,\n    [ACTIONNAMES.LONGTOUCH]: longtouch,\n    [ACTIONNAMES.TOUCHDRAG]: touchdrag\n};\n\n","/* global setTimeout */\nimport { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nexport const longtouch = firebolt => (targetEl, behaviours) => {\n    let event;\n    let touchEnd;\n    const dispatchBehaviour = function (args) {\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    touchEnd = false;\n    event = getEvent();\n    targetEl.on('touchstart', (args) => {\n        event = getEvent();\n        touchEnd = false;\n        setTimeout(() => {\n            if (!touchEnd) {\n                dispatchBehaviour(args);\n            } else {\n                behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, {\n                    criteria: null\n                }));\n            }\n        }, 100);\n    }).on('touchend', () => {\n        touchEnd = true;\n    });\n};\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\nimport getDragActionConfig from './helpers/drag-action-config';\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let subject;\n    let drawingInf;\n    const context = firebolt.context;\n    const onDrag = (payload) => {\n        behaviours.forEach(action => firebolt.dispatchBehaviour(action, payload));\n    };\n    const d3Drag = getD3Drag();\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        drawingInf = context.getDrawingContext();\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        subject.x += event.dx;\n        subject.y += event.dy;\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(context, {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                }\n            });\n            onDrag(payload);\n        }\n    }).on('end', () => {\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(context, {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                }\n            });\n            payload.dragEnd = true;\n            onDrag(payload);\n        }\n    }));\n};\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const touchdrag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt, true);\n};\n\n","import * as BEHAVIOURS from './enums/behaviours';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: ['selectionBox', {\n        name: 'highlighter',\n        options: {\n            strategy: 'fade'\n        }\n    }, 'brush-anchors'],\n    [`${BEHAVIOURS.BRUSH},${BEHAVIOURS.SELECT}`]: [{\n        name: 'tooltip',\n        options: {\n            strategy: 'selectionSummary',\n            order: 0,\n            filter: context => context.config().mode === 'fragmented'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'highlight'\n        }\n    }, 'crossline', {\n        name: 'tooltip',\n        options: {\n            order: 9999\n        }\n    }, 'anchors'],\n    [BEHAVIOURS.FILTER]: ['filter'],\n    [BEHAVIOURS.SELECT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'focus'\n        }\n    }, 'persistent-anchors']\n};\n","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\nexport const LONGTOUCH = 'longtouch';\nexport const TOUCHDRAG = 'touchdrag';\nexport const ALL_ACTIONS = '*';\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n","export const CLASSPREFIX = 'muze';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\n","const SELECTION_NEW_ENTRY = 1;\nconst SELECTION_NEW_EXIT = -1;\nconst SELECTION_NULL = 0;\nconst SELECTION_OLD_ENTRY = 2;\nconst SELECTION_OLD_EXIT = -2;\n\nexport {\n    SELECTION_NEW_ENTRY,\n    SELECTION_NEW_EXIT,\n    SELECTION_NULL,\n    SELECTION_OLD_ENTRY,\n    SELECTION_OLD_EXIT\n};\n","const ANCHORS = 'anchors';\nconst TOOLTIP = 'tooltip';\nconst BRUSH_ANCHORS = 'brush-anchors';\nconst PERSISTENT_ANCHORS = 'persistent-anchors';\nconst FILTER = 'filter';\nconst HIGHLIGHTER = 'highlighter';\nconst CROSSLINE = 'crossline';\n\nexport {\n    ANCHORS,\n    BRUSH_ANCHORS,\n    PERSISTENT_ANCHORS,\n    FILTER,\n    HIGHLIGHTER,\n    CROSSLINE,\n    TOOLTIP\n};\n","export const SELECTION_SUMMARY = 'selectionSummary';\nexport const HIGHLIGHT_SUMMARY = 'highlightSummary';\n","import {\n    mergeRecursive,\n    hasTouch,\n    selectElement,\n    isSimpleObject\n} from 'muze-utils';\nimport { ALL_ACTIONS } from './enums/actions';\nimport SelectionSet from './selection-set';\nimport {\n    initializeBehaviouralActions,\n    initializeSideEffects,\n    changeSideEffectAvailability,\n    initializePhysicalActions,\n    unionSets,\n    getSideEffects,\n    setSideEffectConfig\n} from './helper';\n\n/**\n * This class is responsible for dispatching behavioural actions and side effects. It also keeps the information of\n * registered physical actions, behavioural actions and side effects. Also, it keeps the map of physical and behavioural\n * actions and behavioural actions and side effects. Whenever any behavioural action is dispatched, it also propagates\n * the rows which got affected to the other datamodels. This class is initialized by {@link VisualUnit} and legend to\n * manage it's interaction.\n *\n * @public\n * @class Firebolt\n * @module Firebolt\n */\nexport default class Firebolt {\n    constructor (context, actions, sideEffects, behaviourEffectMap) {\n        this.context = context;\n        this._sideEffectDefinitions = {};\n        this._sideEffects = {};\n        this._propagationInf = {};\n        this._actions = {\n            behavioural: {},\n            physical: {}\n        };\n        this._selectionSet = {};\n        this._volatileSelectionSet = {};\n        this._propagationFields = {};\n        this._sourceSideEffects = {};\n        this._propagationBehaviourMap = {};\n        this._sourceBehaviours = {};\n        this._actionBehaviourMap = {};\n        this._config = {};\n        this._behaviourEffectMap = {};\n        this._entryExitSet = {};\n        this._actionHistory = {};\n        this._queuedSideEffects = {};\n\n        this.mapSideEffects(behaviourEffectMap);\n        this.registerBehaviouralActions(actions.behavioural);\n        this.registerSideEffects(sideEffects);\n        this.registerPhysicalBehaviouralMap(actions.physicalBehaviouralMap);\n        this.registerPhysicalActions(actions.physical);\n    }\n\n    config (...config) {\n        if (config.length) {\n            this._config = mergeRecursive(this._config, config[0]);\n            setSideEffectConfig(this.sideEffects(), this._config);\n            return this;\n        }\n        return this._config;\n    }\n\n    mapSideEffects (behEffectMap) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        for (const key in behEffectMap) {\n            if ({}.hasOwnProperty.call(behEffectMap, key)) {\n                const sideEffects = behEffectMap[key] || [];\n                let preventDefaultActions = false;\n                let effectNames;\n                if (isSimpleObject(sideEffects)) {\n                    effectNames = sideEffects.effects;\n                    preventDefaultActions = sideEffects.preventDefaultActions;\n                } else {\n                    effectNames = sideEffects;\n                }\n                !behaviourEffectMap[key] && (behaviourEffectMap[key] = []);\n                this._behaviourEffectMap[key] = [...new Set(preventDefaultActions ? effectNames :\n                    [...behaviourEffectMap[key], ...effectNames])];\n            }\n        }\n        return this;\n    }\n\n    registerBehaviouralActions (actions) {\n        const behaviours = initializeBehaviouralActions(this, actions);\n        this.prepareSelectionSets(behaviours);\n        Object.assign(this._actions.behavioural, behaviours);\n        return this;\n    }\n\n    prepareSelectionSets () {\n        return this;\n    }\n\n    registerSideEffects (sideEffects) {\n        for (const key in sideEffects) {\n            this._sideEffectDefinitions[sideEffects[key].formalName()] = sideEffects[key];\n        }\n        this.initializeSideEffects();\n        return this;\n    }\n\n    applySideEffects (sideEffects, selectionSet, payload) {\n        const sideEffectStore = this.sideEffects();\n        const actionHistory = this._actionHistory;\n        const queuedSideEffects = this._queuedSideEffects;\n        sideEffects.forEach((sideEffect) => {\n            let options;\n            let name;\n            const effects = sideEffect.effects;\n            const behaviours = sideEffect.behaviours;\n            const combinedSet = this.mergeSelectionSets(behaviours);\n            effects.forEach((effect) => {\n                if (typeof effect === 'object') {\n                    name = effect.name;\n                    options = effect.options;\n                } else {\n                    name = effect;\n                }\n\n                const sideEffectInstance = sideEffectStore[name];\n                if (sideEffectInstance.isEnabled()) {\n                    if (!sideEffectInstance.constructor.mutates() &&\n                        Object.values(actionHistory).some(d => d.isMutableAction)) {\n                        queuedSideEffects[`${name}-${behaviours.join()}`] = {\n                            name,\n                            params: [combinedSet, payload, options]\n                        };\n                    } else {\n                        this.dispatchSideEffect(name, combinedSet, payload, options);\n                    }\n                }\n            });\n        });\n        return this;\n    }\n\n    dispatchSideEffect (name, selectionSet, payload, options = {}) {\n        const sideEffectStore = this.sideEffects();\n        const sideEffect = sideEffectStore[name];\n        let disable = false;\n        if (options.filter && options.filter(sideEffect)) {\n            disable = true;\n        }\n        !disable && sideEffectStore[name].apply(selectionSet, payload, options);\n    }\n\n    registerPropagationBehaviourMap (map) {\n        this._propagationBehaviourMap = Object.assign(this._propagationBehaviourMap, map || {});\n        return this;\n    }\n\n    dispatchBehaviour (behaviour, payload, propagationInfo = {}) {\n        const propagate = propagationInfo.propagate !== undefined ? propagationInfo.propagate : true;\n        const behaviouralActions = this._actions.behavioural;\n        const action = behaviouralActions[behaviour];\n        const behaviourEffectMap = this._behaviourEffectMap;\n        const sideEffects = getSideEffects(behaviour, behaviourEffectMap);\n        this._propagationInf = propagationInfo;\n\n        if (action) {\n            action.dispatch(payload);\n            this._entryExitSet[behaviour] = action.entryExitSet();\n            const shouldApplySideEffects = this.shouldApplySideEffects(propagate);\n\n            if (propagate) {\n                this.propagate(behaviour, payload, action.propagationIdentifiers(), sideEffects);\n            }\n\n            if (shouldApplySideEffects) {\n                const applicableSideEffects = this.getApplicableSideEffects(sideEffects, payload, propagationInfo);\n                this.applySideEffects(applicableSideEffects, this.getEntryExitSet(behaviour), payload);\n            }\n        }\n\n        return this;\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet.find(d => !d.sourceSelectionSet);\n    }\n\n    shouldApplySideEffects () {\n        return true;\n    }\n\n    changeBehaviourStateOnPropagation (behaviour, value, key = 'default') {\n        const behaviourConditions = this._sourceBehaviours[behaviour] || (this._sourceBehaviours[behaviour] = {});\n        if (value instanceof Function) {\n            behaviourConditions[key] = value;\n        } else {\n            behaviourConditions[key] = () => value;\n        }\n        return this;\n    }\n\n    changeSideEffectStateOnPropagation (sideEffect, value, key = 'default') {\n        const sideEffectConditions = this._sourceSideEffects[sideEffect] || (this._sourceSideEffects[sideEffect] = {});\n        if (value instanceof Function) {\n            sideEffectConditions[key] = value;\n        } else {\n            sideEffectConditions[key] = () => value;\n        }\n    }\n\n    removeSideEffectPolicy (sideEffect, key) {\n        delete this._sourceSideEffects[sideEffect][key];\n        return this;\n    }\n\n    removeBehaviourPolicy (behaviour, key) {\n        delete this._sourceBehaviours[behaviour][key];\n        return this;\n    }\n\n    propagate () {\n        return this;\n    }\n\n    sideEffects (...sideEffects) {\n        if (sideEffects.length) {\n            this._sideEffects = sideEffects[0];\n            return this;\n        }\n        return this._sideEffects;\n    }\n\n    enableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, true);\n        return this;\n    }\n\n    disableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, false);\n        return this;\n    }\n\n    dissociateBehaviour (behaviour, physicalAction) {\n        const actionBehaviourMap = this._actionBehaviourMap;\n        for (const key in actionBehaviourMap) {\n            if (key === physicalAction) {\n                const behaviourMap = actionBehaviourMap[key];\n                behaviourMap.behaviours = behaviourMap.behaviours.filter(d => d !== behaviour);\n                this.mapActionsAndBehaviour(key);\n            }\n        }\n\n        return this;\n    }\n\n    dissociateSideEffect (sideEffect, behaviour) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        behaviourEffectMap[behaviour] = behaviourEffectMap[behaviour].filter(d => (d.name || d) !== sideEffect);\n        return this;\n    }\n\n    getApplicableSideEffects (sideEffects) {\n        return sideEffects;\n    }\n\n    attachPropagationListener (dataModel) {\n        dataModel.unsubscribe('propagation');\n        dataModel.on('propagation', this.onDataModelPropagation());\n        return this;\n    }\n\n    onDataModelPropagation () {\n        return (propValue) => {\n            const payload = propValue.payload;\n            const action = payload.action;\n\n            this.dispatchBehaviour(action, payload, {\n                propagate: false\n            });\n        };\n    }\n\n    createSelectionSet (uniqueIds, behaviouralActions) {\n        const behaviours = behaviouralActions || this._actions.behavioural;\n        const selectionSet = this._selectionSet;\n        const volatileSelectionSet = this._volatileSelectionSet;\n\n        for (const key in behaviours) {\n            if ({}.hasOwnProperty.call(behaviours, key)) {\n                selectionSet[key] = new SelectionSet(uniqueIds);\n                volatileSelectionSet[key] = new SelectionSet(uniqueIds, true);\n                this._entryExitSet[key] = null;\n            }\n        }\n        this._volatileSelectionSet = volatileSelectionSet;\n        this.selectionSet(selectionSet);\n        return this;\n    }\n\n    selectionSet (...selectionSet) {\n        if (selectionSet.length) {\n            this._selectionSet = selectionSet[0];\n            return this;\n        }\n        return this._selectionSet;\n    }\n\n    initializeSideEffects () {\n        const sideEffectDefinitions = this._sideEffectDefinitions;\n        this.sideEffects(initializeSideEffects(this, sideEffectDefinitions));\n        return this;\n    }\n\n    registerPhysicalActions (actions) {\n        const initedActions = initializePhysicalActions(this, actions);\n        Object.assign(this._actions.physical, initedActions);\n        return this;\n    }\n\n    /**\n     * Allows to propagate the datamodel with only the supplied fields. When propagation is done, then the fields\n     * which are supplied for the specified behavioural action is propagated.\n     *\n     * @public\n     *\n     * @param {string} action Name of behavioural action. If '*' is specified, then for all behavioural actions it is\n     * applied.\n     * @param {Array} fields Array of field names which will be propagated.\n     * @param {boolean} append If true, then it is appended to the existing propagation data model fields else only\n     * those fields are projected from propagation data model and propagated.\n     *\n     * @return {Firebolt} Instance of firebolt\n     */\n    propagateWith (action, fields, append = false) {\n        const behaviouralActions = this._actions.behavioural;\n        if (action === ALL_ACTIONS) {\n            for (const key in behaviouralActions) {\n                this._propagationFields[key] = {\n                    fields,\n                    append\n                };\n            }\n        } else {\n            this._propagationFields[action] = {\n                fields,\n                append\n            };\n        }\n        return this;\n    }\n\n    /**\n     * Map actions and behaviours\n     * @return {Firebolt} Firebolt instance\n     */\n    mapActionsAndBehaviour (phyAction) {\n        const initedPhysicalActions = this._actions.physical;\n        const map = this._actionBehaviourMap;\n\n        for (const action in map) {\n            if (!({}).hasOwnProperty.call(action, map) && action === (phyAction || action)) {\n                let target;\n                const mapObj = map[action];\n                target = mapObj.target;\n                const touch = mapObj.touch;\n                if (!target) {\n                    target = this.context.getDefaultTargetContainer();\n                }\n                const bind = hasTouch() ? touch === true || touch === undefined : !touch;\n                bind && this.bindActionWithBehaviour(initedPhysicalActions[action],\n                    target, mapObj.behaviours);\n            }\n        }\n        return this;\n    }\n\n    registerPhysicalBehaviouralMap (map) {\n        this._actionBehaviourMap = mergeRecursive(this._actionBehaviourMap, map);\n        return this;\n    }\n\n    /**\n     * Binds a target element with an action.\n     *\n     * @param {Function} action Action method\n     * @param {string} target Class name of element\n     * @param {Array} behaviourList Array of behaviours\n     * @return {FireBolt} Instance of firebolt\n     */\n    bindActionWithBehaviour (action, targets, behaviourList) {\n        if (typeof (targets) === 'string') {\n            targets = [targets];\n        }\n        targets.forEach((target) => {\n            const mount = this.context.mount();\n            const nodes = target.node instanceof Function ? target : selectElement(mount).selectAll(target);\n            if (!nodes.empty()) {\n                if (nodes instanceof Array) {\n                    nodes.forEach((node) => {\n                        action(selectElement(node), behaviourList);\n                    });\n                } else {\n                    action(nodes, behaviourList);\n                }\n            }\n        });\n        return this;\n    }\n\n    getPropagationInf () {\n        return this._propagationInf;\n    }\n\n    getAddSetFromCriteria (criteria, propagationInf = {}) {\n        const context = this.context;\n        const filteredDataModel = propagationInf.data ? propagationInf.data :\n            context.getDataModelFromIdentifiers(criteria, 'all');\n\n        return {\n            model: filteredDataModel,\n            uids: criteria ? (propagationInf.data ? propagationInf.entryRowIds :\n                filteredDataModel[0].getUids()) : null\n        };\n    }\n\n    getSelectionSets (action) {\n        const sourceId = this.context.id();\n        const propagationInf = this._propagationInf || {};\n        const propagationSource = propagationInf.sourceId;\n        let applicableSelectionSets = [];\n        if (propagationSource !== sourceId) {\n            applicableSelectionSets = [this._volatileSelectionSet[action]];\n        }\n\n        if (propagationSource) {\n            applicableSelectionSets.push(this.selectionSet()[action]);\n        }\n        return applicableSelectionSets;\n    }\n\n    getFullData () {\n        return this.context.data();\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Returns the entry and exit set information of the specified behavioural action.\n     *\n     * @public\n     *\n     * @param {string} behaviour Name of behavioural action.\n     *\n     * @return {Object} Entry exit set information.\n     */\n    getEntryExitSet (behaviour) {\n        return this._entryExitSet[behaviour];\n    }\n\n    mergeSelectionSets (behaviours) {\n        return unionSets(this, behaviours);\n    }\n\n    data () {\n        return this.context.data();\n    }\n}\n","import { clone, retrieveNearestGroupByReducers } from 'muze-utils';\n\nexport const initializeSideEffects = (context, sideEffects) => {\n    const sideEffectsMap = context._sideEffects;\n    sideEffects = sideEffects instanceof Array ? sideEffects : Object.values(sideEffects);\n    sideEffects.forEach((SideEffect) => {\n        const formalName = SideEffect.formalName();\n        const sideEffectInstance = sideEffectsMap[formalName];\n        sideEffectsMap[formalName] = sideEffectInstance || new SideEffect(context);\n    });\n    return sideEffectsMap;\n};\n\nexport const setSideEffectConfig = (sideEffects, config) => {\n    for (const key in sideEffects) {\n        const sideEffect = sideEffects[key];\n        const formalName = sideEffect.constructor.formalName();\n        const sideEffectConf = config[formalName];\n\n        sideEffectConf && sideEffect.config(sideEffectConf);\n    }\n};\n\nexport const initializeBehaviouralActions = (context, actions) => {\n    const dispatchableBehaviours = {};\n\n    actions = actions instanceof Array ? actions : Object.values(actions);\n    actions.forEach((Action) => {\n        dispatchableBehaviours[Action.formalName()] = new Action(context);\n    });\n    return dispatchableBehaviours;\n};\n\nexport const initializePhysicalActions = (context, actions) => {\n    const physicalActions = {};\n\n    for (const name in actions) {\n        if (!({}).hasOwnProperty.call(name, actions)) {\n            physicalActions[name] = actions[name](context);\n        }\n    }\n    return physicalActions;\n};\n\nexport const changeSideEffectAvailability = (context, fn, toEnable) => {\n    const sideEffects = context.sideEffects();\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            let change = true;\n            if (fn && fn(key) === false) {\n                change = false;\n            }\n            if (change) {\n                toEnable ? sideEffects[key].enable() : sideEffects[key].disable();\n            }\n        }\n    }\n};\n\nexport const getMergedSet = set => [...new Set([...set[0], ...set[1]])];\n\nexport const getSourceFields = (propagationInf, criteria = {}) => {\n    const sourceIdentifiers = propagationInf.sourceIdentifiers;\n    let sourceFields;\n    if (sourceIdentifiers) {\n        sourceFields = sourceIdentifiers.fields.map(d => d.name);\n    } else if (criteria instanceof Array) {\n        sourceFields = criteria[0];\n    } else {\n        sourceFields = Object.keys(criteria || {});\n    }\n    return sourceFields;\n};\n\nexport const getSideEffects = (behaviour, behaviourEffectMap) => {\n    const sideEffects = [];\n    for (const key in behaviourEffectMap) {\n        const behaviours = key.split(',');\n        const found = behaviours.some(d => d === behaviour);\n        if (found) {\n            sideEffects.push({\n                effects: behaviourEffectMap[key],\n                behaviours\n            });\n        }\n    }\n    return sideEffects;\n};\n\nexport const unionSets = (firebolt, behaviours) => {\n    let combinedSet = {};\n    const models = {\n        mergedEnter: null,\n        mergedExit: null\n    };\n    const uidSet = {\n        mergedEnter: [],\n        mergedExit: []\n    };\n\n    const { context } = firebolt;\n    behaviours.forEach((behaviour) => {\n        const entryExitSet = firebolt._entryExitSet[behaviour];\n        if (entryExitSet) {\n            combinedSet = Object.assign(combinedSet, clone(entryExitSet));\n            ['mergedEnter', 'mergedExit'].forEach((type) => {\n                const { model, uids } = entryExitSet[type];\n                let existingModel = models[type];\n\n                if (!existingModel) {\n                    existingModel = models[type] = model;\n                    uidSet[type] = uids;\n                } else if (`${model.getSchema().map(d => d.name).sort()}` ===\n                    `${existingModel.getSchema().map(d => d.name).sort()}`) {\n                    uidSet[type] = [...uidSet[type], ...uids];\n                } else {\n                    existingModel = model;\n                    uidSet[type] = uids;\n                }\n                combinedSet[type].uids = [...new Set(uidSet[type])];\n            });\n        }\n    });\n\n    ['mergedEnter', 'mergedExit'].forEach((type) => {\n        if (behaviours.length > 1) {\n            const uids = combinedSet[type].uids.reduce((acc, v) => {\n                acc[v] = true;\n                return acc;\n            }, {});\n            combinedSet[type].model = context.data().select((f, i) => uids[i], { saveChild: false });\n        }\n        combinedSet[type].aggFns = retrieveNearestGroupByReducers(combinedSet[type].model);\n    });\n    return combinedSet;\n};\n","import Firebolt from './firebolt';\nimport * as behaviouralActions from './actions/behavioural';\nimport PersistentBehaviour from './actions/behavioural/persistent';\nimport GenericBehaviour from './actions/behavioural/generic';\nimport VolatileBehaviour from './actions/behavioural/volatile';\nimport { physicalActions } from './actions/physical';\nimport * as BEHAVIOURS from './enums/behaviours';\nimport * as ACTIONS from './enums/actions';\nimport * as SELECTION from './enums/selection';\nimport * as SIDE_EFFECTS from './enums/side-effects';\nimport SurrogateSideEffect from './side-effects/surrogate';\nimport SpawnableSideEffect from './side-effects/spawnable';\nimport GenericSideEffect from './side-effects/generic';\nimport * as sideEffects from './side-effects';\nimport SelectionSet from './selection-set';\nimport { behaviourEffectMap } from './behaviour-effect-map';\nimport { registry } from './registry';\n\nexport {\n    behaviouralActions,\n    VolatileBehaviour,\n    GenericBehaviour,\n    PersistentBehaviour,\n    physicalActions,\n    Firebolt,\n    BEHAVIOURS,\n    ACTIONS,\n    sideEffects,\n    SelectionSet,\n    behaviourEffectMap,\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    GenericSideEffect,\n    SELECTION,\n    SIDE_EFFECTS,\n    registry\n};\n","import { componentRegistry } from 'muze-utils';\nimport * as behaviours from './actions/behavioural';\nimport { physicalActions } from './actions/physical';\nimport * as sideEffects from './side-effects';\n\nconst convertToObj = (comps) => {\n    const obj = {};\n\n    for (const key in comps) {\n        const val = comps[key];\n\n        obj[val.formalName()] = val;\n    }\n    return obj;\n};\n\nexport const registry = {\n    behaviours: componentRegistry(convertToObj(behaviours)),\n    physicalActions: componentRegistry(physicalActions),\n    sideEffects: componentRegistry(convertToObj(sideEffects))\n};\n","import SelectionSet from './selection-set';\n\nexport default SelectionSet;\n","import {\n    SELECTION_NEW_ENTRY, SELECTION_NEW_EXIT, SELECTION_NULL, SELECTION_OLD_ENTRY, SELECTION_OLD_EXIT\n} from '../enums/selection';\n/* eslint-disable guard-for-in */\n\n/**\n * This component is used to keep track of the row tuples of the data which gets added and removed. This keeps\n * information of which rows are in previous and new entry set and previous and new exit set. This is initialized by\n * {@link Firebolt}.\n *\n * @public\n *\n * @class SelectionSet\n */\nclass SelectionSet {\n    /**\n     * Creates an instance of selection set\n     *\n     * @param {Array.<string>} completeSet Set of unique ids.\n     */\n    constructor (completeSet, _volatile) {\n        this.completeSet = completeSet;\n        this._set = completeSet.reduce((obj, key) => {\n            obj[key] = SELECTION_NULL;\n            return obj;\n        }, {});\n        this._volatile = _volatile;\n        this._completeSetCount = completeSet.length;\n        this._lockedSelection = {};\n        this._resetted = true;\n    }\n\n    /**\n     * Adds a set of ids to the selection set. This also moves the other rows to exit set.\n     *\n     * @public\n     * @param {Array.<number|string>} ids Array of unique ids.\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    add (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            set[i] = SELECTION_NEW_ENTRY;\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_ENTRY && set[key] !== SELECTION_OLD_ENTRY) {\n                set[key] = set[key] < 0 ? SELECTION_OLD_EXIT : SELECTION_NEW_EXIT;\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Adds an array of ids to the old entry set.\n     *\n     * @param {Array.<number|string>} ids Array of unique ids\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    update (ids) {\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            set[i] = SELECTION_OLD_ENTRY;\n        });\n\n        return this;\n    }\n\n    /**\n     * Moves all ids which in new entry set  to old entry set.\n     *\n     * @public\n     * @param {Array.<number|string>} ids Array of unique ids\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateEntry () {\n        const set = this._set;\n\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_ENTRY ? SELECTION_OLD_ENTRY : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Moves an array of ids which are in new exit set to old exit set.\n     *\n     * @public\n     *\n     * @param {Array.<number|string>} ids Array of unique ids.\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateExit () {\n        const set = this._set;\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_EXIT ? SELECTION_OLD_EXIT : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Removes an array of ids from the selection set. It also moves the remaining row ids to entry set.\n     *\n     * @public\n     * @param {Array.<string>} ids Array of unique ids\n     *\n     * @return {SelectionSet}  Instance of selection set\n     */\n    remove (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        ids.forEach((i) => {\n            set[i] = SELECTION_NEW_EXIT;\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_EXIT && set[key] !== SELECTION_OLD_EXIT) {\n                set[key] = set[key] === 0 ? SELECTION_NEW_ENTRY : SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n\n    getSets () {\n        const set = this._set;\n        const retObj = {\n            entrySet: [[], []],\n            exitSet: [[], []],\n            completeSet: []\n        };\n\n        for (const key in set) {\n            if (set[key] > 0) {\n                set[key] === SELECTION_OLD_ENTRY && retObj.entrySet[0].push(key);\n                set[key] === SELECTION_NEW_ENTRY && retObj.entrySet[1].push(key);\n            } else if (set[key] < 0) {\n                set[key] === SELECTION_OLD_EXIT && retObj.exitSet[0].push(key);\n                set[key] === SELECTION_NEW_EXIT && retObj.exitSet[1].push(key);\n            }\n            retObj.completeSet.push(key);\n        }\n\n        ['entrySet', 'exitSet'].forEach((type) => {\n            retObj[type] = retObj[type].map(e => e.map(Number));\n        });\n        retObj.completeSet = retObj.completeSet.map(Number);\n\n        return retObj;\n    }\n\n    /**\n     * Resets an array of ids in the selection set to initial state. It sets the value of every unique id value to\n     * null in the selection set which means they are neither in entry set nor in exit set. If no ids are passed,\n     * then it resets all the ids to null.\n     *\n     * @public\n     *\n     * @param {Array} ids Array of unique ids.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    reset (ids) {\n        const set = this._set;\n        if (ids) {\n            ids.forEach((i) => {\n                set[i] = SELECTION_NULL;\n            });\n        } else {\n            const lockedSel = this._lockedSelection;\n            for (const key in set) {\n                if (!(key in lockedSel)) {\n                    set[key] = SELECTION_NULL;\n                }\n            }\n        }\n        this._resetted = true;\n        return this;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     *\n     * @public\n     *\n     * @return {Array.<string>} Array of unique ids\n     */\n    getEntrySet () {\n        const set = this._set;\n        const addSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_ENTRY && addSet.push(key);\n        }\n\n        return addSet;\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in entry set.\n     *\n     * @public\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old entry set or new entry set\n     */\n    getExistingEntrySet (addSet) {\n        const set = this._set;\n        return addSet.filter(d => set[d] === SELECTION_NEW_ENTRY || set[d] === SELECTION_OLD_ENTRY);\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in exit set.\n     *\n     * @public\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old exit set or new exit set\n     */\n    getExistingExitSet (removeSet) {\n        const set = this._set;\n        return removeSet.filter(d => set[d] === SELECTION_NEW_EXIT || set[d] === SELECTION_OLD_EXIT);\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldEntry () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_ENTRY && updateSet.push(key);\n        }\n        return updateSet;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldExit () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_EXIT && updateSet.push(key);\n        }\n\n        return updateSet;\n    }\n\n    /**\n     * Gets the array of ids which are in the exit set.\n     *\n     * @public\n     * @return {Array.<string>} Array of unique ids\n     */\n    getExitSet () {\n        const set = this._set;\n        const removeSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_EXIT && removeSet.push(key);\n        }\n        return removeSet;\n    }\n\n    /**\n     * Gets all the ids which are either in exit or entry set.\n     *\n     * @public\n     * @return {Array} Array of unique ids\n     */\n    getCompleteSet () {\n        const set = this._set;\n        const completeSet = [];\n\n        for (const key in set) {\n            completeSet.push(key);\n        }\n\n        return completeSet;\n    }\n\n    getCompleteSetCount () {\n        return this._completeSetCount;\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Swaps the add set and remove set in the selection set.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    toggle () {\n        const set = this._set;\n\n        for (const key in set) {\n            if (set[key] === SELECTION_NEW_ENTRY) {\n                set[key] = SELECTION_NEW_EXIT;\n            } else if (set[key] === SELECTION_NEW_EXIT) {\n                set[key] = SELECTION_NEW_ENTRY;\n            } else if (set[key] === SELECTION_OLD_ENTRY) {\n                set[key] = SELECTION_OLD_EXIT;\n            } else {\n                set[key] = SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n\n    getMergedEntrySet () {\n        const set = this._set;\n        const mergedEnter = [];\n\n        for (const key in set) {\n            if (set[key] === SELECTION_NEW_ENTRY || set[key] === SELECTION_OLD_ENTRY) {\n                mergedEnter.push(key);\n            }\n        }\n        return mergedEnter;\n    }\n\n    getMergedExitSet () {\n        const set = this._set;\n        const mergedExit = [];\n\n        for (const key in set) {\n            if (set[key] === SELECTION_NEW_EXIT || set[key] === SELECTION_OLD_EXIT) {\n                mergedExit.push(key);\n            }\n        }\n        return mergedExit;\n    }\n}\n\nexport default SelectionSet;\n","import { DataModel, getObjProp } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport { ANCHORS } from '../../enums/side-effects';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\n\nconst addLayer = (layerRegistry, context, sideEffect) => {\n    context.addLayer((layerDefs) => {\n        const layers = [];\n\n        if (layerDefs) {\n            layerDefs.forEach((layerDef) => {\n                const mark = layerDef.mark;\n                const layerCls = layerRegistry[mark];\n\n                if (layerCls && layerCls.shouldDrawAnchors()) {\n                    const depLayerEncoding = layerDef.def.encoding;\n                    const encoding = {\n                        x: getObjProp(depLayerEncoding, 'x', 'field'),\n                        y: getObjProp(depLayerEncoding, 'y', 'field'),\n                        color: getObjProp(depLayerEncoding, 'color', 'field'),\n                        size: {\n                            field: getObjProp(depLayerEncoding, 'size', 'field'),\n                            value: sideEffect.defaultSizeValue()\n                        }\n                    };\n                    const commonName = sideEffect.constructor.formalName();\n                    const name = `${layerDef.def.name}-${commonName}`;\n\n                    layers.push({\n                        name,\n                        mark: 'point',\n                        groupId: commonName,\n                        className: sideEffect.constructor.defaultConfig().className,\n                        encoding,\n                        transform: {\n                            type: 'identity'\n                        },\n                        calculateDomain: false,\n                        transition: sideEffect.getTransitionConfig(),\n                        source: dm => dm.select(() => false, {\n                            saveChild: false\n                        }),\n                        interactive: false,\n                        owner: layerDef.def.name\n                    });\n                }\n            });\n        }\n        return layers;\n    });\n};\n\nexport default class AnchorEffect extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._layersMap = {};\n        this.addAnchorLayers();\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-anchors-group`\n        };\n    }\n\n    static formalName () {\n        return ANCHORS;\n    }\n\n    addAnchorLayers () {\n        const context = this.firebolt.context;\n        const layerRegistry = context.registry().layerRegistry;\n\n        addLayer(layerRegistry, context, this);\n        return this;\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n\n    /**\n     * Returns the default area value of the anchor point.\n     * @return { number } Default area value of anchor.\n     */\n    defaultSizeValue () {\n        return 100;\n    }\n\n    apply (selectionSet) {\n        const dataModel = selectionSet.mergedEnter.model;\n        const formalName = this.constructor.formalName();\n\n        const context = this.firebolt.context;\n        const layers = context.layers().filter(layer => layer.config().groupId === formalName);\n\n        layers.forEach((layer) => {\n            const linkedLayer = context.getLayerByName(layer.config().owner);\n            const [transformedData, schema] = linkedLayer.getTransformedDataFromIdentifiers(dataModel);\n            const transformedDataModel = new DataModel(transformedData, schema);\n\n            layer.data(transformedDataModel);\n        });\n        return this;\n    }\n}\n","// extracted by mini-css-extract-plugin","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\nimport { BRUSH_ANCHORS } from '../enums/side-effects';\n\nexport default class BrushAnchors extends AnchorEffect {\n    static formalName () {\n        return BRUSH_ANCHORS;\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-brush-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n}\n","import { selectElement, FieldType } from 'muze-utils';\n\nimport './styles.scss';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport { CROSSLINE } from '../../enums/side-effects';\nimport SpawnableSideEffect from '../spawnable';\n\nexport default class Crossline extends SpawnableSideEffect {\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-crossline-group`,\n            bandClass: `${CLASSPREFIX}-crossband`,\n            lineClass: `${CLASSPREFIX}-crossline`\n        };\n    }\n\n    static formalName () {\n        return CROSSLINE;\n    }\n\n    apply (selectionSet, payload) {\n        let height;\n        let bandWidth;\n        let px;\n        let width;\n        const {\n            className,\n            bandClass,\n            lineClass\n        } = this.config();\n        const dataModel = selectionSet.mergedEnter.model;\n        const drawingInf = this.drawingContext();\n        if (payload.criteria && dataModel && dataModel.isEmpty()) {\n            return this;\n        }\n        if (payload.criteria === null || !dataModel) {\n            this.hide();\n            return this;\n        }\n\n        const dataObj = dataModel.getData();\n        const sourceInf = this.firebolt.context.getSourceInfo();\n        const axes = sourceInf.axes;\n        const axisFields = sourceInf.fields;\n        const fields = selectionSet.fields;\n        const data = dataObj.data;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const svgContainer = drawingInf.sideEffectGroup;\n\n        const elemData = [];\n        fields.forEach((field) => {\n            const fieldIndex = fieldsConfig[field] && fieldsConfig[field].index;\n            const dataArr = data.map(d => d[fieldIndex]);\n            const axisIndex = [['x', 0], ['x', 1], ['y', 0], ['y', 1]].find((arr) => {\n                const fieldInst = axisFields[arr[0]][arr[1]];\n                return fieldInst && fieldInst.type() === FieldType.DIMENSION &&\n                    fieldInst.getMembers().indexOf(field) !== -1;\n            });\n            if (axisIndex !== undefined && data.length) {\n                const type = axisIndex[0];\n                const axis = axes[type][axisIndex[1]];\n                const value = dataArr[0];\n                bandWidth = axis.getUnitWidth() || 0;\n                px = axis.getScaleValue(value) + bandWidth / 2 + drawingInf.xOffset;\n                const layers = this.firebolt.context.layers();\n                const plotWidth = Math.max(...layers.map(layer => layer.getPlotSpan()[type]));\n                const pad = Math.max(...layers.map(layer => layer.getPlotPadding()[type]));\n                height = drawingInf.height;\n                width = drawingInf.width;\n                const startPx = px - plotWidth / 2 - pad / 2;\n                const endPx = px + plotWidth / 2 + pad / 2;\n                const dataPoint = {};\n                if (type === 'y') {\n                    dataPoint.d = `M 0 ${startPx} L 0 ${endPx} L ${width} ${endPx} L ${width} ${startPx} Z`;\n                } else {\n                    dataPoint.d = `M ${startPx} 0 L ${endPx} 0 L ${endPx} ${height} L ${startPx} ${height} Z`;\n                }\n                dataPoint.className = plotWidth ? bandClass : lineClass;\n                !isNaN(px) && elemData.push(dataPoint);\n            }\n        });\n        if (elemData.length) {\n            const parentGroup = this.createElement(svgContainer, 'g', [1], className);\n            const elem = this.createElement(parentGroup, 'path', elemData);\n            elem.attr('d', d => d.d).style('pointer-events', 'none')\n                            .attr('class', d => d.className);\n        }\n        return this;\n    }\n\n    hide () {\n        const className = this.config().className;\n        const drawingInf = this.drawingContext();\n        selectElement(drawingInf.sideEffectGroup).selectAll(`.${className}`).remove();\n    }\n}\n","// extracted by mini-css-extract-plugin","import SurrogateSideEffect from '../surrogate';\n\nexport default class FilterEffect extends SurrogateSideEffect {\n    static formalName () {\n        return 'filter';\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static mutates () {\n        return true;\n    }\n\n    apply (selectionSet, payload) {\n        const context = this.firebolt.context;\n        const entryModel = selectionSet.mergedEnter.model;\n        if (payload.criteria === null) {\n            context.clearCaching().resetData();\n        } else {\n            context.enableCaching().data(entryModel);\n        }\n        return this;\n    }\n}\n","import { mergeRecursive, getUniqueId, generateGetterSetters } from 'muze-utils';\nimport { PROPS } from './props';\n\n/**\n * This is the base class of all side effects. It contains all common methods like setting configuration, disabling,\n * enabling side effect, etc. Every new side effect has to inherit this class or {@link SpawnableSideEffect} or\n * {@link SurrogateSideEffect} class. All side effects are initialized by firebolt. The instance of firebolt is\n * passed on initialization. The firebolt instance contains ```context``` which is the instance of visual unit with\n * which the firebolt is attached.\n *\n * @public\n * @class\n * @module GenericSideEffect\n */\nexport default class GenericSideEffect {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n        this._strategy = 'default';\n        this._config = {};\n        this._id = getUniqueId();\n        this._strategies = {};\n        generateGetterSetters(this, PROPS);\n        this.config(this.constructor.defaultConfig());\n    }\n\n    /**\n     * Returns the default configuration of the side effect.\n     *\n     * @public\n     * @return {Object} Default configuration of side effect.\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the formal name of a side effect. This method must be implemented by all side effects which changes\n     * or adds any element in the visualization.\n     *\n     * @return {string} Formal name of side effect.\n     */\n    static formalName () {\n        return 'generic';\n    }\n\n    static target () {\n        return 'all';\n    }\n\n    /**\n     * Returns true if the side effects mutates the data of chart.\n     *\n     * @public\n     *\n     * @return {boolean} If the side effect mutates the data of chart.\n     */\n    static mutates () {\n        return false;\n    }\n\n    /**\n     * Sets or gets the configuration of side effect.\n     *\n     * When setter,\n     * @param {Object} config Configuration of side effect.\n     * @return {GenericSideEffect} Side effect instance.\n     *\n     * When getter,\n     * @return {Object} Side effect configuration.\n     */\n    config (...params) {\n        if (params.length) {\n            this._config = mergeRecursive(this._config, params[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    disable () {\n        this._enabled = false;\n        return this;\n    }\n\n    enable () {\n        this._enabled = true;\n        return this;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n\n    /**\n     * Applies the interaction effect on the chart. This is where the implemntation of the side effect is defined.\n     *\n     * @param {Object} selectionSet Contains the entry and exit set of data which got affected during interaction.\n     * @param {Object} selectionSet.mergedEnter Combined previous entry and new entry set.\n     * @param {DataModel} selectionSet.mergedEnter.model Instance of data model containing all rows which got\n     * affected during interaction.\n     * @param {Array} selectionSet.mergedEnter.uids Ids of all rows which were affected during interaction.\n     * @param {Object} selectionSet.mergedExit Combined previous exit and new exit set.\n     * @param {DataModel} selectionSet.mergedExit.model Instance of data model containing rows which were not affected\n     * during interaction.\n     * @param {Array} selectionSet.mergedExit.uids Ids of all rows which were not affected during interaction.\n     * @param {Object} selectionSet.entrySet Entry set information.\n     * @param {Array} selectionSet.entrySet[0].uids All row ids which got affected during previous interaction.\n     * @param {Array} selectionSet.entrySet[1].uids All row ids which got affected during current interaction.\n     * @param {Array} selectionSet.exitSet[0].uids All row ids which were not affected during previous interaction.\n     * @param {Array} selectionSet.exitSet[1].uids All row ids which were not affected during current interaction.\n     * @param {Object} payload Payload information of the behavioural action on trigger of which this side effect\n     * is applied.\n     * @param {Object} options Optional information for side effect like strategy, etc.\n     */\n    apply () {\n        return this;\n    }\n\n    /**\n     * Adds a new strategy method for this side effect. The strategy method is implemented by side effect class.\n     *\n     * @param {string} name Name of the strategy.\n     * @param {Function} fn Strategy method.\n     *\n     * @return {GenericSideEffect} Instance of side effect.\n     */\n    setStrategy (name, fn) {\n        if (fn) {\n            this._strategies[name] = fn;\n        }\n        return this;\n    }\n}\n","import GenericSideEffect from './generic-sideeffect';\n\nexport default GenericSideEffect;\n","export const PROPS = {\n    valueParser: {\n        defaultValue: val => val\n    }\n};\n","export const spaceOutBoxes = (boxes, extent, showVertically) => {\n    let y;\n    let height;\n    let x;\n    let width;\n    let i;\n    const pad = 5;\n    const len = boxes.length;\n    const spaceOutIfOverlap = (firstBox, secondBox, opposite) => {\n        x = firstBox.x;\n        width = firstBox.width;\n        y = firstBox.y;\n        height = firstBox.height;\n        const bottom = y + height;\n        const right = x + width;\n\n        if (showVertically) {\n            if (opposite ? y < (secondBox.y + secondBox.height) : bottom > secondBox.y) {\n                secondBox.y = opposite ? firstBox.y - secondBox.height - pad :\n                        bottom + pad;\n            }\n        } else if (opposite ? x < (secondBox.x + secondBox.width) : right > secondBox.x) {\n            secondBox.x = opposite ? firstBox.x - secondBox.width - pad :\n                    right + pad;\n        }\n    };\n\n    boxes.sort((a, b) => (showVertically ? a.y - b.y : a.x - b.x));\n    i = 0;\n\n    for (i = 0; i < len - 1; i++) {\n        spaceOutIfOverlap(boxes[i], boxes[i + 1]);\n    }\n\n    if ((boxes[i].y + boxes[i].height) > extent.height ||\n            (boxes[i].x + boxes[i].width) > extent.width) {\n        if (showVertically) {\n            boxes[i].y -= (boxes[i].height + boxes[i].y) - extent.height;\n        } else {\n            boxes[i].x -= (boxes[i].width + boxes[i].x) - extent.width;\n        }\n        for (i = len - 1; i > 0; i--) {\n            spaceOutIfOverlap(boxes[i], boxes[i - 1], true);\n        }\n    }\n    return boxes;\n};\n","export { default as SelectionBox } from './selection-box';\nexport { default as Tooltip } from './tooltip';\nexport { default as Crossline } from './crossline';\nexport { default as PlotHighlighter } from './plot-highlighter';\nexport { default as FilterEffect } from './filter';\nexport { default as PersistentAnchors } from './persistent-anchors';\nexport { default as BrushAnchors } from './brush-anchors';\nexport { default as AnchorEffect } from './anchors';\n","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\nimport { PERSISTENT_ANCHORS } from '../enums/side-effects';\n\nexport default class PersistentAnchors extends AnchorEffect {\n    static formalName () {\n        return PERSISTENT_ANCHORS;\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-persistent-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n}\n","import SurrogateSideEffect from '../surrogate';\nimport { strategies } from './strategy';\nimport { HIGHLIGHTER } from '../../enums/side-effects';\n\nexport default class PlotHighlighter extends SurrogateSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategy = 'highlight';\n        this._strategies = strategies;\n    }\n\n    static formalName () {\n        return HIGHLIGHTER;\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        strategy(selectionSet, this, options.strategy || this._strategy);\n\n        return this;\n    }\n}\n","const fadeFn = (set, context, strategy) => {\n    const {\n        mergedEnter,\n        mergedExit,\n        exitSet,\n        completeSet\n    } = set;\n\n    if (!mergedEnter.length && !mergedExit.length) {\n        context.applyInteractionStyle(completeSet, {}, strategy, false);\n    } else {\n        context.applyInteractionStyle(exitSet[1], {}, strategy, true);\n        context.applyInteractionStyle(mergedEnter, {}, strategy, false);\n    }\n};\n\nexport const strategies = {\n    fade: fadeFn,\n    focus: (set, context) => {\n        const {\n            mergedEnter,\n            mergedExit,\n            completeSet\n        } = set;\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, {}, 'focus', false);\n            context.applyInteractionStyle(completeSet, {}, 'focusStroke', false);\n        } else {\n            context.applyInteractionStyle(mergedExit, {}, 'focus', true);\n            context.applyInteractionStyle(mergedEnter, {}, 'focus', false);\n\n            context.applyInteractionStyle(mergedExit, {}, 'focusStroke', false);\n            context.applyInteractionStyle(mergedEnter, {}, 'focusStroke', true);\n        }\n    },\n    highlight: (set, context) => {\n        const {\n            mergedEnter,\n            mergedExit,\n            entrySet,\n            exitSet,\n            completeSet\n        } = set;\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, {}, 'highlight', false);\n        } else {\n            context.applyInteractionStyle(entrySet[1], {}, 'highlight', true);\n            context.applyInteractionStyle(exitSet[1], {}, 'highlight', false);\n        }\n    }\n};\n","import { selectElement } from 'muze-utils';\n\nexport const getBoxDimensionsFromPayload = (payload, axes, axisFields) => {\n    let x1;\n    let x2;\n    let y1;\n    let y2;\n    let xRange;\n    let yRange;\n    const criteria = payload.criteria;\n    const dimensions = payload.dimensions || {};\n    const { x: xDim, y: yDim } = dimensions;\n\n    if (!criteria) return null;\n\n    if (axes.x && axes.y) {\n        const xAxis = axes.x[0];\n        const yAxis = axes.y[0];\n        const xLinear = xAxis.constructor.type() === 'linear';\n        const yLinear = yAxis.constructor.type() === 'linear';\n        const xField = `${axisFields.x[0]}`;\n        const yField = `${axisFields.y[0]}`;\n        const xCriteria = criteria[xField];\n        const yCriteria = criteria[yField];\n\n        if (xCriteria && xCriteria[0] instanceof Array) {\n            xRange = xCriteria[0];\n            yRange = xCriteria[1];\n        } else {\n            xRange = xCriteria || [];\n            yRange = yCriteria || [];\n        }\n\n        if (xRange && xRange.length) {\n            const domain = xAxis.domain();\n            const bandScale = xAxis.constructor.type() === 'band';\n            let x1Val = xRange[0];\n            let x2Val = xRange[xRange.length - 1];\n\n            if (bandScale) {\n                let x1DomainIndex = domain.indexOf(xRange[0]);\n                let x2DomainIndex = domain.indexOf(xRange[xRange.length - 1]);\n                [x1DomainIndex, x2DomainIndex] = [x1DomainIndex, x2DomainIndex].sort((a, b) => a - b);\n                x1Val = domain[x1DomainIndex];\n                x2Val = domain[x2DomainIndex];\n            }\n\n            x1 = xAxis.getScaleValue(x1Val);\n            x2 = xAxis.getScaleValue(x2Val);\n            x2 += bandScale ? xAxis.getUnitWidth() : 0;\n        }\n\n        if (yRange && yRange.length) {\n            const domain = yAxis.domain();\n            const bandScale = yAxis.constructor.type() === 'band';\n            let y1Val = yRange[0];\n            let y2Val = yRange[yRange.length - 1];\n\n            if (bandScale) {\n                let y1DomainIndex = domain.indexOf(yRange[0]);\n                let y2DomainIndex = domain.indexOf(yRange[yRange.length - 1]);\n                [y1DomainIndex, y2DomainIndex] = [y1DomainIndex, y2DomainIndex].sort(((a, b) => b - a));\n                y1Val = domain[y1DomainIndex];\n                y2Val = domain[y2DomainIndex];\n            }\n\n            y1 = yAxis.getScaleValue(y1Val);\n            y2 = yAxis.getScaleValue(y2Val);\n            y2 += yAxis.constructor.type() === 'band' ? yAxis.getUnitWidth() : 0;\n        }\n\n        if ((yLinear && xLinear) || !payload.dragEnd) {\n            if (xDim) {\n                [x1, x2] = xDim;\n            }\n            if (yDim) {\n                [y1, y2] = yDim;\n            }\n        }\n    }\n\n    return {\n        dimension: {\n            x1,\n            x2,\n            y1,\n            y2\n        },\n        direction: 'both'\n    };\n};\n\nexport const changeVisibility = (context, sideEffectGroup, visible) => {\n    const config = context.config();\n    const className = config.defClassName;\n    const classPrefix = config.classPrefix;\n    selectElement(sideEffectGroup).selectAll(`.${classPrefix}-${className}`)\n                    .style('display', visible ? 'block' : 'none');\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    isValidValue\n} from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport './styles.scss';\nimport SpawnableSideEffect from '../spawnable';\nimport { selectionBoxDrag } from '../../actions/physical/selection-box-drag';\nimport { getBoxDimensionsFromPayload, changeVisibility } from './helper';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\nclass SelectionBox extends SpawnableSideEffect {\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            defClassName: 'selection-box-group',\n            className: '',\n            classPrefix: CLASSPREFIX,\n            box: {\n                defClassName: 'selection-box',\n                className: ''\n            },\n            transition: {\n                duration: 200\n            }\n        };\n    }\n\n    static formalName () {\n        return 'selectionBox';\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     * @param {Object} dimension Dimensions of the selection box.\n     * @param {number} dimension.x1 Starting x position\n     * @param {number} dimension.x2 Ending x position\n     * @param {number} dimension.y1 Starting y position\n     * @param {number} dimension.y2 Ending y position\n     * @param {Object} conf Configuration needed to draw the selection box\n     * @param {number} unitWidth Width of the visual unit.\n     * @param {number} unitHeight Height of the visual unit.\n     */\n    apply (selectionSet, payload) {\n        let x = 0;\n        let y = 0;\n        let width;\n        let height;\n        const config = this._config;\n        const boxConf = config.box;\n        const firebolt = this.firebolt;\n        const drawingInf = this.drawingContext();\n        const mountPoint = drawingInf.sideEffectGroup;\n        const unitWidth = drawingInf.width;\n        const unitHeight = drawingInf.height;\n        const classPrefix = config.classPrefix;\n        const selectionGroupClassName = config.defClassName;\n\n        width = unitWidth;\n        height = unitHeight;\n\n        // Hide selection-box on dragEnd or when criteria is empty\n        if (!payload.criteria || payload.dragEnd) {\n            this.hide(drawingInf);\n            return this;\n        }\n\n        const sourceInf = firebolt.context.getSourceInfo();\n        const { dimension, direction } =\n            getBoxDimensionsFromPayload(payload, sourceInf.axes, sourceInf.fields);\n        const transition = payload.dragEnd && config.transition;\n\n        if (direction === 'both') {\n            x = Math.min(dimension.x1, dimension.x2);\n            y = Math.min(dimension.y1, dimension.y2);\n            width = Math.abs(dimension.x2 - dimension.x1);\n            height = Math.abs(dimension.y2 - dimension.y1);\n        }\n\n        this.show(drawingInf);\n        // Create the data array for drawing the rectangle\n        const points = [\n            {\n                x,\n                y,\n                width,\n                height\n            }\n        ];\n        // Create the container group for selection box.\n        const selectionGroup = makeElement(selectElement(mountPoint), 'g', [1],\n            `.${classPrefix}-${selectionGroupClassName}`);\n        const sideEffect = this;\n        const selection = selectionGroup.selectAll('rect').data(points);\n        const selectionBox = selection.enter().append('rect')\n                        .each(function () {\n                            selectionBoxDrag(firebolt)(selectElement(this), ['brush'], sideEffect);\n                        })\n                        .merge(selection)\n                        .each(function (attrs) {\n                            let element = selectElement(this);\n                            transition && (element = element.transition().duration(transition.duration));\n                            for (const key in attrs) {\n                                if ({}.hasOwnProperty.call(attrs, key)) {\n                                    isValidValue(attrs[key]) && element.attr(key, attrs[key]);\n                                }\n                            }\n                        });\n        // Get the qualified class name for selection box rectangle\n        const boxClassName = getQualifiedClassName(boxConf.defClassName, this._id, classPrefix);\n        selectionBox.classed(boxClassName.join(' '), true);\n        selectionBox.classed(boxConf.className, true);\n\n        return this;\n    }\n\n    hide (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, false);\n    }\n\n    show (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, true);\n    }\n}\n\nexport default SelectionBox;\n","// extracted by mini-css-extract-plugin","import { makeElement } from 'muze-utils';\n\nimport GenericSideEffect from './generic';\n\n/**\n * Any side effect which will add any new element to the chart like drawing a rectangular box or any annotation over\n * the chart needs to inherit this class. This class has methods which returns the container where the dom elements\n * needs to be created.\n *\n * To use this,\n * ```\n *      const SpawnableSideEffect = muze.SideEffects.standards.SpawnableSideEffect;\n *\n *      class SelectionBox extends SpawnableSideEffect {\n *          static formalName () {\n *              return 'selectionBox';\n *          }\n *\n *          // Implement the logic of applying the style here.\n *          apply () {\n *          }\n *      }\n * ```\n * @public\n * @class\n * @extends GenericSideEffect\n * @module SpawnableSideEffect\n */\nexport default class SpawnableSideEffect extends GenericSideEffect {\n    /**\n     * Creates a html or svg element in the container.\n     *\n     * @public\n     * @param {SVGElement|HTMLElement} container Container where the dom element will be rendered.\n     * @param {string} elemType Type of dom element.\n     * @param {Array} data Array of objects with which the dom elements will be binded.\n     * @param {string} className class name of the element.\n     *\n     * @return {Selection} D3 Selection of the element.\n     */\n    createElement (container, elemType, data, className, callbacks) {\n        return makeElement(container, elemType, data, className, callbacks);\n    }\n\n    /**\n     * Returns the drawing information for side effect like svg container, dimensions of the visual unit.\n     *\n     * @public\n     * @return {Object} Drawing information for side effect.\n     * ```\n     *      sideEffectGroup: // svg container where the side effect needs to be appended.\n     *      svgContainer: // svg container of the {@link VisualUnit}.\n     *      htmlContainer: // html div container of the {@link VisualUnit}.\n     *      width: // Width of the {@link VisualUnit}\n     *      height: // Height of the {@link VisualUnit}\n     * ```\n     */\n    drawingContext (...drawingContext) {\n        if (drawingContext.length) {\n            this._drawingContext = drawingContext[0];\n            return this;\n        }\n        return this._drawingContext();\n    }\n\n    show () {\n        return this;\n    }\n\n    hide () {\n        return this;\n    }\n}\n","import GenericSideEffect from './generic';\n\n/**\n * This class is inherited by all side effects which changes the look of any existing elements in the visualization.\n * For example, if a side effect wants to change the color of bar plots, then it is a surrogate side effect.\n *\n * To use this,\n * ```\n *      const SurrogateSideEffect = muze.SideEffects.standards.SurrogateSideEffect;\n *\n *      class BarColorChanger extends SurrogateSideEffect {\n *          static formalName () {\n *              return 'colorChanger';\n *          }\n *\n *          // Implement the logic of applying the style here.\n *          apply () {\n *          }\n *      }\n * ```\n * @public\n *\n * @module SurrogateSideEffect\n * @class\n * @extends GenericSideEffect\n */\nexport default class SurrogateSideEffect extends GenericSideEffect {\n    /**\n     * Applies or removes interaction styles from plot elements. An array of row ids needs to be passed\n     * which identifies the plot elements and applies styles to them.\n     *\n     * To apply the interaction style,\n     * ```\n     *      const entryRowIds = entrySet[0].uids;\n     *      const interactionStyle = [{\n     *          type: 'fill',\n     *          intensity: [0, 0, 15, 0] // hsla configuration\n     *      }];\n     *\n     *      this.applyInteractionStyle(entryRowIds, interactionStyle, 'brighten', true);\n     * ```\n     * @public\n     * @param {Array} set Array of row ids.\n     * @param {Array} config Style configuration.\n     * @param {Object} config[0] fill or stroke configuration.\n     * @param {string} config[0].type Type of style - fill or stroke.\n     * @param {Array} config[0].intensity hsla configuration.\n     * @param {string} interactionType Type of interaction. This is needed for storing the styles for\n     * each type of interaction in the plot elements.\n     * @param {boolean} apply Whether to apply or remove the interaction style.\n     *\n     * @return {SurrogateSideEffect} Instance of surrogate side effect.\n     */\n    applyInteractionStyle (set, config = {}, interactionType, apply) {\n        const layers = this.firebolt.context.layers();\n        layers.forEach(layer => layer.config().interactive !== false &&\n            layer.applyInteractionStyle(interactionType, set.uids, apply));\n        return this;\n    }\n}\n","import { Tooltip as TooltipRenderer } from '@chartshq/muze-tooltip';\nimport { FieldType, mergeRecursive, defaultValue } from 'muze-utils';\nimport { spaceOutBoxes } from '../helper';\nimport { strategies } from './strategies';\nimport { FRAGMENTED } from '../../enums/constants';\nimport { TOOLTIP } from '../../enums/side-effects';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\nimport { HIGHLIGHT_SUMMARY } from '../../enums/tooltip-strategies';\n\nconst configResolvers = {\n    [HIGHLIGHT_SUMMARY]: (specificConf, config) => defaultValue(specificConf, config),\n    default: specificConf => defaultValue(specificConf, {})\n};\n\nconst sanitizeConfig = (config, context) => {\n    const strategyObj = context._strategies;\n    const sanitizedConf = Object.assign({}, config);\n    for (const key in strategyObj) {\n        sanitizedConf[key] = defaultValue(configResolvers[key], configResolvers.default)(config[key], config);\n    }\n    return sanitizedConf;\n};\n\nexport default class Tooltip extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._tooltips = {};\n        this._strategies = mergeRecursive({}, strategies);\n        this._strategy = HIGHLIGHT_SUMMARY;\n    }\n\n    static defaultConfig () {\n        return {\n            padding: 5,\n            offset: {\n                x: 0,\n                y: 0\n            },\n            highlightSummary: {\n                dataTransform: (dt, fields) => (fields ? dt.project(fields, { saveChild: false }) : dt\n                )\n            },\n            selectionSummary: {\n                dataTransform: (dt, fields) => {\n                    const fieldspace = dt.getFieldspace();\n                    const dimensions = Object.keys(fieldspace.getDimension());\n                    const measures = Object.keys(fieldspace.getMeasure());\n                    const projectedFields = defaultValue(fields, measures.length ? [measures[0]] : []);\n                    return dt.project([...dimensions, ...projectedFields], {\n                        saveChild: false\n                    });\n                }\n            }\n        };\n    }\n\n    static formalName () {\n        return TOOLTIP;\n    }\n\n    config (...params) {\n        if (params.length) {\n            const config = this._config = mergeRecursive(this._config, sanitizeConfig(params[0], this));\n            const strategyObj = this._strategies;\n            for (const key in strategyObj) {\n                const formatter = config[key].formatter;\n                this.setStrategy(key, formatter);\n            }\n            return this;\n        }\n        return this._config;\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        let totalHeight = 0;\n        let totalWidth = 0;\n        const dataModel = selectionSet.mergedEnter.model;\n        const context = this.firebolt.context;\n        const drawingInf = this.drawingContext();\n        if ((dataModel.isEmpty() || payload.criteria === null)) {\n            this.hide(options, null);\n            return this;\n        }\n\n        const tooltips = this._tooltips;\n        const config = this.config();\n        const boundBox = {\n            width: drawingInf.width,\n            height: drawingInf.height\n        };\n        const showInPosition = payload.showInPosition;\n        const pad = config.padding;\n        const dataModels = [];\n        const fragmented = config.mode === FRAGMENTED;\n        const sourceInf = context.getSourceInfo();\n        const fields = sourceInf.fields;\n        const xFieldDim = fields.x[0] ? fields.x[0].type() === FieldType.DIMENSION : false;\n        const showVertically = !!xFieldDim;\n        const tooltipPos = payload.position;\n        const boxes = [];\n        const enter = {};\n        const uids = dataModel.getData().uids;\n        if (fragmented) {\n            dataModels.push(...uids.map(d => dataModel.select((fieldsArr, i) => i === d, {\n                saveChild: false\n            })));\n        } else {\n            dataModels.push(dataModel);\n        }\n\n        let target = payload.target;\n        let targetFields = [];\n        if (target) {\n            targetFields = target[0] || [];\n            const sourceFields = payload.sourceFields;\n            const indices = [];\n            for (let i = 0, len = targetFields.length; i < len; i++) {\n                if (sourceFields.indexOf(targetFields[i]) !== -1) {\n                    indices.push(i);\n                }\n            }\n            target = target.map(d => d.filter((v, i) => indices.indexOf(i) !== -1));\n        }\n\n        const plotDimensions = context.getPlotPointsFromIdentifiers(target || payload.criteria, {\n            getBBox: true\n        });\n\n        const strategy = defaultValue(options.strategy, this._strategy);\n        const strategyConf = config[strategy];\n        const { dataTransform, fields: projectFields } = strategyConf;\n        const strategyObj = this._strategies;\n        // Show tooltip for each datamodel\n        for (let i = 0; i < dataModels.length; i++) {\n            let plotDim = plotDimensions[i];\n            if (fragmented) {\n                const dimensions = dataModels[i].getData().schema.filter(d => d.type === FieldType.DIMENSION)\n                    .map(d => d.name);\n                plotDim = context.getPlotPointsFromIdentifiers(dataModels[i].project(dimensions), { getBBox: true });\n                plotDim = plotDim && plotDim[0];\n            }\n\n            const dt = dataTransform(dataModels[i], projectFields, this);\n\n            enter[i] = true;\n            const { parentContainer: layoutContainer, parentContainerDimensions } = drawingInf;\n            const layoutBoundBox = layoutContainer.getBoundingClientRect();\n            const unitBoundBox = drawingInf.htmlContainer.getBoundingClientRect();\n\n            const offsetLeft = unitBoundBox.left - layoutBoundBox.left;\n            const offsetTop = unitBoundBox.top - layoutBoundBox.top;\n            const tooltipInst = tooltips[i] = tooltips[i] || new TooltipRenderer(layoutContainer,\n                    drawingInf.svgContainer);\n\n            sourceInf.payload = payload;\n            sourceInf.firebolt = this.firebolt;\n            sourceInf.detailFields = context.detailFields();\n            sourceInf.timeDiffs = context.timeDiffsByField();\n            sourceInf.valueParser = context.valueParser();\n            sourceInf.selectionSet = selectionSet;\n            tooltipInst.context(sourceInf);\n            const strategyFn = strategyObj[strategy];\n            tooltipInst.content(strategy, dt, {\n                formatter: strategyFn,\n                order: options.order\n            })\n                            .config(this.config())\n                            .extent({\n                                x: 0,\n                                y: 0,\n                                width: parentContainerDimensions.width,\n                                height: parentContainerDimensions.height\n                            })\n                            .offset({\n                                x: offsetLeft + (config.offset.x || 0),\n                                y: offsetTop + (config.offset.y || 0)\n                            });\n\n            if (showInPosition) {\n                tooltipInst.position(tooltipPos.x + pad, tooltipPos.y + pad);\n            } else if (plotDim) {\n                tooltipInst.positionRelativeTo({\n                    x: plotDim.x,\n                    y: plotDim.y,\n                    width: plotDim.width || 0,\n                    height: plotDim.height || 0\n                }, {\n                    orientation: fragmented ?\n                        (showVertically ? 'horizontal' : 'vertical') : undefined\n                });\n            } else {\n                tooltipInst.hide();\n                break;\n            }\n\n            if (fragmented) {\n                const position = tooltipInst._position;\n                const tooltipBoundBox = tooltipInst._tooltipContainer.node().getBoundingClientRect();\n\n                totalHeight += tooltipBoundBox.height + pad;\n                totalWidth += tooltipBoundBox.width + pad;\n                if (showVertically ? totalHeight > drawingInf.height : totalWidth > drawingInf.width) {\n                    break;\n                }\n                boxes.push({\n                    x: position.x,\n                    y: position.y,\n                    width: tooltipBoundBox.width,\n                    height: tooltipBoundBox.height,\n                    tooltip: tooltipInst\n                });\n            }\n        }\n\n        for (const key in tooltips) {\n            if (!enter[key]) {\n                const tooltip = tooltips[key];\n                tooltip.content(payload.action, null);\n                if (!tooltip.getContents().length) {\n                    tooltip.remove();\n                    delete tooltips[key];\n                }\n            }\n        }\n        if (fragmented) {\n            spaceOutBoxes(boxes, boundBox, showVertically);\n            boxes.forEach(box => box.tooltip.position(box.x, box.y, {\n                repositionArrow: true\n            }));\n        }\n        return this;\n    }\n\n    hide (options) {\n        const tooltips = this._tooltips;\n        for (const key in tooltips) {\n            if ({}.hasOwnProperty.call(tooltips, key)) {\n                const strategy = options.strategy || this._strategy;\n                tooltips[key].content(strategy, null);\n                tooltips[key].hide();\n            }\n        }\n    }\n}\n","import {\n    FieldType,\n    GROUP_BY_FUNCTIONS,\n    formatTemporal,\n    DimensionSubtype,\n    MeasureSubtype,\n    DataModel,\n    defaultValue,\n    retrieveFieldDisplayName,\n    nestCollection,\n    getObjProp,\n    intersect\n} from 'muze-utils';\nimport { TABLE_FORMAT } from '@chartshq/muze-tooltip';\nimport { SELECTION_SUMMARY, HIGHLIGHT_SUMMARY } from '../../enums/tooltip-strategies';\n\nconst { SUM, COUNT } = GROUP_BY_FUNCTIONS;\nconst { InvalidAwareTypes } = DataModel;\nconst FIRST_VALUE_MARGIN = '10px';\nconst SINGLE_DATA_MARGIN = 10;\n\nconst formatters = (formatter, interval, valueParser) => ({\n    [DimensionSubtype.TEMPORAL]: value => (value instanceof InvalidAwareTypes ? valueParser(value) :\n        formatTemporal(Number(value), interval)),\n    [MeasureSubtype.CONTINUOUS]: value => (value instanceof InvalidAwareTypes ? valueParser(value) :\n        formatter(value.toFixed(2))),\n    [DimensionSubtype.CATEGORICAL]: value => valueParser(value)\n});\n\nconst getTabularData = (dataObj, fieldInf) => {\n    const rows = [];\n    const { data, schema } = dataObj;\n    rows.push(schema.map(d => fieldInf[d.name].displayName));\n\n    data.forEach((d) => {\n        const row = [];\n        schema.forEach((fieldObj, i) => {\n            const value = fieldInf[fieldObj.name].fn(d[i]);\n            row.push(value);\n        });\n        rows.push(row);\n    });\n    return rows;\n};\n\nconst getKeyValue = (params) => {\n    const { field, value, classPrefix, margin, isSelected, removeKey } = params;\n\n    if (!removeKey) {\n        const keyObj = {\n            value: field,\n            className: `${classPrefix}-tooltip-key`\n        };\n        const valueObj = {\n            value,\n            className: `${classPrefix}-tooltip-value`\n        };\n        if (margin !== undefined) {\n            keyObj.style = {\n                'margin-left': `${margin}px`\n            };\n            valueObj.style = {\n                'margin-left': `${margin}px`\n            };\n        }\n\n        return ({\n            className: isSelected ? `${classPrefix}-tooltip-row ${classPrefix}-tooltip-selected-row`\n                : `${classPrefix}-tooltip-row`,\n            data: [keyObj, valueObj]\n        }\n        );\n    }\n    return ({\n        data: [{\n            className: '',\n            value,\n            style: {\n                'margin-left': FIRST_VALUE_MARGIN\n            }\n        }],\n        className: `${classPrefix}-tooltip-first`\n    });\n};\n\nconst getEncodingValues = ({ field, axes, fn, val }) => {\n    const configField = axes.config().field;\n    const values = configField && configField !== field ? null : axes[fn](val);\n    return values;\n};\n\nconst generateRetinalFieldsValues = (valueArr, retinalFields, content, context) => {\n    const { fieldsConfig, dimensionMeasureMap, axes, config, fieldInf, dataLen, target } = context;\n    const { classPrefix, margin, separator } = config;\n    const colorAxis = axes.color[0];\n    const shapeAxis = axes.shape[0];\n    const sizeAxis = axes.size[0];\n    const REF_VALUES_INDEX = 1;\n    const REF_KEYS_INDEX = 0;\n\n    for (const retField in retinalFields) {\n        const retIndex = fieldsConfig[retField].index;\n        const retinalFieldValue = valueArr[retIndex];\n        const measuresArr = dimensionMeasureMap[retField];\n        const icon = {\n            type: 'icon',\n            color: getEncodingValues({\n                field: retField, axes: colorAxis, fn: 'getColor', val: retinalFieldValue\n            }),\n            shape: getEncodingValues({\n                field: retField, axes: shapeAxis, fn: 'getShape', val: retinalFieldValue\n            }),\n            size: getEncodingValues({\n                field: retField, axes: sizeAxis, fn: 'getSize', val: retinalFieldValue\n            })\n        };\n        const { displayName, fn } = fieldInf[retField];\n        const formattedRetinalValue = fn(retinalFieldValue);\n\n        if (dataLen === 1) {\n            content.push(getKeyValue({\n                field: displayName,\n                value: formattedRetinalValue,\n                classPrefix,\n                margin: SINGLE_DATA_MARGIN\n            }));\n        } else {\n            const hasMultipleMeasures = measuresArr.length > 1;\n            hasMultipleMeasures && (content.push({ data: [icon, formattedRetinalValue] }));\n            const selectedContext = target[REF_VALUES_INDEX][target[REF_KEYS_INDEX].indexOf(retField)];\n            const isSelected = selectedContext === retinalFieldValue;\n            measuresArr.forEach((measure) => {\n                const measureIndex = fieldsConfig[measure].index;\n                const { displayName: dName, fn: formatterFn } = fieldInf[measure];\n                const value = formatterFn(valueArr[measureIndex]);\n                const keyValue = getKeyValue({\n                    field: hasMultipleMeasures ? `${dName}${separator}` : formattedRetinalValue,\n                    value,\n                    classPrefix,\n                    margin: hasMultipleMeasures ? margin : undefined,\n                    isSelected\n                });\n                if (!hasMultipleMeasures) {\n                    keyValue.data = [icon, ...keyValue.data];\n                }\n                content.push(keyValue);\n            });\n        }\n    }\n};\n\nconst getFieldInf = (schema, dataModel, context) => {\n    const { valueParser, timeDiffs } = context;\n    const fieldsObj = dataModel.getFieldspace().fieldsObj();\n    const defFormatter = formatters(null, null, valueParser)[DimensionSubtype.CATEGORICAL];\n\n    return schema.reduce((inf, field) => {\n        const { subtype, name, type } = field;\n        const interval = subtype === DimensionSubtype.TEMPORAL ? timeDiffs[name] : 0;\n        const nf = type === FieldType.MEASURE ? fieldsObj[name].numberFormat() : val => val;\n        inf[name] = {\n            fn: defaultValue(formatters(nf, interval, valueParser)[subtype], defFormatter),\n            displayName: `${retrieveFieldDisplayName(dataModel, name)}`\n        };\n        return inf;\n    }, {});\n};\n\nexport const buildTooltipData = (dataModel, config = {}, context) => {\n    let nestedDataObj;\n    let fieldValues = [];\n    const { data, schema } = dataModel.getData();\n    const fieldspace = dataModel.getFieldspace();\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const { color, shape, size } = context.firebolt.context.retinalFields();\n    const detailFields = context.detailFields || [];\n    const dimensions = schema.filter(d => d.type === FieldType.DIMENSION);\n    const measures = schema.filter(d => d.type === FieldType.MEASURE);\n    const containsDetailField = !!intersect(schema, detailFields).length;\n    const dataLen = data.length;\n    const {\n        dimensionMeasureMap,\n        axes\n    } = context;\n    const fieldInf = getFieldInf(schema, dataModel, context);\n\n    let displayFormat;\n    if (dataLen > 1 && containsDetailField) {\n        fieldValues = getTabularData({\n            data,\n            schema,\n            fieldspace\n        }, fieldInf);\n        displayFormat = TABLE_FORMAT;\n    } else {\n        const retinalFields = [color.field, shape.field, size.field].reduce((acc, field) => {\n            field && fieldsConfig[field].def.type === FieldType.DIMENSION && (acc[field] = 1);\n            return acc;\n        }, {});\n        const filteredDimensions = dimensions.filter(field => !retinalFields[field.name]);\n        const indices = filteredDimensions.map(dim => fieldsConfig[dim.name].index);\n        const allMeasures = [...new Set(...Object.values(dimensionMeasureMap))];\n        const filteredMeasures = dataLen > 1 ? measures.filter(d => allMeasures.indexOf(d.name) === -1) : measures;\n\n        nestedDataObj = nestCollection({\n            data,\n            keys: indices\n        });\n        nestedDataObj = !getObjProp(nestedDataObj[0], 'key') ? [{\n            values: nestedDataObj\n        }] : nestedDataObj;\n\n        const generateTooltipContent = (nestedData, index = 0, content = []) => {\n            const { classPrefix, separator } = config;\n            for (let i = 0, len = nestedData.length; i < len; i++) {\n                const { values, key } = nestedData[i];\n                const field = getObjProp(schema, indices[index], 'name');\n                const margin = dataLen === 1 || Object.keys(retinalFields).length === 0\n                ? SINGLE_DATA_MARGIN : undefined;\n                if (field) {\n                    const { displayName, fn } = fieldInf[field];\n                    const formattedValue = fn(key);\n                    const removeKey = values.length > 1;\n                    content.push(getKeyValue({\n                        field: `${displayName}${separator}`,\n                        value: formattedValue,\n                        classPrefix,\n                        margin,\n                        isSelected: undefined,\n                        removeKey\n                    }));\n                }\n\n                if (values[0] && values[0].key) {\n                    generateTooltipContent(values, index + 1, content);\n                } else {\n                    for (let j = 0, len2 = values.length; j < len2; j++) {\n                        const valueArr = values[j];\n                        generateRetinalFieldsValues(valueArr, retinalFields, content, {\n                            fieldInf,\n                            axes,\n                            config,\n                            fieldsConfig,\n                            dimensionMeasureMap,\n                            dataLen,\n                            target: context.payload.target\n                        });\n\n                        filteredMeasures.forEach((measure) => {\n                            const { name } = measure;\n                            const { displayName, fn } = fieldInf[name];\n                            content.push(getKeyValue({\n                                field: `${displayName}${separator}`,\n                                value: fn(valueArr[fieldsConfig[name].index]),\n                                classPrefix,\n                                margin: SINGLE_DATA_MARGIN\n                            }));\n                        });\n                    }\n                }\n            }\n        };\n        generateTooltipContent(nestedDataObj, 0, fieldValues);\n    }\n\n    return {\n        content: fieldValues,\n        displayFormat\n    };\n};\n\nexport const strategies = {\n    [SELECTION_SUMMARY]: (dm, config, context) => {\n        const { selectionSet } = context;\n        const aggFns = selectionSet.mergedEnter.aggFns;\n        const dataObj = dm.getData();\n        const measures = dataObj.schema.filter(d => d.type === FieldType.MEASURE);\n        const aggregatedModel = dm.groupBy([''], measures.reduce((acc, v) => {\n            acc[v.name] = aggFns[v.name] === COUNT ? SUM : aggFns[v.name];\n            return acc;\n        }, {\n            saveChild: false\n        }));\n        const fieldsConf = aggregatedModel.getFieldsConfig();\n        let values = [[{\n            value: `${dataObj.data.length}`,\n            style: {\n                'font-weight': 'bold'\n            }\n        }, 'Items Selected']];\n        const measureNames = measures.map(d => d.name);\n        const data = aggregatedModel.getData().data;\n        measureNames.forEach((measure) => {\n            const value = data[0][fieldsConf[measure].index];\n            value instanceof InvalidAwareTypes ? values.push([]) : values.push([`(${aggFns[measure].toUpperCase()})`,\n                `${retrieveFieldDisplayName(dm, measure)}`,\n                {\n                    value: `${value.toFixed(2)}`,\n                    style: {\n                        'font-weight': 'bold'\n                    }\n                }]);\n        });\n        if (measureNames.length === 1) {\n            values = [[...values[0], ...values[1]]];\n        }\n        return ([{\n            data: values[0]\n        }]);\n    },\n    [HIGHLIGHT_SUMMARY]: (data, config, context) => buildTooltipData(data, config, context)\n};\n","// extracted by mini-css-extract-plugin","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const CONFIG = 'config';\nexport const DATAMODEL = 'dataModel';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const MAXWIDTH = 'max-width';\nexport const HEIGHT = 'height';\nexport const MOUNTPOINT = 'mountPoint';\nexport const GRIDLINEPARENTGROUPCLASS = 'grid-lines';\nexport const TRANSFORM = 'transform';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const DEFAULTCOLOR = '#F44336';\nexport const DEFAULTSIZE = 50;\nexport const MARGINBUFFER = 10;\nexport const DEFAULTICONSIZE = { // approximately the (size needed) * Math.PI value\n    circle: 64,\n    square: 45.8\n};\nexport const DEFAULTSHAPE = 'circle';\nexport const STEP = 'step';\nexport const GRADIENT = 'gradient';\nexport const ORDINAL = 'ordinal';\nexport const SCALE_FUNCTIONS = {\n    size: 'getSize',\n    shape: 'getShape',\n    color: 'getColor'\n};\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const HORIZONTAL = 'horizontal';\nexport const VERTICAL = 'vertical';\nexport const CENTER = 'center';\nexport const VALUE = 'value';\nexport const PATH = 'path';\nexport const SHAPE = 'shape';\nexport const ICON = 'icon';\nexport const RECT = 'rect';\nexport const START = 'start';\nexport const UPPER = 'upper';\nexport const LOWER = 'lower';\nexport const END = 'end';\nexport const SIZE = 'size';\nexport const DISCRETE = 'discrete';\nexport const MEASURE = 'measure';\n\n","export const SELECTIONBOX = 'selectionBox';\nexport const Highlighter = 'highlighter';\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nconst CLASSPREFIX = 'muze';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        target: `.${CLASSPREFIX}-gradient-rect`,\n        behaviours: [BEHAVIOURS.BRUSH]\n    },\n    [ACTIONS.HOVER]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.CLICK]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.SELECT]\n    }\n};\n\nexport const propagationBehaviourMap = {\n    [BEHAVIOURS.SELECT]: BEHAVIOURS.FILTER,\n    [BEHAVIOURS.BRUSH]: BEHAVIOURS.HIGHLIGHT\n};\n","import * as BEHAVIOURS from '../enums/behaviours';\nimport * as sideEffects from '../enums/side-effects';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: [sideEffects.SELECTIONBOX, {\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [sideEffects.Highlighter],\n    select: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }]\n};\n\nexport const propagationSideEffects = {\n    [BEHAVIOURS.BRUSH]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.SELECT]: ['filter']\n};\n\n","export { default as SelectBehaviour } from './select';\n","import { PersistentBehaviour, SELECTION } from '@chartshq/muze-firebolt';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return 'select';\n    }\n\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            // new add set\n            const existingRemoveSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_OLD_EXIT\n                || selectionSet._set[d] === SELECTION.SELECTION_NEW_EXIT);\n                // existing add set\n            if (existingRemoveSet.length) {\n                selectionSet.updateEntry();\n                selectionSet.add(existingRemoveSet);\n            } else {\n                selectionSet.updateExit();\n                selectionSet.remove(addSet);\n            }\n            const { exitSet } = selectionSet.getSets();\n            const mergedExitSet = [...new Set(exitSet[1]), ...new Set(exitSet[0])];\n            const completeSetCount = selectionSet.getCompleteSet().length;\n            if (exitSet[1].length !== completeSetCount && mergedExitSet.length === completeSetCount) {\n                selectionSet.reset();\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n        return this;\n    }\n}\n","import { FieldType } from 'muze-utils';\nimport { propagationBehaviourMap } from './action-behaviour-map';\nimport { propagationSideEffects } from './behaviour-effect-map';\n\nexport const propagate = (firebolt, action, identifiers) => {\n    const context = firebolt.context;\n    const data = context.metaData();\n\n    const propPayload = {};\n    const sourceId = context._id;\n    propPayload.action = propagationBehaviourMap[action] || action;\n    propPayload.sideEffects = propagationSideEffects[action];\n    propPayload.sourceCanvas = context.canvasAlias();\n    const isMutableAction = firebolt._actions.behavioural[propPayload.action].constructor.mutates();\n\n    let propagateInterpolatedValues = false;\n\n    if (identifiers) {\n        const schema = identifiers.fields;\n        propagateInterpolatedValues = schema.every(d => d.type === FieldType.MEASURE);\n    }\n\n    const propConfig = {\n        sourceId: `legend-${sourceId}`,\n        payload: propPayload,\n        criteria: propPayload.criteria === null ? null : identifiers,\n        isMutableAction,\n        propagateInterpolatedValues,\n        action: propPayload.action\n    };\n\n    data.propagate(identifiers, propConfig, true);\n};\n","import { Firebolt } from '@chartshq/muze-firebolt';\nimport { propagate } from './helper';\nimport { STEP, GRADIENT } from '../enums/constants';\n\n/**\n * This class manages the interactions of legend.\n * @export\n * @class LegendFireBolt\n * @extends {Firebolt}\n */\nexport class LegendFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        this.initializeSideEffects();\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet[0];\n    }\n\n    propagate (behaviourName, payload, selectionSet) {\n        propagate(this, behaviourName, selectionSet, {\n            payload\n        });\n    }\n\n    getAddSetFromCriteria (criteria) {\n        let values;\n        let uniqueIds;\n        const type = this.context.constructor.type();\n\n        if (criteria === null) {\n            uniqueIds = null;\n        } else if (type === STEP) {\n            values = Object.values(criteria);\n            uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n        } else if (type === GRADIENT) {\n            uniqueIds = [];\n        } else {\n            values = criteria[1];\n            if (values) {\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.rawVal) !== -1).map(d => d.id);\n            } else {\n                values = Object.values(criteria);\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n            }\n        }\n        return {\n            uids: uniqueIds,\n            model: null\n        };\n    }\n\n    getFullData () {\n        return null;\n    }\n\n    data () {\n        return this.context.metaData();\n    }\n}\n","/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nconst click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\n\nexport default click;\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\n/**\n * Adds dragging action to the target element.\n * @param {firebolt} firebolt firebolt\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let endPos = {};\n    let payload;\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const boundingBox = context.measurement().gradientDimensions;\n    const axisType = context.config().align === 'horizontal' ? 'x' : 'y';\n    const axisScale = context.axis().source().scale();\n    const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n    }).on('drag', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                    axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n            }\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }).on('end', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n        if (startPos[axisType] === endPos[axisType]) {\n            payload = {\n                criteria: {}\n            };\n        } else {\n            payload = {\n                criteria: {\n                    [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                        axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n                }\n            };\n        }\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }));\n};\n\nexport default drag;\n","import { getEvent } from 'muze-utils';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} Firebolt instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        const event = getEvent();\n                        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, {\n                            criteria: null\n                        }));\n                        event.stopPropagation();\n                    });\n};\n\nexport default hover;\n","import drag from './drag';\nimport hover from './hover';\nimport click from './click';\nimport * as ACTIONNAMES from '../../enums/actions';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click\n};\n\n","import {\n    getMousePos,\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\nimport { HEIGHT, WIDTH, HORIZONTAL } from '../../enums/constants';\n\nconst getSelectionCriteria = (subject, axis, measures) => {\n    let criteria = [];\n    const {\n        axisScale,\n        axisType\n    } = axis;\n    const {\n        startPos,\n        endPos,\n        selectionBoxMeasure,\n        drawingInfMeasure,\n        offset\n    } = measures;\n    const subjectStartPoint = subject[axisType];\n\n    if (startPos[axisType] === endPos[axisType]) {\n        criteria = [];\n    } else if (subjectStartPoint + selectionBoxMeasure >= drawingInfMeasure + offset) {\n        criteria = [axisScale.invert(drawingInfMeasure + offset - selectionBoxMeasure),\n            axisScale.invert(drawingInfMeasure + offset)];\n    } else if (subjectStartPoint - offset < offset) {\n        criteria = [axisScale.invert(offset * 2), axisScale.invert(selectionBoxMeasure + offset * 2)];\n    } else {\n        criteria = [axisScale.invert(subjectStartPoint), axisScale.invert(subjectStartPoint + selectionBoxMeasure)];\n    }\n    axisType === 'x' ? criteria : criteria.reverse();\n    return criteria;\n};\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let payload;\n    const endPos = {};\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const axisScale = context.axis().source().scale();\n    const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n    const drawingInfMeasure = context.measurement().gradientDimensions[axisType === 'x' ?\n        WIDTH : HEIGHT];\n    const offset = axisScale.range()[axisType === 'x' ? 0 : 1];\n    const measures = {\n        drawingInfMeasure,\n        offset\n    };\n    let subject = {};\n\n    targetEl.call(d3Drag().on('start', function () {\n        const event = getEvent();\n        startPos = getMousePos(this, event.sourceEvent);\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n\n        subject.x += event.dx;\n        subject.y += event.dy;\n\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(subject, { axisScale, axisType }, measures);\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }).on('end', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(event, { axisScale, axisType }, measures);\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true,\n            config: {\n                transition: {\n                    duration: 200\n                }\n            }\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }));\n};\n\n","import SelectionBox from './selection-box';\nimport LegendHighlighter from './legend-highlighter';\n\nexport {\n    SelectionBox,\n    LegendHighlighter\n};\n\n","import { GenericSideEffect } from '@chartshq/muze-firebolt';\nimport { strategies } from './strategies';\nimport { Highlighter } from '../../../enums/side-effects';\n\nexport default class LegendHighlighter extends GenericSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategies = strategies(this.firebolt);\n        this._strategy = 'brighten';\n    }\n\n    static formalName () {\n        return Highlighter;\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        strategy(selectionSet, this);\n    }\n}\n","import { selectElement } from 'muze-utils';\n\nexport const strategies = (firebolt) => {\n    const context = firebolt.context;\n    const classed = (set, className, change) => {\n        const classPrefix = context.config().classPrefix;\n        selectElement(context.mount())\n                        .selectAll(`.${classPrefix}-legend-columns`)\n                        .filter(d => set.uids.indexOf(d.id) !== -1)\n                        .selectAll('div')\n                        .classed(className, change);\n    };\n\n    return {\n        fade: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-fadeout`, false);\n            } else {\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-fadeout`, true);\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-fadeout`, false);\n            }\n        },\n        brighten: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-brighten`, false);\n            } else {\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-brighten`, true);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n            }\n        }\n    };\n};\n","import { makeElement } from 'muze-utils';\nimport { SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { CLASSPREFIX, HEIGHT, WIDTH, HORIZONTAL, RECT } from '../../../enums/constants';\nimport { SELECTIONBOX } from '../../../enums/side-effects';\nimport { selectionBoxDrag } from '../../physical/selection-box-drag';\nimport './styles.scss';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\n/* istanbul ignore next */ class SelectionBox extends SpawnableSideEffect {\n    static formalName () {\n        return SELECTIONBOX;\n    }\n\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            className: 'legend-selection-box',\n            classPrefix: CLASSPREFIX\n        };\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     */\n    /* istanbul ignore next */ apply (selectionSet, payload) {\n        let x;\n        let y;\n        let width;\n        let height;\n        const firebolt = this.firebolt;\n        const context = firebolt.context;\n        const config = this.config();\n        const axis = context.axis().source();\n        const className = `${config.classPrefix}-${config.className}`;\n\n        const domain = payload.criteria[firebolt.context.fieldName()];\n        const axisScale = axis.scale();\n        const range = domain ? [axis.getScaleValue(domain[0]), axis.getScaleValue(domain[1])] : [];\n\n        const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n\n        const gradientDimension = firebolt.context.measurement().gradientDimensions[axisType === 'x' ?\n            HEIGHT : WIDTH];\n\n        const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n        const legendGradContainer = context.getDrawingContext().svgContainer;\n        const legendSelGroup = makeElement(legendGradContainer, 'g', [1], `${config.classPrefix}-selection-box-group`);\n\n        if (firebolt.context.config().align === HORIZONTAL) {\n            x = range[0] - rangeShifter || 0;\n            y = 0;\n            width = range[1] - range[0] || 0;\n            height = gradientDimension;\n        } else {\n            x = 0;\n            y = range[1] - rangeShifter || 0;\n            height = range[0] - range[1] || 0;\n            width = gradientDimension;\n        }\n        const enterFn = function (el) {\n            selectionBoxDrag(firebolt)(el, ['brush']);\n        };\n        const selBox = makeElement(legendSelGroup, RECT, [{ domain, x, y, width, height }], className,\n            { enter: enterFn });\n        selBox.attr('y', y)\n                        .attr('x', x)\n                        .attr(WIDTH, width)\n                        .attr(HEIGHT, height);\n    }\n}\n\nexport default SelectionBox;\n\n","// extracted by mini-css-extract-plugin","import './styles.scss';\n\nexport { DiscreteLegend, GradientLegend, SimpleLegend, StepLegend } from './legend';\n","import { getSymbol, mergeRecursive } from 'muze-utils';\nimport {\n    CENTER,\n    LEFT,\n    RIGHT\n} from '../enums/constants';\n\nexport const ALIGN = {\n    HORIZONTAL: 'horizontal',\n    VERTICAL: 'vertical'\n};\n\nexport const DEFAULT_MEASUREMENT = {\n    height: 30,\n    width: 30,\n    maxWidth: Infinity,\n    maxHeight: Infinity,\n    padding: 2,\n    margin: 2,\n    border: 1\n};\n\nexport const LEGEND_TITLE = {\n    text: '',\n    orientation: (pos) => {\n        if (pos === LEFT || pos === RIGHT) {\n            return LEFT;\n        } return CENTER;\n    }\n};\n\nexport const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n    borderStyle: 'solid',\n    borderColor: 'rgba(0,0,0,0)',\n    formatter: {\n        bounds: {\n            lower: 'less than',\n            upper: 'more than'\n        }\n    },\n    item: {\n        text: {\n            orientation: 'right',\n            width: 10,\n            formatter: (val, i, data, context) => context.valueParser()(val)\n        },\n        icon: {\n            className: 'legend-icon',\n            height: 20,\n            width: 20,\n            color: 'rgba(192,192,192,0.6)',\n            type: 'square'\n        }\n    }\n};\n\nconst tempConfig = mergeRecursive({}, DEFAULT_CONFIG);\n\nconst ITEM_FORMATTER = {\n    item: {\n        text: {\n            formatter: val => `${val[0]}-${val[1]}`\n        }\n    }\n};\n\nexport const STEP_DEFAULT_CONFIG = mergeRecursive(tempConfig, ITEM_FORMATTER);\n\n/**\n * Creates a map of pre defined icons\n *\n * @param {string} icon Accepts a icon name like 'square', 'cross', 'diamond' etc\n * @return {Object} icon object which can be used to draw the icons\n */\nexport const ICON_MAP = (icon) => {\n    if (icon && typeof (icon) === 'string') {\n        return getSymbol(icon);\n    } return icon;\n};\n","import {\n    FieldType,\n    DimensionSubtype,\n    formatTemporal\n} from 'muze-utils';\nimport SimpleLegend from './simple-legend';\nimport { DISCRETE, LEFT, SIZE } from '../enums/constants';\nimport { getScaleInfo } from './legend-helper';\nimport { createLegendSkeleton, createItemSkeleton, renderDiscreteItem } from './renderer';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class DiscreteLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new DiscreteLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof DiscreteLegend\n     */\n    static type () {\n        return DISCRETE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof DiscreteLegend\n     */\n    dataFromScale () {\n        const scale = this.scale();\n        const { scaleType, domain, scaleFn } = getScaleInfo(scale);\n        let domainForLegend = [...new Set(domain)];\n        const field = this.metaData().getFieldspace().fields[0];\n        const { type, subtype } = field.schema();\n\n        domainForLegend = domainForLegend.map((ele, i) => {\n            let value = 0;\n            let range = 0;\n            const rawVal = domainForLegend[i];\n            if (type === FieldType.MEASURE) {\n                value = (+domainForLegend[i]).toFixed(0);\n                const nextVal = domainForLegend[i + 1] ? +domainForLegend[i + 1] : +value;\n                range = [value, nextVal.toFixed(0)];\n            } else {\n                let domainVal = rawVal;\n                if (subtype === DimensionSubtype.TEMPORAL) {\n                    domainVal = formatTemporal(domainForLegend[i], field.minimumConsecutiveDifference());\n                }\n                value = domainVal;\n                range = [domainVal];\n            }\n            return {\n                [scaleType]: scale[scaleFn](ele),\n                value,\n                id: i,\n                range,\n                rawVal\n            };\n        }).filter(d => d.value !== null);\n\n        domainForLegend = scaleType === SIZE ? domainForLegend.sort((a, b) => a[scaleType] - b[scaleType])\n            : domainForLegend;\n        return domainForLegend;\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const data = this.data();\n        const { classPrefix } = this.config();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n        renderDiscreteItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n}\n","import { makeElement, applyStyle } from 'muze-utils';\nimport { ContinousAxis } from '@chartshq/muze-axis';\nimport { BOTTOM, RIGHT } from '../enums/constants';\nimport { ALIGN } from './defaults';\nimport '../styles.scss';\n\n/**\n *\n *\n * @param {*} data\n *\n */\nexport const getGradientDomain = (data) => {\n    if (typeof data[0].value === 'number') {\n        return data.reduce((accumulator, currentValue) =>\n            [Math.min(currentValue.value, accumulator[0]), Math.max(currentValue.value, accumulator[1])],\n                [Number.MAX_VALUE, Number.MIN_VALUE]);\n    }\n    return data.map(e => e.value);\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} domain\n *\n */\nexport const makeLinearGradient = (container, data, domain) => {\n    const defs = makeElement(container, 'defs', [1]);\n    const linearGradient = makeElement(defs, 'linearGradient', [1])\n                .attr('id', 'linear-gradient')\n                .attr('x1', '0%')\n                .attr('y2', '0%');\n\n    makeElement(linearGradient, 'stop', data, 'stop-gradient')\n                    .attr('offset', d => `${(d.value - domain[0]) * 100 / (domain[1] - domain[0]) || 1}%`)\n                    .attr('stop-color', d => d.color);\n    return linearGradient;\n};\n\n/**\n * Creates an axis cell with a linear axis for computing space and\n * creating gradient legend\n *\n * @return {AxisCell} Instance of Axis Cell for the gradient axis\n * @memberof Legend\n */\nexport const createAxis = (context) => {\n    const data = context.data();\n    const { align } = context.config();\n    const AxisCell = context._cells.AxisCell;\n    const newAxis = new ContinousAxis({\n        id: `legend-${context._id}`,\n        orientation: align === ALIGN.VERTICAL ? RIGHT : BOTTOM,\n        style: context._computedStyle,\n        nice: false,\n        showAxisName: false,\n        tickValues: data.map(d => d.value),\n        fixedBaseline: false,\n        labels: {\n            rotation: null\n        }\n    }, { labelManager: context._labelManager });\n\n    newAxis.domain(getGradientDomain(data));\n    newAxis.range([1, 1]);\n    return new AxisCell().source(newAxis).config({\n        margin: { left: 0, bottom: 0, top: 0, right: 0 }\n    });\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} classPrefix\n *\n * @memberof GradientLegend\n */\nconst createLegendSkeleton = (container, classPrefix, data) => {\n    const domain = getGradientDomain(data);\n    const legendContainer = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    const legendGradSvg = makeElement(legendContainer, 'svg', [1], `${classPrefix}-gradient`);\n    const legendGradCont = makeElement(legendGradSvg, 'g', [1], `${classPrefix}-gradient-group`);\n    const linearGradient = makeLinearGradient(legendGradSvg, data, domain);\n    const legendRect = makeElement(legendGradCont, 'rect', [1], `${classPrefix}-gradient-rect`);\n\n    return {\n        legendContainer,\n        legendGradCont,\n        legendGradSvg,\n        linearGradient,\n        legendRect\n    };\n};\n\n/**\n * Renders the axis for the gradient\n *\n * @param {Selection} container Point where axis is to be mounted\n * @param {number} height Height for axis\n * @param {number} width Width for axis\n * @memberof Legend\n */\nexport const renderAxis = (context, container, height, width) => {\n    const axis = context.axis();\n\n    axis.source().config({\n        tickFormat: (val, i, data) => context.config().item.text.formatter(val, i, data, context)\n    });\n    axis.setAvailableSpace(width, height);\n    axis.render(container.node());\n    axis.source().render();\n};\n\n/**\n * Renders gradient legends\n *\n * @param {Selection} container Point where the legend is to be appended\n * @memberof GradientLegend\n */\nexport const renderGradient = (context, container) => {\n    let gradHeight = 0;\n    let gradWidth = 0;\n    const {\n        align,\n        classPrefix,\n        item\n    } = context.config();\n    const data = context.data();\n    // Create the skeleton for the legend\n    const {\n        legendContainer,\n        legendGradSvg,\n        legendGradCont,\n        linearGradient,\n        legendRect\n    } = createLegendSkeleton(container, classPrefix, data);\n    const labelDim = context.axis().source().getAxisDimensions().tickDimensions;\n    const {\n        padding,\n        margin,\n        border,\n        titleSpaces,\n        maxItemSpaces,\n        maxHeight,\n        maxWidth,\n        height,\n        width\n    } = context.measurement();\n    const gradientDimensions = {};\n\n    gradHeight = Math.floor(Math.min(height, maxHeight) - (titleSpaces.height + 2 * margin + 2 * border));\n    gradWidth = Math.floor(Math.min(width, maxWidth) - (margin * 2 + border * 2));\n\n    if (align === ALIGN.HORIZONTAL) {\n        gradientDimensions.height = item.icon.height;\n        gradientDimensions.width = gradWidth - 2 * padding - labelDim.width / 2;\n        linearGradient.attr('x2', '100%').attr('y1', '0%');\n        legendGradCont.attr('transform', `translate( ${labelDim.width / 2} 0)`);\n        renderAxis(context, legendContainer, gradHeight - item.icon.height - padding, gradWidth - 2 * padding - 1);\n\n        applyStyle(legendContainer, {\n            height: `${maxItemSpaces.height + border + padding}px`,\n            width: `${Math.min(width, maxWidth)}px`,\n            padding: `${padding}px`\n        });\n\n        legendRect.attr('height', gradientDimensions.height);\n        legendRect.attr('width', gradientDimensions.width - labelDim.width / 2);\n    } else {\n        gradientDimensions.height = gradHeight - 2 * padding - labelDim.height / 2;\n        gradientDimensions.width = item.icon.width;\n        linearGradient.attr('x2', '0%').attr('y1', '100%');\n        legendGradCont.attr('transform', `translate(0 ${labelDim.height / 2})`);\n        renderAxis(context, legendContainer, gradHeight - 2 * padding - 1, gradWidth - item.icon.width - padding * 2);\n\n        applyStyle(legendContainer, {\n            height: `${Math.min(height, maxHeight)}px`,\n            width: `${maxWidth}px`,\n            padding: `${padding}px`\n        });\n        legendRect.attr('height', gradientDimensions.height - labelDim.height / 2);\n        legendRect.attr('width', gradientDimensions.width);\n    }\n\n    // Apply Styles to the legend plot area\n    applyStyle(legendGradSvg, {\n        height: `${gradientDimensions.height}px`,\n        width: `${gradientDimensions.width}px`\n    });\n\n        // Apply styles to the legend rect\n    applyStyle(legendRect, {\n        fill: 'url(#linear-gradient)'\n    });\n    legendGradSvg.attr('height', gradientDimensions.height);\n    legendGradSvg.attr('width', gradientDimensions.width);\n\n    context.measurement({\n        gradientDimensions\n    });\n    context._legendGradientSvg = legendGradSvg;\n    return context;\n};\n","import SimpleLegend from './simple-legend';\nimport { getScaleInfo, getInterpolatedData, getInterpolatedArrayData } from './legend-helper';\nimport { GRADIENT, LEFT, SIZE } from '../enums/constants';\nimport { renderGradient, createAxis } from './gradient-helper';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class GradientLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new GradientLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof GradientLegend\n     */\n    static type () {\n        return GRADIENT;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axis\n     *\n     * @memberof GradientLegend\n     */\n    axis (...axis) {\n        if (axis.length) {\n            this._axis = axis[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof GradientLegend\n     */\n    dataFromScale () {\n        let domainForLegend = [];\n        const scale = this.scale();\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        // defining scaleParams\n        const scaleParams = {\n            smartLabel: this.labelManager(),\n            measures: this.measurement(),\n            alignment: this.config().position,\n            minTickDistance: this.minTickDistance()\n        };\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainForLegend[0] = domain[0];\n            }\n            domainForLegend = [...domainForLegend, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainForLegend.push(domain[1]);\n            }\n            // Sorting the domain Array\n            domainForLegend = [...new Set(domainForLegend)].sort((a, b) => a - b);\n\n            domainForLegend = getInterpolatedArrayData(domainForLegend, scaleParams);\n        } else {\n            domainForLegend = getInterpolatedData(domain, steps - 1, scaleParams);\n        }\n        domainForLegend = [...new Set(domainForLegend)].sort((a, b) => a - b);\n\n        return domainForLegend.map((ele, i) => {\n            const value = domainForLegend[i];\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor()\n                    : scale[scaleFn](Math.floor(ele)),\n                value: +value.toFixed(2),\n                id: i\n            };\n        }).filter(d => d.value !== null);\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        const axis = createAxis(this);\n        const axisSpace = axis.getLogicalSpace();\n        const space = { width: axisSpace.width - effPadding, height: axisSpace.height - effPadding };\n        const axisDomainLength = axis.source().domain().length;\n        const labelSpaces = new Array(axisDomainLength).fill(space);\n\n        this.axis(axis);\n        return labelSpaces;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof GradientLegend\n     */\n    getDrawingContext () {\n        return {\n            svgContainer: this._legendGradientSvg\n        };\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        renderGradient(this, legendContainer);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof SimpleLegend\n     */\n    getCriteriaFromData (data) {\n        return [[this.fieldName()], [data.value]];\n    }\n\n    getRangeFromIdentifiers ({ fields, criteria }) {\n        return fields.reduce((range, v) => {\n            range[v] = criteria[v];\n            return range;\n        }, {});\n    }\n}\n","import DiscreteLegend from './discrete-legend';\nimport GradientLegend from './gradient-legend';\nimport SimpleLegend from './simple-legend';\nimport StepLegend from './step-legend';\n\nexport {\n    DiscreteLegend,\n    GradientLegend,\n    SimpleLegend,\n    StepLegend\n};\n","import { makeElement, numberInterpolator } from 'muze-utils';\n\nimport {\n    SCALE_FUNCTIONS,\n    WIDTH,\n    HEIGHT,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM,\n    MAXWIDTH\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} scale\n *\n */\nexport const getScaleInfo = (scale) => {\n    const scaleType = scale.constructor.type();\n    const domain = scale.uniqueValues();\n    const steps = scale.config().stops || 1;\n    const scaleFn = SCALE_FUNCTIONS[scaleType];\n\n    return { scaleType, domain, steps, scaleFn };\n};\n\n/**\n * Function to recompute the stops in array in case to left and right alignment of legend.\n *\n * @param  {string} param - parameter to measure\n * @param  {Object} requiredMeasure - required measure parameters\n * @param  {Object} availableMeasure - available meassure parameters\n * @param  {Array} domainForLegend - array\n * @param  {Object} smartLabelCalc - smartLabel Manager\n * @return {Array} - Array\n */\nconst getcomputedArray = (computationhelper, requiredMeasure, availableMeasure, domainForLegend) => {\n    // declaring Current and Next Tick Value variable\n    let currentTickValue;\n    let nextTickValue;\n    const upperBound = domainForLegend[domainForLegend.length - 1];\n    const param = computationhelper.measureParam;\n    const smartLabelCalc = computationhelper.smartLabelCalc;\n\n    // calculating pixel required per Tick Values\n    const pixelPerTick = (availableMeasure[param] / upperBound);\n\n    // checking if available max width is smaller than required width for legend.\n    if (availableMeasure[param] >= requiredMeasure[param]) {\n        return domainForLegend;\n    }\n\n    currentTickValue = (smartLabelCalc.getOriSize((domainForLegend[0]))[param]);\n    for (let i = 1; i < domainForLegend.length - 1; i++) {\n        nextTickValue = Math.floor((currentTickValue / pixelPerTick) + domainForLegend[i - 1]);\n        if (domainForLegend[i] < nextTickValue) {\n            domainForLegend.splice(i, 1);\n            i -= 1;\n        }\n        currentTickValue = (smartLabelCalc.getOriSize((domainForLegend[i]))[param]);\n    }\n    return domainForLegend;\n};\n\n/**\n * function to recompute the Stops Array provided to prevent the Overlapping of values\n * @param  {Array} domainForLegend - Stops Array\n * @param  {Object} scaleParams - Scale Parameters\n * @return {Array} - modified Stops Array\n */\nexport const getInterpolatedArrayData = (domainForLegend, scaleParams) => {\n    // defining param for height/width selector\n    let measureParam;\n\n    // declaring variable for required Width\n    let requiredWidth;\n\n    // declaring variable for required height\n    let requiredHeight;\n\n    // declaring the variable for upperbound\n    let upperBound = domainForLegend[domainForLegend.length - 1];\n\n    // Initializing Minimum Tick Difference Variable and checking if it's less than 1 or not\n    let minTickDiff = Math.ceil(domainForLegend[1] - domainForLegend[0]);\n\n    // calculating max tick difference\n    const maxTickDiff = Math.ceil(upperBound - domainForLegend[0]);\n\n    // gradient Alignment\n    const { alignment } = scaleParams;\n\n    // getting SmartLabel Manager to calculate tick Params\n    const smartLabelCalc = scaleParams.smartLabel;\n\n    // scale Measurements (i.e MaxWidth and MaxHeight available)\n    const availableSpace = scaleParams.measures;\n\n    // getting minimum Tick size (i.e height and width)\n    const minimumTickSize = scaleParams.minTickDistance;\n\n    // getting domain upperbound dimensions\n    const { height: tickDimHeight, width: tickDimWidth } = smartLabelCalc.getOriSize((upperBound));\n\n    /* Checking if UpperBound of Domain is Floating or Not.\n    In case of floating constricting it to 2 decimals after point. */\n    if (!Number.isInteger(upperBound)) {\n        upperBound = ((upperBound).toFixed(2));\n    }\n\n    // Calculating minimum tick difference\n    minTickDiff = minTickDiff < 1 ? 1 : minTickDiff;\n\n    // required width to render legend\n    requiredWidth = (Math.abs(maxTickDiff) / Math.abs(minTickDiff)) * (tickDimWidth + (minimumTickSize.width));\n\n    requiredWidth -= Math.abs(maxTickDiff);\n\n    // require height to render legend\n    requiredHeight = (Math.abs(maxTickDiff) / Math.abs(minTickDiff)) * tickDimHeight;\n\n    requiredHeight -= Math.abs(maxTickDiff);\n\n    // checking the alignment of legend\n    if (alignment === TOP || alignment === BOTTOM) {\n        measureParam = WIDTH;\n    } else {\n        measureParam = HEIGHT;\n    }\n\n    // calculating computed array\n    domainForLegend = getcomputedArray({\n        smartLabelCalc,\n        measureParam\n    }, {\n        height: requiredHeight,\n        width: requiredWidth\n    }, {\n        height: availableSpace.maxHeight,\n        width: availableSpace.maxWidth\n    }, domainForLegend);\n\n    return domainForLegend;\n};\n\n/**\n * function to recalculate steps on providing more number of stops than canvas can accomodate.\n * @param  {Array} domain - Array\n * @param  {Array} steps - Array\n * @param  {Object} scaleParams - Scale Parameters\n * @return {Array} - recalculated Step Array\n */\nexport const getInterpolatedData = (domain, steps, scaleParams) => {\n    // declaring recomputeSteps Variable\n    let recomputeSteps = 0;\n\n    const getTickMeasure = scaleParams.smartLabel;\n    const { maxWidth, maxHeight } = scaleParams.measures;\n    const { alignment } = scaleParams;\n    const domainForLegend = [];\n    const interpolatedFn = numberInterpolator()(domain[0], domain[1]);\n\n    // getting tick measure(i.e height and width)\n    const tickValue = getTickMeasure.getOriSize(domain[1].toFixed(2));\n\n    // To round the floating values to Integer and checking if value is 1.\n    steps = Math.round(steps);\n    steps = steps < 1 ? (steps + 1) : steps;\n\n    // checking alignment of the Axis\n    if (alignment === TOP || alignment === BOTTOM) {\n        recomputeSteps = Math.floor(maxWidth / (tickValue.width));\n    } else {\n        recomputeSteps = Math.floor(maxHeight / (tickValue.height));\n    }\n    steps = Math.min(steps, recomputeSteps);\n\n    // scaling the axis based on steps provided\n    for (let i = 0; i <= steps; i++) {\n        domainForLegend[i] = interpolatedFn(i / steps);\n    }\n    return domainForLegend;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} text\n * @param {*} measurement\n * @param {*} classPrefix\n */\nexport const titleCreator = (container, title, measurement, config) => {\n    const titleWidth = Math.min(measurement.maxWidth, measurement.width);\n\n    const titleContainer = makeElement(container, 'table', [1], `${config.classPrefix}-legend-title`)\n            .style(WIDTH, `${titleWidth}px`)\n            .style(HEIGHT, `${measurement.height}px`)\n            .style('border-bottom', `${measurement.border}px ${config.borderStyle} ${config.borderColor}`)\n            .style('text-align', title.orientation instanceof Function ?\n            title.orientation(config.position) : title.orientation);\n    return makeElement(titleContainer, 'td', [1], `${config.classPrefix}-legend-title-text`)\n                    .style(WIDTH, `${titleWidth}px`)\n                    .style(MAXWIDTH, `${titleWidth}px`)\n                    .style(HEIGHT, '100%')\n                    .style('line-height', 1)\n                    .style('padding', `${measurement.padding}px`)\n                    .text(title.text)\n                    .style('overflow-x', 'scroll')\n                    .node();\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n *\n */\nexport const getMaxMeasures = (data, prop, labelManager) => {\n    let maxHeight = -Infinity;\n    let maxWidth = -Infinity;\n\n    data.forEach((item) => {\n        const value = prop ? item[prop] : item;\n        const space = labelManager.getOriSize(value);\n        maxHeight = Math.max(space.height + 2, maxHeight);\n        maxWidth = Math.max(space.width + 2, maxWidth);\n    });\n\n    return { height: maxHeight, width: maxWidth };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n *\n */\nexport const getItemMeasures = (context, prop, formatter) => {\n    const space = [];\n    const data = context.data();\n    const labelManager = context._labelManager;\n\n    data.forEach((item, index) => {\n        // const value = prop ? item[prop] : item;\n        const formattedData = formatter(item.range, index, data, context);\n        const { height, width } = labelManager.getOriSize(formattedData);\n        space[index] = { height: height + 1, width: width + 1 };\n    });\n    return space;\n};\n\n/**\n *\n *\n * @param {*} textOrientation\n * @param {*} effPadding\n * @param {*} titleSpace\n *\n * @memberof Legend\n */\nexport const computeItemSpaces = (config, measures, data) => {\n    let totalHeight = 0;\n    let totalWidth = 0;\n    let maxItemSpaces = {\n        width: 0, height: 0\n    };\n    const {\n        effPadding,\n        titleWidth,\n        labelSpaces,\n        titleHeight,\n        maxWidth\n    } = measures;\n    const {\n        item,\n        align\n    } = config;\n    const {\n        icon,\n        text\n    } = item;\n    const textOrientation = text.orientation;\n    const itemSpaces = [];\n    const iconSpaces = [];\n    let maxIconWidth = 0;\n    labelSpaces.forEach((labelSpace, i) => {\n        const itemSpace = { width: 0, height: 0 };\n        const iconSpace = { width: 0, height: 0 };\n        const datum = data[i] || {};\n            // Compute each legend item height/width\n        if (textOrientation === LEFT || textOrientation === RIGHT) {\n            // Get label, icon and item widths\n            labelSpace.width += effPadding;\n            iconSpace.width = (datum.size ? 2 * Math.sqrt(datum.size / Math.PI) : icon.width) + effPadding;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n            itemSpace.width = labelSpace.width + maxIconWidth;\n\n            // Get label, icon and item heights\n            labelSpace.height = Math.max(labelSpace.height, icon.height) + effPadding;\n            iconSpace.height = labelSpace.height;\n            itemSpace.height = labelSpace.height;\n        } else {\n            // Get label, icon and item widths\n            labelSpace.width = Math.max(labelSpace.width, datum.size ? 2 * Math.sqrt(datum.size / Math.PI)\n            : icon.width) + effPadding;\n            iconSpace.width = labelSpace.width;\n            itemSpace.width = labelSpace.width;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n\n            // Get label, icon and item heights\n            labelSpace.height += effPadding;\n            iconSpace.height = icon.height + effPadding;\n            itemSpace.height = labelSpace.height + iconSpace.height;\n        }\n        // Compute height and width of legend for each alignment\n        if (align === 'horizontal') {\n            totalHeight = Math.max(totalHeight, itemSpace.height);\n        } else {\n            totalHeight += itemSpace.height;\n            totalWidth = Math.max(totalWidth, itemSpace.width, titleWidth);\n        }\n        maxItemSpaces = {\n            width: Math.max(itemSpace.width, maxItemSpaces.width),\n            height: Math.max(itemSpace.height, maxItemSpaces.height)\n        };\n        itemSpaces.push(itemSpace);\n        iconSpaces.push(iconSpace);\n    });\n    itemSpaces.forEach((itemSpace, i) => {\n        if (align === 'horizontal') {\n            itemSpace.height = totalHeight;\n            iconSpaces[i].width = maxIconWidth;\n            if (textOrientation === LEFT || textOrientation === RIGHT) {\n                labelSpaces[i].height = totalHeight;\n                iconSpaces[i].height = totalHeight;\n                itemSpaces[i].width = labelSpaces[i].width + maxIconWidth;\n            } else {\n                labelSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = maxIconWidth;\n                labelSpaces[i].width = maxIconWidth;\n            }\n            totalWidth = Math.max(totalWidth + itemSpaces[i].width);\n        } else {\n            itemSpace.width = Math.max(totalWidth, maxWidth);\n            if (textOrientation === TOP || textOrientation === BOTTOM) {\n                labelSpaces[i].width = totalWidth;\n                iconSpaces[i].width = totalWidth;\n                maxIconWidth = totalWidth;\n            } else {\n                const labelWidth = labelSpaces[i].width;\n                const newLabelWidth = (maxItemSpaces.width - maxIconWidth);\n                iconSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = labelSpaces[i].width + maxIconWidth;\n                labelSpaces[i].width = Math.max(labelWidth, newLabelWidth);\n                totalWidth = Math.max(totalWidth, itemSpace.width);\n            }\n        }\n    });\n    totalWidth = Math.ceil(Math.max(totalWidth, titleWidth)) + effPadding;\n    totalHeight += titleHeight + effPadding;\n    totalHeight = Math.ceil(totalHeight);\n    return { totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth };\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} scaleInfo\n * @param {*} domainInfo\n *\n */\nexport const getDomainBounds = (type, scaleInfo, domainInfo) => {\n    const {\n        scaleFn,\n        scaleType,\n        scale\n    } = scaleInfo;\n    const {\n        domain,\n        domainBounds,\n        domainLeg,\n        steps\n    } = domainInfo;\n    const ele = domain[type === 'lower' ? 0 : domain.length - 1];\n    const step = steps[type === 'lower' ? 0 : steps.length - 1];\n\n    return {\n        [scaleType]: scaleType === 'size' ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n        value: domainBounds[type],\n        id: type === 'lower' ? 0 : domainLeg.length + 2,\n        range: [ele, step]\n    };\n};\n","import {\n    LEFT,\n    RIGHT,\n    START,\n    END,\n    TOP,\n    BOTTOM,\n    HORIZONTAL,\n    VERTICAL,\n    CENTER,\n    SHAPE,\n    VALUE,\n    MARGINBUFFER\n} from '../enums/constants';\n\nconst legendOrientation = {\n    [HORIZONTAL]: {\n        datasets: data => ({\n            row: [1],\n            column: data\n        }),\n        itemContainerMeasures: (measurement) => {\n            const {\n                itemSpaces,\n                width\n            } = measurement;\n            return {\n                row: {\n                    width: `${width + itemSpaces.length * MARGINBUFFER}px`,\n                    padding: `${0}px`\n                },\n                column: {\n                    width: (d, i) => `${itemSpaces[i].width + MARGINBUFFER}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, height } = measurement;\n            return {\n                iconHeight: height,\n                iconWidth: maxItemSpaces.width,\n                stepPadding: {\n                    horizontal: true,\n                    vertical: false\n                }\n            };\n        }\n    },\n    [VERTICAL]: {\n        datasets: data => ({\n            row: data,\n            column: d => [d]\n        }),\n        itemContainerMeasures: (measurement, config) => {\n            const {\n                width\n            } = measurement;\n            const { padding } = config;\n\n            return {\n                row: {\n                    width: `${width + MARGINBUFFER}px`,\n                    padding: `${padding}px`\n                },\n                column: {\n                    width: `${width + MARGINBUFFER}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, width } = measurement;\n            return {\n                iconHeight: maxItemSpaces.height,\n                iconWidth: width,\n                stepPadding: {\n                    horizontal: false,\n                    vertical: true\n                }\n            };\n        }\n    }\n};\n\nexport const positionConfig = {\n    [LEFT]: legendOrientation[VERTICAL],\n    [RIGHT]: legendOrientation[VERTICAL],\n    [TOP]: legendOrientation[HORIZONTAL],\n    [BOTTOM]: legendOrientation[HORIZONTAL]\n};\n\nexport const alignmentMap = {\n    [LEFT]: END,\n    [RIGHT]: START,\n    [TOP]: CENTER,\n    [BOTTOM]: CENTER\n};\n\n// Reverses data for step legend\nexport const stepData = data => ({\n    [LEFT]: data.reverse(),\n    [RIGHT]: data.reverse(),\n    [TOP]: data,\n    [BOTTOM]: data\n});\n\n// Changes the item layout based on the position of the text\nexport const itemStack = {\n    [LEFT]: [VALUE, SHAPE],\n    [RIGHT]: [SHAPE, VALUE],\n    [TOP]: [VALUE, SHAPE],\n    [BOTTOM]: [SHAPE, VALUE]\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    data: {},\n    fieldName: {},\n    legendContainer: {},\n    measurement: {\n        sanitization: (context, value) => {\n            const measurement = mergeRecursive(context._measurement, value);\n            ['padding', 'border', 'margin'].forEach((space) => {\n                measurement[space] = Math.min(measurement[space] > 0 ? measurement[space] : 0,\n                     measurement.maxWidth * 0.1, measurement.maxHeight * 0.1);\n            });\n            return measurement;\n        }\n    },\n    logicalSpace: {},\n    metaData: {},\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.resetLogicalSpace();\n            context.store().commit('range', value);\n            return value;\n        }\n    },\n    scale: {},\n    smartTicks: {},\n    store: {},\n    title: {\n        sanitization: (context, value) => mergeRecursive(context._title || {}, value)\n    },\n    labelManager: {},\n    minTickDistance: {},\n    valueParser: {\n        defaultValue: val => val\n    }\n};\n","import { makeElement, selectElement, applyStyle } from 'muze-utils';\nimport { ICON_MAP } from './defaults';\nimport { positionConfig, alignmentMap, itemStack } from './position-config';\nimport {\n    WIDTH,\n    HEIGHT,\n    CENTER,\n    VALUE,\n    RECT,\n    LEFT,\n    RIGHT,\n    DEFAULTICONSIZE,\n    MARGINBUFFER,\n    HORIZONTAL\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} legendInstance\n * @param {*} align\n *\n */\nexport const getItemContainers = (container, data, legendInstance) => {\n    const measurement = legendInstance.measurement();\n    const config = legendInstance.config();\n    const {\n        itemSpaces\n    } = measurement;\n    const {\n        classPrefix,\n        position\n    } = config;\n    const positionObj = positionConfig[position];\n    const datasets = positionObj.datasets(data);\n    const measures = positionObj.itemContainerMeasures(measurement, config);\n\n    const rows = makeElement(container, 'div', datasets.row, `${classPrefix}-legend-row`);\n    rows.style(HEIGHT, (d, i) => `${itemSpaces[i].height}px`);\n    rows.style(WIDTH, measures.row.width);\n    rows.style('padding', measures.row.padding);\n\n    const columns = makeElement(rows, 'div', datasets.column, `${classPrefix}-legend-columns`);\n    columns.style(WIDTH, measures.column.width);\n    columns.style('padding', measures.column.padding);\n\n    return columns;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} classPrefix\n * @param {*} data\n *\n * @memberof DiscreteLegend\n */\nexport const createLegendSkeleton = (context, container, classPrefix, data) => {\n    let gradWidth = 0;\n    let gradHeight = 0;\n    let maxGradHeight = 0;\n    let maxGradWidth = 0;\n    const measurement = context.measurement();\n    const {\n            margin,\n            border,\n            titleSpaces,\n            width,\n            height,\n            maxWidth,\n            maxHeight\n        } = measurement;\n\n    gradHeight = height - (titleSpaces.height + 2 * margin + 2 * border);\n    gradWidth = width - (margin * 2 + border * 2);\n\n    maxGradHeight = maxHeight - (titleSpaces.height + margin * 2 + border * 2);\n    maxGradWidth = maxWidth - (margin * 2 + border * 2);\n\n    let legendBody = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    legendBody.select(`.${classPrefix}-legend-overflow`).remove();\n        // Create a div with scroll when overflow\n    if (maxGradWidth && maxGradWidth < gradWidth) {\n        legendBody = legendBody.style(WIDTH, `${maxGradWidth}px`).style('overflow-x', 'scroll');\n    }\n        // Create a div with scroll when overflow\n    if (maxGradHeight && maxGradHeight < gradHeight) {\n        legendBody.style(HEIGHT, `${maxGradHeight}px`).style('overflow-y', 'scroll');\n    }\n\n    legendBody = makeElement(legendBody, 'div', [1], `${classPrefix}-legend-overflow`);\n\n    legendBody.style(WIDTH, `${gradWidth}px`);\n    legendBody.style(HEIGHT, `${gradHeight}px`);\n\n    const legendItem = getItemContainers(legendBody, data, context);\n    return { legendItem };\n};\n\n/**\n * Creates legend item based on alignment and text orientation\n *\n * @param {Selection} container Point where items are to be mounted\n * @return {Instance} Current instance\n * @memberof Legend\n */\nexport const createItemSkeleton = (context, container) => {\n    const {\n        classPrefix,\n        item\n    } = context.config();\n    const textOrientation = item.text.orientation;\n\n    const stack = itemStack[textOrientation];\n    const itemSkeleton = makeElement(container, 'div', (d, i) => stack.map(e => [e, d[e], d.color, d.size,\n        d.value, context.fieldName(), i]), `${classPrefix}-legend-item-info`);\n\n    const alignClass = alignmentMap[textOrientation];\n\n    itemSkeleton.classed(alignClass, true);\n    return { itemSkeleton };\n};\n\n/**\n *\n *\n * @param {*} measureType\n * @param {*} stepColorCheck\n */\nexport const applyItemStyle = (item, measureType, stepColorCheck, context) => {\n    const {\n        padding,\n        labelSpaces,\n        iconSpaces,\n        maxIconWidth\n    } = context.measurement();\n    const diff = stepColorCheck ? -padding * 2 : 0;\n\n    if (item[0] === VALUE) {\n        return `${labelSpaces[item[6]][measureType]}px`;\n    }\n    return `${measureType === 'width' && !stepColorCheck ? maxIconWidth : iconSpaces[item[6]][measureType] - diff}px`;\n};\n\n/**\n *\n *\n * @param {*} str\n *\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, elem, defaultIcon) {\n    const groupElement = elem;\n    // const { shape, size, update } = d;\n    const shape = d[1] || defaultIcon;\n    const size = d[3] || DEFAULTICONSIZE[shape] * Math.PI;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            return createShape(d, elem);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        shapeElement.attr('transform', `scale(${size / 100})`);\n        return selectElement(groupElement.node().appendChild(newShape));\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = ICON_MAP(shape).size(size)();\n        }\n        return makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n    }\n    d[1] = 'circle';\n    return createShape(d, elem, 'circle');\n};\n\n/**\n * Returns the icon of the legend item\n *\n * @param {Object} datum Data property attached to the item\n * @param {number} width width of the item\n * @param {number} height height of the item\n * @return {Object|string} returns the path string or the string name of the icon\n * @memberof Legend\n */\nexport const getLegendIcon = (datum, width, height, defaultIcon) => {\n    const icon = ICON_MAP(datum[1]);\n\n    if (icon) {\n        return icon.size(datum[3] || Math.min(width, height) * Math.PI);\n    }\n    return ICON_MAP(datum[3] ? 'circle' : defaultIcon).size(datum[3] || Math.min(width, height) * Math.PI);\n};\n\n/**\n *\n *\n */\nexport const renderIcon = (icon, container, datum, context) => {\n    const {\n        classPrefix,\n        iconHeight,\n        maxIconWidth,\n        padding,\n        color\n    } = context;\n    const svg = makeElement(container, 'svg', f => [f], `${classPrefix}-legend-icon-svg`)\n    .attr(WIDTH, maxIconWidth)\n    .attr(HEIGHT, iconHeight)\n    .style(WIDTH, `${maxIconWidth}px`)\n    .style(HEIGHT, `${iconHeight}px`);\n\n    if (icon !== RECT) {\n        const group = makeElement(svg, 'g', [datum[1]], `${classPrefix}-legend-icon`);\n        createShape(datum, group, icon)\n                        .attr('transform', `translate(${maxIconWidth / 2 - padding} ${iconHeight / 2})`)\n                        .attr('fill', datum[2] || color)\n                        .attr('stroke', datum[2] || color);\n    } else {\n        makeElement(svg, RECT, [datum[1]], `${classPrefix}-legend-icon`)\n                        .attr('x', 0)\n                        .attr('y', 0)\n                        .attr(WIDTH, maxIconWidth)\n                        .attr(HEIGHT, iconHeight)\n                        .attr('fill', datum[2] || color);\n    }\n};\n\n/**\n * Renders the items in the legend i.e, icon and text\n *\n * @param {DOM} container Point where item is to be mounted\n * @memberof Legend\n */\nexport const renderDiscreteItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n           item,\n           classPrefix,\n           shape,\n           align\n    } = context.config();\n    const {\n        maxIconWidth,\n        padding\n    } = context.measurement();\n    const {\n            width: iconWidth,\n            height: iconHeight,\n            color,\n            className\n        } = item.icon;\n\n    const textOrientation = item.text.orientation;\n    const formatter = item.text.formatter;\n\n    labelManager.useEllipsesOnOverflow(true);\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, false, context),\n        height: d => applyItemStyle(d, HEIGHT, false, context),\n        'text-align': CENTER,\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    const dataArr = container.data();\n    container.each(function (d, i) {\n        if (d[0] === VALUE) {\n            selectElement(this).text(formatter(d[1], i, dataArr, context))\n            .style(`padding-${textOrientation === RIGHT ? LEFT : RIGHT}`, '0px')\n            .style('margin-left', `${align === HORIZONTAL ? 0 : MARGINBUFFER}px`);\n        } else {\n            // const icon = getLegendIcon(d, iconWidth, iconHeight, type);\n            selectElement(this).classed(`${classPrefix}-${className}`, true);\n            selectElement(this).classed(`${classPrefix}-${className}-${i}`, true);\n            renderIcon(shape, selectElement(this), d, {\n                classPrefix,\n                iconWidth,\n                // iconWidth: 2 * Math.sqrt(d[3] / Math.PI) || iconWidth,\n                iconHeight,\n                maxIconWidth,\n                padding,\n                color\n            });\n        }\n    });\n};\n\n/**\n* Renders the items in the legend i.e, icon and text\n*\n* @param {DOM} container Point where item is to be mounted\n* @memberof Legend\n*/\nexport const renderStepItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n      item,\n      position,\n      classPrefix\n   } = context.config();\n    const {\n      maxItemSpaces,\n      maxIconWidth,\n      padding\n   } = context.measurement();\n    const {\n       width,\n       height,\n       color\n   } = item.icon;\n    const {\n        formatter\n   } = item.text;\n\n    labelManager.useEllipsesOnOverflow(true);\n    const { iconHeight, iconWidth, stepPadding } = positionConfig[position].getStepSpacesInfo({\n        maxItemSpaces, height, width\n    });\n\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, stepPadding.horizontal, context),\n        height: d => applyItemStyle(d, HEIGHT, stepPadding.vertical, context),\n        'text-align': 'center',\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    const dataArr = container.data();\n    container.each(function (d, i) {\n        if (d[0] === VALUE) {\n            const data = d[1].split('-');\n            const lowerLimit = +data[0];\n            const upperLimit = +data[1];\n            const formattedData = formatter([lowerLimit, upperLimit], i, dataArr, context);\n            selectElement(this).text(formattedData);\n        } else {\n            renderIcon(RECT, selectElement(this), d, {\n                classPrefix,\n                iconWidth,\n                iconHeight,\n                maxIconWidth,\n                color\n            });\n        }\n    });\n};\n","import {\n    makeElement,\n    selectElement,\n    getUniqueId,\n    getSmartComputedStyle,\n    generateGetterSetters,\n    mergeRecursive\n} from 'muze-utils';\nimport * as legendBehaviours from '../firebolt/behavioural';\n\nimport { LegendFireBolt } from '../firebolt/legend-firebolt';\nimport { actionBehaviourMap } from '../firebolt/action-behaviour-map';\nimport { physicalActions } from '../firebolt/physical';\nimport * as sideEffects from '../firebolt/side-effects';\nimport { behaviourEffectMap } from '../firebolt/behaviour-effect-map';\nimport { VALUE, PATH, RIGHT, LEFT, TOP, BOTTOM } from '../enums/constants';\nimport { PROPS } from './props';\nimport { DEFAULT_MEASUREMENT, DEFAULT_CONFIG, LEGEND_TITLE } from './defaults';\nimport { getItemMeasures, titleCreator, computeItemSpaces } from './legend-helper';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class SimpleLegend\n */\nexport default class SimpleLegend {\n\n    /**\n     * Creates an instance of Legend.\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @memberof Legend\n     */\n    constructor (dependencies) {\n        const { interactions } = dependencies.registry;\n        this._data = [];\n        this._metaData = [];\n        this._mount = null;\n        this._fieldName = null;\n        this._title = Object.assign({}, LEGEND_TITLE);\n        this._metaData = null;\n        this._labelManager = dependencies.labelManager;\n        this._cells = dependencies.cells;\n        this._id = getUniqueId();\n        this._measurement = Object.assign({}, this.constructor.defaultMeasurement());\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n\n        const dist = dependencies.labelManager.getOriSize('w');\n        this._minTickDistance = { width: dist.width * 3 / 4, height: dist.height / 2 };\n\n        generateGetterSetters(this, PROPS);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'),\n            `${this.config().classPrefix}-legend-item-info`);\n\n        this._firebolt = new LegendFireBolt(this, {\n            behavioural: Object.assign({}, interactions.behaviours.get(), legendBehaviours),\n            physical: physicalActions,\n            physicalBehaviouralMap: actionBehaviourMap\n        }, sideEffects, behaviourEffectMap);\n    }\n\n    id () {\n        return this._id;\n    }\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new SimpleLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof SimpleLegend\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof SimpleLegend\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENT;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleLegend\n     */\n    firebolt (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    elemType () {\n        return PATH;\n    }\n\n    canvasAlias (...alias) {\n        if (alias.length) {\n            this._canvasAlias = alias[0];\n            return this;\n        }\n        return this._canvasAlias;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    mount (...params) {\n        if (params.length) {\n            this._mount = params[0];\n            this.render();\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces () {\n        const {\n            item,\n            classPrefix\n        } = this.config();\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n            `${classPrefix}-legend-item-info`));\n        return getItemMeasures(this, VALUE, item.text.formatter);\n    }\n\n    /**\n     * Sets the height and width of a legend based on provided max\n     * height and width and based on its contents\n     *\n     * @return {Instance} Current instance\n     * @memberof Legend\n     */\n    setLegendMeasures () {\n        const {\n            width,\n            height,\n            maxWidth,\n            maxHeight,\n            padding,\n            margin,\n            border\n        } = this.measurement();\n        const {\n            align\n        } = this.config();\n\n        // Effective padding, margin and padding\n        const effPadding = padding * 2;\n        const effBorder = border * 2;\n        const effMargin = margin * 2;\n\n        this.data(this.dataFromScale());\n        // Get space occupied by title\n        const titleSpace = this.getTitleSpace();\n        const titleHeight = titleSpace.height > 0 ? titleSpace.height + effPadding : 0;\n        const titleWidth = titleSpace.width + effPadding;\n\n        // Get space occupied by labels\n        const labelSpaces = this.getLabelSpaces(effPadding, align);\n        const {\n            totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth\n        } = computeItemSpaces(this.config(),\n        { effPadding, titleWidth, labelSpaces, titleHeight, maxWidth, maxHeight }, this.data());\n\n        this.measurement({\n            width: Math.max(totalWidth, width) + effMargin + effBorder,\n            height: Math.max(totalHeight, height) + effMargin + effBorder,\n            labelSpaces,\n            iconSpaces,\n            itemSpaces,\n            maxItemSpaces,\n            maxIconWidth,\n            titleSpaces: {\n                width: Math.min(maxWidth, this.measurement().width) - effMargin - effBorder,\n                height: titleHeight\n            }\n        });\n        return this;\n    }\n\n    /**\n     * Returns the space occupied by the legend title\n     *\n     * @return {Object} Space occupied by title\n     * @memberof Legend\n     */\n    getTitleSpace () {\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n                                                `${this.config().classPrefix}-legend-title`));\n        return this._labelManager.getOriSize(this.title().text ? this.title().text : '');\n    }\n\n    /**\n     * Creates the title for the legend\n     *\n     * @param {DOM} container Container made for the title\n     * @return {Selection} Title and it's node\n     * @memberof Legend\n     */\n    renderTitle (container) {\n        const { titleSpaces, border, padding, width, maxWidth } = this.measurement();\n        const { borderStyle, borderColor } = this.config();\n        return titleCreator(container, this.title(), {\n            height: titleSpaces.height,\n            width,\n            maxWidth,\n            border,\n            padding,\n            borderStyle,\n            borderColor\n        }, this.config());\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const {\n            classPrefix,\n            borderStyle,\n            borderColor,\n            position\n        } = this.config();\n        const {\n            maxWidth,\n            maxHeight,\n            width,\n            height,\n            margin,\n            border\n        } = this.measurement();\n        const legendContainer = makeElement(selectElement(this.mount()), 'div', [1], `${classPrefix}-legend-box`);\n        let marginPosition;\n        switch (position) {\n        case TOP:\n            marginPosition = `margin-${BOTTOM}`;\n            break;\n        case LEFT:\n            marginPosition = `margin-${RIGHT}`;\n            break;\n        case BOTTOM:\n            marginPosition = `margin-${TOP}`;\n            break;\n        default:\n            marginPosition = `margin-${LEFT}`;\n        }\n        legendContainer.classed(`${classPrefix}-legend-box-${this._id}`, true);\n        legendContainer.style('float', 'left');\n        // set height and width\n        legendContainer.style('width', `${Math.min(maxWidth, width) - margin * 2}px`)\n                        .style('height', `${Math.min(maxHeight, height) - margin * 2}px`)\n                        .style(`${marginPosition}`, `${margin}px`)\n                        .style('border', `${border}px ${borderStyle} ${borderColor}`);\n        this.legendContainer(legendContainer.node());\n\n        // create title\n        this.renderTitle(legendContainer);\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof SimpleLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        const type = this.metaData().getData().schema[0].type;\n        if (type === 'measure') {\n            return {\n                [fieldName]: data.range\n            };\n        }\n        return [[fieldName], [data.rawVal]];\n    }\n\n    getValueFromId (id, fields = []) {\n        const data = this.data();\n        if (fields.length) {\n            id = Number(id);\n            return [data.find(d => id === d.id).rawVal];\n        }\n\n        return [];\n    }\n\n    getRangeFromIdentifiers ({ fields, entrySet }) {\n        const data = this.data();\n        const idRangeMap = data.reduce((acc, v) => {\n            acc[v.id] = v;\n            return acc;\n        }, {});\n\n        return fields.reduce((acc, v) => {\n            acc[v] = entrySet.reduce((ranges, id) => {\n                if (id in idRangeMap) {\n                    ranges.push(idRangeMap[id].range);\n                }\n                return ranges;\n            }, []);\n            return acc;\n        }, {});\n    }\n}\n","import SimpleLegend from './simple-legend';\nimport {\n    getScaleInfo,\n    getInterpolatedData,\n    getDomainBounds\n} from './legend-helper';\nimport {\n    createLegendSkeleton,\n    createItemSkeleton,\n    renderStepItem\n} from './renderer';\nimport { STEP, RECT, LEFT, SIZE, UPPER, LOWER } from '../enums/constants';\nimport { stepData } from './position-config';\nimport '../styles.scss';\nimport { STEP_DEFAULT_CONFIG } from './defaults';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class StepLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new StepLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof StepLegend\n     */\n    static type () {\n        return STEP;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof StepLegend\n     */\n    static defaultConfig () {\n        return STEP_DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof StepLegend\n     */\n    dataFromScale () {\n        let domainLeg = [];\n        const scale = this.scale();\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        const { formatter } = this.config();\n        const domainBounds = {\n            lower: null, upper: null\n        };\n\n        // defining scaleParams\n        const scaleParams = {\n            smartLabel: this.labelManager(),\n            measures: this.measurement(),\n            alignment: this.config().position,\n            minTickDistance: this.minTickDistance()\n        };\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainBounds.lower = [`${formatter.bounds.lower} ${steps[0]}`];\n            }\n            domainLeg = [...domainLeg, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainBounds.upper = [`${formatter.bounds.upper} ${steps[steps.length - 1]}`];\n            }\n        } else {\n            domainLeg = getInterpolatedData(domain, steps, scaleParams);\n        }\n\n        domainLeg = [...new Set(domainLeg)].sort((a, b) => a - b);\n        domainLeg = domainLeg.map((ele, i) => {\n            let value = null;\n            if (i < domainLeg.length - 1) {\n                value = `${(ele.toFixed(1))} - ${(+domainLeg[i + 1].toFixed(1))}`;\n            } else if (domainLeg.length === 1) {\n                value = ele.toFixed(1);\n            }\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n                value,\n                id: i + 1,\n                range: [ele, domainLeg[i + 1]]\n            };\n        }).filter(d => d.value !== null);\n\n        if (domainBounds.lower) {\n            const lowerBounds = getDomainBounds(LOWER, { scale, scaleFn, scaleType },\n                { domain, steps, domainBounds });\n            domainLeg = [lowerBounds, ...domainLeg];\n        }\n        if (domainBounds.upper) {\n            const upperBounds = getDomainBounds(UPPER, { scale, scaleFn, scaleType },\n            { domain, steps, domainBounds, domainLeg });\n            domainLeg = [...domainLeg, upperBounds];\n        }\n\n        return domainLeg;\n    }\n\n     /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding, align) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        return super.getLabelSpaces(effPadding, align);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    elemType () {\n        return RECT;\n    }\n\n     /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const { classPrefix, position } = this.config();\n        const data = stepData(this.data())[position];\n\n        const legendContainer = super.render(this.mount());\n\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n\n        renderStepItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof StepLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        return {\n            [fieldName]: data.range\n        };\n    }\n}\n","// extracted by mini-css-extract-plugin","export const CLASSPREFIX = 'muze';\nexport const ARROW_RIGHT = 'right';\nexport const ARROW_TOP = 'top';\nexport const ARROW_BOTTOM = 'bottom';\nexport const ARROW_LEFT = 'left';\nexport const TOOLTIP_LEFT = 'left';\nexport const TOOLTIP_RIGHT = 'right';\nexport const TOOLTIP_BOTTOM = 'bottom';\nexport const TOOLTIP_TOP = 'top';\nexport const INITIAL_STYLE = {\n    position: 'absolute',\n    width: 0,\n    height: 0\n};\nexport const TABLE_FORMAT = 'table';\n","import {\n    selectElement,\n    mergeRecursive,\n    makeElement,\n    setAttrs,\n    setStyles,\n    getSymbol,\n    isSimpleObject\n} from 'muze-utils';\nimport { TABLE_FORMAT } from './constants';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class is used to manage the content of tooltip.\n */\nexport default class Content {\n    /**\n     * Creates an instance of content.\n     */\n    constructor () {\n        this._model = null;\n        this._formatter = null;\n        this._config = this.constructor.defaultConfig();\n    }\n   /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        const config = defaultConfig.content;\n        config.classPrefix = defaultConfig.classPrefix;\n        return config;\n    }\n\n    config (...c) {\n        if (c.length > 0) {\n            this._config = mergeRecursive(this._config, c[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Update model. The format contains presentation strategy which determines how to show the content.\n     * If no strategy is mentioned then default is to show key value pair\n    */\n    update (item) {\n        this._model = item.model;\n        this._formatter = item.formatter;\n        return this;\n    }\n\n    context (ctx) {\n        this._context = ctx;\n        return this;\n    }\n\n    render (mount) {\n        let data;\n        const config = this._config;\n        const iconContainerSize = config.iconContainerSize;\n        const formatter = this._formatter;\n        const rowMargin = config.rowMargin;\n        const model = this._model;\n        const { classPrefix } = config;\n\n        this._mount = mount;\n        if (model instanceof Array) {\n            data = model;\n        } else {\n            data = formatter(this._model, this.config(), this._context);\n        }\n\n        if (data instanceof Function) {\n            const mountHtmlTooltip = makeElement(mount, 'div', [1], `${classPrefix}-tooltip-html-container`);\n            mountHtmlTooltip.html(data());\n        } else {\n            let content = data;\n            let displayFormat = 'default';\n\n            if (isSimpleObject(data)) {\n                content = data.content;\n                displayFormat = data.displayFormat;\n            }\n\n            const body = makeElement(mount, 'div', [displayFormat], `${classPrefix}-tooltip-content`, {},\n                d => d);\n\n            if (displayFormat === TABLE_FORMAT) {\n                const table = makeElement(body, 'table', [1], `${classPrefix}-tooltip-table`);\n                const tbody = makeElement(table, 'tbody', [1], `${classPrefix}-tooltip-table-tbody`);\n                const rows = makeElement(tbody, 'tr', content, `${classPrefix}-tooltip-table-row`);\n                rows.each(function (d, i) {\n                    selectElement(this).classed(`${classPrefix}-tooltip-table-row-${i}`, true);\n                });\n                const cells = makeElement(rows, 'td', d => d, `${classPrefix}-tooltip-table-cell`);\n                cells.each(function (d) {\n                    selectElement(this).html(d);\n                });\n            } else {\n                const rows = makeElement(body, 'div', content, '', {\n                    update: (elem, elemData) => elem.attr('class', elemData.className)\n                });\n                const cells = makeElement(rows, 'span', d => d.data, `${classPrefix}-tooltip-content`);\n                cells.attr('class', `${classPrefix}-tooltip-content`);\n                setStyles(rows, {\n                    margin: rowMargin\n                });\n                setStyles(cells, {\n                    display: 'inline-block' // 'margin-right': `${config.spacing}px`\n                });\n\n                cells.each(function (d) {\n                    const el = selectElement(this);\n                    el.html('');\n                    if (d instanceof Object) {\n                        if (d.type === 'icon') {\n                            const svg = makeElement(el, 'svg', [1]);\n                            const path = makeElement(svg, 'path', [1]);\n                            const shape = d.shape instanceof Function ? d.shape : getSymbol(d.shape);\n\n                            setAttrs(svg, {\n                                x: 0,\n                                y: 0,\n                                width: iconContainerSize,\n                                height: iconContainerSize\n                            });\n                            setAttrs(path, {\n                                d: shape.size(d.size)(),\n                                transform: `translate(${iconContainerSize / 2}, ${iconContainerSize / 2})`\n                            });\n                            setStyles(path, {\n                                fill: d.color\n                            });\n                            setStyles(svg, {\n                                width: `${iconContainerSize}px`,\n                                height: `${iconContainerSize}px`\n                            });\n                        } else {\n                            el.html(d.value);\n                            d.className && el.classed(d.className, true);\n                            setStyles(el, d.style);\n                        }\n                    } else {\n                        el.html(d);\n                    }\n                });\n            }\n        }\n        return this;\n    }\n\n    clear () {\n        this._model = null;\n        return this;\n    }\n}\n","import { CLASSPREFIX } from './constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'tooltip-box',\n    connectorClassName: 'tooltip-connectors',\n    className: '',\n    row: {\n        margin: 0\n    },\n    content: {\n        spacing: 5,\n        iconContainerSize: 10,\n        iconScale: 1,\n        iconShape: 'circle',\n        iconColor: '#ff0000',\n        rowMargin: '4px 0 4px 0',\n        margin: 10,\n        separator: ':',\n        className: 'tooltip-content-container',\n        parentClassName: 'tooltip-content-parent-container'\n    },\n    arrow: {\n        size: 10,\n        disabled: false,\n        defClassName: 'tooltip-arrow',\n        className: '',\n        color: 'rgba(195,195,195,0.85)'\n    }\n};\n","import { getQualifiedClassName } from 'muze-utils';\nimport { TOOLTIP_LEFT, TOOLTIP_RIGHT, ARROW_RIGHT, ARROW_LEFT, TOOLTIP_BOTTOM } from './constants';\n\nexport const getArrowPos = (orient, dim, measurement, config) => {\n    let arrowPos;\n    const { x, y, boxHeight, boxWidth } = measurement;\n    const arrowDisabled = config.arrow.disabled;\n    const arrowWidth = arrowDisabled ? 0 : config.arrow.size;\n\n    if (orient === ARROW_LEFT || orient === ARROW_RIGHT) {\n        let start = 0;\n        let diff = boxHeight / 2;\n        const plotBottom = dim.y + dim.height;\n        const boxBottom = y + boxHeight;\n\n        if (dim.y > y) {\n            start = dim.y - y;\n            diff = (plotBottom >= boxBottom ? (boxBottom - dim.y) : dim.height) / 2;\n        } else if (boxBottom > plotBottom) {\n            diff = Math.abs(y - (dim.y + dim.height)) / 2;\n        }\n        arrowPos = start + diff - arrowWidth / 2;\n    } else {\n        let start = 0;\n        let diff = boxWidth / 2;\n        const plotRight = dim.x + dim.width;\n        const boxRight = x + boxWidth;\n\n        if (dim.x > x) {\n            start = dim.x - x;\n            diff = (plotRight >= boxRight ? (boxRight - dim.x) : dim.width) / 2;\n        } else if (boxRight > plotRight) {\n            diff = Math.abs(x - (dim.x + dim.width)) / 2;\n        }\n        arrowPos = start + diff - arrowWidth / 2;\n    }\n    return arrowPos;\n};\n\n/**\n * Places the arrow in the specified arrow position. It also applies appropriate arrow\n * class name to the arrow element.\n * @param {string} position Left, bottom or right position of the arrow;\n * @param {number} arrowPos position of arrow in pixels\n * @return {Tooltip} Instance of tooltip.\n */\nexport const placeArrow = (context, position, arrowPos) => {\n    const tooltipArrow = context._tooltipArrow;\n    const tooltipBackground = context._tooltipBackground;\n    const config = context._config;\n    const classPrefix = config.classPrefix;\n    const arrowConf = config.arrow;\n    const className = getQualifiedClassName(arrowConf.defClassName, context._id, config.classPrefix);\n\n    tooltipArrow.style('display', 'block');\n    tooltipArrow.attr('class', `${className.join(' ')}`);\n    if (position === TOOLTIP_LEFT || position === TOOLTIP_RIGHT) {\n        tooltipArrow.style('top', `${arrowPos}px`);\n        tooltipArrow.style('left', '');\n        tooltipBackground.style('top', `${arrowPos}px`);\n        tooltipBackground.style('left', '');\n    } else {\n        position === TOOLTIP_BOTTOM ? tooltipArrow.style('top', '100%') : tooltipArrow.style('top',\n            `-${arrowConf.size}px`);\n        tooltipArrow.style('left', `${arrowPos}px`);\n        position === TOOLTIP_BOTTOM ? tooltipBackground.style('top', '100%') : tooltipBackground.style('top',\n            `-${arrowConf.size + 3}px`);\n        tooltipBackground.style('left', `${arrowPos}px`);\n    }\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow`, true);\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow-${context._arrowOrientation}`, false);\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow-${position}`, true);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow`, true);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow-${context._arrowOrientation}`, false);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow-${position}`, true);\n    return this;\n};\n\nexport const reorderContainers = (parentContainer, className) => {\n    parentContainer.selectAll(className).sort((a, b) => a - b);\n};\n","export { default as Tooltip } from './tooltip';\nexport { TABLE_FORMAT } from './constants';\n","// extracted by mini-css-extract-plugin","import {\n    mergeRecursive,\n    getQualifiedClassName,\n    getUniqueId,\n    selectElement,\n    setStyles,\n    makeElement\n} from 'muze-utils';\nimport { ARROW_BOTTOM, ARROW_LEFT, ARROW_RIGHT, TOOLTIP_LEFT, TOOLTIP_RIGHT, TOOLTIP_BOTTOM, TOOLTIP_TOP,\n    INITIAL_STYLE } from './constants';\nimport { defaultConfig } from './default-config';\nimport { getArrowPos, placeArrow, reorderContainers } from './helper';\nimport './styles.scss';\nimport Content from './content';\n\n/**\n * This component is responsible for creating a tooltip element. It appends the tooltip\n * in the body element.\n * @class Tooltip\n */\nexport default class Tooltip {\n    /**\n     * Initializes the tooltip with the container element and configuration\n     * @param {HTMLElement} container container where the tooltip will be mounted.\n     * @param {string} className Class name of the tooltip.\n     */\n    constructor (htmlContainer, svgContainer) {\n        let connectorContainer = svgContainer;\n        this._id = getUniqueId();\n        this._config = {};\n        this.config({});\n        const tooltipConf = this._config;\n        const classPrefix = tooltipConf.classPrefix;\n        const contentClass = tooltipConf.content.parentClassName;\n        const container = makeElement(htmlContainer, 'div', [1], `${classPrefix}-tooltip-container`);\n        this._container = container;\n        this._tooltipContainer = container.append('div').style('position', 'absolute');\n        this._contentContainer = this._tooltipContainer.append('div').attr('class', `${classPrefix}-${contentClass}`);\n        this._tooltipBackground = this._tooltipContainer.append('div').style('position', 'relative');\n        this._tooltipArrow = this._tooltipContainer.append('div');\n\n        if (!svgContainer) {\n            connectorContainer = htmlContainer.append('svg').style('pointer-events', 'none');\n        }\n        this._contents = {};\n        this._tooltipConnectorContainer = selectElement(connectorContainer)\n            .append('g')\n            .attr('class', `${tooltipConf.classPrefix}-${tooltipConf.connectorClassName}`);\n        const id = this._id;\n        const defClassName = tooltipConf.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, id, tooltipConf.classPrefix);\n\n        setStyles(this._tooltipArrow, INITIAL_STYLE);\n        setStyles(this._tooltipBackground, INITIAL_STYLE);\n        this.addClass(qualifiedClassName.join(' '));\n        this.addClass(tooltipConf.className);\n        this.hide();\n    }\n\n    /**\n     * Sets the configuration of tooltip.\n     * @param {Object} config Configuration of tooltip\n     * @return {Tooltip} Instance of tooltip\n     */\n    config (...config) {\n        if (config.length > 0) {\n            const defConf = mergeRecursive({}, this.constructor.defaultConfig());\n            this._config = mergeRecursive(defConf, config[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n    /**\n     * Sets the class name of tooltip\n     * @param {string} className tooltip class name\n     * @return {Tooltip} Instance of tooltip.\n     */\n    addClass (className) {\n        this._tooltipContainer.classed(className, true);\n        return this;\n    }\n\n    context (...ctx) {\n        if (ctx.length) {\n            this._context = ctx[0];\n            return this;\n        }\n        return this._context;\n    }\n\n    content (name, data, contentConfig = {}) {\n        const config = this.config();\n        const { classPrefix } = config;\n        const contentClass = config.content.className;\n        const formatter = config.formatter;\n        const className = contentConfig.className || `${classPrefix}-${contentClass}-${name}`;\n        const content = this._contents[name] = this._contents[name] || new Content();\n        const container = makeElement(this._contentContainer, 'div', [contentConfig.order], className);\n        container.attr('class', `${classPrefix}-${contentClass} ${className}`);\n        reorderContainers(this._contentContainer, `.${classPrefix}-${contentClass}`);\n        const contentConf = config.content;\n        contentConfig.classPrefix = this._config.classPrefix;\n        content.config(contentConf);\n\n        if (data === null) {\n            content.clear();\n            container.remove();\n            delete this._contents[name];\n        } else {\n            content.update({\n                model: data,\n                formatter: contentConfig.formatter || formatter\n            });\n            content.context(this._context);\n            content.render(container);\n        }\n\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n        }\n        return this;\n    }\n\n    getContents () {\n        return Object.values(this._contents);\n    }\n\n    /**\n     * Positions the tooltip at the given x and y position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Tooltip} Instance of tooltip.\n     */\n    position (x, y, conf = {}) {\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n            return this;\n        }\n        this.show();\n        const target = this._target;\n        const repositionArrow = conf.repositionArrow;\n\n        if (target && repositionArrow) {\n            const node = this._tooltipContainer.node();\n            const config = this._config;\n            const arrowDisabled = config.arrow.disabled;\n            const arrowWidth = arrowDisabled ? 0 : config.arrow.size;\n            const arrowOrient = this._arrowOrientation;\n            const outsidePlot = arrowOrient === ARROW_LEFT || arrowOrient === ARROW_RIGHT ?\n                (y + node.offsetHeight - arrowWidth) < target.y || y > (target.y + target.height) :\n                (x + node.offsetWidth - arrowWidth) < target.x || x > (target.x + target.width);\n\n            if (!arrowDisabled) {\n                if (outsidePlot) {\n                    let path;\n                    this._tooltipArrow.style('display', 'none');\n                    this._tooltipBackground.style('display', 'none');\n                    this._tooltipConnectorContainer.style('display', 'block');\n                    const connector = this._tooltipConnectorContainer.selectAll('path').data([1]);\n                    const enter = connector.enter().append('path');\n                    if (arrowOrient === ARROW_LEFT) {\n                        path = `M ${x} ${y + node.offsetHeight / 2} L ${target.x + target.width}`\n                            + ` ${target.y + target.height / 2}`;\n                    } else if (arrowOrient === ARROW_RIGHT) {\n                        path = `M ${x + node.offsetWidth} ${y + node.offsetHeight / 2}`\n                                + ` L ${target.x} ${target.y + target.height / 2}`;\n                    } else if (arrowOrient === ARROW_BOTTOM) {\n                        path = `M ${x + node.offsetWidth / 2} ${y + node.offsetHeight}`\n                            + ` L ${target.x + target.width / 2} ${target.y}`;\n                    }\n                    enter.merge(connector).attr('d', path).style('display', 'block');\n                } else {\n                    const arrowPos = getArrowPos(arrowOrient, target, {\n                        x,\n                        y,\n                        boxHeight: node.offsetHeight,\n                        boxWidth: node.offsetWidth\n                    }, this._config);\n\n                    placeArrow(this, this._arrowOrientation, arrowPos);\n                    this._tooltipConnectorContainer.style('display', 'none');\n                }\n            }\n        }\n\n        const offset = this._offset || {\n            x: 0,\n            y: 0\n        };\n        this._tooltipContainer.style('left', `${offset.x + x}px`).style('top',\n            `${offset.y + y}px`);\n\n        return this;\n    }\n\n    /**\n     * Positions the tooltip relative to a rectangular box. It takes care of tooltip overflowing the\n     * boundaries.\n     * @param {Object} dim Dimensions of the plot.\n     */\n    positionRelativeTo (dim, tooltipConf = {}) {\n        let obj;\n        let orientation = tooltipConf.orientation;\n        this.show();\n        if (!dim) {\n            this.hide();\n            return this;\n        }\n\n        const extent = this._extent;\n        const node = this._tooltipContainer.node();\n\n        this._tooltipContainer.style('top', '0px')\n                        .style('left', '0px');\n        const offsetWidth = node.offsetWidth + 2;\n        const offsetHeight = node.offsetHeight + 2;\n        const config = this._config;\n        const offset = this._offset;\n        const arrowDisabled = config.arrow.disabled;\n        const arrowSize = arrowDisabled ? 0 : config.arrow.size;\n        const draw = tooltipConf.draw !== undefined ? tooltipConf.draw : true;\n        const topSpace = dim.y;\n        // When there is no space in right\n        const dimX = dim.x + dim.width + offset.x;\n        const rightSpace = extent.width - dimX;\n        const leftSpace = dim.x + offset.x - extent.x;\n        const positionTop = topSpace > (offsetHeight + arrowSize);\n        const positionRight = rightSpace >= offsetWidth + arrowSize;\n        const positionLeft = leftSpace >= offsetWidth + arrowSize;\n\n        const positionHorizontal = () => {\n            let position;\n            let x = dim.x + dim.width;\n            let y = dim.y;\n\n            if (positionRight) {\n                position = TOOLTIP_LEFT;\n                x += arrowSize;\n            } else if (positionLeft) {\n                x = dim.x - offsetWidth;\n                position = TOOLTIP_RIGHT;\n                x -= arrowSize;\n            } else {\n                position = 'left';\n                x += arrowSize;\n            }\n            if (dim.height < offsetHeight) {\n                y = Math.max(0, dim.y + dim.height / 2 - offsetHeight / 2);\n            }\n\n            const arrowPos = getArrowPos(position, dim, {\n                x,\n                y,\n                boxHeight: offsetHeight,\n                boxWidth: offsetWidth\n            }, this._config);\n\n            return {\n                position,\n                arrowPos,\n                x,\n                y\n            };\n        };\n\n        const positionVertical = () => {\n            let position;\n            let y;\n            // Position tooltip at the center of plot\n            let x = dim.x - offsetWidth / 2 + dim.width / 2;\n\n            // Overflows to the right\n            if ((extent.width - (dim.x + offset.x)) < offsetWidth) {\n                x = extent.width - offsetWidth - offset.x;\n            } else if ((x + offset.x) < extent.x) { // Overflows to the left\n                x = extent.x;\n            }\n\n            if (positionTop) {\n                y = dim.y - offsetHeight - arrowSize;\n                position = TOOLTIP_BOTTOM;\n            } else {\n                y = dim.y + dim.height + arrowSize;\n                position = TOOLTIP_TOP;\n            }\n\n            const arrowPos = getArrowPos(position, dim, {\n                x,\n                y,\n                boxHeight: offsetHeight,\n                boxWidth: offsetWidth\n            }, this._config);\n\n            return {\n                position,\n                arrowPos,\n                x,\n                y\n            };\n        };\n\n        this._target = dim;\n        if (!orientation) {\n            if (positionTop) {\n                orientation = 'vertical';\n            } else if (positionRight || positionLeft) {\n                orientation = 'horizontal';\n            } else {\n                orientation = 'vertical';\n            }\n        }\n\n        if (orientation === 'horizontal') {\n            obj = positionHorizontal();\n        } else if (orientation === 'vertical') {\n            obj = positionVertical();\n        }\n\n        this._position = {\n            x: obj.x,\n            y: obj.y\n        };\n\n        this._arrowPos = obj.arrowPos;\n        if (!arrowDisabled) {\n            placeArrow(this, obj.position, obj.arrowPos);\n        } else {\n            this._tooltipArrow.style('display', 'none');\n            this._tooltipBackground.style('display', 'none');\n        }\n        this._arrowOrientation = obj.position;\n        draw && this.position(obj.x, obj.y);\n        return this;\n    }\n\n    /**\n     * Hides the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    hide () {\n        this._tooltipContainer.style('display', 'none');\n        this._tooltipConnectorContainer.style('display', 'none');\n        return this;\n    }\n\n    /**\n     * Shows the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    show () {\n        this._tooltipContainer.style('display', 'block');\n        return this;\n    }\n\n    extent (extent) {\n        this._extent = extent;\n        return this;\n    }\n\n    offset (offset) {\n        this._offset = offset;\n        return this;\n    }\n\n    remove () {\n        this._tooltipContainer.remove();\n        this._tooltipBackground.remove();\n        this._tooltipConnectorContainer.remove();\n        return this;\n    }\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function(x) {\n  return x;\n}\n","export {default as bisect, bisectRight, bisectLeft} from \"./bisect\";\nexport {default as ascending} from \"./ascending\";\nexport {default as bisector} from \"./bisector\";\nexport {default as cross} from \"./cross\";\nexport {default as descending} from \"./descending\";\nexport {default as deviation} from \"./deviation\";\nexport {default as extent} from \"./extent\";\nexport {default as histogram} from \"./histogram\";\nexport {default as thresholdFreedmanDiaconis} from \"./threshold/freedmanDiaconis\";\nexport {default as thresholdScott} from \"./threshold/scott\";\nexport {default as thresholdSturges} from \"./threshold/sturges\";\nexport {default as max} from \"./max\";\nexport {default as mean} from \"./mean\";\nexport {default as median} from \"./median\";\nexport {default as merge} from \"./merge\";\nexport {default as min} from \"./min\";\nexport {default as pairs} from \"./pairs\";\nexport {default as permute} from \"./permute\";\nexport {default as quantile} from \"./quantile\";\nexport {default as range} from \"./range\";\nexport {default as scan} from \"./scan\";\nexport {default as shuffle} from \"./shuffle\";\nexport {default as sum} from \"./sum\";\nexport {default as ticks, tickIncrement, tickStep} from \"./ticks\";\nexport {default as transpose} from \"./transpose\";\nexport {default as variance} from \"./variance\";\nexport {default as zip} from \"./zip\";\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n","export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n","import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export {\n  axisTop,\n  axisRight,\n  axisBottom,\n  axisLeft\n} from \"./src/axis\";\n","export var slice = Array.prototype.slice;\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickTransform = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"))\n        .style('transform', tickTransform);\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.tickTransform = function(_) {\n    return arguments.length ? (tickTransform = _, axis) : tickTransform;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function(x) {\n  return x;\n}\n","export {default as nest} from \"./src/nest\";\nexport {default as set} from \"./src/set\";\nexport {default as map} from \"./src/map\";\nexport {default as keys} from \"./src/keys\";\nexport {default as values} from \"./src/values\";\nexport {default as entries} from \"./src/entries\";\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","export {default as color, rgb, hsl} from \"./color\";\nexport {default as lab, hcl, lch, gray} from \"./lab\";\nexport {default as cubehelix} from \"./cubehelix\";\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./dispatch\";\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","export {default as drag} from \"./drag\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag\";\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export {\n  linear as easeLinear\n} from \"./linear\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic\";\n","export function linear(t) {\n  return +t;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale\";\nexport {default as formatLocale} from \"./locale\";\nexport {default as formatSpecifier} from \"./formatSpecifier\";\nexport {default as precisionFixed} from \"./precisionFixed\";\nexport {default as precisionPrefix} from \"./precisionPrefix\";\nexport {default as precisionRound} from \"./precisionRound\";\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hue} from \"./color\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export {default as interpolate} from \"./value\";\nexport {default as interpolateArray} from \"./array\";\nexport {default as interpolateBasis} from \"./basis\";\nexport {default as interpolateBasisClosed} from \"./basisClosed\";\nexport {default as interpolateDate} from \"./date\";\nexport {default as interpolateDiscrete} from \"./discrete\";\nexport {default as interpolateHue} from \"./hue\";\nexport {default as interpolateNumber} from \"./number\";\nexport {default as interpolateObject} from \"./object\";\nexport {default as interpolateRound} from \"./round\";\nexport {default as interpolateString} from \"./string\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./transform/index\";\nexport {default as interpolateZoom} from \"./zoom\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./rgb\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./hsl\";\nexport {default as interpolateLab} from \"./lab\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./hcl\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./cubehelix\";\nexport {default as piecewise} from \"./piecewise\";\nexport {default as quantize} from \"./quantize\";\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export {default as path} from \"./path\";\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","import colors from \"../colors\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {default as schemeCategory10} from \"./categorical/category10\";\nexport {default as schemeAccent} from \"./categorical/Accent\";\nexport {default as schemeDark2} from \"./categorical/Dark2\";\nexport {default as schemePaired} from \"./categorical/Paired\";\nexport {default as schemePastel1} from \"./categorical/Pastel1\";\nexport {default as schemePastel2} from \"./categorical/Pastel2\";\nexport {default as schemeSet1} from \"./categorical/Set1\";\nexport {default as schemeSet2} from \"./categorical/Set2\";\nexport {default as schemeSet3} from \"./categorical/Set3\";\nexport {default as interpolateBrBG, scheme as schemeBrBG} from \"./diverging/BrBG\";\nexport {default as interpolatePRGn, scheme as schemePRGn} from \"./diverging/PRGn\";\nexport {default as interpolatePiYG, scheme as schemePiYG} from \"./diverging/PiYG\";\nexport {default as interpolatePuOr, scheme as schemePuOr} from \"./diverging/PuOr\";\nexport {default as interpolateRdBu, scheme as schemeRdBu} from \"./diverging/RdBu\";\nexport {default as interpolateRdGy, scheme as schemeRdGy} from \"./diverging/RdGy\";\nexport {default as interpolateRdYlBu, scheme as schemeRdYlBu} from \"./diverging/RdYlBu\";\nexport {default as interpolateRdYlGn, scheme as schemeRdYlGn} from \"./diverging/RdYlGn\";\nexport {default as interpolateSpectral, scheme as schemeSpectral} from \"./diverging/Spectral\";\nexport {default as interpolateBuGn, scheme as schemeBuGn} from \"./sequential-multi/BuGn\";\nexport {default as interpolateBuPu, scheme as schemeBuPu} from \"./sequential-multi/BuPu\";\nexport {default as interpolateGnBu, scheme as schemeGnBu} from \"./sequential-multi/GnBu\";\nexport {default as interpolateOrRd, scheme as schemeOrRd} from \"./sequential-multi/OrRd\";\nexport {default as interpolatePuBuGn, scheme as schemePuBuGn} from \"./sequential-multi/PuBuGn\";\nexport {default as interpolatePuBu, scheme as schemePuBu} from \"./sequential-multi/PuBu\";\nexport {default as interpolatePuRd, scheme as schemePuRd} from \"./sequential-multi/PuRd\";\nexport {default as interpolateRdPu, scheme as schemeRdPu} from \"./sequential-multi/RdPu\";\nexport {default as interpolateYlGnBu, scheme as schemeYlGnBu} from \"./sequential-multi/YlGnBu\";\nexport {default as interpolateYlGn, scheme as schemeYlGn} from \"./sequential-multi/YlGn\";\nexport {default as interpolateYlOrBr, scheme as schemeYlOrBr} from \"./sequential-multi/YlOrBr\";\nexport {default as interpolateYlOrRd, scheme as schemeYlOrRd} from \"./sequential-multi/YlOrRd\";\nexport {default as interpolateBlues, scheme as schemeBlues} from \"./sequential-single/Blues\";\nexport {default as interpolateGreens, scheme as schemeGreens} from \"./sequential-single/Greens\";\nexport {default as interpolateGreys, scheme as schemeGreys} from \"./sequential-single/Greys\";\nexport {default as interpolatePurples, scheme as schemePurples} from \"./sequential-single/Purples\";\nexport {default as interpolateReds, scheme as schemeReds} from \"./sequential-single/Reds\";\nexport {default as interpolateOranges, scheme as schemeOranges} from \"./sequential-single/Oranges\";\nexport {default as interpolateCubehelixDefault} from \"./sequential-multi/cubehelix\";\nexport {default as interpolateRainbow, warm as interpolateWarm, cool as interpolateCool} from \"./sequential-multi/rainbow\";\nexport {default as interpolateSinebow} from \"./sequential-multi/sinebow\";\nexport {default as interpolateViridis, magma as interpolateMagma, inferno as interpolateInferno, plasma as interpolatePlasma} from \"./sequential-multi/viridis\";\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","import colors from \"../colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {\n  default as scaleBand,\n  point as scalePoint\n} from \"./src/band\";\n\nexport {\n  default as scaleIdentity\n} from \"./src/identity\";\n\nexport {\n  default as scaleLinear\n} from \"./src/linear\";\n\nexport {\n  default as scaleLog\n} from \"./src/log\";\n\nexport {\n  default as scaleOrdinal,\n  implicit as scaleImplicit\n} from \"./src/ordinal\";\n\nexport {\n  default as scalePow,\n  sqrt as scaleSqrt\n} from \"./src/pow\";\n\nexport {\n  default as scaleQuantile\n} from \"./src/quantile\";\n\nexport {\n  default as scaleQuantize\n} from \"./src/quantize\";\n\nexport {\n  default as scaleThreshold\n} from \"./src/threshold\";\n\nexport {\n  default as scaleTime\n} from \"./src/time\";\n\nexport {\n  default as scaleUtc\n} from \"./src/utcTime\";\n\nexport {\n  default as schemeCategory10\n} from \"./src/category10\";\n\nexport {\n  default as schemeCategory20b\n} from \"./src/category20b\";\n\nexport {\n  default as schemeCategory20c\n} from \"./src/category20c\";\n\nexport {\n  default as schemeCategory20\n} from \"./src/category20\";\n\nexport {\n  default as interpolateCubehelixDefault\n} from \"./src/cubehelix\";\n\nexport {\n  default as interpolateRainbow,\n  warm as interpolateWarm,\n  cool as interpolateCool\n} from \"./src/rainbow\";\n\nexport {\n  default as interpolateViridis,\n  magma as interpolateMagma,\n  inferno as interpolateInferno,\n  plasma as interpolatePlasma\n} from \"./src/viridis\";\n\nexport {\n  default as scaleSequential\n} from \"./src/sequential\";\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  scale.invertExtent = function(r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1, a, b, t,\n        hiIndex;\n    values.push(values[n] + this.step());\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo));\n    hiIndex = getClosestIndexOf(values, hi);\n    b = lo===hi ? a : Math.max(a, hiIndex - 1);\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    if (reverse) t = a, a = n - b, b = n - t; // map + swap\n    return (a > b) ? undefined : domain().slice(a, b+1);\n  };\n\n  scale.invert = function (r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1,\n        a,\n        t;\n\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo, 'left'));\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    return domain()[reverse ? n - a : a];\n  }\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n\nfunction getClosestIndexOf (arr, value, side) {\n  var low = 0,\n      arrLen = arr.length,\n      high = arrLen - 1,\n      highVal,\n      mid,\n      d1,\n      d2;\n\n  while (low < high) {\n      mid = Math.floor((low + high) / 2);\n      d1 = Math.abs(arr[mid] - value);\n      d2 = Math.abs(arr[mid + 1] - value);\n\n      if (d2 <= d1) {\n          low = mid + 1;\n      }\n      else {\n          high = mid;\n      }\n  }\n\n  if (!side) {\n      return high;\n  }\n\n  highVal = arr[high];\n  if (highVal === value) {\n      return high;\n  } else if (highVal > value) {\n      if (high === 0) { return high; }\n      return side === 'left'? high - 1 : high;\n  } else {\n      if (high === arr.length - 1) { return high; }\n      return side === 'left'? high : high + 1;\n  }\n}","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","export default function(x) {\n  return +x;\n}\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  return !this.node();\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {lineRadial} from \"./lineRadial\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export {default as arc} from \"./arc\";\nexport {default as area} from \"./area\";\nexport {default as line} from \"./line\";\nexport {default as pie} from \"./pie\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial\";\nexport {linkHorizontal, linkVertical, linkRadial} from \"./link/index\";\n\nexport {default as symbol, symbols} from \"./symbol\";\nexport {default as symbolCircle} from \"./symbol/circle\";\nexport {default as symbolCross} from \"./symbol/cross\";\nexport {default as symbolDiamond} from \"./symbol/diamond\";\nexport {default as symbolSquare} from \"./symbol/square\";\nexport {default as symbolStar} from \"./symbol/star\";\nexport {default as symbolTriangle} from \"./symbol/triangle\";\nexport {default as symbolWye} from \"./symbol/wye\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen\";\nexport {default as curveBasis} from \"./curve/basis\";\nexport {default as curveBundle} from \"./curve/bundle\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen\";\nexport {default as curveCardinal} from \"./curve/cardinal\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed\";\nexport {default as curveLinear} from \"./curve/linear\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone\";\nexport {default as curveNatural} from \"./curve/natural\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step\";\n\nexport {default as stack} from \"./stack\";\nexport {default as stackOffsetExpand} from \"./offset/expand\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging\";\nexport {default as stackOffsetNone} from \"./offset/none\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle\";\nexport {default as stackOrderAppearance} from \"./order/appearance\";\nexport {default as stackOrderAscending} from \"./order/ascending\";\nexport {default as stackOrderDescending} from \"./order/descending\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut\";\nexport {default as stackOrderNone} from \"./order/none\";\nexport {default as stackOrderReverse} from \"./order/reverse\";\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array\";\nimport constant from \"../constant\";\nimport {x as pointX, y as pointY} from \"../point\";\nimport pointRadial from \"../pointRadial\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","export default function() {}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export {default as timeFormatDefaultLocale, timeFormat, timeParse, utcFormat, utcParse} from \"./defaultLocale\";\nexport {default as timeFormatLocale} from \"./locale\";\nexport {default as isoFormat} from \"./isoFormat\";\nexport {default as isoParse} from \"./isoParse\";\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","export {\n  default as timeInterval\n} from \"./interval\";\n\nexport {\n  default as timeMillisecond,\n  milliseconds as timeMilliseconds,\n  default as utcMillisecond,\n  milliseconds as utcMilliseconds\n} from \"./millisecond\";\n\nexport {\n  default as timeSecond,\n  seconds as timeSeconds,\n  default as utcSecond,\n  seconds as utcSeconds\n} from \"./second\";\n\nexport {\n  default as timeMinute,\n  minutes as timeMinutes\n} from \"./minute\";\n\nexport {\n  default as timeHour,\n  hours as timeHours\n} from \"./hour\";\n\nexport {\n  default as timeDay,\n  days as timeDays\n} from \"./day\";\n\nexport {\n  sunday as timeWeek,\n  sundays as timeWeeks,\n  sunday as timeSunday,\n  sundays as timeSundays,\n  monday as timeMonday,\n  mondays as timeMondays,\n  tuesday as timeTuesday,\n  tuesdays as timeTuesdays,\n  wednesday as timeWednesday,\n  wednesdays as timeWednesdays,\n  thursday as timeThursday,\n  thursdays as timeThursdays,\n  friday as timeFriday,\n  fridays as timeFridays,\n  saturday as timeSaturday,\n  saturdays as timeSaturdays\n} from \"./week\";\n\nexport {\n  default as timeMonth,\n  months as timeMonths\n} from \"./month\";\n\nexport {\n  default as timeYear,\n  years as timeYears\n} from \"./year\";\n\nexport {\n  default as utcMinute,\n  utcMinutes as utcMinutes\n} from \"./utcMinute\";\n\nexport {\n  default as utcHour,\n  utcHours as utcHours\n} from \"./utcHour\";\n\nexport {\n  default as utcDay,\n  utcDays as utcDays\n} from \"./utcDay\";\n\nexport {\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday as utcSunday,\n  utcSundays as utcSundays,\n  utcMonday as utcMonday,\n  utcMondays as utcMondays,\n  utcTuesday as utcTuesday,\n  utcTuesdays as utcTuesdays,\n  utcWednesday as utcWednesday,\n  utcWednesdays as utcWednesdays,\n  utcThursday as utcThursday,\n  utcThursdays as utcThursdays,\n  utcFriday as utcFriday,\n  utcFridays as utcFridays,\n  utcSaturday as utcSaturday,\n  utcSaturdays as utcSaturdays\n} from \"./utcWeek\";\n\nexport {\n  default as utcMonth,\n  utcMonths as utcMonths\n} from \"./utcMonth\";\n\nexport {\n  default as utcYear,\n  utcYears as utcYears\n} from \"./utcYear\";\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationSecond} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer\";\n\nexport {\n  default as timeout\n} from \"./timeout\";\n\nexport {\n  default as interval\n} from \"./interval\";\n","import {Timer, now} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import \"./selection/index\";\nexport {default as transition} from \"./transition/index\";\nexport {default as active} from \"./active\";\nexport {default as interrupt} from \"./interrupt\";\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export {default as voronoi} from \"./voronoi\";\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar _containerManager = require('./container-manager');\n\nvar _containerManager2 = _interopRequireDefault(_containerManager);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    M = slLib.win.Math,\n    max = M.max,\n    round = M.round,\n    BLANK = '',\n    htmlSplCharSpace = { ' ': '&nbsp;' },\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\n/*\n * Create new instance of SmartLabelManager.\n *\n * SmartLabelManager controls the lifetime of the execution space where the text's metrics will be calculated.\n * This takes a string for a given style and returns the height, width.\n * If a bound box is defined it wraps the text and returns the wrapped height and width.\n * It allows to append ellipsis at the end if the text is truncated.\n *\n * @param {String | Number} id - Id of the instance. If the same id is passed, it disposes the old instance and\n *                              save the new one;\n * @param {String | HTMLElement} container - The id or the instance of the container where the intermediate dom\n *                              elements are to be attached. If not passed, it appends in div\n *\n * @param {Boolean} useEllipses - This decides if a ellipses to be appended if the text is truncated.\n * @param {Object} options - Control options\n *                          {\n *                              maxCacheLimit: No of letter to be cached. Default: 500.\n *                          }\n * @constructor\n */\nfunction SmartLabelManager(id, container, useEllipses, options) {\n    var wrapper,\n        prop,\n        max,\n        prevInstance,\n        isBrowserLess = false,\n        store = SmartLabelManager.store;\n\n    if (typeof id === 'undefined' || typeof id === 'object') {\n        return;\n    }\n\n    if (prevInstance = store[id]) {\n        prevInstance.dispose();\n    }\n\n    store[id] = this;\n    options = options || {};\n    options.maxCacheLimit = isFinite(max = options.maxCacheLimit) ? max : slLib.maxDefaultCacheLimit;\n\n    if (typeof container === 'string') {\n        container = doc.getElementById(container);\n    }\n\n    wrapper = slLib.createContainer(container);\n    wrapper.innerHTML = slLib.testStrAvg;\n\n    if (documentSupport.isHeadLess || !documentSupport.isIE && !wrapper.offsetHeight && !wrapper.offsetWidth) {\n        isBrowserLess = true;\n    }\n\n    wrapper.innerHTML = '';\n    for (prop in slLib.parentContainerStyle) {\n        wrapper.style[prop] = slLib.parentContainerStyle[prop];\n    }\n\n    this.id = id;\n    this.parentContainer = wrapper;\n\n    this._containerManager = new _containerManager2['default'](wrapper, isBrowserLess, 10);\n    this._showNoEllipses = !useEllipses;\n    this._init = true;\n    this.style = {};\n    this.options = options;\n\n    this.setStyle();\n}\n\n/*\n * getSmartText returns the text separated by <br/> whenever a break is necessary. This is to recgonize one\n * generalized format independent of the implementation (canvas based solution, svg based solution). This method\n * converts the output of getSmartText().text to array of lines if the text is wrapped. It sets a named property\n * `lines` on the object passed as parameter.\n *\n * @param {Object} smartlabel - the object returned by getSmartText based on which line arr which to be formed.\n *\n * @return {Object} - The same object which was passed in the arguments. Also a named property `lines` is set.\n */\nSmartLabelManager.textToLines = function (smartlabel) {\n    smartlabel = smartlabel || {};\n\n    if (!smartlabel.text) {\n        smartlabel.text = '';\n    } else if (typeof smartlabel.text !== 'string') {\n        smartlabel.text = smartlabel.text.toString();\n    }\n\n    smartlabel.lines = smartlabel.text.split(/\\n|<br\\s*?\\/?>/ig);\n    return smartlabel;\n};\n\n// Saves all the instance created so far\nSmartLabelManager.store = {};\n\n// Calculates space taken by a character with an approximation value which is calculated by repeating the\n// character by string length times.\nSmartLabelManager.prototype._calCharDimWithCache = function (text, calculateDifference, length) {\n    if (!this._init) {\n        return false;\n    }\n\n    var size,\n        csArr,\n        tw,\n        twi,\n        cachedStyle,\n        asymmetricDifference,\n        maxAdvancedCacheLimit = this.options.maxCacheLimit,\n        container = this._container,\n        style = this.style || {},\n        cache = this._advancedCache || (this._advancedCache = {}),\n        advancedCacheKey = this._advancedCacheKey || (this._advancedCacheKey = []),\n        cacheName = text + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK),\n        cacheInitName = text + 'init' + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK);\n\n    htmlSplCharSpace[text] && (text = htmlSplCharSpace[text]);\n\n    if (!calculateDifference) {\n        asymmetricDifference = 0;\n    } else {\n        if ((asymmetricDifference = cache[cacheInitName]) === undefined) {\n            container.innerHTML = text.repeat ? text.repeat(length) : Array(length + 1).join(text); // jshint ignore:line\n            tw = container.offsetWidth;\n\n            container.innerHTML = text;\n            twi = container.offsetWidth;\n\n            asymmetricDifference = cache[cacheInitName] = (tw - length * twi) / (length + 1);\n            advancedCacheKey.push(cacheInitName);\n            if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n                delete cache[advancedCacheKey.shift()];\n            }\n        }\n    }\n\n    if (cachedStyle = cache[cacheName]) {\n        csArr = cachedStyle.split(',');\n        return {\n            width: parseFloat(csArr[0], 10),\n            height: parseFloat(csArr[1], 10)\n        };\n    }\n\n    container.innerHTML = text;\n\n    size = {\n        height: container.offsetHeight,\n        width: container.offsetWidth + asymmetricDifference\n    };\n\n    cache[cacheName] = size.width + ',' + size.height;\n    advancedCacheKey.push(cacheName);\n    if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n        delete cache[advancedCacheKey.shift()];\n    }\n\n    return size;\n};\n\n// Provide function to calculate the height and width based on the environment and available support from dom.\nSmartLabelManager.prototype._getWidthFn = function () {\n    var contObj = this._containerObj,\n        container = this._container,\n        svgText = contObj.svgText;\n\n    if (svgText) {\n        return function (str) {\n            var bbox, width;\n\n            svgText.textContent = str;\n            bbox = svgText.getBBox();\n            width = bbox.width - SVG_BBOX_CORRECTION;\n            if (width < 1) {\n                width = bbox.width;\n            }\n\n            return width;\n        };\n    } else {\n        return function (str) {\n            container.innerHTML = str;\n            return container.offsetWidth;\n        };\n    }\n};\n\n/*\n * Sets the style based on which the text's metrics to be calculated.\n *\n * @param {Object} style - The style object which affects the text size\n *                      {\n *                          fontSize / 'font-size' : MUST BE FOLLOWED BY PX (10px, 11px)\n *                          fontFamily / 'font-family'\n *                          fontWeight / 'font-weight'\n *                          fontStyle / 'font-style'\n *                      }\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.setStyle = function (style) {\n    if (!this._init) {\n        return this;\n    }\n\n    var sCont;\n\n    if (style === this.style && !this._styleNotSet) {\n        return;\n    }\n\n    if (!style) {\n        style = this.style;\n    }\n\n    slLib.setLineHeight(style);\n    this.style = style;\n\n    this._containerObj = sCont = this._containerManager.get(style);\n\n    if (this._containerObj) {\n        this._container = sCont.node;\n        this._context = sCont.context;\n        this._cache = sCont.charCache;\n        this._lineHeight = sCont.lineHeight;\n        this._styleNotSet = false;\n    } else {\n        this._styleNotSet = true;\n    }\n\n    return this;\n};\n\n/*\n * Decides whether ellipses to be shown if the node is truncated\n *\n * @param {Boolean} useEllipses - decides if a ellipses to be appended if the text is truncated. Default: false\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.useEllipsesOnOverflow = function (useEllipses) {\n    if (!this._init) {\n        return this;\n    }\n    this._showNoEllipses = !useEllipses;\n    return this;\n};\n\n/*\n * Get wrapped or truncated text if a bound box is defined around it. The result text would be separated by <br/>\n * if wrapped\n *\n * @param {String} text - the subject text\n * @param {Number} maxWidth - width in px of the the bound box\n * @param {Number} maxHeight - height in px of the the bound box\n * @param {Boolean} noWrap - whether the text to be wrapped. Default false.\n *\n * @return {Object} - The metrics of the text bounded by the box\n *                  {\n *                      height : height of the wrapped text\n *                      width : width of the wrapped text\n *                      isTruncated : whether the text is truncated\n *                      maxHeight : Maximum height given\n *                      maxWidth : Maximum width given\n *                      oriText : Original text sent\n *                      oriTextHeight : Original text height\n *                      oriTextWidth : Original text width\n *                      text : SMART TEXT\n *                  }\n */\nSmartLabelManager.prototype.getSmartText = function (text, maxWidth, maxHeight, noWrap) {\n    if (!this._init) {\n        return false;\n    }\n\n    if (text === undefined || text === null) {\n        text = '';\n    } else if (typeof text !== 'string') {\n        text = text.toString();\n    }\n\n    var len,\n        trimStr,\n        tempArr,\n        tmpText,\n        maxWidthWithEll,\n        toolText,\n        oriWidth,\n        oriHeight,\n        newCharIndex,\n        nearestChar,\n        tempChar,\n        getWidth,\n        initialLeft,\n        initialTop,\n        getOriSizeImproveObj,\n        spanArr,\n        x,\n        y,\n        minWidth,\n        elem,\n        chr,\n        elemRightMostPoint,\n        elemLowestPoint,\n        lastBR,\n        removeFromIndex,\n        removeFromIndexForEllipses,\n        hasHTMLTag = false,\n        maxStrWidth = 0,\n        lastDash = -1,\n        lastSpace = -1,\n        lastIndexBroken = -1,\n        strWidth = 0,\n        strHeight = 0,\n        oriTextArr = [],\n        i = 0,\n        ellipsesStr = this._showNoEllipses ? '' : '...',\n        lineHeight = this._lineHeight,\n        context = this._context,\n        container = this._container,\n        sCont = this._containerObj,\n        ellipsesWidth = sCont.ellipsesWidth,\n        dotWidth = sCont.dotWidth,\n        characterArr = [],\n        dashIndex = -1,\n        spaceIndex = -1,\n        lastLineBreak = -1,\n        fastTrim = function fastTrim(str) {\n        str = str.replace(/^\\s\\s*/, '');\n        var ws = /\\s/,\n            i = str.length;\n        while (ws.test(str.charAt(i -= 1))) {/* jshint noempty:false */}\n        return str.slice(0, i + 1);\n    },\n        smartLabel = {\n        text: text,\n        maxWidth: maxWidth,\n        maxHeight: maxHeight,\n        width: null,\n        height: null,\n        oriTextWidth: null,\n        oriTextHeight: null,\n        oriText: text,\n        isTruncated: false\n    };\n\n    getWidth = this._getWidthFn();\n\n    // In some browsers, offsetheight of a single-line text is getting little (1 px) heigher value of the\n    // lineheight. As a result, smartLabel is unable to return single-line text.\n    // To fix this, increase the maxHeight a little amount. Hence maxHeight =  lineHeight * 1.2\n    if (maxHeight === lineHeight) {\n        maxHeight *= 1.2;\n    }\n\n    if (container) {\n        if (!documentSupport.isBrowserLess) {\n            hasHTMLTag = slLib.xmlTagRegEx.test(text);\n            if (!hasHTMLTag) {\n                // Due to support of <,> for xml we convert &lt;, &gt; to <,> respectively so to get the correct\n                // width it is required to convert the same before calculation for the new improve version of the\n                // get text width.\n                tmpText = text.replace(slLib.ltgtRegex, function (match) {\n                    return match === '&lt;' ? '<' : '>';\n                });\n                getOriSizeImproveObj = this.getOriSize(tmpText, true);\n\n                smartLabel.oriTextWidth = oriWidth = getOriSizeImproveObj.width;\n                smartLabel.oriTextHeight = oriHeight = getOriSizeImproveObj.height;\n            } else {\n                container.innerHTML = text;\n                smartLabel.oriTextWidth = oriWidth = container.offsetWidth;\n                smartLabel.oriTextHeight = oriHeight = container.offsetHeight;\n            }\n\n            if (oriHeight <= maxHeight && oriWidth <= maxWidth) {\n                smartLabel.width = smartLabel.oriTextWidth = oriWidth;\n                smartLabel.height = smartLabel.oriTextHeight = oriHeight;\n                return smartLabel;\n            }\n\n            if (lineHeight > maxHeight) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = 0;\n                smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            }\n        }\n\n        // Calculate width with ellipses\n        text = fastTrim(text).replace(/(\\s+)/g, ' ');\n        maxWidthWithEll = this._showNoEllipses ? maxWidth : maxWidth - ellipsesWidth;\n\n        if (!hasHTMLTag) {\n            oriTextArr = text.split('');\n            len = oriTextArr.length;\n            trimStr = '', tempArr = [];\n            tempChar = oriTextArr[0];\n\n            if (this._cache[tempChar]) {\n                minWidth = this._cache[tempChar].width;\n            } else {\n                minWidth = getWidth(tempChar);\n                this._cache[tempChar] = { width: minWidth };\n            }\n\n            if (maxWidthWithEll > minWidth) {\n                tempArr = text.substr(0, slLib.getNearestBreakIndex(text, maxWidthWithEll, this)).split('');\n                i = tempArr.length;\n            } else if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            } else if (ellipsesStr) {\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            strWidth = getWidth(tempArr.join(''));\n            strHeight = this._lineHeight;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                            smartLabel.tooltext = smartLabel.oriText;\n                            smartLabel.width = getWidth(smartLabel.text);\n                            smartLabel.height = this._lineHeight;\n                            return smartLabel;\n                        }\n                    }\n                }\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = strWidth;\n                smartLabel.height = this._lineHeight;\n                return smartLabel;\n            } else {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (tempChar === ' ' && !context) {\n                        tempChar = '&nbsp;';\n                    }\n\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            /** @todo use regular expressions for better performance. */\n                            lastSpace = text.substr(0, tempArr.length).lastIndexOf(' ');\n                            lastDash = text.substr(0, tempArr.length).lastIndexOf('-');\n                            if (lastSpace > lastIndexBroken) {\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                tempArr.splice(lastSpace, 1, '<br/>');\n                                lastIndexBroken = lastSpace;\n                                newCharIndex = lastSpace + 1;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === tempArr.length - 1) {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '<br/>-');\n                                } else {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '-<br/>');\n                                }\n                                lastIndexBroken = lastDash;\n                                newCharIndex = lastDash + 1;\n                            } else {\n                                tempArr.splice(tempArr.length - 1, 1, '<br/>' + oriTextArr[i]);\n                                lastLineBreak = tempArr.length - 2;\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastLineBreak + 1).join(''));\n                                lastIndexBroken = lastLineBreak;\n                                newCharIndex = i;\n                            }\n                            strHeight += this._lineHeight;\n                            if (strHeight > maxHeight) {\n                                smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                                smartLabel.tooltext = smartLabel.oriText;\n                                // The max width among all the lines will be the width of the string.\n                                smartLabel.width = maxWidth;\n                                smartLabel.height = strHeight - this._lineHeight;\n                                return smartLabel;\n                            } else {\n                                maxStrWidth = max(maxStrWidth, strWidth);\n                                trimStr = null;\n                                nearestChar = slLib.getNearestBreakIndex(text.substr(newCharIndex), maxWidthWithEll, this);\n                                strWidth = getWidth(text.substr(newCharIndex, nearestChar || 1));\n                                if (tempArr.length < newCharIndex + nearestChar) {\n                                    tempArr = tempArr.concat(text.substr(tempArr.length, newCharIndex + nearestChar - tempArr.length).split(''));\n                                    i = tempArr.length - 1;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                maxStrWidth = max(maxStrWidth, strWidth);\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = maxStrWidth;\n                smartLabel.height = strHeight;\n                return smartLabel;\n            }\n        } else {\n            toolText = text.replace(slLib.spanAdditionRegx, '$2');\n            text = text.replace(slLib.spanAdditionRegx, slLib.spanAdditionReplacer);\n            text = text.replace(/(<br\\s*\\/*\\>)/g, '<span class=\"' + [slLib.classNameWithTag, ' ', slLib.classNameWithTagBR].join('') + '\">$1</span>');\n\n            container.innerHTML = text;\n\n            spanArr = container[documentSupport.childRetriverFn](documentSupport.childRetriverString);\n\n            for (x = 0, y = spanArr.length; x < y; x += 1) {\n                elem = spanArr[x];\n                //chech whether this span is temporary inserted span from it's class\n                if (documentSupport.noClassTesting || slLib.classNameReg.test(elem.className)) {\n                    chr = elem.innerHTML;\n                    if (chr !== '') {\n                        if (chr === ' ') {\n                            spaceIndex = characterArr.length;\n                        } else if (chr === '-') {\n                            dashIndex = characterArr.length;\n                        }\n\n                        characterArr.push({\n                            spaceIdx: spaceIndex,\n                            dashIdx: dashIndex,\n                            elem: elem\n                        });\n                        oriTextArr.push(chr);\n                    }\n                }\n            }\n\n            i = 0;\n            len = characterArr.length;\n            minWidth = characterArr[0].elem.offsetWidth;\n\n            if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n\n                return smartLabel;\n            } else if (minWidth > maxWidthWithEll && !this._showNoEllipses) {\n\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            initialLeft = characterArr[0].elem.offsetLeft;\n            initialTop = characterArr[0].elem.offsetTop;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n                        if (container.offsetWidth > maxWidth) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            } else {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemLowestPoint = elem.offsetHeight + (elem.offsetTop - initialTop);\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    lastBR = null;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n\n                        if (elemRightMostPoint > maxWidth) {\n                            lastSpace = characterArr[i].spaceIdx;\n                            lastDash = characterArr[i].dashIdx;\n                            if (lastSpace > lastIndexBroken) {\n                                characterArr[lastSpace].elem.innerHTML = '<br/>';\n                                lastIndexBroken = lastSpace;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === i) {\n                                    // in case the overflowing character itself is the '-'\n                                    characterArr[lastDash].elem.innerHTML = '<br/>-';\n                                } else {\n                                    characterArr[lastDash].elem.innerHTML = '-<br/>';\n                                }\n                                lastIndexBroken = lastDash;\n                            } else {\n                                elem.parentNode.insertBefore(lastBR = doc.createElement('br'), elem);\n                            }\n\n                            //check whether this break made current element outside the area height\n                            if (elem.offsetHeight + elem.offsetTop > maxHeight) {\n                                //remove the lastly inserted line break\n                                if (lastBR) {\n                                    lastBR.parentNode.removeChild(lastBR);\n                                } else if (lastIndexBroken === lastDash) {\n                                    characterArr[lastDash].elem.innerHTML = '-';\n                                } else {\n                                    characterArr[lastSpace].elem.innerHTML = ' ';\n                                }\n                                removeFromIndex = i;\n                                //break the looping condition\n                                i = len;\n                            } else {\n                                removeFromIndexForEllipses = null;\n                            }\n                        }\n                    } else {\n                        //check whether this break made current element outside the area height\n                        if (elemLowestPoint > maxHeight) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            }\n\n            if (removeFromIndex < len) {\n                //set the trancated property of the smartlabel\n                smartLabel.isTruncated = true;\n\n                /** @todo is this really needed? */\n                removeFromIndexForEllipses = removeFromIndexForEllipses ? removeFromIndexForEllipses : removeFromIndex;\n\n                for (i = len - 1; i >= removeFromIndexForEllipses; i -= 1) {\n                    elem = characterArr[i].elem;\n                    //chech whether this span is temporary inserted span from it's class\n                    elem.parentNode.removeChild(elem);\n                }\n\n                for (; i >= 0; i -= 1) {\n                    elem = characterArr[i].elem;\n                    if (slLib.classNameBrReg.test(elem.className)) {\n                        //chech whether this span is temporary inserted span from it's class\n                        elem.parentNode.removeChild(elem);\n                    } else {\n                        i = 0;\n                    }\n                }\n            }\n\n            //get the smart text\n            smartLabel.text = container.innerHTML.replace(slLib.spanRemovalRegx, '$1').replace(/\\&amp\\;/g, '&');\n            if (smartLabel.isTruncated) {\n                smartLabel.text += ellipsesStr;\n                smartLabel.tooltext = toolText;\n            }\n        }\n\n        smartLabel.height = container.offsetHeight;\n        smartLabel.width = container.offsetWidth;\n\n        return smartLabel;\n    } else {\n        smartLabel.error = new Error('Body Tag Missing!');\n        return smartLabel;\n    }\n};\n\n/*\n * Get the height and width of a text.\n *\n * @param {String} text - Text whose metrics to be measured\n * @param {Boolean} Optional detailedCalculationFlag - this flag if set it calculates per letter position\n *                          information and returns it. Ideally you dont need it unless you want to post process the\n *                          string. And its an EXPENSIVE OPERATION.\n *\n * @return {Object} - If detailedCalculationFlag is set to true the returned object would be\n *                  {\n *                      height: height of the text\n *                      width: width of the text\n *                      detailObj: detail calculation of letters in the format {lettername: width}\n *                  }\n *                  If detailedCalculationFlag is set to false the returned object wont have the detailObj prop.\n */\nSmartLabelManager.prototype.getOriSize = function (text, detailedCalculationFlag) {\n    if (!this._init) {\n        return false;\n    }\n\n    var textArr,\n        letter,\n        lSize,\n        i,\n        l,\n        cumulativeSize = 0,\n        height = 0,\n        indiSizeStore = {};\n\n    if (!detailedCalculationFlag) {\n        return this._calCharDimWithCache(text);\n    }\n\n    // Calculate the width of every letter with an approximation\n    textArr = text.split('');\n    for (i = 0, l = textArr.length; i < l; i++) {\n        letter = textArr[i];\n        lSize = this._calCharDimWithCache(letter, true, textArr.length);\n        height = max(height, lSize.height);\n        cumulativeSize += lSize.width;\n        indiSizeStore[letter] = lSize.width;\n    }\n\n    return {\n        width: round(cumulativeSize),\n        height: height,\n        detailObj: indiSizeStore\n    };\n};\n\n/*\n * Dispose the container and object allocated by the smartlabel\n */\nSmartLabelManager.prototype.dispose = function () {\n    if (!this._init) {\n        return this;\n    }\n\n    this._containerManager && this._containerManager.dispose && this._containerManager.dispose();\n\n    delete this._container;\n    delete this._context;\n    delete this._cache;\n    delete this._containerManager;\n    delete this._containerObj;\n    delete this.id;\n    delete this.style;\n    delete this.parentContainer;\n    delete this._showNoEllipses;\n\n    return this;\n};\n\nexports['default'] = SmartLabelManager;\nmodule.exports = exports['default'];","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\nfunction ContainerManager(parentContainer, isBrowserLess, maxContainers) {\n    var svg;\n\n    maxContainers = maxContainers > 5 ? maxContainers : 5;\n    maxContainers = maxContainers < 20 ? maxContainers : 20;\n\n    this.maxContainers = maxContainers;\n    this.first = null;\n    this.last = null;\n    this.containers = {};\n    this.length = 0;\n    this.rootNode = parentContainer;\n\n    if (isBrowserLess) {\n        svg = doc.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'xlink', 'http://www.w3.org/1999/xlink');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'height', '0');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'width', '0');\n        this.svgRoot = svg;\n        this.rootNode.appendChild(svg);\n    }\n}\n\nContainerManager.prototype.get = function (style) {\n    var diff,\n        key,\n        containerObj,\n        containers = this.containers,\n        len = this.length,\n        max = this.maxContainers,\n        keyStr = '';\n\n    for (key in slLib.supportedStyle) {\n        if (style[key] !== undefined) {\n            keyStr += slLib.supportedStyle[key] + ':' + style[key] + ';';\n        }\n    }\n\n    if (!keyStr) {\n        return false;\n    }\n\n    if (containerObj = containers[keyStr]) {\n        if (this.first !== containerObj) {\n            containerObj.prev && (containerObj.prev.next = containerObj.next);\n            containerObj.next && (containerObj.next.prev = containerObj.prev);\n            containerObj.next = this.first;\n            containerObj.next.prev = containerObj;\n            this.last === containerObj && (this.last = containerObj.prev);\n            containerObj.prev = null;\n            this.first = containerObj;\n        }\n    } else {\n        if (len >= max) {\n            diff = len - max + 1;\n            // +1 is to remove an extra entry to make space for the new container to be added.\n            while (diff--) {\n                this.removeContainer(this.last);\n            }\n        }\n        containerObj = this.addContainer(keyStr);\n    }\n\n    return containerObj;\n};\n\nContainerManager.prototype.addContainer = function (keyStr) {\n    var node, container;\n\n    this.containers[keyStr] = container = {\n        next: null,\n        prev: null,\n        node: null,\n        ellipsesWidth: 0,\n        lineHeight: 0,\n        dotWidth: 0,\n        avgCharWidth: 4,\n        keyStr: keyStr,\n        charCache: {}\n    };\n\n    // Since the container objects are arranged from most recent to least recent order, we need to add the new\n    // object at the beginning of the list.\n    container.next = this.first;\n    container.next && (container.next.prev = container);\n    this.first = container;\n    if (!this.last) {\n        this.last = container;\n    }\n    this.length += 1;\n\n    node = container.node = doc.createElement('div');\n    this.rootNode.appendChild(node);\n\n    if (documentSupport.isIE && !documentSupport.hasSVG) {\n        node.style.setAttribute('cssText', keyStr);\n    } else {\n        node.setAttribute('style', keyStr);\n    }\n\n    node.setAttribute('aria-hidden', 'true');\n    node.setAttribute('role', 'presentation');\n    node.style.display = 'inline-block';\n\n    node.innerHTML = slLib.testStrAvg; // A test string.\n    container.lineHeight = node.offsetHeight;\n    container.avgCharWidth = node.offsetWidth / 3;\n\n    if (documentSupport.isBrowserLess) {\n        node = container.svgText = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n        node.setAttribute('style', keyStr);\n        this.svgRoot.appendChild(node);\n\n        node.textContent = slLib.testStrAvg; // A test string.\n        container.lineHeight = node.getBBox().height;\n        container.avgCharWidth = (node.getBBox().width - SVG_BBOX_CORRECTION) / 3;\n\n        node.textContent = '...';\n        container.ellipsesWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n        node.textContent = '.';\n        container.dotWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n    } else {\n        node.innerHTML = '...';\n        container.ellipsesWidth = node.offsetWidth;\n        node.innerHTML = '.';\n        container.dotWidth = node.offsetWidth;\n        node.innerHTML = '';\n    }\n\n    return container;\n};\n\nContainerManager.prototype.removeContainer = function (cObj) {\n    var keyStr = cObj.keyStr;\n\n    if (!keyStr || !this.length || !cObj) {\n        return;\n    }\n    this.length -= 1;\n\n    cObj.prev && (cObj.prev.next = cObj.next);\n    cObj.next && (cObj.next.prev = cObj.prev);\n    this.first === cObj && (this.first = cObj.next);\n    this.last === cObj && (this.last = cObj.prev);\n\n    cObj.node.parentNode.removeChild(cObj.node);\n\n    delete this.containers[keyStr];\n};\n\nContainerManager.prototype.dispose = function () {\n    var key,\n        containers = this.containers;\n\n    this.maxContainers = null;\n    for (key in containers) {\n        this.removeContainer(containers[key]);\n    }\n\n    this.rootNode.parentNode.removeChild(this.rootNode);\n\n    this.rootNode = null;\n    this.first = null;\n    this.last = null;\n};\n\nmodule.exports = ContainerManager;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nvar lib = {\n\tinit: function init(win) {\n\t\tvar doc = win.document,\n\t\t    nav = win.navigator,\n\t\t    userAgent = nav.userAgent,\n\t\t    DIV = 'DIV',\n\t\t    ceil = Math.ceil,\n\t\t    floor = Math.floor,\n\t\t    containerInstanceCount = 0,\n\t\t    clsNameSpace = 'fusioncharts-smartlabel-',\n\t\t    containerClass = clsNameSpace + 'container',\n\t\t    classNameWithTag = clsNameSpace + 'tag',\n\t\t    classNameWithTagBR = clsNameSpace + 'br';\n\n\t\tlib = {\n\t\t\twin: win,\n\n\t\t\tcontainerClass: containerClass,\n\n\t\t\tclassNameWithTag: classNameWithTag,\n\n\t\t\tclassNameWithTagBR: classNameWithTagBR,\n\n\t\t\tmaxDefaultCacheLimit: 500,\n\n\t\t\tclassNameReg: new RegExp('\\b' + classNameWithTag + '\\b'),\n\n\t\t\tclassNameBrReg: new RegExp('\\b' + classNameWithTagBR + '\\b'),\n\n\t\t\tspanAdditionRegx: /(<[^<\\>]+?\\>)|(&(?:[a-z]+|#[0-9]+);|.)/ig,\n\n\t\t\tspanAdditionReplacer: '$1<span class=\"' + classNameWithTag + '\">$2</span>',\n\n\t\t\tspanRemovalRegx: new RegExp('\\\\<span[^\\\\>]+?' + classNameWithTag + '[^\\\\>]{0,}\\\\>(.*?)\\\\<\\\\/span\\\\>', 'ig'),\n\n\t\t\txmlTagRegEx: new RegExp('<[^>][^<]*[^>]+>', 'i'),\n\n\t\t\tltgtRegex: /&lt;|&gt;/g,\n\n\t\t\tbrReplaceRegex: /<br\\/>/ig,\n\n\t\t\ttestStrAvg: 'WgI',\n\n\t\t\t// This style is applied over the parent smartlabel container. The container is kept hidden from the viewport\n\t\t\tparentContainerStyle: {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '-9999em',\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\tpadding: '0px',\n\t\t\t\twidth: '1px',\n\t\t\t\theight: '1px',\n\t\t\t\toverflow: 'hidden'\n\t\t\t},\n\n\t\t\t// All the style which might affect the text metrics\n\t\t\tsupportedStyle: {\n\t\t\t\tfont: 'font',\n\t\t\t\tfontFamily: 'font-family',\n\t\t\t\t'font-family': 'font-family',\n\t\t\t\tfontWeight: 'font-weight',\n\t\t\t\t'font-weight': 'font-weight',\n\t\t\t\tfontSize: 'font-size',\n\t\t\t\t'font-size': 'font-size',\n\t\t\t\tlineHeight: 'line-height',\n\t\t\t\t'line-height': 'line-height',\n\t\t\t\tfontStyle: 'font-style',\n\t\t\t\t'font-style': 'font-style'\n\t\t\t},\n\n\t\t\t// Get the support list for html the document where the text calcution is to be done.\n\t\t\tgetDocumentSupport: function getDocumentSupport() {\n\t\t\t\tvar childRetriverFn, childRetriverString, noClassTesting;\n\n\t\t\t\tif (doc.getElementsByClassName) {\n\t\t\t\t\tchildRetriverFn = 'getElementsByClassName';\n\t\t\t\t\tchildRetriverString = classNameWithTag;\n\t\t\t\t\tnoClassTesting = true;\n\t\t\t\t} else {\n\t\t\t\t\tchildRetriverFn = 'getElementsByTagName';\n\t\t\t\t\tchildRetriverString = 'span';\n\t\t\t\t\tnoClassTesting = false;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tisIE: /msie/i.test(userAgent) && !win.opera,\n\t\t\t\t\thasSVG: Boolean(win.SVGAngle || doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')),\n\t\t\t\t\tisHeadLess: new RegExp(' HtmlUnit').test(userAgent),\n\t\t\t\t\tisWebKit: new RegExp(' AppleWebKit/').test(userAgent),\n\t\t\t\t\tchildRetriverFn: childRetriverFn,\n\t\t\t\t\tchildRetriverString: childRetriverString,\n\t\t\t\t\tnoClassTesting: noClassTesting\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t/*\n    * Create a html div element and attach it with a parent. All the subsequent operations are performed\n    * by upding this dom tree only.\n    *\n    * @param {HTMLElement} - The html element where the newly created div is to be attached. If not passed,\n    *                      the new div is appended on the body.\n    */\n\t\t\tcreateContainer: function createContainer(containerParent) {\n\t\t\t\tvar body, container;\n\n\t\t\t\tif (containerParent && (containerParent.offsetWidth || containerParent.offsetHeight)) {\n\t\t\t\t\tif (containerParent.appendChild) {\n\t\t\t\t\t\tcontainerParent.appendChild(container = doc.createElement(DIV));\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbody = doc.getElementsByTagName('body')[0];\n\n\t\t\t\t\tif (body && body.appendChild) {\n\t\t\t\t\t\tcontainer = doc.createElement(DIV);\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\tcontainerInstanceCount += 1;\n\t\t\t\t\t\tbody.appendChild(container);\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Finds a approximate position where the text is to be broken\n\t\t\tgetNearestBreakIndex: function getNearestBreakIndex(text, maxWidth, sl) {\n\t\t\t\tif (!text || !text.length) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar difference,\n\t\t\t\t    getWidth = sl._getWidthFn(),\n\t\t\t\t    charLen = 0,\n\t\t\t\t    increment = 0,\n\t\t\t\t    oriWidth = getWidth(text),\n\t\t\t\t    avgWidth = oriWidth / text.length;\n\n\t\t\t\tdifference = maxWidth;\n\t\t\t\tcharLen = ceil(maxWidth / avgWidth);\n\n\t\t\t\tif (oriWidth < maxWidth) {\n\t\t\t\t\treturn text.length - 1;\n\t\t\t\t}\n\n\t\t\t\tif (charLen > text.length) {\n\t\t\t\t\tdifference = maxWidth - oriWidth;\n\t\t\t\t\tcharLen = text.length;\n\t\t\t\t}\n\n\t\t\t\twhile (difference > 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twhile (difference < 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn charLen;\n\t\t\t},\n\n\t\t\t/*\n    * Determine lineheight of a text for a given style. It adds propery lineHeight to the style passed\n    *\n    * @param {Object} - The style based on which the text's metric needs to be calculated. The calculation happens\n    *                  based on fontSize property, if its not present a default font size is assumed.\n    *\n    * @return {Object} - The style that was passed with lineHeight as a named propery set on the object.\n    */\n\t\t\tsetLineHeight: function setLineHeight(styleObj) {\n\t\t\t\tvar fSize = styleObj.fontSize = styleObj.fontSize || '12px';\n\t\t\t\tstyleObj.lineHeight = styleObj.lineHeight || styleObj['line-height'] || parseInt(fSize, 10) * 1.2 + 'px';\n\t\t\t\treturn styleObj;\n\t\t\t}\n\t\t};\n\n\t\treturn lib;\n\t}\n};\n\nexports['default'] = lib;\nmodule.exports = exports['default'];","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"hyperdis\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hyperdis\"] = factory();\n\telse\n\t\troot[\"hyperdis\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const makeEntry = (arr, sCon) => {\n    arr.forEach((elem) => {\n        if (elem === undefined || elem === null) {\n            return;\n        }\n        sCon[elem] = 1;\n    });\n};\n\nexport default class ForeignSet {\n    constructor (arr) {\n        this._set = {};\n        makeEntry(arr, this._set);\n    }\n\n    append (arr) {\n        makeEntry(arr, this._set);\n        return this;\n    }\n\n    toArray () {\n        return Object.keys(this._set);\n    }\n\n    static difference (set1, set2) {\n        let key;\n        const filteredKeys = [],\n            s1 = set1._set,\n            s2 = set2._set;\n        for (key in s1) {\n            if (!({}).hasOwnProperty.call(s1, key)) {\n                continue;\n            }\n            if (key in s2) {\n                continue;\n            }\n            filteredKeys.push(key);\n        }\n        return new ForeignSet(filteredKeys);\n    }\n}\n","/* global window */\n\nimport ForeignSet from './set';\n\nconst\n    isSimpleObject = (obj) => {\n        let token;\n        if (typeof obj === 'object') {\n            if (obj === null) { return false; }\n            token = Object.prototype.toString.call(obj);\n            if (token === '[object Object]') {\n                return (obj.constructor.toString().match(/^function (.*)\\(\\)/m) || [])[1] === 'Object';\n            }\n        }\n        return false;\n    },\n    minMsThreshold = 16,\n    /* istanbul ignore next */win = typeof window === 'undefined' ? (this || {}) : window,\n    /* istanbul ignore next */ reqAnimFrame = win.requestAnimationFrame || win.webkitRequestAnimationFrame ||\n        win.mozRequestAnimationFrame || win.oRequestAnimationFrame ||\n        win.msRequestAnimationFrame ||\n        function (callback) {\n            setTimeout(callback, minMsThreshold);\n        },\n\n    getTimeBasedId = () => {\n        if (getTimeBasedId.__lastTime === new Date().getTime()) {\n            return (getTimeBasedId.__lastTime).toString() + (getTimeBasedId.__id++).toString();\n        }\n\n        getTimeBasedId.__id = 0;\n        getTimeBasedId.__lastTime = new Date().getTime();\n        return (getTimeBasedId.__lastTime).toString() + (getTimeBasedId.__id++).toString();\n    },\n    pullableRecent = (nodes, fn) => {\n        let nFn = () => {\n            fn(...nodes.map((node) => {\n                const\n                    hist = node.history,\n                    l = hist.length - 1;\n                return [hist[l - 1 < 0 ? 0 : l - 1], hist[l]];\n            }));\n        };\n        nFn.__id = getTimeBasedId();\n        return nFn;\n    },\n    pullableEnd = (nodes, fn) => {\n        let nFn = () => {\n            fn(...nodes.map((node) => {\n                const hist = node.history;\n                return [hist[0], hist[hist.length - 1]];\n            }));\n        };\n        nFn.__id = getTimeBasedId();\n        return nFn;\n    },\n    unique = fns => fns\n                    .reduce((store, fn) => {\n                // @warn function with side effect, it mutates the store passed during initialization\n                        if (fn.__id in store.map) {\n                            return store;\n                        }\n\n                        store.map[fn.__id] = 1;\n                        store.unique.push(fn);\n\n                        return store;\n                    }, { map: {}, unique: [] })\n                    .unique,\n    compose = fns => () => {\n        fns.forEach(fn => fn());\n    },\n    flat = (...params) => {\n        const res = [];\n        params.forEach(param => res.push(...param));\n        return res;\n    },\n    identityMap = arrays => arrays,\n    splitPathProp = (path) => {\n        const pathArr = path.split('.'),\n            len = pathArr.length;\n        return [pathArr.slice(0, len - 1), pathArr[len - 1]];\n    },\n    scheduler = (onFinishCallback) => {\n        let queue = [],\n            animationFrame = null;\n\n        onFinishCallback = onFinishCallback &&\n            typeof onFinishCallback === 'function' && onFinishCallback || (() => { });\n\n        return (listeners, payload) => {\n            [].push.apply(queue, listeners);\n            if (animationFrame === null) {\n                animationFrame = reqAnimFrame(() => {\n                    const tempQ = queue.slice(0);\n                    queue.length = 0;\n                    animationFrame = null;\n\n                    unique(tempQ).forEach(fn => fn());\n                    onFinishCallback(payload);\n                });\n            }\n        };\n    },\n    fetch = namedNode => (...params) => params.map((param) => {\n        const node = namedNode[param];\n        return {\n            name: node.name,\n            qualifiedName: node.qualifiedName,\n            value: node.seed\n        };\n    }),\n    fetchAggregator = (...params) => ({\n        dependencies: params.slice(0, params.length - 1),\n        fn: params[params.length - 1]\n    }),\n    getUpstreamNodes = (list) => {\n        let res = [];\n        const map = {};\n        list.forEach(node => map[node.qualifiedName] = -1);\n        function rec (arr) {\n            arr.forEach((node) => {\n                let qname,\n                    placedIndex,\n                    preArr,\n                    postArr;\n                if (!((qname = node.qualifiedName) in map)) {\n                    map[qname] = res.push(node) - 1;\n                } else {\n                    placedIndex = map[qname];\n                    if (placedIndex !== -1 && placedIndex !== res.length - 1) {\n                        // If not the last element, readjust the array so that the later dependency position is saved\n                        preArr = res.slice(0, placedIndex);\n                        postArr = res.slice(placedIndex + 1);\n                        res = preArr.concat(postArr);\n\n                        // reset the index in map\n                        postArr.forEach((elem, i) => map[elem.qualifiedName] = i + preArr.length);\n                        map[qname] = res.push(node) - 1;\n                    }\n                }\n                rec(node.outgoingEdges);\n            });\n        }\n        rec(list);\n        return res;\n    },\n    resolver = {\n        accumulate: (...params) => {\n            const resp = {};\n            params.forEach((nodeDetails) => {\n                Object.assign(resp, { [nodeDetails.name]: nodeDetails.value });\n            });\n            return resp;\n        },\n        identity: nodeDetails => nodeDetails.value\n    };\n\nfunction resolveDependencyOrder (node, resolved, resolveMap) {\n    let qname;\n    node.edges.forEach((neighbour) => {\n        resolveDependencyOrder(neighbour, resolved, resolveMap);\n    });\n\n    if (node.isRoot() || (qname = node.qualifiedName) in resolveMap) {\n        return;\n    }\n    resolved.push(node);\n    resolveMap[qname] = 1;\n}\n\nclass CustomResolver {\n    constructor (resolver) {\n        this.fn = resolver;\n        this.dep = [];\n    }\n\n    addDependencies(...dep) {\n        this.dep.push(...dep);\n        return this;\n    }\n\n    getDependencies () {\n        return this.dep;\n    }\n\n    get () {\n        return this.fn;\n    }\n}\n\nexport {\n    isSimpleObject,\n    scheduler,\n    compose,\n    flat,\n    identityMap,\n    pullableEnd,\n    pullableRecent,\n    unique,\n    splitPathProp,\n    resolver,\n    ForeignSet,\n    resolveDependencyOrder,\n    fetch,\n    fetchAggregator,\n    CustomResolver,\n    getUpstreamNodes\n};\n","export default class GraphNode {\n    constructor (name, qualifiedName, options) {\n        /* istanbul ignore next */options = options || {};\n        this.name = name;\n        this.qualifiedName = qualifiedName;\n        this.edges = [];\n        this.outgoingEdges = [];\n        this._seed = null;\n        this.requireResolve = true;\n        this.retriever = options.retriever;\n        this.history = [];\n        this.resolver = null;\n        this.electricEdges = [];\n    }\n\n    addDependencies (...dep) {\n        this.edges.push(...dep);\n        dep.forEach(entry => entry.outgoingEdges.push(this));\n        return this;\n    }\n\n    addElectricNode (node) {\n        this.electricEdges.push(node);\n        return this;\n    }\n\n    get seed () {\n        return this._seed;\n    }\n\n    set seed (value) {\n        this._seed = value;\n        this.requireResolve = true;\n        return this;\n    }\n\n    resolve () {\n        this.seed = this.resolver(...this.retrieveDetails());\n        this.history.push(this.seed);\n        this.requireResolve = false;\n        return this;\n    }\n\n    retrieveDetails () {\n        if (this.edges.length === 0) {\n            return [{\n                name: this.name,\n                qualifiedName: this.qualifiedName,\n                value: this.seed\n            }];\n        }\n        return this.retriever(...this.edges.map(edge => edge.qualifiedName));\n    }\n\n    repeatHead () {\n        const\n            history = this.history,\n            head = history[history.length - 1];\n        // @todo- Akash, write test case if history.length === 0 to pass code coverage\n        if (history.length === 0) {\n            return this;\n        }\n        history.push(head);\n        return this;\n    }\n\n    flush () {\n        const hist = this.history,\n            head = hist[hist.length - 1];\n        hist.length = 0;\n        hist.push(head);\n        return this;\n    }\n\n    isRoot () {\n        return this.name === null;\n    }\n}\n","import {\n    pullableRecent,\n    pullableEnd\n} from './utils';\n\nexport default class ElectricNode {\n    constructor () {\n        this.edges = [];\n        this.listeners = {\n            nextFrame: [],\n            currentFrame: []\n        };\n    }\n\n    addEdges (...nodes) {\n        this.edges.push(...nodes);\n        return this;\n    }\n\n    regListenerForCurrFrame (fn) {\n        const lstnrs = this.listeners.currentFrame;\n        let index = lstnrs.push(pullableRecent(this.edges, fn)) - 1;\n\n        return () => {\n            this.listeners.currentFrame = lstnrs.filter((fn, i) => i !== index);\n        };\n    }\n\n    regListenerForNextFrame (fn) {\n        const lstnrs = this.listeners.nextFrame;\n        let index = lstnrs.push(pullableEnd(this.edges, fn)) - 1;\n\n        return () => {\n            this.listeners.nextFrame = lstnrs.filter((fn, i) => i !== index);\n        };\n    }\n\n    hasNextFrameListener () {\n        return !!this.listeners.nextFrame.length;\n    }\n}\n","import {\n    isSimpleObject,\n    resolver,\n    // upstreamNodes,\n    flat,\n    resolveDependencyOrder,\n    getUpstreamNodes,\n    ForeignSet,\n    fetch,\n    CustomResolver,\n    scheduler\n} from './utils';\nimport Node from './graph-node';\nimport ElectricNode from './electric-node';\n\nexport default class Graph {\n    constructor () {\n        this.qualifiedNodeMap = {};\n        this.retriever = fetch(this.qualifiedNodeMap);\n        this.root = new Node(null, null, { retriever: this.retriever });\n        this.root.resolver = resolver.accumulate;\n\n        this._wholeSet = null;\n        this._propagate = true;\n        this.propagationOverride = {\n            currentFrameListeners: false,\n            nextFrameListeners: false\n        };\n\n        this._schedule = scheduler((payload) => {\n            let qname;\n            for (qname in payload.flushTarget) {\n                if (!({}).hasOwnProperty.call(this.qualifiedNodeMap, qname)) {\n                    return;\n                }\n                this.qualifiedNodeMap[qname].flush();\n            }\n        });\n    }\n\n    createNodesFrom (obj, mount) {\n        let val,\n            resolveReqList;\n        const qualifiedNodeMap = this.qualifiedNodeMap,\n            root = this.root,\n            retriever = this.retriever;\n\n        (function rec (objn, qualifiedName, history) {\n            let key,\n                qname,\n                perv,\n                node;\n\n            for (key in objn) {\n                if (!({}).hasOwnProperty.call(objn, key)) {\n                    continue;\n                }\n                qname = `${qualifiedName}${key}`;\n                node = new Node(key, qname, { retriever });\n                qualifiedNodeMap[qname] = node;\n\n                if ((perv = history.perv) !== undefined) {\n                    perv.addDependencies(node);\n                } else {\n                    // top most level entries\n                    root.addDependencies(node);\n                }\n\n                if (isSimpleObject(val = objn[key])) {\n                    rec(val, `${qualifiedName}${key}.`, { perv: node });\n                    node.resolver = resolver.accumulate;\n                } else if (val instanceof CustomResolver) {\n                    node.resolver = val.get();\n                    node.addDependencies(...val.getDependencies().map(qname => qualifiedNodeMap[qname]));\n                } else {\n                    node.resolver = resolver.identity;\n                    node.seed = val;\n                    // node.resolve();\n                }\n            }\n        }(obj, mount === null ? '' : `${mount}.`, {\n            perv: qualifiedNodeMap[mount]\n        }));\n\n        this._wholeSet = new ForeignSet(Object.keys(this.qualifiedNodeMap));\n\n        // Recalculate the model without firing the listeners\n        // @todo selective branch resolve. Currently resolve gets called even for a branch which was updated\n        resolveReqList = this.constructor.getResolvedList(root).concat(root).filter(node => node.requireResolve);\n        resolveReqList.forEach(node => node.resolve());\n        getUpstreamNodes(resolveReqList).forEach(node => node.resolve());\n        return this;\n    }\n\n    getNodeValue (prop) {\n        if (prop in this.qualifiedNodeMap) {\n            return this.qualifiedNodeMap[prop].seed;\n        }\n        return undefined;\n    }\n\n    createElectricNodeOf (props, fnSpec) {\n        const nodes = props.map(prop => this.qualifiedNodeMap[prop]),\n            eNode = new ElectricNode().addEdges(...nodes);\n\n        nodes.forEach(node => node.addElectricNode(eNode));\n        return eNode[`regListenerFor${fnSpec.type}`](fnSpec.fn);\n    }\n\n    update (...params) {\n        let changedSet,\n            upstreamNodes;\n        const\n            electricEdges = [],\n            nodes = params.map((entry) => {\n                entry[0].seed = entry[1];\n                return entry[0];\n            });\n        nodes.forEach(node => node.resolve());\n        electricEdges.push(...flat(...nodes.map(node => node.electricEdges)));\n        changedSet = new ForeignSet(nodes.map(node => node.qualifiedName));\n\n        if (!this._propagate) {\n            this.__execUniqueElectricEdges(electricEdges);\n            this._propagate = true;\n            return this;\n        }\n\n        upstreamNodes = getUpstreamNodes(nodes);\n        upstreamNodes.forEach(upstreamNode => upstreamNode.resolve());\n        changedSet.append(upstreamNodes.map(node => node.qualifiedName));\n        electricEdges.push(...flat(...upstreamNodes.map(node => node.electricEdges)));\n\n        this.__execUniqueElectricEdges(Array.from(new Set(electricEdges)), changedSet);\n        return this;\n    }\n\n    __execUniqueElectricEdges (electricEdges, changedSet) {\n        const\n            cfLstnrs = [], // current frame listeners\n            nfLstnrs = []; // next frame listeners\n        if (changedSet) {\n            const\n                differenceSet = ForeignSet.difference(this._wholeSet, changedSet),\n                entries = differenceSet.toArray();\n\n            entries.forEach(entry => this.qualifiedNodeMap[entry].repeatHead());\n        }\n\n        electricEdges.forEach((e) => {\n            cfLstnrs.push(...e.listeners.currentFrame);\n        });\n        electricEdges.forEach((e) => {\n            nfLstnrs.push(...e.listeners.nextFrame);\n        });\n\n        !this.propagationOverride.currentFrameListeners && cfLstnrs.forEach(fn => fn());\n        !this.propagationOverride.nextFrameListeners && this._schedule(nfLstnrs, { flushTarget: changedSet });\n        this.resetPropagationOverride();\n        return this;\n    }\n\n    resetNodeValue (...qnames) {\n        const nodes = qnames.map(qname => this.qualifiedNodeMap[qname]),\n            args = nodes.map(node => [node, node.seed]);\n        this.update(...args);\n        return this;\n    }\n\n    static getResolvedList (node) {\n        const resolved = [];\n        resolveDependencyOrder(node, resolved, {});\n        return resolved;\n    }\n\n    stopPropagation () {\n        this._propagate = false;\n        return this;\n    }\n\n    resetPropagationOverride () {\n        this.propagationOverride.currentFrameListeners = false;\n        this.propagationOverride.nextFrameListeners = false;\n        return this;\n    }\n\n    setPropagationOverride (key) {\n        this.propagationOverride[`${key}Listeners`] = true;\n        return this;\n    }\n\n    getNodeFromQualifiedName (qname) {\n        return this.qualifiedNodeMap[qname];\n    }\n}\n","import Graph from './graph';\nimport { CustomResolver, fetchAggregator } from './utils';\n\n/**\n * The container class for Hyperdis. Hyperdis is an enabler for observable object with few interesting features like,\n * calculated property, next frame and same frame listeners, multiple listeners etc with a dependency resolving system.\n * It internally uses a graph to hold the hierarchial relationship of a object. Model is merely a container which\n * ties all the components together.\n *\n * @todo Circular dependency detection is not present\n *\n * @example check src/index.spec.js\n * @class\n */\nclass Model {\n    constructor () {\n        this._graph = new Graph();\n        this._lockFlag = false;\n        this._reqQ = [];\n    }\n\n    /**\n     * Static method to create and init the model with an observable seed\n     *\n     * @param {Object} obj The target object which is required to be made observable\n     * @return {Model} instance of the observable object model\n     */\n    static create (obj) {\n        return new Model()._addPropInModel(null, obj);\n    }\n\n    /**\n     * Appends more observable property on the already observable instance. This mutates the original model.\n     *\n     * This function works in two mode. One being\n     * @param {String} mountPoint the property on which the new set of properties will be mounted. If its a nested\n     *                          property then the mountPoint has to be written such a way so it feels like you are\n     *                          accessing the object. If the mount point is not found then he obeservables are added in\n     *                          the root.\n     * @param {Object} The target object which is required to be made observable\n     *\n     * Another being\n     * @param {Object} The target object which is required to be made observable\n     *\n     * @return {Model} instance of the observable object model\n     */\n    append (...params) {\n        let mountPoint,\n            obj;\n\n        if (params.length === 1) {\n            mountPoint = null;\n            obj = params[0];\n        } else {\n            mountPoint = params[0];\n            obj = params[1];\n        }\n\n        this._addPropInModel(mountPoint, obj);\n        return this;\n    }\n\n    /**\n     * Creates a calculated variable from existing variable. This variable can't be updated from outside.\n     * @param {string} mountpoint property path on which the new variable will be placed\n     * @param {string} name name of the variable. If the variable could have hierarchy like `limits.start`\n     * @param {Function} fn funtion where the dependent variables are injected based on the dependency requirement\n     */\n    calculatedProp (...params) {\n        let calculationConfig,\n            customResolver,\n            varName,\n            mount,\n            fetchFn;\n\n        if (params.length > 2) {\n            mount = params[0];\n            varName = params[1];\n            fetchFn = params[2];\n        } else {\n            mount = null;\n            varName = params[0];\n            fetchFn = params[1];\n        }\n\n        calculationConfig = fetchFn(fetchAggregator);\n        customResolver = new CustomResolver(calculationConfig.fn);\n        customResolver.addDependencies(...calculationConfig.dependencies);\n\n        this._addPropInModel(mount, { [varName]: customResolver });\n        return this;\n    }\n\n    // eslint-disable-next-line require-jsdoc\n    _addPropInModel (mountPoint, obj) {\n        this._graph.createNodesFrom(obj, mountPoint);\n        return this;\n    }\n\n    /**\n     * Register a listener in the current frame when a property or group of properties is changed.\n     *\n     * @example\n     * This function takes a single or group of property and handler which is called when any of the properties are\n     * changed.\n     * When a single property is changed the handler is called with two parameter, what was the old value of the state\n     * property and what is the new value.\n     * myState.on('range.start', (oldValue, newValue) => {\n     *      console.log('Value before prop change', oldValue);\n     *      console.log('Value after prop change', newValue);\n     * });\n     *\n     * myState.prop('range.start', 9);\n     * // Output\n     * Value before prop change 1\n     * Value after prop change 9\n     *\n     * If a handler is registered on change of a property which has another state property as value, then the handler\n     * gets called whenever any state property connected to it gets changed\n     *\n     * myState.on('range', (oldValue, newValue) => {\n     *      console.log('Value before prop change', oldValue);\n     *      console.log('Value after prop change', newValue);\n     * });\n     *\n     * myState.prop('range.start', 10);\n     * myState.prop('range.type.absolute', false);\n     *\n     * // Output\n     * Value before prop change\n     * range {\n     *      start: 9,\n     *      end: 5,\n     *      type: {\n     *          absolute: true\n     *      }\n     * }\n     * Value after prop change\n     * range: {\n     *      start: 10,\n     *      end: 5,\n     *      type: {\n     *          absolute: false\n     *      }\n     * }\n     * If a handler is registered with more than one property change then, the handler is called when any of the\n     * properties gets changed. In this cast the handler is called with more than one parameter: each for one state\n     * property which is registered for listening. Each parameter is of type array containing [oldValue, newValue]\n     *\n     * myState.on('range.start', 'range.end', (start, end) => {\n     *      console.log('Start', start);\n     *      console.log('End', end);\n     * });\n     *\n     * myState.prop('range.start', 12);\n     *\n     * // Output\n     * Start [10, 12]\n     * End [5, 5]\n     *\n     * myState.prop('range.end', 7);\n     *\n     * // Output\n     * Start [12, 12]\n     * End [5, 7]\n     *\n     * The on returns a function which is when called the listener registered gets unregistered\n     *\n     * let unsub = myState.on(['range.start', 'range.end'], (start, end) => {\n     *      console.log('Start', start);\n     *      console.log('End', end);\n     * });\n     *\n     * // Unsubscribe\n     * unsub()\n     *\n     * On takes an optional boolean value as the last parameter, which if passed as a true value the handler gets called\n     * during registration itself.\n     *\n     * @param {Array.<String>} props List of properties which is of interest\n     * @param {Function} fn Listener to be executed when any of them is changed. The listener is called with the old\n     *                      value and new value of the properties\n     * @param {*} instantCall When registered if the function is to be triggered with the value of the property\n     *\n     * @return {Function} function to unsubscribe from the listeners registry\n     */\n    on (props, fn, instantCall) {\n        const\n            propsArr = props instanceof Array ? props : [props],\n            // All there listeners will be executed in the current stack frame\n            unsub = this._graph.createElectricNodeOf(propsArr, {\n                type: 'CurrFrame',\n                fn\n            });\n\n        if (instantCall) {\n            // Bar current next frame listeners from getting fired\n            this._graph.stopPropagation().setPropagationOverride('nextFrame').resetNodeValue(...props);\n        }\n        return unsub;\n    }\n\n    /**\n     * Register a listener for the next frame when a property or group of properties is changed.\n     *\n     * @example\n     * See the examples for the on listener\n     *\n     * @param {Array.<String>} props List of properties which is of interest\n     * @param {Function} fn Listener to be executed when any of them is changed. The listener is called with the old\n     *                      value and new value of the properties. Here the oldvalue is last value of the last frame\n     * @param {*} instantCall When registered if the function is to be triggered with the value of the property\n     *\n     * @return {Function} function to unsubscribe from the listeners registry\n     */\n    next (props, fn, instantCall) {\n        const\n            propsArr = props instanceof Array ? props : [props],\n            // All there listeners will be executed at the tick of next animation frame\n            unsub = this._graph.createElectricNodeOf(propsArr, {\n                type: 'NextFrame',\n                fn\n            });\n\n        // @todo check support for this from the graph side\n        if (instantCall) {\n            // Bar current frame listeners from getting fired\n            this._graph.stopPropagation().setPropagationOverride('currentFrame').resetNodeValue(...props);\n        }\n\n        return unsub;\n    }\n\n    /**\n     * Lock queues the request of property change and releases the change when unlock is called. This is helpful when\n     * multiple property is getting called and the model listeners are to be fired once at the end of update.\n     *\n     * @return {Model} instance of the model\n     */\n    lock () {\n        this._lockFlag = true;\n        this._reqQ.length = 0;\n        return this;\n    }\n\n    /**\n     * Unlock unleashes the change done after the lock was called.\n\n     * @return {Model} instance of the model\n     */\n    unlock () {\n        this._lockFlag = false;\n        this.setProp(...this._reqQ);\n        this._reqQ.length = 0;\n        return this;\n    }\n\n    /**\n     * This acts as getter and setter. If the function is called by passing only one argument, it retrieve the value\n     * associated with the property. If the same function is called using two parameters, first one being the property\n     * and second one being the value, then the value is set for the property and the handlers are called (if any)\n     * which got registered using the on function\n     *\n     * Getter\n     * @param {string} prop property path whose value to be retrieved\n     * @return {Object} value of the property at the time of call\n     *\n     * Setter\n     * @param {string} property property path whose value to be ser\n     * @return {Model} instance of the model\n     */\n    prop (...params) {\n        let prop,\n            val,\n            len;\n\n        switch (len = params.length) {\n        case 1:\n            prop = params[0];\n            break;\n\n        case 2:\n            prop = params[0];\n            val = params[1];\n            break;\n\n        default:\n            return this;\n        }\n\n        if (len === 2) {\n            this._lockFlag ? this._reqQ.push([prop, val]) : this.setProp([prop, val]);\n            return this;\n        }\n\n        return this._graph.getNodeValue(prop);\n    }\n\n    // eslint-disable-next-line require-jsdoc\n    setProp (...props) {\n        // Filter out the calculated variables, so that it cant be changed from outside\n        // @todo if a node is not leafValue, and change is called, ignore it too\n        // props = props.filter(prop => !(VirtualObj.walkTill(prop[0].split('.'), this._vObj).leafValue()\n        //     instanceof CalculatedVar));\n\n        if (props.length === 0) {\n            return this;\n        }\n\n        this._graph.update(...props.map(prop => [this._graph.getNodeFromQualifiedName(prop[0]), prop[1]]));\n        return this;\n    }\n\n    /**\n     * Retrieves the graph representation of the object\n     * @return {Graph} instance of the graph associated to the model\n     */\n    graph () {\n        return this._graph;\n    }\n\n    /**\n     * Get serialized data from the model\n     *\n     * @return {Object} Serialized data\n     */\n    serialize () {\n        return this._graph.root.seed;\n    }\n}\n\nexport default Model;\n","import Model from './model';\n\nexport default Model;\n","import Selection from './selection';\n/**\n * This function applies a selection operation on a data array.\n *\n * @export\n * @param {Array} [data=[]] The data array to be observed.\n * @return {Selection} Instance of a selection.\n */\nexport default function dataSelect (idFn) {\n    return new Selection(idFn);\n}\n\n","import dataSelect from './dataSelect';\n\nexport { dataSelect };\n","import { defaultValue } from '../common-utils';\n\nconst sortSelection = (dataObjects, updateData, sortFn) =>\n    (a, b) => {\n        const kA = a[0];\n        const kB = b[0];\n        return sortFn([a[0], dataObjects.get(kA), updateData.get(kA)], [kB, dataObjects.get(kB), updateData.get(kB)]);\n    };\n\n/**\n * This class represents a selection applied on a data array.\n *\n * @class Selection\n */\nclass Selection {\n    /**\n     * Creates an instance of Selection.\n     * @param {Array<DataObject>} data Array of DataObjects.\n     * @memberof Selection\n     */\n    constructor (idGetter) {\n        this._dataObjects = new Map();\n        this._updateData = new Map();\n        this._enterData = new Map();\n        this._exitData = new Map();\n        this._idGetter = idGetter;\n    }\n\n    /**\n     * This method is used to supply seed data to a selection.\n     *\n     * @param {Array} newData Seed data to create the enter selection.\n     * @param {Functon | undefined } idGetter This function is used to uniqely identify a data entry.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    data (newData) {\n        const entryData = new Map();\n        const exitdata = new Map();\n        const tempMap = new Map();\n        const duplicateData = new Map();\n        const updatedData = this._updateData;\n        const idGetter = this._idGetter;\n\n        newData.forEach((...params) => {\n            const key = idGetter ? idGetter(...params) : params[1];\n            if (!tempMap.has(key)) {\n                tempMap.set(key, params[0]);\n            } else {\n                duplicateData.push(key, params[0]);\n            }\n        });\n\n        let val;\n        // prepare enter data\n        let entries = tempMap.entries();\n        while (val = entries.next().value) {\n            if (!updatedData.has(val[0])) {\n                entryData.set(val[0], val[1]);\n            } else {\n                updatedData.set(val[0], val[1]);\n            }\n        }\n        // prepare exit data\n        entries = updatedData.entries();\n        while (val = entries.next().value) {\n            if (!tempMap.has(val[0])) {\n                exitdata.set(val[0], val[1]);\n            }\n        }\n\n        // put duplicate data to exit list\n        entries = duplicateData.entries();\n        while (val = entries.next().value) {\n            exitdata.set(val[0], val[1]);\n        }\n\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = updatedData;\n        newSelection._dataObjects = this._dataObjects;\n        newSelection._enterData = entryData;\n        newSelection._exitData = exitdata;\n\n        return newSelection;\n    }\n\n    /**\n     * Applies the supplied callback to each data element\n     * and returns a new selection.\n     *\n     * @param {Function} callback Callback to execute on each item.\n     * @return {Selection} New selection with data created using callback.\n     * @memberof Selection\n     */\n    append (callback) {\n        let val;\n        const dataObjects = new Map();\n        const data = new Map();\n        const mode = defaultValue(this._mode, 'update');\n        const currentData = this[`_${mode}Data`];\n        const entries = currentData.entries();\n\n        while (val = entries.next().value) {\n            dataObjects.set(val[0], callback(val[1]));\n            data.set(val[0], val[1]);\n        }\n\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = data;\n        newSelection._dataObjects = dataObjects;\n\n        return newSelection;\n    }\n\n     /**\n     * This method returns an enter selection that\n     * allows or update operations.\n     *\n     * @return {Selection} Instance of enter selection.\n     * @memberof Selection\n     */\n    enter () {\n        this._mode = 'enter';\n        return this;\n    }\n\n    /**\n     * Returns a selection with exit data.\n     *\n     * @return {Selection} Instance of selection.\n     * @memberof Selection\n     */\n    exit () {\n        this._mode = 'exit';\n        return this;\n    }\n\n     /**\n     * This method merges the data of one selection with another.\n     *\n     * @param {Selection} selection Instance of selection.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    merge (target) {\n        const mergedObjects = new Map();\n        const mergedData = new Map();\n        let val;\n        let entries;\n\n        // merge Object and data present in this selection\n        entries = this._updateData.entries();\n        while (val = entries.next().value) {\n            if (!this._exitData.has(val[0])) {\n                mergedData.set(val[0], val[1]);\n                mergedObjects.set(val[0], this._dataObjects.get(val[0]));\n            }\n        }\n\n        // merge object from target selection\n        entries = target._updateData.entries();\n        while (val = entries.next().value) {\n            if (!(mergedData.has(val[0]) || target._exitData.has(val[0]))) {\n                mergedData.set(val[0], val[1]);\n                mergedObjects.set(val[0], target._dataObjects.get(val[0]));\n            }\n        }\n\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = mergedData;\n        newSelection._dataObjects = mergedObjects;\n\n        return newSelection;\n    }\n\n    each (fn) {\n        let val;\n        const entries = this._dataObjects.entries();\n\n        while (val = entries.next().value) {\n            fn(val[1], this._updateData.get(val[0]), val[0]);\n        }\n    }\n\n    map (fn) {\n        const newdata = new Map();\n        let val;\n        const entries = this._dataObjects.entries();\n\n        while (val = entries.next().value) {\n            newdata.set(val[0], fn(val[1], this._updateData.get(val[0]), val[0]));\n        }\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = this._updateData;\n        newSelection._dataObjects = newdata;\n\n        return newSelection;\n    }\n\n    remove () {\n        const mode = defaultValue(this._mode, 'update');\n        const currentData = this[`_${mode}Data`];\n\n        currentData.clear();\n\n        return this;\n    }\n\n    sort (sortFn) {\n        const updateData = this._updateData;\n        const dataObjects = this._dataObjects;\n        const sortSel = sortSelection(dataObjects, updateData, sortFn);\n\n        this._updateData = new Map([...updateData.entries()].sort(sortSel));\n        this._dataObjects = new Map([...dataObjects.entries()].sort(sortSel));\n        return this;\n    }\n\n    /**\n     *  Gets the object bound to a class\n     *\n     * @return {Object} current data set bound to the class\n     * @memberof Selection\n     */\n    getObjects () {\n        let val;\n        const objects = [];\n        const dataObjects = this._dataObjects;\n        // select the data to create object\n        const mode = defaultValue(this._mode, 'update');\n        const currentData = this[`_${mode}Data`];\n        const entries = currentData.entries();\n\n        while (val = entries.next().value) {\n            if (dataObjects.has(val[0])) {\n                objects.push(dataObjects.get(val[0]));\n            }\n        }\n\n        return objects;\n    }\n}\n\nexport default Selection;\n","export {\n    schemeDark2,\n    schemePaired,\n    schemeAccent,\n    schemePastel1,\n    schemePastel2,\n    schemeSet1,\n    schemeSet2,\n    schemeSet3,\n    schemeBlues,\n    schemeBrBG,\n    schemePRGn,\n    schemePiYG,\n\n    interpolateBrBG,\n    interpolatePRGn,\n    interpolatePiYG,\n    interpolatePuOr,\n    interpolateRdBu,\n    interpolateRdGy,\n    interpolateRdYlBu,\n    interpolateRdYlGn,\n    interpolateSpectral,\n\n    interpolateBlues,\n    interpolateGreens,\n    interpolateGreys,\n    interpolateOranges,\n    interpolatePurples,\n    interpolateReds,\n\n    interpolateViridis,\n    interpolateInferno,\n    interpolateMagma,\n    interpolatePlasma,\n    interpolateWarm,\n    interpolateCool,\n    interpolateCubehelixDefault,\n    interpolateBuGn,\n    interpolateBuPu,\n    interpolateGnBu,\n    interpolateOrRd,\n    interpolatePuBuGn,\n    interpolatePuBu,\n    interpolatePuRd,\n    interpolateRdPu,\n    interpolateYlGnBu,\n    interpolateYlGn,\n    interpolateYlOrBr,\n    interpolateYlOrRd,\n    interpolateRainbow\n} from 'd3-scale-chromatic';\n\n","/* global window, requestAnimationFrame, cancelAnimationFrame */\nimport { FieldType, DimensionSubtype, DateTimeFormatter, DM_DERIVATIVES, default as DataModel } from 'datamodel';\nimport {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom\n} from 'd3-axis';\nimport {\n    symbolCircle,\n    symbolCross,\n    symbolDiamond,\n    symbolSquare,\n    symbolStar,\n    symbolWye,\n    symbolTriangle,\n    symbol,\n    stack as d3Stack,\n    stackOffsetDiverging,\n    stackOrderNone,\n    stackOrderAscending,\n    stackOrderDescending,\n    stackOffsetNone,\n    stackOffsetExpand,\n    stackOffsetWiggle,\n    pie,\n    arc,\n    line,\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    area\n} from 'd3-shape';\nimport { scaleBand } from 'd3-scale';\nimport { nest } from 'd3-collection';\nimport {\n    interpolate,\n    interpolateRgb,\n    piecewise,\n    interpolateNumber,\n    interpolateHslLong\n} from 'd3-interpolate';\nimport {\n    easeCubic,\n    easeBounce,\n    easePoly,\n    easeBack,\n    easeCircle,\n    easeLinear,\n    easeElastic\n} from 'd3-ease';\nimport {\n   color,\n   rgb,\n   hsl\n} from 'd3-color';\nimport { voronoi } from 'd3-voronoi';\nimport { dataSelect } from './DataSystem';\nimport { DATA_TYPE, SORT_ORDER_ASCENDING, SORT_ORDER_DESCENDING } from './enums';\nimport * as STACK_CONFIG from './enums/stack-config';\n\nconst { CATEGORICAL, TEMPORAL } = DimensionSubtype;\nconst { STRING, FUNCTION } = DATA_TYPE;\nconst { InvalidAwareTypes } = DataModel;\nconst HTMLElement = window.HTMLElement;\n\nconst isSimpleObject = (obj) => {\n    let token;\n    if (typeof obj === 'object') {\n        if (obj === null) { return false; }\n        token = Object.prototype.toString.call(obj);\n        if (token === '[object Object]') {\n            return (obj.constructor.toString().match(/^function (.*)\\(\\)/m) || [])[1] === 'Object';\n        }\n    }\n    return false;\n};\n\n/**\n * Returns unique id\n * @return {string} Unique id string\n */\nconst\n    getUniqueId = () => `id-${new Date().getTime()}${Math.round(Math.random() * 10000)}`;\n\n/**\n * Deep copies an object and returns a new object.\n * @param {Object} o Object to clone\n * @return {Object} New Object.\n */\nconst clone = (o) => {\n    const output = {};\n    let v;\n    for (const key in o) {\n        if ({}.hasOwnProperty.call(o, key)) {\n            v = o[key];\n            output[key] = isSimpleObject(v) ? clone(v) : v;\n        }\n    }\n    return output;\n};\n\n/**\n* Checks the existence of keys in an object\n* @param {Array} keys Set of keys which are to be checked\n* @param {Object} obj whose keys are checked from the set of keys provided\n* @return {Object} Error if the keys are absent, or the object itself\n*/\nconst checkExistence = (keys, obj) => {\n    const nonExistentKeys = [];\n    keys.forEach((key) => {\n        if (key in obj) {\n            return;\n        }\n        nonExistentKeys.push(key);\n    });\n    return nonExistentKeys;\n};\n\nconst sanitizeIP = {\n    typeObj: (keys, obj) => {\n        if (typeof obj !== 'object') {\n            return Error('Argument type object expected');\n        }\n\n        const nonExistentKeys = checkExistence(keys, obj);\n        if (nonExistentKeys.length) {\n            return Error(`Missing keys from parameter ${nonExistentKeys.join(', ')}`);\n        }\n        return obj;\n    },\n\n    /* istanbul ignore next */ htmlElem: (elem) => {\n        if (!(elem instanceof HTMLElement)) {\n            return Error('HTMLElement required');\n        }\n        return elem;\n    }\n};\n\n/**\n * Gets the maximum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Maximum value\n */\nconst getMax = (data, field) => Math.max(...data.map(d => d[field]));\n\n/**\n * Gets the minimum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Minimum value\n */\nconst getMin = (data, field) => Math.min(...data.map(d => d[field]));\n\n/**\n * Gets the domain from the data based on the field name and type of field\n * @param  {Array.<Object> | Array.<Array>} data       Data Array\n * @param  {Array.<string>} fields    Array of fields from where the domain will be calculated\n * @param {string} fieldType Type of field - nominal, quantitiative, temporal.\n * @return {Array} Usually contains a min and max value if field is quantitative or\n * an array of values if field type is nominal or ordinal\n */\nconst getDomainFromData = (data, fields, fieldType) => {\n    let domain;\n    const domArr = [];\n    data = data[0] instanceof Array ? data : [data];\n\n    switch (fieldType) {\n    case CATEGORICAL:\n        domain = [].concat(...data.map(arr => arr.map(d => d[fields[0]]).filter(d => d !== undefined)));\n        break;\n    default:\n        for (let i = 0, len = data.length; i < len; i++) {\n            const arr = data[i];\n            const [field0, field1] = fields;\n            const arr0 = arr.filter(d => !isNaN(d[field0]));\n            const arr1 = arr.filter(d => !isNaN(d[field1]));\n            if (arr0.length || arr1.length) {\n                const firstMin = getMin(arr0, field0);\n                const secondMin = getMin(arr1, field1);\n                const firstMax = getMax(arr0, field0);\n                const secondMax = getMax(arr1, field1);\n                domArr.push([Math.min(firstMin, secondMin), Math.max(firstMax, secondMax)]);\n            }\n        }\n        domain = domArr.length ? [Math.min(...domArr.map(d => d[0])), Math.max(...domArr.map(d => d[1]))] : [];\n        break;\n    }\n    return domain;\n};\n\nconst sanitizeDomainWhenEqual = (domain) => {\n    if (domain[0] === domain[1]) {\n        domain[0] = domain[0] > 0 ? 0 : domain[0];\n        domain[1] = domain[1] > 0 ? domain[1] : 0;\n    }\n    return domain;\n};\n\n/**\n * Union Domain values\n * @param {Array.<Array>} domains Array of domain values\n * @param {string} fieldType type of field - dimension,measure or datetime.\n * @return {Array} Unioned domain of all domain values.\n */\nconst unionDomain = (domains, fieldType) => {\n    let domain = [];\n    domains = domains.filter(dom => dom && dom.length);\n    if (domains.length) {\n        if (fieldType === CATEGORICAL) {\n            domain = [].concat(...domains);\n        } else {\n            domain = [Math.min(...domains.map(d => d[0])), Math.max(...domains.map(d => d[1]))];\n        }\n    }\n\n    return domain;\n};\n\nconst symbolFns = {\n    circle: symbolCircle,\n    cross: symbolCross,\n    diamond: symbolDiamond,\n    square: symbolSquare,\n    star: symbolStar,\n    wye: symbolWye,\n    triangle: symbolTriangle\n};\n\nconst easeFns = {\n    cubic: easeCubic,\n    bounce: easeBounce,\n    linear: easeLinear,\n    elastic: easeElastic,\n    back: easeBack,\n    poly: easePoly,\n    circle: easeCircle\n};\n\n/**\n * Returns the maximum or minimum points of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @param {string} minOrMax minimum or maximum.\n * @return {Object} Minimum or maximum point.\n */\nconst getExtremePoint = (points, compareValue, minOrMax) => {\n    let extremePoint;\n    let point;\n    const len = points.length;\n    let minOrMaxVal = minOrMax === 'max' ? -Infinity : Infinity;\n    let val;\n\n    for (let i = 0; i < len; i++) {\n        point = points[i];\n        val = point[compareValue];\n        if (minOrMax === 'min' ? val < minOrMaxVal : val > minOrMaxVal) {\n            minOrMaxVal = val;\n            extremePoint = point;\n        }\n    }\n\n    return extremePoint;\n};\n\n/**\n * Returns the minimum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Minimum point.\n */\nconst getMinPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'min');\n\n/**\n * Returns the maximum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Maximum point.\n */\nconst getMaxPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'max');\n\n/**\n * Gets the index of the closest value of the given value from the array.\n * @param {Array} arr Array of values\n * @param {number} value Value from which the nearest value will be calculated.\n * @param {string} side side property.\n * @return {number} index of the closest value\n */\n/* istanbul ignore next */const getClosestIndexOf = (arr, value, side) => {\n    let low = 0;\n    const arrLen = arr.length;\n    let high = arrLen - 1;\n\n    let mid;\n    let d1;\n    let d2;\n\n    while (low < high) {\n        mid = Math.floor((low + high) / 2);\n        d1 = Math.abs(arr[mid] - value);\n        d2 = Math.abs(arr[mid + 1] - value);\n\n        if (d2 <= d1) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n\n    if (!side) {\n        return high;\n    }\n\n    const highVal = arr[high];\n    if (highVal === value) {\n        return high;\n    } else if (highVal > value) {\n        if (high === 0) { return high; }\n        return side === 'left' ? high - 1 : high;\n    }\n    if (high === arr.length - 1) { return high; }\n    return side === 'left' ? high : high + 1;\n};\n\nconst getNearestValue = (data, key) => {\n    const filterData = data.filter(d => typeof d === 'number');\n    return filterData[getClosestIndexOf(filterData, key)];\n};\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst getWindow = () => window;\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst reqAnimFrame = (() => requestAnimationFrame)();\n\nconst cancelAnimFrame = (() => cancelAnimationFrame)();\n\n/**\n * Capitalizes the first letter of the word\n * @param {string} text word\n * @return {string} Capitalized word\n */\nconst capitalizeFirst = (text) => {\n    text = text.toLowerCase();\n\n    return text.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1));\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst unique = arr => ([...new Set(arr)]);\n\n/**\n * Gets the minimum difference between two consecutive numbers  in an array.\n * @param {Array} arr Array of numbers\n * @param {number} index index of the value\n * @return {number} minimum difference between values\n */\n/* istanbul ignore next */ const getMinDiff = (arr, index) => {\n    let diff;\n    let uniqueVals;\n    if (index !== undefined) {\n        uniqueVals = unique(arr.map(d => d[index]));\n    } else {\n        uniqueVals = unique(arr);\n    }\n    if (uniqueVals.length > 1) {\n        diff = Math.abs(uniqueVals[1] - uniqueVals[0]);\n        for (let i = 2, len = uniqueVals.length; i < len; i++) {\n            diff = Math.min(diff, Math.abs(uniqueVals[i] - uniqueVals[i - 1]));\n        }\n    } else {\n        diff = uniqueVals[0];\n    }\n\n    return diff;\n};\n\n/**\n * Returns the class name appended with a given id.\n * @param {string} cls class name\n * @param {string} id unique identifier\n * @param {string} prefix string needed to add before the classname\n * @return {string} qualified class name\n */\n/* istanbul ignore next */const getQualifiedClassName = (cls, id, prefix) => {\n    cls = cls.replace(/^\\.*/, '');\n    return [`${prefix}-${cls}`, `${prefix}-${cls}-${id}`];\n};\n\n/**\n * This method is used to set the default value for variables\n * without sullying the code with conditional statements.\n *\n * @export\n * @param {any} param The parameter to test.\n * @param {any} value The default value to assign.\n * @return {any} The value.\n */\n/* istanbul ignore next */ const defaultValue = (param, value) => {\n    if (typeof param === 'undefined' || (typeof param === 'object' && !param)) {\n        return value;\n    }\n    return param;\n};\n\n/**\n * DESCRIPTION TODO\n *\n * @export\n * @param {Object} graph graph whose dependency order has to be generated\n * @return {Object}\n */\nconst getDependencyOrder = (graph) => {\n    const dependencyOrder = [];\n    const visited = {};\n    const keys = Object.keys(graph);\n    /**\n     * DESCRIPTION TODO\n     *\n     * @export\n     * @param {Object} name\n     * @return {Object}\n     */\n    const visit = (name) => {\n        if (dependencyOrder.length === keys.length) {\n            return true;\n        }\n        visited[name] = true;\n        const edges = graph[name];\n        for (let e = 0; e < edges.length; e++) {\n            const dep = edges[e];\n            if (!visited[dep]) {\n                visit(dep);\n            }\n        }\n\n        dependencyOrder.push(name);\n        return false;\n    };\n\n    for (let i = 0; i < keys.length; i++) {\n        if (visit(keys[i], i)) break;\n    }\n\n    return dependencyOrder;\n};\n\n/**\n * Iterates over the properties of an object and applies the function\n *\n * @param {any} obj object to be iterated upon\n * @param {any} fn  function to be applied on it\n */\nconst objectIterator = (obj, fn) => {\n    for (const key in obj) {\n        if (Object.hasOwnProperty.call(obj, key)) {\n            fn(key, obj);\n        }\n    }\n};\n\n/**\n * This class creates a d3 voronoi for retrieving the nearest neighbour of any point from a set of two\n * dimensional points\n * @class Voronoi\n */\n/* istanbul ignore next */ class Voronoi {\n    /**\n     * Initialize the voronoi with the data given.\n     * @param {Array.<Object>} data Array of points.\n     */\n    constructor (data = []) {\n        this._voronoi = voronoi().x(d => d.x).y(d => d.y);\n        this.data(data);\n    }\n\n    /**\n     * Sets the data to voronoi\n     * @param {Array.<Object>} data Array of objects.\n     * @return {Voronoi} Instance of voronoi.\n     */\n    data (data) {\n        if (data) {\n            this._voronoiFn = this._voronoi(data);\n        }\n        return this;\n    }\n\n    /**\n     * Finds the closest point to the x and y position given.\n     * @param {number} x x value\n     * @param {number} y y value\n     * @param {number} radius search radius.\n     * @return {Object} Details of the nearest point.\n     */\n    find (x, y, radius) {\n        return this._voronoiFn.find(x, y, radius);\n    }\n}\n\nconst getObjProp = (obj, ...fields) => {\n    if (obj === undefined || obj === null) {\n        return obj;\n    }\n    let retObj = obj;\n    for (let i = 0, len = fields.length; i < len; i++) {\n        retObj = retObj[fields[i]];\n        if (retObj === undefined || retObj === null) {\n            break;\n        }\n    }\n    return retObj;\n};\n\n/**\n * Sanitize an input number / string mixed number. Currently dot in the no is not supported.\n *\n * @param {number | string} val pure number or string mixed number\n * @return {number | null}  Number if it can be extracted. Otherwise null\n */\nconst intSanitizer = (val) => {\n    const arr = val.toString().match(/(\\d+)(px)*/g);\n    if (!arr) {\n        // If only characters are passed\n        return null;\n    }\n\n    return parseInt(arr[0], 10);\n};\n\nconst generateGetterSetters = (context, props) => {\n    Object.entries(props).forEach((propInfo) => {\n        const prop = propInfo[0];\n        const { sanitization, preset, onset, typeChecker, defaultValue: defVal } = propInfo[1];\n        const prototype = context.constructor.prototype;\n        if (!(Object.hasOwnProperty.call(prototype, prop))) {\n            if (defVal) {\n                context[`_${prop}`] = defVal;\n            }\n            context[prop] = (...params) => {\n                if (params.length) {\n                    let value = params[0];\n                    if (sanitization) {\n                        value = sanitization(context, params[0], context[`_${prop}`]);\n                    }\n                    if (preset) {\n                        preset(context, value);\n                    }\n                    if (typeChecker && !typeChecker(value)) {\n                        return context[`_${prop}`];\n                    }\n                    context[`_${prop}`] = value;\n                    if (onset) {\n                        onset(context, value);\n                    }\n                    return context;\n                } return context[`_${prop}`];\n            };\n        }\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} prop\n */\nconst getArraySum = (arr, prop) => arr.reduce((total, elem) => {\n    total += prop ? elem[prop] : elem;\n    return total;\n}, 0);\n\n/**\n *\n *\n * @param {*} arr1\n * @param {*} arr2\n *\n */\nconst arraysEqual = (arr1, arr2) => {\n    if (arr1.length !== arr2.length) { return false; }\n    for (let i = arr1.length; i >= 0; i--) {\n        if (arr1[i] !== arr2[i]) { return false; }\n    }\n\n    return true;\n};\n\n/* eslint valid-typeof:0 */\n/**\n * Returns a validation function which can be used to validate variables against a type and value\n *\n * @param {any} type type of value that the object should have\n * @return {Object} validation function\n */\nconst isEqual = type => (oldVal, newVal) => {\n    if (type === 'Array') {\n        if (!oldVal) {\n            return false;\n        }\n        return arraysEqual(oldVal, newVal);\n    } else if (type === 'Object') {\n        return Object.is(oldVal, newVal);\n    } return oldVal === newVal;\n};\n\n/**\n * Description @todo\n *\n * @param {any} transactionModel @todo\n * @param {any} transactionEndpoint @todo\n * @param {any} transactionItems @todo\n * @return {any} @todo\n */\nconst enableChainedTransaction = (transactionModel, transactionEndpoint, transactionItems) =>\n    transactionItems.forEach(item => transactionModel\n        .registerImmediateListener(item, ([, newVal]) => transactionEndpoint[item](newVal)));\n\n/**\n * Chceks if the element is istanceof HTMLElement\n *\n * @param {Object} elem any JS Object\n */\nconst isHTMLElem = elem => elem instanceof HTMLElement;\n\nconst ERROR_MSG = {\n    INTERFACE_IMPL: 'Method not implemented'\n};\n\n/**\n * Merges the sink object in the source by recursively iterating through the object properties\n * @param {Object} source Source Object\n * @param {Object} sink Sink Object\n * @return {Object} Merged object\n */\nconst mergeRecursive = (source, sink) => {\n    for (const prop in sink) {\n        if (isSimpleObject(source[prop]) && isSimpleObject(sink[prop])) {\n            mergeRecursive(source[prop], sink[prop]);\n        } else if (sink[prop] instanceof Object && sink[prop].constructor === Object) {\n            source[prop] = {};\n            mergeRecursive(source[prop], sink[prop]);\n        } else {\n            source[prop] = sink[prop];\n        }\n    }\n    return source;\n};\n\n/**\n * Creates a selection set from a data set with corresponding attributes\n *\n * @export\n * @param {Selection} sel contains previous selection\n * @param {Object} appendObj Object to be appended\n * @param {Array} data Data based on which the selection is entered/updated/removed\n * @param {Object} [attrs={}] Attributes to be set on the data\n * @return {Selection} Merged selection\n */\nconst createSelection = (sel, appendObj, data, idFn) => {\n    let selection = sel || dataSelect(idFn);\n\n    selection = selection.data(data);\n\n    const enter = selection.enter().append(appendObj);\n    const mergedSelection = enter.merge(selection);\n\n    const exitSelection = selection.exit();\n    exitSelection.getObjects().forEach(inst => inst.remove());\n    exitSelection.remove();\n    return mergedSelection;\n};\n\nconst interpolateArray = (data, fitCount) => {\n    const linearInterpolate = function (before, after, atPoint) {\n        return before + (after - before) * atPoint;\n    };\n    const newData = [];\n    const springFactor = ((data.length - 1) / (fitCount - 1));\n    newData[0] = data[0]; // for new allocation\n    for (let i = 1; i < fitCount - 1; i++) {\n        const tmp = i * springFactor;\n        const before = (Math.floor(tmp)).toFixed();\n        const after = (Math.ceil(tmp)).toFixed();\n        const atPoint = tmp - before;\n        newData[i] = linearInterpolate(data[before], data[after], atPoint);\n    }\n    newData[fitCount - 1] = data[data.length - 1]; // for new allocation\n    return newData;\n};\n\n/**\n *\n *\n * @param {*} fn\n */\nconst nextFrame = (fn) => {\n    setTimeout(() => {\n        fn();\n    }, 0);\n};\n\n/**\n *\n *\n * @param {*} angle\n */\nconst angleToRadian = angle => angle * Math.PI / 180;\n\n/**\n *\n *\n * @param {*} newName\n * @param {*} oldName\n */\nconst replaceCSSPrefix = () => {\n    // @todo\n};\n\n/**\n * Gets the  interpolator function from d3 color\n *\n */\nconst interpolator = () => interpolate;\n\n/**\n * Gets the number interpolator from d3 color\n *\n */\nconst numberInterpolator = () => interpolateNumber;\n\n/**\n * Gets the rgb interpolator from d3 color\n *\n */\nconst colorInterpolator = () => interpolateRgb;\n\n/**\n * Gets the hsl interpolator from d3 color\n *\n */\nconst hslInterpolator = () => interpolateHslLong;\n\nconst transformColors = () => ({\n    color,\n    rgb,\n    hsl\n});\n\n/**\n * Gets the piecewise interpolator from d3 color\n *\n */\nconst piecewiseInterpolator = () => piecewise;\n\nfunction hue2rgb (p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\n  /**\n   * Converts an HSL color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n   * Assumes h, s, and l are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param   Number  h       The hue\n   * @param   Number  s       The saturation\n   * @param   Number  l       The lightness\n   * @return  Array           The RGB representation\n   */\nconst hslToRgb = (h, s, l, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\n  /**\n   * Converts an RGB color value to HSV. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n   * Assumes r, g, and b are contained in the set [0, 255] and\n   * returns h, s, and v in the set [0, 1].\n   *\n   * @param   Number  r       The red color value\n   * @param   Number  g       The green color value\n   * @param   Number  b       The blue color value\n   * @return  Array           The HSV representation\n   */\nconst rgbToHsv = (r, g, b, a = 1) => {\n    r = +r; g = +g; b = +b; a = +a;\n    r /= 255; g /= 255; b /= 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h;\n    let s;\n    const l = (max + min) / 2;\n\n    if (max === min) {\n        h = s = 0; // achromatic\n    } else {\n        const d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n        default: break;\n        }\n        h /= 6;\n    }\n    return [h, s, l, a];\n};\n\n  /**\n   * Converts an HSV color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n   * Assumes h, s, and v are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param   Number  h       The hue\n   * @param   Number  s       The saturation\n   * @param   Number  v       The value\n   * @return  Array           The RGB representation\n   */\nconst hsvToRgb = (h, s, v, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n    default: break;\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\nconst hexToHsv = (hex) => {\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? rgbToHsv(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) : '';\n};\n\nconst detectColor = (col) => {\n    const matchRgb = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/;\n    const matchHsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g;\n\n    // Source :  https://gist.github.com/sethlopezme/d072b945969a3cc2cc11\n     // eslint-disable-next-line\n    const matchRgba = /rgba?\\(((25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,\\s*?){2}(25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,?\\s*([01]\\.?\\d*?)?\\)/;\n     // eslint-disable-next-line\n    const matchHsla = /^hsla\\(([\\d.]+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*(\\d*(?:\\.\\d+)?)\\)$/;\n    const matchHex = /^#([0-9a-f]{3}){1,2}$/i;\n\n    if (matchRgb.test(col) || matchRgba.test(col)) {\n        return 'rgb';\n    } else if (matchHsl.test(col) || matchHsla.test(col)) {\n        return 'hsl';\n    } else if (matchHex.test(col)) {\n        return 'hex';\n    } return col;\n};\n\nconst assembleModelFromIdentifiers = (model, identifiers) => {\n    let schema = [];\n    let data;\n    const fieldMap = model.getFieldsConfig();\n    if (identifiers.length) {\n        const fields = identifiers[0];\n        const len = fields.length;\n        for (let i = 0; i < len; i++) {\n            const field = fields[i];\n            const fieldObj = fieldMap[field] && Object.assign({}, fieldMap[field].def);\n            if (fieldObj) {\n                schema.push(Object.assign(fieldObj));\n            }\n        }\n\n        data = [];\n        const header = identifiers[0];\n        for (let i = 1; i < identifiers.length; i += 1) {\n            const vals = identifiers[i];\n            const temp = {};\n            vals.forEach((fieldVal, cIdx) => {\n                temp[header[cIdx]] = fieldVal;\n            });\n            data.push(temp);\n        }\n    } else {\n        data = [];\n        schema = [];\n    }\n\n    return new model.constructor(data, schema);\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} criteria\n *\n */\nconst getDataModelFromRange = (dataModel, criteria, mode, hasBarLayer) => {\n    if (criteria === null) return null;\n\n    const selFields = Object.keys(criteria);\n    const selFn = fields => selFields.every((field) => {\n        let fieldValue = fields[field].internalValue;\n        const range = criteria[field][0] instanceof Array ? criteria[field][0] : criteria[field];\n\n        if (typeof range[0] === STRING) {\n            return range.find(d => d === fieldValue) !== undefined;\n        }\n\n        if (range) {\n            // Check if the selected bar value lies inside the selection box\n            let isFieldSelected = fieldValue >= range[0] && fieldValue <= range[1];\n            if (hasBarLayer && !isFieldSelected) {\n                // Check if the selection box overlaps the bar, if overlap bar is selected\n                fieldValue = [0, fieldValue];\n                isFieldSelected = fieldValue[0] <= range[1] && range[0] <= fieldValue[1];\n            }\n            return isFieldSelected;\n        }\n        return true;\n    });\n\n    return dataModel.select(selFn, {\n        saveChild: false,\n        mode\n    });\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} identifiers\n *\n */\nconst getDataModelFromIdentifiers = (dataModel, identifiers, mode, hasBarLayer) => {\n    let filteredDataModel;\n    if (identifiers instanceof Array) {\n        const fieldsConfig = dataModel.getFieldsConfig();\n\n        const dataArr = identifiers.slice(1, identifiers.length);\n        if (identifiers instanceof Function) {\n            filteredDataModel = identifiers(dataModel, {}, false);\n        } else if (identifiers instanceof Array && identifiers[0].length) {\n            const filteredSchema = identifiers[0].filter(d => d in fieldsConfig);\n            filteredDataModel = dataModel.select((fields) => {\n                let include = true;\n                filteredSchema.forEach((propField, idx) => {\n                    const value = fields[propField].internalValue;\n                    const index = dataArr.findIndex(d => d[idx] === value);\n                    include = include && index !== -1;\n                });\n                return include;\n            }, {\n                saveChild: false,\n                mode\n            });\n        } else {\n            filteredDataModel = dataModel.select(() => false, {\n                saveChild: false,\n                mode\n            });\n        }\n    } else {\n        filteredDataModel = getDataModelFromRange(dataModel, identifiers, mode, hasBarLayer);\n    }\n    return filteredDataModel;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} listenerMap\n */\nconst registerListeners = (context, listenerMap, ...params) => {\n    const propListenerMap = listenerMap(context, ...params);\n    for (const key in propListenerMap) {\n        if ({}.hasOwnProperty.call(propListenerMap, key)) {\n            const { namespace } = params[1];\n            let ns = null;\n            if (namespace) {\n                ns = namespace;\n            }\n            const mapObj = propListenerMap[key];\n            const propType = mapObj.type;\n            const props = mapObj.props;\n            const listenerFn = mapObj.listener;\n            context.store()[propType](props, listenerFn, false, {\n                namespace: ns\n            });\n        }\n    }\n};\n\nconst isValidValue = value => !isNaN(value) && value !== -Infinity && value !== Infinity;\n/**\n *\n *\n * @param {*} str\n *\n */\nconst escapeHTML = (str) => {\n    const htmlEscapes = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#x27;',\n        '/': '&#x2F;'\n    };\n    const htmlEscaper = /[&<>\"'/]/g;\n    return (`${str}`).replace(htmlEscaper, match => htmlEscapes[match]);\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst transposeArray = arr => arr[0].map((col, i) => arr.map(row => row[i]));\nconst toArray = arr => (arr instanceof Array ? arr : [arr]);\nconst extendsClass = (cls, extendsFrom, found) => {\n    if (!cls) {\n        return false;\n    }\n    const prototype = cls.prototype;\n    if (prototype instanceof extendsFrom) {\n        found = true;\n    } else {\n        found = extendsClass(prototype, extendsFrom, found);\n    }\n    return found;\n};\n\n/**\n *\n * @param {*} dm1\n * @param {*} dm2\n */\nconst concatModels = (dm1, dm2) => {\n    const dataObj1 = dm1.getData();\n    const dataObj2 = dm2.getData();\n    const data1 = dataObj1.data;\n    const data2 = dataObj2.data;\n    const schema1 = dataObj1.schema;\n    const schema2 = dataObj2.schema;\n    const tuples1 = {};\n    const tuples2 = {};\n    const commonTuples = {};\n    for (let i = 0; i < data1.length; i++) {\n        for (let ii = 0; ii < data2.length; ii++) {\n            const row1 = data1[i];\n            const row2 = data2[ii];\n            const dim1Values = row1.filter((d, idx) => schema1[idx].type === FieldType.DIMENSION);\n            const dim2Values = row2.filter((d, idx) => schema2[idx].type === FieldType.DIMENSION);\n            const allDimSame = dim1Values.every(value => dim2Values.indexOf(value) !== -1);\n            if (allDimSame) {\n                const key = dim1Values.join();\n                !commonTuples[key] && (commonTuples[key] = {});\n                row1.forEach((value, idx) => {\n                    commonTuples[key][schema1[idx].name] = value;\n                });\n                row2.forEach((value, idx) => {\n                    commonTuples[key][schema2[idx].name] = value;\n                });\n            } else {\n                const dm1Key = dim1Values.join();\n                const dm2Key = dim2Values.join();\n                if (!commonTuples[dm1Key] && !commonTuples[dm2Key]) {\n                    !tuples1[dm1Key] && (tuples1[dm1Key] = {});\n                    !tuples2[dm2Key] && (tuples2[dm2Key] = {});\n                    row1.forEach((value, idx) => {\n                        tuples1[dm1Key][schema1[idx].name] = value;\n                    });\n                    row2.forEach((value, idx) => {\n                        tuples2[dm2Key][schema2[idx].name] = value;\n                    });\n                }\n            }\n        }\n    }\n\n    const commonSchema = [...schema1, ...schema2.filter(s2 => schema1.findIndex(s1 => s1.name === s2.name) === -1)];\n    const data = [...Object.values(tuples1), ...Object.values(tuples2), ...Object.values(commonTuples)];\n    return [data, commonSchema];\n};\n\nconst getSymbol = type => symbol().type(symbolFns[type]);\n\nconst stackOrders = {\n    [STACK_CONFIG.ORDER_NONE]: stackOrderNone,\n    [STACK_CONFIG.ORDER_ASCENDING]: stackOrderAscending,\n    [STACK_CONFIG.ORDER_DESCENDING]: stackOrderDescending\n};\nconst stackOffsets = {\n    [STACK_CONFIG.OFFSET_DIVERGING]: stackOffsetDiverging,\n    [STACK_CONFIG.OFFSET_NONE]: stackOffsetNone,\n    [STACK_CONFIG.OFFSET_EXPAND]: stackOffsetExpand,\n    [STACK_CONFIG.OFFSET_WIGGLE]: stackOffsetWiggle\n};\n\n// eslint-disable-next-line require-jsdoc\nconst stack = params => d3Stack().keys(params.keys).offset(stackOffsets[params.offset])\n                .order(stackOrders[params.order])(params.data);\n\n/**\n * Groups the data into a hierarchical tree structure based on one or more fields.\n * @param { Object } params Configuration properties for nesting data\n * @param { Array.<Array> } params.data Data which needs to be grouped\n * @param { Array.<number> } params.keys Field indices by which the data will be grouped\n * @return { Array.<Object> } Grouped data array\n */\nconst nestCollection = (params) => {\n    const nestFn = nest();\n    params.keys.forEach(key => nestFn.key(d => d[key]));\n    return nestFn.entries(params.data);\n};\n\nconst pathInterpolators = {\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    stepAfter: curveStepAfter,\n    catmullRom: curveCatmullRom,\n    step: curveStep,\n    stepBefore: curveStepBefore,\n    linear: curveLinear\n};\n\nconst Symbols = {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom,\n    line,\n    area,\n    pie,\n    arc,\n    nest\n};\n\nconst Scales = {\n    band: scaleBand\n};\n\nconst getSmallestDiff = (points) => {\n    points = points.sort((a, b) => a - b);\n    let minDiff = points[1] - points[0];\n    for (let i = 2; i < points.length; i++) {\n        minDiff = Math.min(minDiff, points[i] - points[i - 1]);\n    }\n\n    return minDiff;\n};\n\nconst timeFormats = {\n    millisecond: '%A, %b %e, %H:%M:%S.%L',\n    second: '%A, %b %e, %H:%M:%S',\n    minute: '%A, %b %e, %H:%M',\n    hour: '%A, %b %e, %H:%M',\n    day: '%A, %b %e, %Y',\n    month: '%B %Y',\n    year: '%Y'\n};\n\nconst timeDurations = [\n    ['millisecond', 'second', 'minute', 'hour', 'day', 'month', 'year'],\n    [1, 1000, 60000, 3600000, 86400000, 2592000000, 31536000000]\n];\n\nconst getNearestInterval = (interval) => {\n    const index = getClosestIndexOf(timeDurations[1], interval);\n    return timeDurations[0][index];\n};\n\nconst formatTemporal = (value, interval) => {\n    const nearestInterval = getNearestInterval(interval);\n    return DateTimeFormatter.formatAs(value, timeFormats[nearestInterval]);\n};\n\nconst temporalFields = (dataModel) => {\n    const filteredFields = {};\n    Object.entries(dataModel.getFieldspace().getDimension()).forEach(([fieldName, fieldObj]) => {\n        if (fieldObj.subtype() === TEMPORAL) {\n            filteredFields[fieldName] = fieldObj;\n        }\n    });\n    return filteredFields;\n};\n\nconst require = (lookupWhat, lookupDetails) => ({\n    resolvable: (store) => {\n        const lookupTarget = store[lookupWhat];\n        const depArr = lookupDetails.slice(0, lookupDetails.length - 1);\n        const fn = lookupDetails[lookupDetails.length - 1]; // fn\n\n        const deps = depArr.map(str => lookupTarget[str]);\n        return {\n            fn: fn(...deps),\n            depArr\n        };\n    }\n});\n\nconst nextAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||\n    function (callback) {\n        setTimeout(callback, 16);\n    };\n\nconst getValueParser = config => (val) => {\n    if (val instanceof InvalidAwareTypes) {\n        return val in config ? config[val] : `${val}`;\n    }\n    return val;\n};\n\nconst retrieveNearestGroupByReducers = (dataModel, ...measureFieldNames) => {\n    const filteredReducers = {};\n    if (dataModel instanceof DataModel) {\n        const derivations = [...dataModel.getDerivations().reverse(), ...dataModel.getAncestorDerivations().reverse()];\n        const nearestReducers = defaultValue(\n            getObjProp(derivations.find(derv => derv.op === DM_DERIVATIVES.GROUPBY), 'criteria'), {});\n\n        const measures = dataModel.getFieldspace().getMeasure();\n        measureFieldNames = measureFieldNames.length ? measureFieldNames : Object.keys(measures);\n        measureFieldNames.forEach((measureName) => {\n            if (nearestReducers[measureName]) {\n                filteredReducers[measureName] = nearestReducers[measureName];\n            } else {\n                const measureField = measures[measureName];\n                if (measureField) {\n                    filteredReducers[measureName] = measureField.defAggFn();\n                }\n            }\n        });\n    }\n    return filteredReducers;\n};\n\nconst retrieveFieldDisplayName = (dm, fieldName) => dm.getFieldspace().fieldsObj()[fieldName].displayName();\n/**\n * Fetches the nearest sort operation details by traversing the chain of parent DataModels\n * @param {Object} dataModel Instance of DataModel\n *\n * @return {Array|null} sort criteria, null if no sort operation found\n */\nconst nearestSortingDetails = (dataModel) => {\n    const allDerivations = [...dataModel.getAncestorDerivations(), ...dataModel.getDerivations()];\n    const nearestSortDerivation = allDerivations.reverse().find(derivation => derivation.op === DM_DERIVATIVES.SORT);\n\n    return nearestSortDerivation ? nearestSortDerivation.criteria : null;\n};\n\n/**\n * Map containing key, value sortingOrder pairs\n */\nconst sortOrderMap = {\n    [SORT_ORDER_ASCENDING]: (firstVal, secondVal) => firstVal.localeCompare(secondVal),\n    [SORT_ORDER_DESCENDING]: (firstVal, secondVal) => secondVal.localeCompare(firstVal)\n};\n\n/**\n * Sort categorical field based on it's sorting order\n * @param {string} sortOrder Order by which field is to be sorted (asc or desc or func)\n * @param {string} firstVal First sort parameter\n * @param {string} secondVal Second sort parameter\n * @return {number} position|null if sort order is invalid\n*/\nconst sortCategoricalField = (sortOrder, firstVal, secondVal) => {\n    const sortOrderType = typeof sortOrder;\n\n    if (sortOrderType === FUNCTION) {\n        return sortOrder(firstVal, secondVal);\n    } else if (sortOrderType === STRING) {\n        if (!sortOrderMap[sortOrder]) return null;\n        return sortOrderMap[sortOrder](firstVal, secondVal);\n    }\n    return null;\n};\n\nconst intersect = (arr1, arr2, accessors = [v => v, v => v]) => {\n    const [fn1, fn2] = accessors;\n    const set = new Set(arr2.map(v => fn2(v)));\n    return arr1.filter(value => set.has(fn1(value)));\n};\n\nconst partition = (array, filterFn) => array.reduce((acc, v, i) => {\n    const pass = filterFn(v, i, array);\n\n    pass ? acc[0].push(v) : acc[1].push(v);\n    return acc;\n}, [[], []]);\n\nconst mix = superclass => ({\n    with: (...mixins) => mixins.reduce((cls, mixin) => mixin(cls), superclass)\n});\n\nconst componentRegistry = (comps) => {\n    const reg = Object.assign({}, comps);\n    const regObj = {\n        register: (def, customKey) => {\n            const key = customKey || def.formalName();\n\n            reg[key] = def;\n            return regObj;\n        },\n        get: () => reg\n    };\n\n    return regObj;\n};\n\nexport {\n    componentRegistry,\n    mix,\n    partition,\n    getValueParser,\n    require,\n    intersect,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    stack,\n    nestCollection,\n    getSymbol,\n    transformColors,\n    detectColor,\n    hexToHsv,\n    hslToRgb,\n    rgbToHsv,\n    hsvToRgb,\n    concatModels,\n    toArray,\n    angleToRadian,\n    escapeHTML,\n    generateGetterSetters,\n    getArraySum,\n    interpolator,\n    piecewiseInterpolator,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    colorInterpolator,\n    numberInterpolator,\n    ERROR_MSG,\n    reqAnimFrame,\n    nextAnimFrame,\n    transposeArray,\n    cancelAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    symbolFns,\n    easeFns,\n    clone,\n    isEqual,\n    interpolateArray,\n    getMinPoint,\n    defaultValue,\n    getMaxPoint,\n    getClosestIndexOf,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    enableChainedTransaction,\n    isHTMLElem,\n    isSimpleObject,\n    nextFrame,\n    registerListeners,\n    replaceCSSPrefix,\n    getObjProp,\n    extendsClass,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    hslInterpolator,\n    getSmallestDiff,\n    getNearestValue,\n    retrieveNearestGroupByReducers,\n    nearestSortingDetails,\n    createSelection,\n    formatTemporal,\n    temporalFields,\n    retrieveFieldDisplayName,\n    sanitizeDomainWhenEqual,\n    sortCategoricalField\n};\n","const CommonProps = {\n    ACTION_INF: 'actionInf',\n    ON_LAYER_DRAW: 'onLayerDraw',\n    MATRIX_CREATED: 'matrixCreated'\n};\n\nexport default CommonProps;\n","export const COORD_TYPES = {\n    POLAR: 'polar',\n    CARTESIAN: 'cartesian'\n};\nexport const DATA_TYPE = {\n    FUNCTION: 'function',\n    STRING: 'string',\n    NUMBER: 'number',\n    BOOLEAN: 'Boolean'\n};\nexport const SORT_ORDER_ASCENDING = 'asc';\nexport const SORT_ORDER_DESCENDING = 'desc';\n","export { default as ReservedFields } from './reserved-fields';\nexport { default as CommonProps } from './common-props';\nexport {\n    COORD_TYPES,\n    DATA_TYPE,\n    SORT_ORDER_ASCENDING,\n    SORT_ORDER_DESCENDING\n} from './constants';\n","export const UNIT_GLOBAL_NAMESPACE = 'app.units';\nexport const UNIT_LOCAL_NAMESPACE = 'local.units';\nexport const LAYER_LOCAL_NAMESPACE = 'local.layers';\nexport const LAYER_GLOBAL_NAMESPACE = 'app.layers';\nexport const GROUP_GLOBAL_NAMESPACE = 'app.group';\nexport const GROUP_LOCAL_NAMESPACE = 'local.group';\nexport const CANVAS_LOCAL_NAMESPACE = 'local.canvas';\nexport const CANVAS_GLOBAL_NAMESPACE = 'app.canvas';\n\n","const ReservedFields = {\n    ROW_ID: '__id__'\n};\n\nexport default ReservedFields;\n","export const ORDER_ASCENDING = 'ascending';\nexport const ORDER_DESCENDING = 'descending';\nexport const ORDER_NONE = 'none';\nexport const OFFSET_DIVERGING = 'diverging';\nexport const OFFSET_NONE = 'none';\nexport const OFFSET_EXPAND = 'expand';\nexport const OFFSET_WIGGLE = 'wiggle';\n","import { default as DataModel } from 'datamodel';\nimport * as scales from './scales';\nimport * as colorSchemes from './color-schemes';\nimport * as STATE_NAMESPACES from './enums/namespace';\n\nconst InvalidAwareTypes = DataModel.InvalidAwareTypes;\n\nexport {\n    InvalidAwareTypes,\n    DataModel\n};\n\nexport {\n    ReservedFields,\n    CommonProps,\n    COORD_TYPES\n} from './enums';\n\nexport { STATE_NAMESPACES };\n\nexport {\n    scales,\n    colorSchemes\n};\n\nexport {\n    getNearestValue,\n    getValueParser,\n    transformColors,\n    detectColor,\n    hslToRgb,\n    rgbToHsv,\n    hexToHsv,\n    hsvToRgb,\n    escapeHTML,\n    angleToRadian,\n    generateGetterSetters,\n    getArraySum,\n    ERROR_MSG,\n    interpolator,\n    colorInterpolator,\n    numberInterpolator,\n    piecewiseInterpolator,\n    reqAnimFrame,\n    cancelAnimFrame,\n    nextAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    replaceCSSPrefix,\n    symbolFns,\n    defaultValue,\n    easeFns,\n    clone,\n    interpolateArray,\n    getMinPoint,\n    getMaxPoint,\n    getClosestIndexOf,\n    registerListeners,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    enableChainedTransaction,\n    isHTMLElem,\n    isEqual,\n    isSimpleObject,\n    nextFrame,\n    getObjProp,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    transposeArray,\n    toArray,\n    extendsClass,\n    concatModels,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    nestCollection,\n    stack,\n    getSymbol,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    hslInterpolator,\n    getSmallestDiff,\n    require,\n    formatTemporal,\n    nearestSortingDetails,\n    createSelection,\n    temporalFields,\n    retrieveNearestGroupByReducers,\n    retrieveFieldDisplayName,\n    sanitizeDomainWhenEqual,\n    sortCategoricalField,\n    intersect,\n    partition,\n    mix,\n    componentRegistry\n} from './common-utils';\n\nexport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint,\n    hasTouch\n} from './renderer-utils';\n\nexport {\n    Store,\n    transactor\n} from './store';\n\nexport {\n    timeMillisecond,\n    timeSecond,\n    timeMinute,\n    timeHour,\n    timeDay,\n    timeWeek,\n    timeMonth,\n    timeYear\n} from 'd3-time';\n\nexport { default as Smartlabel } from 'fusioncharts-smartlabel';\nexport { dataSelect } from './DataSystem';\n\nexport { default as LifeCycleManager } from './lifecycle-manager';\n\nexport {\n    DimensionSubtype,\n    FieldType,\n    MeasureSubtype,\n    DateTimeFormatter,\n    DM_DERIVATIVES,\n    GROUP_BY_FUNCTIONS\n} from 'datamodel';\n\n","const events = [\n    'initialized',\n    'beforeupdate',\n    'updated',\n    'beforedraw',\n    'drawn',\n    'beforeremove',\n    'removed',\n    'animationend'\n];\n\nconst compositions = [\n    'canvas',\n    'unit',\n    'layer',\n    'axis',\n    'facet-headers',\n    'legend',\n    'caption'\n];\n\nconst EVENT_LIST = [];\n\ncompositions.forEach((composition) => {\n    events.forEach((event) => {\n        EVENT_LIST.push(`${composition}.${event}`);\n    });\n});\n\nexport default EVENT_LIST;\n","/**\n * Creates a new promise when the given promise is resolved. This needs to be done so that after the lifecycle event\n * is completed, then again when the event gets completed, then a new promise gets resolved.\n *\n * @param {Promise} promise Instance of promise\n * @param {string} eventName name of event\n * @param {LifeCycleManager} context Instance of lifecyclemanager\n */\nexport const createPromise = (promise, eventName, context) => {\n    promise.then(() => {\n        const prm = context._makeNotifierPromise(eventName);\n        context._promises.set(eventName, prm);\n        createPromise(prm, eventName, context);\n    });\n};\n","import LifeCycleManager from './lifecycle-manager';\n\nexport default LifeCycleManager;\n","import EVENT_LIST from './event-list';\nimport { createPromise } from './helper';\n\n/**\n * At first call it accepts one function\n * calling it second time accepts notification object.\n * notification object then called with first accepted function\n *\n * @param {Function} resolveFn a promise's resolve function\n * @return {Function} a function to accept notification object\n */\nconst resolver = resolveFn => notification => resolveFn(notification);\n\n/**\n * Checks if the property string is present in the source object\n *\n * @param {Object} source source object whom you want to check the property\n * @param {string} property key name that need to be checked\n * @return {boolean} returns true if the property found in the source object\n */\nconst hasOwn = (source, property) => Object.prototype.hasOwnProperty.call(source, property);\n\n/**\n * LifeCycleManager which goes as a dependendecy to a muze\n * it accepts notification from the entire library throughout\n * the exeecution life\n *\n * @export\n * @class LifeCycleManager\n */\nexport default class LifeCycleManager {\n\n    /**\n     * Creates an instance of LifeCycleManager.\n     * @memberof LifeCycleManager\n     */\n    constructor () {\n        this._eventList = EVENT_LIST;\n        this._promises = new Map();\n        this._notifiers = {};\n        this._lifeCycles = {};\n        this._unreleasedLifeCycles = {};\n        this._boot();\n    }\n\n    /**\n     * Fills all the notifiers with resolver callback\n     *\n     * @memberof LifeCycleManager\n     */\n    _boot () {\n        this._notifiers = this._eventList.reduce((acc, name) => {\n            acc[name] = resolver;\n            return acc;\n        }, {});\n        this._preparePromises();\n    }\n\n    /**\n     * Public method which gives the promise corresponding\n     * to the event name\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    retrieve (eventName) {\n        return this._promises.get(eventName);\n    }\n\n    /**\n     * Creates a promise that will be passed to user's callback\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} a pending promise waiting for resolve to be called\n     * @memberof LifeCycleManager\n     */\n    _makeNotifierPromise (eventName) {\n        return new Promise((resolve) => {\n            this._notifiers[eventName] = resolver(resolve);\n        });\n    }\n\n    /**\n     * Prepares the promise map with pending promises\n     * all the promises are in a pending state where their's\n     * resolve function waiting to be called with notification object\n     * @memberof LifeCycleManager\n     */\n    _preparePromises () {\n        this._eventList.forEach((eventName) => {\n            const promise = this._makeNotifierPromise(eventName);\n            this._promises.set(eventName, promise);\n            createPromise(promise, eventName, this);\n        });\n    }\n\n    /**\n     * Resolves the promise with notification object\n     *\n     * @param {string} eventName name of the event in the system\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     *\n     * @memberof LifeCycleManager\n     */\n    _resolvePromise (eventName, notification) {\n        this._notifiers[eventName](notification);\n    }\n\n    /**\n     * Public method which is being called by different\n     * subcompoents of the system at different execution atages\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    notify (notification) {\n        // get the composition name from notification\n        // or from static formalName() method\n        const composition = notification.formalName || notification.client.constructor.formalName();\n        notification.formalName = composition;\n        this._releasePromisesFromCache();\n        this._notify(composition, notification);\n    }\n\n    /**\n     * Notify user the with promsie in a callback\n     * if callback not found then cache it\n     *\n     * @param {string} composition\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    _notify (composition, notification) {\n        const stage = notification.action;\n        const eventName = `${composition}.${stage}`;\n\n        // resolves promise with the notification object\n        this._resolvePromise(eventName, notification);\n\n        // get the promise from the promise map\n        const promise = this.retrieve(eventName);\n\n        if (this._lifeCycles[composition]) {\n            if (this._lifeCycles[composition][stage]) {\n                // if user given call back exists, then call with promise\n                this._callLifeCycleCallback(composition, stage, promise);\n            } else {\n                // otherwise cache the promise\n                this._cachePromise(composition, stage, promise);\n            }\n        } else {\n            this._cachePromise(composition, stage, promise);\n        }\n    }\n\n    /**\n     * Calls the user's callback with callback\n     *\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _callLifeCycleCallback (composition, stage, promise) {\n        const eventName = `${composition}.${stage}`;\n        this._lifeCycles[composition][stage](promise);\n        this._resetTargetPromise(eventName);\n    }\n\n    /**\n     * Try to clear the cached promsies once we have\n     * macthed callbacks from the user\n     *\n     * @memberof LifeCycleManager\n     */\n    _releasePromisesFromCache () {\n        const compositions = Object.keys(this._unreleasedLifeCycles);\n        compositions.forEach((composition) => {\n            const stages = Object.keys(this._unreleasedLifeCycles[composition]);\n            stages.forEach((stage) => {\n                if (this._lifeCycles[composition]) {\n                    if (this._lifeCycles[composition][stage]) {\n                        // take the promise from unreleased lifeCycles\n                        const promise = this._unreleasedLifeCycles[composition][stage];\n                        // call the user given callback with that promise\n                        this._callLifeCycleCallback(composition, stage, promise);\n                        // delete promise from unreleased lifeCycles\n                        delete this._unreleasedLifeCycles[composition][stage];\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Cache the promise in the map. This cache\n     * then get consumed if we get user callbacks\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _cachePromise (composition, stage, promise) {\n        if (!hasOwn(this._unreleasedLifeCycles, composition)) {\n            this._unreleasedLifeCycles[composition] = {};\n        }\n\n        if (!hasOwn(this._unreleasedLifeCycles[composition], stage)) {\n            this._unreleasedLifeCycles[composition][stage] = {};\n        }\n        this._unreleasedLifeCycles[composition][stage] = promise;\n    }\n\n    /**\n     * It register's the callbacks gievn the user\n     *\n     * @param {Object} [lifeCycles={}] a object with list of callbacks\n     * @memberof LifeCycleManager\n     */\n    register (lifeCycles = {}) {\n        this._lifeCycles = lifeCycles;\n        // as we get all the callbacks, try to call them\n        // from unreleased promise map\n        this._releasePromisesFromCache();\n    }\n\n    /**\n     * Reset the promise into pending state\n     *\n     * @param {string} eventName name of the event happening\n     * @memberof LifeCycleManager\n     */\n    _resetTargetPromise (eventName) {\n        setTimeout(() => {\n            this._notifiers[eventName] = resolver;\n            this._promises.set(eventName, this._makeNotifierPromise(eventName));\n        }, 0);\n    }\n}\n","import { select, event as d3event, selection, clientPoint } from 'd3-selection';\nimport { drag as d3drag } from 'd3-drag';\nimport 'd3-transition';\nimport { mergeRecursive } from './common-utils';\n/**\n * This function takes a raw DOM element or\n * a string and returns a d3 selection of that element.\n *\n * @param {HTMLElement | string} element The element to wrap in d3 selection.\n * @return {Selection} Instance of d3 selection.\n */\nconst selectElement = element => select(element);\n\n/**\n * It creates a new d3 element on the parent element\n * @param  {Selection} parent Element to which the element is to be appended\n * @param  {Object} elemType Type of the new element\n * @param  {Array} data Data for the new element\n * @param  {Object} selector classname/id/tagname for the element\n * @return {HTMLElement} Newly Created Element\n */\nconst makeElement = (parent, elemType, data, selector, callbacks = {}, keyFn) => {\n    if ((parent instanceof HTMLElement || parent instanceof SVGElement)) {\n        parent = selectElement(parent);\n    }\n\n    const selectorVal = selector ? selector[0] : null;\n    let selectorType = null;\n    let actualSelector = null;\n    let element = null;\n    let enterSel = null;\n    let mergeSel = null;\n    let filter;\n    if (selectorVal) {\n        if (selectorVal === '#') {\n            selectorType = 'id';\n            actualSelector = selector;\n        } else {\n            selectorType = 'class';\n            actualSelector = selector[0] === '.' ? selector : `.${selector}`;\n        }\n    } else {\n        actualSelector = elemType;\n        filter = true;\n    }\n    element = parent.selectAll(actualSelector);\n\n    filter && (element = element.filter(function () {\n        return this.parentNode === parent.node();\n    }));\n    element = element.data(data, keyFn);\n\n    enterSel = element.enter()\n                            .append(elemType || 'div');\n    callbacks.enter && enterSel.each(function (...params) {\n        callbacks.enter(selectElement(this), ...params);\n    });\n\n    mergeSel = enterSel.merge(element);\n    callbacks.update && mergeSel.each(function (...params) {\n        callbacks.update(selectElement(this), ...params);\n    });\n    if (selectorType === 'class') {\n        mergeSel.classed(selectorVal === '.' ? selector.substring(1, selector.length) : selector, true);\n    } else if (selectorType === 'id') {\n        mergeSel.attr('id', selector.substring(1, selector.length));\n    }\n    const exitSel = element.exit();\n\n    if (callbacks.exit) {\n        exitSel.each(function (...params) {\n            callbacks.exit(selectElement(this), ...params);\n        });\n    } else {\n        exitSel.remove();\n    }\n    return mergeSel;\n};\n\n/**\n * This function applies styles to an element\n *  @param  {Object} elem Element Selection\n * @param  {Object} styleObj Style Object to be applied\n * @return {Element} Newly Created Element\n*/\nconst applyStyle = (elem, styleObj) => {\n    Object.entries(styleObj).forEach((d) => {\n        elem.style(d[0], d[1]);\n    }, this);\n    return elem;\n};\n\n/**\n * This function appends a dom element in another element.\n * @param {HTMLElement | SVGElement} element1 The element in which to append the second element\n * @param {HTMLElement | SVGElement} element2 The element which will be appended.\n */\nconst appendElement = (element1, element2) => {\n    element1.appendChild(element2);\n};\n\n/**\n * Sets the attributes to the element.\n * @param {HTMLElement | SVGElement} element Element on which attributes will be applied\n * @param {Object} attrs Attributes which need to be applied\n */\nconst setElementAttrs = (element, attrs) => {\n    for (const key in attrs) {\n        if ({}.hasOwnProperty.call(attrs, key)) {\n            element.attr(key, attrs[key]);\n        }\n    }\n};\n\n/**\n * Sets attributes in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which attrs will be applied\n * @param {Array.<Object>} attrs Array of attributes\n * @param {string} className className of elements to select.\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setAttrs = (element, attrs, className) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    className !== undefined ? element.selectAll(`.${className}`).each(function () {\n        setElementAttrs(select(this), attrs);\n    }) : setElementAttrs(element, attrs);\n    return element;\n};\n\n/**\n * Adds a css class to elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst addClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, true) :\n                elem.classed(className, true);\n    });\n};\n\n/**\n * Removes the css class from elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst removeClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, false) :\n                elem.classed(className, false);\n    });\n};\n\n/**\n * Sets styles in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which styles will be applied\n * @param {Array.<Object>} styles Array of style attributes\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setStyles = (element, styles) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            element.style(key, styles[key]);\n        }\n    }\n    return element;\n};\n\n/**\n * Creates svg or html elements by binding data to the selection.Removes extra elements\n * on exit.\n * @param {Object} params Parameter object\n * @param {SVGElement | HTMLElement} params.container Container element where all elements will be appended\n * @param {string} params.selector Selector by which elements will be selected from dom\n * @param {string} params.append Append tag\n * @param {Function} params.each Function which will be executed for each data point and element.\n */\nconst createElements = (params) => {\n    const container = select(params.container);\n    let data;\n    let sel;\n\n    data = params.data;\n    if (typeof data === 'number') {\n        data = Array(data).fill().map((d, i) => i);\n    }\n    sel = container.selectAll(params.selector).data(data);\n\n    sel = container.selectAll(params.selector).filter(function () {\n        return this.parentNode === container.node();\n    }).data(params.data);\n\n    const selectionMerge = sel.enter().append(params.append).merge(sel).each(function (d, i) {\n        params.each(d, select(this), i);\n    });\n\n    selectionMerge.attr('class', params.className || '');\n    sel.exit().remove();\n};\n\n/**\n * Clips an element with given measurement. Basically it is used to hide overflowing portions\n * of any element.\n * @param {SVGElement} container svg element which needs to be clipped.\n * @param {Object} measurement Dimensions of the clipped rectangle.\n * @param {string} id Unique id of the clip element\n */\nconst clipElement = (container, measurement, id) => {\n    const clipPathElement = makeElement(select(container), 'clipPath', [1], `#${id}`);\n    const clipPathRect = makeElement(clipPathElement, 'rect', [1]);\n    clipPathRect.attr('x', measurement.x)\n                    .attr('y', measurement.x)\n                    .attr('width', measurement.width)\n                    .attr('height', measurement.height);\n    clipPathElement.attr('clip-path', `url(#${id})`);\n};\n\n/**\n * Returns the element of the corresponding classname.\n * @param {HTMLElement | SVGElement} node html or svg node element.\n * @param {string} className css class to be applied.\n * @return {HTMLElement | SVGElement} html or svg element.\n */\nconst getElementsByClassName = (node, className) => select(node).selectAll(className).nodes();\n\n/**\n * Gets the mouse position relative to an svg type of element\n * @param {SVGElement} element Any svg element like rect, circle, etc.\n * @param {Event} event Event object.\n * @return {Object} x and y position relative to the container element passed.\n */\nconst getMousePos = (element, event) => {\n    const boundingClientRect = element.getBoundingClientRect();\n    return {\n        x: event.x - boundingClientRect.x,\n        y: event.y - boundingClientRect.y\n    };\n};\n\nconst getClientPoint = (...params) => {\n    const pos = clientPoint(...params);\n    return {\n        x: pos[0],\n        y: pos[1]\n    };\n};\n\n/** This function appends a dom element in another element.\n * @param {Object} tag The tag name of the element to append\n * @param {Object} mount Mount point fo the element\n * @return {Object} selection of the appended element\n */\nconst createElement = (tag, mount) => select(mount).append(tag).node();\n\n/**\n * Gets the d3 event function\n * @return {Object} d3 event\n */\nconst getEvent = () => d3event;\n\n/**\n * Gets the d3 drag function\n * @return {Object} d3 drag\n */\nconst getD3Drag = () => d3drag;\n\nconst getSmartComputedStyle = (group, css) => {\n    let textEl;\n    const testText = 'W';\n    const mandatoryStyle = {\n        'fill-opacity': 0\n    };\n    const className = typeof css === 'string' ? css : (css instanceof Array ? css.join(' ') : undefined);\n\n    if (group.node() instanceof HTMLElement) {\n        textEl = group.append('div').html(testText);\n    } else {\n        textEl = group.append('text').text(testText);\n    }\n\n    if (className) {\n        textEl.attr('class', className);\n    } else if (typeof css === 'object') {\n        delete css['fill-opacity'];\n        mergeRecursive(mandatoryStyle, css);\n    }\n\n    textEl.style(mandatoryStyle);\n    const computedStyle = window.getComputedStyle(textEl.node());\n    const styleForSmartLabel = {\n        fontSize: computedStyle.fontSize,\n        fontFamily: computedStyle.fontFamily,\n        fontWeight: computedStyle.fontWeight,\n        fontStyle: computedStyle.fontStyle\n    };\n\n    textEl.remove();\n\n    return styleForSmartLabel;\n};\n\nconst hasTouch = () => 'ontouchstart' in document.documentElement;\n\nexport {\n    hasTouch,\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint\n};\n","/**\n * This file exports functions to create or modify the scale of a plot.\n */\nexport {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} from 'd3-scale';\n","import Model from 'hyperdis';\nimport { defaultValue, getObjProp, toArray } from './common-utils';\n\nconst initProp = (obj, props, val = () => ({})) => {\n    props.forEach((prop) => {\n        if (!obj[prop]) {\n            obj[prop] = val();\n        }\n        obj = obj[prop];\n    });\n    return obj;\n};\n\nconst fetchPropValues = (propNames, params, deps) => params.map((param, i) => {\n    const prop = propNames[i];\n\n    return param.map(val => (val === undefined || val === null ? val : val[deps[prop]]));\n});\n\nconst addListenerToNamespace = (namespaceInf, fn, context) => {\n    let key = namespaceInf.key;\n    const namespace = namespaceInf.id;\n    const listeners = context._listeners;\n\n    if (namespace) {\n        !listeners.get(namespace) && (listeners.set(namespace, new Map()));\n        const namespaceListeners = listeners.get(namespace);\n\n        if (!key) {\n            key = namespaceListeners.size;\n        }\n        namespaceListeners.set(key, fn);\n    } else {\n        key = key || listeners.size;\n        listeners.set(key, fn);\n    }\n};\n\nconst setContexts = (contexts, propObj, contextMap) => {\n    for (const key of propObj.keys()) {\n        contexts[key] = {\n            context: contextMap[key],\n            deps: propObj.get(key).depProps\n        };\n    }\n    return contexts;\n};\n\nconst registerPropInMaps = (store, props, namespaceInf, type) => {\n    const {\n        _registeredListeners: registeredListeners,\n        _propListenerMap: propListenerMap\n    } = store;\n    const {\n        subNamespace,\n        namespace: ns\n    } = namespaceInf;\n\n    initProp(registeredListeners, [ns]);\n    props.forEach((prop) => {\n        const subNamespaces = defaultValue(getObjProp(registeredListeners, ns, prop, 'subNamespace'), []);\n        let fns = defaultValue(getObjProp(propListenerMap, prop, type, 'fns'), 0);\n\n        fns++;\n        subNamespace && subNamespaces.push(subNamespace);\n        registeredListeners[ns][prop] = {\n            subNamespace: subNamespaces,\n            allProps: props,\n            subNamespaces: {}\n        };\n        initProp(propListenerMap, [prop, type]);\n        propListenerMap[prop][type] = {\n            fns,\n            _fnCount: fns\n        };\n    });\n};\n\nconst registerListener = (context, type, ...options) => {\n    const [propList, callBack, instantCall, namespaceInf = {}] = options;\n    let props = propList;\n\n    if (!Array.isArray(propList)) {\n        props = [propList];\n    }\n\n    const { namespace: ns } = namespaceInf;\n    const callbackFn = ((propNames, namespaceVal) => (...params) => {\n        const { _savedCommits: commits, _propListenerMap: propListenerMap } = context;\n\n        if (!propNames.some(prop => getObjProp(propListenerMap, prop, 'disabled'))) {\n            if (namespaceVal) {\n                const listenersObj = context._registeredListeners[namespaceVal];\n                const contextMap = context._contextMap[namespaceVal];\n                const contextsObj = {};\n\n                propNames.forEach((prop) => {\n                    const commitsObj = defaultValue(getObjProp(commits, prop, type), {});\n                    const listeners = listenersObj[prop].subNamespaces;\n                    const propDeps = propListenerMap[prop][type];\n\n                    for (const nm in commitsObj) {\n                        const fnInf = defaultValue(propDeps[nm], { fns: 0 });\n                        let { fns } = fnInf;\n\n                        if (fns > 0) {\n                            setContexts(contextsObj, listeners[nm], contextMap);\n                            fns--;\n                        }\n\n                        if (fns <= 0) {\n                            delete commitsObj[nm];\n                        }\n                        fnInf.fns = fns;\n                    }\n                });\n                for (const key in contextsObj) {\n                    const obj = contextsObj[key];\n\n                    callBack(obj.context, ...fetchPropValues(propNames, params, obj.deps));\n                }\n            } else {\n                callBack(...params);\n            }\n        }\n    })(props, ns, type);\n\n    const fn = context.model[type](props, callbackFn, instantCall);\n\n    if (ns) {\n        registerPropInMaps(context, props, namespaceInf, type);\n    }\n    addListenerToNamespace(namespaceInf, fn, context);\n};\n\nconst retrieveNamespaces = (names, key) => {\n    if (names instanceof Object) {\n        return [names[key]];\n    } else if (names instanceof Array) {\n        return names;\n    }\n    return [names];\n};\n\nconst createMap = () => new Map();\n\nconst listenerTypes = ['next', 'on'];\n\nconst removePropValue = (context, map, propInf) => {\n    const { subNamespace: sns, prop, propListenerMap } = propInf;\n    const propObj = propListenerMap[prop];\n\n    listenerTypes.forEach((type) => {\n        if (type in propObj) {\n            delete propObj[type][sns];\n        }\n    });\n    if (map.has(sns)) {\n        const value = context.get(prop);\n\n        if (value instanceof Object && sns in value) {\n            delete value[sns];\n        }\n        map.delete(sns);\n    }\n};\n\n/**\n * Methods to handle changes to table configuration and reactivity are handled by this\n * class.\n */\n/**\n *  Common store class\n *\n * @class Store\n */\nexport class Store {\n    /**\n     * Creates an instance of Store.\n     * @param {Object} config The object to create the state store with.\n     * @memberof Store\n     */\n    constructor (config) {\n        // create reactive model\n        this.model = Model.create(config);\n        this._listeners = new Map();\n        this._registeredListeners = {};\n        this._contextMap = {};\n        this._commits = {};\n        this._savedCommits = {};\n        this._queuedProps = {};\n        this._propListenerMap = {};\n        this._locked = false;\n    }\n\n    lockModel () {\n        this.model.lock();\n        this._locked = true;\n        return this;\n    }\n\n    unlockModel () {\n        this._locked = false;\n        this.model.unlock();\n        return this;\n    }\n\n    /**\n     * This method returns a plain JSON object\n     * with all the fields in the state store.\n     *\n     * @return {Object} Serialized representation of state store.\n     * @memberof Store\n     */\n    serialize () {\n        return this.model.serialize();\n    }\n\n    lockCommits (props) {\n        props.forEach((prop) => {\n            this._commits[prop] = {\n                locked: true,\n                queue: []\n            };\n        });\n        return this;\n    }\n\n    unlockCommits (props) {\n        const commitsObj = this._commits;\n\n        this.lockModel();\n        props.forEach((prop) => {\n            commitsObj[prop].locked = false;\n            const queuedProps = {};\n            const { queue } = commitsObj[prop];\n\n            queue.forEach((params) => {\n                const [propName, value, namespace] = params;\n\n                if (namespace) {\n                    const propObj = initProp(queuedProps, [propName, namespace]);\n\n                    Object.assign(propObj, value);\n                }\n            });\n            queue.forEach((params) => {\n                const [propName, value, namespace] = params;\n\n                this.commit(propName, propName in queuedProps ? queuedProps[propName][namespace] : value,\n                    namespace);\n            });\n            delete commitsObj[prop];\n        });\n        this.unlockModel();\n        return this;\n    }\n\n    addSubNamespace (sns, namespace, context) {\n        // Get all the listeners registered by the component\n        const listeners = this._registeredListeners[namespace];\n        const propListenerMap = this._propListenerMap;\n\n        initProp(this._contextMap, [namespace]);\n        this._contextMap[namespace][sns] = context;\n        for (const key in listeners) {\n            const obj = listeners[key];\n            const propObj = propListenerMap[key];\n            const propFns = listenerTypes.reduce((acc, type) => {\n                const val = defaultValue(getObjProp(propObj, type, 'fns'), 0);\n                val && (acc[type] = val);\n                return acc;\n            }, {});\n            const { allProps, subNamespaces, subNamespace } = obj;\n            const snsArr = subNamespace.length ? subNamespace : [sns];\n\n            snsArr.forEach((ns) => {\n                const nsObj = ns instanceof Function ? ns(context) : ns;\n                const names = retrieveNamespaces(nsObj, key);\n                const depProps = allProps.reduce((acc, prop) => {\n                    acc[prop] = ns instanceof Function ? nsObj[prop] : ns;\n                    return acc;\n                }, {});\n\n                names.forEach((nm) => {\n                    initProp(subNamespaces, [nm], createMap).set(sns, {\n                        depProps\n                    });\n\n                    for (const type in propFns) {\n                        initProp(propObj, [type, nm]);\n                        const fns = propFns[type];\n\n                        propObj[type][nm] = {\n                            fns,\n                            _fnCount: fns\n                        };\n                    }\n                });\n            });\n        }\n        return this;\n    }\n\n    /**\n     * This method is used to update the value of a property in the state store.\n     *\n     * @param {string} propName The name of the property.\n     * @param {number} value The new value of the property.\n     * @memberof Store\n     */\n    commit (propName, value, namespace, disableListener = false) {\n        let sanitizedVal = value;\n        const commits = this._commits;\n        const savedCommits = this._savedCommits;\n        const locked = getObjProp(commits, propName, 'locked');\n        const propListenerMap = this._propListenerMap[propName] || {};\n\n        propListenerMap.disabled = disableListener;\n\n        if (locked) {\n            commits[propName].queue.push([propName, value, namespace]);\n            return this;\n        }\n\n        if (namespace) {\n            if (this._locked) {\n                const queuedProps = initProp(this._queuedProps, [propName]);\n                queuedProps[namespace] = value;\n                sanitizedVal = queuedProps;\n            } else {\n                sanitizedVal = defaultValue(this.get(propName), {});\n                sanitizedVal[namespace] = value;\n            }\n\n            listenerTypes.forEach((type) => {\n                initProp(savedCommits, [propName, type]);\n                savedCommits[propName][type][namespace] = true;\n                if (getObjProp(propListenerMap, type, namespace)) {\n                    propListenerMap[type][namespace].fns = propListenerMap[type][namespace]._fnCount;\n                }\n            });\n        }\n\n        this.model.prop(propName, sanitizedVal);\n        return this;\n    }\n\n    /**\n     * This method is used to register a callback that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */registerChangeListener (...params) {\n        registerListener(this, 'next', ...params);\n        return this;\n    }\n\n    /**\n     * This method is used to register a callback that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */ registerImmediateListener (...params) {\n        registerListener(this, 'on', ...params);\n    }\n\n    /**\n     * This method is used to get the name of the property\n     * from the state store.\n     *\n     * @param {string} propName The name of the field in state store.\n     * @return {any} The value of the field.\n     * @memberof Store\n     */\n    get (propName, subNamespace) {\n        const value = this.model.prop(propName);\n        return subNamespace ? value && value[subNamespace] : value;\n    }\n\n    /**\n     * This method is used to register a computed property that is computed every time\n     * the store value changes.\n     *\n     * @param {string} propName The name of the property to create.\n     * @param {Function} callBack The function to execute when depemdent props change.\n     * @memberof Store\n     */\n    computed (propName, callBack) {\n        return this.model.calculatedProp(propName, callBack);\n    }\n\n    append (...params) {\n        this.model.append(...params);\n        return this;\n    }\n\n    unsubscribeAll () {\n        Object.values(this._listeners).forEach(fn => fn());\n        return this;\n    }\n\n    unsubscribe (namespaceInf = {}) {\n        const { id, key } = namespaceInf;\n        const listenersMap = this._listeners;\n        const listeners = listenersMap.get(id);\n\n        if (key) {\n            const fn = listenersMap.get(key);\n\n            fn && fn();\n        } else {\n            for (const fn of listeners.values()) {\n                fn();\n            }\n            listenersMap.set(id, []);\n        }\n        return this;\n    }\n\n    removeSubNamespace (subNamespace, namespace) {\n        const {\n            _registeredListeners: listenerMap,\n            _contextMap: contextMap,\n            _propListenerMap: propListenerMap\n        } = this;\n        const listenersObj = listenerMap[namespace];\n\n        for (const prop in listenersObj) {\n            const { subNamespaces } = listenersObj[prop];\n            const propInf = {\n                subNamespace,\n                prop,\n                propListenerMap\n            };\n\n            if (subNamespaces[subNamespace]) {\n                removePropValue(this, subNamespaces[subNamespace], propInf);\n                delete subNamespaces[subNamespace];\n            } else {\n                for (const ns in subNamespaces) {\n                    const snsMap = subNamespaces[ns];\n\n                    removePropValue(this, snsMap, propInf);\n                    if (!snsMap.size) {\n                        delete subNamespaces[ns];\n                    }\n                }\n            }\n        }\n        delete contextMap[namespace][subNamespace];\n        return this;\n    }\n}\n\n/**\n * Setter getter creator from config\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args. (Optional)\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitization: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @param {Object} holder an empty object on which the getters and setters will be mounted\n * @param {Object} options options config based on which the getters and setters are determined.\n * @param {Hyperdis} model optional model to attach the property. If not sent new moel is created.\n * @return {Array}\n */\nexport const transactor = (holder, options, model, namespaceInf = {}) => {\n    let conf;\n    const store = model instanceof Store ? model : new Store({});\n    const stateProps = {};\n    const { namespace, subNamespace } = namespaceInf;\n\n    for (const prop in options) {\n        if ({}.hasOwnProperty.call(options, prop)) {\n            conf = options[prop];\n            const nameSpaceProp = namespace ? `${namespace}.${prop}` : prop;\n\n            if (subNamespace) {\n                const value = defaultValue(store.get(nameSpaceProp), {});\n                value[subNamespace] = conf.value;\n                stateProps[nameSpaceProp] = value;\n            } else {\n                stateProps[prop] = conf.value;\n            }\n\n            holder[prop] = ((context, meta, nsProp) => (...params) => {\n                const paramsLen = params.length;\n                if (paramsLen) {\n                    const { takesMultipleParams = false } = meta || {};\n                    // If parameters are passed then it's a setter\n                    let val = takesMultipleParams ? params : params[0];\n\n                    if (meta) {\n                        let values;\n                        const prevVal = context.get(nsProp, subNamespace);\n                        const { sanitization, typeCheck, typeExpected } = meta;\n                        if (typeof sanitization === 'function') {\n                            // Sanitize if required\n                            val = sanitization(val, prevVal, holder);\n                        }\n\n                        // Checking if a setter is valid\n                        if (typeof typeCheck === 'function') {\n                            const typeCheckResult = typeCheck(val);\n\n                            if (typeCheckResult) {\n                                values = val;\n                            }\n                        } else if (typeof typeCheck === 'string' && typeCheck === 'constructor') {\n                            if (val && val.constructor.name === typeExpected) {\n                                values = val;\n                            }\n                        } else {\n                            values = val;\n                        }\n\n                        const preset = meta.preset;\n                        const oldValues = toArray(context.get(nsProp, subNamespace));\n                        preset && preset(values, holder);\n                        if (takesMultipleParams) {\n                            oldValues.forEach((value, i) => {\n                                if (values[i] === undefined) {\n                                    values[i] = value;\n                                }\n                            });\n                        }\n                        values && context.commit(nsProp, values, subNamespace);\n                    } else {\n                        context.commit(nsProp, val, subNamespace);\n                    }\n                    return holder;\n                }\n                // No parameters are passed hence its a getter\n                return context.get(nsProp, subNamespace);\n            })(store, conf.meta, nameSpaceProp, Array.isArray(conf.value));\n        }\n    }\n\n    if (subNamespace) {\n        for (const key in stateProps) {\n            store.commit(key, stateProps[key][subNamespace], subNamespace);\n        }\n    } else if (namespace === undefined) {\n        store.append(stateProps);\n    } else {\n        store.append(namespace, stateProps);\n    }\n\n    return [holder, store];\n};\n","import { mergeRecursive, CommonProps } from 'muze-utils';\n\nconst defaultPolicy = (registrableComponents) => {\n    const aliases = registrableComponents.map(comp => comp.alias());\n    return {\n        behaviours: {\n            '*': (propagationPayload) => {\n                const propagationCanvas = propagationPayload.sourceCanvas;\n                return propagationCanvas ? aliases.indexOf(propagationCanvas) !== -1 : true;\n            }\n        }\n    };\n};\n\nconst listenerFn = (canvas, fn) => () => {\n    const valueMatrix = canvas.composition().visualGroup.matrixInstance().value;\n    valueMatrix.each(cell => fn(cell.valueOf().firebolt()));\n};\n\nconst canvasIterator = (canvases, iteratorFn, cFn) => {\n    canvases.forEach((canvas) => {\n        const matrix = canvas.composition().visualGroup.matrixInstance().value;\n        matrix.each(cell => iteratorFn(cell.valueOf().firebolt()));\n        cFn && cFn(canvas);\n        // Also register actions on canvas update\n        const throwback = canvas._throwback;\n\n        throwback.registerImmediateListener([CommonProps.MATRIX_CREATED],\n            listenerFn(canvas, iteratorFn));\n    });\n};\n\nconst registerActions = (context, type, fnName, deps) => {\n    const canvases = context._registrableComponents;\n\n    canvases.forEach((canvas) => {\n        const vGroup = canvas.composition().visualGroup;\n\n        vGroup.resolver().setFireboltDependencies(type, deps);\n        canvas.firebolt()[fnName](deps);\n    });\n};\n\n/**\n * This class is initiated only once in lifecycle and is reponsible for regisration of physical and behavioural\n * actions and side effects and the mapping between them.\n *\n * To get the instance of action model\n * ```\n *  const ActionModel = muze.ActionModel;\n * ```\n *\n * @public\n * @module ActionModel\n */\nclass ActionModel {\n    constructor () {\n        this._registrableComponents = [];\n    }\n\n    /**\n     * Takes an array of canvases on which the physical and behavioural actions will get registered.\n     *\n     * @public\n     * @param  {Canvas} components Array of canvases\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    for (...components) {\n        this._registrableComponents = components;\n        return this;\n    }\n\n    /**\n     * Registers physical actions on the canvases. It takes an object with key as the name of action and value having\n     * the definition of the action.\n     *\n     * To register a {@link PhysicalAction},\n     * ```\n     *  const ActionModel = muze.ActionModel;\n     *  ActionModel\n     *       // Physical actions will be registered on these canvases.\n     *      .for(canvas)\n     *      .registerPhysicalActions({\n     *          // Key is the name of physical action.\n     *          ctrlClick: (firebolt) => (targetEl, behaviours) => {\n     *              targetEl.on('click', function (data) {\n     *                  const event = utils.getEvent();\n     *                  const pos = utils.getClientPoint(event, this);\n     *                  // Get the data point nearest to the mouse position.\n     *                  const nearestPoint = firebolt.context.getNearestPoint(pos, {\n     *                      data\n     *                  });\n     *                  // Prepare the payload\n     *                  const payload = {\n     *                      criteria: nearestPoint.id\n     *                  };\n     *                  behaviours.forEach((behaviour) => firebolt.dispatchBehaviour(behaviour, payload));\n     *              });\n     *          }\n     *      });\n     * ```\n     * @public\n     *\n     * @param {Object} action Names of physical actions and their definitions.\n     *\n     * @return {ActionModel} Instance of the action model.\n     */\n    registerPhysicalActions (action) {\n        registerActions(this, 'physicalActions', 'registerPhysicalActions', action);\n\n        return this;\n    }\n\n    /**\n     * Registers behavioural actions on the canvases. It takes definitions of the behavioural actions and registers\n     * them on the canvases. Every behavioural action must inherit the {@link GenericBehaviour} class.\n     *\n     * To register a behavioural action\n     * ```\n     *  // Define a new behavioural action\n     *  class SingleSelectBehaviour extends GenericBehaviour {\n     *      static formalName () {\n     *          return 'singleSelect';\n     *      }\n     *\n     *      setSelectionSet (addSet, selectionSet) {\n     *          if (addSet === null) {\n     *              selectionSet.reset();\n     *          } else if (addSet.length) {\n     *              const existingAddSet = selectionSet.getExistingEntrySet(addSet);\n     *              if (existingAddSet.length){\n     *                  selectionSet.reset();\n     *              } else {\n     *               selectionSet.add(addSet);\n     *              }\n     *          } else {\n     *              selectionSet.reset();\n     *          }\n     *      }\n     * }\n     * muze.ActionModel.registerBehaviouralActions(SingleSelectBehaviour);\n     * ```\n     *\n     * @public\n     *\n     * @param {GenericBehaviour} actions Definition of behavioural actions.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerBehaviouralActions (...actions) {\n        registerActions(this, 'behaviouralActions', 'registerBehaviouralActions', actions);\n        return this;\n    }\n\n    /**\n     * Registers the mapping of physical and behavioural actions. This mapping is used to establish which behavioural\n     * actions should be dispatched on any triggering of physical actions.\n     *\n     * To map physical actions with behavioural actions,\n     * ```\n     *  muze.ActionModel.registerPhysicalBehaviouralMap({\n     *      ctrlClick: {\n     *          behaviours: ['select'] // This array must be the formal names of the behavioural actions.\n     *      }\n     *  });\n     * ```\n     *\n     * @public\n     * @param {Object} map Contains the physical and behavioural action map.\n     * ```\n     *   {\n     *      // Name of the physical action\n     *      click: {\n     *          // Target element selector. This is an optional field. If not passed, then by default takes the\n     *          // container element of visual unit.\n     *          target: '.muze-layers-area path',\n     *          // Behaviours which should be dispatched on triggering of the mapped physical action.\n     *          behaviours: ['select']\n     *      }\n     *   }\n     * ```\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerPhysicalBehaviouralMap (map) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            firebolt.registerPhysicalBehaviouralMap(map);\n        }, (canvas) => {\n            canvas.firebolt().registerPhysicalBehaviouralMap(map);\n        });\n        return this;\n    }\n\n    /**\n     * Registers what behaviour to propagate on dispatch of a certain behavioural action. By default, when any\n     * behavioural action is dispatched, then the same behavioural action gets propagated to all the other canvases.\n     * This can be changed using this api.\n     *\n     * To register what behaviour should be propagated on dispatch of any behavioural action,\n     * ```\n     *  ActionModel.for(canvas1, canvas2).registerPropagationBehaviourMap({\n     *      select: 'filter',\n     *      brush: 'filter'\n     *  });\n     * ```\n     *\n     * @public\n     * @param {Object} map Propagation behaviour map.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerPropagationBehaviourMap (map) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            firebolt.registerPropagationBehaviourMap(map);\n        }, (canvas) => {\n            canvas.firebolt().registerPropagationBehaviourMap(map);\n        });\n\n        return this;\n    }\n\n    /**\n     * Registers the mapping of side effects and behavioural actions. It takes an object which contains key as the\n     * name of behavioural action and the side effects which will be linked to it.\n     *\n     * To map side effects to select behaviour,\n     * ```\n     *  muze.ActionModel.mapSideEffects({\n     *      select: ['infoBox'] // This array must be the formal names of the side effects\n     *  });\n     * ```\n     *\n     * To map side effects to select behaviour, but disable all the default side effects attached with this behaviour,\n     * ```\n     *  muze.ActionModel.mapSideEffects({\n     *      select: {\n     *          effects: ['infoBox'],\n     *          preventDefaultActions: true\n     *      }\n     *  });\n     * @public\n     * @param {Object} map Mapping of behavioural actions and side effects.\n     * ```\n     *     {\n     *          select: ['infoBox']\n     *     }\n     * ```\n     * @return {ActionModel} Instance of action model.\n     */\n    mapSideEffects (map) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            firebolt.mapSideEffects(map);\n        }, (canvas) => {\n            canvas.firebolt().mapSideEffects(map);\n        });\n        return this;\n    }\n\n    /**\n     * Registers the side effects on the registered canvases. It takes definitions of side effects and registers them\n     * on the canvases. Every side effect must inherit the base class {@link GenericSideEffect} or\n     * {@link SpawnableSideEffect} or {@link SurrogateSideEffect} class.\n     *\n     * ```\n     * // Define a custom side effect\n     *  class InfoBox extends SpawnableSideEffect {\n     *      static formalName () {\n     *          return 'infoBox';\n     *      }\n     *\n     *      apply (selectionSet) {\n     *      }\n     *  }\n     *  muze.ActionModel.registerSideEffects(InfoBox);\n     * ```\n     * @public\n     * @param  {GenericSideEffect} sideEffects Definition of side effects.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerSideEffects (...sideEffects) {\n        registerActions(this, 'sideEffects', 'registerSideEffects', sideEffects);\n        return this;\n    }\n\n    /**\n     * Breaks the link between behavioural actions and physical actions. It takes an array of behavioural action\n     * and it's physical action.\n     *\n     * To dissociate behavioural actions from physical actions\n     * ```\n     *  muze.ActionModel.dissociateBehaviour(['select', 'click'], ['highlight', 'hover']);\n     * ```\n     * @public\n     * @param  {Array} maps Array of behavioural action and physical action.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    dissociateBehaviour (...maps) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            maps.forEach(val => firebolt.dissociateBehaviour(val[0], val[1]));\n        }, (canvas) => {\n            maps.forEach(val => canvas.firebolt().dissociateBehaviour(val[0], val[1]));\n        });\n        return this;\n    }\n\n    /**\n     * Breaks the link between side effects and behavioural actions. It takes an array of formal names of the side\n     * effects and it's linked behavioural action.\n     *\n     * To dissociate side effects from behavioural actions\n     * ```\n     *  muze.ActionModel.dissociateSideEffect(['crossline', 'highlight'], ['selectionBox', 'brush']);\n     * ```\n     * @public\n     * @param  {Array} maps Array of side effects and behavioural actions.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    dissociateSideEffect (...maps) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            maps.forEach(val => firebolt.dissociateSideEffect(val[0], val[1]));\n        }, (canvas) => {\n            maps.forEach(val => canvas.firebolt().dissociateSideEffect(val[0], val[1]));\n        });\n        return this;\n    }\n\n    /**\n     * By default cross interactivity is disabled between canvases. This enables cross interaction between the canvases\n     * so that any action happening in one canvas gets dispatched on other canvases as well. An optional policy can also\n     * be passed in this method. The policy can be used to control on which canvases the behavioural actions and\n     * side effects gets dispatched.\n     *\n     * To just enable cross interactivity between two canvases,\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity();\n     * ```\n     *\n     * To enable cross interactivity but enable any behavioural action only when it is triggered from canvas1.\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity({\n     *          behaviours: {\n     *              // Here * stands for any behavioural action name. We can also give any name of behavioural action\n     *              // in place of this.\n     *              '*': (propPayload, context) => {\n     *                  return propPayload.sourceCanvas === canvas1.alias();\n     *              }\n     *          }\n     *      });\n     * ```\n     *\n     * To enable cross interactivity but enable tooltip effect if the action is propagated from canvas1,\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity({\n     *          sideEffects: {\n     *              tooltip: (propPayload, context) => {\n     *                  return propPayload.sourceCanvas === canvas1.alias();\n     *              }\n     *          }\n     *      });\n     * ```\n     * @public\n     * @param {Object} policy Policy definition.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    enableCrossInteractivity (policy = {}) {\n        const registrableComponents = this._registrableComponents;\n        const mergedPolicy = mergeRecursive(mergeRecursive({}, defaultPolicy(registrableComponents)), policy);\n\n        registrableComponents.forEach((canvas) => {\n            canvas.firebolt().crossInteractionPolicy(mergedPolicy);\n        });\n\n        return this;\n    }\n}\n\nexport const actionModel = (() => new ActionModel())();\n","export const APP_INITIAL_STATE = {\n    app: {\n        group: {},\n        units: {},\n        layers: {},\n        canvas: {}\n    },\n    local: {\n        canvas: {},\n        group: {},\n        units: {},\n        layers: {}\n    }\n};\n\n","import { GridLayout } from '@chartshq/layout';\nimport { transactor, Store, getUniqueId, selectElement, STATE_NAMESPACES, CommonProps } from 'muze-utils';\nimport { physicalActions, sideEffects, behaviouralActions, behaviourEffectMap } from '@chartshq/muze-firebolt';\nimport { RETINAL } from '../constants';\nimport TransactionSupport from '../transaction-support';\nimport { getRenderDetails, prepareLayout, renderLayout } from './layout-maker';\nimport { localOptions, canvasOptions } from './local-options';\nimport GroupFireBolt from './firebolt';\nimport options from '../options';\nimport { APP_INITIAL_STATE } from './app-state';\nimport { initCanvas,\n        setupChangeListener,\n        setLabelRotationForAxes,\n        createGroupState,\n        createLayoutManager,\n        setLayoutInfForUnits\n} from './helper';\n/**\n * Canvas is a logical component which houses a visualization by taking multiple variable in different encoding channel.\n * Canvas manages lifecycle of many other logical component and exposes one consistent interface for creation of chart.\n * Canvas is intialized from environment with settings from environment and singleton dependencies.\n *\n * To create an instance of canvas\n * ```\n *  const env = Muze();\n *  const canvas = env.canvas()\n * ```\n *\n *\n * @class\n * @public\n * @module Canvas\n */\nexport default class Canvas extends TransactionSupport {\n\n    /**\n     * Creates reactive property accessors.\n     * - data\n     * - height\n     * - width\n     * - config\n     * This configs are retrieved from options.\n     */\n    constructor (globalDependencies) {\n        super();\n\n        this._allOptions = Object.assign({}, options, localOptions);\n        this._registry = {};\n        this._composition = {};\n        this._cachedProps = {};\n        this._alias = null;\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        this._composition.layout = new GridLayout();\n        this._store = new Store(APP_INITIAL_STATE);\n\n        this._throwback = new Store({\n            [CommonProps.MATRIX_CREATED]: false,\n            [CommonProps.ON_LAYER_DRAW]: null\n        });\n\n        // Setters and getters will be mounted on this. The object will be mutated.\n        const namespace = STATE_NAMESPACES.CANVAS_LOCAL_NAMESPACE;\n        const allOptions = Object.assign({}, options, localOptions, canvasOptions);\n\n        transactor(this, allOptions, this._store, {\n            namespace\n        });\n\n        this.dependencies(Object.assign({}, globalDependencies, this._dependencies));\n        this.firebolt(new GroupFireBolt(this, {\n            behavioural: behaviouralActions,\n            physical: physicalActions,\n            physicalBehaviouralMap: {}\n        }, sideEffects, behaviourEffectMap));\n        this.alias(`canvas-${getUniqueId()}`);\n        this.title('', {});\n        this.subtitle('', {});\n        this.legend({});\n        this.color({});\n        this.shape({});\n        this.size({});\n        setupChangeListener(this);\n         // init layoutManager\n        this._layoutManager = createLayoutManager();\n    }\n\n    /**\n     * Retrieves an instance of layout which is responsible for layouting. Layout is responsible for creating faceted\n     * presentation using table layout.\n     *\n     * @public\n     *\n     * @return {GridLayout} Instance of layout attached to canvas.\n     */\n    layout (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().layout;\n    }\n\n    /**\n     * Retrieves the composition for a canvas\n     *\n     * @public\n     *\n     * @return {object} Instances of the components which canvas requires to draw the full visualization.\n     *      ```\n     *          {\n     *              layout: // Instance of {@link GridLayout}\n     *              legend: // Instance of {@link Legend}\n     *              subtitle: // Instance of {@link TextCell} using which the title is rendered\n     *              title: // Instance of {@link TextCell} using which the title is rendered\n     *              visualGroup: // Instance of {@link visualGroup}\n     *          }\n     *      ```\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     * Sets or gets the alias of the canvas. Alias is a name by which the canvas can be referred.\n     *\n     * When setter\n     * @param {string} alias Name of the alias.\n     *\n     * @return {Canvas} Instance of the canvas.\n     *\n     * When getter\n     *\n     * @return {string} Alias of canvas.\n     *\n     * @public\n     */\n    alias (...params) {\n        if (params.length) {\n            const visualGroup = this.composition().visualGroup;\n            this._alias = params[0];\n            visualGroup && visualGroup.alias(this.alias());\n            return this;\n        }\n        return this._alias;\n    }\n\n    /**\n     * Creates an instance initiated with given settings.\n     *\n     * @param {Object} initialSettings Initial settings to be populated in the model\n     * @param {Object} regEntry newly created instance with the initial settings\n     * @param {Object} globalDependencies dependencies which will be created only once in the page\n     *\n     * @return {Object} newly created instance with the initial settings\n     */\n    static withSettings (initialSettings, regEntry, globalDependencies) {\n        const instance = new Canvas(globalDependencies);\n\n        for (const key in initialSettings) {\n            instance[key](initialSettings[key]);\n        }\n        // set registry for instance\n        instance.registry(regEntry);\n        return instance;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof Canvas\n     */\n    static formalName () {\n        return 'canvas';\n    }\n\n    /**\n     * Returns the instance of firebolt associated with this canvas. The firebolt instance can be used to dispatch a\n     * behaviour dynamically on the canvas. This firebolt does not handle any physical actions. It is just used to\n     * propagate the action to all the visual units in it's composition.\n     *\n     * @public\n     *\n     * @return {GroupFireBolt} Instance of firebolt associated with canvas.\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Registry peoperty accessor\n     *\n     * @param {Object} reg plain old javascript object keyvalue pairs. Key containing module name and value contains\n     * module definition class. The reg object has to be flat object of level 1.\n     */\n    registry (...params) {\n        if (params.length) {\n            const param = params[0];\n            const components = Object.assign({}, param.components);\n            const componentSubRegistry = Object.assign({}, param.componentSubRegistry);\n            const interactionRegistry = Object.assign({}, param.interactions);\n\n            this._registry = { components, componentSubRegistry, interactions: interactionRegistry };\n            const initedComponents = initCanvas(this);\n            // @todo is it okay to continue this tight behaviour? If not use a resolver to resolve diff component type.\n            this._composition.visualGroup = initedComponents[0];\n            createGroupState(this);\n            this.composition().visualGroup.alias(this.alias()).store(this._store);\n            return this;\n        }\n        return this._registry;\n    }\n\n    /*\n     * Prepare dependencies for top level elements\n     */\n    dependencies (...param) {\n        if (param.length) {\n            this._dependencies = param[0];\n            return this;\n        }\n        // @todo prepare dependencies here.\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     * @param {*} lifeCycles\n     *\n     * @memberof Canvas\n     */\n    lifeCycle (lifeCycles) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        if (lifeCycles) {\n            lifeCycleManager.register(lifeCycles);\n            return this;\n        }\n        return lifeCycleManager;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    legend (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().legend;\n    }\n\n    /**\n     * Returns a promise for various {@link LifecycleEvents} of the various components of canvas. The promise gets\n     * resolved once the particular event gets completed.\n     *\n     * To use this,\n     * ```\n     *      canvas.once('layer.drawn').then(() => {\n     *          // Do any post drawing work here.\n     *      });\n     * ```\n     * @public\n     *\n     * @param {string} eventName Name of the lifecycle event.\n     *\n     * @return {Promise} A pending promise waiting for resolve to be called.\n     */\n    once (eventName) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        return lifeCycleManager.retrieve(eventName);\n    }\n\n    /**\n     * Internal function to trigger render, this method is cognizant of all the properties of the core modules and\n     * establish a passive reactivity. Passive reactivity is not always a bad thing :)\n     * @internal\n     */\n    render () {\n        const mount = this.mount();\n        // removeChild(mount);\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        // Get render details including arrangement and measurement\n        const renderDetails = getRenderDetails(this, mount);\n        lifeCycleManager.notify({ client: this, action: 'beforedraw' });\n        // Prepare the layout by triggering the matrix calculation\n        prepareLayout(this.layout(), renderDetails);\n\n        this._layoutManager.dimension({\n            height: renderDetails.measurement.canvasHeight,\n            width: renderDetails.measurement.canvasWidth\n        });\n\n        this._layoutManager.renderAt(mount);\n\n        // Render each component\n        renderLayout(this, renderDetails);\n\n        setLayoutInfForUnits(this);\n\n        // setLabelRotation\n        setLabelRotationForAxes(this);\n    }\n\n    /**\n     * Returns the instances of x axis of the canvas. It returns the instances in a two dimensional array form.\n     *\n     * ```\n     *   // The first element in the sub array represents the top axis and the second element represents the bottom\n     *   // axis.\n     *   [\n     *      [X1, X2],\n     *      [X3, X4]\n     *   ]\n     * ```\n     * @public\n     *\n     * @return {Array.<Array>} Instances of x axis.\n     */\n    xAxes () {\n        return this.composition().visualGroup.getAxes('x');\n    }\n\n    /**\n     * Returns the instances of y axis of the canvas. It returns the instances in a two dimensional array form.\n     *\n     * ```\n     *   // The first element in the sub array represents the left axis and the second element represents the right\n     *   // axis.\n     *   [\n     *      [Y1, Y2],\n     *      [Y3, Y4]\n     *   ]\n     * ```\n     * @public\n     * @return {Array.<Array>} Instances of y axis.\n     */\n    yAxes () {\n        return this.composition().visualGroup.getAxes('y');\n    }\n\n    /**\n     * Returns all the retinal axis of the canvas. Color, shape and size axis are combinedly called retinal axis.\n     *\n     * @public\n     * @return {Object} Instances of retinal axis.\n     *          ```\n     *              {\n     *                  color: [ColorAxis], // Array of color axis.\n     *                  shape: [ShapeAxis], // Array of shape axis.\n     *                  size: [SizeAxis] // Array of size axis.\n     *              }\n     *          ```\n     */\n    getRetinalAxes () {\n        const visualGroup = this.composition().visualGroup;\n        return visualGroup.getAxes(RETINAL);\n    }\n\n    mount (...params) {\n        if (params.length) {\n            let value = params[0];\n            if (typeof params[0] === 'string') {\n                value = selectElement(params[0]).node();\n            }\n            this._mount = value;\n            return this;\n        }\n        return this._mount;\n    }\n}\n","import { TOP, BOTTOM, LEFT, TITLE, SUB_TITLE, GROUP, LAYOUT, LEGEND } from '../constants';\n\n/**\n *\n *\n * @param {*} context\n *\n */\nexport const arrangeComponents = (context) => {\n    const legendConfig = context.config().legend;\n    const titleConfig = context.title()[1];\n    const subtitleConfig = context.subtitle()[1];\n    const titleLayouts = {\n        [`${TOP}-${TOP}`]: [TITLE, SUB_TITLE, GROUP],\n        [`${BOTTOM}-${BOTTOM}`]: [GROUP, SUB_TITLE, TITLE],\n        [`${TOP}-${BOTTOM}`]: [TITLE, GROUP, SUB_TITLE],\n        [`${BOTTOM}-${TOP}`]: [SUB_TITLE, GROUP, TITLE]\n    };\n    const legendLayouts = [\n        [LEGEND, LAYOUT],\n        [LAYOUT, LEGEND]\n    ];\n    const titlePosition = titleConfig.position || TOP;\n    const subtitlePosition = subtitleConfig.position || TOP;\n\n    return {\n        headers: titleLayouts[`${titlePosition}-${subtitlePosition}`],\n        legends: legendConfig.position === LEFT || legendConfig.position === TOP ?\n        legendLayouts[0] : legendLayouts[1]\n    };\n};\n","import {\n    TITLE,\n    SUB_TITLE,\n    LEGEND, VERTICAL,\n    HORIZONTAL,\n    WIDTH,\n    HEIGHT,\n    TOP,\n    LEFT,\n    RIGHT,\n    MESSAGE,\n    GRID,\n    NO_DATA_MESSAGE,\n    HORIZONTAL_CENTER\n} from '../constants';\nimport HeaderComponent from './components/headerComponent';\nimport LegendComponent from './components/legendComponent';\nimport ScrollComponent from './components/scroll-component';\nimport GridComponent from './components/grid-component';\nimport MessageComponent from './components/message-component';\nimport { TITLE_CONFIG, SUB_TITLE_CONFIG, CANVAS, MESSAGE_CONFIG } from './defaults';\nimport { ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX, CENTER } from '../../../layout/src/enums/constants';\n\n// Mapping between types of headers and their required configs for wrapper creation\nconst headerMap = {\n    title: {\n        headerCell: 'titleCell',\n        configType: TITLE_CONFIG\n    },\n    subtitle: {\n        headerCell: 'subtitleCell',\n        configType: SUB_TITLE_CONFIG\n    }\n};\n\n// Mapping of header alignment values\nconst headerAlignmentMap = {\n    [LEFT]: LEFT,\n    [RIGHT]: RIGHT,\n    [CENTER]: HORIZONTAL_CENTER\n};\n\n/**\n * returns if data is Valid\n *\n *\n * @param {Object} params object where data has to be checked for validity\n * @return {Boolean} Returns true if all of the params are valid\n */\nconst checkParamsValidation = params => Object.keys(params).every((param => params[param]));\n\n/**\n * returns if message Component is needed or not\n *\n *\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Boolean} Returns if grid is present\n */\nconst isGridPresent = (renderDetails) => {\n    const { rows, columns, values } = renderDetails.components;\n    return checkParamsValidation({ rows, columns, values });\n};\n\n/**\n * Creates the wrapper for the header, i.e., title and subtitle to be used in the tree layout\n *\n *\n * @param {string} headerType type of header: title/subtite\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Instance} Returns the respective wrappers\n */\nconst createHeaderWrapper = (headerType, layoutManager, renderDetails) => {\n    let wrapper = null;\n\n    const { components, layoutConfig } = renderDetails;\n    const { headerCell, configType } = headerMap[headerType];\n    const target = { target: CANVAS };\n\n    if (components.headers && components.headers[headerCell]) {\n        let headerConfig = layoutConfig[headerType];\n        const header = components.headers[headerCell];\n\n        headerConfig = Object.assign({}, headerConfig, {\n            classPrefix: layoutConfig.classPrefix,\n            ...target,\n            alignWith: `${ROW_MATRIX_INDEX[0]}-${COLUMN_MATRIX_INDEX[1]}`,\n            alignment: headerAlignmentMap[headerConfig.align],\n            className: configType.className\n        });\n\n        const wrapperParams = {\n            name: headerType,\n            component: header,\n            config: headerConfig\n        };\n\n        const existingComponent = layoutManager.getComponent(headerType);\n        if (existingComponent) {\n            wrapper = existingComponent\n                        .updateWrapper(wrapperParams);\n        } else {\n            wrapper = new HeaderComponent(wrapperParams);\n        }\n    }\n    return wrapper;\n};\n\n/**\n * Creates the wrapper for the grid layout to be used in the tree layout\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {GridLayout} canvas canvas instance\n * @return {Instance} Returns the respective wrappers\n */\nconst createMessageWrapper = (layoutManager, canvas, renderDetails, renderGrid) => {\n    const headerValues = Object.values(renderDetails.components.headers);\n    let sum = 0;\n    let messageWrapper = null;\n\n    for (const val of headerValues) {\n        sum += val.logicalSpace().height;\n    }\n\n    if (!renderGrid) {\n        const defaultDimensions = { height: canvas.height() - sum, width: canvas.width() };\n        const gridComponent = layoutManager.getComponent(GRID);\n        const { height, width } = (gridComponent && gridComponent.getBoundBox()) || defaultDimensions;\n        const target = { target: CANVAS };\n        const config = {\n            ...target,\n            dimensions: { height, width },\n            message: NO_DATA_MESSAGE,\n            classPrefix: MESSAGE_CONFIG,\n            position: TOP\n        };\n        const wrapperParams = {\n            name: MESSAGE,\n            component: null,\n            config\n        };\n        const existingComponent = layoutManager.getComponent(MESSAGE);\n\n        if (existingComponent) {\n            messageWrapper = existingComponent.updateWrapper(wrapperParams);\n        } else {\n            messageWrapper = new MessageComponent(wrapperParams);\n        }\n        return messageWrapper;\n    }\n    return null;\n};\n\n// Mapping between types of scrollBars and their required configs for wrapper creation\nconst scrollBarMap = config => ({\n    vertical: {\n        componentName: 'verticalScrollBar',\n        width: 'thickness',\n        height: 'layoutBasedMeasure',\n        layoutBasedMeasure: HEIGHT,\n        viewMeasure: 'viewHeight',\n        rowAlign: 1,\n        colAlign: config.align === 'right' ? 2 : 0,\n        position: config.align,\n        alignment: TOP\n    },\n    horizontal: {\n        componentName: 'horizontalScrollBar',\n        width: 'layoutBasedMeasure',\n        layoutBasedMeasure: WIDTH,\n        viewMeasure: 'viewWidth',\n        height: 'thickness',\n        rowAlign: config.align === 'top' ? 0 : 2,\n        colAlign: 1,\n        position: config.align,\n        alignment: LEFT\n    }\n});\n\n/**\n * Creates the wrapper for the scroller, i.e., horizontal and vertical to be used in the tree layout\n *\n *\n * @param {string} scrollBarType type of scrollbar: horizontal/vertical\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @param {GridLayout} grid Instance of the grid layout\n * @return {Instance} Returns the respective wrappers\n */\nconst createScrollBarWrapper = (scrollBarType, layoutManager, renderDetails, grid, renderGrid) => {\n    if (renderGrid) {\n        let scrollBarWrapper = null;\n        const { layoutConfig } = renderDetails;\n        const target = { target: CANVAS };\n        const { scrollBar } = layoutConfig;\n        const { layoutDimensions } = grid.viewInfo();\n        const {\n            actualCenterMeasures,\n            unitHeights,\n            unitWidths\n        } = layoutDimensions;\n        const {\n            componentName, layoutBasedMeasure, width, height, rowAlign, colAlign,\n            viewMeasure, position, alignment\n        } = scrollBarMap(scrollBar[scrollBarType])[scrollBarType];\n        const dimensions = {\n            thickness: scrollBar.thickness,\n            layoutBasedMeasure: layoutDimensions[viewMeasure][1]\n        };\n        const isScroll = grid.scrollInfo()[scrollBarType];\n        const totalLength = actualCenterMeasures[layoutBasedMeasure];\n        const viewLength = layoutDimensions[viewMeasure][1];\n\n        const scrollConfig = Object.assign({}, {\n            classPrefix: layoutConfig.classPrefix,\n            ...target,\n            scrollBarComponentConfig: {\n                ...scrollBar,\n                classPrefix: layoutConfig.classPrefix\n            },\n\n            type: scrollBarType,\n            alignWith: `${ROW_MATRIX_INDEX[rowAlign]}-${COLUMN_MATRIX_INDEX[colAlign]}`,\n            alignment,\n            position\n        });\n\n        const wrapperParams = {\n            name: componentName,\n            config: scrollConfig,\n            dimensions: {\n                width: dimensions[width],\n                height: dimensions[height],\n                totalLength,\n                viewLength,\n                unitHeights,\n                unitWidths\n            }\n        };\n\n        const existingComponent = layoutManager.getComponent(componentName);\n\n        if (!isScroll) {\n            existingComponent && existingComponent.remove();\n            return null;\n        }\n\n        if (existingComponent) {\n            scrollBarWrapper = existingComponent\n                                    .updateWrapper(wrapperParams);\n        } else {\n            scrollBarWrapper = new ScrollComponent(wrapperParams);\n        }\n\n        return scrollBarWrapper;\n    }\n    return null;\n};\n\n/**\n * Creates the wrapper for the legend to be used in the tree layout\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Instance} Returns the respective wrappers\n */\nconst createLegendWrapper = (layoutManager, renderDetails, renderGrid) => {\n    if (renderGrid) {\n        let legendWrapper = null;\n        const { components, layoutConfig, measurement } = renderDetails;\n        const target = { target: CANVAS };\n\n        if (components.legends && components.legends.length) {\n            const legendConfig = { ...layoutConfig.legend, ...target, measurement };\n            const wrapperParams = {\n                name: LEGEND,\n                component: components.legends,\n                config: legendConfig\n            };\n\n            const existingComponent = layoutManager.getComponent(LEGEND);\n\n            if (existingComponent) {\n                legendWrapper = existingComponent\n                        .updateWrapper(wrapperParams);\n            } else {\n                legendWrapper = new LegendComponent(wrapperParams);\n            }\n        }\n        return legendWrapper;\n    }\n    return null;\n};\n\n/**\n * Creates the wrapper for the grid layout to be used in the tree layout\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @param {GridLayout} grid Instance of the grid layout\n * @return {Instance} Returns the respective wrappers\n */\nconst gridLayoutWrapper = (layoutManager, renderDetails, grid, renderGrid) => {\n    if (renderGrid) {\n        let gridWrapper = null;\n        const target = { target: CANVAS };\n        const { layoutConfig } = renderDetails;\n\n        const config = {\n            ...target,\n            pagination: layoutConfig.pagination,\n            classPrefix: layoutConfig.classPrefix,\n            dimensions: { height: 0, width: 0 }\n        };\n        const wrapperParams = {\n            name: GRID,\n            component: grid,\n            config\n        };\n        const existingComponent = layoutManager.getComponent(GRID);\n        if (existingComponent) {\n            gridWrapper = existingComponent\n                        .updateWrapper(wrapperParams);\n        } else {\n            gridWrapper = new GridComponent(wrapperParams);\n        }\n        return gridWrapper;\n    }\n    return null;\n};\n/**\n * Responsible for providing the wrapper creators for every component in Muze.\n * This function, when called, returns the set of components and their respective wrappers.\n *\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {GridLayout} grid Instance of the grid layout\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Instance} Returns the respective wrappers for each component\n */\nexport const componentWrapperMaker = (canvas, grid, renderDetails) => {\n    const layoutManager = canvas._layoutManager;\n    const renderGrid = isGridPresent(renderDetails);\n    return {\n        title: createHeaderWrapper(TITLE, layoutManager, renderDetails),\n        subtitle: createHeaderWrapper(SUB_TITLE, layoutManager, renderDetails),\n        message: createMessageWrapper(layoutManager, canvas, renderDetails, renderGrid),\n        legend: createLegendWrapper(layoutManager, renderDetails, renderGrid),\n        grid: gridLayoutWrapper(layoutManager, renderDetails, grid, renderGrid),\n        verticalScrollBar: createScrollBarWrapper(VERTICAL, layoutManager, renderDetails, grid, renderGrid),\n        horizontalScrollBar: createScrollBarWrapper(HORIZONTAL, layoutManager, renderDetails, grid, renderGrid)\n    };\n};\n","import { selectElement, getEvent } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport MatrixComponent from './matrix-component';\nimport { ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX } from '../../../../layout/src/enums/constants';\nimport { WHEEL_DELTA_MODIFIER } from '../../enums/constants';\n\n/**\n * Based on the type of scroll, it changes the scrollLeft/scrollTop property of the specific\n * elements based on the scroll distance provided\n *\n *\n */\nconst applyScrollAction = (elem, classPrefix, scollDistance, type) => {\n    selectElement(elem)\n                    .selectAll(`.${classPrefix}-grid`)\n                    .property(type, scollDistance);\n};\n\n/**\n * Applies the action of the scroll by actually scrolling the respective matrices based on the\n * type of scroll. It returns a function which has both the scroll methods available\n *\n * @return {Object} contains the horizontal and vertical scroll actions on the grid component\n */\nconst scrollActionApplier = (movement, context) => {\n    const classPrefix = context.params.config.classPrefix;\n\n    return {\n        horizontal: () => {\n            [0, 1, 2].forEach(e =>\n                applyScrollAction(`#${context.component[e][1].renderAt()}`, classPrefix, movement, 'scrollLeft'));\n        },\n        vertical: () => {\n            [0, 1, 2].forEach(e =>\n                applyScrollAction(`#${context.component[1][e].renderAt()}`, classPrefix, movement, 'scrollTop'));\n        }\n    };\n};\n\nexport default class GridComponent extends MuzeComponent {\n\n    constructor (params) {\n        super(params.name, params.config.dimensions, 0);\n        this.gridComponents = [];\n        this.setParams(params);\n    }\n\n    sanitizeGrid () {\n        let height = 0;\n        let width = 0;\n        const { viewMatricesInfo, layoutDimensions } = this.component.viewInfo();\n        const scrollInfo = this.component.scrollInfo();\n        const {\n            viewHeight,\n            viewWidth,\n            unitHeights,\n            unitWidths\n        } = layoutDimensions;\n\n        for (let i = 0; i < 3; i++) {\n            if (!(this.gridComponents.length && this.gridComponents[i] instanceof Array)) {\n                this.gridComponents[i] = [];\n            }\n            for (let j = 0; j < 3; j++) {\n                const matrixDim = {\n                    height: viewHeight[i],\n                    width: viewWidth[j],\n                    unitHeights,\n                    unitWidths\n                };\n                const matrix = viewMatricesInfo.matrices[`${ROW_MATRIX_INDEX[i]}`][j];\n                const matrixName = `${ROW_MATRIX_INDEX[i]}-${COLUMN_MATRIX_INDEX[j]}`;\n                const matrixConfig = {\n                    dimensions: matrixDim,\n                    border: layoutDimensions.border,\n                    classPrefix: this.params.config.classPrefix,\n                    scrollInfo,\n                    row: ROW_MATRIX_INDEX[i],\n                    column: j\n                };\n                if (this.gridComponents[i][j] instanceof MuzeComponent) {\n                    this.gridComponents[i][j].updateWrapper({\n                        name: matrixName,\n                        component: matrix,\n                        config: matrixConfig\n                    });\n                } else {\n                    const matrixWrapper = new MatrixComponent({\n                        name: matrixName,\n                        component: matrix,\n                        config: matrixConfig\n                    });\n                    this.gridComponents[i].push(matrixWrapper);\n                }\n                if (i === 0) {\n                    width += matrixDim.width;\n                }\n                if (j === 0) {\n                    height += matrixDim.height;\n                }\n            }\n        }\n        this.boundBox({ height, width });\n\n        this.component = this.gridComponents;\n        this.allComponents = this.gridComponents;\n    }\n\n    scrollBarManager (...manager) {\n        if (manager.length) {\n            this._scrollBarManager = manager[0];\n            return this;\n        }\n        return this._scrollBarManager;\n    }\n\n    /**\n     * Attaches a mousewheel listener to the center matrix, based on which the scrolling can occur.\n     * It uses the scroll component to change the position of the scroller, which ultimately scrolls the center matrix\n     *\n     *\n     * @return {GridComponent} Instance of the GridComponent\n     */\n    attachScrollListener () {\n        const scrollBarManager = this.scrollBarManager();\n        selectElement(`#${this.component[1][1].renderAt()}`)\n            .on('wheel', () => {\n                const event = getEvent();\n                const {\n                    wheelDeltaX,\n                    wheelDeltaY\n                } = event;\n\n                // Scrolling horizontally\n                if (wheelDeltaX !== 0 && Math.abs(wheelDeltaX) > Math.abs(wheelDeltaY)) {\n                    scrollBarManager.preventBrowserScroll('horizontal', event)\n                        .triggerScrollBarAction('horizontal', wheelDeltaX / WHEEL_DELTA_MODIFIER);\n                }\n\n                // Scrolling Vertically\n                if (wheelDeltaY !== 0 && Math.abs(wheelDeltaX) < Math.abs(wheelDeltaY)) {\n                    scrollBarManager.preventBrowserScroll('vertical', event)\n                        .triggerScrollBarAction('vertical', wheelDeltaY / WHEEL_DELTA_MODIFIER);\n                }\n            });\n        return this;\n    }\n\n    performScrollAction (direction, movedView) {\n        scrollActionApplier(movedView, this)[direction]();\n        return this;\n    }\n\n    getBoundBox () {\n        const { top, left } = this.component[0][0].boundBox();\n        const { height, width } = this.boundBox();\n\n        return {\n            top,\n            left,\n            height,\n            width\n        };\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.dimensions);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.className(params.config.className);\n        this.sanitizeGrid();\n        return this;\n    }\n\n    attachListener () {\n        this.attachScrollListener();\n        return this;\n    }\n}\n","import { selectElement } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport { LEFT } from '../../constants';\n\nexport default class HeaderComponent extends MuzeComponent {\n    constructor (params) {\n        super(params.name, params.component.getLogicalSpace(), 0);\n        this.setParams(params);\n    }\n\n    renderHeader (container) {\n        const layoutConfig = this.params.config;\n        container = selectElement(container);\n        const { align } = layoutConfig;\n        const sel = container\n          .selectAll(`.${layoutConfig.classPrefix}-inner-container`)\n          .data([this.name]);\n        sel.exit().remove();\n        const selEnter = sel.enter().append('div');\n\n        const cont = selEnter.merge(sel);\n        cont.classed(`${layoutConfig.classPrefix}-inner-container`, true);\n        const { height, width } = this.boundBox();\n        this.component.setAvailableSpace(width, height);\n\n        this.component && this.component.render(cont.node());\n\n        cont.selectAll('div').classed(`${layoutConfig.classPrefix}-inner-content`, true);\n        cont.style('width', `${100}%`);\n\n        if (layoutConfig && this.component) {\n            cont.style('float', LEFT)\n                            .style('text-align', align);\n                            // .style(`padding-${position === TOP ? BOTTOM : TOP}`, `${padding}px`);\n        }\n    }\n\n    draw (container) {\n        this.renderHeader(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.setParams(params);\n        this.name(params.name);\n        this.boundBox(params.component.getLogicalSpace());\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(params.config.position);\n        this.className(params.config.className);\n        this.alignWith(params.config.alignWith);\n        this.alignment(params.config.alignment);\n    }\n\n    setSpatialConfig (conf) {\n        this.boundBox({ top: conf.y,\n            left: conf.x,\n            width: conf.width,\n            height: conf.height });\n        this.renderAt(conf.renderAt);\n    }\n}\n","import { makeElement, selectElement } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport {\n     LEFT, RIGHT, VERTICAL, HORIZONTAL, TOP, BOTTOM, HORIZONTAL_CENTER, VERTICAL_CENTER\n} from '../../constants';\nimport { ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX } from '../../../../layout/src/enums/constants';\n\nfunction defaultAlignmentHelper (position) {\n    let alignment = null;\n    const alignWith = `${ROW_MATRIX_INDEX[1]}-${COLUMN_MATRIX_INDEX[1]}`;\n    switch (position) {\n    case TOP:\n    case BOTTOM:\n        alignment = HORIZONTAL_CENTER;\n        break;\n    case LEFT:\n    case RIGHT:\n        alignment = VERTICAL_CENTER;\n        break;\n    default:\n        alignment = VERTICAL_CENTER;\n    }\n    return { alignment, alignWith };\n}\nexport default class LegendComponent extends MuzeComponent {\n    constructor (params) {\n        super(params.name, params.config.measurement.legendSpace, 0);\n        this.setParams(params);\n    }\n\n    renderLegend (container) {\n        container = selectElement(container);\n        const sectionComponents = [];\n        const { position, classPrefix } = this.params.config;\n        const legendMount = makeElement(container, 'div', [this.components],\n                                        `${classPrefix}-inner-content`, {}, d => d);\n        legendMount.classed(`${classPrefix}-legend`, true);\n        const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n        const legWidth = this.newDimensions.width;\n        const legHeight = this.newDimensions.height;\n\n        [container, legendMount].forEach((elem) => {\n            elem.style('width', `${Math.floor(legWidth)}px`)\n                            .style('height', `${legHeight}px`)\n                            .style('float', LEFT);\n        });\n\n        if (align === VERTICAL) {\n            let sections = -1;\n            let currHeight = legHeight;\n            let currWidth = 0;\n\n            this.components.forEach((legendInfo) => {\n                const leg = legendInfo.legend;\n                if (leg.measurement().height > currHeight) {\n                    sections++;\n                    currWidth = 0;\n                    currHeight = legHeight;\n                } else {\n                    sections < 0 && sections++;\n                }\n                sectionComponents[sections] = sectionComponents[sections] || [];\n                currHeight -= Math.min(leg.measurement().height, currHeight);\n                currWidth = Math.max(Math.min(leg.measurement().width, leg.measurement().maxWidth), currWidth);\n                sectionComponents[sections].push({\n                    legend: leg,\n                    legendHeight: legHeight,\n                    legendWidth: currWidth\n                });\n            });\n\n            const mount = makeElement(legendMount, ['div'], sectionComponents, `${classPrefix}-legend-section`);\n            // mount.each((d, i) => selectElement(this).classed(`${classPrefix}-legend-section-${i}`, true));\n            mount.classed(`${classPrefix}-legend-vertical-section`, true)\n                            .style('width', d => `${d[0].legendWidth}px`);\n            makeElement(mount, ['div'], d => d, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                            .each(function (d) {\n                                d.legend.mount(this);\n                            })\n                            .style('width', d => `${d.legendWidth}px`);\n        } else {\n            const mount = makeElement(legendMount, 'div', [1], `${classPrefix}-legend-section`);\n            mount.classed(`${classPrefix}-legend-horizontal-section`, true);\n            mount.classed(`${classPrefix}-legend-section-${0}`, true)\n                            .style('width', `${legWidth}px`);\n\n            makeElement(mount, 'div', this.components, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                            .each(function (d) { d.legend.mount(this); })\n                            .style('width', d => `${d.legend.measurement().width}px`);\n        }\n    }\n\n    draw (container) {\n        this.renderLegend(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.measurement.legendSpace);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.components = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(params.config.position);\n        const { alignWith, alignment } = defaultAlignmentHelper(params.config.position);\n        this.className(params.config.className);\n        this.alignWith(params.config.alignWith || alignWith);\n        this.alignment(params.config.alignment || alignment);\n    }\n\n}\n","import { makeElement } from 'muze-utils';\nimport { cellSpanMaker, applySpans } from '../../../../layout/src/grid-layout/span-maker';\nimport { applyBorders } from '../../../../layout/src/grid-layout/border-helper';\n\nimport {\n     TOP, CENTER\n} from '../../../../layout/src/enums/constants';\nimport MuzeComponent from './muze-chart-component';\nimport { WIDTH, HEIGHT, HIDDEN, OVERFLOW, AUTO, VISIBLE } from '../../constants';\n\nconst renderPlaceholders = (cells) => {\n    // Rendering content within placeholders\n    cells.each(function (cell) {\n        cell.placeholder.render(this);\n    });\n};\n\nexport default class MatrixComponent extends MuzeComponent {\n\n    constructor (params) {\n        super(params.name, params.config.dimensions, 0);\n        this.setParams(params);\n        this.className(params.config.className);\n    }\n\n    applyScroll (container) {\n        const row = this.params.config.row;\n        const column = this.params.config.column;\n        const { horizontal, vertical } = this.params.config.scrollInfo;\n        container.style(OVERFLOW, VISIBLE);\n        container.style(WIDTH, AUTO);\n        container.style(HEIGHT, AUTO);\n\n        if (horizontal && column === 1) {\n            container.style(OVERFLOW, HIDDEN);\n            container.style(WIDTH, '100%');\n        }\n\n        if (vertical && row === CENTER) {\n            container.style(OVERFLOW, HIDDEN);\n            container.style(HEIGHT, '100%');\n        }\n    }\n\n    renderMatrix (mountPoint) {\n        // Creating containers for each matrix individually\n        const classPrefix = this.params.config.classPrefix;\n        const row = this.params.config.row;\n        const column = this.params.config.column;\n        const dimensions = this.params.config.dimensions;\n        const border = this.params.config.border;\n\n        // Creating containers for each matrix individually\n        const containerForMatrix = makeElement(mountPoint, 'div', [1], `${classPrefix}-grid-${row}-${column + 1}`)\n            .classed(`${classPrefix}-grid-${row}`, true)\n            .classed(`${classPrefix}-grid`, true);\n\n        this.applyScroll(containerForMatrix);\n\n        const {\n            viewMatrix,\n            spans\n        } = cellSpanMaker(this.component, row, column);\n\n        // Rendering the table components\n        const { cells } = this.renderTable(containerForMatrix, `${classPrefix}-grid`, viewMatrix);\n\n        applySpans(cells, spans, { dimensions, border }, `${row}-${column}`);\n        renderPlaceholders(cells);\n\n        cells.exit().each((cell) => {\n            cell.placeholder.remove();\n        });\n\n        applyBorders(cells, border, row, column);\n    }\n\n    renderTable (mount, className, rowData) {\n        const table = makeElement(mount, 'table', ['layout'], `${className}-table`);\n        const body = makeElement(table, 'tbody', ['layout'], `${className}-body`);\n        const rows = makeElement(body, 'tr', rowData, `${className}-tr`);\n        const cells = makeElement(rows, 'td', (d, i) => d.filter(e => e !== null).map(e =>\n                                  ({ placeholder: e, rowIndex: i })), `${className}-td`, {}, key => key.placeholder.id);\n\n        return { table, body, rows, cells };\n    }\n\n    draw (container) {\n        this.renderMatrix(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.dimensions);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(TOP);\n        this.className(params.config.className);\n    }\n}\n","import { selectElement, makeElement, applyStyle } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\n\nexport default class MessageComponent extends MuzeComponent {\n    constructor (params) {\n        super(params.name, params.config.dimensions, 0);\n        this.setParams(params);\n    }\n\n    render (container) {\n        const parent = selectElement(container);\n\n        const { config } = this.params;\n        const { className } = config.classPrefix;\n\n        const node = makeElement(parent, 'div', [1], className);\n        const { height, width } = config.dimensions;\n        const { message } = config;\n\n        applyStyle(node, { width: `${width}px`, height: `${height}px` });\n\n        const child = makeElement(node, 'div', [1], `${className}-child`);\n        const textElement = makeElement(child, 'text', [1]);\n\n        textElement.html(message);\n    }\n\n    draw (container) {\n        this.render(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.dimensions);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        const { target, className } = params.config;\n        this.component = params.component;\n        this.params = params;\n        this.target(target);\n        this.className(className);\n        this.position(params.config.position);\n        return this;\n    }\n}\n","import { LayoutComponent } from '../../../../layout/src/tree-layout';\n\nexport default class MuzeComponent extends LayoutComponent {\n    getLogicalSpace () {\n        const { width, height } = this.boundBox();\n        return { width, height };\n    }\n\n    setSpatialConfig (conf) {\n        this.boundBox({ top: conf.y, left: conf.x });\n        this.newDimensions = {\n            width: conf.width,\n            height: conf.height\n        };\n        this.renderAt(conf.renderAt);\n    }\n\n    getBoundBox () {\n        return this.boundBox();\n    }\n\n    updateWrapper () {\n        throw Error('Update is not implemented');\n    }\n\n    setParams () {\n        throw Error('set params is not implemented');\n    }\n}\n","import {\n    selectElement,\n    makeElement,\n    getD3Drag,\n    getEvent,\n    getWindow,\n    hasTouch\n} from 'muze-utils';\nimport './scroll-bar.scss';\nimport { WIDTH, HEIGHT } from '../../../constants';\n\nconst d3Drag = getD3Drag();\n\nconst arrowSizeMap = {\n    left: WIDTH,\n    right: WIDTH,\n    top: HEIGHT,\n    bottom: HEIGHT\n};\n\nexport const getUnitPositions = (unitMeasures, totalLength, viewLength) => {\n    let currentLen = 0;\n    const measures = unitMeasures.primary && unitMeasures.primary.length ?\n        unitMeasures.primary : unitMeasures.secondary;\n\n    return measures.map((e) => {\n        const unitPosition = currentLen * 100 / (totalLength - viewLength);\n        currentLen += e;\n        return unitPosition;\n    });\n};\n\nexport const createScrollBarArrow = (mount, type, config) => {\n    const {\n        classPrefix,\n        thickness\n    } = config;\n    const arrow = makeElement(mount, 'div', [type], `${classPrefix}-scroll-arrow-${type}`);\n\n    arrow.classed(`${classPrefix}-scroll-arrow`, true);\n    arrow.style(arrowSizeMap[type], `${thickness}px`);\n\n    const chevron = makeElement(arrow, 'div', [1], `${classPrefix}-scroll-arrow-chevron`);\n\n    chevron.attr('id', `${classPrefix}-scroll-arrow-chevron-${type}`);\n\n    return arrow;\n};\n\nexport const createScrollBarRect = (mount, config) => {\n    const {\n        classPrefix\n    } = config;\n    const rect = makeElement(mount, 'div', [1], `${classPrefix}-scroll-rect`);\n    const mover = makeElement(rect, 'div', [1], `${classPrefix}-scroll-mover`);\n\n    return { rect, mover };\n};\n\nexport const applyRectClick = (scrollMaker, moverRect) => {\n    const {\n        rect\n    } = moverRect;\n\n    rect.on('click', () => {\n        const event = getEvent();\n        scrollMaker.emptyScrollAreaClick(event);\n    });\n};\n\nconst applyMoverDrag = (scrollMaker, moverRect) => {\n    let startPos = {};\n    let moverStartPos = 0;\n    let rectStartPos = 0;\n    let endPos = {};\n    const {\n        mover,\n        rect\n    } = moverRect;\n\n    mover.call(d3Drag()\n                    .on('start', () => {\n                        const event = getEvent();\n\n                        moverStartPos = mover.node().getBoundingClientRect();\n                        rectStartPos = rect.node().getBoundingClientRect();\n                        startPos = {\n                            x: event.x,\n                            y: event.y\n                        };\n                    })\n                    .on('drag', () => {\n                        const event = getEvent();\n                        const window = getWindow();\n\n                        endPos = {\n                            x: event.x,\n                            y: event.y\n                        };\n                        const distanceMoved = {\n                            x: endPos.x - startPos.x,\n                            y: endPos.y - startPos.y\n                        };\n                        const actualPosition = {\n                            x: moverStartPos.x + distanceMoved.x - rectStartPos.x + window.pageXOffset,\n                            y: moverStartPos.y + distanceMoved.y - rectStartPos.y + window.pageYOffset\n                        };\n\n                        scrollMaker.changeMoverPosition(actualPosition);\n                    }));\n};\n\nconst applyScrollMouseDownAction = (moverRect, scrollMaker, speed) => {\n    const {\n        mover,\n        rect\n    } = moverRect;\n    const { x, y } = mover.node().getBoundingClientRect();\n    const { x: rectX, y: rectY } = rect.node().getBoundingClientRect();\n\n    scrollMaker.changeMoverPosition({ x: x - rectX + speed, y: y - rectY + speed });\n};\n\nconst registerListenerOnArrow = (scrollMaker, moverRect, arrowType, speed) => {\n    let timer = '';\n    const arrow = scrollMaker._components[arrowType];\n    const isTouchDevice = hasTouch();\n\n    arrow.on(isTouchDevice ? 'touchstart' : 'mousedown', () => {\n        const event = getEvent();\n\n        event.preventDefault();\n\n        timer = setInterval(() => {\n            applyScrollMouseDownAction(moverRect, scrollMaker, speed);\n        }, 100);\n    }).on(isTouchDevice ? 'touchend' : 'mouseup', () => {\n        const event = getEvent();\n\n        event.preventDefault();\n\n        clearInterval(timer);\n    }).on('click', () => {\n        applyScrollMouseDownAction(moverRect, scrollMaker, speed);\n    });\n};\n\nexport const registerListeners = (scrollMaker) => {\n    const {\n        moverRect\n    } = scrollMaker._components;\n\n    const speed = scrollMaker.config().speed;\n\n    registerListenerOnArrow(scrollMaker, moverRect, 'prevArrow', -speed);\n    applyMoverDrag(scrollMaker, moverRect);\n    applyRectClick(scrollMaker, moverRect);\n    registerListenerOnArrow(scrollMaker, moverRect, 'nextArrow', speed);\n};\n\nexport const scrollContainerHelper = (mountPoint, config, dimensions, type) => {\n    const {\n        classPrefix\n    } = config;\n    const scrollBarContainer = makeElement(selectElement(mountPoint), 'div', [1], `#${classPrefix}-scroll-bar-${type}`);\n\n    scrollBarContainer.classed(`${classPrefix}-scroll-bar`, true);\n    scrollBarContainer.style(WIDTH, `${dimensions.width}px`);\n    scrollBarContainer.style(HEIGHT, `${dimensions.height}px`);\n    return scrollBarContainer;\n};\n\n","import { ScrollMaker } from './scroll-maker';\nimport { createScrollBarRect, createScrollBarArrow, getUnitPositions } from './helper';\nimport { HORIZONTAL, HEIGHT, WIDTH, LEFT } from '../../../constants';\n\nexport class HorizontalScrollMaker extends ScrollMaker {\n\n    /**\n     * Describes the type of the ScrollMaker\n     *\n     * @public\n     *\n     * @return {String} Returns the type of scroll maker: horizontal\n     */\n    static type () {\n        return HORIZONTAL;\n    }\n\n    createScroll (mountPoint, dimensions = this.logicalSpace()) {\n        const config = this.config();\n        const { scrollBarContainer } = super.createScroll(mountPoint, config, dimensions);\n        const prevArrow = createScrollBarArrow(scrollBarContainer, 'left', config);\n        const moverRect = createScrollBarRect(scrollBarContainer, config);\n        const nextArrow = createScrollBarArrow(scrollBarContainer, 'right', config);\n        const {\n            mover,\n            rect\n        } = moverRect;\n\n        const { height, width, totalLength, viewLength, unitWidths } = this.logicalSpace();\n        const scrollBarWithouArrowLength = width - height * 2;\n\n        rect.style(WIDTH, `${dimensions.width - height * 2}px`);\n        rect.style(HEIGHT, `${100}%`);\n        mover.style(WIDTH, `${(viewLength * scrollBarWithouArrowLength) / totalLength}px`);\n        mover.style(HEIGHT, `${100}%`);\n        mover.style(LEFT, `${0}px`);\n\n        this._components = {\n            prevArrow,\n            nextArrow,\n            moverRect,\n            scrollBarContainer\n        };\n        this._scrollBarWithouArrowLength = scrollBarWithouArrowLength;\n        this.unitPositions(getUnitPositions(unitWidths, totalLength, viewLength));\n        this.registerListeners();\n    }\n\n    emptyScrollAreaClick (event) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const speed = this.config().speed;\n        const { x, y } = mover.node().getBoundingClientRect();\n        const { x: rectX, y: rectY } = rect.node().getBoundingClientRect();\n        let positionAdjuster = speed * 10;\n        if (event.x < x) {\n            positionAdjuster = -speed * 10;\n        }\n        this.changeMoverPosition({ x: x - rectX + positionAdjuster, y: y - rectY + positionAdjuster });\n    }\n\n    changeMoverPosition (newPosition) {\n        let currentPos;\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const rectStartPos = rect.node().getBoundingClientRect();\n        const moverPos = mover.node().getBoundingClientRect();\n        const {\n            totalLength\n         } = this.logicalSpace();\n\n        if (newPosition.x < 0) {\n            currentPos = 0;\n        } else if (newPosition.x + moverPos.width > rectStartPos.width) {\n            currentPos = rectStartPos.width - moverPos.width;\n        } else {\n            currentPos = newPosition.x;\n        }\n\n        mover.style(LEFT, `${currentPos}px`);\n        const totalDistance = this._scrollBarWithouArrowLength;\n        const movedViewLength = (currentPos * totalLength) / totalDistance;\n\n        this.manager().performAttachedScrollFunction(this.constructor.type(), movedViewLength);\n    }\n\n    scrollDeltaTo (delta) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const rectStartPos = rect.node().getBoundingClientRect();\n\n        this.changeMoverPosition({ y: 0, x: moverPos.x - rectStartPos.x - delta });\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page. The input is provided as a percentage (0 - 100)\n     *\n     * @public\n     *\n     * @param {number} scrollPercentage Its the percentage based on which the scroll action will occur\n     * @return {HorizontalScrollMaker} Instance of the HorizontalScrollMaker\n     */\n    scrollTo (scrollPercentage) {\n        const {\n            mover\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const movement = (scrollPercentage * (this._scrollBarWithouArrowLength - moverPos.width)) / 100;\n\n        this.changeMoverPosition({ y: 0, x: movement });\n        return this;\n    }\n\n}\n\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n\n    config: {\n        sanitization: (context, value) => {\n            value = mergeRecursive(context._config, value);\n            return value;\n        }\n    },\n    manager: {},\n    unitPositions: {},\n    logicalSpace: {}\n};\n\n","// extracted by mini-css-extract-plugin","import { ERROR_MSG, generateGetterSetters } from 'muze-utils';\nimport {\n    scrollContainerHelper,\n    registerListeners\n} from './helper';\nimport { PROPS } from './props';\n\nexport class ScrollMaker {\n\n    constructor () {\n        this._components = {};\n        this._logicalSpace = {};\n        this._attachedScrollAction = () => {};\n        this._config = {\n            thickness: 10,\n            speed: 2\n        };\n        this._unitPositions = null;\n\n        generateGetterSetters(this, PROPS);\n    }\n\n    static type () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    emptyScrollAreaClick () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    changeMoverPosition () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    scrollTo () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    scrollDeltaTo () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    createScroll (mountPoint) {\n        const config = this.config();\n\n        return {\n            scrollBarContainer: scrollContainerHelper(mountPoint, config, this.logicalSpace(), this.constructor.type())\n        };\n    }\n\n    attachScrollAction (externalScrollAction) {\n        this._attachedScrollAction = externalScrollAction;\n        return this;\n    }\n\n    detachScrollAction () {\n        this._attachedScrollAction = () => {};\n        return this;\n    }\n\n    getLogicalSpace () {\n        return this.logicalSpace();\n    }\n\n    registerListeners () {\n        registerListeners(this);\n        return this;\n    }\n\n    remove () {\n        this._components.scrollBarContainer.remove();\n        return this;\n    }\n}\n\n","import { ScrollMaker } from './scroll-maker';\nimport { createScrollBarRect, createScrollBarArrow, getUnitPositions } from './helper';\nimport { VERTICAL, TOP, HEIGHT, WIDTH } from '../../../constants';\n\nexport class VerticalScrollMaker extends ScrollMaker {\n\n    /**\n     * Describes the type of the ScrollMaker\n     *\n     * @public\n     *\n     * @return {String} Returns the type of scroll maker: vertical\n     */\n    static type () {\n        return VERTICAL;\n    }\n\n    createScroll (mountPoint, dimensions = this.logicalSpace()) {\n        const config = this.config();\n        const { scrollBarContainer } = super.createScroll(mountPoint, dimensions);\n        const prevArrow = createScrollBarArrow(scrollBarContainer, 'top', config);\n        const moverRect = createScrollBarRect(scrollBarContainer, config);\n        const nextArrow = createScrollBarArrow(scrollBarContainer, 'bottom', config);\n        const {\n            mover,\n            rect\n        } = moverRect;\n        const { height, width, totalLength, viewLength, unitHeights } = this.logicalSpace();\n        const scrollBarWithouArrowLength = height - width * 2;\n\n        rect.style(HEIGHT, `${scrollBarWithouArrowLength}px`);\n        rect.style(WIDTH, `${100}%`);\n        mover.style(WIDTH, `${100}%`);\n        mover.style(HEIGHT, `${(viewLength * scrollBarWithouArrowLength) / totalLength}px`);\n        mover.style(TOP, `${0}px`);\n\n        this._components = {\n            prevArrow,\n            nextArrow,\n            moverRect,\n            scrollBarContainer\n        };\n        this._scrollBarWithouArrowLength = scrollBarWithouArrowLength;\n\n        this.unitPositions(getUnitPositions(unitHeights, totalLength, viewLength));\n        this.registerListeners();\n    }\n\n    emptyScrollAreaClick (event) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const speed = this.config().speed;\n        const { x, y } = mover.node().getBoundingClientRect();\n        const { x: rectX, y: rectY } = rect.node().getBoundingClientRect();\n\n        let positionAdjuster = speed * 10;\n        if (event.y < y) {\n            positionAdjuster = -speed * 10;\n        }\n        this.changeMoverPosition({ x: x - rectX + positionAdjuster, y: y - rectY + positionAdjuster });\n    }\n\n    changeMoverPosition (newPosition) {\n        let currentPos;\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const {\n            totalLength\n         } = this.logicalSpace();\n        const rectStartPos = rect.node().getBoundingClientRect();\n        const moverPos = mover.node().getBoundingClientRect();\n\n        if (newPosition.y < 0) {\n            currentPos = 0;\n        } else if (newPosition.y + moverPos.height > rectStartPos.height) {\n            currentPos = rectStartPos.height - moverPos.height;\n        } else {\n            currentPos = newPosition.y;\n        }\n        mover.style(TOP, `${currentPos}px`);\n        const totalDistance = this._scrollBarWithouArrowLength;\n        const movedViewLength = (currentPos * totalLength) / totalDistance;\n\n        this.manager().performAttachedScrollFunction(this.constructor.type(), movedViewLength);\n    }\n\n    /**\n     * Scrolls based on the actual pixel value provided. Since it's a delta change, the input will be\n     * a delta between (-Infinity, Infinity), based on which the scroll will occur. Only a delta movement in\n     * scroll occurs\n     *\n     * @public\n     *\n     * @param {number} delta Based on which the scroll will have a delta change in position\n     * @return {VerticalScrollMaker} Instance of the VerticalScrollMaker\n     */\n    scrollDeltaTo (delta) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const rectStartPos = rect.node().getBoundingClientRect();\n\n        this.changeMoverPosition({ y: moverPos.y - rectStartPos.y - delta, x: 0 });\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page. The input is provided as a percentage (0 - 100)\n     *\n     * @public\n     *\n     * @param {number} scrollPercentage Its the percentage based on which the scroll action will occur\n     * @return {VerticalScrollMaker} Instance of the VerticalScrollMaker\n     */\n    scrollTo (scrollPercentage) {\n        const {\n            mover\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const movement = (scrollPercentage * (this._scrollBarWithouArrowLength - moverPos.height)) / 100;\n\n        this.changeMoverPosition({ x: 0, y: movement });\n        return this;\n    }\n\n}\n","import MuzeComponent from './muze-chart-component';\nimport { HorizontalScrollMaker } from './scroll-bar-maker/horizontal-scroll-maker';\nimport { VerticalScrollMaker } from './scroll-bar-maker/vertical-scroll-maker';\n\nconst scrollMakerMap = {\n    horizontal: HorizontalScrollMaker,\n    vertical: VerticalScrollMaker\n};\n\n/**\n * Scroll Component acts as a wrapper over the scoll bars created using the respective Scroll Makers\n * This provides a consistent API for layouting using the tree layout system.\n *\n *\n * @class\n * @public\n * @module ScrollComponent\n */\nexport default class ScrollComponent extends MuzeComponent {\n\n    constructor (params) {\n        const ScrollMaker = scrollMakerMap[params.config.type];\n\n        params.component = new ScrollMaker();\n        params.component.config(params.config.scrollBarComponentConfig);\n        params.component.logicalSpace(params.dimensions);\n        super(params.name, params.component.getLogicalSpace(), 0);\n        this.setParams(params);\n    }\n\n    manager (...manager) {\n        if (manager.length) {\n            this.component.manager(manager[0]);\n            return this;\n        }\n        return this.component.manager();\n    }\n\n    /**\n     * Scrolls based on the actual pixel value provided. Since it's a delta change, the input will be\n     * a delta between (-Infinity, Infinity), based on which the scroll will occur. Only a delta movement in\n     * scroll occurs\n     *\n     * @public\n     *\n     * @param {number} delta Based on which the scroll will have a delta change in position\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    scrollDeltaTo (delta) {\n        this.component.scrollDeltaTo(delta);\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page. The input is provided as a percentage (0 - 100)\n     *\n     * @public\n     *\n     * @param {number} scrollPercentage Its the percentage based on which the scroll action will occur\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    scrollTo (scrollPercentage) {\n        this.component.scrollTo(scrollPercentage);\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page based on the unit index.\n     * The input is provided as a number represting the index for the unit.\n     * For vertical scroll, it's the row index that will be required.\n     * For horizontal scroll, it's the column index that will be required\n     *\n     * @public\n     *\n     * @param {number} unitIndex Index of the unit appearing in the grid\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    scrollToUnitIndex (unitIndex) {\n        const unitPositions = this.component.unitPositions();\n        const sanitizedUnitIndex = Math.min(Math.max(0, unitIndex), unitPositions.length - 1);\n        this.component.scrollTo(unitPositions[sanitizedUnitIndex]);\n        return this;\n    }\n\n    /**\n     * Provides the positions of the units(either horizontal or vertical based on the type\n     * of scroll bar it wraps) relative to it's container. The position of the first unit starts at 0\n     *\n     *\n     * @public\n     *\n     * @return {Array} Positions of units either horizontal or vertical\n     */\n    getScrollPositionsForUnits () {\n        return this.component.unitPositions();\n    }\n\n    draw (container) {\n        this.component.createScroll(container || document.getElementById(this.renderAt()));\n        return this;\n    }\n\n    /**\n     * Can be used to attach a scroll action whenever scrolling occurs in the canvas\n     *\n     * @public\n     * @param {number} externalAction Action to be attached during scroll\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    attachScrollAction (externalAction) {\n        this.component.attachScrollAction(externalAction);\n        return this;\n    }\n\n    /**\n     * Can be used to detach the scroll action already bound to the scroll bar\n     *\n     * @public\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    detachScrollAction () {\n        this.component.detachScrollAction();\n        return this;\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.component.config(params.config.scrollBarComponentConfig);\n        this.component.logicalSpace(params.dimensions);\n        this.boundBox(this.component.getLogicalSpace());\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component || this.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(params.config.position);\n        this.className(params.config.className);\n        this.alignWith(params.config.alignWith);\n        this.alignment(params.config.alignment);\n    }\n\n    remove () {\n        this.component.remove();\n    }\n}\n","import { MUZE_PREFIX } from '../constants';\n\nexport const TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 4,\n    className: `${MUZE_PREFIX}-title-container`\n};\n\nexport const SUB_TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 16,\n    maxLines: 2,\n    className: `${MUZE_PREFIX}-subtitle-container`\n};\n\nexport const MESSAGE_CONFIG = {\n    className: `${MUZE_PREFIX}-message-container`\n};\n\nexport const CANVAS = 'canvas';\n","import {\n    getDataModelFromIdentifiers,\n    FieldType,\n    mergeRecursive,\n    isSimpleObject,\n    CommonProps\n} from 'muze-utils';\nimport { Firebolt } from '@chartshq/muze-firebolt';\n\nimport { applyInteractionPolicy } from '../helper';\n\nconst defaultInteractionPolicy = (valueMatrix, firebolt) => {\n    const isMeasure = field => field.type() === FieldType.MEASURE;\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    const xFields = [].concat(...visualGroup.getFieldsFromChannel('x'));\n    const yFields = [].concat(...visualGroup.getFieldsFromChannel('y'));\n    const colDim = xFields.every(field => field.type() === FieldType.DIMENSION);\n    const fieldInf = visualGroup.resolver().getAllFields();\n    const rowFacets = fieldInf.rowFacets;\n    const colFacets = fieldInf.colFacets;\n    valueMatrix.each((cell) => {\n        const unitFireBolt = cell.valueOf().firebolt();\n        if (!(xFields.every(isMeasure) && yFields.every(isMeasure))) {\n            const facetFields = cell.valueOf().facetByFields()[0];\n            const unitColFacets = facetFields.filter(d => colFacets.findIndex(v => v.equals(d)) !== -1);\n            const unitRowFacets = facetFields.filter(d => rowFacets.findIndex(v => v.equals(d)) !== -1);\n            let propFields;\n            if (colDim) {\n                propFields = unitColFacets.map(d => `${d}`);\n            } else {\n                propFields = unitRowFacets.map(d => `${d}`);\n            }\n\n            unitFireBolt.propagateWith('*', propFields, true);\n        }\n    });\n};\n\nconst defaultCrossInteractionPolicy = {\n    behaviours: {\n        '*': (propagationPayload, context) => {\n            const propagationCanvasAlias = propagationPayload.sourceCanvas;\n            const canvasAlias = context.parentAlias();\n            return propagationCanvasAlias ? canvasAlias === propagationCanvasAlias : true;\n        }\n    },\n    sideEffects: {\n        tooltip: (propagationPayload, context) => {\n            const propagationUnit = propagationPayload.sourceUnit;\n            const propagationCanvas = propagationPayload.sourceCanvas;\n            const unitId = context.id();\n            const canvasAlias = context.parentAlias();\n            if (propagationCanvas) {\n                return propagationCanvas !== canvasAlias ? true : unitId === propagationUnit;\n            }\n            return true;\n        },\n        selectionBox: () => false\n    }\n};\n\n/**\n * This class is responsible for dispatching any behavioural action to all the visual units housed by the canvas.\n * It is created by {@link Canvas}. This class does not handle any physical actions. Physical actions get triggered\n * in {@link VisualUnit} which is managed by it's own firebolt instance. The firebolt instance of canvas only\n * propagates the action to all the visual units in it's composition.\n *\n * To get the firebolt instance of {@link Canvas}\n * ```\n *  const firebolt = canvas.firebolt();\n * ```\n *\n * @class GroupFireBolt\n * @public\n */\nexport default class GroupFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        this._interactionPolicy = this.constructor.defaultInteractionPolicy();\n        this.crossInteractionPolicy(this.constructor.defaultCrossInteractionPolicy());\n    }\n\n    static defaultInteractionPolicy () {\n        return defaultInteractionPolicy;\n    }\n\n    static defaultCrossInteractionPolicy () {\n        return defaultCrossInteractionPolicy;\n    }\n\n    interactionPolicy (...policy) {\n        if (policy.length) {\n            this._interactionPolicy = policy[0] || this.constructor.defaultInteractionPolicy();\n            return this;\n        }\n        return this._interactionPolicy;\n    }\n\n    crossInteractionPolicy (...policy) {\n        if (policy.length) {\n            this._crossInteractionPolicy = mergeRecursive(mergeRecursive({},\n                this.constructor.defaultCrossInteractionPolicy()), policy[0] || {});\n            const context = this.context;\n            applyInteractionPolicy(this);\n            context._throwback.registerImmediateListener([CommonProps.MATRIX_CREATED], () => {\n                applyInteractionPolicy(this);\n            });\n            return this;\n        }\n        return this._crossInteractionPolicy;\n    }\n\n    /**\n     * Dispatches a behavioural action with a payload. It takes the name of the behavioural action and a payload\n     * object which contains the criteria aend an array of side effects which determines what side effects are\n     * going to be shown in each visual unit of the canvas. It prepares the datamodel from the given criteria\n     * and initiates a propagation from the datamodel of canvas. Then all the visual units of canvas which listens\n     * to the propagation gets informed on which rows got selected and dispatches the behavioural action sent during\n     * propagation.\n     *\n     * To dispatch a behavioural action on the canvas\n     * ```\n     *  // Get the firebolt instance of the canvas\n     *  const firebolt = canvas.firebolt();\n     *  // Dispatch a brush behaviour\n     *  firebolt.dispatchBehaviour('brush', {\n     *      // Selects all the rows with Horsepower having range between 100 and 200.\n     *      criteria: {\n     *          Horsepower: [100, 200]\n     *      }\n     *  });\n     * // On dispatch of this behavioural action, a selection box gets created and plots gets faded out which are the\n     * // default side effects mapped to this behavioural action.\n     * ```\n     *\n     * ```\n     * Additionally, it can also be passed an array of side effects in the payload.\n     *  // Dispatch a select behaviour with only crossline as side effect.\n     *  firebolt.dispatchBehaviour('select', {\n     *      criteria: {\n     *          Cylinders: ['8']\n     *      },\n     *      sideEffects: ['crossline']\n     *  });\n     * ```\n     *\n     * @public\n     *\n     * @param {string} behaviour Name of the behavioural action\n     * @param {Object} payload Object which contains the interaction information.\n     * @param {Object | Array.<Array>} payload.criteria Identifiers by which the selection happens.\n     * @param {Array.<string|Object>} payload.sideEffects Side effects which needs to be shown.\n     *\n     * @return {GroupFireBolt} Instance of firebolt.\n     */\n    dispatchBehaviour (behaviour, payload) {\n        const propPayload = Object.assign(payload);\n        const criteria = propPayload.criteria;\n        const data = this.context.composition().visualGroup.getGroupByData();\n        const fieldsConfig = data.getFieldsConfig();\n        const model = getDataModelFromIdentifiers(data, criteria);\n        const behaviouralAction = this._actions.behavioural[behaviour];\n\n        if (behaviouralAction) {\n            const fields = isSimpleObject(criteria) ? Object.keys(criteria) : (criteria ? criteria[0] : []);\n            const validFields = fields.filter(field => field in fieldsConfig);\n            const mutates = behaviouralAction.constructor.mutates();\n            const propConfig = {\n                payload: propPayload,\n                action: behaviour,\n                criteria: model,\n                sourceId: this.context.alias(),\n                isMutableAction: mutates,\n                propagateInterpolatedValues: validFields.every(field => fieldsConfig[field].def.type ===\n                    FieldType.MEASURE)\n            };\n            data.propagate(model, propConfig, true);\n        }\n        return this;\n    }\n\n    registerSideEffects (sideEffects) {\n        for (const key in sideEffects) {\n            this._sideEffectDefinitions[sideEffects[key].formalName()] = sideEffects[key];\n        }\n        return this;\n    }\n}\n","import GroupFireBolt from './group-firebolt';\n\nexport default GroupFireBolt;\n","import { isEqual, STATE_NAMESPACES, selectElement, getValueParser } from 'muze-utils';\nimport { VisualGroup } from '@chartshq/visual-group';\nimport { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, DATA, CONFIG, GRID }\n    from '../constants';\nimport { canvasOptions } from './local-options';\nimport { LayoutManager } from '../../../layout/src/tree-layout';\n\n/**\n * Instantiate high level components. Canvas knows what all high level component it has.\n * @nice-to-have dynamic high level components.\n *  - Is it even required ?\n *  - Reactive to source (canvas) streaming ?\n * @param {*} context Canvas instance\n * @return {Object.<Array>} Arrays of Title, visualGroup, Legend\n */\nexport const initCanvas = (context) => {\n    const reg = context._registry.components;\n\n    return [new reg.VisualGroup(context._registry, Object.assign({\n        throwback: context._throwback\n    }, context.dependencies()))];\n};\n\nexport const fixScrollBarConfig = (config) => {\n    config.scrollBar.thickness = Math.min(50, Math.max(10, config.scrollBar.thickness));\n    return config;\n};\n\nexport const setLayoutInfForUnits = (context) => {\n    const layoutManager = context._layoutManager;\n    const gridLayout = layoutManager.getComponent(GRID);\n    const boundBox = gridLayout && gridLayout.getBoundBox();\n    const valueMatrix = context.composition().visualGroup.matrixInstance().value;\n    const parentContainer = selectElement(`#${layoutManager.getRootNodeId()}`).node();\n    valueMatrix.each((cell) => {\n        cell.valueOf().parentContainerInf({\n            el: parentContainer,\n            dimensions: boundBox\n        });\n    });\n};\n\n/**\n *\n *\n * @memberof Canvas\n */\nexport const dispatchProps = (context) => {\n    const lifeCycleManager = context.dependencies().lifeCycleManager;\n    lifeCycleManager.notify({ client: context, action: 'beforeupdate' });\n    const visualGroup = context.composition().visualGroup;\n\n    const allOptions = context._allOptions;\n    for (const key in allOptions) {\n        const value = context[key]();\n        if (value !== null) {\n            visualGroup[key] && visualGroup[key](value);\n        }\n    }\n    const { invalidValues } = context.config();\n\n    visualGroup.valueParser(getValueParser(invalidValues));\n    visualGroup.createMatrices();\n    context._cachedProps = {};\n    lifeCycleManager.notify({ client: context, action: 'initialized' });\n    lifeCycleManager.notify({ client: context, action: 'updated' });\n};\n\nconst equalityChecker = (props, params) => {\n    let checker = () => false;\n    return !props.every((option, i) => {\n        switch (option) {\n        case ROWS:\n        case COLUMNS:\n        case DETAIL:\n            checker = isEqual('Array');\n            break;\n\n        case SHAPE:\n        case SIZE:\n        case COLOR:\n        case DATA:\n        case CONFIG:\n            checker = isEqual('Object');\n            break;\n        default:\n            checker = () => true;\n            break;\n        }\n        const oldVal = params[i][0];\n        const newVal = params[i][1];\n\n        return checker(oldVal, newVal);\n    });\n};\n\nconst updateChecker = (props, params) => props.every((option, i) => {\n    const val = params[i][1];\n    switch (option) {\n    case ROWS:\n    case COLUMNS:\n        return val !== null;\n\n    case DATA:\n        return val && !val.isEmpty();\n\n    default:\n        return true;\n\n    }\n});\n\nexport const notifyAnimationEnd = (context) => {\n    const viewInfo = context.layout().viewInfo();\n    const centerMatrix = viewInfo && viewInfo.viewMatricesInfo.matrices.center[1] || [];\n    const promises = [];\n    centerMatrix.forEach((cellArr) => {\n        cellArr.forEach((cell) => {\n            promises.push(cell.valueOf().done());\n        });\n    });\n    const lifeCycleManager = context.lifeCycle();\n    if (promises.length) {\n        Promise.all(promises).then(() => {\n            // Update life cycle\n            lifeCycleManager.notify({ client: context, action: 'drawn' });\n            const animDonePromises = [];\n\n            centerMatrix.forEach((cellArr) => {\n                cellArr.forEach((cell) => {\n                    cell.valueOf().layers().forEach((layer) => {\n                        animDonePromises.push(layer.animationDone());\n                    });\n                });\n            });\n\n            [context.xAxes(), context.yAxes()].forEach((axisArr) => {\n                axisArr = axisArr || [];\n                axisArr.forEach((axes) => {\n                    axes.forEach((axisInst) => {\n                        animDonePromises.push(axisInst.animationDone());\n                    });\n                });\n            });\n\n            Promise.all(animDonePromises).then(() => {\n                lifeCycleManager.notify({ client: context, action: 'animationend' });\n            });\n        });\n    } else {\n        lifeCycleManager.notify({ client: context, action: 'animationend' });\n    }\n};\n\nexport const setupChangeListener = (context) => {\n    const store = context._store;\n\n    const allOptions = Object.keys(context._allOptions);\n    const props = [...allOptions, ...Object.keys(canvasOptions)];\n    const nameSpaceProps = [...allOptions, ...Object.keys(canvasOptions)].map(prop =>\n        `${STATE_NAMESPACES.CANVAS_LOCAL_NAMESPACE}.${prop}`);\n    store.registerChangeListener(nameSpaceProps, (...params) => {\n        const equalityProps = equalityChecker(props, params);\n        const updateProps = updateChecker(props, params);\n        // inform attached board to rerender\n        if (equalityProps && context.mount()) {\n            if (updateProps) {\n                dispatchProps(context);\n            } else {\n                context.composition().visualGroup.remove();\n            }\n            context.render();\n        }\n        notifyAnimationEnd(context);\n    }, true);\n};\n\nexport const applyInteractionPolicy = (firebolt) => {\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    if (visualGroup) {\n        const valueMatrix = visualGroup.matrixInstance().value;\n        const interactionPolicy = firebolt._interactionPolicy;\n        interactionPolicy(valueMatrix, firebolt);\n        const crossInteractionPolicy = firebolt._crossInteractionPolicy;\n        const behaviours = crossInteractionPolicy.behaviours;\n        const sideEffects = crossInteractionPolicy.sideEffects;\n        valueMatrix.each((cell) => {\n            const unitFireBolt = cell.valueOf().firebolt();\n            for (const key in behaviours) {\n                unitFireBolt.changeBehaviourStateOnPropagation(key, behaviours[key]);\n            }\n            for (const key in sideEffects) {\n                unitFireBolt.changeSideEffectStateOnPropagation(key, sideEffects[key]);\n            }\n        });\n    }\n};\n\n/**\n * Sets the rotation for all x axes if any axis has the rotation config set in the\n * entire view\n *\n * @param {Array} columns Column cells that contain the axes cells\n */\nexport const setLabelRotationForAxes = (context) => {\n    let rotation = 0;\n\n    const xAxes = context.xAxes() || [];\n\n    (() => {\n        for (let i = 0; i < xAxes.length; i++) {\n            for (let j = 0; j < xAxes[i].length; j++) {\n                const rotationVal = xAxes[i][j].renderConfig().labels.rotation;\n                if (rotationVal && rotationVal !== 0) {\n                    rotation = rotationVal;\n                    return;\n                }\n            }\n        }\n    })();\n\n    if (rotation) {\n        xAxes.forEach((axes) => {\n            axes.forEach((axis) => {\n                axis.renderConfig({ labels: { rotation } });\n                axis.smartTicks(axis.setTickConfig());\n            });\n        });\n    }\n};\n\nexport const createGroupState = (context) => {\n    const [globalState, localState] = VisualGroup.getState();\n    const store = context._store;\n    store.append('app.group', globalState);\n    store.append('local.group', localState);\n};\n\nexport const removeChild = (mount) => {\n    while (mount.firstChild) {\n        mount.removeChild(mount.firstChild);\n    }\n};\n\nexport const createLayoutManager = () => {\n    const layoutManager = new LayoutManager({\n        className: 'muze-group-container'\n    });\n    return layoutManager;\n};\n","export { default as Canvas } from './canvas';\n","import { mergeRecursive } from 'muze-utils';\nimport { arrangeComponents } from './component-resolver';\nimport { createHeaders } from './title-maker';\nimport { createLegend, getLegendSpace } from './legend-maker';\nimport { componentWrapperMaker } from './component-wrapper-maker';\nimport {\n    TOP,\n    BOTTOM,\n    LEFT,\n    RIGHT,\n    TITLE,\n    SUB_TITLE,\n    LEGEND,\n    VERTICAL_SCROLL_BAR,\n    HORIZONTAL_SCROLL_BAR,\n    GRID,\n    MESSAGE\n} from '../constants';\nimport { ScrollManager } from './scroll-manager';\n\n/**\n *\n *\n * @param {*} context\n *\n */\nexport const prepareLayout = (layout, renderDetails) => {\n    const { components, layoutConfig, measurement } = renderDetails;\n    const {\n        rows,\n        columns,\n        values,\n        cornerMatrices\n    } = components;\n    const {\n        topLeft,\n        topRight,\n        bottomLeft,\n        bottomRight\n    } = cornerMatrices;\n    if (rows && columns) {\n        layout.measurement(measurement)\n                        .config(layoutConfig)\n                        .matrices({\n                            top: [topLeft, columns[0], topRight],\n                            center: [rows[0], values, rows[1]],\n                            bottom: [bottomLeft, columns[1], bottomRight]\n                        })\n                        .triggerReflow();\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} mount\n *\n */\nexport const getRenderDetails = (context, mount) => {\n    let layoutConfig = mergeRecursive({}, context.config());\n    // Get height width of the mount point\n    let { height, width } = mount.getBoundingClientRect();\n    const heightAttr = context.height();\n    const widthAttr = context.width();\n    const visGroup = context.composition().visualGroup;\n    const {\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority,\n        rows,\n        columns,\n        values\n    } = visGroup.placeholderInfo();\n    const {\n        minWidth,\n        minHeight,\n        classPrefix,\n        showHeaders,\n        legend,\n        pagination,\n        scrollBar\n    } = context.config();\n\n    // Get title configuration\n    const titleConfig = context.title()[1];\n     // Get subtitle configuration\n    const subtitleConfig = context.subtitle()[1];\n    // Get legend position\n    const legendPosition = legend.position;\n    // Arrange components according to config\n    const layoutArrangement = arrangeComponents(context);\n\n    height = Math.floor(height);\n    width = Math.floor(width);\n\n    const availableHeightForCanvas = Math.max(heightAttr > 0 ? heightAttr : height, minHeight);\n    const availableWidthForCanvas = Math.max(widthAttr > 0 ? widthAttr : width, minWidth);\n\n    // Create headers and determine header height\n    const { headers, headerHeight } = createHeaders(context, availableHeightForCanvas, availableWidthForCanvas);\n\n    // Create legends and determine legend space\n    const legends = createLegend(context, headerHeight, availableHeightForCanvas, availableWidthForCanvas);\n    context._composition.legend = {};\n    legends.forEach((e) => {\n        context._composition.legend[e.scaleType] = e.legend;\n    });\n\n    const legendSpace = getLegendSpace(legends, legend, availableHeightForCanvas, availableWidthForCanvas);\n    const legendWidth = (legendPosition === LEFT || legendPosition === RIGHT) ? legendSpace.width : 0;\n    const legendHeight = (legendPosition === TOP || legendPosition === BOTTOM) ? legendSpace.height : 0;\n\n    // Set components for layouting\n    const components = {\n        headers,\n        legends,\n        canvases: [context],\n        rows,\n        columns,\n        values,\n        cornerMatrices: visGroup.cornerMatrices()\n    };\n\n    const measurement = {\n        mountSpace: {\n            height,\n            width\n        },\n        headerHeight,\n        legendSpace,\n        canvasWidth: availableWidthForCanvas,\n        canvasHeight: availableHeightForCanvas,\n        width: availableWidthForCanvas - legendWidth,\n        height: availableHeightForCanvas - headerHeight - legendHeight,\n        minUnitHeight: context.minUnitHeight(),\n        minUnitWidth: context.minUnitWidth()\n    };\n    layoutConfig = mergeRecursive(layoutConfig, {\n        classPrefix,\n        showHeaders,\n        border: mergeRecursive(visGroup.metaData().border, context.config().border),\n        layoutArrangement,\n        legend,\n        buffer: scrollBar.thickness,\n        pagination,\n        title: titleConfig,\n        subtitle: subtitleConfig,\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        mount,\n        priority\n    });\n    return {\n        layoutConfig,\n        components,\n        measurement\n    };\n};\n\nconst componentIndexes = {\n    title: 0,\n    subtitle: 1,\n    legend: 2,\n    verticalScrollBar: 3,\n    horizontalScrollBar: 4,\n    grid: 5,\n    message: 6\n};\n\nconst componentNames = {\n    0: TITLE,\n    1: SUB_TITLE,\n    2: LEGEND,\n    3: VERTICAL_SCROLL_BAR,\n    4: HORIZONTAL_SCROLL_BAR,\n    5: GRID,\n    6: MESSAGE\n};\n\nconst attachListeners = (componentWrappers) => {\n    componentWrappers.forEach((componentWrapper) => {\n        if (componentWrapper) {\n            componentWrapper.attachListener();\n        }\n    });\n};\n\n/**\n * Responsible for creating a scroll manager that manages interactions between the grid\n * component and the scroll bar components\n *\n * @param {Array} componentWrappers Contains the wrappers for all the components\n * @param {Canvas} canvas Instance of the current canvas\n * @return {Array} Positions of units either horizontal or vertical\n */\nconst createScrollManager = (componentWrappers, canvas) => {\n    const {\n        horizontalScrollBar,\n        verticalScrollBar,\n        grid\n    } = componentIndexes;\n\n    const horizontalScrollWrapper = componentWrappers[horizontalScrollBar];\n    const verticalScrollWrapper = componentWrappers[verticalScrollBar];\n    const gridWrapper = componentWrappers[grid];\n    const scrollBarManager = new ScrollManager();\n    const scrollBarComponents = {};\n\n    verticalScrollWrapper && (scrollBarComponents.vertical = verticalScrollWrapper);\n    horizontalScrollWrapper && (scrollBarComponents.horizontal = horizontalScrollWrapper);\n\n    scrollBarManager\n                    .scrollBarComponents(scrollBarComponents)\n                    .attachedComponents({\n                        grid: gridWrapper\n                    });\n    canvas.composition().hScrollBar = horizontalScrollWrapper;\n    canvas.composition().vScrollBar = verticalScrollWrapper;\n\n    [horizontalScrollWrapper, verticalScrollWrapper].forEach((wrapper) => {\n        wrapper && wrapper.manager(scrollBarManager);\n    });\n\n    gridWrapper.scrollBarManager(scrollBarManager);\n};\n\nexport const renderLayout = (canvas, renderDetails) => {\n    const layoutManager = canvas._layoutManager;\n    const gridLayout = canvas.layout();\n    const {\n\n        grid\n    } = componentIndexes;\n\n    // Get the component wrappers\n    const compWrappers = componentWrapperMaker(canvas, gridLayout, renderDetails);\n    const componentWrappers = Object.keys(componentIndexes).map(e => compWrappers[e]);\n    const gridWrapper = componentWrappers[grid];\n    if (gridWrapper) {\n        createScrollManager(componentWrappers, canvas);\n    }\n\n    componentWrappers.forEach((componentWrapper, index) => {\n        if (!componentWrapper) {\n            const deleteElementName = componentNames[index];\n            layoutManager.removeComponent(deleteElementName);\n        }\n    });\n    layoutManager.registerComponents(componentWrappers).compute();\n    attachListeners(componentWrappers);\n};\n","import { TextCell, AxisCell } from '@chartshq/visual-cell';\nimport { getValueParser, retrieveFieldDisplayName, DataModel, getObjProp } from 'muze-utils';\nimport {\n    VERTICAL, HORIZONTAL, LEFT, RIGHT, LEGEND_TYPE_MAP, PADDING,\n    BORDER, MARGIN, SIZE, COLOR, IS_POINT_MAP, POINT\n} from '../constants';\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n *\n */\nexport const legendCreator = (canvas) => {\n    let LegendCls;\n    const dataset = [];\n    const axes = canvas.getRetinalAxes();\n\n    Object.entries(axes).forEach((axisInfo) => {\n        const scale = axisInfo[1][0];\n        const scaleType = axisInfo[0];\n        const scaleProps = canvas[scaleType]();\n\n        if (scaleProps.field && scale) {\n            const {\n                type,\n                step\n            } = scale.config();\n\n            const stepMapper = typeof step === 'boolean' ? step : false;\n            LegendCls = LEGEND_TYPE_MAP[`${type}-${stepMapper}-${scaleType}`];\n            dataset.push({\n                scale,\n                canvas,\n                fieldName: scaleProps.field,\n                title: retrieveFieldDisplayName(canvas.data(), scaleProps.field),\n                LegendCls,\n                scaleType\n            });\n        }\n    });\n\n    return dataset;\n};\n\n/**\n * @param {*} mark mark of the layers in the canvas\n * @param {*} scaleType type of the scale to draw the legend ie shape, size or color\n *\n */\nexport const legendIconShapeMapper = (layers, scaleType) => {\n    const layerMarks = layers.map(el => el.mark);\n    const shape = IS_POINT_MAP[(scaleType === COLOR || scaleType === SIZE)\n    && layerMarks.includes(POINT)];\n    return shape;\n};\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n * @param {*} measurement\n * @param {*} prevLegends\n *\n */\nexport const legendInitializer = (legendConfig, canvas, measurement, prevLegends) => {\n    const legends = [];\n    const {\n        height,\n        width,\n        headerHeight\n    } = measurement;\n    const {\n        position,\n        align\n    } = legendConfig;\n\n    const legendInfo = legendCreator(canvas);\n    const { invalidValues } = canvas.config();\n    const interactionRegistry = canvas.registry().interactions;\n    const parser = getValueParser(invalidValues);\n\n    legendInfo.forEach((dataInfo, index) => {\n        const legendMeasures = {};\n        const {\n                LegendCls,\n                scale,\n                fieldName,\n                title: titleText,\n                scaleType\n            } = dataInfo;\n        const config = legendConfig[scaleType] || {};\n        const title = config.title || {};\n        title.text = title.text || titleText;\n        if (config.show) {\n            config.position = position;\n            config.align = align;\n            let legend = getObjProp(prevLegends[scaleType], index);\n            if (!legend) {\n                legend = LegendCls.create({\n                    labelManager: canvas._dependencies.smartlabel,\n                    cells: {\n                        AxisCell, TextCell\n                    },\n                    registry: {\n                        interactions: interactionRegistry\n                    }\n                });\n            }\n            legendMeasures.maxHeight = align === VERTICAL ? (height - headerHeight) : height * 0.2;\n            legendMeasures.maxWidth = align === HORIZONTAL ? width : width * 0.2;\n            legendMeasures.width = Math.min(legendMeasures.maxWidth, config.width);\n            legendMeasures.height = Math.min(legendMeasures.maxHeight, config.height);\n\n            [PADDING, BORDER, MARGIN].forEach((e) => {\n                legendMeasures[e] = config[e];\n            });\n            const metaData = legend.metaData();\n            if (metaData instanceof DataModel) {\n                metaData.dispose();\n            }\n\n            const mark = canvas.composition().visualGroup.resolver().matrixLayers()[0][0];\n            config.shape = legendIconShapeMapper(mark, scaleType);\n\n            legend.scale(scale)\n                            .valueParser(parser)\n                            .title(title)\n                            .fieldName(fieldName)\n                            .config(config)\n                            .metaData(canvas.composition().visualGroup.getGroupByData().project([fieldName]))\n                            .measurement(legendMeasures)\n                            .canvasAlias(canvas.alias())\n                            .setLegendMeasures();\n\n            legends.push({ canvas, legend, scaleType });\n        }\n    });\n    return legends;\n};\n\n/**\n *\n *\n * @param {*} legends\n * @param {*} legendConfig\n * @param {*} availableHeight\n * @param {*} availableWidth\n *\n */\nexport const getLegendSpace = (legends, legendConfig, availableHeight, availableWidth) => {\n    const legendMeasures = legends.map(legendInfo => legendInfo.legend.measurement());\n    const legendSpace = { width: 0, height: 0 };\n\n    legendMeasures.forEach((space) => {\n        let height = 0;\n        let width = 0;\n        width = Math.min(space.width, space.maxWidth);\n        height = Math.min(space.height, space.maxHeight);\n\n        if (legendConfig.align === HORIZONTAL) {\n            if (legendSpace.width + width > availableWidth) {\n                legendSpace.width = availableWidth;\n                legendSpace.height += height;\n            } else {\n                legendSpace.width += width;\n                legendSpace.height = Math.max(legendSpace.height, height);\n            }\n        } else if (legendSpace.height + height > availableHeight) {\n            legendSpace.height = height;\n            legendSpace.width += width;\n        } else {\n            legendSpace.height += height;\n            legendSpace.width = Math.max(legendSpace.width, width);\n        }\n    });\n    if (legendConfig.align === HORIZONTAL) {\n        legendSpace.width = availableWidth;\n    }\n    return legendSpace;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} headerHeight\n *\n */\nexport const createLegend = (context, headerHeight, height, width) => {\n    const measurement = {\n        height,\n        width,\n        headerHeight\n    };\n    const { legend } = context.config();\n    const { show, position } = legend;\n\n    legend.classPrefix = context.config().classPrefix;\n    const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n\n    legend.show = show ? ((align === VERTICAL && width > 200) || (align === HORIZONTAL && height > 200)) : show;\n    legend.align = align;\n    return legendInitializer(legend, context, measurement, context.composition().legend || {});\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    ROWS,\n    COLUMNS,\n    COLOR,\n    SHAPE,\n    SIZE,\n    DETAIL,\n    LAYERS,\n    TRANSFORM,\n    TITLE,\n    SUB_TITLE\n} from '../constants';\nimport { TITLE_CONFIG, SUB_TITLE_CONFIG } from './defaults';\n/**\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Canvas.\n * Canvas merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @module LocalOptions\n */\n\nexport const localOptions = {\n    [ROWS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLUMNS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLOR]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || !config) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SHAPE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || !config) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SIZE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || !config) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [DETAIL]: {\n        value: [],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n\n    [LAYERS]: {\n        value: [],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [TRANSFORM]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object'\n        }\n    }\n};\n\nexport const canvasOptions = {\n    [TITLE]: {\n        value: [null, null],\n        meta: {\n            takesMultipleParams: true,\n            typeCheck: ([arg1, arg2]) => typeof arg1 === 'function' && typeof arg2 === 'object',\n            sanitization: ([title, titleConfig]) => {\n                let t = title;\n                if (typeof title === 'string' || !title) {\n                    t = () => title;\n                }\n                const defConfig = mergeRecursive({}, TITLE_CONFIG);\n                return [t, mergeRecursive(defConfig, titleConfig)];\n            }\n        }\n    },\n    [SUB_TITLE]: {\n        value: [null, null],\n        meta: {\n            takesMultipleParams: true,\n            typeCheck: ([arg1, arg2]) => typeof arg1 === 'function' && typeof arg2 === 'object',\n            sanitization: ([subtitle, subtitleConfig]) => {\n                let sub = subtitle;\n                if (typeof subtitle === 'string' || !subtitle) {\n                    sub = () => subtitle;\n                }\n                const defConfig = mergeRecursive({}, SUB_TITLE_CONFIG);\n                return [sub, mergeRecursive(defConfig, subtitleConfig)];\n            }\n        }\n    }\n};\n","export class ScrollManager {\n\n    constructor () {\n        this._scrollBarComponents = {};\n        this._attachedComponents = {};\n    }\n\n    scrollBarComponents (...sbc) {\n        if (sbc.length) {\n            this._scrollBarComponents = sbc[0];\n            return this;\n        }\n        return this._scrollBarComponents;\n    }\n\n    attachedComponents (...abc) {\n        if (abc.length) {\n            this._attachedComponents = abc[0];\n            return this;\n        }\n        return this._attachedComponents;\n    }\n\n    preventBrowserScroll (type, event) {\n        if (this.scrollBarComponents()[type]) {\n        // Prevent default behaviour and stop propagating\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        return this;\n    }\n\n    performAttachedScrollFunction (type, movedViewLength) {\n        Object.values(this.attachedComponents()).forEach((e) => {\n            e.performScrollAction(type, movedViewLength);\n        });\n        return this;\n    }\n\n    triggerScrollBarAction (type, delta) {\n        this.scrollBarComponents()[type] && this.scrollBarComponents()[type].scrollDeltaTo(delta);\n        return this;\n    }\n}\n","import { TextCell } from '@chartshq/visual-cell';\nimport { escapeHTML } from 'muze-utils';\nimport { TOP } from '../constants';\n\n/**\n *\n *\n * @param {*} rawContent\n *\n */\nconst resolveTitleSubTitleContent = (rawContent) => {\n    if (typeof rawContent === 'function' && !rawContent._sanitize) {\n        return rawContent();\n    }\n    return escapeHTML(rawContent());\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} cellType\n * @param {*} labelManager\n * @param {*} prevCell\n *\n */\nconst headerCreator = (config, cellType, labelManager, prevCell) => {\n    let margin = {};\n    const {\n        content,\n        classPrefix,\n        maxLines\n    } = config;\n    const cell = prevCell || new TextCell(\n        {\n            type: cellType === 'title' ? 'header' : 'text',\n            className: `${classPrefix}-${cellType}-cell`\n        }, {\n            labelManager\n        })\n     .config({ maxLines }).minSpacing({ width: 0, height: 0 });\n\n    cell.source(content);\n    cell._minTickDiff = { height: 0, width: 0 };\n\n    if (config.position === TOP) {\n        margin = { top: 0, bottom: config.padding };\n    } else {\n        margin = { top: config.padding, bottom: 0 };\n    }\n    cell.config({ margin });\n\n    return {\n        height: cell.getLogicalSpace().height,\n        cell\n    };\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} type\n * @param {*} labelManager\n * @param {*} cell\n *\n */\nconst createHeading = (config, type, labelManager, prevCell) => {\n    if (!config) { return ''; }\n\n    return headerCreator(\n        config,\n        type,\n        labelManager,\n        prevCell\n    );\n};\n\n/**\n *\n *\n * @param {*} context\n */\nexport const createHeaders = (context, canvasHeight, canvasWidth) => {\n    let headerHeight = 0;\n    const headers = {};\n    const subtitle = context.subtitle();\n    const isSubtitle = resolveTitleSubTitleContent(subtitle[0]);\n\n    canvasHeight >= 200 && canvasWidth >= 200 && ['title', 'subtitle'].forEach((type) => {\n        const headerOptions = context[type]();\n        const content = resolveTitleSubTitleContent(headerOptions[0]);\n        if (content) {\n            const config = headerOptions[1];\n\n            config.width = context.width();\n            config.height = context.height();\n            config.classPrefix = context.config().classPrefix;\n            config.content = content;\n            config.padding = (type === 'title' && !isSubtitle.length) ? subtitle[1].padding : config.padding;\n\n            const { height, cell } = createHeading(config, type, context.dependencies().smartlabel,\n                context[`${type}Cell`]);\n\n            headers[`${type}Cell`] = cell;\n            context._composition[type] = cell;\n            headerHeight += height;\n        }\n    });\n    return { headerHeight, headers };\n};\n\n","import { GradientLegend, DiscreteLegend, StepLegend } from '@chartshq/muze-legend';\n\n/**\n * Contants to be used as attr\n */\nexport const ROWS = 'rows';\nexport const COLUMNS = 'columns';\nexport const DATA = 'data';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\nexport const DETAIL = 'detail';\nexport const LAYERS = 'layers';\nexport const TRANSFORM = 'transform';\nexport const INITIALIZED = 'isInitialized';\nexport const SOURCE = 'source';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const PADDING = 'padding';\nexport const BORDER = 'border';\nexport const MARGIN = 'margin';\nexport const CONFIG = 'config';\nexport const MOUNT = 'mount';\nexport const CANVAS_UPDATED = 'canvasUpdated';\nexport const CLASSPREFIX = 'classPrefix';\nexport const POLICIES = '_policies';\nexport const LEGEND = 'legend';\nexport const TITLE = 'title';\nexport const SUB_TITLE = 'subtitle';\nexport const RESOLVE = 'resolve';\nexport const DISCRETE = 'discrete';\nexport const STEP_COLOR = 'step-color';\nexport const GRADIENT = 'gradient';\nexport const LINEAR = 'linear';\nexport const ORDINAL = 'ordinal';\nexport const MUZE_PREFIX = 'muze';\n\nexport const TITLE_TEMPLATE_NOT_ALLOWED_TAGS = [\n    'script',\n    'style'\n];\n\nexport const ICON_SHAPES = {\n    SQUARE: 'square',\n    CIRCLE: 'circle'\n};\n\nexport const IS_POINT_MAP = {\n    true: ICON_SHAPES.CIRCLE,\n    false: ICON_SHAPES.SQUARE\n};\n\nexport const LEGEND_TYPE_MAP = {\n    [`${ORDINAL}-${true}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${COLOR}`]: StepLegend,\n    [`${LINEAR}-${false}-${COLOR}`]: GradientLegend\n};\n\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const GROUP = 'group';\nexport const LAYOUT = 'layout';\nexport const RETINAL = 'retinal';\nexport const DIMENSION = 'dimension';\nexport const MEASURE = 'measure';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\nexport const HORIZONTAL_CENTER = 'h-center';\nexport const VERTICAL_CENTER = 'v-center';\nexport const HIDDEN = 'hidden';\nexport const OVERFLOW = 'overflow';\nexport const OVERFLOW_X = 'overflow-x';\nexport const OVERFLOW_Y = 'overflow-y';\nexport const AUTO = 'auto';\nexport const VISIBLE = 'visible';\nexport const VERTICAL_SCROLL_BAR = 'verticalScrollBar';\nexport const HORIZONTAL_SCROLL_BAR = 'horizontalScrollBar';\nexport const GRID = 'grid';\nexport const POINT = 'point';\nexport const MESSAGE = 'message';\nexport const NO_DATA_MESSAGE = 'No data to display';\n\n","import { cellRegistry, SimpleCell } from '@chartshq/visual-cell';\nimport { VisualUnit } from '@chartshq/visual-unit';\nimport { layerRegistry } from '@chartshq/visual-layer';\nimport { SimpleGroup, VisualGroup } from '@chartshq/visual-group';\nimport { registry as interactionRegistry } from '@chartshq/muze-firebolt';\n\nexport const COMPONENTS = {\n    [VisualGroup.formalName()]: VisualGroup,\n    [VisualUnit.formalName()]: VisualUnit\n};\n\nexport const SUBREGISTRIES = {\n    cells: cellRegistry,\n    layers: layerRegistry\n};\nexport const INTERFACES = {\n    SimpleGroup,\n    SimpleCell\n};\n\nconst componentRegistry = (components = COMPONENTS) => {\n    const reg = Object.assign({}, components);\n\n    return {\n        register: (cls) => {\n            const key = cls.formalName();\n            reg[key] = cls;\n            return componentRegistry;\n        },\n        get: () => reg\n    };\n};\n\nexport const registry = {\n    components: componentRegistry(COMPONENTS),\n    cells: cellRegistry(),\n    layers: layerRegistry(),\n    interactions: interactionRegistry\n};\n","export const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n    interaction: {\n        sideEffect: 'individual'\n    },\n    pagination: 'scroll',\n    scrollBar: {\n        thickness: 10,\n        speed: 2,\n        vertical: {\n            align: 'right'\n        },\n        horizontal: {\n            align: 'bottom'\n        }\n    },\n    legend: {\n        position: 'right',\n        color: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        },\n        shape: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        },\n        size: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        }\n    },\n    showHeaders: false,\n    minWidth: 100,\n    minHeight: 100,\n    facet: {\n        rows: {\n            minCharacters: 3\n        },\n        columns: {\n            maxLines: 2,\n            verticalAlign: 'middle',\n            minCharacters: 1\n        }\n    },\n    border: {\n        style: 'solid',\n        color: '#d6d6d6',\n        width: 2,\n        collapse: true,\n        spacing: 0\n    },\n    autoGroupBy: {\n        disabled: false\n    },\n    invalidValues: {},\n    sort: {}\n};\n","export const SIDE_EFFECT_COMMON = 'common';\nexport const SIDE_EFFECT_INDIVIDUAL = 'individual';\nexport const TOOLTIP_CONSOLIDATED = 'consolidated';\nexport const TOOLTIP_FRAGMENTED = 'fragmented';\nexport const WHEEL_DELTA_MODIFIER = 30;\n","const Muze = require('./muze');\n\nmodule.exports = Muze.default ? Muze.default : Muze;\n","import * as utils from 'muze-utils';\n\nimport { VisualUnit, helpers as unitHelpers, enums as unitEnums, UnitFireBolt } from '@chartshq/visual-unit';\nimport { VisualGroup, Encoders, encoderHelpers, groupUtils, enums as groupEnums } from '@chartshq/visual-group';\nimport {\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    sideEffects,\n    PersistentBehaviour,\n    GenericBehaviour,\n    VolatileBehaviour,\n    behaviouralActions,\n    GenericSideEffect,\n    Firebolt\n} from '@chartshq/muze-firebolt';\nimport {\n    layerFactory,\n    BaseLayer,\n    LineLayer,\n    TextLayer,\n    TickLayer,\n    PointLayer,\n    helpers,\n    enums,\n    SimpleLayer,\n    AreaLayer,\n    ArcLayer,\n    layerMixins\n} from '@chartshq/visual-layer';\nimport pkg from '../package.json';\nimport * as operators from './operators';\nimport { actionModel as ActionModel } from './action-model';\nimport options from './options';\nimport { Canvas } from './canvas';\nimport { registry as globalRegistry, SUBREGISTRIES } from './default-registry';\nimport './muze.scss';\n\nconst {\n    transactor,\n    Smartlabel,\n    enableChainedTransaction,\n    LifeCycleManager,\n    DataModel,\n    Store\n} = utils;\n\n// Cache singleton instances which should be included only once in a page\nconst globalCache = {};\nconst defaultRegistry = globalRegistry.components;\n\nconst overrideRegistryDefinitions = (overrideRegistry, registry) => {\n    overrideRegistry.forEach((def) => {\n        registry.register(def);\n    });\n};\n\n/**\n * Entry point to renderer. Initializes an environment with settings and registries for canvas. This is a simple wrapper\n * over {@link Canvas} which enables common configuration passing to multiple such canvases.\n *\n * Everytime `muze()` is called it creates an environment. These environment supports subset of APIs of Canvas. If\n * common configuration is used to render multiple canvases then it can be set directly in the env. Like if data is\n * common across all the visulization then its better to set the data in env. When a canvas is created it receives all\n * those configuration from env.\n *\n * ```\n *  // Creates an environment\n *  const env = muze()\n *  // Set data property in environment, so that all the canvas created from the same environment gets this data\n *  // automatically\n *  env.data(dm);\n *  // Creates canvas, by default env pushes data to canvas instance\n *  const canvas = env.canvas();\n * ```\n *\n * If a property is set on both environment and canvas instance, property set on canvas instance gets more priority.\n *\n * @public\n * @module muze\n * @namespace Muze\n *\n * @return {Env} Instance of an environment\n */\nconst muze = () => {\n    // Setters and getters will be mounted on this. Object will be mutated.\n    const [env, globalStore] = transactor({}, options);\n    const components = Object.assign({}, globalRegistry.components.get());\n    const componentSubRegistryDef = Object.assign({}, SUBREGISTRIES);\n\n    const componentSubRegistry = {};\n\n    for (const prop in componentSubRegistryDef) {\n        componentSubRegistry[prop] = componentSubRegistryDef[prop](globalRegistry[prop].get());\n    }\n\n    // Apart form the setter getter, an instance method is injected to create real renderer instances\n    env.canvas = () => {\n        // Create a canvas instance with this settings\n        const settings = globalStore.serialize();\n        const canvas = Canvas.withSettings(settings, { /* registry */\n            components,\n            componentSubRegistry,\n            interactions: globalRegistry.interactions\n        }, env.globalDependencies());\n\n        // Whenever settings is changed canvas is updated\n        enableChainedTransaction(globalStore, canvas, Object.keys(settings));\n\n        return canvas;\n    };\n\n    // Global dependencies for for compositions. Only one copy of the same should be in the page\n    env.globalDependencies = () => {\n        if (!globalCache.smartlabel) {\n            globalCache.smartlabel = new Smartlabel(1, 'body');\n        }\n        return {\n            smartlabel: globalCache.smartlabel,\n            lifeCycleManager: new LifeCycleManager()\n        };\n    };\n\n    // Retrieves global settings. This getter is readonly so that user can't change this as change should happen\n    // only from setter to avoid unwanted sync issues.\n    env.settings = () => globalStore.serialize();\n\n    env.registry = (...overrideRegistry) => {\n        // Selectively copy the properties from COMPONENTS\n        if (overrideRegistry.length) {\n            overrideRegistry.forEach((def) => {\n                const prop = def.formalName();\n                if (prop in defaultRegistry) {\n                    components[prop] = def;\n                }\n            });\n            return env;\n        }\n        return components;\n    };\n\n    env.cellRegistry = (...overrideRegistry) => {\n        const cellRegistry = componentSubRegistry.cellRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry, cellRegistry);\n            return env;\n        }\n        return cellRegistry.get();\n    };\n\n    env.layerRegistry = (...overrideRegistry) => {\n        const layerRegistry = componentSubRegistry.layerRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry, layerRegistry);\n            return env;\n        }\n        return layerRegistry.get();\n    };\n\n    return env;\n};\n\nmuze.registry = globalRegistry;\n\nmuze.Components = {\n    VisualLayer: {\n        layers: {\n            BaseLayer,\n            LineLayer,\n            TextLayer,\n            TickLayer,\n            PointLayer,\n            SimpleLayer,\n            AreaLayer,\n            ArcLayer\n        },\n        helpers,\n        enums,\n        layerMixins\n    },\n    VisualUnit: {\n        constructor: VisualUnit,\n        helpers: unitHelpers,\n        enums: unitEnums,\n        UnitFireBolt\n    },\n    VisualGroup: {\n        constructor: VisualGroup,\n        Encoders,\n        encoderHelpers,\n        groupUtils,\n        enums: groupEnums\n    },\n    Canvas: {\n        constructor: Canvas\n    },\n    Firebolt: {\n        constructor: Firebolt\n    }\n};\n\nconst SideEffects = {\n    sideEffects,\n    standards: {\n        SurrogateSideEffect,\n        SpawnableSideEffect,\n        GenericSideEffect\n    }\n};\n\nconst Behaviours = {\n    behaviouralActions,\n    standards: {\n        GenericBehaviour,\n        PersistentBehaviour,\n        VolatileBehaviour\n    }\n};\n\nmuze.DataModel = DataModel;\nmuze.version = pkg.version;\nmuze.SideEffects = SideEffects;\nmuze.ActionModel = ActionModel;\nmuze.layerFactory = layerFactory;\nmuze.Operators = operators;\nmuze.Behaviours = Behaviours;\nmuze.utils = utils;\nmuze.Model = new Store().model.constructor;\n\nexport default muze;\n","// extracted by mini-css-extract-plugin","import { ComposedVars, SimpleVariable } from '@chartshq/visual-group';\nimport { TITLE_TEMPLATE_NOT_ALLOWED_TAGS } from './constants';\n\n/**\n * This method creates a new composed variable instance from multiple variables. This is required when we have multiple\n * variables on a single axis and the union of domain of all the variables needs to be set on the axis.\n *\n * To create a new composed variable from multiple fields,\n * ```\n *  const sharedVar = share('open', 'high', 'low', 'close');\n *  canvas.rows([sharedVar])\n *      .columns(['date']);\n * ```\n *\n * @module Operators\n * @public\n * @function share\n * @param {Array} vars Variable names.\n *\n * @return {ComposedVars} Instance of composed variable\n */\nexport const share = (...vars) => new ComposedVars(...vars.map(variable => new SimpleVariable(variable)));\n\n/**\n *\n *\n * @param {*} node\n *\n */\nfunction treeShakeNode (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) { return; }\n\n    if (TITLE_TEMPLATE_NOT_ALLOWED_TAGS.indexOf(node.tagName.toLowerCase()) !== -1) {\n        node.parentNode.removeChild(node);\n    } else {\n        for (const childNode of node.childNodes) {\n            treeShakeNode(childNode);\n        }\n    }\n}\n\n/**\n * A string template tagged function which sanitizes input html formatted string according to the allowed html tags.\n * This is used to render html in canvas components like title and tooltip.\n *\n * To render html in canvas components,\n * ```\n *     canvas.title(html`<span style=font-size:20px;>TITLE</span>`);\n * ```\n *\n * @public\n * @module Operators\n * @function html\n * @param {Array.<string>} strings - The string parts of the template.\n * @param {Array} exps - The list of evaluated expression values.\n *\n * @return {Function} Returns a function which returns the sanitized html string.\n */\nexport function html (strings, ...exps) {\n    let htmlCode = '';\n    const expLn = exps.length;\n    let i = 0;\n\n    for (; i < expLn; ++i) {\n        htmlCode += strings[i] + exps[i];\n    }\n    htmlCode += strings[i];\n\n    const frag = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n\n    frag.appendChild(wrapper);\n    wrapper.innerHTML = htmlCode;\n\n    treeShakeNode(wrapper);\n    const { innerHTML } = wrapper;\n\n    return () => innerHTML;\n}\n","/**\n * This is the global options semantics based on which setters getters are created and reactivity is initiated.\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n * @module GlobalOptions\n */\n\nimport { intSanitizer, mergeRecursive, DataModel } from 'muze-utils';\nimport { fixScrollBarConfig } from './canvas/helper';\nimport { DEFAULT_CONFIG } from './defaults';\n\nexport default {\n    data: {\n        value: null,\n        meta: {\n            typeCheck: d => d instanceof DataModel\n        }\n    },\n    width: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    height: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitWidth: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitHeight: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    config: {\n        value: [null, null],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            takesMultipleParams: true,\n            sanitization: ([config, auxConfig = {}], oldConfig) => {\n                // Stores additional config, if passed\n                const { reset = false } = auxConfig;\n                let oldConf = {};\n\n                if (!reset) {\n                    oldConf = mergeRecursive({}, config === null ? {} : oldConfig);\n                }\n\n                const defConfig = mergeRecursive(oldConf, DEFAULT_CONFIG);\n                const newConf = mergeRecursive(defConfig, config);\n                return fixScrollBarConfig(newConf);\n            }\n\n        }\n    }\n};\n","import { ERROR_MSG } from 'muze-utils';\n/**\n * An Interface to be implemented if the transaction support is necessary. This class ensures reactivity to\n * global properties.\n */\nexport default class TransactionSupport {\n    /**\n     * Property accessor for data member of the class. Data is passed to the system by calling this method.\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for width of the class. Width is passed as an integer.\n     */\n    width () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for height of the class. Height is passed as an integer.\n     */\n    height () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for config of the class. Config is passed as an object.\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n}\n","/**\n * @module Transform\n * This module exports constants that are used to reference transforms in\n * a consistent manner throughout the project.\n */\n/* eslint one-var: 0 */\n export const IDENTITY = 'identity';\n export const GROUP = 'group';\n export const STACK = 'stack';\n export const FRACTURE = 'fracture';\n","import { nestCollection, InvalidAwareTypes } from 'muze-utils';\n\n/**\n * Create multiple datasets from a single dataset by grouping the data using\n * a dimensional field.\n * @param {Array} schema Name and type of fields are stored in schema\n * @param {Array} data Data array\n * @param {Object} config Configuration object\n * @return {Array} Grouped data array\n */\nexport default (schema, data, config) => {\n    const groupBy = config.groupBy instanceof Array ? config.groupBy : [config.groupBy];\n    const groupByIndices = groupBy.map(fieldName => schema.findIndex(d => d.name === fieldName));\n\n    if (groupByIndices.find(d => d === -1) !== undefined) {\n        throw new Error(`Groupby field ${groupBy} not found in schema`);\n    }\n\n    const groupedData = nestCollection({\n        keys: groupByIndices,\n        data\n    });\n\n    groupedData.forEach((d) => {\n        const key = d.key;\n        if (InvalidAwareTypes.isInvalid(key)) {\n            d.key = InvalidAwareTypes.getInvalidType(key);\n        }\n    });\n    return groupedData;\n};\n","/**\n * @module Transform\n * This file exports a function that is used to implement\n * the identity transform\n */\n /* eslint no-unused-vars: 0 */\n /**\n  * This function accepts data and returns the data unchanged.\n  * @param {Object} schema The schema.\n  * @param {Array} data The data array.\n  * @param {Object} config The config object.\n  * @return {Array} The unchanged data.\n  */\n function identityTransform (schema, data, config) {\n     return data;\n }\n\n export default identityTransform;\n","import stackTransform from './stack-transform';\nimport groupTransform from './group-transform';\nimport identityTransform from './identity-transform';\nimport transformFactory from './transform-factory';\n\nexport {\n    identityTransform,\n    stackTransform,\n    groupTransform,\n    transformFactory\n};\n\nexport default { version: '1.0.0' };\n","import { stack } from 'muze-utils';\n\nimport group from '../group-transform';\n/*\n    Normalize the data to a form which can be given to d3 stack for stacking the data\n    ['Product', 'Sales', 'Region'],\n    0 ['A', 2000, 'North'],\n    1 ['A', 3000, 'South'],\n    2 ['B', 3000, 'South'],\n    3 ['B', 2000, 'North'],\n    4 ['C', 3000, 'South'],\n    5 ['C', 2000, 'North']\n            |\n            |\n    ['Product', 'North', 'South'],\n    ['A', 2000, 3000],\n    ['B', 2000, 3000],\n    ['C', 2000, 3000]\n*/\n// eslint-disable-next-line require-jsdoc\nconst normalizeData = (data, schema, valueField, uniqueField, groupBy) => {\n    const groupedData = group(schema, data, {\n        groupBy: uniqueField\n    });\n    const uniqueFieldIndex = schema.findIndex(d => d.name === uniqueField);\n    const valueFieldIndex = schema.findIndex(d => d.name === valueField);\n    const seriesKeyIndex = schema.findIndex(d => d.name === groupBy);\n    const seriesKeys = data.map(d => d[seriesKeyIndex]).filter((item, pos, arr) => arr.indexOf(item) === pos).sort();\n    const fieldNames = schema.reduce((acc, obj, i) => {\n        acc[i] = obj.name;\n        return acc;\n    }, {});\n    const dataArr = groupedData.map((arr) => {\n        const tuples = {};\n        const rowObj = arr.values.reduce((acc, row) => {\n            acc = row.reduce((obj, value, i) => {\n                if (i === seriesKeyIndex) {\n                    obj[value] = row[valueFieldIndex];\n                    tuples[value] = row;\n                } else if (i !== valueFieldIndex) {\n                    obj[fieldNames[i]] = value;\n                }\n                return obj;\n            }, acc);\n            return acc;\n        }, {});\n        rowObj._tuple = tuples;\n            // Set missing values field to zero value\n        seriesKeys.forEach((seriesKey) => {\n            if (rowObj[seriesKey] === undefined) {\n                rowObj[seriesKey] = 0;\n                const newArr = new Array(arr.values[0].length);\n                newArr[uniqueFieldIndex] = arr.key;\n                newArr[seriesKeyIndex] = seriesKey;\n                rowObj._tuple[seriesKey] = newArr;\n            }\n        });\n        return rowObj;\n    });\n\n    return {\n        data: dataArr,\n        keys: seriesKeys\n    };\n};\n/**\n * Generate a stacked representation of data\n * @param {Array} schema schema Array\n * @param {Array} data data array\n * @param {Object} config Configuration object\n * @return {Array} stacked data\n */\nexport default (schema, data, config) => {\n    const uniqueField = config.uniqueField;\n    const valueField = config.value;\n    const groupBy = config.groupBy;\n    const sort = config.sort || 'descending';\n    const normalizedData = normalizeData(data, schema, valueField, uniqueField, groupBy);\n    const keys = normalizedData.keys;\n    const map = {};\n    const orderBy = config.orderBy;\n    const orderIndex = schema.findIndex(d => d.name === orderBy);\n    const groupByIndex = schema.findIndex(d => d.name === groupBy);\n    if (orderIndex !== -1) {\n        keys.forEach((key) => {\n            const name = data.find(d => d[groupByIndex] === key);\n            map[key] = name[orderIndex];\n        });\n        normalizedData.keys.sort((a, b) => map[a].localeCompare(map[b]));\n    }\n\n    const stackData = stack({\n        keys: normalizedData.keys,\n        offset: config.offset || 'diverging',\n        order: sort,\n        data: normalizedData.data\n    });\n    stackData.forEach((seriesData) => {\n        seriesData.forEach((dataObj) => {\n            dataObj.data = dataObj.data._tuple[seriesData.key];\n        });\n    });\n    return stackData;\n};\n\n","/**\n * @module Transform\n * This file exports the transform factory.\n */\nimport * as TransformType from '../enums/transform-type';\nimport identity from '../identity-transform';\nimport group from '../group-transform';\nimport stack from '../stack-transform';\n\n/* istanbul ignore next */\nconst transformMap = {\n    [TransformType.IDENTITY]: identity,\n    [TransformType.GROUP]: group,\n    [TransformType.STACK]: stack\n};\n\n/**\n * This function is used to retirn a transform associated\n * with the given type.\n *\n * @param {string} type The type of the transform.\n * @return {Function} The transform function.\n */\nfunction transformFactory (type) {\n    const transform = transformMap[type];\n    if (typeof transform !== 'function') {\n        throw new Error('Invalid transform type supplied.');\n    }\n    return transform;\n}\n\nexport default transformFactory;\n","/**\n * This file declares a class that represents a table cell\n * used to house an axis.\n * @module VisualCell\n */\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport { CLASSPREFIX, HEIGHT, WIDTH, AXIS_CELL, BOTTOM, TOP } from './enums/constants';\nimport SimpleCell from './simple-cell';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { AXIS } from './enums/cell-type';\nimport { PROPS } from './props';\nimport * as CONSTANTS from './constants';\n\n/**\n * Computes the logical space of the an axis instance within an axis cell\n *\n * @param {Object} context Required to get the needed parameters to compute axis space\n * @return {Object} Returns the logical space for axis\n */\nconst computeAxisSpace = (context) => {\n    let logicalWidth;\n    let logicalHeight;\n    const axis = context.source();\n    const {\n        spaceFixer,\n        margin\n    } = context.config();\n    const {\n        width,\n        height\n    } = axis.getLogicalSpace();\n    const {\n            show\n        } = axis.config();\n    if (show === true) {\n        logicalHeight = Math.floor(height + margin.top + margin.bottom + spaceFixer);\n        logicalWidth = Math.floor(width + margin.left + margin.right + spaceFixer);\n    } else {\n        [logicalWidth, logicalHeight] = [width, height];\n    }\n    return {\n        width: logicalWidth,\n        height: logicalHeight\n    };\n};\n\n/**\n * Represents an axis cell.\n *\n * @class Axis\n */\nclass AxisCell extends SimpleCell {\n\n    /**\n     * Creates an instance of AxisCell.\n     *\n     * @param {Object} config The input config.\n     * @memberof AxisCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._axis = null;\n        this._availHeight = null;\n        this._availWidth = null;\n        this._logicalSpace = null;\n\n        generateGetterSetters(this, PROPS[AXIS]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof AxisCell\n     */\n    get type () {\n        return AXIS;\n    }\n\n    /**\n     * This method return the value conatined by this SimpleCell.\n     *\n     * @return {SimpleAxis | ColorAxis} Instance of SimpleAxis or ColorAxis.\n     * @memberof AxisCell\n     */\n    valueOf () {\n        return this.source().id;\n    }\n\n    /**\n     * This method return the unique identififer of the axis\n     *\n     * @return {string} Id of the axis.\n     * @memberof AxisCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    static formalName () {\n        return CONSTANTS.AXIS_CELL;\n    }\n\n    /**\n     * Retrns the serialized representation of this cell.\n     *\n     * @return {Object}Object with serializable props.\n     * @memberof AxisCell\n     */\n    serialize () {\n        return {\n            type: AXIS,\n            axis: this.source().serialize()\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof AxisCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * return the space taken up by an axis element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof AxisCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeAxisSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @return {Instance} Returns current Instance\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        const {\n            margin,\n            isOffset\n        } = this.config();\n\n        if (width || height) {\n            this.source().setAvailableSpace(width, height, margin, isOffset);\n            this.source().logicalSpace(null);\n        } else {\n            this.source().resetLogicalSpace();\n        }\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the axis inside the axis cell.\n     *\n     * @param {HTMLElement} mount The mount point.\n     * @return {Selection} node where axis mounted\n     * @memberof AxisCell\n     */\n    /* istanbul ignore next */render (mount) {\n        if (!mount) {\n            return this;\n        }\n        let actualWidth = 0;\n        let actualHeight = 0;\n        const axis = this.source();\n        const availHeight = this.availHeight();\n        const availWidth = this.availWidth();\n        const {\n            margin\n        } = this.config();\n        const {\n            top,\n            bottom,\n            left,\n            right\n        } = margin;\n        const {\n            show,\n            orientation\n        } = axis.config();\n        const wrapperDiv = makeElement(selectElement(mount), 'div', [this], `${CLASSPREFIX}-${AXIS_CELL}`);\n        const selection = makeElement(wrapperDiv, 'svg', [1], `${CLASSPREFIX}-axis-container`);\n        selection.classed(`${CLASSPREFIX}-axis-container-${orientation}`, true);\n\n        this.mount(mount);\n        if (!availWidth) {\n            selection.attr(WIDTH, `${0}px`);\n        }\n        if (!availHeight) {\n            selection.attr(HEIGHT, `${0}px`);\n        }\n        actualWidth = availWidth;\n        actualHeight = availHeight;\n        if (!show) {\n            actualWidth = (orientation === TOP || orientation === BOTTOM) ? availWidth : 0;\n            actualHeight = (orientation === TOP || orientation === BOTTOM) ? 0 : availHeight;\n        }\n        wrapperDiv.style(WIDTH, `${actualWidth}px`)\n                        .style(HEIGHT, `${actualHeight}px`)\n                        .style('margin-top', top)\n                        .style('margin-bottom', bottom)\n                        .style('margin-left', left)\n                        .style('margin-right', right);\n\n        axis.mount(selection.node());\n        return selection;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Current instance of AxisCell\n     * @memberof AxisCell\n     */\n    remove () {\n        this.source() && this.source().remove();\n        this.mount() && this.mount().remove();\n        return this;\n    }\n}\n\nexport default AxisCell;\n\n","/**\n * This file declares a class that represents a BLANK element in a  table.\n * @module VisualCell\n */\nimport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    generateGetterSetters\n    } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { CLASSPREFIX, BLANK_CELL } from './enums/constants';\nimport { BLANK } from './enums/cell-type';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { PROPS } from './props';\nimport * as CONSTANTS from './constants';\n\n/**\n * Represents a table haeder.\n *\n * @class BLANK\n */\nclass BlankCell extends SimpleCell {\n\n    /**\n     * Creates an instance of BLANK.\n     * @param {Object} config The input configuration.\n     * @memberof BLANK\n     */\n    constructor (config) {\n        super(config);\n\n        generateGetterSetters(this, PROPS[BLANK]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof BlankCell\n     */\n    get type () {\n        return BLANK;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof BlankCell\n     */\n    valueOf () {\n        return this.id;\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof BlankCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the BLANK cell.\n     *\n     * @return {string} The unique identifier for the BLANK.\n     * @memberof BlankCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    static formalName () {\n        return CONSTANTS.BLANK_CELL;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof BLANK\n     */\n    serialize () {\n        return {\n            type: BLANK\n        };\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof BLANK\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            return {\n                width: this.width || 0,\n                height: this.height || 0\n            };\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the BLANK cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof BLANK\n     */\n    /* istanbul ignore next */render (mount) {\n        if (mount) {\n            const { style } = this.config();\n            // append span element to mount point\n            this.mount(mount);\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id]);\n            elem.classed(`${CLASSPREFIX}-${BLANK_CELL}`, true);\n            elem.style('width', `${this.availWidth()}px`);\n            elem.style('height', `${this.availHeight()}px`);\n            elem.html('');\n            // apply style on the returned element\n            if (style) {\n                applyStyle(elem, style);\n            }\n        } return this;\n    }\n\n    /**\n     * Removes the cell(Disposal)\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n\n    getMinMeasures () {\n        return 0;\n    }\n }\nexport default BlankCell;\n","import { DEFAULT_PLACEHOLDERS } from './defaults';\n\n/**\n * Creates a registry for the cells, which can be used for\n * setting a new cell or getting the registered cells\n *\n * @return {Object} Setters and getters for registered cells\n */\nconst cellRegistry = () => {\n    const reg = DEFAULT_PLACEHOLDERS;\n    return {\n        register: (def) => {\n            const key = def.formalName();\n            if (key in reg) {\n                reg[key] = def;\n            }\n            return cellRegistry;\n        },\n        get: () => reg\n    };\n};\nexport default cellRegistry;\n","export const SIMPLE_CELL = 'SimpleCell';\nexport const TEXT_CELL = 'TextCell';\nexport const AXIS_CELL = 'AxisCell';\nexport const BLANK_CELL = 'BlankCell';\nexport const GEOM_CELL = 'GeomCell';\n\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\n\nimport * as CONSTANTS from './constants';\n\nexport const DEFAULT_PLACEHOLDERS = {\n    [CONSTANTS.SIMPLE_CELL]: SimpleCell,\n    [CONSTANTS.TEXT_CELL]: TextCell,\n    [CONSTANTS.AXIS_CELL]: AxisCell,\n    [CONSTANTS.GEOM_CELL]: GeomCell,\n    [CONSTANTS.BLANK_CELL]: BlankCell\n};\n\n","// eneum to refer to simple cell\nexport const SIMPLE = 'simple';\n// eneum to refer to header cell\nexport const TEXT = 'text';\n// enum to refer to axis cell\nexport const AXIS = 'axis';\n// enum to refer to visual cell\nexport const GEOM = 'geom';\n// enum to refer blank cell\nexport const BLANK = 'blank';\n","/**\n * Flag to specify whether direction is vertical.\n */\nexport const MARGIN = 'margin';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const SPACE_FIXER = 'spaceFixer';\nexport const CLASSPREFIX = 'muze';\nexport const VERTICAL_ALIGN = 'verticalAlign';\nexport const TEXT_ALIGN = 'textAlign';\nexport const IS_OFFSET = 'isOffset';\nexport const MIDDLE = 'middle';\nexport const BASELINE = 'baseline';\nexport const SHOW = 'show';\nexport const CENTER = 'center';\nexport const TEXT = 'text';\nexport const HEADER = 'header';\nexport const HEIGHT = 'height';\nexport const WIDTH = 'width';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const FIELDS = 'fields';\nexport const TRANSFORM = 'transform';\nexport const LAYER_DEF = 'layerDef';\nexport const CONFIG = 'config';\nexport const DETAIL_FIELDS = 'detailFields';\nexport const MAX_LINES = 'maxLines';\nexport const MIN_CHARS = 'minCharacters';\nexport const ROTATION = 'rotation';\n\nexport const TEXT_CELL = 'text-cell';\nexport const AXIS_CELL = 'axis-cell';\nexport const GEOM_CELL = 'geom-cell';\nexport const BLANK_CELL = 'blank-cell';\n","/**\n * This file exports variables that are used as defaults for\n * the placeholders\n */\nimport * as CONSTANTS from './constants';\n\n /**\n * Default Configuration for the cells\n * @return {Object} Default configuration\n */\nexport const DEFAULT_CONFIG = {\n    [CONSTANTS.MARGIN]: {\n        [CONSTANTS.LEFT]: 0,\n        [CONSTANTS.RIGHT]: 0,\n        [CONSTANTS.TOP]: 0,\n        [CONSTANTS.BOTTOM]: 0\n    },\n    [CONSTANTS.SPACE_FIXER]: 2,\n    [CONSTANTS.IS_OFFSET]: false,\n    [CONSTANTS.VERTICAL_ALIGN]: null,\n    [CONSTANTS.TEXT_ALIGN]: CONSTANTS.CENTER,\n    [CONSTANTS.SHOW]: true,\n    [CONSTANTS.MAX_LINES]: 0,\n    [CONSTANTS.MIN_CHARS]: 0,\n    [CONSTANTS.ROTATION]: null\n};\n","/**\n * This file declares a class that is used to represent a table cell\n * that houses a visual unit.\n * @module VisualCell\n */\n\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { GEOM } from './enums/cell-type';\nimport { PROPS } from './props';\nimport {\n    CLASSPREFIX, HEIGHT, WIDTH, DATA, AXES, FACET_BY_FIELDS, FIELDS, TRANSFORM, LAYER_DEF, CONFIG, GEOM_CELL,\n    DETAIL_FIELDS\n} from './enums/constants';\nimport * as CONSTANTS from './constants';\nimport { DEFAULT_CONFIG } from './enums/defaults';\n\n/**\n * Calculates the logical space of the cell\n *\n * @param {Object} context Required to get the needed parameters to compute unit space\n * @return {Object} Logical space taken up by the unit\n * @memberof GeomCell\n */\nconst computeGeomSpace = (context) => {\n    const config = context.source().config();\n    const { width, height } = config;\n    return {\n        width: Math.ceil(width),\n        height: Math.ceil(height + context.getCaptionSpace().height)\n    };\n};\n\n /**\n * This class represents a SimpleCell for visual unit.\n *\n * @class GeomCell\n */\nclass GeomCell extends SimpleCell {\n\n    /**\n     * Creates an instance of GeomCell.\n     * @param {Object} config The input configuration.\n     * @memberof GeomCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._unit = null;\n        this._layers = null;\n        this._axes = {};\n        this._datamodel = {};\n        this._facetByFields = {};\n        this._fields = null;\n        this._transform = null;\n        this._caption = null;\n\n        generateGetterSetters(this, PROPS[GEOM]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof GeomCell\n     */\n    get type () {\n        return GEOM;\n    }\n\n    /**\n     * This method return the value contained by this cell.\n     *\n     * @return {VisualUnit} Instance of visual unit contained by visual unit.\n     * @memberof GeomCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return the id of the\n     * visual unit housed by this cell.\n     *\n     * @return {string} The unique id of the visual unit.\n     * @memberof GeomCell\n     */\n    get id () {\n        return this.source().id();\n    }\n\n    static formalName () {\n        return CONSTANTS.GEOM_CELL;\n    }\n\n    /**\n     * This method return a serialized representation of\n     * this instance.\n     *\n     * @return {Object} Object with serializable props.\n     * @memberof GeomCell\n     */\n    serialize () {\n        return {\n            type: GEOM,\n            unit: this.source().serialize(),\n            caption: this.caption()\n        };\n    }\n\n    /**\n     * return the default configuration for the geom cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof GeomCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * Updates the model based on the changed parameters\n     *\n     * @return {Instance} return instance\n     * @memberof GeomCell\n     */\n    updateModel () {\n        const unit = this.source();\n        unit.clearCaching();\n        [LAYER_DEF, TRANSFORM, AXES, FIELDS, CONFIG, DATA, AXES, FACET_BY_FIELDS, DETAIL_FIELDS].forEach((prop) => {\n            this[prop]() && unit[prop](this[prop]());\n        });\n        return this;\n    }\n\n    /**\n     * It gives the space taken by the caption of the unit\n     *\n     * @return {Object} return the space taken by caption\n     * @memberof GeomCell\n     */\n    getCaptionSpace () {\n        const caption = this.caption();\n\n        let captionSpace = { width: 0, height: 0 };\n        if (caption) {\n            captionSpace = caption.getLogicalSpace();\n        }\n        return captionSpace;\n    }\n\n    /**\n     * return the space taken up by the element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof GeomCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeGeomSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space available to\n     * render the SimpleCell.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    setAvailableSpace (width, height) {\n        const unit = this.source();\n\n        this.availWidth(width);\n        this.availHeight(height);\n        unit.lockModel()\n            .width(width).height(height - this.getCaptionSpace().height)\n            .unlockModel();\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * his method is used to render the visual unit inside the provided cell.\n     *\n     * @param {HTMLElement} mount The mountpoint in the table.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    render (mount) {\n        if (mount) {\n            this.mount(mount);\n            const availHeight = this.availHeight();\n            const availWidth = this.availWidth();\n            const caption = this.caption();\n            const wrapperDiv = makeElement(selectElement(mount), 'div', [1], `${CLASSPREFIX}-${GEOM_CELL}`);\n\n            if (caption) {\n                const captionDom = makeElement(wrapperDiv, 'div', [caption], `${CLASSPREFIX}-unit-caption`).node();\n                caption.render(captionDom);\n            }\n            const selection = makeElement(wrapperDiv, 'div', [1], `${CLASSPREFIX}-unit`);\n            wrapperDiv.style(WIDTH, `${availWidth}px`).style(HEIGHT, `${availHeight}px`);\n            selection.style(WIDTH, `${availWidth}px`)\n                            .style(HEIGHT, `${availHeight - this.getCaptionSpace().height}px`);\n            this.source().mount(selection.node());\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Object} Current instance\n     * @memberof GeomCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        this.source().remove();\n        return this;\n    }\n}\n\nexport default GeomCell;\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\nimport cellRegistry from './cell-registry';\n\nexport {\n    AxisCell,\n    BlankCell,\n    TextCell,\n    GeomCell,\n    SimpleCell,\n    cellRegistry\n};\n","import { mergeRecursive } from 'muze-utils';\nimport { GEOM, TEXT, AXIS, BLANK } from './enums/cell-type';\n\nconst DEFAULT_PROPS = {\n    mount: {},\n    availHeight: {},\n    availWidth: {},\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config, value)\n    },\n    logicalSpace: {},\n    minSpacing: {},\n    source: {}\n};\n\nconst geomProps = {\n    data: {},\n    caption: {},\n    config: {},\n    axes: {},\n    facetByFields: {},\n    fields: {},\n    transform: {},\n    layerDef: {},\n    detailFields: {}\n};\n\nconst textProps = {\n    smartText: {}\n};\nexport const PROPS = {\n    [GEOM]: mergeRecursive(geomProps, DEFAULT_PROPS),\n    [TEXT]: mergeRecursive(textProps, DEFAULT_PROPS),\n    [AXIS]: DEFAULT_PROPS,\n    [BLANK]: DEFAULT_PROPS\n};\n","import {\n    ERROR_MSG,\n    getUniqueId,\n    mergeRecursive\n} from 'muze-utils';\nimport { SIMPLE } from './enums/cell-type';\nimport { SIMPLE_CELL } from './constants';\n\n/**\n * This file declares a class that is used as an interface to create new\n * SimpleCell elements.\n * @module SimpleCell\n */\n/**\n * Base class for all table cells.\n *\n * @interface\n * @class SimpleCell\n */\nclass SimpleCell {\n\n    /**\n     * Creates an instance of SimpleCell.\n     *\n     * @param {*} config The input configuration.\n     * @memberof SimpleCell\n     */\n    constructor (config) {\n        this._id = getUniqueId();\n\n        const defConfig = mergeRecursive({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(defConfig, config || {});\n\n        this._mount = null;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     */\n    get type () {\n        return SIMPLE;\n    }\n\n    static formalName () {\n        return SIMPLE_CELL;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     * @return {Object} Default config for the placeholder\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the value contained by the SimpleCell.\n     *\n     * @memberof SimpleCell\n     */\n    valueOf () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a unique identifier for the instance used\n     * to control selective rendering.\n     *\n     * @memberof SimpleCell\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized representation of the instance.\n     *\n     * @memberof SimpleCell\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns an object with width and height fields\n     * specifying the space taken up by this metod.\n     *\n     * @memberof SimpleCell\n     */\n    getLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Method used to set the space available to render the SimpleCell\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @memberof SimpleCell\n     */\n    setAvailableSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    remove () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    getMinMeasures (providedMinMeasure = 0) {\n        return providedMinMeasure;\n    }\n\n}\n\nexport default SimpleCell;\n","/**\n * This file declares a class that represents a Text element in a  table.\n * @module VisualCell\n */\n\nimport {\n    selectElement,\n    makeElement,\n    getSmartComputedStyle,\n    generateGetterSetters\n} from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { TEXT } from './enums/cell-type';\nimport { PROPS } from './props';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { CLASSPREFIX, TOP, BOTTOM, LEFT, RIGHT, HEADER, WIDTH, TEXT_CELL } from './enums/constants';\nimport './text-cell.scss';\nimport * as CONSTANTS from './constants';\n\nconst setSmartText = (context) => {\n    const source = context.source();\n    const {\n        height: minHeightSpace,\n        width: minWidthSpace\n    } = context.minSpacing();\n    const {\n       margin,\n       rotation\n   } = context.config();\n    const {\n        left,\n        right,\n        top,\n        bottom\n     } = margin;\n    const paddedHeight = top + bottom + minHeightSpace;\n    const paddedWidth = left + right + minWidthSpace;\n    const availHeight = context.availHeight() - paddedHeight;\n    const availWidth = context.availWidth() - paddedWidth;\n    const labelManager = context.dependencies().labelManager;\n\n    labelManager.setStyle(context._computedStyle);\n\n    !rotation && context.smartText(labelManager.getSmartText(source, availWidth, availHeight, false));\n    rotation && context.smartText(labelManager.getSmartText(source, availHeight, availWidth, true));\n\n    return context;\n};\n\n/**\n* Computes the Logical Space for the text\n*\n* @param {Object} context Required to get the needed parameters to compute text space\n* @return {Object} Logical space taken up by text\n* @memberof TextCell\n*/\nconst computeTextSpace = (context) => {\n    const { labelManager } = context.dependencies();\n    const {\n        height: minHeightSpace,\n        width: minWidthSpace\n    } = context.minSpacing();\n    const {\n       margin,\n       show,\n       maxLines,\n       minCharacters\n   } = context.config();\n    const {\n       left,\n       right,\n       top,\n       bottom\n    } = margin;\n    const paddedHeight = top + bottom + minHeightSpace;\n    const paddedWidth = left + right + minWidthSpace;\n    const availHeight = context.availHeight() - paddedHeight;\n    const availWidth = context.availWidth() - paddedWidth;\n    const source = context.source();\n    const space = context.smartText();\n    const minText = new Array(minCharacters).fill('W').join('');\n    const _minTextSpace = labelManager.getOriSize(minText);\n\n    context.config({ rotation: false });\n    if (space.width > (availWidth || 0) && maxLines) {\n        space.height = space.oriTextHeight * maxLines;\n    }\n    if (availWidth && availWidth < space.width) {\n        space.width = _minTextSpace.width;\n    }\n    if (availWidth && availWidth < Math.min(_minTextSpace.width, space.oriTextWidth)) {\n        const smartSpace = labelManager.getSmartText(source, availHeight, _minTextSpace.height, true);\n        space.width = smartSpace.height;\n        space.height = smartSpace.width;\n        context.config({ rotation: true });\n        context.smartText(smartSpace);\n    }\n\n    if (show) {\n        return {\n            width: Math.ceil(space.width) + paddedWidth,\n            height: Math.ceil(space.height) + paddedHeight\n        };\n    } return {\n        width: 0,\n        height: 0\n    };\n};\n\n/**\n * Represents a table haeder.\n *\n * @class Text\n */\nclass TextCell extends SimpleCell {\n\n    /**\n     * Creates an instance of Text.\n     * @param {Object} config The input configuration.\n     * @param {string} dependencies Dependencies for the class(labelManager)\n     * @memberof Text\n     */\n    constructor (config, dependencies) {\n        super(config);\n\n        this._dependencies = dependencies;\n        this._className = this._config.className ||\n                    (this._config.type === HEADER ? `${CLASSPREFIX}-${HEADER}-cell` : `${CLASSPREFIX}-${TEXT}-cell`);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'), this._className);\n        this._dependencies.labelManager.setStyle(this._computedStyle);\n        generateGetterSetters(this, PROPS[TEXT]);\n        const space = this._dependencies.labelManager.getOriSize('w');\n        this.minSpacing({ width: Math.floor(space.width * 3 / 4), height: Math.floor(space.height / 2) });\n        setSmartText(this);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof TextCell\n     */\n    get type () {\n        return TEXT;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof TextCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the Text cell.\n     *\n     * @return {string} The unique identifier for the Text.\n     * @memberof TextCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the dependencies of the instance\n     *\n     * @return {Object} Dependencies needed by the class\n     * @memberof TextCell\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof TextCell\n     */\n    serialize () {\n        return {\n            text: this.source(),\n            type: TEXT\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof TextCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    static formalName () {\n        return CONSTANTS.TEXT_CELL;\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof Text\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeTextSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        setSmartText(this);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the Text cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof Text\n     */\n    render (mount) {\n        const availWidth = this.availWidth();\n        const availHeight = this.availHeight();\n        const {\n            margin,\n            show,\n            verticalAlign,\n            textAlign,\n            rotation\n        } = this.config();\n\n        this.mount(mount);\n        if (show) {\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id], `${CLASSPREFIX}-${TEXT_CELL}`);\n            const vAlign = verticalAlign || rotation ? 'middle' : 'top';\n            const {\n                width,\n                height\n            } = this.smartText();\n            const {\n                height: minHeightSpace\n            } = this.minSpacing();\n            const translation = {\n                top: width + minHeightSpace / 2,\n                middle: width / 2 + minHeightSpace,\n                bottom: minHeightSpace\n            };\n\n            container.style('vertical-align', vAlign);\n\n            // Set class name\n            elem.classed(this._className, true);\n\n            // Apply styles\n            elem.style('text-align', textAlign);\n            elem.style('display', 'inline');\n            elem.style('transform', rotation ? `translate(${height / 2}px,\n                ${translation[vAlign]}px) rotate(-90deg)` : '');\n            elem.style(WIDTH, availWidth ? `${availWidth}px` : '100%');\n            [TOP, BOTTOM, LEFT, RIGHT].forEach((type) => {\n                container.style(`margin-${type}`, `${margin[type]}px`);\n            });\n            elem.style('text-align', textAlign);\n            elem.style('display', 'inline');\n            // set the text as the innerHTML\n            this._dependencies.labelManager.setStyle(this._computedStyle);\n            elem.html(this._dependencies.labelManager.getSmartText(this.source(), availWidth, availHeight, true).text);\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n }\n\nexport default TextCell;\n","// extracted by mini-css-extract-plugin","import { MeasureSubtype, DimensionSubtype, FieldType } from 'muze-utils';\n\nimport { ScaleType } from '@chartshq/muze-axis';\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    [FieldType.DIMENSION]: ScaleType.BAND,\n    [DimensionSubtype.CATEGORICAL]: ScaleType.BAND,\n    [DimensionSubtype.TEMPORAL]: ScaleType.TIME,\n    [FieldType.MEASURE]: ScaleType.LINEAR,\n    [MeasureSubtype.CONTINUOUS]: ScaleType.LINEAR,\n    [DimensionSubtype.BINNED]: ScaleType.BAND\n};\n","import { layerFactory } from '@chartshq/visual-layer';\nimport {\n    mergeRecursive,\n    STATE_NAMESPACES,\n    unionDomain,\n    COORD_TYPES,\n    toArray,\n    sortCategoricalField\n} from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport {\n    generateAxisFromMap,\n    getDefaultMark,\n    getIndex,\n    getLayerConfFromFields,\n    getAdjustedDomain,\n    sanitizeIndividualLayerConfig\n} from './encoder-helper';\nimport { retriveDomainFromData } from '../group-helper';\n\nimport { ROW, COLUMN, COL, LEFT, TOP, MEASURE, BOTH, X, Y } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\nconst CARTESIAN = COORD_TYPES.CARTESIAN;\n\n/**\n *\n *\n * @export\n * @class CartesianEncoder\n * @extends {VisualEncoder}\n */\nexport default class CartesianEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     *\n     * @memberof CartesianEncoder\n     */\n    static type () {\n        return CARTESIAN;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     *\n     * @memberof CartesianEncoder\n     */\n    createAxis (axesCreators, fieldInfo, context) {\n        const geomCellAxes = {};\n        const {\n            axes\n        } = axesCreators;\n        const {\n            projections,\n            indices\n        } = fieldInfo;\n        const {\n            rowFields,\n            columnFields\n        } = projections;\n        const {\n             rowIndex,\n             columnIndex\n        } = indices;\n        const axisFields = [{\n            fields: rowFields,\n            index: rowIndex\n        }, {\n            fields: columnFields,\n            index: columnIndex\n        }];\n        const { resolver, facetFields, geomCell } = context;\n        const xAxes = axes.x || [];\n        const yAxes = axes.y || [];\n\n        [rowFields, columnFields].forEach((fields, i) => {\n            const type = i === 0 ? ROW : COLUMN;\n            const axis = i === 0 ? Y : X;\n\n            if (fields.length > 1) {\n                axesCreators.position = BOTH;\n            } else {\n                axesCreators.position = this.axisFrom()[type];\n            }\n            geomCellAxes[axis] = generateAxisFromMap(axis, axisFields[i], axesCreators, {\n                groupAxes: axis === X ? xAxes : yAxes,\n                valueParser: resolver.valueParser()\n            }, indices, facetFields);\n        });\n        geomCell.axes(geomCellAxes);\n        return geomCellAxes;\n    }\n\n    unionUnitDomains (context) {\n        const store = context.store();\n        const resolver = context.resolver();\n        const units = resolver.units();\n        const domains = {\n            0: {},\n            1: {}\n        };\n        const config = context.config();\n        const fieldsObj = {\n            0: {},\n            1: {}\n        };\n\n        for (let rIdx = 0, len = units.length; rIdx < len; rIdx++) {\n            const unitsArr = units[rIdx];\n            for (let cIdx = 0, len2 = unitsArr.length; cIdx < len2; cIdx++) {\n                const unit = unitsArr[cIdx];\n                const axisFields = unit.fields();\n                const encodingDomains = unit.dataDomain();\n                ['x', 'y'].forEach((axisType, axisTypeIndex) => {\n                    const fieldArr = axisFields[axisType];\n                    fieldArr.forEach((field, axisIndex) => {\n                        const key = !axisTypeIndex ? `0${cIdx}${axisIndex}` : `${rIdx}0${axisIndex}`;\n                        const dom = encodingDomains[axisType];\n                        const typeOfField = field.subtype();\n                        fieldsObj[axisTypeIndex][key] = field;\n\n                        if (dom && Object.keys(dom).length !== 0) {\n                            domains[axisTypeIndex][key] = unionDomain([(domains[axisTypeIndex] &&\n                                domains[axisTypeIndex][key]) || [], dom[`${field}`]], typeOfField);\n                        }\n                    });\n                });\n            }\n        }\n\n        const { x: xAxes, y: yAxes } = resolver.axes();\n        store.lockModel();\n        [xAxes, yAxes].forEach((axesArr, axisType) => {\n            axesArr.forEach((axes, idx) => {\n                let key;\n                let domain = [];\n                let adjustedDomain = [];\n                const min = [];\n                const max = [];\n                const typeOfAxis = axes[0].constructor.type();\n\n                if (axes.length > 1 && typeOfAxis === ScaleType.LINEAR && axes[0].config().alignZeroLine) {\n                    axes.forEach((axis, i) => {\n                        key = !axisType ? `0${idx}${i}` : `${idx}0${i}`;\n                        domain = domains[axisType][key];\n                        min[i] = domain[0];\n                        max[i] = domain[1];\n                    });\n                    adjustedDomain = getAdjustedDomain(max, min);\n                } else if (typeOfAxis === ScaleType.BAND) {\n                    /* Sort categorical fields to ensure consistency across all rows\n                    only if sorted by user */\n                    key = !axisType ? `0${idx}0` : `${idx}00`;\n                    const currentFieldName = fieldsObj[axisType][key].oneVar();\n                    const sortingOrder = config.sort && config.sort[currentFieldName];\n\n                    if (sortingOrder) {\n                        domains[axisType][key].sort((a, b) => sortCategoricalField(sortingOrder, a, b));\n                    }\n                }\n\n                axes.forEach((axis, index) => {\n                    key = !axisType ? `0${idx}${index}` : `${idx}0${index}`;\n                    domain = adjustedDomain[index] || domains[axisType][key];\n\n                    domain && axis.domain(domain);\n                    const type = !axisType ? 'x' : 'y';\n                    store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${type}`, domain, `${idx}${index}`);\n                });\n            });\n        });\n        store.unlockModel();\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     *\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields, type) {\n        let facets = [];\n        let projections = [];\n        let counter = 0;\n        const primaryFacets = [];\n        const secondaryFacets = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n        const axisFrom = this.axisFrom();\n\n        for (let i = 0; i < primaryLen; i++) {\n            let projArr = [primaryFields[i]];\n            const primaryField = primaryFields[i];\n\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter];\n                if (secondaryField && secondaryField.type() === MEASURE) {\n                    counter++;\n                    projArr = [primaryField, secondaryField];\n                }\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n                primaryFacets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                    secondaryFacets.push(secondaryField);\n                }\n            }\n        }\n        if ((primaryFacets.length || secondaryFacets.length) && !projections.length) {\n            type = type === COL ? COLUMN : type;\n            if ((axisFrom[type] === LEFT || axisFrom[type] === TOP) && primaryFacets.length) {\n                const axisFromIndex = primaryFacets.length - 1;\n                const facet = primaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(secondaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    secondaryFacets.splice(existIndex, 1);\n                }\n                primaryFacets.splice(axisFromIndex, 1);\n            } else {\n                const axisFromIndex = 0;\n                const facet = secondaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(primaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    primaryFacets.splice(existIndex, 1);\n                }\n                secondaryFacets.splice(axisFromIndex, 1);\n            }\n        }\n\n        facets = [...primaryFacets, ...secondaryFacets];\n        facets = facets.filter((el, index, self) => index === self.findIndex(t => (t.toString() === el.toString())));\n        return {\n            facets,\n            projections\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     *\n     * @memberof CartesianEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        return super.fieldSanitizer(datamodel, config);\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     *\n     * @memberof CartesianEncoder\n     */\n    getRetinalFieldsDomain (dataModels, encoding) {\n        const groupedModel = dataModels.groupedModel;\n        const domains = {};\n        for (const key in encoding) {\n            if ({}.hasOwnProperty.call(encoding, key)) {\n                const encodingObj = encoding[key];\n                const field = encodingObj.field;\n                if (!encodingObj.domain && field) {\n                    const domain = retriveDomainFromData(groupedModel, field);\n                    domains[field] = domain;\n                }\n            }\n        }\n        return domains;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     * @memberof CartesianEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n        // let currentLayerIndex = 0;\n        layerArray.length && layerArray.forEach((layer, i) => {\n            const def = layerFactory.sanitizeLayerConfig(layer);\n            def.order = i;\n            serializedLayers.push(def);\n        });\n        return serializedLayers;\n    }\n\n    sanitizeLayerConfig (encodingConfigs, userLayerConfig) {\n        const layerConfig = [];\n        userLayerConfig.forEach((config) => {\n            const def = toArray(config.def);\n            sanitizeIndividualLayerConfig(encodingConfigs, def);\n            layerConfig.push(config);\n        });\n        return layerConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof CartesianEncoder\n     */\n    getLayerConfig (fields, userLayerConfig, retinalConfig) {\n        const layerConfig = [];\n        const {\n            columnFields,\n            rowFields\n        } = fields;\n\n        // let currentLayerIndex = 0;\n        columnFields.forEach((colField) => {\n            const colFieldName = colField.toString();\n            rowFields.forEach((rowField) => {\n                let configs = [];\n                const rowFieldName = rowField.toString();\n                const encoding = {\n                    x: {\n                        field: colFieldName\n                    },\n                    y: {\n                        field: rowFieldName\n                    }\n                };\n                const rowFieldType = rowField.subtype();\n                const colFieldType = colField.subtype();\n                const mark = getDefaultMark(colFieldType, rowFieldType);\n\n                const defConfigs = [{\n                    mark,\n                    def: {\n                        mark,\n                        encoding\n                    }\n                }];\n\n                const layerConfigs = getLayerConfFromFields(colField.getMembers(),\n                    rowField.getMembers(), userLayerConfig || []);\n                if (layerConfigs.length) {\n                    configs = layerConfigs.map((layerConf) => {\n                        const mergedLayerConf = mergeRecursive(mergeRecursive({}, defConfigs[0].def), layerConf);\n                        const serializedLayerConfig = layerFactory.getSerializedConf(mergedLayerConf.mark,\n                            mergedLayerConf);\n                        return {\n                            mark: mergedLayerConf.mark,\n                            order: mergedLayerConf.order,\n                            def: serializedLayerConfig\n                        };\n                    });\n                } else {\n                    configs = defConfigs;\n                }\n\n                layerConfig.push(...configs);\n            });\n        });\n        return this.sanitizeLayerConfig(retinalConfig, layerConfig);\n    }\n}\n","import { mergeRecursive, getObjProp } from 'muze-utils';\nimport { AxisOrientation } from '@chartshq/muze-axis';\nimport { ENCODING } from '@chartshq/visual-layer';\nimport { scaleMaps } from '../enums/scale-maps';\nimport { getAxisType, getAxisKey } from '../group-helper';\nimport { dataTypeScaleMap } from '../data-type-scale-map';\nimport { CATEGORICAL, TEMPORAL, BAR, LINE, POINT, BOTH, Y, COLOR, SHAPE, SIZE, ANGLE0 } from '../enums/constants';\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n *\n */\nconst getAxisConfig = (axisInfo, field, axesCreators, indices, facetFields) => {\n    let axisOrientation;\n    const { index, axisIndex, axisType } = axisInfo;\n    const { config, position } = axesCreators;\n    const { rowIndex, columnIndex } = indices;\n    const rawUserAxisConfig = config.axes ? (config.axes[axisType] || {}) : {};\n\n    // Change config object to a function if not already one\n    const userAxisConfigFn = typeof rawUserAxisConfig !== 'function' ?\n    () => rawUserAxisConfig : rawUserAxisConfig;\n    const userAxisConfig = userAxisConfigFn(rowIndex, columnIndex, {\n        axisFields: field.getMembers(),\n        facetFields\n    });\n\n    // If current config does not specifes config for an axis, retain old config\n    if (!userAxisConfig) {\n        return {};\n    }\n\n    const {\n        LEFT,\n        RIGHT,\n        TOP,\n        BOTTOM\n    } = AxisOrientation;\n    const allOrientations = axisType === Y ? [LEFT, RIGHT] : [TOP, BOTTOM];\n\n    if (position === BOTH) {\n        axisOrientation = allOrientations[axisIndex];\n    } else {\n        axisOrientation = position;\n    }\n    const axisConfig = {\n        id: `${axisType}-${index}-${axisIndex}`,\n        name: field.displayName(),\n        field: field.toString(),\n        numberFormat: field.numberFormat(),\n        orientation: axisOrientation,\n        showAxisName: true,\n        show: true,\n        type: dataTypeScaleMap[field.subtype()]\n    };\n    userAxisConfig.tickValues = field.format(userAxisConfig.tickValues);\n    userAxisConfig.domain = field.format(userAxisConfig.domain);\n\n    return mergeRecursive(axisConfig, userAxisConfig);\n};\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n *\n */\nconst createSimpleAxis = (axisConfig, field, axesCreators) => {\n    const { labelManager } = axesCreators;\n    const Cls = scaleMaps[dataTypeScaleMap[field.subtype()]];\n    const simpleAxis = new Cls(axisConfig, { labelManager });\n    return simpleAxis;\n};\n\nexport const getAdjustedDomain = (max, min) => {\n    const y1ratio = max[0] / (max[0] - min[0]);\n    const y2ratio = max[1] / (max[1] - min[1]);\n\n    // adjust min/max values for positive negative values zero line etc\n    let allSameSign = false;\n\n    // if all numbers are positive set floor to zero\n    if (min[0] > 0 && min[1] > 0 && min[1] > 0 && max[1] > 0) {\n        allSameSign = true;\n        min[0] = 0;\n        min[1] = 0;\n    }\n\n    // if all numbers are negative set ceiling to zero\n    if (min[0] < 0 && min[1] < 0 && min[1] < 0 && max[1] < 0) {\n        allSameSign = true;\n        max[0] = 0;\n        max[1] = 0;\n    }\n\n    // align zero line if necessary\n    if (!allSameSign && y1ratio !== y2ratio) {\n        if (y1ratio < y2ratio) {\n                    // adjust min[1]\n            min[1] = min[0] / max[0] * max[1];\n        } else {\n                    // adjust min[0]\n            min[0] = min[1] / max[1] * max[0];\n        }\n    }\n    return [\n        [min[0], max[0]],\n        [min[1], max[1]]\n    ];\n};\n\n/**\n *\n *\n * @param {*} axisType\n * @param {*} fieldInfo\n * @param {*} axesCreators\n * @param {*} groupAxes\n *\n */\nexport const generateAxisFromMap = (axisType, fieldInfo, axesCreators, axesInfo, indices, facetFields) => {\n    let axisKey;\n    const { groupAxes, valueParser } = axesInfo;\n    const currentAxes = [];\n    const { fields, index } = fieldInfo;\n    const { cacheMaps } = axesCreators;\n    const map = cacheMaps[`${axisType}AxesMap`];\n\n    const commonAxisKey = getAxisKey(axisType, index);\n    fields.forEach((field, axisIndex) => {\n        axisKey = getAxisKey(axisType, index, axisIndex, dataTypeScaleMap[field.subtype()]);\n        const axisConfig = getAxisConfig({ index, axisIndex, axisType }, field, axesCreators, indices, facetFields);\n\n        let axis;\n        if (!map.has(axisKey)) {\n            axis = createSimpleAxis(axisConfig, field, axesCreators);\n        } else {\n            axis = map.get(axisKey);\n            axis._rotationLock = false;\n            axis.config(axisConfig);\n        }\n        axis.valueParser(valueParser);\n        currentAxes.push(axis);\n        map.set(axisKey, axis);\n    });\n\n    if (currentAxes.length) {\n        map.set(commonAxisKey, currentAxes);\n        groupAxes.add(commonAxisKey);\n    }\n\n    return currentAxes;\n};\n\nexport const sanitizeIndividualLayerConfig = (encodingConfigs, def) => {\n    [COLOR, SHAPE, SIZE].forEach((axis) => {\n        if (encodingConfigs[axis] && encodingConfigs[axis].field) {\n            def.forEach((conf) => {\n                conf.encoding = conf.encoding || {};\n                !conf.encoding[axis] && (conf.encoding[axis] = {});\n                conf.encoding[axis].field = encodingConfigs[axis].field;\n            });\n        }\n    });\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n    const xAxes = [];\n    const yAxes = [];\n\n    xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes.push(xAxis);\n    });\n    yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes.push(yAxis);\n    });\n    return {\n        xAxes, yAxes\n    };\n};\n\n/**\n * return a default mark based on predefined set of rules of type and subtype of the fields\n *\n * @param {string} colFieldType dimension/measure - temporal/ordinal/nominal\n * @param {string} rowFieldType dimension/measure - temporal/ordinal/nominal\n * @return {Object} return mark type\n */\nexport const getDefaultMark = (colFieldType, rowFieldType) => {\n    let mark;\n\n    if (colFieldType === CATEGORICAL || rowFieldType === CATEGORICAL) {\n        mark = BAR;\n    } else if (colFieldType === TEMPORAL || rowFieldType === TEMPORAL) {\n        mark = LINE;\n    } else {\n        mark = POINT;\n    }\n\n    return mark;\n};\n\n/**\n *\n *\n * @param {*} axesCreators\n * @param {*} [fieldInfo=[]]\n *\n */\nexport const createRetinalAxis = (axesCreators, fieldProps = {}) => {\n    const { axisType, fieldsConfig } = axesCreators;\n    const field = fieldProps.field;\n    const axis = [];\n    const Cls = scaleMaps[axisType];\n\n    fieldProps.type = fieldProps.type ? fieldProps.type : getAxisType(fieldsConfig, field || null);\n    axis.push(new Cls(fieldProps));\n    return axis;\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} val\n *\n */\nexport const getIndex = (arr, val) => {\n    let i = 0;\n    let arrIndex = -1;\n\n    while (arrIndex === -1 && i < arr.length) {\n        if (arr[i].toString() === val.toString()) {\n            arrIndex = i;\n        }\n        i++;\n    }\n    return arrIndex;\n};\n\n/**\n *\n *\n * @param {*} colFields\n * @param {*} rowFields\n * @param {*} userLayerConfig\n *\n * @memberof CartesianEncoder\n */\nexport const getLayerConfFromFields = (colFields, rowFields, userLayerConfig) => userLayerConfig.filter((conf) => {\n    const userConf = conf instanceof Array ? conf : [conf];\n    const encodingArr = [].concat(...userConf.map(d => d.encoding).filter(d => d !== undefined));\n\n    if (!encodingArr.length) {\n        return true;\n    }\n\n    const xFields = [].concat(...encodingArr.map(d => [d.x && d.x.field, d.x0 && d.x0.field]))\n                .filter(d => d !== undefined && d !== null);\n    const yFields = [].concat(...encodingArr.map(d => [d.y && d.y.field, d.y0 && d.y0.field]))\n                .filter(d => d !== undefined && d !== null);\n\n    if (!xFields.length && !yFields.length) {\n        return true;\n    }\n\n    const colFieldExist = xFields.length ? xFields.every(d => colFields.indexOf(d) !== -1) : false;\n    const rowFieldExist = yFields.length ? yFields.every(d => rowFields.indexOf(d) !== -1) : false;\n    if (xFields.length && yFields.length) {\n        return colFieldExist && rowFieldExist;\n    }\n    return colFieldExist || rowFieldExist;\n});\n\nexport const resolveAxisConfig = (context, fieldInf, axisInfo) => {\n    const { rowIndex, columnIndex, axesObj } = axisInfo;\n    const { config, facetFields, resolver } = context;\n    const resolverAxes = resolver.axes();\n    const { RADIUS, ANGLE } = ENCODING;\n    [RADIUS, ANGLE, ANGLE0].forEach((enc) => {\n        const axesArr = resolverAxes[enc];\n        if (!axesArr[rowIndex]) {\n            axesArr[rowIndex] = [];\n        }\n        axesArr[rowIndex][columnIndex] = axesObj[enc];\n        const axisConfig = getObjProp(config.axes, enc) || {};\n\n        axesObj[enc].forEach((axis, i) => {\n            let userConfig = axisConfig;\n            if (axisConfig instanceof Function) {\n                userConfig = axisConfig(rowIndex, columnIndex, {\n                    axisFields: [fieldInf[enc][i]],\n                    facetFields\n                });\n            }\n            axis.config(userConfig);\n        });\n    });\n};\n","import { ComposedVars, SimpleVariable } from '../variable';\nimport { DIMENSION, COLUMNS, ROWS, TEMPORAL } from '../enums/constants';\n\n/**\n * Gets the list of fields in a sorted order by measurement and dimension\n *\n * @param {Array} fieldList List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields sorted by measurement and dimensions\n */\nconst orderFields = (fieldArray, type) => {\n    const dimensionArr = [[], []];\n    const measureArr = [[], []];\n    const temporalArr = [[], []];\n    const categoricalArr = [[], []];\n\n    fieldArray.forEach((fieldList, index) => {\n        fieldList.forEach((field) => {\n            if (field.type() === DIMENSION) {\n                dimensionArr[index].push(field);\n                field.subtype() === TEMPORAL ? temporalArr[index].push(field) : categoricalArr[index].push(field);\n            } else {\n                measureArr[index].push(field);\n            }\n        });\n    });\n\n    const numOfMeasures = measureArr[0].length + (measureArr[1] ? measureArr[1].length : 0);\n\n    // Single array of fields\n    if (!fieldArray[1]) {\n        // Push measures to bottom\n        measureArr[1] = type === COLUMNS ? measureArr[0] : [];\n        // Push measures to left\n        measureArr[0] = type !== COLUMNS ? measureArr[0] : [];\n        // Bottom and right dimensions empty\n        dimensionArr[1] = [];\n        // Left and top filled with dimensions\n        dimensionArr[0] = dimensionArr[0];\n        if (numOfMeasures === 0) {\n            const allDimensions = [...dimensionArr[0], ...dimensionArr[1]];\n            if (type === COLUMNS) {\n                dimensionArr[1] = allDimensions[allDimensions.length - 1] ? [allDimensions[allDimensions.length - 1]]\n                        : [];\n                allDimensions.splice(-1, 1);\n            } else {\n                dimensionArr[1] = [];\n            }\n            dimensionArr[0] = [...allDimensions];\n        }\n    }\n\n    if (dimensionArr[0].length && dimensionArr[1].length && numOfMeasures > 0) {\n        dimensionArr[0] = [...dimensionArr[0], ...dimensionArr[1]];\n        dimensionArr[1] = [];\n    }\n    return {\n        fields: dimensionArr.map((list, i) => (i === 1 ?\n            measureArr[i].concat(dimensionArr[i]) : dimensionArr[i].concat(measureArr[i]))),\n        dimensions: [...dimensionArr[0], ...dimensionArr[1]],\n        measures: [...measureArr[0], ...measureArr[1]],\n        temporal: [...temporalArr[0], ...temporalArr[1]],\n        categorical: [...categoricalArr[0], ...categoricalArr[1]]\n    };\n};\n\n/**\n * Gets the list of normalized fields\n *\n * @param {Array} fields List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields normalized by measurement and dimensions\n */\nconst normalizeFields = (config, type) => {\n    const fieldsArr = [];\n    const fields = config[type];\n\n    if (!(fields[0] instanceof Array)) {\n        fieldsArr[0] = fields;\n    } else {\n        fieldsArr[0] = fields[0] || [];\n        fieldsArr[1] = fields[1] || [];\n    }\n    return fieldsArr;\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} datamodel\n *\n */\nconst convertToVar = (datamodel, fields) => {\n    const vars = [];\n\n    fields && fields.forEach((field) => {\n        if (field instanceof ComposedVars) {\n            vars.push(field);\n            field.data(datamodel);\n        } else {\n            vars.push(new SimpleVariable(field).data(datamodel));\n        }\n    });\n    return vars;\n};\n\n/**\n *\n *\n * @param {*} rows\n * @param {*} columns\n * @param {*} datamodel\n *\n */\nexport const transformFields = (datamodel, config) => {\n    const [rowsInfo, columnsInfo] = [ROWS, COLUMNS].map((fields) => {\n        const normalizedFields = normalizeFields(config, fields);\n        const norFields = [convertToVar(datamodel, normalizedFields[0])];\n\n        if (normalizedFields[1]) {\n            norFields[1] = convertToVar(datamodel, normalizedFields[1]);\n        }\n        return orderFields(norFields, fields);\n    });\n    const {\n        fields: rows,\n        dimensions: rowDimensions,\n        measures: rowMeasures,\n        temporal: rowTemporalFields,\n        categorical: rowCategoricalFields\n    } = rowsInfo;\n    const {\n        fields: columns,\n        dimensions: columnDimensions,\n        measures: columnMeasures,\n        temporal: columnTemporalFields,\n        categorical: columnCategoricalFields\n    } = columnsInfo;\n    return {\n        rows,\n        rowDimensions,\n        rowMeasures,\n        rowTemporalFields,\n        rowCategoricalFields,\n        columns,\n        columnTemporalFields,\n        columnCategoricalFields,\n        columnDimensions,\n        columnMeasures\n    };\n};\n","export { default as VisualEncoder } from './visual-encoder';\nexport { default as CartesianEncoder } from './cartesian-encoder';\nexport { default as PolarEncoder } from './polar-encoder';\nexport { default as RetinalEncoder } from './retinal-encoder';\n","import { AngleAxis, RadiusAxis } from '@chartshq/muze-axis';\nimport { layerFactory, ENCODING } from '@chartshq/visual-layer';\nimport {\n    mergeRecursive,\n    STATE_NAMESPACES,\n    GROUP_BY_FUNCTIONS,\n    COORD_TYPES,\n    toArray,\n    getObjProp,\n    defaultValue\n} from 'muze-utils';\nimport VisualEncoder from './visual-encoder';\nimport { SIZE, MEASURE, ARC, COLOR } from '../enums/constants';\nimport { sanitizeIndividualLayerConfig, resolveAxisConfig } from './encoder-helper';\nimport { SimpleVariable } from '../variable';\n\nconst POLAR = COORD_TYPES.POLAR;\nconst { RADIUS, ANGLE, ANGLE0 } = ENCODING;\n\nconst axesCls = {\n    [RADIUS]: RadiusAxis,\n    [ANGLE]: AngleAxis,\n    [ANGLE0]: AngleAxis\n};\n\nconst getSizeMultiplier = (sizeVal, sizeAxis) => {\n    const sizeAxisDomain = sizeAxis.domain();\n    const sizeMultiplier = sizeAxis.getSize(sizeVal) / (sizeAxisDomain ? sizeAxis.range()[1] : sizeAxis.config().value);\n    return sizeMultiplier;\n};\n\nconst setRadiusFactor = (context) => {\n    const data = context.data();\n    const sizeField = context.retinalFields().size.field;\n    const { radius, size } = context.axes();\n\n    if (sizeField && radius && radius.length) {\n        const sizeFieldIndex = data.getFieldsConfig()[sizeField].index;\n        const sizeVal = data.getData().data.reduce((acc, val) => acc + val[sizeFieldIndex], 1);\n        const sizeMultiplier = getSizeMultiplier(sizeVal, size[0]);\n        radius.forEach(axis => axis.setRadiusFactor(sizeMultiplier));\n    }\n};\n\n/**\n *\n *\n * @export\n * @class PolarEncoder\n * @extends {VisualEncoder}\n */\nexport default class PolarEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     *\n     * @memberof PolarEncoder\n     */\n    createAxis (axesCreators, fieldInfo, context) {\n        const {\n            axes\n        } = axesCreators;\n        const geomCellAxes = axes;\n        const {\n            indices\n        } = fieldInfo;\n        const {\n            rowIndex,\n            columnIndex\n        } = indices;\n        // Dummy axes for polar, to create blank cells\n        const pieAxes = geomCellAxes.pie || [];\n\n        pieAxes[rowIndex] = pieAxes[rowIndex] || [];\n        pieAxes[rowIndex][columnIndex] = [];\n\n        const axesObj = {};\n        const { geomCell, resolver } = context;\n        const layers = resolver.matrixLayers();\n        const resolverAxes = resolver.axes();\n        const cellLayers = layers[rowIndex][columnIndex];\n        const fields = {\n            radius: {},\n            angle: {},\n            angle0: {}\n        };\n\n        cellLayers.forEach((layerConf) => {\n            const def = layerConf.def;\n            [ANGLE, ANGLE0, RADIUS].forEach((enc) => {\n                const field = getObjProp(def.encoding, enc, 'field');\n                field && (fields[enc][field] = 0);\n            });\n        });\n        const fieldInf = {};\n        const varInstances = {};\n\n        for (const encType in fields) {\n            fieldInf[encType] = Object.keys(fields[encType]);\n            axesObj[encType] = [];\n            varInstances[encType] = [];\n            fieldInf[encType].forEach((field, i) => {\n                varInstances[encType][i] = new SimpleVariable(field);\n                axesObj[encType][i] = new axesCls[encType]();\n            });\n            axesObj[encType][axesObj[encType].length] = new axesCls[encType]();\n        }\n        resolveAxisConfig(context, fieldInf, {\n            axesObj,\n            rowIndex,\n            columnIndex\n        });\n        geomCell.axes(axesObj)\n            .fields(Object.assign({}, varInstances, geomCell.fields()));\n        resolverAxes.pie = pieAxes;\n        return geomCellAxes;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     *\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields) {\n        let counter = 0;\n        const facets = [];\n        const projections = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n\n        for (let i = 0; i < primaryLen; i++) {\n            const primaryField = primaryFields[i];\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter++];\n                const projArr = secondaryField ? [primaryField, secondaryField] : [primaryField];\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                }\n            }\n        }\n        return {\n            facets,\n            projections\n        };\n    }\n\n    unionUnitDomains (context) {\n        const store = context.store();\n        store.lockModel();\n        const domainProps = {\n            radius: [],\n            angle: [],\n            angle0: []\n        };\n        const axes = context.resolver().axes();\n        context.matrixInstance().value.each((cell, rIdx, cIdx) => {\n            const unit = cell.valueOf();\n            const unitDomains = unit.dataDomain();\n            const fields = unit.fields();\n            setRadiusFactor(unit);\n            [RADIUS, ANGLE, ANGLE0].forEach((encType) => {\n                const encodingFields = fields[encType];\n                const domains = unitDomains[encType] || {};\n                encodingFields.forEach((field, i) => {\n                    !domainProps[encType][rIdx] && (domainProps[encType][rIdx] = []);\n                    !domainProps[encType][rIdx][cIdx] && (domainProps[encType][rIdx][cIdx] = []);\n                    domainProps[encType][rIdx][cIdx][i] = domains[`${field}`] || [];\n                });\n            });\n        });\n\n        for (const key in domainProps) {\n            const specificAxes = axes[key];\n            specificAxes.forEach((axesArr, rIdx) => {\n                axesArr.forEach((axisArr, cIdx) => {\n                    axisArr.forEach((axis, i) => {\n                        axis.domain(defaultValue(getObjProp(domainProps[key], rIdx, cIdx, i), []));\n\n                        store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${key}`, domainProps[key],\n                            `${rIdx}-${cIdx}`);\n                    });\n                });\n            });\n        }\n        store.unlockModel();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PolarEncoder\n     */\n    setCommonDomain () {\n        // No domain to be set\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PolarEncoder\n     */\n    static type () {\n        return POLAR;\n    }\n\n    layers (...layers) {\n        if (layers.length) {\n            this._layers = layers[0];\n            return this;\n        }\n        return this._layers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @memberof PolarEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        let sanitizedRows = [[], []];\n        let sanitizedColumns = [[], []];\n        const fields = super.fieldSanitizer(datamodel, config);\n        const {\n            layers\n        } = config;\n        const {\n            rows,\n            columns\n        } = fields;\n        const layer = layers[0];\n        const encoding = layer.encoding;\n        const radius = encoding && encoding.radius ? encoding.radius.field : null;\n        const angle = encoding && encoding.angle ? encoding.angle.field : null;\n        const sanitizedFields = [sanitizedRows, sanitizedColumns];\n\n        [rows, columns].forEach((fieldType, typeIndex) => {\n            fieldType.forEach((fieldSet, i) => fieldSet.forEach((field) => {\n                if (field.toString() !== radius && field.toString() !== angle && field.type() !== MEASURE) {\n                    sanitizedFields[typeIndex][i].push(field);\n                }\n            }));\n        });\n        sanitizedColumns = [...new Set(sanitizedColumns)];\n        sanitizedRows = [...new Set(sanitizedRows)];\n        this.fieldInfo({ rows: sanitizedRows, columns: sanitizedColumns });\n        return this.fieldInfo();\n    }\n\n    getRetinalFieldsDomain (dataModels, encoding, facetFields, groupBy) {\n        let sizeField;\n        let colorField;\n        const fields = [];\n        const layers = this.layers();\n        const dataModel = dataModels.groupedModel;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const domains = {};\n        if (layers && layers[0]) {\n            const layer = layers[0];\n            const layerEncoding = layer.def.encoding || {};\n\n            [RADIUS, ANGLE, SIZE, COLOR].forEach((encType) => {\n                const field = layerEncoding[encType] ? layerEncoding[encType].field : '';\n                const measureField = fieldsConfig[field] && fieldsConfig[field].def.type === MEASURE;\n                if (encType === SIZE && measureField) {\n                    sizeField = field;\n                }\n                if (encType === COLOR) {\n                    colorField = field;\n                }\n                fieldsConfig[field] && !measureField && fields.push(field);\n            });\n        }\n\n        if (sizeField) {\n            domains[sizeField] = dataModel.groupBy(facetFields, {\n                [sizeField]: GROUP_BY_FUNCTIONS.SUM\n            }).getFieldspace().fieldsObj()[sizeField].domain();\n        }\n\n        if (colorField) {\n            const dm = dataModel.groupBy([...facetFields, ...fields], groupBy.measures);\n            domains[colorField] = dm.getFieldspace().fieldsObj()[colorField].domain();\n        }\n        return domains;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof PolarEncoder\n     */\n    getLayerConfig (fields, userLayerConfig, retinalConfig) {\n        let layerConfig = [];\n        const {\n                columnFields,\n                rowFields\n            } = fields;\n        const allFields = [...columnFields, ...rowFields];\n\n        allFields.forEach(() => {\n            const encoding = {};\n            let config = {\n                mark: ARC,\n                def: {\n                    encoding\n                }\n            };\n            if (userLayerConfig && userLayerConfig.length > 0) {\n                config = mergeRecursive(config, userLayerConfig[0]);\n            }\n            layerConfig.push(config);\n        });\n        if (layerConfig.length === 0) {\n            layerConfig = userLayerConfig;\n        }\n        const sanitizedConfig = this.sanitizeLayerConfig(retinalConfig, layerConfig);\n        this.layers(sanitizedConfig);\n        return sanitizedConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     *\n     * @memberof PolarEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n\n        layerArray.length && layerArray.forEach((layer) => {\n            const def = layerFactory.getSerializedConf(layer.mark, layer);\n            serializedLayers.push({\n                mark: layer.mark,\n                def\n            });\n        });\n        return serializedLayers;\n    }\n\n    sanitizeLayerConfig (encodingConfigs, userLayerConfig) {\n        const layerConfig = [];\n\n        userLayerConfig.forEach((config) => {\n            const def = toArray(config.def);\n            sanitizeIndividualLayerConfig(encodingConfigs, def);\n            def.forEach((conf) => {\n                const encoding = conf.encoding || (conf.encoding = {});\n                !encoding.angle && (encoding.angle = {});\n                const angleField = getObjProp(encoding.angle, 'field');\n                const angle0Field = getObjProp(encoding.angle0, 'field');\n\n                if (!angleField) {\n                    Object.assign(encoding.angle, {\n                        field: encodingConfigs.color && encodingConfigs.color.field\n                    });\n                }\n                if (!angle0Field) {\n                    !encoding.angle0 && (encoding.angle0 = {});\n                    Object.assign(encoding.angle0, {\n                        field: encoding.angle.field\n                    });\n                }\n            });\n\n            layerConfig.push(config);\n        });\n        return layerConfig;\n    }\n}\n","export const PROPS = {\n    layers: {},\n    data: {},\n    globalConfig: {}\n};\n","import { createRetinalAxis } from './encoder-helper';\nimport { COLOR, SHAPE, SIZE } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\n/**\n *\n *\n * @export\n * @class RetinalEncoder\n * @extends {VisualEncoder}\n */\nexport default class RetinalEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     *\n     * @memberof RetinalEncoder\n     */\n    createAxis (axesCreators) {\n        const { fieldsConfig, config } = axesCreators;\n        const newAxes = {};\n\n        [COLOR, SHAPE, SIZE].forEach((axisType) => {\n            newAxes[`${axisType}`] = createRetinalAxis({ axisType, fieldsConfig }, config[axisType]);\n        });\n        return newAxes;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof RetinalEncoder\n     */\n    static type () {\n        return 'retinal';\n    }\n\n    /**\n     *\n     *\n     * @param {*} context\n     *\n     * @memberof RetinalEncoder\n     */\n    setCommonDomain (context) {\n        const { domains, axes, encoding } = context;\n\n        Object.entries(encoding).forEach((enc) => {\n            if (enc[1] && enc[1].field) {\n                const encType = enc[0];\n                const field = enc[1].field;\n\n                if (field) {\n                    axes[encType].forEach((axis) => {\n                        const domain = domains[field];\n                        !enc[1].domain && axis.updateDomain(domain);\n                    });\n                }\n            }\n        });\n        return axes;\n    }\n}\n","import { ERROR_MSG, mergeRecursive, generateGetterSetters } from 'muze-utils';\nimport { transformFields } from './field-sanitizer';\nimport { getHeaderAxisFrom, getFieldsFromSuppliedLayers } from '../group-helper/group-utils';\nimport { ROW, COLUMN } from '../enums/constants';\nimport { PROPS } from './props';\n\n/**\n *\n *\n * @export\n * @class VisualEncoder\n */\nexport default class VisualEncoder {\n\n    constructor () {\n        generateGetterSetters(this, PROPS);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    createAxis () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    setCommonDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    getLayerConfig () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    fieldInfo (...info) {\n        if (info.length) {\n            this._fieldInfo = mergeRecursive(this._fieldInfo || {}, info[0]);\n            return this;\n        }\n        return this._fieldInfo;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     *\n     * @memberof VisualEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        this.fieldInfo(transformFields(datamodel, config));\n        return this.fieldInfo();\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     *\n     * @memberof VisualEncoder\n     */\n    axisFrom (...params) {\n        if (params.length) {\n            this._axisFrom = params[0];\n            return this;\n        }\n        return this._axisFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     *\n     * @memberof VisualEncoder\n     */\n    headerFrom (...params) {\n        if (params.length) {\n            this._headerFrom = params[0];\n            return this;\n        }\n        return this.__headerFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axisFrom\n     *\n     * @memberof CartesianEncoder\n     */\n    setAxisAndHeaders (axisFrom = {}, fields) {\n        const [rowHeader, rowAxis] = getHeaderAxisFrom(ROW, fields.rows, axisFrom);\n        const [colHeader, colAxis] = getHeaderAxisFrom(COLUMN, fields.columns, axisFrom);\n\n        this.axisFrom({\n            row: rowAxis,\n            column: colAxis\n        });\n        this.headerFrom({\n            row: rowHeader,\n            column: colHeader\n        });\n        return this;\n    }\n\n    getProjectionFields (layers) {\n        return getFieldsFromSuppliedLayers(layers);\n    }\n}\n","/**\n * This file exports constants that are used as enums in the\n *  crosstab group implementation.\n */\n/**\n * Width of the crosstab.\n */\nexport const X = 'x';\n/**\n * Width of the crosstab.\n */\nexport const Y = 'y';\n/**\n * Width of the crosstab.\n */\nexport const WIDTH = 'width';\n\n/**\n * Height of the crosstab.\n */\nexport const HEIGHT = 'height';\n\n/**\n * Field referring to object storing measurement configuration.\n */\nexport const MEASUREMENT = 'measurement';\n\n/**\n * Field referring to object storing configuration properties.\n */\nexport const CONFIG = 'config';\n\n/**\n * Width of visual unit in crosstab.\n */\nexport const MIN_UNIT_WIDTH = 'minUnitWidth';\n\n/**\n * Height of visual unit.\n */\nexport const MIN_UNIT_HEIGHT = 'minUnitHeight';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSIONS = 'dimensions';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURES = 'measures';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSION = 'dimension';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURE = 'measure';\n\n/**\n * Flag to specify if model should be pivoted.\n */\nexport const PIVOT = 'pivot';\n\n/**\n * Flag to specify format\n */\nexport const FORMAT = 'format';\n\n/**\n * Mount point where the variable will be hosted\n */\nexport const MOUNT = 'mount';\n\n/**\n * Data update flag\n */\nexport const HAS_DATA_UPDATED = 'hasDataUpdated';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROWS = 'rows';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMNS = 'columns';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COL = 'col';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROW = 'row';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMN = 'column';\n\n/**\n * Field referring to object storing color field\n */\nexport const COLOR = 'color';\n\n/**\n * Field referring to object storing shape field\n */\nexport const SHAPE = 'shape';\n\n/**\n * Field referring to object storing size field\n */\nexport const SIZE = 'size';\n\n/**\n * Field referring to object storing detail field\n */\nexport const DETAIL = 'detail';\n\n/**\n * Field referring to object storing set of layers\n */\nexport const LAYERS = 'layers';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const TRANSFORM = 'transform';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const ORDINAL = 'ordinal';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const LINEAR = 'linear';\n/**\n * Field referring to object storing the transforms\n */\nexport const LEFT = 'left';\n/**\n * Field referring to object storing the transforms\n */\nexport const RIGHT = 'right';\n/**\n * Field referring to object storing the transforms\n */\nexport const TOP = 'top';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTTOM = 'bottom';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const RETINAL = 'retinal';\n/**\n * Field referring to object storing the transforms\n */\nexport const CELL = 'cell';\n/**\n * Field referring to object storing the transforms\n */\nexport const X_AXES = 'xAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const Y_AXES = 'yAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const ENTRY_CELLS = 'entryCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const INITIALIZED = 'initialized';\n/**\n * Field referring to object storing the transforms\n */\nexport const EXIT_CELLS = 'exitCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const AXIS = 'axis';\n/**\n * Field referring to object storing the transforms\n */\nexport const UNIT = 'unit';\n/**\n * Field referring to object storing the transforms\n */\nexport const UPDATED = 'updated';\n/**\n * Field referring to object storing the transforms\n */\nexport const BEFORE_UPDATE = 'beforeupdate';\n/**\n * Field referring to object storing the transforms\n */\nexport const VALUE_MATRIX = 'valueMatrix';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET_HEADERS = 'facet-headers';\n/**\n * Field referring to object storing the transforms\n */\nexport const RADIUS = 'radius';\n/**\n * Field referring to object storing the transforms\n */\nexport const ANGLE = 'angle';\n\nexport const ANGLE0 = 'angle0';\n/**\n * Field referring to object storing the transforms\n */\nexport const ARC = 'arc';\n/**\n * Field referring to object storing the transforms\n */\nexport const CATEGORICAL = 'categorical';\n/**\n * Field referring to object storing the transforms\n */\nexport const TEMPORAL = 'temporal';\n/**\n * Field referring to object storing the transforms\n */\nexport const BAR = 'bar';\n/**\n * Field referring to object storing the transforms\n */\nexport const LINE = 'line';\n/**\n * Field referring to object storing the transforms\n */\nexport const POINT = 'point';\n/**\n * Field referring to object storing the transforms\n */\nexport const PRIMARY = 'Primary';\n/**\n * Field referring to object storing the transforms\n */\nexport const SECONDARY = 'Secondary';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTH = 'both';\n/**\n * Field referring to object storing the transforms\n */\nexport const INTERACTION = 'interaction';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_LINES = 'gridLines';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_BANDS = 'gridBands';\n/**\n * Field referring to object storing the transforms\n */\nexport const HEADER = 'header';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET = 'facet';\n/**\n * Ordering type\n */\nexport const ASCENDING = 'asc';\n/**\n * Ordering type\n */\nexport const DESCENDING = 'desc';\n","/**\n * This file exports variables that are used as defaults for the crosstab group.\n */\nexport const DATA_UPDATE_COUNTER = 0;\n\nexport const DEFAULT_LAYER_TYPE = 'cartesian';\n\n","import { ContinousAxis, BandAxis, TimeAxis, ColorAxis, SizeAxis, ShapeAxis } from '@chartshq/muze-axis';\n\nexport const scaleMaps = {\n    linear: ContinousAxis,\n    band: BandAxis,\n    temporal: TimeAxis,\n    size: SizeAxis,\n    color: ColorAxis,\n    shape: ShapeAxis\n};\n","import { AxisOrientation } from '@chartshq/muze-axis';\nimport {\n    getObjProp,\n    FieldType,\n    retrieveNearestGroupByReducers,\n    mergeRecursive,\n    createSelection,\n    DataModel\n} from 'muze-utils';\nimport { getMatrixModel } from './matrix-model';\nimport {\n    getCellKey,\n    isDistributionEqual,\n    mutateAxesFromMap,\n    getFieldsFromSuppliedLayers,\n    extractFields,\n    removeExitCells\n} from './group-utils';\nimport { ROW, ROWS, COLUMNS, COL, LEFT, RIGHT, TOP,\n    BOTTOM, PRIMARY, SECONDARY, X, Y, TEMPORAL } from '../enums/constants';\nimport { SimpleVariable } from '../variable';\n\n/**\n * Updates row and column cells with the geom cell corresponding to the facet keys\n *\n * @param {*} resolver\n * @param {*} facets\n */\nconst updateCells = (resolver, facets, geomCell) => {\n    [ROW, COL].forEach((field) => {\n        const cells = resolver[`${field}Cells`]();\n        const facetKey = facets[`${field}Facets`][1].join();\n\n        !cells[facetKey] && (cells[facetKey] = []);\n        cells[facetKey].push(geomCell);\n        resolver[`${field}Cells`](cells);\n    });\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} datamodel\n * @param {*} fieldInfo\n * @param {*} facets\n *\n */\nexport const createValueCells = (context, datamodel, fieldInfo, facets) => {\n    const {\n        projections,\n        indices\n    } = fieldInfo;\n    const {\n        rowFields,\n        columnFields\n    } = projections;\n    const {\n         rowIndex,\n         columnIndex\n    } = indices;\n    const {\n        suppliedLayers,\n        cell: GeomCell,\n        resolver,\n        config,\n        encoder,\n        detailFields\n    } = context;\n    const axes = resolver.axes();\n    const cacheMaps = resolver.cacheMaps();\n    const matrixLayers = resolver.matrixLayers();\n    const labelManager = resolver.dependencies().smartlabel;\n    const horizontalAxis = resolver.horizontalAxis();\n    const verticalAxis = resolver.verticalAxis();\n    const datamodelTransform = resolver.datamodelTransform();\n    const sortedFields = config.sort;\n    const {\n        entryCellMap,\n        exitCellMap\n    } = cacheMaps;\n    const layerConfigArr = encoder.getLayerConfig({ columnFields, rowFields }, suppliedLayers || [],\n        context.retinalConfig);\n    const axesCreators = { config, labelManager, axes, cacheMaps };\n\n    fieldInfo.normalizedColumns = verticalAxis.fields;\n    fieldInfo.normalizedRows = horizontalAxis.fields;\n\n    const allFacets = [\n        [...facets.rowFacets[0], ...facets.colFacets[0]],\n        [...facets.rowFacets[1], ...facets.colFacets[1]]\n    ];\n    const facetFields = allFacets.slice();\n    facetFields[0] = facetFields[0].map(facetField => facetField.oneVar());\n\n    matrixLayers[rowIndex] = matrixLayers[rowIndex] ? matrixLayers[rowIndex] : [];\n    matrixLayers[rowIndex][columnIndex] = layerConfigArr;\n\n    // return from map if already there otherwise create and put in map\n    const geomCellKey = getCellKey(rowIndex, columnIndex);\n    const fields = {\n        y: rowFields,\n        x: columnFields\n    };\n\n    const geomCell = !exitCellMap.has(geomCellKey) ? new GeomCell() : exitCellMap.get(geomCellKey);\n\n    // Sort datamodel if user has sorted a field\n    const sortConfig = Object.keys(sortedFields).map(field => [field, sortedFields[field]]);\n    if (sortConfig.length) {\n        datamodel = datamodel.sort(sortConfig, { saveChild: true });\n    }\n\n    geomCell.data(datamodel)\n                    .fields(fields)\n                    .transform(datamodelTransform)\n                    .detailFields(detailFields)\n                    .facetByFields(allFacets);\n\n    encoder.createAxis(axesCreators, fieldInfo, Object.assign({}, context, { geomCell, facetFields }));\n    entryCellMap.set(geomCellKey, geomCell);\n    exitCellMap.delete(geomCellKey);\n\n    updateCells(resolver, facets, geomCell);\n\n    return entryCellMap.get(geomCellKey);\n};\n\nconst extractAxisIndex = id => getObjProp(id.match(/^[0-9]*?(?=-)/g), 0);\n\n/**\n * Creates axis cells based on the set of axes\n *\n * @param {Selection} selection Contains a selection of the axis units\n * @param {Array} axes Actual axis units\n * @param {number} axisIndex 0-> primary axis, 1-> secondary axis(when dual axis is made)\n * @param {Object} cells Contains a collection of the cells\n * @return {Object} return either set of axis/blank cells depending on the config\n */\nconst createAxisCells = (selection, axes, axisIndex, cells) =>\n    createSelection(selection, axis => axis, axes, (item, i) => i + item.reduce((e, n) => {\n        const id = n.id + axisIndex;\n        return `${e}-${id}`;\n    }, '')).map((currObj, axis) => {\n        if (axis && axis[axisIndex]) {\n            const axisInst = axis[axisIndex];\n            const { orientation, show } = axisInst.config();\n\n            return new cells.AxisCell().source(axisInst).config({\n                isOffset: orientation === AxisOrientation.LEFT || orientation === AxisOrientation.TOP,\n                show\n            });\n        }\n        return new cells.BlankCell().config({ show: false });\n    }).sort((a, b) => extractAxisIndex(a[0]) - extractAxisIndex(b[0]));\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @retur\n */\nconst axisPlaceholderGn = (context, selObj, cells) => {\n    const {\n        matrices\n    } = context;\n    const {\n        axesMatrix\n    } = matrices;\n\n    return (type, axisFrom) => {\n        const axes = axesMatrix[`${type}`];\n\n        if (axes && axes.length) {\n            if (type === X || type === Y) {\n                const fieldNames = type === Y ? ROWS : COLUMNS;\n\n                [PRIMARY, SECONDARY].forEach((fieldType, index) => {\n                    const selObjProp = `${fieldNames}${fieldType}`;\n                    let axisIndex = index;\n                    let axesForDraw = axes;\n                    if (axisFrom === RIGHT || axisFrom === BOTTOM) {\n                        axisIndex = 1 - axisIndex;\n                    }\n                    if (!getObjProp(axes, 0, axisIndex)) {\n                        axesForDraw = [];\n                    }\n                    selObj[selObjProp] = createAxisCells(selObj[selObjProp], axesForDraw, axisIndex, cells);\n                });\n            } else {\n                selObj.rowsPrimary = createAxisCells(selObj.rowPrime, axes.map(() => []), 0, cells);\n                selObj.rowsSecondary = createAxisCells(selObj.rowSec, axes.map(() => []), 0, cells);\n                selObj.columnsPrimary = createAxisCells(selObj.colPrime, axes[0], 0, cells);\n                selObj.columnsSecondary = createAxisCells(selObj.colSec, axes[0], 0, cells);\n            }\n        }\n        return selObj;\n    };\n};\n\n/**\n * Creates header cells based on the set of headers\n *\n * @param {Object} selection Contains a selection of the header units\n * @param {string} headers Contains a list of the headers\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} return either set of header cells depending on the config\n */\nconst createTextCells = (selection, headers, cells, labelManager) => createSelection(selection,\n        (label) => {\n            const textCell = new cells.TextCell({}, { labelManager });\n            textCell.source(label);\n            return textCell;\n        }, headers, (key, i) => key + i);\n\nconst extractFacetIndex = id => id.split('-').pop();\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @param {*} labelManager\n *\n */\nconst headerPlaceholderGn = (context, selectionObj, cells, labelManager) => {\n    const {\n        axis,\n        keys,\n        type,\n        facet\n    } = context;\n    const counter = axis.length / keys.length;\n    const selectionKeys = keys.length ? axis.map((d, i) => keys[Math.floor(i / counter)]) : [];\n\n    const selObjUpdater = createSelection(selectionObj[`${type}Headers`], keySet => keySet, selectionKeys,\n    (keySet, i) => `${keySet.join(',')}-${i}`)\n        .sort((a, b) => extractFacetIndex(a[0]) - extractFacetIndex(b[0]));\n\n    return selObjUpdater.map((keySet, data) => {\n        let textCells = createTextCells(null, data, cells, labelManager);\n        textCells = textCells.map((cell, k) => cell.source(k).config(facet));\n        return textCells;\n    });\n};\n\n/**\n * Creates a set of placeholders as a part of selection object\n *\n * @param {Array} normalizedOptions contains normalized rows and columns\n * @param {Array} matrices contains axis and value matrices\n * @param {aArrayny} projections contains set of row and column projections\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} Creates a set of placeholders as a part of selections\n */\nconst generatePlaceholders = (context, cells, labelManager) => {\n    let selectionObj;\n    const {\n        matrices,\n        fields,\n        facetsAndProjections,\n        selection,\n        facet,\n        encoders,\n        resolver\n    } = context;\n    const {\n        rows,\n        columns\n    } = fields;\n    const {\n        valuesMatrix\n    } = matrices;\n    const {\n        rowProjections,\n        colProjections\n    } = facetsAndProjections;\n    const {\n        rowKeys,\n        columnKeys\n    } = valuesMatrix;\n    const takeAxisFrom = encoders.simpleEncoder._axisFrom;\n    const takeHeaderFrom = encoders.simpleEncoder._headerFrom;\n\n    selectionObj = selection || {};\n\n    ['pie', X, Y].forEach((axis) => {\n        const axisFrom = axis === X ? takeAxisFrom.column : takeAxisFrom.row;\n        selectionObj = axisPlaceholderGn(context, selectionObj, cells)(axis, axisFrom);\n    });\n\n    const {\n        rowsPrimary,\n        rowsSecondary,\n        columnsPrimary,\n        columnsSecondary\n    } = selectionObj;\n\n    const rowAxis = rowsPrimary && rowsPrimary.getObjects().length ? rowsPrimary.getObjects() :\n        (rowsSecondary && rowsSecondary.getObjects().length ? rowsSecondary.getObjects() : []);\n    const colAxis = columnsPrimary && columnsPrimary.getObjects().length ? columnsPrimary.getObjects() :\n        (columnsSecondary && columnsSecondary.getObjects().length ? columnsSecondary.getObjects() : []);\n\n    const headerConfig = [\n        { type: LEFT, section: rows[0], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: RIGHT, section: rows[1], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: TOP, section: columns[0], axis: colAxis, headerFrom: takeHeaderFrom.column },\n        { type: BOTTOM, section: columns[1], axis: colAxis, headerFrom: takeHeaderFrom.column }\n    ];\n\n    headerConfig.forEach((config, index) => {\n        let keys;\n        let length;\n        const {\n            type,\n            section,\n            axis,\n            headerFrom\n        } = config;\n\n        if (index < 2) {\n            keys = rowKeys;\n            length = rowProjections.length > 0 ? rowProjections.length : 1;\n        } else {\n            keys = columnKeys;\n            length = colProjections.length > 0 ? colProjections.length : 1;\n        }\n        keys = keys.map(arr => arr.map(val => resolver.valueParser()(val)));\n        if (section.length && headerFrom === type && axis && keys.length) {\n            const hContext = { axis, length, type };\n            let headers = [];\n            if (index < 2) {\n                hContext.keys = keys;\n                hContext.facet = facet.rows;\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            } else {\n                hContext.facet = facet.columns;\n                hContext.keys = keys[0].map((key, i) => keys.map(e => e[i]));\n\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            }\n            selectionObj[`${type}Headers`] = headers;\n        } else {\n            selectionObj[`${type}Headers`] = null;\n        }\n    });\n    return selectionObj;\n};\n\n/**\n * Generates matrices\n *\n * @param {Object} config Configuration to generate matrices\n * @param {Array} matrices Matrices containing the set of visual units and axes units\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} contains a collection of matrices\n */\nexport const generateMatrices = (context, matrices, cells, labelManager) => {\n    const {\n        unitHeight,\n        unitWidth,\n        facetsAndProjections,\n        normalizedRows,\n        normalizedColumns,\n        selection,\n        axisFrom,\n        facet,\n        encoders,\n        resolver\n     } = context;\n    const placeholderContext = {\n        fields: {\n            rows: normalizedRows,\n            columns: normalizedColumns\n        },\n        matrices,\n        facetsAndProjections,\n        selection,\n        axisFrom,\n        facet,\n        encoders,\n        resolver\n    };\n    // Generate placeholders for all matrices\n    const selectionObj = generatePlaceholders(placeholderContext, cells, labelManager);\n    const {\n        columnsPrimary,\n        columnsSecondary,\n        rowsPrimary,\n        rowsSecondary,\n        leftHeaders,\n        topHeaders,\n        bottomHeaders,\n        rightHeaders\n    } = selectionObj;\n    const [rowPrime, rowSec, colPrime, colSec] = [rowsPrimary, rowsSecondary, columnsPrimary, columnsSecondary]\n        .map(d => (d ? d.getObjects() : []));\n    const [leftFacets, rightFacets] = [leftHeaders, rightHeaders]\n        .map(e => (e ? e.getObjects()\n                        .map(f => f.getObjects()) : []));\n    let rowPriority = rowSec.length ? 1 : -1;\n    rowPrime.length && rowPriority++;\n    let colPriority = colSec.length ? 1 : -1;\n    colPrime.length && colPriority++;\n\n    // Compute left matrix using left headers and the axes on the rows\n    let leftMatrix = leftFacets.length ? leftFacets.map((d, i) => {\n        rowPrime[i] = rowPrime[i] ? [rowPrime[i]] : [];\n        return [...d, ...rowPrime[i]];\n    }) : (rowPrime ? rowPrime.map(d => [d]) : []);\n\n    // Compute right matrix using right headers and the axes on the rows\n    const rightMatrix = rowSec.length ? rowSec.map((d, i) => [d, ...(rightFacets[i] || [])]) : (rightFacets.length ?\n        rightFacets.map(d => [...d]) : []);\n\n    const topMatrix = [];\n    if (topHeaders) {\n        const headers = topHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                topMatrix[i] = topMatrix[i] || [];\n                topMatrix[i].push(x);\n            });\n        });\n    }\n    // Compute top matrix using the top headers and axes on the columns\n    if (colPrime.length) {\n        topMatrix.push(colPrime);\n    }\n\n    // Bottom and right matrices are prepared using the user config.\n    let bottomMatrix = [];\n    if (colSec.length) {\n        bottomMatrix.push(colSec);\n    }\n    const currentBottomLength = bottomMatrix.length;\n    if (bottomHeaders) {\n        const headers = bottomHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                bottomMatrix[i + currentBottomLength] = bottomMatrix[i + currentBottomLength] || [];\n                bottomMatrix[i + currentBottomLength].push(x);\n            });\n        });\n    }\n\n    if (!leftMatrix.length && !rightMatrix.length) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        leftMatrix = [[cell]];\n    }\n\n    if (!topMatrix.length && (!bottomMatrix.length || !bottomMatrix[0].length)) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        bottomMatrix = [[cell]];\n    }\n\n    return {\n        rows: [leftMatrix, rightMatrix],\n        columns: [topMatrix, bottomMatrix],\n        selectionObj,\n        colPriority,\n        rowPriority\n    };\n};\n\nconst getAxisFields = (projections, fieldHolder = []) =>\n                            projections.reduce((acc, item) =>\n                                [...acc, ...item.reduce((ac, field) =>\n                                   (field instanceof SimpleVariable ? [...ac, field.oneVar()] : ac), [])], fieldHolder);\n\nconst sortDmTemporalFields = (resolver, datamodel) => {\n    let axisFields = [];\n    const projections = resolver.projections();\n    axisFields = getAxisFields(projections.rowProjections, getAxisFields(projections.colProjections));\n\n    const fieldConfig = datamodel.getFieldsConfig();\n    const temporalFields = axisFields.reduce((acc, field) =>\n        ((fieldConfig[field].def.subtype === TEMPORAL) ? [...acc, [field]] : acc), []);\n    return temporalFields.length ? datamodel.sort(temporalFields, { saveChild: true }) : datamodel;\n};\n\nconst transformDataModel = (dataModel, config, resolver) => {\n    let groupedModel;\n\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const resolvedData = resolver.data();\n    const { groupBy, suppliedLayers, facetsAndProjections } = config;\n\n    if (resolvedData instanceof DataModel) {\n        resolvedData.dispose();\n    }\n\n    groupedModel = dataModel.project(dataModel.getSchema().map(d => d.name));\n    resolver.data(groupedModel);\n    if (!groupBy.disabled) {\n        const newFieldsConfig = groupedModel.getFieldsConfig();\n        const fields = getFieldsFromSuppliedLayers(suppliedLayers).filter(field =>\n            getObjProp(newFieldsConfig, field, 'def', 'type') === FieldType.DIMENSION);\n        const allFields = extractFields(facetsAndProjections, fields);\n        const dimensions = allFields.filter(field =>\n            getObjProp(fieldsConfig, field, 'def', 'type') === FieldType.DIMENSION);\n        const aggregationFns = groupBy.measures;\n        const measureNames = Object.keys(groupedModel.getFieldspace().getMeasure());\n        const nearestAggFns = retrieveNearestGroupByReducers(groupedModel, ...measureNames);\n        const resolvedAggFns = mergeRecursive(nearestAggFns, aggregationFns);\n\n        groupedModel = groupedModel.groupBy(dimensions.length ? dimensions : [''], resolvedAggFns)\n                                            .project(allFields);\n    }\n    // sort temporal fields if any in the given rows and columns\n    groupedModel = sortDmTemporalFields(resolver, groupedModel);\n    resolver.transformedData(groupedModel);\n    return groupedModel;\n};\n\n/**\n * Computes matrices for a group\n *\n * @param {Object} datamodel on which the matrices are to be computed\n * @param {Object} config configuration of the matrices\n * @param {Object} layerRegistry contains the registered layers\n * @return {Object} conputed matrices\n * @memberof MatrixResolver\n */\nexport const computeMatrices = (context, config) => {\n    const {\n        resolver,\n        datamodel,\n        componentRegistry,\n        encoders\n    } = context;\n    const {\n            globalConfig,\n            selection,\n            transform\n        } = config;\n    const groupBy = globalConfig.autoGroupBy;\n    const { smartlabel: labelManager } = resolver.dependencies();\n    const fieldMap = datamodel.getFieldsConfig();\n    const layerConfig = resolver.layerConfig();\n    const registry = resolver.registry();\n    const { fields: normalizedRows } = resolver.horizontalAxis();\n    const { fields: normalizedColumns } = resolver.verticalAxis();\n    const otherEncodings = resolver.optionalProjections(config, layerConfig, datamodel.getSchema());\n    const facetsAndProjections = resolver.getAllFields();\n    const matrixGnContext = {\n        // Configuration to be passed to generate the  different matrices.\n        // A common config is used for both value matrices and other matrices\n        normalizedColumns,\n        normalizedRows,\n        facetsAndProjections,\n        layers: layerConfig,\n        fieldMap,\n        otherEncodings,\n        encoders,\n        facet: globalConfig.facet || {},\n        axisFrom: globalConfig.axisFrom || {},\n        selection,\n        resolver\n    };\n    const cells = {\n        GeomCell: resolver.getCellDef(registry.cells.GeomCell),\n        AxisCell: resolver.getCellDef(registry.cells.AxisCell),\n        BlankCell: resolver.getCellDef(registry.cells.BlankCell),\n        TextCell: resolver.getCellDef(registry.cells.TextCell)\n    };\n    const isRowSizeEqual = isDistributionEqual(normalizedRows);\n    const isColumnSizeEqual = isDistributionEqual(normalizedColumns);\n\n    resolver.colCells({});\n    resolver.rowCells({});\n    resolver.datamodelTransform(transform || {});\n\n    // Cell creation begins here\n    resolver.resetSimpleAxes();\n\n    const {\n        entryCellMap\n    } = resolver.cacheMaps();\n    const newCacheMap = {\n        exitCellMap: entryCellMap,\n        entryCellMap: new Map()\n    };\n\n    resolver.cacheMaps(newCacheMap);\n    const { simpleEncoder } = encoders;\n    const valueCellContext = {\n        config: globalConfig,\n        suppliedLayers: simpleEncoder.serializeLayerConfig(resolver.layerConfig()),\n        resolver,\n        cell: cells.GeomCell,\n        encoder: simpleEncoder,\n        newCacheMap,\n        detailFields: config.detail,\n        retinalConfig: {\n            color: config.color,\n            size: config.size,\n            shape: config.shape\n        }\n    };\n\n    const groupedModel = transformDataModel(datamodel, {\n        facetsAndProjections,\n        suppliedLayers: valueCellContext.suppliedLayers,\n        groupBy\n    }, resolver);\n    simpleEncoder.data(groupedModel);\n    // return a callback function to create the cells from the matrix\n    const cellCreator = resolver.valueCellsCreator(valueCellContext);\n    // Creates value matrices from the datamodel and configs\n    const valueMatrixInfo = getMatrixModel(groupedModel, facetsAndProjections, cellCreator, globalConfig);\n\n    removeExitCells(resolver);\n    resolver.cacheMaps().exitCellMap.clear();\n    resolver.valueMatrix(valueMatrixInfo.matrix);\n\n    const { xAxes, yAxes } = mutateAxesFromMap(resolver.cacheMaps(), resolver.axes());\n\n    resolver.axes({\n        x: xAxes,\n        y: yAxes\n    });\n\n    resolver.createUnits(componentRegistry, config);\n\n    const matrices = {\n        valuesMatrix: valueMatrixInfo,\n        axesMatrix: resolver.axes()\n    };\n    // Create all matrices\n    const {\n        rows,\n        columns,\n        selectionObj,\n        rowPriority,\n        colPriority\n    } = generateMatrices(matrixGnContext, matrices, cells, labelManager);\n\n    resolver.rowMatrix(rows);\n    resolver.columnMatrix(columns);\n\n    return {\n        rows: resolver.rowMatrix(),\n        columns: resolver.columnMatrix(),\n        values: resolver.valueMatrix(),\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority: {\n            row: rowPriority,\n            col: colPriority\n        },\n        selection: selectionObj,\n        dataModels: {\n            groupedModel,\n            parentModel: datamodel\n        }\n    };\n};\n","import { Store, COORD_TYPES, getObjProp, DataModel } from 'muze-utils';\nimport { VisualUnit } from '@chartshq/visual-unit';\nimport { BaseLayer } from '@chartshq/visual-layer';\nimport { DATA_UPDATE_COUNTER } from '../enums/defaults';\nimport { Variable } from '../variable';\nimport { PolarEncoder, CartesianEncoder } from '../encoder';\nimport {\n    DIMENSION,\n    MEASURE,\n    ORDINAL,\n    LINEAR,\n    ROW,\n    COLUMN,\n    COL,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM,\n    COLOR,\n    SIZE,\n    TEMPORAL,\n    SHAPE,\n    INTERACTION,\n    GRID_LINES,\n    GRID_BANDS,\n    HEADER,\n    FACET,\n    X,\n    Y,\n    ARC,\n    RADIUS,\n    ANGLE\n} from '../enums/constants';\n\nconst POLAR = COORD_TYPES.POLAR;\n\n/**\n * Creates an instance of a store which contains the arguments to make the class reactive\n *\n * @return {Object} instance of store\n * @memberof VisualGroup\n */\nexport const initStore = () => new Store({\n    [DATA_UPDATE_COUNTER]: DATA_UPDATE_COUNTER\n});\n\n/**\n *\n *\n * @param {*} arr\n */\nexport const isDistributionEqual = arr => [...arr[0], ...arr[1]].reduce((isEqual, row) => {\n    const rowType = row.type();\n\n    if (rowType === MEASURE || rowType === TEMPORAL) {\n        isEqual = true;\n    }\n    return isEqual;\n}, false);\n\n/**\n *\n *\n */\nexport const initializeCacheMaps = () => ({\n    cellMap: new Map(),\n    xAxesMap: new Map(),\n    yAxesMap: new Map(),\n    entryCellMap: new Map(),\n    exitCellMap: new Map()\n});\n\n/**\n *\n *\n * @param {*} axisName\n * @param {*} id\n */\nexport const getAxisKey = (axisName, ...params) => `${axisName}-axis-${params.join('-')}`;\n\n/**\n *\n *\n * @param {*} rowId\n * @param {*} columnId\n */\nexport const getCellKey = (rowId, columnId) => `cell-${rowId}-${columnId}`;\n\n/**\n *\n *\n * @param {*} config\n *\n */\nexport const extractUnitConfig = (config) => {\n    const unitConfig = {};\n    const attrNames = [INTERACTION, GRID_LINES, GRID_BANDS];\n\n    attrNames.forEach((attr) => {\n        if (config[attr] !== undefined) {\n            unitConfig[attr] = config[attr];\n        }\n    });\n    return unitConfig;\n};\n\n/**\n *\n *\n * @param {*} headers\n * @param {*} index\n * @param {*} rowLength\n *\n * @memberof MatrixResolver\n */\nexport const getHeaderText = (headers, index, rowLength) => {\n    let header = '';\n\n    if (index === rowLength - 1 && headers.length > rowLength) {\n        for (let i = index; i < headers.length - 1; i++) {\n            header += `${headers[i].toString()} / `;\n        }\n        header += headers[headers.length - 1].toString();\n        return header;\n    } else if (headers[index]) {\n        return headers[index].toString();\n    }\n    return '';\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} fieldHeaders\n * @param {*} TextCell\n * @param {*} labelManager\n *\n */\nexport const headerCreator = (fields, fieldHeaders, TextCell, { classPrefix, labelManager }) => {\n    const headers = fields.length > 0 ? fields[0].map((cell, i) => new TextCell({\n        type: HEADER,\n        className: `${classPrefix}-grid-headers`\n    }, {\n        labelManager\n    }).source(getHeaderText(fieldHeaders, i, fields[0].length))\n                    .config({ show: cell.config().show })) : [];\n    return headers;\n};\n\n/**\n *\n *\n * @param {*} variable\n * @param {*} allFields\n *\n */\nexport const findInGroup = (variable, allFields) => {\n    let channel = null;\n\n    [COLOR, SIZE, SHAPE].forEach((e) => {\n        if (this.store.get(e) && variable === this.store.get(e)[0]) {\n            channel = e;\n        }\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    [ROW, COL].forEach((facetType) => {\n        allFields[`${facetType}Facets`].forEach((e) => {\n            if (e.toString() === variable) {\n                channel = { channel: FACET, type: facetType === COL ? COLUMN : ROW };\n            }\n        });\n    });\n\n    if (channel) {\n        return channel;\n    }\n\n    [ROW, COL].forEach((projType) => {\n        allFields[`${projType}Projections`].forEach((e) => {\n            e.forEach((m) => {\n                if (m.toString() === variable) {\n                    channel = projType === COL ? X : Y;\n                }\n            });\n        });\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    return null;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} field\n */\nexport const getAxisType = (fieldsConfig, field) => {\n    let fieldType = ORDINAL;\n\n    if (field && fieldsConfig[field].def.type !== DIMENSION) {\n        fieldType = LINEAR;\n    }\n    return fieldType;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} fieldName\n *\n */\nexport const retriveDomainFromData = (datamodel, fieldName) => {\n    const field = datamodel.getFieldspace().fields.find(d => d.name() === fieldName.toString());\n    return field.domain();\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    let xAxes = null;\n    let yAxes = null;\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n\n    xAxisSet && xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes = xAxes || [];\n        xAxes.push(xAxis);\n    });\n\n    yAxisSet && yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes = yAxes || [];\n        yAxes.push(yAxis);\n    });\n\n    return {\n        xAxes, yAxes\n    };\n};\n\nconst hasPolarEncodings = layerConf => layerConf.mark === ARC || [RADIUS, ANGLE].some(field =>\n        getObjProp(layerConf.encoding, field));\n\n/**\n *\n *\n * @param {*} layers\n *\n */\nexport const getEncoder = (layers) => {\n    let encoder = new CartesianEncoder();\n\n    if (layers.length) {\n        // Figuring out the kind of layers the group will have\n        encoder = layers.some(layerConf => hasPolarEncodings(layerConf)) ? new PolarEncoder() : encoder;\n    }\n    return encoder;\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} userAxisFromConfig\n *\n */\nexport const getHeaderAxisFrom = (type, fields, userAxisFromConfig) => {\n    let axisFrom = userAxisFromConfig[type];\n    let headerFrom = '';\n    const options = type === ROW ? [LEFT, RIGHT] : [BOTTOM, TOP];\n    const [firstField, secondField] = fields;\n    const firstFieldType = i => (firstField.length ? firstField[i].type() : null);\n    const secondFieldType = i => (secondField.length ? secondField[i].type() : null);\n\n    if (firstFieldType(firstField.length - 1) === DIMENSION && secondFieldType(0) === DIMENSION) {\n        headerFrom = axisFrom ? options[1 - options.indexOf(axisFrom)] : options[1];\n\n        if (type === COLUMN && (firstField[firstField.length - 1].toString() === secondField[0].toString())) {\n            axisFrom = TOP;\n        } else {\n            axisFrom = axisFrom || options[0];\n        }\n    } else if (secondFieldType(secondField.length - 1) === DIMENSION) {\n        headerFrom = type === ROW ? RIGHT : BOTTOM;\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else {\n        headerFrom = type === ROW ? LEFT : TOP;\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    if (firstFieldType(firstField.length - 1) === MEASURE && secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    } else if (secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else if (firstFieldType(firstField.length - 1) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    return [headerFrom, axisFrom];\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} layers\n *\n * @memberof MatrixResolver\n */\nexport const setFacetsAndProjections = (context, fieldInfo, encoder) => {\n    const {\n        fields,\n        type\n    } = fieldInfo;\n    const { facets, projections } = encoder.simpleEncoder.getFacetsAndProjections(fields, type);\n\n    context.facets({ [`${type}Facets`]: facets });\n    context.projections({ [`${type}Projections`]: projections });\n\n    return { facets, projections, fields };\n};\n\nconst getRowBorders = (left, right) => {\n    const borders = {};\n    borders.top = false;\n    borders.bottom = false;\n    if (left.length > 1 || right.length > 1) {\n        borders.top = true;\n        borders.bottom = true;\n    }\n    return borders;\n};\n\nconst getColumnsBorders = (top, bottom) => {\n    const borders = {};\n    borders.left = false;\n    borders.right = false;\n    if (top.length || bottom.length) {\n        if ((top[0] && top[0].length > 1) || (bottom[0] && bottom[0].length > 1)) {\n            borders.left = true;\n            borders.right = true;\n        }\n    }\n    return borders;\n};\n\nconst getValueBorders = (rows, columns) => {\n    const borders = { top: true, left: true, bottom: true, right: true };\n    const borderTypeRow = [LEFT, RIGHT];\n    const borderTypeCol = [TOP, BOTTOM];\n    rows.forEach((e, i) => {\n        if (e[0] && e[0].length) {\n            borders[borderTypeRow[i]] = true;\n        } else {\n            borders[borderTypeRow[i]] = false;\n        }\n    });\n    columns.forEach((e, i) => {\n        if (e.length) {\n            borders[borderTypeCol[i]] = true;\n        } else {\n            borders[borderTypeCol[i]] = false;\n        }\n    });\n\n    return borders;\n};\n\nexport const getBorders = (matrices, encoder) => {\n    let showRowBorders = { top: false, bottom: false };\n    let showColBorders = { left: false, right: false };\n    let showValueBorders = { top: false, bottom: false, left: false, right: false };\n    const {\n        rows,\n        columns,\n        values: valueMatrix\n    } = matrices;\n    const [leftRows, rightRows] = rows;\n    const [topColumns, bottomColumns] = columns;\n    const {\n        rowDimensions,\n        columnDimensions,\n        rowTemporalFields,\n        columnTemporalFields,\n        columnMeasures,\n        rowMeasures\n    } = encoder.fieldInfo();\n    const allDimensionLength = rowDimensions.length + columnDimensions.length;\n    const allMeasuresLength = rowMeasures.length + columnMeasures.length;\n    const allTemporalFieldsLength = rowTemporalFields.length + columnTemporalFields.length;\n\n    if (encoder.constructor.type() === POLAR) {\n        if (!allDimensionLength) {\n            return { showRowBorders, showColBorders, showValueBorders };\n        }\n    } else if (!allMeasuresLength && !allTemporalFieldsLength && allDimensionLength <= 2) {\n        return { showRowBorders, showColBorders, showValueBorders };\n    }\n\n    showRowBorders = getRowBorders(leftRows, rightRows);\n    showColBorders = getColumnsBorders(topColumns, bottomColumns);\n    showValueBorders = getValueBorders([leftRows, rightRows], [topColumns, bottomColumns]);\n\n    if (valueMatrix.length > 1) {\n        showValueBorders.top = true;\n        showValueBorders.bottom = true;\n    }\n    if (valueMatrix.length && valueMatrix[0].length > 1) {\n        showValueBorders.left = true;\n        showValueBorders.right = true;\n    }\n    return { showRowBorders, showColBorders, showValueBorders };\n};\n\nexport const getFieldsFromSuppliedLayers = (suppliedLayerConfig) => {\n    const encodingArr = suppliedLayerConfig.map(conf => (conf.encoding || {}));\n    const fields = [].concat(...encodingArr.map(enc => Object.values(enc).map(d => (typeof d === 'object' ?\n        d.field : d))));\n    return [...new Set(fields.filter(d => d))];\n};\n\nexport const extractFields = (facetsAndProjections, layerFields) => {\n    const fields = Object.values(facetsAndProjections).map((arr) => {\n        const flattenArray = [].concat(...arr);\n        return [].concat(...flattenArray.map((field) => {\n            if (field instanceof Variable) {\n                return field.getMembers();\n            }\n            return field;\n        }));\n    });\n    return [].concat(...fields, ...layerFields);\n};\n\n/**\n * This method sorts the facets fields inplace if field is of categorical type\n * @param {Object} facets Array of facets\n * @param {Array} keys Array of the facet field values\n * @param {Object} config configuration object\n * @return {Array} Returns sorted facets\n */\nexport const sortFacetFields = (facets, keys, config) => {\n    /**\n     * Check if the facet sorted by the user is plotted\n     * If an incorrect field is sorted, return the keys as is\n     */\n    const schema = [];\n    const facetNames = [];\n    const sortInfo = [];\n    const sortConfig = config.sort;\n\n    facets.forEach((facet) => {\n        const name = `${facet}`;\n        facetNames.push(name);\n\n        const facetSortConfig = sortConfig[name];\n\n        if (facetSortConfig) {\n            sortInfo.push([name, facetSortConfig]);\n        } else {\n            sortInfo.push([name, null]);\n        }\n        schema.push(facet.getSchemaDef());\n    });\n\n    return new DataModel([facetNames, ...keys], schema).getData({ sort: sortInfo }).data;\n};\n\nexport const removeExitCells = (resolver) => {\n    const exitCells = resolver.cacheMaps().exitCellMap;\n    const store = resolver.store();\n    const qualifiedStateProps = [].concat(...VisualUnit.getQualifiedStateProps(),\n        ...BaseLayer.getQualifiedStateProps());\n    store.lockCommits(qualifiedStateProps);\n    exitCells.forEach((placeholder) => {\n        placeholder.remove();\n    });\n    store.unlockCommits(qualifiedStateProps);\n};\n","export {\n    initStore, findInGroup, getEncoder, getAxisType, getAxisKey, retriveDomainFromData, getBorders\n} from './group-utils';\nexport { default as MatrixResolver } from './matrix-resolver';\n","import { DataModel } from 'muze-utils';\nimport { sortFacetFields } from './group-utils';\n\n/**\n* Gets name of fields form the variables\n*\n* @param {*} fields1\n* @param {*} [fields2=[]]\n*\n*/\nconst getFieldNames = fieldVar => fieldVar.reduce((acc, d) => {\n    acc = [...acc, ...d.getMembers()];\n    return acc;\n}, []);\n\n/**\n*\n*\n* @param {*} fieldInfo\n* @returns\n*/\nconst prepareProjectionInfo = (fieldInfo) => {\n    const {\n        colProjections,\n        rowProjections\n    } = fieldInfo;\n    const uniqueFields = [];\n    let indices = [];\n    let projections = [];\n\n    rowProjections.forEach((rowProj, rIndex) => {\n        const newRIndex = rIndex;\n        colProjections.forEach((colProj, cIndex) => {\n            const newCIndex = cIndex;\n            const newRowProj = getFieldNames(rowProj);\n            const newColProj = getFieldNames(colProj);\n\n            uniqueFields.push([...newRowProj, ...newColProj]);\n            indices.push({ rowIndex: newRIndex, colIndex: newCIndex });\n            projections.push({ rowFields: rowProj, columnFields: colProj });\n        });\n    });\n    indices = indices.length ? indices : [{ rowIndex: 0, colIndex: 0 }];\n    projections = projections.length ? projections : [{ rowFields: [], columnFields: [] }];\n    return { uniqueFields, indices, projections };\n};\n\n/**\n*\n*\n* @param {*} fieldInfo\n* @returns\n*/\nconst prepareFacetInfo = (fieldInfo) => {\n    const {\n        rowFacets,\n        colFacets\n    } = fieldInfo;\n\n    const rowFacetNames = getFieldNames(rowFacets);\n    const colFacetNames = getFieldNames(colFacets);\n    const allFacets = [...rowFacetNames, ...colFacetNames];\n\n    return { rowFacetNames, colFacetNames, allFacets, rowFacets, colFacets };\n};\n\n/**\n*\n*\n* @param {*} context\n* @param {*} facetNames\n* @param {*} hashMap\n* @param {*} keys\n* @param {*} index\n* @returns\n*/\nconst prepareHashMaps = (context, facetNames, hashMap, keys, index) => {\n    const rowKey = [];\n    facetNames.forEach((name) => {\n        const key = context._derivation[context._derivation.length - 1].meta.keys[name];\n\n        rowKey.push(key);\n    });\n\n    const joinedRowKey = rowKey.join(',');\n\n    if (hashMap[joinedRowKey] === undefined) {\n        hashMap[joinedRowKey] = index++;\n        keys.push(rowKey);\n    }\n    return rowKey;\n};\n\nconst createJoinedKeys = keys => keys.map(e => ({\n    keyArr: e,\n    joinedKey: e.join(',')\n}));\n\n/**\n*\n*\n* @param {*} splitModels\n* @param {*} facetInfo\n* @returns\n*/\nconst getSplitModelHashMap = (splitModels, facetInfo, config) => {\n    const {\n        rowFacetNames,\n        colFacetNames,\n        rowFacets,\n        colFacets\n    } = facetInfo;\n\n    const rowKeyHashMap = {};\n    const colKeyHashMap = {};\n\n    const rowKeys = [];\n    const colKeys = [];\n    const rowIndex = 0;\n\n    const splitModelsHashMap = {};\n\n    splitModels.forEach((splitContext) => {\n        const rowKey = prepareHashMaps(splitContext, rowFacetNames, rowKeyHashMap, rowKeys, rowIndex);\n        const colKey = prepareHashMaps(splitContext, colFacetNames, colKeyHashMap, colKeys, 1);\n\n        splitModelsHashMap[`${rowKey}-${colKey}`] = splitContext;\n    });\n\n    return {\n        splitModelsHashMap,\n        rowKeys: createJoinedKeys(sortFacetFields(rowFacets, rowKeys, config)),\n        colKeys: createJoinedKeys(sortFacetFields(colFacets, colKeys, config))\n    };\n};\n\n/**\n * Formats row or columns keys with the provided formatter.\n *\n * @param {Array} keys - The collection of row or column keys.\n * @param {Array} formatterList - The list of corresponding formatter.\n */\nconst formatKeys = (keys, formatterList) => {\n    const formattedKeys = [];\n    keys.forEach((rKeys, rIdx) => {\n        formattedKeys[rIdx] = [];\n        rKeys.forEach((key, idx) => {\n            formattedKeys[rIdx][idx] = formatterList[idx](key);\n        });\n    });\n    return formattedKeys;\n};\n\n/**\n*\n*\n* @param {Object} context\n* @param {Object} fieldInfo\n* @returns\n*/\nconst splitByColumn = (context, optionalProjections) => {\n    const {\n        matrix,\n        dataModel,\n        rowIndex,\n        colIndex,\n        facetInfo,\n        projectionInfo,\n        geomCellCreator\n    } = context;\n    const {\n        indices,\n        uniqueFields,\n        projections\n    } = projectionInfo;\n\n    const commonFields = optionalProjections;\n\n    dataModel.splitByColumn(uniqueFields, commonFields).forEach((model, i) => {\n        let { rowIndex: row, colIndex: col } = indices[i];\n        row += rowIndex;\n        col += colIndex;\n\n        matrix[row] = matrix[row] || [];\n\n        const projectionIndexObject = {\n            indices: {\n                rowIndex: row,\n                columnIndex: col\n            },\n            projections: projections[i]\n        };\n\n        matrix[row][col] = geomCellCreator(model, projectionIndexObject, facetInfo);\n    });\n    const lastIndex = indices[indices.length - 1];\n\n    return {\n        rowIndex: lastIndex.rowIndex + rowIndex,\n        colIndex: lastIndex.colIndex + colIndex\n    };\n};\n\nconst createColumnDataModels = (colContext, fieldInfo, sourceDM) => {\n    let context = {};\n    const {\n        rowFacets,\n        colFacets\n    } = fieldInfo;\n    const {\n        rowKeyArr,\n        rowKey,\n        colKeyObj,\n        newRowIndex,\n        splitModelsHashMap,\n        currentColumnIndex\n    } = colContext;\n\n    const { keyArr: colKeyArr, joinedKey: colKey } = colKeyObj;\n    const hashMapKey = splitModelsHashMap[`${rowKey}-${colKey}`];\n\n    if (hashMapKey) {\n        context = { dataModel: hashMapKey };\n    } else {\n        const emptyDm = new DataModel([], sourceDM.getData().schema);\n        context = { dataModel: emptyDm };\n    }\n\n    context = {\n        ...context,\n        ...colContext,\n        facetInfo: {\n            rowFacets: [rowFacets, rowKeyArr],\n            colFacets: [colFacets, colKeyArr]\n        },\n        rowIndex: newRowIndex,\n        colIndex: currentColumnIndex\n    };\n    const dataModels = splitByColumn(context, fieldInfo.optionalProjections);\n\n    return {\n        columnIndex: dataModels.colIndex + 1,\n        rowIndex: dataModels.rowIndex\n    };\n};\n\nconst createRowDataModels = (rowContext, fieldInfo, sourceDM) => {\n    let currentColumnIndex = 0;\n    let rowIndexForCurrentKey = 0;\n    const {\n        colKeys,\n        rowKeyObj,\n        currentRowIndex\n    } = rowContext;\n    const newRowIndex = currentRowIndex;\n    const { keyArr: rowKeyArr, joinedKey: rowKey } = rowKeyObj;\n    const colContext = {\n        ...rowContext,\n        rowKeyArr,\n        rowKey,\n        newRowIndex\n    };\n    rowIndexForCurrentKey = currentRowIndex;\n    if (colKeys.length) {\n        colKeys.forEach((colKeyObj) => {\n            colContext.colKeyObj = colKeyObj;\n            colContext.currentColumnIndex = currentColumnIndex;\n            const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, sourceDM);\n\n            currentColumnIndex = columnIndex;\n            rowIndexForCurrentKey = rowIndex;\n        });\n    } else {\n        colContext.colKeyObj = { keyArr: [], joinedKey: '' };\n        colContext.currentColumnIndex = currentColumnIndex;\n\n        const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, sourceDM);\n\n        currentColumnIndex = columnIndex;\n        rowIndexForCurrentKey = rowIndex;\n    }\n    return {\n        rowIndex: ++rowIndexForCurrentKey\n    };\n};\n\n/**\n* Gets Matrixes for corresponding datamodel, facets and projections\n*\n* @param {Object} dataModel input datamodel\n* @param {Object} fieldInfo Information about the fields\n* @param {Function} geomCellCreator Callback executed after datamodels are prepared after sel/proj\n* @return {Object} set of matrices with the corresponding row and column keys\n*/\nexport const getMatrixModel = (dataModel, fieldInfo, geomCellCreator, globalConfig) => {\n    let currentRowIndex = 0;\n    const matrix = [];\n    const {\n        rowFacets,\n        colFacets\n    } = fieldInfo;\n\n    const projectionInfo = prepareProjectionInfo(fieldInfo);\n    const facetInfo = prepareFacetInfo(fieldInfo);\n    const allSplitModels = dataModel.splitByRow(facetInfo.allFacets);\n\n    const {\n        splitModelsHashMap,\n        rowKeys,\n        colKeys\n    } = getSplitModelHashMap(allSplitModels, facetInfo, globalConfig);\n\n    const generalContext = {\n        matrix,\n        geomCellCreator,\n        projectionInfo,\n        splitModelsHashMap,\n        colKeys\n    };\n    if (rowKeys.length) {\n        rowKeys.forEach((rowKeyObj) => {\n            const rowContext = {\n                ...generalContext,\n                rowKeyObj,\n                currentRowIndex\n            };\n            const { rowIndex } = createRowDataModels(rowContext, fieldInfo, dataModel);\n\n            currentRowIndex = rowIndex;\n        });\n    } else if (colKeys.length) {\n        let currentColumnIndex = 0;\n        const newRowIndex = currentRowIndex;\n\n        colKeys.forEach((colKeyObj) => {\n            const colContext = {\n                ...generalContext,\n                rowKeyArr: [],\n                rowKey: '',\n                colKeyObj,\n                newRowIndex,\n                currentColumnIndex\n            };\n            const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, dataModel);\n            currentRowIndex = rowIndex;\n            currentColumnIndex = columnIndex;\n        });\n    } else {\n        let currentColumnIndex = 0;\n        const newRowIndex = currentRowIndex;\n        const colContext = {\n            ...generalContext,\n            rowKeyArr: [],\n            rowKey: '',\n            colKeyObj: { keyArr: [], joinedKey: '' },\n            newRowIndex,\n            currentColumnIndex\n        };\n        const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, dataModel);\n        currentRowIndex = rowIndex;\n        currentColumnIndex = columnIndex;\n    }\n\n    const formattedColKeys = formatKeys(colKeys.map(e => e.keyArr),\n        colFacets.map(facetField => facetField.rawFormat()));\n    const formattedRowKeys = formatKeys(rowKeys.map(e => e.keyArr),\n        rowFacets.map(facetField => facetField.rawFormat()));\n\n     // Getting column keys\n    const transposedColKeys = formattedColKeys.length > 0 ? formattedColKeys[0].map((col, i) =>\n     formattedColKeys.map(row => row[i])) : formattedColKeys;\n\n    return { matrix, rowKeys: formattedRowKeys, columnKeys: transposedColKeys };\n};\n","import { generateGetterSetters, STATE_NAMESPACES, getUniqueId } from 'muze-utils';\nimport {\n     initializeCacheMaps,\n     headerCreator,\n     extractUnitConfig,\n     setFacetsAndProjections\n} from './group-utils';\nimport {\n     ROW, COL, LEFT, RIGHT, COLOR, SIZE, SHAPE, DETAIL, CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS, INITIALIZED,\n     AXIS, UNIT, BEFORE_UPDATE, UPDATED, VALUE_MATRIX, FACET_HEADERS\n} from '../enums/constants';\nimport { createValueCells, computeMatrices } from './cell-creator';\nimport { RESOLVER_PROPS } from './resolver-props';\n\n/**\n * Resolves the matrices from configuration provided\n *\n * @export\n * @class MatrixResolver\n */\nexport default class MatrixResolver {\n\n    /**\n     * Creates an instance of MatrixResolver.\n     * @param {Object} dependencies needed to run the resolver\n     * @memberof MatrixResolver\n     */\n    constructor (dependencies) {\n        this._registry = {};\n        this._layerConfig = [];\n        this._matrixLayers = [];\n        this._dependencies = dependencies;\n        this._rowMatrix = [];\n        this._columnMatrix = [];\n        this._valueMatrix = [];\n        this._facets = { rowFacets: [], colFacets: [] };\n        this._projections = { rowProjections: [], colProjections: [] };\n        this._datamodelTransform = {};\n        this._units = [];\n        this._cacheMaps = {};\n        this._fireboltDeps = {};\n        this._axes = {\n            x: {},\n            y: {},\n            color: [],\n            size: [],\n            shape: [],\n            radius: [],\n            angle: [],\n            angle0: []\n        };\n        this._placeholderInfo = {};\n        generateGetterSetters(this, this.constructor.getterSetters());\n\n        this.cacheMaps(initializeCacheMaps());\n    }\n\n    static getterSetters () {\n        return RESOLVER_PROPS;\n    }\n    /**\n     * Set:  Registers placeholders, Get: return {Object} those placeholders\n     *\n     * @param {Object} placeholders cells that will construct the group\n     * @return {Object} Either current instance or the set of placeholders\n     * @memberof MatrixResolver\n     */\n    registry (...placeholders) {\n        if (placeholders.length) {\n            Object.entries(placeholders[0]).forEach((val) => {\n                this._registry[val[0]] = val[1];\n            });\n            return this;\n        }\n        return this._registry;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    cacheMaps (...maps) {\n        if (maps.length) {\n            [CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS].forEach((e) => {\n                this._cacheMaps[`${e}Map`] = maps[0][`${e}Map`] || this._cacheMaps[`${e}Map`];\n            });\n            return this;\n        }\n        return this._cacheMaps;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    axes (...axes) {\n        if (axes.length) {\n            this._axes = Object.assign({}, this._axes, axes[0]);\n            return this;\n        }\n        return this._axes;\n    }\n\n    facets (...facets) {\n        if (facets.length) {\n            Object.entries(facets[0]).forEach((e) => {\n                this._facets[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._facets;\n    }\n\n    projections (...projections) {\n        if (projections.length) {\n            Object.entries(projections[0]).forEach((e) => {\n                this._projections[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._projections;\n    }\n\n    optionalProjections (config, layerConfig, schema) {\n        const otherEncodings = {};\n        const optionalProjections = [];\n        const otherEncodingTypes = [SIZE, COLOR, SHAPE];\n\n        otherEncodingTypes.forEach((type) => {\n            if (config[type] && config[type].field) {\n                const enc = config[type];\n                otherEncodings[type] = enc.field;\n                optionalProjections.push(enc.field);\n            }\n        });\n\n        if (config[DETAIL]) {\n            optionalProjections.push(...config.detail);\n        }\n\n        const encoder = this.encoder();\n        optionalProjections.push(...encoder.getProjectionFields(layerConfig, schema));\n        this.projections({ optionalProjections });\n        return otherEncodings;\n    }\n\n    /**\n     * return the normalized set of rows and facets and projections\n     *\n     * @param {Object} rows parameters needed to set horizontal axis consisiting of rows\n     * @return {Object} facets, projections and normalized rows\n     * @memberof MatrixResolver\n     */\n    horizontalAxis (rows, encoder) {\n        if (rows) {\n            this._horizontalAxis = setFacetsAndProjections(this, { type: ROW, fields: rows }, encoder);\n            return this;\n        }\n        return this._horizontalAxis;\n    }\n\n    /**\n     * return the normalized set of columns and facets and projections\n     *\n     * @param {Object} columns parameters needed to set vertical axis consisiting of columns\n     * @return {Object} facets, projections and normalized columns\n     * @memberof MatrixResolver\n     */\n    verticalAxis (columns, encoder) {\n        if (columns) {\n            this._verticalAxis = setFacetsAndProjections(this, { type: COL, fields: columns }, encoder);\n            return this;\n        }\n        return this._verticalAxis;\n    }\n\n    /**\n     * Gets the class definition of a particular cell type(if the particular type has been extended, that particular\n     * definition is returned)\n     *\n     * @param {Object} cell cell whose class definition is to be retrieved\n     * @return {Object} cell definition\n     * @memberof MatrixResolver\n     */\n    getCellDef (cell) {\n        const registry = this.registry().cells;\n\n        Object.values(registry).forEach((e) => {\n            if (e.prototype instanceof cell) {\n                cell = e;\n            }\n        });\n        return cell;\n    }\n\n    /**\n     * return a visual cell creator along with its axis information to be injected to the datamodel creation\n     * function\n     *\n     * @param {Object} GeomCell Type of cell to be created\n     * @return {Object} Created cell\n     * @memberof MatrixResolver\n     */\n    valueCellsCreator (context) {\n        // reset matrix layers\n        this.matrixLayers([]);\n\n        return (datamodel, fieldInfo, facets) => createValueCells(context, datamodel, fieldInfo, facets);\n    }\n\n    /**\n     * Callback to be applied on each cell of a matrix of a particular type\n     *\n     * @param {string} matrixType type of matrix on which callback is to be applied\n     * @param {Function} callback function to be applied to each cell\n     * @memberof MatrixResolver\n     */\n    forEach (matrixType, callback) {\n        this[matrixType]().forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                callback(rIndex, cIndex, col);\n            });\n        });\n    }\n\n    getAllFields () {\n        const retObj = this.projections();\n\n        Object.entries(this.facets()).forEach((e) => {\n            retObj[e[0]] = e[1];\n        });\n        return retObj;\n    }\n\n    resetSimpleAxes () {\n        return this.axes({\n            x: new Set(),\n            y: new Set(),\n            radius: [],\n            angle: [],\n            angle0: [],\n            pie: []\n        });\n    }\n\n    setFireboltDependencies (prop, deps) {\n        Object.assign(this._fireboltDeps, {\n            [prop]: deps\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} componentRegistry\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    createUnits (componentRegistry, config) {\n        const {\n            globalConfig,\n            alias,\n            coord\n        } = config;\n        const {\n            layerRegistry,\n            interactions\n        } = componentRegistry;\n        const {\n            smartlabel: smartLabel,\n            lifeCycleManager,\n            throwback\n        } = this.dependencies();\n        const fireboltDeps = this._fireboltDeps;\n\n        // Provide the source for the matrix\n        const units = [[]];\n        // Setting unit configuration\n        const unitConfig = extractUnitConfig(globalConfig || {});\n        const store = this.store();\n        store.lockModel();\n        const { VisualUnit } = this.registry();\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            let unit = el.source();\n            if (!unit) {\n                const namespace = `unit${i}-${j}-${getUniqueId()}`;\n\n                unit = VisualUnit.create({\n                    layerRegistry,\n                    interactions\n                }, {\n                    smartLabel,\n                    lifeCycleManager,\n                    throwback,\n                    fireboltDeps\n                });\n                unit.metaInf({\n                    rowIndex: i,\n                    colIndex: j,\n                    namespace\n                });\n                unit.store(store);\n                unit.coord(coord);\n                el.source(unit);\n            }\n            !units[i] && (units[i] = []);\n            units[i][j] = unit;\n            unit.parentAlias(alias)\n                .valueParser(this.valueParser())\n                .coord(coord);\n            el.config(unitConfig);\n        });\n        store.unlockModel();\n        lifeCycleManager.notify({ client: units, action: INITIALIZED, formalName: UNIT });\n        return this.units(units);\n    }\n\n    /**\n     *\n     *\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    setRetinalAxisDomain (config, datamodel, encoders) {\n        const {\n            color,\n            shape,\n            size,\n            globalConfig\n        } = config;\n        const groupBy = globalConfig.autoGroupBy;\n        const {\n            rowFacets,\n            colFacets\n        } = this.getAllFields();\n        const encoding = {\n            color,\n            shape,\n            size\n        };\n        const facetFields = [...rowFacets.map(e => e.toString()), ...colFacets.map(e => e.toString())];\n        const retContext = {\n            domains: encoders.simpleEncoder.getRetinalFieldsDomain(datamodel, encoding, facetFields, groupBy),\n            axes: this.getRetinalAxes(),\n            encoding\n        };\n        encoders.retinalEncoder.setCommonDomain(retContext);\n        return this;\n    }\n\n    resetFacetsAndProjections () {\n        this._facets = {};\n        this._projections = {};\n        return this;\n    }\n\n    getRetinalAxes () {\n        const {\n            color,\n            shape,\n            size\n        } = this.axes();\n\n        return {\n            color: [...color],\n            shape: [...shape],\n            size: [...size]\n        };\n    }\n\n    getSimpleAxes (type) {\n        return this.axes()[`${type}`];\n    }\n\n    createRetinalAxes (fieldsConfig, config, encoders) {\n        const retinalAxes = encoders.retinalEncoder.createAxis({\n            fieldsConfig,\n            config,\n            axes: this.axes()\n        });\n\n        this.axes(retinalAxes);\n\n        this.updateVisualUnit(config);\n\n        return this;\n    }\n\n    createHeaders (placeholders, fieldNames, config) {\n        let bottomLeft = [];\n        let bottomRight = [];\n        const {\n            rows,\n            columns\n        } = placeholders;\n        const {\n            smartlabel: labelManager,\n            lifeCycleManager\n        } = this.dependencies();\n        const {\n            showHeaders,\n            classPrefix\n        } = config;\n        const { TextCell, BlankCell } = this.registry().cells;\n        const [leftRows, rightRows] = rows;\n        const [topCols, bottomCols] = columns;\n        const rowHeaders = fieldNames.rows;\n        const blankCellCreator = cell => new BlankCell().config({ show: cell.config().show });\n\n        // Headers and footers are created based on the rows. Thereafter, using the column information\n        // they are tabularized into the current structure\n        const headers = {\n            left: headerCreator(leftRows, rowHeaders[0], showHeaders ? TextCell : BlankCell,\n                { classPrefix, labelManager }),\n            right: headerCreator(rightRows, rowHeaders[1], showHeaders ? TextCell : BlankCell,\n                { classPrefix, labelManager })\n        };\n        const footers = {\n            left: leftRows.length > 0 ? leftRows[0].map(blankCellCreator) : [],\n            right: rightRows.length > 0 ? rightRows[0].map(blankCellCreator) : []\n        };\n        const [topLeft, topRight] = [LEFT, RIGHT].map(type => topCols.map((col, i) => {\n            if (i === topCols.length - 1) {\n                return headers[type];\n            }\n            return footers[type];\n        }));\n\n        // Creating only bottom matrices if there is no information on the top\n        if (topCols.length === 0) {\n            [bottomLeft, bottomRight] = [LEFT, RIGHT].map(type => bottomCols.map((col, i) => {\n                if (i === 0) {\n                    return headers[type];\n                }\n                return footers[type];\n            }));\n        } else {\n            bottomLeft = bottomCols.map(() => (leftRows.length > 0 ? leftRows[0].map(blankCellCreator) : []));\n            bottomRight = bottomCols.map(() => (rightRows.length > 0 ? rightRows[0].map(blankCellCreator) : []));\n        }\n\n        lifeCycleManager.notify({\n            client: [topLeft, topRight, bottomLeft, bottomRight],\n            action: INITIALIZED,\n            formalName: FACET_HEADERS\n        });\n\n        return { topLeft, topRight, bottomLeft, bottomRight };\n    }\n\n    updateVisualUnit (retinalConfig) {\n        const retinalAxes = this.getRetinalAxes();\n\n        const { lifeCycleManager } = this.dependencies();\n        lifeCycleManager.notify({ client: this.axes(), action: INITIALIZED, formalName: AXIS });\n        lifeCycleManager.notify({ client: this.units(), action: BEFORE_UPDATE, formalName: UNIT });\n\n        const units = [];\n        const matrixLayers = this.matrixLayers();\n\n        const props = [`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.domain`,\n            `${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`];\n        const store = this.store();\n        store.lockCommits(props);\n        store.lockModel();\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            el.axes(Object.assign(el.axes(), retinalAxes));\n            el.source() && el.source().retinalFields(retinalConfig);\n            el.layerDef(matrixLayers[i][j]);\n            el.updateModel();\n\n            units.push(el.source());\n        });\n\n        store.unlockModel()\n            .unlockCommits([props[0]])\n            .unlockCommits([props[1]]);\n        lifeCycleManager.notify({ client: units, action: UPDATED, formalName: UNIT });\n        return this;\n    }\n\n    getMatrices (datamodel, config, componentRegistry, encoders) {\n        const context = {\n            datamodel,\n            componentRegistry,\n            encoders,\n            resolver: this\n        };\n\n        this._placeholderInfo = computeMatrices(context, config);\n\n        return this._placeholderInfo;\n    }\n\n    clear () {\n        const cacheMaps = this._cacheMaps;\n\n        for (const key in cacheMaps) {\n            cacheMaps[key].clear();\n        }\n    }\n\n}\n","export const RESOLVER_PROPS = {\n    dependencies: {},\n    units: {},\n    datamodelTransform: {},\n    layerConfig: {},\n    matrixLayers: {},\n    colCells: {},\n    rowCells: {},\n    rowMatrix: {},\n    columnMatrix: {},\n    valueMatrix: {},\n    encoder: {},\n    valueParser: {},\n    data: {},\n    transformedData: {},\n    store: {}\n};\n","import * as Encoders from './encoder';\nimport * as encoderHelpers from './encoder/encoder-helper';\nimport * as groupUtils from './group-helper/group-utils';\nimport * as enums from './enums/constants';\n\nexport { VisualGroup } from './visual-group';\nexport { SimpleGroup } from './simple-group';\nexport { ComposedVars, SimpleVariable } from './variable';\nexport { default as ValueMatrix } from './visual-group/value-matrix';\nexport { Encoders, encoderHelpers, groupUtils, enums };\n","export { default as SimpleGroup } from './simple-group';\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * Interfaces for VisualGroup. Any new VisualGroup has to implement this class.\n * @class  SimpleGroup\n */\nclass SimpleGroup {\n\n    /**\n     * This method is used to set or get the DataModel instance.\n     *\n     * @param {DataModel | undefined} dataModel Instance of datamodel.\n\n     * @memberof  SimpleGroup\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to set or get the group specific configuration\n     * properties\n     *\n     * @param {Object | undefined} configObj The input configuration.\n     *                                or instance of visual group.\n     * @memberof  SimpleGroup\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to return a serialized representation of the\n     * instance's properties.\n     *\n     * @memberof  SimpleGroup\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to get or set the measurement object which houses\n     * layout properties like width and height.\n     *\n     * @param {Object  | undefined} mObj The measurement properties.\n     * @memberof  SimpleGroup\n     */\n    measurement () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n\nexport default SimpleGroup;\n","import Variable from './variable';\n\n/**\n * This is a wrapper on top of multiple variables which are of same type but they are shown in the same axis.This is\n * required in case of range plots or ohlc plots where one plot is mapped to multiple measure fields. At that time,\n * we need to create a composed variable from multiple variables. This class just wraps them into one variable instance\n * and provides methods to get the type and other common functionalities which can be performed on a simple variable\n * instance.\n *\n * @public\n * @class ComposeVars\n */\nclass ComposedVars extends Variable {\n\n    /**\n     * Creates an instance of ComposeVars.\n     *\n     * @param {Array} vars Array of SimpleVars.\n     */\n    constructor (...vars) {\n        super();\n        this.vars(vars);\n    }\n\n    vars (...params) {\n        if (params.length) {\n            this._vars = params[0];\n            return this;\n        }\n        return this._vars;\n    }\n\n    data (...dm) {\n        if (dm.length) {\n            this.vars().forEach(d => d.data(dm[0]));\n            this._data = dm[0];\n            return this;\n        }\n        return this._data;\n    }\n\n    /**\n     * Get all the field names from composed variable instance.\n     *\n     * @public\n     * @return {Array} Array of field names.\n     */\n    getMembers () {\n        const vars = this.vars();\n        return vars.map(member => member.getMembers()[0]);\n    }\n\n    /**\n     * Type of field associated with this composed variable.\n     *\n     * @return {string} Type of variable (Measure/Dimension).\n     */\n    type () {\n        return this.vars()[0].type();\n    }\n\n    toString () {\n        return this.vars().map(d => d.toString()).join(',');\n    }\n\n    /**\n     * Returns the number formatter function of the variable.\n     *\n     * @return {Function} Number formatter function of the variable.\n     */\n    numberFormat () {\n        return this.vars()[0].numberFormat();\n    }\n\n    format (values) {\n        return this.vars()[0].format(values);\n    }\n\n    getSchemaDef () {\n        return this.data().getFieldsConfig()[this.vars()[0]].def;\n    }\n\n    /**\n     * Returns the subtype of the fields associated with this variable instance.\n     *\n     * @public\n     * @return {string} Subtype of the variable.\n     */\n    subtype () {\n        return this.vars()[0].subtype();\n    }\n\n    /**\n     * Returns the consecutive minimum difference of the field values.\n     *\n     * @public\n     * @return {number} Minimum consecutive difference.\n     */\n    getMinDiff () {\n        return this.vars()[0].getMinDiff();\n    }\n\n    /**\n     * Returns the display name of the fields.\n     *\n     * @return {string} returns the display name.\n     */\n    displayName () {\n        return this.vars().map(d => d.displayName()).join(',');\n    }\n}\n\nexport default ComposedVars;\n","export { default as ComposedVars } from './composed-vars';\nexport { default as SimpleVariable } from './simple-var';\nexport { default as Variable } from './variable';\n","import { DateTimeFormatter, retrieveFieldDisplayName, DimensionSubtype } from 'muze-utils';\nimport Variable from './variable';\n\n/**\n * This is a wrapper on top of fields passed in rows or columns in canvas. This is used to get the type of field or\n * get min difference from the field values.\n *\n * @public\n * @class SimpleVariable\n */\nexport default class SimpleVariable extends Variable {\n\n    /**\n     * Creates an instance of simple variable instance.\n     *\n     * @param {string} name Field name.\n     */\n    constructor (name) {\n        super();\n        this.oneVar(name);\n    }\n\n    /**\n     * Gets the field name associated with this variable instance.\n     *\n     * @public\n     * @return {string} Name of the field.\n     */\n    oneVar (...oneV) {\n        if (oneV.length) {\n            this._oneVar = oneV[0];\n            return this;\n        }\n        return this._oneVar;\n    }\n\n    data (...dm) {\n        if (dm.length) {\n            this._data = dm[0];\n            return this;\n        }\n        return this._data;\n    }\n\n    toString () {\n        return this.oneVar();\n    }\n\n    /**\n     * Gets the number formatter function of this variable.\n     *\n     * @public\n     * @return {Function} Number formatter function.\n     */\n    numberFormat () {\n        if (this.type() === 'measure') {\n            const formatter = this.data().getFieldspace().getMeasure()[this.oneVar()];\n            return formatter.numberFormat();\n        } return val => val;\n    }\n\n    format (values) {\n        if (values && this.subtype() === 'temporal') {\n            const formatter = this.data().getFieldspace().getDimension()[this.oneVar()].schema().format;\n            const dtFormat = new DateTimeFormatter(formatter);\n            values = values.map(e => dtFormat.getNativeDate(e));\n        }\n        return values;\n    }\n\n    /**\n     * Returns a formatter function which transforms the input value to its original form.\n     *\n     * @public\n     * @return {Function} Returns raw formatter function.\n     */\n    rawFormat () {\n        if (this.subtype() === DimensionSubtype.TEMPORAL) {\n            const dateFormat = this.data().getFieldspace().getDimension()[this.oneVar()].schema().format;\n            return val => DateTimeFormatter.formatAs(val, dateFormat);\n        }\n        return val => val;\n    }\n\n    /**\n     * Return the field names associated with this variable instance.\n     *\n     * @public\n     * @return {Array} Array of fields.\n     */\n    getMembers () {\n        return [this.oneVar()];\n    }\n\n    /**\n     * Returns the type of the variable. Whether it is measure or dimension.\n     *\n     * @public\n     * @return {string} Type of variable.\n     */\n    type () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.type;\n    }\n\n    /**\n     * Returns the subtype of the variable. Subtype can be categorical or temporal. If no subtype is found, then it\n     * returns the type of the variable.\n     *\n     * @public\n     * @return {string} Subtype of variable.\n     */\n    subtype () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.subtype || fieldDef.type;\n    }\n\n    /**\n     * Returns the minimum consecutive difference between the data values of this variable.\n     *\n     * @return {number} Minimum consecutive difference.\n     */\n    getMinDiff () {\n        const fieldSpace = this.data().getFieldspace();\n        return fieldSpace.fieldsObj()[this.oneVar()].minimumConsecutiveDifference();\n    }\n\n    /**\n     * Returns true if two variable instances are same.If both variable has the same field names, they are equal.\n     *\n     * @return {Boolean} Whether two variable instances are same.\n     */\n    equals (varInst) {\n        return this.oneVar() === varInst.oneVar();\n    }\n\n    /**\n     * Returns the display name of the field.\n     *\n     * @return {string} returns the display name.\n     */\n    displayName () {\n        return retrieveFieldDisplayName(this.data(), this.oneVar());\n    }\n\n    /**\n     * Returns the schema defination of the field.\n     *\n     * @return {Object} schema def\n     */\n    getSchemaDef () {\n        return this.data().getFieldsConfig()[this.oneVar()].def;\n    }\n}\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n *\n *\n * @export\n * @class Variable\n */\nexport default class Variable {\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    type () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    toString () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n}\n","import { STATE_NAMESPACES } from 'muze-utils';\n\nexport const setupChangeListeners = (context) => {\n    const store = context.store();\n    const stores = {\n        throwback: context._dependencies.throwback,\n        store\n    };\n\n    ['x', 'y'].forEach((axisType) => {\n        store.registerChangeListener([`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${axisType}`], () => {\n            const groupAxes = context.resolver().axes();\n            groupAxes[axisType].forEach(axes => axes.forEach((axis) => {\n                axis.render();\n            }));\n        });\n    });\n    const { VisualUnit, layerRegistry } = context.registry();\n    const { base: BaseLayer } = layerRegistry;\n    [VisualUnit, BaseLayer].forEach((comp) => {\n        const formalName = comp.formalName();\n        ['store', 'throwback'].forEach((type) => {\n            const listeners = comp.getListeners()[type];\n            const storeInst = stores[type];\n            listeners.forEach((listenerInf) => {\n                storeInst[listenerInf.type](listenerInf.props, listenerInf.listener, false, {\n                    namespace: formalName,\n                    subNamespace: listenerInf.subNamespace\n                });\n            });\n        });\n    });\n};\n\nexport const registerDomainChangeListener = (context) => {\n    const store = context.store();\n    store.registerChangeListener([`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`], () => {\n        context.resolver().encoder().unionUnitDomains(context);\n    }, false, {\n        key: 'unionDomain'\n    });\n};\n\nexport const unsubscribeChangeListeners = (context) => {\n    context.store().unsubscribe({\n        key: 'unionDomain'\n    });\n};\n","import { VisualUnit } from '@chartshq/visual-unit';\nimport { STATE_NAMESPACES, CommonProps } from 'muze-utils';\nimport { BaseLayer } from '@chartshq/visual-layer';\nimport { getBorders } from '../group-helper';\nimport { RetinalEncoder } from '../encoder';\nimport { registerDomainChangeListener, unsubscribeChangeListeners } from './change-listener';\nimport ValueMatrix from './value-matrix';\n\nexport const createUnitState = (context) => {\n    const [globalState, localState] = VisualUnit.getState();\n    const store = context.store();\n    store.append(STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE, globalState)\n        .append(STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE, localState);\n};\n\nexport const initializeGlobalState = (context) => {\n    const globalState = context.constructor.getState()[0];\n    const store = context.store();\n    store.append(STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE, globalState);\n};\n\nexport const createLayerState = (context) => {\n    const [globalState, localState] = BaseLayer.getState();\n    context.store().append(STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE, globalState)\n        .append(STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE, localState);\n};\n\nconst sanitizeRetinalConfig = (retinalConf) => {\n    const conf = {};\n    for (const key in retinalConf) {\n        const confValue = retinalConf[key];\n        if (typeof confValue === 'string' || !confValue) {\n            conf[key] = {\n                field: retinalConf[key]\n            };\n        } else {\n            conf[key] = confValue;\n        }\n    }\n    return conf;\n};\n\nexport const setMatrixInstances = (context, placeholder) => {\n    let {\n        values,\n        rows,\n        columns\n    } = placeholder;\n    values = values || [];\n    rows = rows || [];\n    columns = columns || [];\n    context._composition.matrices = {\n        value: new ValueMatrix(values),\n        left: new ValueMatrix(rows[0]),\n        right: new ValueMatrix(rows[1]),\n        top: new ValueMatrix(columns[0]),\n        bottom: new ValueMatrix(columns[1])\n    };\n\n    context._dependencies.throwback.commit(CommonProps.MATRIX_CREATED, true);\n    return context;\n};\n\nexport const createMatrices = (context) => {\n    const rows = context.rows();\n    const columns = context.columns();\n    const color = context.color();\n    const datamodel = context.data();\n    const size = context.size();\n    const detail = context.detail();\n    const layers = context.layers();\n    const transform = context.transform();\n    const config = context.config();\n    const shape = context.shape();\n\n    // Get the resolver for the matrices\n    const resolver = context.resolver();\n    resolver.store(context.store());\n    resolver.valueParser(context.valueParser());\n    // Prepare configuration for matrix preparation\n    let matrixConfig = {\n        selection: context.selection(),\n        alias: context.alias(),\n        globalConfig: config || {},\n        rows,\n        columns,\n        detail,\n        layers,\n        transform\n    };\n\n    unsubscribeChangeListeners(context);\n\n    const retinalConfig = sanitizeRetinalConfig({\n        color,\n        shape,\n        size\n    });\n\n    matrixConfig = Object.assign(matrixConfig, retinalConfig);\n    // Create the encoders for the group\n    const encoders = {};\n    encoders.retinalEncoder = new RetinalEncoder();\n    encoders.simpleEncoder = context.createEncoderInstance();\n    matrixConfig.coord = encoders.simpleEncoder.constructor.type();\n    resolver.encoder(encoders.simpleEncoder);\n\n    // Set the group type\n    context.groupType(encoders.simpleEncoder.constructor.type());\n\n    // Get sanitized fields as instances of the Vars Class\n    const fields = encoders.simpleEncoder.fieldSanitizer(datamodel, matrixConfig);\n    encoders.simpleEncoder.setAxisAndHeaders(config ? config.axisFrom : {}, fields);\n    // Setting layers for the code\n    layers && resolver.layerConfig(layers);\n    // Set the row and column axes\n    resolver.horizontalAxis(fields.rows, encoders).verticalAxis(fields.columns, encoders);\n    // Getting the placeholders\n    const placeholderInfo = resolver.getMatrices(datamodel, matrixConfig, context.registry(), encoders);\n    context._groupedDataModel = placeholderInfo.dataModels.groupedModel;\n    // Set the selection object\n    context.selection(placeholderInfo.selection);\n\n    // Create retinal axes\n    resolver.createRetinalAxes(placeholderInfo.dataModels.parentModel.getFieldsConfig(), retinalConfig,\n            encoders);\n\n    // Domains are evaluated for each of the axes for commonality\n    resolver.setRetinalAxisDomain(matrixConfig, placeholderInfo.dataModels, encoders);\n\n    // Create matrix instances\n    setMatrixInstances(context, placeholderInfo);\n\n    // Prepare corner matrices\n    context.cornerMatrices(resolver.createHeaders(placeholderInfo, fields, config));\n\n    // Set placeholder information\n    context.placeholderInfo(placeholderInfo);\n\n    context._composition.axes = resolver.axes();\n    context.metaData({\n        border: getBorders(placeholderInfo, encoders.simpleEncoder)\n    });\n\n    resolver.encoder().unionUnitDomains(context);\n\n    registerDomainChangeListener(context);\n    return context;\n};\n","export { default as VisualGroup } from './visual-group';\n\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\n/**\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Artboard.\n * Artboard merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @module\n */\n\nexport default {\n    [CONFIG]: {},\n    [ROWS]: {},\n    [COLUMNS]: {},\n    [COLOR]: {},\n    [SHAPE]: {},\n    [SIZE]: {},\n    [DETAIL]: {},\n    [LAYERS]: {},\n    [TRANSFORM]: {}\n};\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\nexport const PROPS = {\n    alias: {},\n    data: {},\n    cornerMatrices: {\n        defaultValue: {\n            topLeft: [],\n            topRight: [],\n            bottomLeft: [],\n            bottomRight: []\n        }\n    },\n    groupType: {},\n\n    metaData: {\n        defaultValue: {\n            border: {}\n        }\n    },\n    placeholderInfo: {\n        defaultValue: {}\n    },\n    resolver: {},\n    valueParser: {\n        defaultValue: val => val\n    },\n    registry: {\n        sanitization: (context, value) => {\n            if (context.resolver) {\n                context.resolver().registry({\n                    cells: value.cellRegistry,\n                    VisualUnit: value.VisualUnit\n                });\n            }\n            return value;\n        }\n    },\n    selection: {},\n    [CONFIG]: {},\n    [ROWS]: {},\n    [COLUMNS]: {},\n    [COLOR]: {},\n    [SHAPE]: {},\n    [SIZE]: {},\n    [DETAIL]: {},\n    [LAYERS]: {},\n    [TRANSFORM]: {}\n};\n","/**\n * This is a wrapper class over the matrix of cells which gets created in visual group. Visual Group creates left,\n * right, bottom and top and center matrices and wraps them using this class.\n *\n * @public\n * @class ValueMatrix\n */\nclass ValueMatrix {\n\n    /**\n     * Creates an instance of ValueMatrix.\n     *\n     * @param {Array} matrixArr Matrix array.\n     */\n    constructor (matrixArr) {\n        const instancesById = {};\n\n        this.matrix(matrixArr || []);\n        this.filter(() => true);\n\n        this.each((el, rIdx, cIdx) => {\n            const cellValue = el.valueOf();\n            if (cellValue && cellValue.id) {\n                const id = cellValue.id();\n                instancesById[id] = {\n                    instance: cellValue,\n                    rowIndex: rIdx,\n                    colIndex: cIdx\n                };\n            }\n        });\n\n        this.instancesById(instancesById);\n    }\n\n    instancesById (...id) {\n        if (id.length) {\n            this._instancesById = id[0];\n            return this;\n        }\n        return this._instancesById;\n    }\n\n    /**\n     * Returns the array of matrices contained in this instance.\n     *\n     * @public\n     * @return {Array} Array of matrices.\n     */\n    matrix (...matrix) {\n        if (matrix.length) {\n            this._matrix = matrix[0];\n            return this;\n        }\n        return this._matrix;\n    }\n\n    /**\n     * Sets a filter criteria. This filter criteria gets applied when each function is called.\n     *\n     * @public\n     * @param {Function} fn Filter function.\n     *\n     * @return {ValueMatrix} Instance of value matrix.\n     */\n    filter (...fn) {\n        if (fn.length) {\n            this._filterFn = fn[0];\n            return this;\n        }\n        return this._filterFn;\n    }\n\n    /**\n     * Returns the total width occupied by all the cells of the matrix.\n     *\n     * @return {Number} Width of the matrix.\n     */\n    width () {\n        let rowWidth = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowWidth = 0;\n            row.forEach((cell) => {\n                currentRowWidth += cell.getLogicalSpace().width;\n            });\n            rowWidth = Math.max(rowWidth, currentRowWidth);\n        });\n        return rowWidth;\n    }\n\n    /**\n     * Returns the total width occupied by all the cells of the matrix.\n     *\n     * @return {Number} Width of the matrix.\n     */\n    height () {\n        let rowHeight = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowHeight = 0;\n            row.forEach((cell) => {\n                currentRowHeight = Math.max(currentRowHeight, cell.getLogicalSpace().height);\n            });\n            rowHeight += currentRowHeight;\n        });\n        return rowHeight;\n    }\n\n    /**\n     * Iterates through the two dimensional matrix array and calls the given callback function with the cell instance,\n     * row index, column index and the matrix array.\n     *\n     * @param {Function} fn Callback function which will get called for every cell.\n     * @return {ValueMatrix} Instance of the value matrix.\n     */\n    each (fn) {\n        const matrix = this.matrix();\n        const filterFn = this.filter();\n\n        matrix.forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                if (filterFn(col)) {\n                    fn(col, rIndex, cIndex, matrix);\n                }\n            });\n        });\n        return this;\n    }\n\n    findPlaceHolderById (id) {\n        return this.instancesById()[id];\n    }\n\n    clear () {\n        this.each(cell => cell.remove());\n        this.matrix([]);\n    }\n}\n\nexport default ValueMatrix;\n","import { generateGetterSetters } from 'muze-utils';\nimport localOptions from './local-options';\nimport { SimpleGroup } from '../simple-group';\nimport {\n    MatrixResolver,\n    findInGroup,\n    getEncoder\n} from '../group-helper';\nimport { createUnitState, initializeGlobalState, setMatrixInstances, createMatrices, createLayerState } from './helper';\nimport { setupChangeListeners } from './change-listener';\nimport { PROPS } from './props';\nimport {\n    CONFIG,\n    MOUNT,\n    RETINAL,\n    Y\n} from '../enums/constants';\n\n/**\n * VisualGroup is instantiated by canvas for creating {@link VisualUnit} and axes instances.It creates the\n * the matrix of visual units and axes. It also creates the layout instance which manages the allocation\n * of space of matrices.\n *\n * To get instance of visual group,\n * ```\n *      const visualGroup = canvas.composition().visualGroup;\n * ```\n * @public\n *\n * @class VisualGroup\n */\nclass VisualGroup extends SimpleGroup {\n\n    /**\n     * Creates an instance of VisualGroup. Requires dependencies and other registry options for placeholders\n     * and layers that create individual units.\n     *\n     * @param {Object} registry Key value pair of compostions for the group\n     * @param {Object} dependencies Dependencies needed to run the group\n     * @memberof VisualGroup\n     */\n    constructor (registry, dependencies) {\n        super();\n\n        const {\n            components,\n            componentSubRegistry,\n            interactions\n        } = registry;\n\n        this._dependencies = dependencies;\n        // Generate getter/setter methods for all properties of the class\n        // One can get each property by calling the method and can set it\n        // by passing paramaters for the same. Thus, one can chain setter\n        // getter methods.\n        generateGetterSetters(this, this.constructor.getterSetters());\n        generateGetterSetters(this, this.constructor.localOptions());\n        // Populate the store with default values\n        // initialize group compositions\n        this._composition = {};\n        // store reference to data\n        this._data = [];\n        // store reference to mountpoint\n        this._mount = null;\n        // selection object that takes care of updating of components\n        this._selection = {};\n        // Create instance of matrix resolver\n        this.createMatrixResolver();\n        // matrix instance store each of the matrices\n        setMatrixInstances(this, {});\n         // Getting indiviual registered items\n        this.registry({\n            layerRegistry: componentSubRegistry.layers.get(),\n            cellRegistry: componentSubRegistry.cells.get(),\n            VisualUnit: components.VisualUnit,\n            interactions\n        });\n    }\n\n    static getState () {\n        return [{\n            domain: {\n                x: null,\n                y: null,\n                radius: null,\n                angle: null,\n                angle0: null\n            }\n        }, {}];\n    }\n\n    store (...params) {\n        if (params.length) {\n            this._store = params[0];\n            initializeGlobalState(this);\n            createUnitState(this);\n            createLayerState(this);\n            // Register listeners\n            setupChangeListeners(this);\n            return this;\n        }\n        return this._store;\n    }\n\n    static formalName () {\n        return 'VisualGroup';\n    }\n\n    static localOptions () {\n        return localOptions;\n    }\n    static getterSetters () {\n        return PROPS;\n    }\n\n    /**\n     * Return the instances of matrices created by the visual group.\n     *\n     * @return {Object} Instance of matrices.\n     */\n    matrixInstance (...matrices) {\n        if (matrices.length) {\n            return this;\n        }\n        return this.composition().matrices;\n    }\n\n    /**\n     * Returns the composition of visual group.\n     *\n     * @public\n     *\n     * @return {Object} Composition of visual group. It contains instance of matrices {@link ValueMatrix}\n     * and instances of axis.\n     * ```\n     *          {\n     *              matrices: {\n     *                  value: // Instance of center value matrix.\n     *                  left: // Instance of left value matrix\n     *                  right: // Instance of right value matrix\n     *                  bottom: // Instance of bottom value matrix\n     *                  top: // Instance of top value matrix.\n     *              },\n     *              axes: {\n     *                  x: // Array of x axis.\n     *                  y: // Array of y axis\n     *                  color: // Array of color axis\n     *                  shape: // Array of shape axis\n     *                  size: // Array of size axis.\n     *              }\n     *          }\n     * ```\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    /**\n     * Locks the model to prevent change listeners to be triggered until unlocked\n     *\n     * @return {Object} Instance of class VisualGroup\n     * @memberof VisualGroup\n     */\n    lockModel () {\n        this.store().model.lock();\n        return this;\n    }\n\n    /**\n     * Unlocks the model so that all change listeners can be triggered\n     *\n     * @return {Object} Instance of class VisualGroup\n     */\n    unlockModel () {\n        this.store().model.unlock();\n        return this;\n    }\n\n    /**\n     * Returns the channel name of the variable. Channels are rows, columns, color, shape and size.\n     *\n     * @public\n     * @param {string} variable Name of the variable.\n     *\n     * @return {string} Name of the channel.\n     */\n    where (variable) {\n        return findInGroup(variable, this.resolver().getAllFields());\n    }\n\n    /**\n     * Gets the axis instances of the visual group based on the given axis type.\n     *\n     * @public\n     * @param {string} type Type of axis. X,Y or retinal axes.\n     *\n     * @return {Array} Array of axis instances.\n     */\n    getAxes (type) {\n        if (type === RETINAL) {\n            return this.resolver().getRetinalAxes();\n        }\n        return this.resolver().getSimpleAxes(type);\n    }\n\n    /**\n     * Returns the instances of cells based on the given type. Type can be given as `row' or `col`.\n     *\n     * @public\n     * @return {Array} Two dimensional array of cells.\n     */\n    getCells (type) {\n        return this.resolver()[`${type}Cells`]();\n    }\n\n    getFieldsFromChannel (channel) {\n        const {\n            rowProjections,\n            colProjections\n        } = this.resolver().getAllFields();\n        return channel === Y ? rowProjections : colProjections;\n    }\n\n    getCellsByFacetKey (facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey] || [];\n        return cells;\n    }\n\n    getAxesByFacetKey (axisType, facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey];\n        const axes = cells[0].valueOf().axes()[axisType] || [];\n\n        return axes;\n    }\n\n    /**\n     * This method is used to return a serialized representation of the instance's properties.\n     *\n     * @return {Object} Object with config proprties.\n     * @memberof VisualGroup\n     */\n    serialize () {\n        const store = this.store();\n\n        return {\n            [CONFIG]: store.get(CONFIG),\n            [MOUNT]: store.get(MOUNT)\n        };\n    }\n\n    /**\n     * Returns the grouped datamodel prepared by visual group. If there is no group by performed, then it returns the\n     * original data model passed to visual group.\n     *\n     * @return {DataModel} Grouped data model.\n     */\n    getGroupByData () {\n        return this._groupedDataModel;\n    }\n\n    createMatrices () {\n        createMatrices(this);\n    }\n\n    remove () {\n        this.matrixInstance().value.clear();\n        this.resolver().clear();\n        const info = this.placeholderInfo();\n        info.rows = null;\n        info.columns = null;\n        info.values = null;\n    }\n\n    createEncoderInstance () {\n        const layers = this.layers();\n\n        return getEncoder(layers);\n    }\n\n    createMatrixResolver () {\n        this.resolver(new MatrixResolver(this._dependencies));\n\n        return this;\n    }\n}\n\nexport default VisualGroup;\n","import {\n    mix\n} from 'muze-utils';\nimport { SimpleLayer } from '../simple-layer';\nimport { BaseLayerMixin } from './base-mixin';\nimport { BASE_LAYER } from '../enums/constants';\n\n/**\n * An abstract class which gives definition of common layer functionality like\n * - transforming data for various modes. Supported modes: identity, group and stack.\n * - calculating data domain\n * - linking dependent layers\n * - merging policy of configuration\n * - interaction sideffect helpers\n * - retrieving dom elements from data using id\n * - retrieving the physical dimensions of marks\n * - disposing layer\n *\n * Every layer has to extend base layer and give concrete definition.\n * This layer does not have any default visual. A new layer has to define the logic of `render` for rendering the\n * visuals\n *\n * @public\n * @class\n * @module BaseLayer\n */\nexport default class BaseLayer extends mix(SimpleLayer).with(BaseLayerMixin) {\n    /**\n     * Determines a name for a layer. This name of the layer is used in the input data to refer to this layer.\n     * ```\n     *  .layers([\n     *      mark: 'bar',\n     *      encoding: { ... }\n     *  ])\n     * ```\n     *\n     * @static\n     * @public\n     *\n     * @return {string} name of layer\n     */\n    static formalName () {\n        return BASE_LAYER;\n    }\n}\n","import {\n    getUniqueId,\n    mergeRecursive,\n    FieldType,\n    selectElement,\n    ReservedFields,\n    DataModel,\n    clone,\n    generateGetterSetters,\n    STATE_NAMESPACES,\n    transactor,\n    defaultValue,\n    getObjProp\n} from 'muze-utils';\nimport * as PROPS from '../enums/props';\nimport { props } from './props';\nimport {\n    transformData,\n    getNormalizedData,\n    applyInteractionStyle,\n    getValidTransform,\n    domainCalculator,\n    renderLayer,\n    encodingFieldInfRetriever\n} from '../helpers';\nimport { localOptions } from './local-options';\nimport { listenerMap } from './listener-map';\nimport { BASE_LAYER } from '../enums/constants';\n\nconst layerNs = [STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE, STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE];\nconst groupNs = STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE;\n\nexport const BaseLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates a layer using a configuration and data.\n     *\n     * @public\n     * @constructor\n     * @param {DataModel} data Instance of DataModel to be used. This DataModel instance serves as the data for a\n     * layer.\n     * @param {Object} axes Axes instances to be used for rendering the layer. Axes are used for mapping data from\n     *      value to px.\n     * @param {SimpleAxis} axes.x X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {SimpleAxis} axes.y X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {ColorAxis} axes.color Axis for coloring a layer using color interpolators\n     * @param {ShapeAxis} axes.shape Axis for providing a shape\n     * @param {SizeAxis} axes.size Axis for determining size of a mark using size interpolator\n     * @param {LayerConfig} config Configuration of the layer\n     * @param {Object} dependencies Dependencies of the layer\n     * @param {SmartLabel} dependencies.smartLabel Smartlabel singleton instance\n     */\n    constructor () {\n        super();\n\n        generateGetterSetters(this, this.constructor.getterSetters());\n        this.axes({});\n        this.alias(this.constructor.formalName() + getUniqueId());\n        this._points = [];\n        this._cachedData = [];\n        this._id = getUniqueId();\n        this._measurement = {};\n        this._animationDonePromises = [];\n        this._graphicElems = {};\n        this._customConfig = null;\n    }\n\n    static getState () {\n        return [\n            {\n                domain: null\n            },\n            Object.keys(this.localOptions()).reduce((acc, v) => {\n                acc[v] = localOptions[v].value;\n                return acc;\n            }, {})\n        ];\n    }\n\n    static getListeners () {\n        return {\n            store: [...listenerMap, {\n                type: 'registerChangeListener',\n                props: this.getRenderProps(),\n                listener: (context) => {\n                    renderLayer(context);\n                },\n                subNamespace: (context) => {\n                    const { unitRowIndex, unitColIndex, namespace } = context.metaInf();\n                    return {\n                        [`${layerNs[1]}.${PROPS.DATA}`]: namespace,\n                        [`${groupNs}.domain.x`]: `${unitColIndex}0`,\n                        [`${groupNs}.domain.y`]: `${unitRowIndex}0`,\n                        [`${groupNs}.domain.radius`]: `${unitRowIndex}-${unitColIndex}`\n                    };\n                }\n            }],\n            throwback: []\n        };\n    }\n\n    static getQualifiedStateProps () {\n        const layerState = this.getState();\n        return layerState.map((state, i) => Object.keys(state).map(prop => `${layerNs[i]}.${prop}`));\n    }\n\n    store (...params) {\n        if (params.length) {\n            const store = this._store = params[0];\n            const { namespace } = this.metaInf();\n            store.addSubNamespace(namespace, BASE_LAYER, this);\n\n            transactor(this, this.constructor.localOptions(), store, {\n                subNamespace: namespace,\n                namespace: `${STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE}`\n            });\n            return this;\n        }\n        return this._store;\n    }\n\n    domain (...dom) {\n        const prop = `${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}`;\n        const store = this.store();\n        if (dom.length) {\n            const { parentNamespace, namespace } = this.metaInf();\n            const domain = defaultValue(store.get(prop, parentNamespace), {});\n            domain[namespace] = dom[0];\n            this.store().commit(prop, domain, parentNamespace);\n            return this;\n        }\n        return this.store().get(prop, this.metaInf().namespace);\n    }\n\n    /**\n     * Creates a layer instance\n     * @return {BaseLayer} Instance of a layer\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Default configuration of the layer. This configuration gets merged to the user passed configuration using a\n     * plolicy. Base layer only returns part of configuraion, any layer overridding base layer should return its own\n     * configuration.\n     *\n     * @public\n     * @static\n     *\n     * @return {Object} Default configuration\n     */\n    static defaultConfig () {\n        return {\n            transform: {\n                type: 'identity'\n            }\n        };\n    }\n\n    static getterSetters () {\n        return props;\n    }\n\n    static localOptions () {\n        return localOptions;\n    }\n    /**\n     * Policy defines how user config gets merged to default config. The default policy here does a deep copy\n     * operation.\n     * Any policy which does more than deep copying should define the policy as a static member.\n     *\n     * @static\n     * @public\n     *\n     * @param {LayerConfig} conf Configuration with which the user config will be merged\n     * @param {LayerConfig} userConf Configuration given by the user\n     *\n     * @return {LayerConfig} Merged layer configuration\n     */\n    static defaultPolicy (conf, userConf) {\n        return mergeRecursive(conf, userConf);\n    }\n\n    /**\n     * Provides a alias for a layer. Like it's possible to have same layer (like bar) multiple times, but among\n     * multiple layers of same type if one layer has to be referred, alias is used. If no alias is given then\n     * `formalName` is set as the alias name.\n     *\n     *\n     * If used as setter\n     * @param  {string} alias Name of the alias\n     * @return {BaseLayer} Instance of current base layer\n     *\n     * If used as getter\n     * @return {string} Alias of the current layer\n     *\n     * @public\n     */\n    alias (...params) {\n        if (params.length) {\n            this._alias = params[0];\n            return this;\n        }\n        return this._alias || this.constructor.formalName();\n    }\n\n    enableCaching () {\n        this._cacheEnabled = true;\n        return this;\n    }\n\n    clearCaching () {\n        this._cacheEnabled = false;\n        return this.data(this._cachedData[0]);\n    }\n\n    /**\n     * Serialize the schema. Merge config is used for serialization.\n     *\n     * @public\n     *\n     * @return {LayerConfig} Serialized schema\n     */\n    serialize () {\n        return this.config();\n    }\n\n    /**\n     * Returns the unique identifier of this layer. Id is auto generated during the creation proceess of a schema.\n     *\n     * @public\n     *\n     * @return {string} id of the layer\n     */\n    id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the transformed data based on given transform type.\n     * It first gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of DataModel\n     * @param {Object} config Configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     */\n    getTransformedData (dataModel, config, transformType, encodingFieldsInf) {\n        return transformData(dataModel, config, transformType, encodingFieldsInf);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a categorical field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @param {Object} fieldsConfig Configuration of fields\n     * @return {Array} Domain values array.\n     */\n    calculateDomainFromData (data) {\n        let domains = {};\n        const isEmpty = this.data().isEmpty();\n\n        if (!isEmpty) {\n            domains = domainCalculator[this.coord()](data, this);\n        }\n        return domains;\n    }\n\n    static shouldDrawAnchors () {\n        return false;\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getDataDomain (encodingType) {\n        const { parentNamespace, namespace } = this.metaInf();\n        const domains = getObjProp(this.store()\n            .get(`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}`, parentNamespace), namespace);\n        return encodingType !== undefined ? domains[encodingType] || [] : domains;\n    }\n\n    /**\n     * Normalizes the transformed data and returns it.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getNormalizedData (transformedData) {\n        return getNormalizedData(transformedData, this);\n    }\n\n    /**\n     * Gets the nearest point closest to the given x and y coordinate. If no nearest point is found, then it returns\n     * null.\n     *\n     * @public\n     *\n     * @param {number} x X Coordinate.\n     * @param {number} y Y Coordinate.\n     *\n     * @return {Object} Information of the nearest point.\n     * ```\n     *      {\n     *          // id property contains the field names and their corresponding values in a 2d array. This is the\n     *          data // associated with the nearest point.\n     *          id: // Example data: [['Origin'], ['USA']],\n     *          dimensions: // Physical dimensions of the point.\n     *          layerId: // Id of the layer instance.\n     *      }\n     * ```\n     */\n    getNearestPoint () {\n        return null;\n    }\n\n    applyInteractionStyle (interactionType, selectionSet, apply, styles) {\n        const interactionConfig = this.config().interaction || {};\n\n        let interactionStyles = interactionConfig[interactionType];\n        interactionStyles = styles || interactionStyles;\n        if (interactionStyles) {\n            applyInteractionStyle(this, selectionSet, interactionStyles, {\n                apply,\n                interactionType\n            });\n        }\n    }\n\n    resolveTransformType () {\n        this._transformType = getValidTransform(this);\n    }\n\n    transformType () {\n        return this._transformType;\n    }\n\n    /**\n     * Renders the layer\n     * @return {BaseLayer} Instance of the layer.\n     */\n    render () {\n        return this;\n    }\n\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Disposes the entire layer.\n     *\n     * @return {BaseLayer} Instance of layer.\n     */\n    remove () {\n        const { namespace, parentNamespace } = this.metaInf();\n        const store = this.store();\n        store.removeSubNamespace(namespace, BASE_LAYER);\n        const layersDomain = store.get(`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.domain`);\n        const unitDom = layersDomain[parentNamespace];\n        unitDom && (delete unitDom[namespace]);\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     * Stores point in an object with key as the categorical value or temporal value\n     *\n     * @param {string} key categorical value or temporal value\n     * @param {Object} data Information of the data point\n     * @return {BarLayer} Instance of bar layer\n     */\n    cachePoint (key, data) {\n        if (key === null) {\n            return this;\n        }\n        const pointMap = this._pointMap;\n        !pointMap[key] && (pointMap[key] = []);\n        pointMap[key].push(data);\n        return this;\n    }\n\n    // If a layer does not has specific styles, do nothing and return falsy value\n    getInteractionStyles () {\n        return null;\n    }\n\n    applySpecificStyle (styleType, { elem, apply, interactionType, style, colorAxis }) {\n        const interactionFn = this.getInteractionStyles(styleType);\n        if (!interactionFn) return false;\n        return interactionFn(this, elem, apply, interactionType, style, colorAxis);\n    }\n\n    getIdentifiersFromData (data) {\n        const schema = this.data().getSchema();\n        const fieldsConfig = this.data().getFieldsConfig();\n        const identifiers = [[], []];\n        const {\n                xFieldType,\n                yFieldType,\n                xField,\n                yField\n            } = this.encodingFieldsInf();\n\n        const [xMeasure, yMeasure] = [xFieldType, yFieldType].map(type => type === FieldType.MEASURE);\n        schema.forEach((d, i) => {\n            const name = d.name;\n            if (fieldsConfig[name].def.type === FieldType.DIMENSION) {\n                identifiers[0].push(name);\n                identifiers[1].push(data[i]);\n            }\n        });\n\n        if (xMeasure && yMeasure) {\n            const xMeasureIndex = fieldsConfig[xField].index;\n            const yMeasureIndex = fieldsConfig[yField].index;\n            identifiers[0].push(...[xField, yField]);\n            identifiers[1].push(...[data[xMeasureIndex], data[yMeasureIndex]]);\n        }\n        return identifiers;\n    }\n\n    hasPlotSpan () {\n        return false;\n    }\n\n    getPlotSpan () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    getPlotPadding () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    /**\n     * Returns the information of the marks corresponding to the supplied identifiers.\n     * Identifiers are a set of field names and their corresponding values in an array.\n     * It can also be an instance of datamodel.\n     *\n     * For example,\n     * ```\n     *  const identifiers = [\n     *      ['Origin', 'Cylinders'],\n     *      ['USA', '8']\n     *  ];\n     *  const points = barLayer.getPointsFromIdentifiers(identifiers);\n     * ```\n     * @public\n     * @param {Array|DataModel} identifiers Identifiers of the marks.\n     * @param {Object} config Optional configuration which describes how to get the information.\n     * @param {boolean} config.getAllAttrs If true, then returns all the information of the points, else returns only\n     * the positions of the points.\n     * @param {boolean} config.getBBox If true, then returns the bounding box of all the marks.\n     *\n     * @return {Array} Array of points contains\n     */\n    getPointsFromIdentifiers (identifiers, config = {}) {\n        const getAllAttrs = config.getAllAttrs;\n        const getBBox = config.getBBox;\n        if (!this.data()) {\n            return [];\n        }\n        let fieldNames;\n        let values;\n        if (identifiers instanceof DataModel) {\n            const dataObj = identifiers.getData();\n            fieldNames = dataObj.schema.map(d => d.name);\n            values = dataObj.data;\n        } else {\n            fieldNames = identifiers[0];\n            values = identifiers.slice(1, identifiers.length);\n        }\n\n        const points = this._points;\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPoints = [].concat(...points).filter((point) => {\n            const { source, rowId } = point;\n\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === source[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === rowId) !== -1;\n                } return true;\n            });\n        });\n        return getAllAttrs ? filteredPoints : filteredPoints.map((d) => {\n            const obj = clone(d);\n            if (getBBox) {\n                const update = obj.update || obj;\n                if (obj.size !== undefined) {\n                    const sizeVal = Math.sqrt(obj.size / Math.PI) * 2;\n                    update.width = sizeVal;\n                    update.height = sizeVal;\n                    update.x -= sizeVal / 2;\n                    update.y -= sizeVal / 2;\n                } else {\n                    if (update.width === undefined) {\n                        update.width = 2;\n                    }\n                    if (update.height === undefined) {\n                        update.height = 2;\n                    }\n                }\n            }\n\n            return obj.update || obj;\n        }).sort((a, b) => a.y - b.y);\n    }\n\n    getTransformedDataFromIdentifiers (identifiers) {\n        const { data: identifierData, schema: identifierSchema } = identifiers.getData();\n        const normalizedData = this._normalizedData;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n            yField,\n            xField,\n            yFieldType,\n            xFieldType\n        } = this.encodingFieldsInf();\n        let measureIndex;\n        let enc;\n        if (xFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[xField].index;\n            enc = 'x';\n        } else if (yFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[yField].index;\n            enc = 'y';\n        }\n\n        const transformedData = [];\n        normalizedData.forEach((dataArr) => {\n            dataArr.forEach((dataObj) => {\n                const tupleArr = dataObj.source;\n                const exist = identifierSchema.every((obj, i) =>\n                    identifierData.findIndex(d => tupleArr[fieldsConfig[obj.name].index] === d[i]) !== -1);\n                if (exist) {\n                    const transformedVal = dataObj[enc];\n                    const row = dataObj.source;\n                    const tuple = {};\n                    for (const key in fieldsConfig) {\n                        const index = fieldsConfig[key].index;\n                        tuple[key] = row[index];\n                        if (index === measureIndex) {\n                            tuple[key] = transformedVal;\n                        }\n                    }\n                    transformedData.push(tuple);\n                }\n            });\n        });\n\n        return [transformedData, this.data().getSchema()];\n    }\n\n    /**\n     * Returns the dom elements associated with the supplied set of row ids.\n     * Each element in the layer is mapped with a row of the datamodel. When given an array of row ids,\n     * it returns all the elements which is mapped with those row ids.\n     *\n     * @public\n     * @param {Array} set Array of row ids\n     *\n     * @return {Selection} D3 Selection of dom elements.\n     */\n    getPlotElementsFromSet (set) {\n        const graphicElems = this._graphicElems;\n        const elems = [];\n        for (let i = 0, len = set.length; i < len; i++) {\n            const elem = graphicElems[set[i]];\n            if (elem) {\n                elems.push(elem);\n            }\n        }\n        return elems;\n    }\n\n    /**\n     * Notifies when all animations/transitions of the layer are completed.\n     *\n     * @public\n     * @return {Promise} Returns a promise to notify the animation completion.\n     */\n    animationDone () {\n        return Promise.all(this._animationDonePromises);\n    }\n\n    registerAnimationDoneHook () {\n        let resolveFn;\n        const promise = new Promise((resolve) => {\n            resolveFn = resolve;\n        });\n        this._animationDonePromises.push(promise);\n\n        return () => {\n            resolveFn();\n        };\n    }\n\n    /**\n     * Called when the layer datamodel is set.\n     *\n     * @param {Array} arr Old and new datamodel instance.\n     * @param {DataModel} arr[0] Previous datamodel instance.\n     * @param {DataModel} arr[1] Current datamodel instance.\n     *\n     * @return {BaseLayer} Instance of layer.\n     */\n    dataDidSet ([, data]) {\n        const config = this.config();\n\n        if (data && config) {\n            if (this._cacheEnabled) {\n                this._cachedData.push(data);\n            } else {\n                this._cachedData = [data];\n            }\n            const encodingValue = config.encoding;\n            if (encodingValue) {\n                const fieldsConfig = data.getFieldsConfig();\n                const encodingFieldsInf = this.retrieveEncodingFields(encodingValue, this.coord(), data);\n                this.encodingFieldsInf(encodingFieldsInf);\n                this.resolveTransformType();\n                this._transformedData = this.getTransformedData(data, config,\n                    this.transformType(), encodingFieldsInf);\n                this._normalizedData = this.getNormalizedData(this._transformedData, fieldsConfig);\n                if (config.calculateDomain !== false) {\n                    const domain = this.calculateDomainFromData(this._normalizedData,\n                        this.encodingFieldsInf(), this.data().getFieldsConfig());\n                    this.domain(domain);\n                }\n            }\n        }\n        return this;\n    }\n\n    retrieveEncodingFields (encoding, coord, data) {\n        const fieldsConfig = data.getFieldsConfig();\n\n        return encodingFieldInfRetriever[coord](encoding, fieldsConfig);\n    }\n\n    static getRenderProps () {\n        return [`${layerNs[1]}.${PROPS.DATA}`, ...['x', 'y', 'radius'].map(type =>\n            `${groupNs}.domain.${type}`)];\n    }\n};\n\n","export { default as BaseLayer } from './base-layer';\nexport { BaseLayerMixin } from './base-mixin';\n","import { STATE_NAMESPACES } from 'muze-utils';\nimport * as PROPS from '../enums/props';\n\nexport const listenerMap = [\n    {\n        props: [`${STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE}.${PROPS.DATA}`],\n        type: 'registerImmediateListener',\n        listener: (context, [prevData, data]) => {\n            context.dataDidSet([prevData, data]);\n        },\n        namespace: context => context.metaInf().namespace\n    }\n];\n","import * as PROPS from '../enums/props';\n\nexport const localOptions = {\n    [PROPS.DATA]: {\n        value: null\n    }\n};\n","import { COORD_TYPES, mergeRecursive } from 'muze-utils';\nimport * as PROPS from '../enums/props';\n\nconst { CARTESIAN } = COORD_TYPES;\nexport const props = {\n    axes: {},\n    mount: {},\n    measurement: {},\n    metaInf: {},\n    valueParser: {\n        defaultValue: val => val\n    },\n    coord: {\n        defaultValue: CARTESIAN\n    },\n    [PROPS.CONFIG]: {\n        value: null,\n        sanitization: (context, config) => {\n            context._customConfig = config;\n            const constructor = context.constructor;\n            const newConf = mergeRecursive({}, constructor.defaultConfig());\n\n            return constructor.defaultPolicy(newConf, config);\n        }\n    },\n    encodingTransform: {},\n    encodingFieldsInf: {},\n    dependencies: {},\n    dataProps: {}\n};\n","import { AreaLayer } from './layers/area';\nimport { ArcLayer } from './layers/arc';\nimport { LineLayer } from './layers/line';\nimport { TextLayer } from './layers/text';\nimport { PointLayer } from './layers/point';\nimport { BarLayer } from './layers/bar';\nimport { BaseLayer } from './base-layer';\nimport * as LAYER_TYPES from './enums/layer-types';\nimport { TickLayer } from './layers/tick';\n\nexport const DEFAULT_LAYERS = {\n    [LAYER_TYPES.AREA_LAYER]: AreaLayer,\n    [LAYER_TYPES.ARC_LAYER]: ArcLayer,\n    [LAYER_TYPES.LINE_LAYER]: LineLayer,\n    [LAYER_TYPES.TEXT_LAYER]: TextLayer,\n    [LAYER_TYPES.POINT_LAYER]: PointLayer,\n    [LAYER_TYPES.TICK_LAYER]: TickLayer,\n    [LAYER_TYPES.BAR_LAYER]: BarLayer,\n    [LAYER_TYPES.BASE_LAYER]: BaseLayer\n};\n","export const CLASSPREFIX = 'muze';\nexport const STACK = 'stack';\nexport const GROUP = 'group';\nexport const IDENTITY = 'identity';\nexport const ANGLE = 'angle';\nexport const RADIUS = 'radius';\nexport const SIZE = 'size';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const TEXT = 'text';\nexport const OUTER_RADIUS_VALUE = 'outerRadiusValue';\nexport const TEXT_ANCHOR_MIDDLE = 'middle';\nexport const ENCODING = {\n    X: 'x',\n    Y: 'y',\n    X0: 'x0',\n    Y0: 'y0',\n    RADIUS: 'radius',\n    RADIUS0: 'radius0',\n    ANGLE: 'angle',\n    ANGLE0: 'angle0',\n    COLOR: 'color',\n    SHAPE: 'shape',\n    SIZE: 'size',\n    TEXT: 'text'\n};\n\nexport const ASCENDING = 'asc';\n\nexport const AGG_FN_SUM = 'sum';\n\nexport const AREA_LAYER = 'area';\nexport const ARC_LAYER = 'arc';\nexport const LINE_LAYER = 'line';\nexport const TEXT_LAYER = 'text';\nexport const POINT_LAYER = 'point';\nexport const BAR_LAYER = 'bar';\nexport const TICK_LAYER = 'tick';\nexport const SIMPLE_LAYER = 'simple';\nexport const BASE_LAYER = 'base';\n","import * as PROPS from './props';\nimport * as LAYER_TYPES from './layer-types';\nimport * as CONSTANTS from './constants';\n\nexport { PROPS, LAYER_TYPES, CONSTANTS };\n","export const AREA_LAYER = 'area';\nexport const ARC_LAYER = 'arc';\nexport const LINE_LAYER = 'line';\nexport const TEXT_LAYER = 'text';\nexport const POINT_LAYER = 'point';\nexport const BAR_LAYER = 'bar';\nexport const TICK_LAYER = 'tick';\nexport const SIMPLE_LAYER = 'simple';\nexport const BASE_LAYER = 'base';\n","export const DATA = 'data';\nexport const CONFIG = 'config';\nexport const MEASUREMENT = 'measurement';\nexport const DOMAIN = 'domain';\nexport const MOUNT = 'mount';\n","import {\n    FieldType,\n    getDomainFromData,\n    setStyles,\n    easeFns,\n    selectElement,\n    DimensionSubtype,\n    retrieveNearestGroupByReducers,\n    getObjProp,\n    COORD_TYPES,\n    CommonProps,\n    defaultValue\n} from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { transformFactory } from '@chartshq/transform';\nimport { IDENTITY, STACK, GROUP, COLOR, SHAPE, SIZE, ENCODING, AGG_FN_SUM, ASCENDING, TEXT } from '../enums/constants';\n\nconst BAND = ScaleType.BAND;\nconst { POLAR, CARTESIAN } = COORD_TYPES;\n\nexport const transformColor = (colorAxis, datum, styleType, intensity) => {\n    const meta = datum.meta;\n    const stateColor = defaultValue(meta.stateColor[styleType], meta.originalColor[styleType]);\n    const colorInfo = colorAxis.transformColor(stateColor, intensity);\n\n    meta.stateColor[styleType] = colorInfo.hsla;\n    return colorInfo;\n};\n\nexport const applyInteractionStyle = (context, selectionSet, interactionStyles, config) => {\n    const elements = context.getPlotElementsFromSet(selectionSet);\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const apply = config.apply;\n    const interactionType = config.interactionType;\n\n    interactionStyles.forEach((style) => {\n        const styleType = style.type;\n        elements.forEach((elem) => {\n            const isSpecificInteraction = context.applySpecificStyle(styleType, {\n                elem,\n                apply,\n                interactionType,\n                style,\n                colorAxis\n            });\n\n            if (!isSpecificInteraction) {\n                // Common style for all the layers\n                elem.style(styleType, ((d) => {\n                    const { colorTransform, stateColor, originalColor } = d.meta;\n                    colorTransform[interactionType] = colorTransform[interactionType] || {};\n\n                    if (apply && !colorTransform[interactionType][styleType]) {\n                        // fade selections\n                        colorTransform[interactionType][styleType] = style.intensity;\n                        const color = transformColor(colorAxis, d, styleType, style.intensity).color;\n                        return color;\n                    }\n                    if (!apply && colorTransform[interactionType][styleType]) {\n                        // unfade selections\n                        colorTransform[interactionType][styleType] = null;\n                        return transformColor(colorAxis, d, styleType, style.intensity.map(e => -e)).color;\n                    }\n                    const [h, s, l, a] = stateColor[styleType] ? stateColor[styleType] : originalColor[styleType];\n                    return `hsla(${h * 360},${s * 100}%,${l * 100}%, ${a})`;\n                }));\n            }\n        });\n    });\n};\n\nexport const retrieveEncodingInf = (encoding, fieldsConfig, encodingNames) => {\n    const encodingInf = {};\n\n    encodingNames\n        .forEach((e) => {\n            const field = getObjProp(encoding, e, 'field');\n            encodingInf[`${e}Field`] = field;\n            encodingInf[`${e}FieldIndex`] = getObjProp(fieldsConfig, field, 'index');\n            encodingInf[`${e}FieldType`] = getObjProp(fieldsConfig, field, 'def', 'type');\n            encodingInf[`${e}FieldSubType`] = getObjProp(fieldsConfig, field, 'def', 'subtype');\n        });\n    return encodingInf;\n};\n\nexport const encodingFieldInfRetriever = {\n    [POLAR]: (encoding, fieldsConfig) => {\n        const fields = [ENCODING.RADIUS, ENCODING.RADIUS0, ENCODING.ANGLE, ENCODING.ANGLE0, COLOR, SHAPE, SIZE, TEXT];\n        return retrieveEncodingInf(encoding, fieldsConfig, fields);\n    },\n    [CARTESIAN]: (encoding, fieldsConfig) => {\n        const fields = [ENCODING.X, ENCODING.Y, ENCODING.X0, ENCODING.Y0, COLOR, SHAPE, SIZE, TEXT];\n        return retrieveEncodingInf(encoding, fieldsConfig, fields);\n    }\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} config\n * @param {*} transformType\n *\n */\nexport const transformData = (dataModel, config, transformType, encodingFieldInf) => {\n    const data = dataModel.getData({ withUid: true });\n    const schema = data.schema;\n    const transform = config.transform;\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = encodingFieldInf;\n    const uniqueField = xFieldType === FieldType.MEASURE ? yField : xField;\n\n    return transformFactory(transformType)(schema, data.data, {\n        groupBy: transform.groupBy,\n        uniqueField,\n        sort: transform.sort || 'none',\n        offset: transform.offset,\n        orderBy: transform.orderBy,\n        value: yFieldType === FieldType.MEASURE ? yField : xField\n    }, data.uids);\n};\n\nexport const getIndividualClassName = (d, i, data, context) => {\n    const className = context.config().individualClassName;\n    let classNameStr = '';\n    if (className instanceof Function) {\n        classNameStr = className(d, i, data, context);\n    }\n    return classNameStr;\n};\n\nexport const dataNormalizers = {\n    [POLAR]: (transformedData, encodingFieldInf, fieldsConfig) => {\n        const {\n            radiusFieldIndex,\n            angleFieldIndex,\n            radius0FieldIndex,\n            angle0FieldIndex\n        } = encodingFieldInf;\n        const fieldsLen = Object.keys(fieldsConfig).length;\n\n        /**\n         * Returns normalized data from transformed data. It recursively traverses through\n         * the transformed data if there it is nested.\n         */\n        return transformedData.map(data => data.map((d) => {\n            const pointObj = {\n                radius: d[radiusFieldIndex],\n                angle: angleFieldIndex !== undefined ? d[angleFieldIndex] : 1,\n                radius0: d[radius0FieldIndex],\n                angle0: d[angle0FieldIndex]\n            };\n            [COLOR, SHAPE, SIZE, TEXT].forEach((enc) => {\n                pointObj[enc] = d[encodingFieldInf[`${enc}FieldIndex`]];\n            });\n            pointObj.source = d;\n            pointObj.rowId = d[fieldsLen];\n            return pointObj;\n        })).filter(d => d.length);\n    },\n    [CARTESIAN]: (transformedData, encodingFieldInf, fieldsConfig, transformType) => {\n        const {\n            xFieldType,\n            xFieldIndex,\n            yFieldIndex,\n            x0FieldIndex,\n            y0FieldIndex\n        } = encodingFieldInf;\n        const fieldsLen = Object.keys(fieldsConfig).length;\n        /**\n         * Returns normalized data from transformed data. It recursively traverses through\n         * the transformed data if there it is nested.\n         */\n        return transformedData.map((data) => {\n            const values = transformType === GROUP ? data.values : data;\n            return values.map((d) => {\n                let pointObj = {};\n                let tuple;\n                if (transformType === STACK) {\n                    tuple = d.data || [];\n                    let y;\n                    let y0;\n                    let x;\n                    let x0;\n                    if (d[1] >= d[0]) {\n                        y = x0 = d[1];\n                        x = y0 = d[0];\n                    } else {\n                        y = x0 = d[0];\n                        x = y0 = d[1];\n                    }\n\n                    pointObj = xFieldType === FieldType.MEASURE ? {\n                        x,\n                        x0,\n                        y: tuple[yFieldIndex],\n                        y0: tuple[yFieldIndex]\n                    } : {\n                        x: tuple[xFieldIndex],\n                        x0: tuple[xFieldIndex],\n                        y,\n                        y0\n                    };\n                    pointObj.source = tuple;\n                    pointObj.rowId = tuple[fieldsLen];\n                    [COLOR, SHAPE, SIZE, TEXT].forEach((enc) => {\n                        pointObj[enc] = tuple[encodingFieldInf[`${enc}FieldIndex`]];\n                    });\n                } else {\n                    pointObj = {\n                        x: d[xFieldIndex],\n                        y: d[yFieldIndex],\n                        x0: d[x0FieldIndex],\n                        y0: d[y0FieldIndex]\n                    };\n                    pointObj.source = d;\n                    pointObj.rowId = d[fieldsLen];\n                    [COLOR, SHAPE, SIZE, TEXT].forEach((enc) => {\n                        pointObj[enc] = d[encodingFieldInf[`${enc}FieldIndex`]];\n                    });\n                }\n                return pointObj;\n            });\n        }).filter(d => d.length);\n    }\n};\n/*\n * This method resolves the x, y, x0 and y0 values from the transformed data.\n * It also checks the type of transformed data for example, if it is a stacked data\n * then it fetches the y and y0 values from the stacked data.\n * @param {Array.<Array>} transformedData transformed data\n * @param {Object} fieldsConfig field definitions\n * @param {string} transformType type of transformed data - stack, group or identity.\n * @return {Array.<Object>} Normalized data\n*/\nexport const getNormalizedData = (transformedData, context) => {\n    const transformType = context.transformType();\n    const transformedDataArr = transformType === IDENTITY ? [transformedData] : transformedData;\n    const encodingFieldInf = context.encodingFieldsInf();\n    const fieldsConfig = context.data().getFieldsConfig();\n    return dataNormalizers[context.coord()](transformedDataArr, encodingFieldInf, fieldsConfig, transformType);\n};\n\nexport const domainCalculator = {\n    [POLAR]: (data, layerInst) => {\n        const config = layerInst.config();\n        const { sort } = config;\n        let angleValues = data[0];\n        const radius0Field = getObjProp(config.encoding.radius0, 'field');\n        if (sort) {\n            angleValues = angleValues.sort((a, b) => (sort === ASCENDING ? a.radius - b.radius : b.radius - a.radius));\n        }\n        const radiusDomain = getDomainFromData(data, [ENCODING.RADIUS, radius0Field ?\n            ENCODING.RADIUS0 : ENCODING.RADIUS]);\n        return {\n            radius: radiusDomain,\n            angle: angleValues.map(d => d.angle),\n            angle0: angleValues.map(d => d.angle0)\n        };\n    },\n    [CARTESIAN]: (data, layerInst) => {\n        const transformType = layerInst.transformType();\n        const encodingFieldInf = layerInst.encodingFieldsInf();\n        const {\n            xFieldSubType,\n            yFieldSubType,\n            xField,\n            yField,\n            x0Field,\n            y0Field\n        } = encodingFieldInf;\n        const domains = {};\n        const yEnc = ENCODING.Y;\n        const xEnc = ENCODING.X;\n        if (xField) {\n            domains.x = getDomainFromData(data, x0Field || transformType === STACK ? [xEnc, ENCODING.X0] : [xEnc, xEnc],\n                xFieldSubType);\n        }\n        if (yField) {\n            domains.y = getDomainFromData(data, y0Field || transformType === STACK ? [ENCODING.Y0, ENCODING.Y] :\n                [yEnc, yEnc], yFieldSubType);\n        }\n\n        return domains;\n    }\n};\n\nexport const attachDataToVoronoi = (voronoi, points) => {\n    voronoi.data([].concat(...points).filter(d => d.rowId !== undefined).map((d) => {\n        const point = d.update;\n        return {\n            x: point.x,\n            y: point.y,\n            data: d\n        };\n    }));\n};\n\n/**\n *\n *\n * @param {*} target\n * @param {*} styles\n * @param {*} remove\n */\nexport const updateStyle = (target, styles, remove) => {\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            target.style(key, remove ? null : styles[key]);\n        }\n    }\n};\n\n/**\n *\n *\n * @param {*} mount\n * @param {*} context\n */\nexport const animateGroup = (mount, context) => {\n    let groupTransition;\n    let update;\n    const { transition, groupAnimateStyle } = context;\n    const { duration, effect, disabled } = transition;\n    if (groupAnimateStyle) {\n        setStyles(mount.node(), groupAnimateStyle.enter);\n        update = groupAnimateStyle.update;\n        if (!disabled) {\n            groupTransition = mount.transition()\n                .ease(easeFns[effect])\n                .duration(duration)\n                .on('end', function () {\n                    updateStyle(selectElement(this), update, true);\n                });\n        } else {\n            groupTransition = mount;\n        }\n        updateStyle(groupTransition, update);\n    }\n};\n\nexport const positionPoints = (context, points) => {\n    const positioner = context.encodingTransform();\n    if (positioner) {\n        return positioner(points, context, { smartLabel: context._dependencies.smartLabel });\n    }\n    return points;\n};\n\n/**\n  * Gets the width of each group. It gets the width from axis if it is available for\n  * example when the scale is nominal else it calculates the width from the\n  * range of the axis and number of data points.\n  *\n  * @param {SimpleAxis} axis instance of axis\n  * @param {number} minDiff Minimum difference between data points\n  * @return {number} width of each bar\n  * @private\n*/\nexport const getGroupSpan = (axis, minDiff) => {\n    let groupSpan;\n    const width = axis.getUnitWidth();\n    const scale = axis.scale();\n    const range = scale.range();\n    const domain = scale.domain();\n    !width ? groupSpan = (Math.abs(range[1] - range[0]) / Math.abs(domain[1] - domain[0])) * minDiff :\n        (groupSpan = width);\n\n    return groupSpan;\n};\n\nexport const getPlotMeasurement = (context, dimensionalValues) => {\n    const fieldInfo = context.encodingFieldsInf();\n    const axes = context.axes();\n    const transformType = context.transformType();\n    const config = context.config();\n    const bandScale = context._bandScale;\n\n    return ['x', 'y'].map((type) => {\n        let span = 0;\n        let groupSpan = 0;\n        let padding = 0;\n        let offsetValues = [];\n        if (fieldInfo[`${type}FieldType`] === FieldType.DIMENSION) {\n            let actualGroupWidth;\n            const isTemporal = fieldInfo[`${type}FieldSubType`] === DimensionSubtype.TEMPORAL;\n            const timeDiff = isTemporal ? context.dataProps().timeDiffs[type] : 0;\n            const axis = axes[type];\n            const pad = config[`pad${type.toUpperCase()}`];\n            const innerPadding = config.innerPadding;\n            const keys = dimensionalValues;\n            const scale = axis.scale();\n            groupSpan = getGroupSpan(axis, timeDiff);\n            const isAxisBandScale = axis.constructor.type() === BAND;\n            const axisPadding = axis.config().padding;\n            // If it is a grouped bar then the width of each bar in a grouping is retrieved from\n            // a band scale. The band scale will have range equal to width of one group of bars and\n            // the domain is set to series keys.\n            if (transformType === 'group') {\n                const groupPadding = isAxisBandScale ? 0 : axisPadding * groupSpan / 2;\n                bandScale.range([groupPadding, groupSpan - groupPadding]).domain(keys).paddingInner(innerPadding);\n                span = bandScale.bandwidth();\n                actualGroupWidth = groupSpan - (isAxisBandScale ? 0 : axisPadding * groupSpan);\n                offsetValues = keys.map(key => bandScale(key) - (isAxisBandScale ? 0 : (groupSpan / 2)));\n            } else if (pad !== undefined) {\n                let offset;\n                if (isAxisBandScale) {\n                    const step = scale.step();\n                    offset = scale.padding() * step;\n                    span = scale.bandwidth() + offset;\n                } else {\n                    span = groupSpan;\n                }\n                offsetValues = keys.map(() => (isAxisBandScale ? -(offset / 2) : -(span / 2)));\n            } else {\n                padding = isAxisBandScale ? 0 : axisPadding * groupSpan;\n                span = groupSpan - padding;\n                actualGroupWidth = span;\n                offsetValues = keys.map(() => (isAxisBandScale ? 0 : -(span / 2)));\n            }\n\n            groupSpan = actualGroupWidth;\n            padding = isAxisBandScale ? axisPadding * axis.scale().step() : axisPadding * groupSpan;\n        }\n\n        return {\n            span,\n            offsetValues,\n            groupSpan,\n            padding\n        };\n    });\n};\n\nexport const renderLayer = (context) => {\n    const mount = context.mount();\n    if (mount) {\n        context.render(mount);\n        context.dependencies().throwback.commit(CommonProps.ON_LAYER_DRAW, true, context.metaInf().parentNamespace);\n    }\n};\n\nconst transformResolverPredicates = (encodingFieldInf, context, groupByField) => {\n    const fieldsConfig = context.data().getFieldsConfig();\n    const { xField, yField, xFieldType, yFieldType } = encodingFieldInf;\n    const dimensionField = ['xField', 'yField'].find(type =>\n        encodingFieldInf[`${type}Type`] === FieldType.DIMENSION);\n\n    return [\n        !xField,\n        !yField,\n        !groupByField,\n        getObjProp(fieldsConfig[groupByField], 'def', 'type') === FieldType.MEASURE,\n        xFieldType === FieldType.DIMENSION && yFieldType === FieldType.DIMENSION,\n        dimensionField && encodingFieldInf[dimensionField] === groupByField\n    ];\n};\n\nexport const resolveInvalidTransformType = (context) => {\n    const encodingFieldInf = context.encodingFieldsInf();\n    const groupByField = context.config().transform.groupBy;\n\n    if (transformResolverPredicates(encodingFieldInf, context, groupByField).some(value => value)) {\n        return IDENTITY;\n    }\n    return null;\n};\n\nexport const getValidTransform = context => resolveInvalidTransformType(context) || context.config().transform.type;\n\nexport const getValidTransformForAggFn = (context) => {\n    const resolvedInvalidTransformType = resolveInvalidTransformType(context);\n    if (resolvedInvalidTransformType) {\n        return resolvedInvalidTransformType;\n    }\n\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = context.encodingFieldsInf();\n    const groupByField = context.config().transform.groupBy;\n    const isCustomTransformTypeProvided = !!getObjProp(context._customConfig, 'transform', 'type');\n    let transformType = context.config().transform.type;\n\n    if (!isCustomTransformTypeProvided && groupByField && xFieldType !== yFieldType) {\n        const measureField = xFieldType === FieldType.MEASURE ? xField : yField;\n        const { [measureField]: aggFn } = retrieveNearestGroupByReducers(context.data(), measureField);\n        transformType = aggFn === AGG_FN_SUM ? STACK : GROUP;\n    }\n\n    return transformType;\n};\n\nexport const getMarkId = (source, schema) => source.filter((val, i) => schema[i] &&\n    schema[i].type === FieldType.DIMENSION).join();\n\nexport const resolveEncodingValues = (data, i, dataArr, layerInst) => {\n    const transformedValues = {};\n    const values = data.values;\n    const encoding = layerInst.config().encoding;\n    for (const key in values) {\n        const value = getObjProp(encoding[key], 'value');\n        if (value instanceof Function) {\n            transformedValues[key] = value(values, i, dataArr, layerInst);\n        } else {\n            transformedValues[key] = values[key];\n        }\n    }\n    return transformedValues;\n};\n\nexport const getColorMetaInf = (colorInf, colorAxis, auxStyles = {}) => ({\n    originalColor: Object.keys(colorInf).reduce((acc, key) => {\n        if (colorInf[key]) {\n            acc[key] = colorAxis.getHslArray(colorInf[key]);\n        }\n        return acc;\n    }, {}),\n    originalStroke: {\n        stroke: auxStyles.stroke,\n        'stroke-width': auxStyles.strokeWidth\n    },\n    stateStroke: {},\n    stateColor: {},\n    colorTransform: {}\n});\n\nconst getCoordValue = (radius, trig, angle, offset) => radius * Math[trig](angle) + offset;\n\nconst coordValueGetter = (radius, angle, xOffset, yOffset) => ({\n    x: getCoordValue(radius, 'cos', angle, xOffset),\n    y: getCoordValue(radius, 'sin', angle, yOffset)\n});\n\nexport const toCartesianCoordinates = (points, measurement, rangePlot = false) => {\n    const xOffset = measurement.width / 2;\n    const yOffset = measurement.height / 2;\n    for (let i = 0, len = points.length; i < len; i++) {\n        const point = points[i];\n        const { angle, radius, radius0, angle0 } = point.update;\n        point.update = coordValueGetter(radius, angle, xOffset, yOffset);\n        if (rangePlot) {\n            const update = point.update = coordValueGetter(radius0, angle0, xOffset, yOffset);\n            const { x: x0, y: y0 } = coordValueGetter(radius, angle, xOffset, yOffset);\n            update.x0 = x0;\n            update.y0 = y0;\n        }\n    }\n    return points;\n};\n\nexport const sortData = (data, axes) => {\n    const { x: xAxis, y: yAxis } = axes;\n    const axisArr = [xAxis, yAxis];\n    for (let i = 0, len = axisArr.length; i < len; i++) {\n        const axis = axisArr[i];\n        if (axis.constructor.type() === BAND) {\n            const key = i ? 'y' : 'x';\n            const dom = axis.domain();\n            const indices = dom.reduce((acc, v, idx) => {\n                acc[v] = idx;\n                return acc;\n            }, {});\n            data.sort((a, b) => indices[a[key]] - indices[b[key]]);\n            break;\n        }\n    }\n    return data;\n};\n","import { AreaLayer, AreaLayerMixin } from './layers/area';\nimport { ArcLayer, ArcLayerMixin } from './layers/arc';\nimport { LineLayer, LineLayerMixin } from './layers/line';\nimport { TextLayer, TextLayerMixin } from './layers/text';\nimport { PointLayer, PointLayerMixin } from './layers/point';\nimport { BarLayer, BarLayerMixin } from './layers/bar';\nimport { TickLayer, TickLayerMixin } from './layers/tick';\nimport { SimpleLayer } from './simple-layer';\nimport { BaseLayer, BaseLayerMixin } from './base-layer';\nimport * as LAYER_TYPES from './enums/layer-types';\nimport layerFactory from './layer-factory';\nimport layerRegistry from './layer-registry';\nimport { ENCODING } from './enums/constants';\nimport * as pointLayerHelpers from './layers/point/helper';\nimport * as commonHelpers from './helpers';\nimport * as enums from './enums';\n\nconst helpers = Object.assign(commonHelpers, {\n    pointLayerHelpers\n});\n\nconst layerMixins = {\n    BarLayerMixin,\n    BaseLayerMixin,\n    LineLayerMixin,\n    AreaLayerMixin,\n    PointLayerMixin,\n    TextLayerMixin,\n    TickLayerMixin,\n    ArcLayerMixin\n};\n\nexport {\n    BaseLayer,\n    BarLayer,\n    LineLayer,\n    AreaLayer,\n    PointLayer,\n    ArcLayer,\n    TextLayer,\n    TickLayer,\n    layerFactory,\n    SimpleLayer,\n    layerRegistry,\n    LAYER_TYPES,\n    ENCODING,\n    helpers,\n    enums,\n    layerMixins\n};\n","import layerFactory from './layer-factory';\n\nexport default layerFactory;\n","import { isSimpleObject, mergeRecursive, getObjProp } from 'muze-utils';\n\nconst parseLayerDefinition = (sink, definition, layerDef, layerType) => {\n    for (const key in definition) {\n        if (Object.hasOwnProperty.call(definition, key)) {\n            let strs;\n            let propValue;\n            const def = definition[key];\n            if (isSimpleObject(def)) {\n                sink[key] = {};\n                parseLayerDefinition(sink[key], def, layerDef, layerType);\n            } else if (typeof def === 'string' && (strs = def.split('.')) && strs[0] === layerType) {\n                propValue = getObjProp(layerDef, ...strs.slice(1, strs.length));\n                if (propValue !== undefined) {\n                    sink[key] = propValue;\n                }\n            } else {\n                sink[key] = def;\n            }\n        }\n    }\n};\n\nconst sanitizeEncoding = (encoding) => {\n    // Create object for each encoding value if encoding value is a string\n    for (const key in encoding) {\n        if (typeof encoding[key] === 'string') {\n            encoding[key] = {\n                field: encoding[key]\n            };\n        }\n    }\n};\n\n/**\n * Layer Factory creates layers based on the layer type. All types of layers needs to register in\n * the layer factory. For getting a layer instance, getLayer method needs to invoked with the\n * layerType and other arguments. It also registers the definition of composite layers.\n *\n * @public\n *\n * @module LayerFactory\n */\nconst layerFactory = (() => {\n    const compositeLayers = {};\n    const factoryObj = {\n        setLayerRegistry: (reg) => {\n            factoryObj._layerRegistry = reg;\n        },\n        getSerializedConf: (mark, layerDef) => {\n            let serializedDefs;\n            const defs = compositeLayers[mark];\n            const newConf = mergeRecursive({}, layerDef);\n\n                // If it is a composite layer then resolve all the definitions of each unit layer\n            if (defs) {\n                serializedDefs = defs.map((unitLayerDef) => {\n                    const sDef = {};\n                    parseLayerDefinition(sDef, unitLayerDef, newConf, mark);\n                    sanitizeEncoding(sDef.encoding);\n                    return sDef;\n                });\n            } else {\n                const encoding = newConf.encoding;\n                // Create object for each encoding value if encoding value is a string\n                sanitizeEncoding(encoding);\n                serializedDefs = newConf;\n            }\n\n            return serializedDefs;\n        },\n        getLayerInstance: (layerDef, ...params) => {\n            const layerRegistry = factoryObj._layerRegistry;\n            layerDef = !(layerDef instanceof Array) ? [layerDef] : layerDef;\n            const instances = layerDef.map((layerObj) => {\n                const layerConstructor = layerRegistry[layerObj.mark];\n                return layerConstructor.create(...params);\n            });\n            return instances.length === 1 ? instances[0] : instances;\n        },\n        getLayerClass: mark => factoryObj._layerRegistry[mark],\n        /**\n         * Registers a new composite layer definition in the layer factory.\n         *\n         * @public\n         *\n         * @param {string} layerType Mark type of the new composite layer.\n         * @param {Array} layerDefs Layer definitions of the composite layer.\n         */\n        composeLayers: (layerType, layerDefs) => {\n            compositeLayers[layerType] = layerDefs;\n        },\n        sanitizeLayerConfig: (layerDef) => {\n            const newConf = mergeRecursive({}, layerDef);\n            sanitizeEncoding(newConf.encoding);\n            return newConf;\n        }\n    };\n    return factoryObj;\n})();\n\nexport default layerFactory;\n","import { DEFAULT_LAYERS } from './defaults';\n\nexport default (layers = DEFAULT_LAYERS) => {\n    const reg = Object.assign({}, layers);\n    const regObj = {\n        register: (def) => {\n            const key = def.formalName();\n\n            reg[key] = def;\n            return regObj;\n        },\n        get: () => reg\n    };\n    return regObj;\n};\n","import { getObjProp, interpolator, FieldType, selectElement } from 'muze-utils';\nimport { ANGLE, RADIUS, SIZE, COLOR } from '../../enums/constants';\n\nexport const getPreviousPoint = (prevData, currIndex, context) => {\n    const prevArc = prevData[currIndex - 1];\n    const nextArc = prevData[currIndex];\n    const [startAngle, endAngle] = context.axes().angle.range();\n    if (prevArc && nextArc) {\n        return {\n            update: {\n                angle0: getObjProp(prevArc, 'update', 'angle'),\n                angle: getObjProp(nextArc, 'update', 'angle0')\n            }\n        };\n    } else if (!nextArc) {\n        return {\n            update: {\n                angle0: (endAngle - 90) * Math.PI * 2 / 360,\n                angle: (endAngle - 90) * Math.PI * 2 / 360\n            }\n        };\n    }\n    return {\n        update: {\n            angle0: (startAngle - 90) * Math.PI * 2 / 360,\n            angle: (startAngle - 90) * Math.PI * 2 / 360\n        }\n    };\n};\n\nexport const tweenPie = (path, b) => {\n    const datum = b[0];\n    return function (t) {\n        return path(interpolator()(datum._previousInfo, datum)(t));\n    };\n};\n\nexport const tweenExitPie = (consecutiveExits, transition, path) => {\n    if (consecutiveExits.length > 0) {\n        consecutiveExits.forEach((consecutiveExitArr) => {\n            const startAngle = consecutiveExitArr[0].datum.update.angle0;\n            const endAngle = consecutiveExitArr[consecutiveExitArr.length - 1].datum.update.angle;\n            const mid = (Math.PI * 2 * startAngle) / ((Math.PI * 2) + startAngle - endAngle);\n\n            consecutiveExitArr.forEach((e) => {\n                const { elem, datum } = e;\n\n                elem.each(function () {\n                    const gElem = selectElement(this);\n                    gElem.selectAll('path')\n                                    .transition()\n                                    .duration(transition.duration)\n                                    .attrTween('d', () => function (t) {\n                                        return path(interpolator()(datum, {\n                                            update: {\n                                                angle0: mid,\n                                                angle: mid,\n                                                radius: datum.radius,\n                                                radius0: datum.radius0\n                                            }\n                                        })(t));\n                                    })\n                                    .remove();\n                    gElem.remove();\n                });\n            });\n        });\n    }\n};\n\nexport const getFieldIndices = (encoding, fieldsConfig) => {\n    const [angleField, radiusField, colorField, sizeField] = [ANGLE, RADIUS, COLOR, SIZE]\n            .map(e => encoding[e].field);\n    const [angleIndex, sizeIndex, radiusIndex] = [angleField, sizeField, radiusField]\n        .map((e) => {\n            const conf = fieldsConfig[e];\n            if (conf && conf.def.type === FieldType.MEASURE) {\n                return conf.index;\n            }\n            return null;\n        });\n    const colorIndex = getObjProp(fieldsConfig, colorField, 'index');\n    return {\n        angleIndex,\n        sizeIndex,\n        radiusIndex,\n        colorIndex\n    };\n};\n","import {\n    makeElement,\n    selectElement,\n    getQualifiedClassName,\n    isSimpleObject,\n    Symbols,\n    FieldType,\n    ReservedFields\n} from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { getIndividualClassName, resolveEncodingValues, getColorMetaInf } from '../../helpers';\nimport { tweenPie, tweenExitPie, getPreviousPoint } from './arc-helper';\nimport './styles.scss';\n\nconst arc = Symbols.arc;\n\nexport const ArcLayerMixin = superclass => class extends superclass {\n    constructor (data, axes, config, dependencies) {\n        super(data, axes, config, dependencies);\n        this._prevPieData = {};\n    }\n\n    /**\n    * returns the default configuration of the layer\n    *\n    * @static\n    * @return {Object} Default configuration for arc layer\n    * @memberof ArcLayer\n    */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'arc';\n    }\n\n    elemType () {\n        return 'path';\n    }\n\n    getNearestPoint (x, y, config = {}) {\n        return this.getDataFromEvent(config.event);\n    }\n\n    getDataFromEvent (event) {\n        const dataPoint = selectElement(event.target).data()[0];\n        if (isSimpleObject(dataPoint)) {\n            const { source, rowId } = dataPoint;\n            return {\n                id: this.getIdentifiersFromData(source, rowId),\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    translatePoints (data) {\n        const { angle, color: colorAxis, radius: radiusAxis } = this.axes();\n        const pieIndex = {};\n        const prevData = this._points[0] || [];\n        const points = [];\n        const angleV = {};\n\n        this._prevPieData = {};\n        prevData.forEach((e, index) => {\n            this._prevPieData[e.rowId] = [e, index];\n            pieIndex[e.index] = e;\n        });\n        data.forEach((d, i) => {\n            const angles = angle.getScaleValue(d.angle);\n            if (angles) {\n                !angleV[d.angle] && (angleV[d.angle] = 0);\n                const { startAngle, endAngle } = angles[angleV[d.angle]++];\n                const uid = d.rowId;\n                const resolvedEncodings = resolveEncodingValues({\n                    values: {\n                        radius: radiusAxis.getOuterRadius(d.radius),\n                        radius0: radiusAxis.getInnerRadius(d.radius0),\n                        color: colorAxis.getColor(d.color),\n                        angle0: startAngle,\n                        angle: endAngle,\n                        startAngle,\n                        endAngle,\n                        startAngle0: startAngle,\n                        endAngle0: endAngle\n                    },\n                    data: d\n                }, i, data, this);\n                const color = resolvedEncodings.color;\n                points.push({\n                    source: d.source,\n                    index: i,\n                    enter: {},\n                    update: {\n                        angle0: resolvedEncodings.angle0,\n                        angle: resolvedEncodings.angle,\n                        radius0: resolvedEncodings.radius0,\n                        radius: resolvedEncodings.radius\n                    },\n                    color,\n                    meta: getColorMetaInf({\n                        fill: color\n                    }, colorAxis),\n                    rowId: uid,\n                    _previousInfo: this._prevPieData[uid] ? this._prevPieData[uid][0] :\n                        getPreviousPoint(pieIndex, i, this)\n                });\n            }\n        });\n        return points;\n    }\n\n    render (container) {\n        const measurement = this.measurement();\n        const {\n            classPrefix,\n            defClassName,\n            cornerRadius,\n            padAngle,\n            padRadius,\n            transition\n        } = this.config();\n        const qualClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        // This returns a function that generates the arc path based on the datum provided\n        const path = this._arcFn = arc()\n                .cornerRadius(cornerRadius)\n                .startAngle(d => d.update.angle0 + Math.PI / 2)\n                .endAngle(d => d.update.angle + Math.PI / 2)\n                .padAngle(padAngle)\n                .padRadius(padRadius)\n                .outerRadius(d => d.update.radius)\n                .innerRadius(d => d.update.radius0);\n\n        this._points = this._normalizedData.map(arr => this.translatePoints(arr));\n        const graphicElems = this._graphicElems = {};\n        // Creating the group that holds all the arcs\n        const g = makeElement(selectElement(container), 'g', this._points, `${qualClassName[0]}-group`)\n                .classed(`${qualClassName[1]}-group`, true)\n                .attr('transform', `translate(${measurement.width / 2},\n                    ${measurement.height / 2})`);\n        const tween = (elem) => {\n            makeElement(elem, 'path', d => [d], `${qualClassName[0]}-path`)\n                .style('fill', d => d.color)\n                .each(function (d) {\n                    graphicElems[d.rowId] = selectElement(this);\n                })\n                .transition()\n                .duration(transition.duration)\n                .on('end', this.registerAnimationDoneHook())\n                .attrTween('d', (...params) => tweenPie(path, params))\n                .attr('class', (d, i) => {\n                    const individualClass = getIndividualClassName(d, i, this._points, this);\n                    return `${qualClassName[0]}-path ${qualClassName[1]}-path-${d.index}\n                        ${individualClass}`;\n                });\n        };\n        const consecutiveExits = [];\n        let exitCounter = 0;\n        const tweenExit = (elem, d) => {\n            let exitArr = consecutiveExits[exitCounter];\n            const oldExitCounter = exitCounter;\n            if (!exitArr) {\n                exitArr = [{ elem, datum: d }];\n            } else if (exitArr[exitArr.length - 1].datum.index === d.index - 1) {\n                exitArr.push({ elem, datum: d });\n            } else {\n                exitCounter++;\n            }\n            consecutiveExits[oldExitCounter] = exitArr;\n        };\n        // Creating groups for all the arcs present individually\n        makeElement(g, 'g', d => d, `${qualClassName[0]}`,\n            {\n                update: tween,\n                exit: tweenExit\n            })\n                        .attr('class', (d, i) => `${qualClassName[0]} ${qualClassName[1]}-${i}`);\n        tweenExitPie(consecutiveExits, transition, path);\n        return this;\n    }\n\n    getPointsFromIdentifiers (identifiers) {\n        if (!this.data()) {\n            return [];\n        }\n        const fieldNames = identifiers[0];\n        const values = identifiers.slice(1, identifiers.length);\n        const pieSlices = selectElement(this.mount()).selectAll('path').data();\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPies = pieSlices.filter((tData) => {\n            const { source, rowId } = tData;\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === source[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === rowId) !== -1;\n                } return true;\n            });\n        });\n\n        const pieSliceInf = filteredPies[0];\n        if (pieSliceInf) {\n            const measurement = this.measurement();\n            const centroid = this._arcFn.centroid(pieSliceInf);\n            return [{\n                x: centroid[0] + measurement.width / 2,\n                y: centroid[1] + measurement.height / 2,\n                width: 2,\n                height: 2\n            }];\n        }\n        return [];\n    }\n};\n\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayerMixin, BaseLayer } from '../../base-layer';\nimport { ArcLayerMixin } from './arc-mixin';\n\n/**\n * Arc Layer creates a plot with polar coordinates.\n *\n * @public\n *\n * @class\n * @module ArcLayer\n * @extends BaseLayer\n */\nexport default class ArcLayer extends mix(BaseLayer).with(BaseLayerMixin, ArcLayerMixin) {\n    static formalName () {\n        return 'arc';\n    }\n}\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-arc',\n    padding: { top: 1, bottom: 1, left: 1, right: 1 },\n    className: '',\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    height: 100,\n    width: 100,\n    sort: '',\n    colors: ['#F44336', 'blue', 'green', 'yellow', 'orange', 'purple'],\n    transform: {\n        type: 'identity'\n    },\n    encoding: {\n        'stroke-width': {\n            value: '2px'\n        },\n        'stroke-linejoin': {\n            value: 'round'\n        },\n        angle: {\n            value: '1'\n        },\n        radius: {\n            value: '1'\n        },\n        opacity: {\n            value: '1'\n        },\n        color: {\n            value: '1'\n        },\n        shape: {\n            value: '1'\n        },\n        size: {\n            value: '1'\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 500\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-arc-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-arc-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-arc-selected`\n        }\n    }\n};\n\n","export { default as ArcLayer } from './arc';\nexport { ArcLayerMixin } from './arc-mixin';\n","// extracted by mini-css-extract-plugin","import { FieldType, InvalidAwareTypes, getObjProp } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport drawArea from './renderer';\nimport './styles.scss';\nimport { STACK, ENCODING } from '../../enums/constants';\nimport {\n    positionPoints,\n    getIndividualClassName,\n    getValidTransformForAggFn,\n    getColorMetaInf,\n    resolveEncodingValues,\n    sortData\n} from '../../helpers';\n\n/**\n * Area layer renders a closed path. The mark type of this layer is ```area```. This layer can be used\n * to create stacked or multi-series areas and vertical range area plots by using the encoding properties.\n *\n * To create this layer using layer configuration from canvas,\n * ```\n *      canvas.layers([{\n *          mark: 'area',\n *          transform: {\n *              type: 'stack' // Produces a stacked area.\n *          }\n *      }]);\n * ```\n *\n * @public\n *\n * @class\n * @module AreaLayer\n * @extends LineLayer\n */\nexport const AreaLayerMixin = superclass => class extends superclass {\n\n    /** Default configuration of area layer\n     *\n     * @return {Object} Default configuration of layer\n    */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     * Calculates the domain from data. It calls its parent class's method which is line layer\n     * to get the domain and overwrites the domain according to its need.\n     * @return {Array} Domain values\n     */\n    calculateDomainFromData (data, encodingFieldsInf, fieldsConfig) {\n        const domains = super.calculateDomainFromData(data, fieldsConfig);\n        [ENCODING.X, ENCODING.Y].forEach((type) => {\n            const { [`${type}FieldType`]: fieldType } = encodingFieldsInf;\n            if (fieldType === FieldType.MEASURE && getObjProp(domains[type], 'length')) {\n                domains[type][0] = Math.min(domains[type][0], 0);\n                domains[type][1] = Math.max(0, domains[type][1]);\n            }\n        });\n        return domains;\n    }\n\n    /**\n     * Returns the drawing method of this layer\n     * @return {Function} Draw method\n     */\n    getDrawFn () {\n        return drawArea;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @return {Array} Array of points\n     */\n    translatePoints (data) {\n        let points = [];\n        const transformType = this.transformType();\n        const axes = this.axes();\n        const colorAxis = axes.color;\n        const config = this.config();\n        const fieldsConfig = this.data().getFieldsConfig();\n        const { xField, yField, y0Field } = this.encodingFieldsInf();\n        const { x: xAxis, y: yAxis } = axes;\n        const classNameFn = config.individualClassName;\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n        const minYVal = yAxis.domain()[0];\n        const basePos = minYVal < 0 ? yAxis.getScaleValue(0) : yAxis.getScaleValue(minYVal);\n        sortData(data, axes);\n        points = data.map((d, i) => {\n            let color;\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y);\n            const y0Px = (y0Field || transformType === STACK) ? yAxis.getScaleValue(d.y0) : basePos;\n            color = colorAxis.getColor(d.color);\n            const invalidY = d.y instanceof InvalidAwareTypes;\n            const invalidY0 = d.y0 instanceof InvalidAwareTypes;\n            const resolvedValues = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    y0: y0Px,\n                    color\n                },\n                data: d\n            }, i, data, this);\n            color = resolvedValues.color;\n            const style = {\n                fill: color\n            };\n\n            const point = {\n                enter: {\n                    x: xPx,\n                    y: invalidY ? null : basePos,\n                    y0: invalidY0 ? null : basePos\n                },\n                update: {\n                    x: xPx,\n                    y: invalidY ? null : resolvedValues.y,\n                    y0: invalidY0 ? null : resolvedValues.y0\n                },\n                source: d.source,\n                rowId: d.rowId,\n                className: classNameFn ? classNameFn(d, i, data, this) : '',\n                style,\n                meta: getColorMetaInf(style, colorAxis)\n            };\n            point.className = getIndividualClassName(d, i, data, this);\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n        points = points.filter((point) => {\n            const update = point.update;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    }\n\n    resolveTransformType () {\n        this._transformType = getValidTransformForAggFn(this);\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            fill: color\n        };\n    }\n};\n\n","import { mix } from 'muze-utils';\nimport { AREA_LAYER } from '../../enums/constants';\nimport { BaseLayer, BaseLayerMixin } from '../../base-layer';\nimport { LineLayerMixin } from '../line/line-mixin';\nimport { AreaLayerMixin } from './area-mixin';\n\n/**\n * Area layer renders a closed path. The mark type of this layer is ```area```. This layer can be used\n * to create stacked or multi-series areas and vertical range area plots by using the encoding properties.\n *\n * To create this layer using layer configuration from canvas,\n * ```\n *      canvas.layers([{\n *          mark: 'area',\n *          transform: {\n *              type: 'stack' // Produces a stacked area.\n *          }\n *      }]);\n * ```\n *\n * @public\n *\n * @class\n * @module AreaLayer\n * @extends LineLayer\n */\nexport default class AreaLayer extends mix(BaseLayer).with(BaseLayerMixin, LineLayerMixin, AreaLayerMixin) {\n    static formalName () {\n        return AREA_LAYER;\n    }\n}\n\n","import { CLASSPREFIX, STACK } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-area',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: STACK\n    },\n    interaction: {\n\n    },\n    nearestPointThreshold: 10,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        y0: {},\n        strokeOpacity: {\n            value: 1\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n","export { default as AreaLayer } from './area';\nexport { AreaLayerMixin } from './area-mixin';\n","import {\n    easeFns,\n    selectElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\n\nconst area = Symbols.area;\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nconst /* istanbul ignore next */ drawArea = (params) => {\n    let filteredPoints;\n    const { layer, container, points, style, transition, className, connectNullData, interpolate } = params;\n\n    const { effect: easeEffect, duration } = transition;\n    const mount = selectElement(container);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const selection = mount.selectAll('path').data(points.length ? [points[0].className] : []);\n    const [enterAreaPath, updateAreaPath] = ['enter', 'update'].map(e => area().curve(curveInterpolatorFn)\n                    .x(d => d[e].x)\n                    .y1(d => d[e].y)\n                    .y0(d => d[e].y0)\n                    .defined(d => d[e].y !== null\n            ));\n\n    filteredPoints = points;\n    mount.attr('class', className);\n    if (connectNullData) {\n        filteredPoints = points.filter(d => d.update.y !== null);\n    }\n    const selectionEnter = selection.enter().append('path').attr('d', enterAreaPath(filteredPoints));\n    selection.merge(selectionEnter).transition().ease(easeFns[easeEffect])\n                    .duration(duration)\n                    .on('end', layer.registerAnimationDoneHook())\n                    .attr('d', updateAreaPath(filteredPoints))\n                    .each(function (d) {\n                        const element = selectElement(this);\n                        element.attr('class', d);\n                        Object.keys(style).forEach(key => element.style(key, style[key]));\n                    });\n};\n\nexport default drawArea;\n","// extracted by mini-css-extract-plugin","import { MeasureSubtype, DimensionSubtype } from 'muze-utils';\nimport { STACK } from '../../enums/constants';\nimport {\n    positionPoints,\n    getIndividualClassName,\n    getColorMetaInf,\n    resolveEncodingValues\n} from '../../helpers';\n\nconst positionRetriever = {\n    x: (xPx, isNegativeVal, barBasePos) => (isNegativeVal ? [xPx, barBasePos] : [barBasePos, xPx]),\n    y: (yPx, isNegativeVal, barBasePos) => (isNegativeVal ? [barBasePos, yPx] : [yPx, barBasePos])\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fieldInfo\n * @param {*} config\n * @param {*} data\n *\n */\nconst resolveDimByField = (type, axesInfo, config, data) => {\n    const spaceType = type === 'x' ? 'width' : 'height';\n    const [fieldType, axis] = [config[`${type}FieldType`], axesInfo[`${type}Axis`]];\n    const {\n        transformType,\n        sizeEncoding,\n        sizeConfig,\n        measurement\n    } = config;\n\n    const sizeValue = sizeEncoding.value;\n    let enter = 0;\n    let pos;\n    let space = 0;\n    let enterSpace = 0;\n    if (fieldType !== undefined) {\n        if (config[`${type}0Field`]) {\n            const minVal = data[type];\n            const maxVal = data[`${type}0`];\n            let min;\n            let max;\n            if (minVal === null || maxVal === null) {\n                return {\n                    enterSpace: undefined,\n                    enter: undefined,\n                    pos: undefined,\n                    space: undefined\n                };\n            } else if (fieldType === MeasureSubtype.CONTINUOUS || fieldType === DimensionSubtype.TEMPORAL) {\n                min = Math.min(minVal, maxVal);\n                max = Math.max(minVal, maxVal);\n            } else {\n                min = minVal;\n                max = maxVal;\n            }\n            const scales = type === 'x' ? [min, max] : [max, min];\n            pos = axis.getScaleValue(scales[0]) + axis.getUnitWidth() / 2;\n            space = Math.abs(axis.getScaleValue(scales[1]) - pos) + axis.getUnitWidth() / 2;\n\n            enter = pos;\n            enterSpace = 0;\n        } else if (fieldType === DimensionSubtype.CATEGORICAL || fieldType === DimensionSubtype.TEMPORAL) {\n            pos = axis.getScaleValue(data[type]) +\n                (sizeConfig[type === 'x' ? 'barWidthOffset' : 'barHeightOffset'] || 0);\n\n            space = sizeConfig[type === 'x' ? 'barWidth' : 'barHeight'];\n            if (sizeValue !== undefined) {\n                const diffPx = sizeValue * space;\n                space -= diffPx;\n                pos += diffPx / 2;\n            }\n            enter = pos;\n            enterSpace = space;\n        } else {\n            const minDomVal = axis.domain()[0];\n            const barBasePos = minDomVal < 0 ? axis.getScaleValue(0) : axis.getScaleValue(minDomVal);\n            pos = axis.getScaleValue(data[type]);\n            let endPos = axis.getScaleValue(data[`${type}0`]);\n\n            enterSpace = 0;\n            const isNegativeVal = data[type] < 0;\n            if (transformType !== STACK) {\n                [pos, endPos] = positionRetriever[type](pos, isNegativeVal, barBasePos);\n            }\n            space = Math.abs(pos - endPos);\n            enter = barBasePos;\n        }\n    } else {\n        pos = 0;\n        space = measurement[spaceType];\n    }\n\n    return {\n        enterSpace,\n        enter,\n        pos,\n        space\n    };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} config\n * @param {*} axes\n *\n */\nconst resolveDimensions = (data, config, axes) => {\n    const axesInfo = {\n        xAxis: axes.x,\n        yAxis: axes.y\n    };\n    const {\n        enterSpace: enterWidth,\n        enter: enterX,\n        pos: xPos,\n        space: width\n    } = resolveDimByField('x', axesInfo, config, data);\n\n    const {\n        enterSpace: enterHeight,\n        enter: enterY,\n        pos: yPos,\n        space: height\n    } = resolveDimByField('y', axesInfo, config, data);\n    return {\n        enter: {\n            x: enterX,\n            y: enterY,\n            width: enterWidth,\n            height: enterHeight\n        },\n        update: {\n            x: xPos,\n            y: yPos,\n            width,\n            height\n        }\n    };\n};\n\nexport const strokeWidthPositionMap = ({ width, position }) => {\n    const offset = width / 2;\n    const strokeWidthWithOffsetMap = {\n        center: {\n            M: { x: 0, y: 0 },\n            L1: { x: 0, y: 0 },\n            L2: { x: 0, y: 0 },\n            L3: { x: 0, y: 0 }\n        },\n        inside: {\n            M: { x: +offset, y: +offset },\n            L1: { x: -offset, y: +offset },\n            L2: { x: -offset, y: -offset },\n            L3: { x: +offset, y: -offset }\n        },\n        outside: {\n            M: { x: -offset, y: -offset },\n            L1: { x: +offset, y: -offset },\n            L2: { x: +offset, y: +offset },\n            L3: { x: -offset, y: +offset }\n        }\n    };\n    return strokeWidthWithOffsetMap[position];\n};\n\n/**\n * Generates an array of objects containing x, y, width and height of the bars from the data\n * @param  {Array.<Array>} data Data Array\n * @param  {Object} encoding  Config\n * @param  {Object} axes     Axes object\n * @param {Object} conf config object for point generation\n * @return {Array.<Object>}  Array of points\n */\nexport const getTranslatedPoints = (context, data, sizeConfig) => {\n    let points = [];\n    const encoding = context.config().encoding;\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const stroke = encoding.stroke.value;\n    const strokeWidth = encoding['stroke-width'].value;\n    const sizeEncoding = encoding.size || {};\n    const {\n            x0Field,\n            y0Field,\n            xFieldSubType,\n            yFieldSubType\n        } = context.encodingFieldsInf();\n    const measurement = context.measurement();\n    const isXDim = xFieldSubType === DimensionSubtype.CATEGORICAL || xFieldSubType === DimensionSubtype.TEMPORAL;\n    const isYDim = yFieldSubType === DimensionSubtype.CATEGORICAL || yFieldSubType === DimensionSubtype.TEMPORAL;\n    const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n    const transformType = context.transformType();\n\n    for (let i = 0, len = data.length; i < len; i++) {\n        const d = data[i];\n        const dimensions = resolveDimensions(d, {\n            xFieldType: xFieldSubType,\n            yFieldType: yFieldSubType,\n            x0Field,\n            y0Field,\n            transformType,\n            measurement,\n            sizeConfig,\n            sizeEncoding\n        }, axes);\n\n        let color = colorAxis.getColor(d.color);\n\n        const update = dimensions.update;\n        const resolvedEncodings = resolveEncodingValues({\n            values: {\n                x: update.x,\n                y: update.y,\n                width: update.width,\n                height: update.height,\n                color\n            },\n            data: d\n        }, i, data, context);\n        color = resolvedEncodings.color;\n        const { x, y, width, height } = resolvedEncodings;\n        const style = {\n            fill: color\n        };\n        const auxiliaryStyles = {\n            stroke,\n            strokeWidth\n        };\n\n        if (!isNaN(x) && !isNaN(y) && d.rowId !== undefined) {\n            let point = null;\n            point = {\n                enter: dimensions.enter,\n                update: {\n                    x,\n                    y,\n                    width,\n                    height\n                },\n                source: d.source,\n                rowId: d.rowId,\n                style,\n                meta: getColorMetaInf(style, colorAxis, auxiliaryStyles)\n            };\n            point.className = getIndividualClassName(d, i, data, context);\n            points.push(point);\n            // Store each point in a hashmap with key as the dimensional or temporal field value\n            context.cachePoint(d[key], point);\n        }\n    }\n\n    points = positionPoints(context, points);\n    return points;\n};\n\n// This is invoked only on bar selection for creation of path around the bar\nconst strokeInteractionStyle = (context, elem, apply, interactionType, style) => {\n    const datum = elem.data()[0];\n    const styleType = style.type;\n    const { originalStroke, stateStroke } = datum.meta;\n    stateStroke[interactionType] = stateStroke[interactionType] || {};\n\n    if (apply && !stateStroke[interactionType][styleType]) {\n        // apply\n        stateStroke[interactionType][styleType] = style.props.value;\n        context.addOverlayPath(elem.node().parentElement, elem.node(), datum, style);\n    }\n    if (!apply && stateStroke[interactionType][styleType]) {\n        // remove\n        stateStroke[interactionType][styleType] = originalStroke[styleType];\n        context.removeOverlayPath(datum, originalStroke);\n    }\n    return true;\n};\n\nexport const interactionStyleMap = {\n    stroke: (...params) => strokeInteractionStyle(...params),\n    'stroke-width': (...params) => strokeInteractionStyle(...params)\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    createElements,\n    clipElement,\n    FieldType,\n    Scales,\n    getObjProp,\n    isSimpleObject,\n    makeElement,\n    appendElement\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { drawRects } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { getPlotMeasurement, getValidTransformForAggFn } from '../../helpers';\nimport './styles.scss';\nimport { getTranslatedPoints, strokeWidthPositionMap, interactionStyleMap } from './bar-helper';\n\nconst { MEASURE } = FieldType;\n\nexport const BarLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates an instance of bar layer\n     */\n    constructor (...params) {\n        super(...params);\n        this._bandScale = Scales.band();\n        this._plotPadding = {\n            x: 0,\n            y: 0\n        };\n        this._plotSpan = {\n            x: 0,\n            y: 0\n        };\n        this._pointMap = {};\n        this._overlayPath = {};\n    }\n\n    elemType () {\n        return 'rect';\n    }\n\n    /**\n     * Returns the default configuration of the bar layer\n     * @return {Object} Default configuration of the bar layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const colorField = encoding.color.field;\n        const transform = config.transform;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    calculateDomainFromData (data, encodingFieldInf, fieldsConfig) {\n        const domain = super.calculateDomainFromData(data, encodingFieldInf, fieldsConfig);\n        ['x', 'y'].forEach((d) => {\n            if (encodingFieldInf[`${d}FieldType`] === MEASURE && getObjProp(domain[d], 'length')) {\n                if (encodingFieldInf[`${d}0Field`]) {\n                    domain[d] = domain[d].sort((a, b) => a - b);\n                } else {\n                    domain[d][0] = Math.min(domain[d][0], 0);\n                    domain[d][1] = Math.max(0, domain[d][1]);\n                }\n            }\n        });\n        return domain;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the bars from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @param {Object} conf config object for point generation\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, sizeConfig) {\n        return getTranslatedPoints(this, data, sizeConfig);\n    }\n\n    /**\n     * Renders the plot in the given container\n     * @param  {SVGGroup} container SVGGroup where plot will be rendered.\n     * @return {BarLayer} Instance of bar layer.\n     */\n    render (container) {\n        const config = this.config();\n        const transition = config.transition;\n        const normalizedDataArr = this._normalizedData;\n        const transformedData = this._transformedData;\n        const keys = transformedData.map(d => d.key);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const height = axes.y && axes.y.scale().range()[0];\n        const width = axes.x && axes.x.scale().range()[1];\n        const defClassName = config.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const className = config.className;\n        const containerSelection = selectElement(container);\n        const dimensions = Object.values(fieldsConfig).filter(e => e.def.type === FieldType.DIMENSION)\n            .map(e => e.index);\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        clipElement(container, {\n            x: 0,\n            y: 0,\n            width,\n            height\n        }, `id-${this.id()}`);\n\n        this._points = this.generateDataPoints(normalizedDataArr, keys);\n        this._graphicElems = {};\n\n        createElements({\n            data: this._points,\n            container,\n            selector: 'g',\n            append: 'g',\n            each: (points, group, i) => {\n                const seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n                group.style('display', 'block');\n                drawRects({\n                    layer: this,\n                    container: group.node(),\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: {},\n                    keyFn: d => dimensions.map(key => d.source[key]).join('-')\n                });\n            }\n        });\n        return this;\n    }\n\n    generateDataPoints (normalizedData, keys) {\n        const [barWidthMetrics, barHeightMetrics] = getPlotMeasurement(this, keys);\n        const barWidthOffsets = barWidthMetrics.offsetValues || [];\n        const barHeightOffsets = barHeightMetrics.offsetValues || [];\n        this._plotSpan = {\n            x: barWidthMetrics.groupSpan || 0,\n            y: barHeightMetrics.groupSpan || 0\n        };\n        this._plotPadding = {\n            x: barWidthMetrics.padding || 0,\n            y: barHeightMetrics.padding || 0\n        };\n\n        this._pointMap = {};\n        return normalizedData.map((data, i) => this.translatePoints(data,\n            {\n                barWidth: barWidthMetrics.span,\n                barWidthOffset: barWidthOffsets[i] || 0,\n                barHeight: barHeightMetrics.span,\n                barHeightOffset: barHeightOffsets[i] || 0\n            }));\n    }\n\n    getPlotPadding () {\n        return this._plotPadding;\n    }\n\n    resolveTransformType () {\n        this._transformType = getValidTransformForAggFn(this);\n    }\n\n    /**\n     * Gets the nearest point of the position passed.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point.\n     */\n    getNearestPoint (x, y, { event }) {\n        if (!this.data()) {\n            return null;\n        }\n        return this.getDataFromEvent(event);\n    }\n\n    getDataFromEvent (event) {\n        const dataPoint = selectElement(event.target).data()[0];\n        if (isSimpleObject(dataPoint)) {\n            const values = dataPoint && dataPoint.source;\n            let identifiers = null;\n            if (values) {\n                identifiers = this.getIdentifiersFromData(values, dataPoint.rowId);\n            }\n            return {\n                dimensions: [dataPoint.update],\n                id: identifiers,\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    getPlotSpan () {\n        return this._plotSpan;\n    }\n\n    hasPlotSpan () {\n        return true;\n    }\n\n    getInteractionStyles (styleType) {\n        return interactionStyleMap[styleType];\n    }\n\n    addOverlayPath (container, refElement, data, style) {\n        let pathElement;\n\n        if (this._overlayPath[data.rowId]) {\n            pathElement = this._overlayPath[data.rowId];\n        } else {\n            pathElement = makeElement(container, 'path', [data.update], null, {}, d => `${d.x} ${data.rowId}`);\n            pathElement.style('fill', 'none');\n            pathElement.attr('id', data.rowId);\n            this._overlayPath[data.rowId] = pathElement;\n        }\n\n        if (style.type === 'stroke-width') {\n            const { L1, L2, L3, M } = strokeWidthPositionMap({\n                width: style.props.value,\n                position: style.props.position\n            });\n\n            pathElement.attr('d', d => `M ${d.x + M.x} ${d.y + M.y}\n            L ${d.x + d.width + L1.x} ${d.y + L1.y}\n            L ${d.x + d.width + L2.x} ${d.y + d.height + L2.y}\n            L${d.x + L3.x} ${d.y + d.height + L3.y} Z`);\n        }\n\n        pathElement.style(style.type, style.props.value);\n        appendElement(container, pathElement.node());\n    }\n\n    removeOverlayPath (data, style) {\n        const currentPath = this._overlayPath[data.rowId];\n        Object.keys(style).forEach(s => currentPath.style(s, style[s]));\n    }\n};\n\n","import { mix } from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { BAR_LAYER } from '../../enums/constants';\nimport { BarLayerMixin } from './bar-mixin';\nimport { BaseLayerMixin } from '../../base-layer/base-mixin';\nimport './styles.scss';\n\n/**\n * Bar layer creates rectangle marks. The mark type of this layer is ```bar```. This layer can be used\n * to create stacked or grouped bars, range bars, heatmap plots and also reference bands by using\n * the encoding properties.\n *\n * @public\n *\n * @class\n * @module BarLayer\n * @extends BaseLayer\n */\nexport default class BarLayer extends mix(BaseLayer).with(BaseLayerMixin, BarLayerMixin) {\n    static formalName () {\n        return BAR_LAYER;\n    }\n}\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-bar',\n    className: '',\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, 0, -0.5]\n        }],\n        focusStroke: [\n            {\n                type: 'stroke',\n                props: {\n                    value: 'black'\n                }\n            }, {\n                type: 'stroke-width',\n                props: {\n                    value: 2,\n                    position: 'outside'\n                }\n            }\n        ]\n    },\n    transform: {\n        type: 'stack'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    innerPadding: 0.1,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        x0: {},\n        y0: {},\n        stroke: {\n            value: 0\n        },\n        'stroke-width': {\n            value: 0\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-bar-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-bar-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-bar-selected`\n        }\n    }\n};\n","export { default as BarLayer } from './bar';\nexport { BarLayerMixin } from './bar-mixin';\n","import { makeElement, easeFns } from 'muze-utils';\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} datum\n * @param {*} index\n * @param {*} context\n */\nconst transitionBars = (layer, elem, datum, index, context) => {\n    const { transition } = context;\n    const { duration, disabled, effect } = transition;\n    const selection = elem;\n\n    const selTransition = disabled ? selection :\n        selection.transition()\n        .duration(duration)\n        .ease(easeFns[effect])\n        .on('end', layer.registerAnimationDoneHook());\n    const update = datum.update || datum;\n    const updateStyle = datum.style || {};\n    datum.className && selection.classed(datum.className, true);\n    Object.entries(update).forEach(attr => (!isNaN(attr[1]) && selTransition.attr(attr[0], attr[1])));\n    Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n};\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} d\n */\nconst barEnterFn = (elem, d) => {\n    const selection = elem;\n    const enter = d.enter || {};\n    Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n};\n\n/**\n * Draws rectangles by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Bar Selection\n */\n/* istanbul ignore next */ export const drawRects = (params) => {\n    const { layer, points, container, keyFn, className } = params;\n    const graphicElems = layer._graphicElems;\n    const updateFns = {\n        enter (elem, d) {\n            barEnterFn(elem, d);\n        },\n        update (elem, d, i) {\n            graphicElems[d.rowId] = elem;\n            transitionBars(layer, elem, d, i, params);\n        }\n    };\n\n    return makeElement(container, 'g', points, null, {\n        update: (group, d) => {\n            makeElement(group.node(), 'rect', data => [data], null, updateFns, keyFn);\n            group.attr('class', `${className}-${d.rowId}`);\n            group.classed(d.className, true);\n        }\n    }, data => data.rowId);\n};\n","// extracted by mini-css-extract-plugin","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-line',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: 'group'\n    },\n    interaction: {\n        highlight: [{\n            type: 'stroke',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'stroke',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'stroke',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    nearestPointThreshold: 20,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 1\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n\n","export { default as LineLayer } from './line';\nexport { LineLayerMixin } from './line-mixin';\n","import {\n    Voronoi,\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    FieldType,\n    InvalidAwareTypes,\n    getObjProp\n} from 'muze-utils';\nimport { drawLine } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport {\n    attachDataToVoronoi,\n    animateGroup,\n    positionPoints,\n    getIndividualClassName,\n    getColorMetaInf,\n    resolveEncodingValues,\n    sortData\n} from '../../helpers';\n\nimport './styles.scss';\n\n/**\n * This layer is used to render straight or smoothed line paths. The mark type of this layer is ```line```.\n *\n * @public\n *\n * @class\n * @module LineLayer\n * @extends BaseLayer\n */\nexport const LineLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates an instance of LineLayer.\n     *\n     * @param {*} args\n     * @memberof LineLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n    }\n\n    static formalName () {\n        return 'line';\n    }\n\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Default configuration of line layer\n     * @return {Object} Default configuration of layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = super.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField && !transform.groupBy) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     * Returns the draw method for line\n     * @return {Function} Draw method of line layer\n     */\n    getDrawFn () {\n        return drawLine;\n    }\n\n    static shouldDrawAnchors () {\n        return true;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @param {number} seriesIndex index of series\n     * @return {Array} Array of points\n     */\n    translatePoints (data) {\n        let points = [];\n        const axes = this.axes();\n        const xAxis = axes.x;\n        const yAxis = axes.y;\n        const colorAxis = axes.color;\n        const { xFieldType, yFieldType } = this.encodingFieldsInf();\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        sortData(data, axes);\n        points = data.map((d, i) => {\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y) + yAxis.getUnitWidth() / 2;\n            const color = colorAxis.getColor(d.color);\n\n            const resolvedEncodings = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    color\n                },\n                data: d\n            }, i, data, this);\n\n            const point = {\n                enter: {},\n                update: {\n                    x: d.x instanceof InvalidAwareTypes ? null : resolvedEncodings.x,\n                    y: d.y instanceof InvalidAwareTypes ? null : resolvedEncodings.y\n                },\n                style: {\n                    stroke: resolvedEncodings.color,\n                    'fill-opacity': 0\n                },\n                rowId: d.rowId,\n                source: d.source,\n                meta: getColorMetaInf({\n                    stroke: resolvedEncodings.color\n                }, colorAxis)\n            };\n            point.className = getIndividualClassName(d, i, data, this);\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n\n        points = points.filter((point) => {\n            const { update } = point;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    }\n\n    /**\n     * Renders the line plot\n     * @param {SVGElement} container svg element\n     * @return {LineLayer} instance of line layer\n     */\n    render (container) {\n        let points;\n        let seriesClassName;\n        let style;\n\n        const config = this.config();\n        const {\n            encoding,\n            interpolate,\n            className,\n            defClassName,\n            transition\n        } = config;\n        const normalizedData = this._normalizedData;\n        const transformedData = this._transformedData;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const keys = transformedData.map(d => d.key);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const containerSelection = selectElement(container);\n        const colorField = encoding.color.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n\n        this._points = [];\n        this._pointMap = {};\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        makeElement(container, 'g', normalizedData, null, {\n            enter: (group) => {\n                animateGroup(group, {\n                    transition,\n                    groupAnimateStyle: {\n                        enter: {\n                            'stroke-opacity': 0,\n                            'fill-opacity': this.getPathStyle()['fill-opacity']\n                        },\n                        update: {\n                            'stroke-opacity': encoding.strokeOpacity.value\n                        }\n                    }\n                });\n            },\n            update: (group, dataArr, i) => {\n                points = this.translatePoints(dataArr);\n                this._points.push(points);\n                seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n\n                let color;\n                const colorValFn = encoding.color.value;\n                const colorVal = points.find(d => d.source[colorFieldIndex] !== null &&\n                        d.source[colorFieldIndex] !== undefined);\n\n                if (colorValFn) {\n                    color = colorValFn(dataArr, i, normalizedData);\n                } else {\n                    color = axes.color.getColor(colorVal && colorVal.source[colorFieldIndex]);\n                }\n\n                style = this.getPathStyle(color);\n                this.getDrawFn()({\n                    layer: this,\n                    container: group.node(),\n                    interpolate,\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: style || {},\n                    connectNullData: config.connectNullData\n                });\n            }\n        }, d => d[0].source[colorFieldIndex] || d[0].rowId);\n\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            stroke: color,\n            'fill-opacity': '0'\n        };\n    }\n\n    /**\n     * Gets the nearest point closest to the given position\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point information\n     */\n    getNearestPoint (x, y, config) {\n        let searchRadius = config.searchRadius;\n        const data = this.data();\n\n        if (!data || (data && data.isEmpty())) {\n            return null;\n        }\n\n        searchRadius = searchRadius !== undefined ? searchRadius : this.config().nearestPointThreshold;\n        const point = this._voronoi.find(x, y, searchRadius);\n        const dimensions = getObjProp(point, 'data', 'data', 'update');\n\n        if (point) {\n            const { source, rowId } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(source, rowId);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: 2,\n                    height: 2\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n};\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayer, BaseLayerMixin } from '../../base-layer';\nimport { LineLayerMixin } from './line-mixin';\nimport { LINE_LAYER } from '../../enums/constants';\n\n/**\n * This layer is used to render straight or smoothed line paths. The mark type of this layer is ```line```.\n *\n * @public\n *\n * @class\n * @module LineLayer\n * @extends BaseLayer\n */\nexport default class LineLayer extends mix(BaseLayer).with(BaseLayerMixin, LineLayerMixin) {\n    static formalName () {\n        return LINE_LAYER;\n    }\n}\n","import {\n    selectElement,\n    makeElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\nimport { updateStyle } from '../../helpers';\n\nconst line = Symbols.line;\n\nconst filterFn = (d) => {\n    const { update } = d;\n    return update.y !== null && update.x !== null;\n};\n\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nexport const drawLine = (context) => {\n    let filteredPoints;\n    const { layer, container, points, interpolate, connectNullData, className, style, transition } = context;\n    const mount = selectElement(container).attr('class', className);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const linepath = line()\n                .curve(curveInterpolatorFn)\n                .x(d => d.update.x)\n                .y(d => d.update.y)\n                .defined(filterFn);\n\n    filteredPoints = points;\n    if (connectNullData) {\n        filteredPoints = points.filter(filterFn);\n    }\n\n    updateStyle(mount, style);\n    let element = makeElement(mount, 'path', points.length ? [points[0].className] : []);\n    element.attr('class', d => d);\n    if (!transition.disabled) {\n        element = element.transition()\n        .duration(transition.duration)\n        .on('end', layer.registerAnimationDoneHook());\n    }\n    element.attr('d', linepath(filteredPoints))\n                    .style('fill-opacity', 0);\n    return element;\n};\n","// extracted by mini-css-extract-plugin","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-point',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    defColorStyle: 'stroke',\n    interaction: {\n        // TODO: change this to have stroke on highlight\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }],\n        focusStroke: [\n            {\n                type: 'stroke',\n                props: {\n                    value: 'black'\n                }\n            }, {\n                type: 'stroke-width',\n                props: {\n                    value: 2,\n                    position: 'outside'\n                }\n            }\n        ]\n    },\n    innerPadding: 0.1,\n    nearestPointThreshold: 10,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        size: {\n            value: 30\n        },\n        color: {},\n        stroke: {\n            value: 'hsla(0,0%,0%,0)'\n        },\n        fill: {},\n        shape: {\n            value: 'circle'\n        },\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    shapes: ['circle', 'cross', 'diamond', 'square', 'star', 'wye', 'triangle'],\n    sizes: [20, 30, 40, 50, 60, 70]\n};\n","import {\n    FieldType,\n    COORD_TYPES\n} from 'muze-utils';\nimport { ENCODING } from '../../enums/constants';\nimport {\n    getIndividualClassName,\n    resolveEncodingValues,\n    getColorMetaInf,\n    positionPoints\n} from '../../helpers';\n\nexport const prepareDrawingInf = ({ data, datum, i, layerInst, xPx, yPx }) => {\n    const axes = layerInst.axes();\n    const { shape: shapeAxis, color: colorAxis, size: sizeAxis } = axes;\n    let shape = shapeAxis.getShape(datum.shape);\n    let size = sizeAxis.getSize(datum.size);\n    let color = colorAxis.getColor(datum.color);\n    const resolvedEncodings = resolveEncodingValues({\n        values: {\n            x: xPx,\n            y: yPx,\n            color,\n            size,\n            shape,\n            data: datum\n        },\n        data: datum\n    }, i, data, layerInst);\n    const layerEncoding = layerInst.config().encoding;\n    const { rowId, source } = datum;\n    ({ shape, size, color } = resolvedEncodings);\n    const style = {\n        fill: color,\n        stroke: layerEncoding.stroke.value\n    };\n    const { x, y } = resolvedEncodings;\n    const pos = { x, y };\n    return {\n        enter: pos,\n        update: pos,\n        shape,\n        source,\n        rowId,\n        style,\n        meta: getColorMetaInf(style, colorAxis),\n        size\n    };\n};\n\nexport const pointTranslators = {\n    [COORD_TYPES.CARTESIAN]: (data, config, layerInst) => {\n        let points = [];\n        const encoding = layerInst.config().encoding;\n        const axes = layerInst.axes();\n        const { x, y } = encoding;\n        const xField = x.field;\n        const yField = y.field;\n        const fieldsConfig = layerInst.data().getFieldsConfig();\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const measurement = layerInst.measurement();\n        const { x: offsetX, y: offsetY } = config.offset;\n\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n\n            let [xPx, yPx] = [ENCODING.X, ENCODING.Y].map((type) => {\n                const value = d[type] === null ? undefined : d[type];\n                const measure = type === ENCODING.X ? measurement.width : measurement.height;\n                return !encoding[type].field ? measure / 2 : axes[type].getScaleValue(value);\n            });\n\n            xPx += offsetX;\n            yPx += offsetY;\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = prepareDrawingInf({\n                    data,\n                    datum: d,\n                    i,\n                    layerInst,\n                    xPx,\n                    yPx\n                });\n                point.className = getIndividualClassName(d, i, data, layerInst);\n                points.push(point);\n                layerInst.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(layerInst, points);\n        return points;\n    }\n};\n\nexport const getStrokeWidthByPosition = (position, radius) => {\n    const strokeWidthWithOffsetMap = {\n        center: 0,\n        inside: -1,\n        outside: 1\n    };\n    return radius + strokeWidthWithOffsetMap[position];\n};\n\n// This is invoked only on point selection for applying a path around the point\nconst strokeInteractionStyle = (context, elem, apply, interactionType, style) => {\n    const datum = elem.data()[0];\n    const styleType = style.type;\n    const { originalStroke, stateStroke } = datum.meta;\n    stateStroke[interactionType] = stateStroke[interactionType] || {};\n\n    if (apply && !stateStroke[interactionType][styleType]) {\n        // apply\n        stateStroke[interactionType][styleType] = style.props.value;\n        context.addOverlayPath(elem.node().parentElement, elem.node(), datum, style);\n    }\n    if (!apply && stateStroke[interactionType][styleType]) {\n        // remove\n        stateStroke[interactionType][styleType] = originalStroke[styleType];\n        context.removeOverlayPath(datum, originalStroke);\n    }\n    return true;\n};\n\nexport const interactionStyleMap = {\n    stroke: (...params) => strokeInteractionStyle(...params),\n    'stroke-width': (...params) => strokeInteractionStyle(...params)\n};\n","export { default as PointLayer } from './point';\nexport { PointLayerMixin } from './point-mixin';\n","import {\n    Voronoi,\n    Scales,\n    makeElement,\n    getQualifiedClassName,\n    selectElement,\n    appendElement\n} from 'muze-utils';\nimport drawSymbols from './renderer';\nimport { defaultConfig } from './default-config';\nimport {\n    attachDataToVoronoi,\n    getPlotMeasurement,\n    getMarkId\n} from '../../helpers';\nimport './styles.scss';\nimport { pointTranslators, interactionStyleMap, getStrokeWidthByPosition } from './helper';\n\nexport const PointLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates an instance of PointLayer.\n     * @param {*} args\n     * @memberof PointLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n        this._bandScale = Scales.band();\n        this._overlayPath = {};\n    }\n\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Returns the default configuration of the point layer\n     * @return {Object} Default configuration of the point layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = super.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    static drawFn () {\n        return drawSymbols;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, config = {}) {\n        return pointTranslators[this.coord()](data, config, this);\n    }\n\n    /**\n     * Renders the plot in the given container.\n     *\n     * @param  {SVGElement} container SVGElement which will hold the plot\n     * @return {BarLayer} Instance of bar layer\n     */\n    render (container) {\n        let maxSize = 0;\n        let seriesClassName;\n        const config = this.config();\n        const keys = this._transformedData.map(d => d.key);\n        const { transition, className, defClassName, classPrefix } = config;\n        const normalizedData = this._normalizedData;\n        const containerSelection = selectElement(container);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        this._points = [];\n        this._pointMap = {};\n\n        containerSelection.classed(qualifiedClassName.join(' '), true).classed(className, true);\n\n        this._points = this.generateDataPoints(normalizedData, keys);\n        this._graphicElems = {};\n\n        const schema = this.data().getSchema();\n        makeElement(container, 'g', this._points, null, {\n            update: (group, points) => {\n                maxSize = Math.max(maxSize, ...points.map(d => d.size));\n                seriesClassName = `${qualifiedClassName[0]}`;\n                this.constructor.drawFn()({\n                    layer: this,\n                    container: group.node(),\n                    points,\n                    interpolate: config.interpolate,\n                    className: seriesClassName,\n                    transition,\n                    keyFn: v => getMarkId(v.source, schema)\n                });\n            }\n        }, data => data[0].rowId);\n        this._maxSize = Math.sqrt(maxSize / Math.PI) * 2;\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    generateDataPoints (normalizedData, keys) {\n        const [widthMetrics, heightMetrics] = getPlotMeasurement(this, keys);\n        const offsetXValues = widthMetrics.offsetValues || [];\n        const offsetYValues = heightMetrics.offsetValues || [];\n        return normalizedData.map((dataArr, i) => {\n            const measurementConf = this.getMeasurementConfig(offsetXValues[i], offsetYValues[i], widthMetrics.span,\n                    heightMetrics.span);\n            return this.translatePoints(dataArr, measurementConf);\n        }).filter(d => d.length);\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0) + widthSpan / 2,\n                y: (offsetY || 0) + heightSpan / 2\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n\n    /**\n     * Gets the nearest point from a position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Point details\n     */\n    getNearestPoint (x, y) {\n        const distanceLimit = Math.max(this._maxSize, this.config().nearestPointThreshold);\n\n        if (!this.data()) {\n            return null;\n        }\n\n        const point = this._voronoi.find(x, y, distanceLimit);\n        const dimensions = point && point.data.data.update;\n        const radius = point ? Math.sqrt(point.data.data.size / Math.PI) : 0;\n\n        if (point) {\n            const { source, rowId } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(source, rowId);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: radius,\n                    height: radius\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    getInteractionStyles (styleType) {\n        return interactionStyleMap[styleType];\n    }\n\n    addOverlayPath (container, refElement, data, style) {\n        let pathElement;\n\n        if (this._overlayPath[data.rowId]) {\n            pathElement = this._overlayPath[data.rowId];\n        } else {\n            pathElement = makeElement(container, 'path', [data.update], null, {}, d => `${d.x} ${data.rowId}`);\n            pathElement.style('fill', 'none');\n            pathElement.attr('id', data.rowId);\n            this._overlayPath[data.rowId] = pathElement;\n        }\n\n        if (style.type === 'stroke-width') {\n            const { position } = style.props;\n            let R = Math.sqrt(data.size / Math.PI);\n            R = getStrokeWidthByPosition(position, R);\n\n            pathElement.attr('d', () => (\n                `M ${-R}, 0\n                a ${R},${R} 0 1, 0 ${R * 2}, 0\n                a ${R},${R} 0 1, 0 ${-(R * 2)}, 0`\n            ));\n        }\n\n        pathElement.style(style.type, style.props.value);\n        appendElement(refElement, pathElement.node());\n    }\n\n    removeOverlayPath (data, style) {\n        const currentPath = this._overlayPath[data.rowId];\n        Object.keys(style).forEach(s => currentPath.style(s, style[s]));\n    }\n};\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { POINT_LAYER } from '../../enums/constants';\nimport { PointLayerMixin } from './point-mixin';\n\n/**\n * This layer is used to create various symbols for each data point. This is commonly used in\n * scatterplot visualizations. The mark type of this layer is ```point```.\n *\n * @public\n *\n * @class\n * @module PointLayer\n * @extends BaseLayer\n */\nexport default class PointLayer extends mix(BaseLayer).with(PointLayerMixin) {\n    static formalName () {\n        return POINT_LAYER;\n    }\n}\n","/* global Element, document  */\nimport {\n    makeElement,\n    selectElement,\n    easeFns,\n    objectIterator,\n    getSymbol\n} from 'muze-utils';\n\n/**\n *\n *\n * @param {*} str\n *\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, groupElement) {\n    const { shape, size, update } = d;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            createShape(d, groupElement);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        if (newShape.nodeName === 'path' || newShape.nodeName === 'image') {\n            shapeElement.attr('transform', `scale(${size / 100})`);\n        } else {\n            shapeElement.attr('height', size);\n            shapeElement.attr('width', size);\n        }\n        shapeElement.attr('x', -size / 2);\n        shapeElement.attr('y', -size / 2);\n        makeElement(groupElement, () => newShape, [1]);\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = getSymbol(shape).size(size)(update);\n        }\n        makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n    } else {\n        d.shape = 'circle';\n        createShape(d, groupElement);\n    }\n};\n\n/**\n * Draws symbols using d3 symbol api\n * @param {Object} params Contains the svg container, points and other symbol related attributes.\n */\n/* istanbul ignore next */ const drawSymbols = (params) => {\n    const { layer, container, points, transition, className } = params;\n    const { duration, effect, disabled } = transition;\n    const mount = selectElement(container);\n    const graphicElems = layer._graphicElems;\n    mount.attr('class', className);\n    return makeElement(mount, 'g', points, null, {\n        enter: (group, d) => {\n            const { enter } = d;\n            group.attr('transform', `translate(${enter.x},${enter.y})`);\n        },\n        update: (group, d) => {\n            createShape(d, group);\n            graphicElems[d.rowId] = group;\n            const { update, style } = d;\n            objectIterator(style, key => group.style(key, style[key]));\n            group.attr('class', className);\n            group.classed(d.className, true);\n            if (!disabled) {\n                group = group.transition()\n                    .duration(transition.duration)\n                    .on('end', layer.registerAnimationDoneHook());\n            }\n            group.attr('transform', `translate(${update.x},${update.y})`);\n        },\n        exit: (exitGroup) => {\n            if (!disabled) {\n                exitGroup.transition().ease(easeFns[effect])\n                .duration(duration)\n                .on('end', () => exitGroup.remove())\n                .style('fill-opacity', 0)\n                .style('stroke-opacity', 0);\n            } else {\n                exitGroup.remove();\n            }\n        }\n    }, params.keyFn);\n};\n\nexport default drawSymbols;\n","// extracted by mini-css-extract-plugin","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-text',\n    classPrefix: CLASSPREFIX,\n    className: '',\n    transform: {\n        type: 'identity'\n    },\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        color: {},\n        size: {},\n        radius: {},\n        angle: {},\n        text: {\n            value: '',\n            formatter: (val, i, data, context) => {\n                const valueParser = context.valueParser();\n                return valueParser(val);\n            },\n            background: {\n                padding: 10\n            }\n        },\n        rotation: {\n            value: 0\n        },\n        'alignment-baseline': {\n            value: 'middle'\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-text-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-text-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-text-selected`\n        }\n    }\n};\n","export { default as TextLayer } from './text';\nexport { TextLayerMixin } from './text-mixin';\n","import {\n    setAttrs,\n    setStyles,\n    selectElement,\n    makeElement,\n    getSmartComputedStyle\n} from 'muze-utils';\n\n/**\n * Draws svg text in the specified container.\n * @param {SVGElement} container Container where labels will be appended.\n * @param {Array.<Object>} data Data of the elements.\n * @return {Selection} d3 selection of the elements.\n */\nconst drawText = (container, data, config, layerInst) => {\n    const selection = selectElement(container).selectAll('g').data(data);\n    const { smartLabel } = layerInst._dependencies;\n    const graphicElems = layerInst._graphicElems;\n\n    const selectionMerge = selection.enter().append('g')\n        .each(function (dataObj) {\n            setAttrs(this, dataObj.enter);\n        })\n        .merge(selection);\n    const style = getSmartComputedStyle(selectElement(container), config.className);\n    const fontSize = parseInt(style.fontSize, 10);\n\n    smartLabel.setStyle(style);\n    selectionMerge.each(function (dataObj) {\n        const element = selectElement(this);\n        graphicElems[dataObj.rowId] = element;\n        const { update, text, color, textanchor, style: textStyle } = dataObj;\n        const background = dataObj.background;\n        let backgroundVal;\n        if (backgroundVal = background.value) {\n            const backgroundPadding = background.padding;\n            let diff;\n            const { width, height } = smartLabel.getOriSize(dataObj.text);\n            const backgroundEl = makeElement(element, 'rect', [1]);\n\n            if (textanchor === 'end') {\n                diff = width;\n            } else if (textanchor === 'start') {\n                diff = 0;\n            } else {\n                diff = width / 2;\n            }\n\n            setAttrs(backgroundEl.node(), {\n                x: update.x - diff - backgroundPadding / 2,\n                y: update.y - fontSize - backgroundPadding / 2,\n                width: width + backgroundPadding,\n                height: height + backgroundPadding\n            });\n            background && setStyles(backgroundEl, {\n                background: backgroundVal\n            });\n        }\n        const textEl = makeElement(element, 'text', d => [d]).text(text);\n        const textNode = textEl.node();\n        textStyle && setStyles(textNode, textStyle);\n        color && setStyles(textNode, {\n            fill: color\n        });\n        dataObj.className && textEl.classed(dataObj.className, true);\n        setAttrs(textNode, update);\n        textEl.attr('text-anchor', textanchor);\n        textEl.attr('alignment-baseline', dataObj['alignment-baseline']);\n        textEl.attr('transform', `rotate(${dataObj.rotation} ${update.x} ${update.y})`);\n    });\n    selection.exit().remove();\n    return selection;\n};\n\nexport default drawText;\n","// extracted by mini-css-extract-plugin","import {\n    getQualifiedClassName,\n    selectElement,\n    setStyles,\n    createElements\n} from 'muze-utils';\nimport drawText from './renderer';\nimport { defaultConfig } from './default-config';\nimport { positionPoints, getIndividualClassName, resolveEncodingValues, getColorMetaInf, toCartesianCoordinates }\n    from '../../helpers';\nimport { TEXT_ANCHOR_MIDDLE, ENCODING } from '../../enums/constants';\n\nimport './styles.scss';\n\nconst defaultEncoding = defaultConfig.encoding;\nconst alignmentBaseLine = defaultEncoding['alignment-baseline'].value;\nconst defRotation = defaultEncoding.rotation.value;\n\nconst pointTranslators = {\n    polar: (data, config, layerInst) => {\n        let points = [];\n        const axes = layerInst.axes();\n        const encoding = layerInst.config().encoding;\n        const textEncoding = encoding.text;\n        const { radius: radiusAxis, color: colorAxis, angle: angleAxis } = axes;\n        const { formatter: textFormatter } = textEncoding;\n        const backgroundEncoding = encoding.text.background;\n        const backgroundPadding = backgroundEncoding.padding;\n        const backgroundValue = backgroundEncoding.value;\n        const angleV = {};\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const source = d.source;\n            const text = d.text;\n\n            const color = colorAxis.getColor(d.color);\n            const radius = radiusAxis.getOuterRadius(d.radius);\n            const angles = angleAxis.getScaleValue(d.angle);\n            !angleV[d.angle] && (angleV[d.angle] = 0);\n            const { startAngle, endAngle } = angles[angleV[d.angle]++];\n\n            const angle = (startAngle + endAngle) / 2;\n            const resolvedVal = resolveEncodingValues({\n                values: {\n                    angle,\n                    radius,\n                    color,\n                    text,\n                    startAngle,\n                    endAngle,\n                    rotation: defRotation,\n                    'alignment-baseline': alignmentBaseLine\n                },\n                data: d\n            }, i, data, layerInst);\n            const point = {\n                enter: {},\n                update: {\n                    angle: resolvedVal.angle,\n                    radius: resolvedVal.radius\n                },\n                text: textFormatter ? textFormatter(text, i, data, layerInst) : resolvedVal.text,\n                color: resolvedVal.color,\n                rotation: resolvedVal.rotation,\n                background: {\n                    value: backgroundValue instanceof Function ? backgroundValue(d, i, data, layerInst) : null,\n                    padding: backgroundPadding\n                },\n                'alignment-baseline': resolvedVal['alignment-baseline'],\n                meta: getColorMetaInf({\n                    fill: resolvedVal.color\n                }, colorAxis),\n                style: {},\n                source,\n                rowId: d.rowId\n            };\n\n            point.className = getIndividualClassName(d, i, data, layerInst);\n            points.push(point);\n        }\n\n        points = toCartesianCoordinates(positionPoints(layerInst, points), layerInst.measurement());\n\n        points = points.filter((d) => {\n            const update = d.update;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    },\n    cartesian: (data, config, layerInst) => {\n        let points = [];\n        const axes = layerInst.axes();\n        const colorAxis = axes.color;\n        const encoding = layerInst.config().encoding;\n        const textEncoding = encoding.text;\n        const { field: textField, value, formatter: textFormatter } = textEncoding;\n        const fieldsConfig = layerInst.data().getFieldsConfig();\n\n        const backgroundEncoding = encoding.text.background;\n        const backgroundPadding = backgroundEncoding.padding;\n        const backgroundValue = backgroundEncoding.value;\n        const textFieldIndex = textField ? fieldsConfig[textField] && fieldsConfig[textField].index : -1;\n        const xEnc = ENCODING.X;\n        const yEnc = ENCODING.Y;\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const row = d.source;\n            const textValue = textField ? row[textFieldIndex] : value;\n\n            const [xPx, yPx] = [xEnc, yEnc].map(type => (axes[type] ? axes[type].getScaleValue(d[type]) +\n                    axes[type].getUnitWidth() / 2 : 0));\n\n            const color = colorAxis.getColor(d.color, colorAxis);\n            const resolvedEncodings = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    text: textValue,\n                    color,\n                    rotation: defRotation,\n                    'alignment-baseline': alignmentBaseLine\n                },\n                data: d\n            }, i, data, layerInst);\n            const point = {\n                enter: {},\n                update: {\n                    x: resolvedEncodings.x,\n                    y: resolvedEncodings.y\n                },\n                text: textFormatter(resolvedEncodings.text, i, data, layerInst),\n                color: resolvedEncodings.color,\n                background: {\n                    value: backgroundValue instanceof Function ? backgroundValue(d, i, data, layerInst) : null,\n                    padding: backgroundPadding\n                },\n                'alignment-baseline': resolvedEncodings['alignment-baseline'],\n                rotation: resolvedEncodings.rotation,\n                meta: getColorMetaInf({\n                    fill: resolvedEncodings.color\n                }, colorAxis),\n                style: {},\n                source: d.source,\n                rowId: d.rowId\n            };\n\n            point.className = getIndividualClassName(d, i, data, layerInst);\n            points.push(point);\n        }\n\n        points = positionPoints(layerInst, points);\n        points = points.filter((d) => {\n            const update = d.update;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    }\n};\n\n/**\n * This layer is used to create labels for each data point. It has an encoding property ```text```\n * which determines from which field's data the value of the label will be taken. The text encoding\n * property is necessary for the layer to render the text.The mark type of this layer is ```text```.\n *\n * @public\n *\n * @class\n * @module TextLayer\n * @extends BaseLayer\n */\nexport const TextLayerMixin = superclass => class extends superclass {\n    /**\n    * Returns the default configuration of the text layer\n    * @return {Object} Default configuration of the text layer\n    */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'text';\n    }\n\n    elemType () {\n        return 'text';\n    }\n\n    getPointTranslator (val) {\n        return pointTranslators[val];\n    }\n\n    /**\n    * Generates an array of objects containing x, y, width and height of the points from the data\n    * @param  {Array.<Array>} data Data Array\n    * @param  {Object} encoding  Config\n    * @param  {Object} axes     Axes object\n    * @return {Array.<Object>}  Array of points\n    */\n    translatePoints (data, config = {}) {\n        return pointTranslators[this.coord()](data, config, this);\n    }\n\n    /**\n    * Renders the plot in the given container\n    * @param  {SVGElement} container SVGElement which will hold the plot\n    * @return {textLayer} Instance of text layer\n    */\n    render (container) {\n        const config = this.config();\n        const normalizedData = this._normalizedData;\n        const className = config.className;\n        const qualifiedClassName = getQualifiedClassName(config.defClassName, this.id(), config.classPrefix);\n        const containerSelection = selectElement(container);\n\n        containerSelection.classed(`${qualifiedClassName.join(' ')} ${className}`, true);\n        this._graphicElems = {};\n\n        createElements({\n            data: normalizedData,\n            append: 'g',\n            selector: 'g',\n            container,\n            each: (dataArr, group) => {\n                const node = group.node();\n                const points = this.translatePoints(dataArr, {}, this);\n                setStyles(node, {\n                    'text-anchor': TEXT_ANCHOR_MIDDLE\n                });\n                drawText(node, points, {\n                    className: qualifiedClassName[0]\n                }, this);\n            }\n        });\n        return this;\n    }\n};\n\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayer, BaseLayerMixin } from '../../base-layer';\nimport { TextLayerMixin } from './text-mixin';\n\n/**\n * This layer is used to create labels for each data point. It has an encoding property ```text```\n * which determines from which field's data the value of the label will be taken. The text encoding\n * property is necessary for the layer to render the text.The mark type of this layer is ```text```.\n *\n * @public\n *\n * @class\n * @module TextLayer\n * @extends BaseLayer\n */\nexport default class TextLayer extends mix(BaseLayer).with(BaseLayerMixin, TextLayerMixin) {\n    static formalName () {\n        return 'text';\n    }\n}\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-tick',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    interaction: {\n        highlight: [{\n            type: 'stroke',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'stroke',\n            intensity: [0, 0, 15, 0]\n        }],\n        focus: [{\n            type: 'stroke',\n            intensity: [0, 0, 15, 0]\n        }]\n    },\n    innerPadding: 0.1,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    interpolate: 'linear',\n    encoding: {\n        color: { },\n        x: {},\n        y: {},\n        x0: {},\n        y0: {},\n        radius: {},\n        radius0: {},\n        angle: {},\n        angle0: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-tick-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-tick-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-tick-selected`\n        }\n    }\n};\n\n","export { default as TickLayer } from './tick';\nexport { TickLayerMixin } from './tick-mixin';\n","import { selectElement, Symbols, pathInterpolators } from 'muze-utils';\n\nconst line = Symbols.line;\n\n/**\n * Draws ticks by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Ticks Selection\n */\nexport default /* istanbul ignore next */ (params) => {\n    const { points, container, keyFn, className, interpolate, layer } = params;\n    const mount = selectElement(container);\n    const ticks = mount.selectAll('path').data(points, keyFn);\n    const ticksEnter = ticks.enter().append('path');\n    const graphicElems = layer._graphicElems;\n    mount.attr('class', className || '');\n    ticksEnter.each(function (d) {\n        const selection = selectElement(this);\n        const enter = d.enter || {};\n        Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n    });\n\n    ticks.exit().remove();\n    return ticks.merge(ticksEnter)\n                    .each(function (d) {\n                        const selection = selectElement(this);\n                        graphicElems[d.rowId] = selection;\n                        const update = d.update;\n                        const updateStyle = d.style || {};\n                        const x0 = update.x0 !== undefined ? update.x0 : update.x;\n                        const y0 = update.y0 !== undefined ? update.y0 : update.y;\n                        const curveInterpolatorFn = pathInterpolators[interpolate];\n                        const linepath = line()\n                            .curve(curveInterpolatorFn)\n                            .x(e => e[0])\n                            .y(e => e[1]);\n                        d.className && selection.classed(d.className, true);\n                        selection.attr('d', linepath([[update.x, update.y], [x0, y0]]));\n                        Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n                    });\n};\n\n","// extracted by mini-css-extract-plugin","import { FieldType } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport drawTicks from './renderer';\nimport './styles.scss';\nimport { positionPoints, getIndividualClassName,\n    getColorMetaInf, resolveEncodingValues, toCartesianCoordinates } from '../../helpers';\n\nconst pointTranslators = {\n    polar: (data, config = {}, layerInst) => {\n        const axes = layerInst.axes();\n        let points = [];\n        const { radius: radiusAxis, angle: angleAxis, angle0: angle0Axis } = axes;\n        const measurement = layerInst.measurement();\n\n        const colorAxis = axes.color;\n        const angleV = {};\n        const angle0V = {};\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const color = colorAxis.getColor(d.color);\n            const angles = angleAxis.getScaleValue(d.angle);\n            !angleV[d.angle] && (angleV[d.angle] = 0);\n            const { startAngle, endAngle } = angles[angleV[d.angle]++];\n            const angles0 = angle0Axis.getScaleValue(d.angle0);\n            !angle0V[d.angle0] && (angle0V[d.angle0] = 0);\n            const { startAngle: startAngle0, endAngle: endAngle0 } = angles0[angle0V[d.angle0]++];\n            const radius = radiusAxis.getOuterRadius(d.radius);\n            const angle = (startAngle + endAngle) / 2;\n            const angle0 = (startAngle0 + endAngle0) / 2;\n            const resolvedVal = resolveEncodingValues({\n                values: {\n                    radius,\n                    radius0: radiusAxis.getInnerRadius(d.radius0),\n                    color,\n                    angle,\n                    angle0,\n                    startAngle,\n                    endAngle,\n                    startAngle0,\n                    endAngle0\n                },\n                data: d\n            }, i, data, layerInst);\n            const style = {\n                stroke: resolvedVal.color\n            };\n\n            const point = {\n                enter: {},\n                update: {\n                    radius: resolvedVal.radius,\n                    radius0: resolvedVal.radius0,\n                    angle: resolvedVal.angle,\n                    angle0: resolvedVal.angle0\n                },\n                style,\n                source: d.source,\n                rowId: d.rowId,\n                meta: getColorMetaInf(style, colorAxis)\n            };\n            point.className = getIndividualClassName(d, i, data, layerInst);\n            points.push(point);\n        }\n        points = toCartesianCoordinates(positionPoints(layerInst, points), measurement, true);\n        return points;\n    },\n    cartesian: (data, config = {}, layerInst) => {\n        const axes = layerInst.axes();\n        let points = [];\n        const { x: xAxis, y: yAxis } = axes;\n        const {\n                xField,\n                yField,\n                x0Field,\n                y0Field,\n                xFieldType,\n                yFieldType\n            } = layerInst.encodingFieldsInf();\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const measurement = layerInst.measurement();\n        const colorAxis = axes.color;\n        const { x: offsetX, y: offsetY } = config.offset;\n        const { x: xSpan, y: ySpan } = config.span;\n        for (let i = 0, len = data.length; i < len; i++) {\n            let xPx;\n            let x0Px;\n            let y0Px;\n            let yPx;\n            const d = data[i];\n            const row = d.source;\n            if (xField) {\n                xPx = xAxis.getScaleValue(d.x) + offsetX;\n                x0Px = xPx + xSpan;\n            }\n\n            if (yField) {\n                yPx = yAxis.getScaleValue(d.y) + offsetY;\n                y0Px = yPx !== null ? yPx + ySpan : null;\n            }\n\n            if (!xField) {\n                xPx = 0;\n                x0Px = measurement.width;\n                if (!isNaN(yPx)) {\n                    yPx += ySpan / 2;\n                    y0Px = yPx;\n                }\n            }\n\n            if (!yField) {\n                yPx = 0;\n                y0Px = measurement.height;\n                x0Px = xPx += xSpan / 2;\n            }\n\n            if (x0Field) {\n                x0Px = xAxis.getScaleValue(d.x0) + xSpan;\n                yPx += ySpan / 2;\n                y0Px -= ySpan / 2;\n            }\n\n            if (y0Field) {\n                y0Px = yAxis.getScaleValue(d.y0) + ySpan;\n                xPx += xSpan / 2;\n                x0Px -= xSpan / 2;\n            }\n            const color = colorAxis.getColor(d.color);\n            const resolvedEncodings = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    x0: x0Px,\n                    y0: y0Px,\n                    color\n                },\n                data: d\n            }, i, data, layerInst);\n            const style = {\n                stroke: resolvedEncodings.color\n            };\n\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = {\n                    enter: {},\n                    update: {\n                        x: resolvedEncodings.x,\n                        y: resolvedEncodings.y,\n                        x0: resolvedEncodings.x0,\n                        y0: resolvedEncodings.y0\n                    },\n                    style,\n                    source: row,\n                    rowId: d.rowId,\n                    meta: getColorMetaInf(style, colorAxis)\n                };\n                point.className = getIndividualClassName(d, i, data, layerInst);\n                points.push(point);\n                layerInst.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(layerInst, points);\n        return points;\n    }\n};\n\n/**\n * This layer is used to create small lines. The orientation of the line is determined by the positional\n * encoding properties x0 and y0. The mark type of the layer is ```tick```.\n *\n * @public\n *\n * @class\n * @module TickLayer\n * @extends BaseLayer\n */\nexport const TickLayerMixin = superclass => class extends superclass {\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'tick';\n    }\n\n    static drawFn () {\n        return drawTicks;\n    }\n\n    elemType () {\n        return 'path';\n    }\n\n    /**\n    * Generates an array of objects containing x, y, width and height of the points from the data\n    * @param  {Array.<Array>} data Data Array\n    * @param  {Object} encoding  Config\n    * @param  {Object} axes     Axes object\n    * @return {Array.<Object>}  Array of points\n    */\n    translatePoints (data, config) {\n        return pointTranslators[this.coord()](data, config, this);\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0),\n                y: (offsetY || 0)\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n};\n","import { mix } from 'muze-utils';\nimport { PointLayerMixin } from '../point';\nimport { BaseLayerMixin, BaseLayer } from '../../base-layer';\nimport { TickLayerMixin } from './tick-mixin';\n\n/**\n * This layer is used to create small lines. The orientation of the line is determined by the positional\n * encoding properties x0 and y0. The mark type of the layer is ```tick```.\n *\n * @public\n *\n * @class\n * @module TickLayer\n * @extends BaseLayer\n */\nexport default class TickLayer extends mix(BaseLayer).with(BaseLayerMixin, PointLayerMixin, TickLayerMixin) {\n    static formalName () {\n        return 'tick';\n    }\n}\n","export { default as SimpleLayer } from './simple-layer';\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * This is an interface class which any new layer class has to extend.\n *\n * @example\n * class BarLayer extends BaseLayer {\n *   update (params) {\n *       // super.update(params);\n *       // Update the bar layer\n *   }\n * }\n * @class\n */\nexport default class SimpleLayer {\n\n    formalName () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets or gets the dependencies.\n     * @param {Object} dependencies Dependencies needed by layer\n     * @return {BaseLayer} Instance of base layer.\n     */\n    dependencies () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the config of the layer\n     *\n     * @param {Object} config Configuration of layer\n     * @return {Object} configuration of layer\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Acts as a getter or setter function\n     * When setter\n     * Returns the datamodel of the layer\n     * @param { DataModel } dataModel instance of DataModel\n     * @return { DataModel } DataModel instance of the layer\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized schema of the layer\n     * @return {Object} Serialized schema\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the unique identifier of this layer\n     * @return {string} id of the layer\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n    /*\n     * This method resolves the x, y, x0 and y0 values from the transformed data.\n     * It also checks the type of transformed data for example, if it is a stacked data\n     * then it fetches the y and y0 values from the stacked data.\n     * @param {Array.<Array>} transformedData transformed data\n     * @param {Object} fieldMap field definitions\n     * @param {string} transformType type of transformed data - stack, group or identity.\n     * @return {Array.<Object>} Normalized data\n     * @private\n     */\n    normalizeTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of dataModel\n     * @param {Object} config configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     * @private\n     */\n    getTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a nominal field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @return {Array} Domain values array.\n     */\n    _calculateDomainFromData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, color, etc.\n     * @return {Object} Axis domains\n     */\n    getDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for getting nearest point\n     * @return {BaseLayer} Instance of base layer\n     */\n    getNearestPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for highlighting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    highlightPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for deselecting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    dehighlightPoint () {\n        return this;\n    }\n\n    linkLayerStore () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets the container element for the layer to be renderered.\n     * @param {SVGElement} mountPoint SVG element or group element.\n     */\n    mount () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n","import { CLASSPREFIX, CONSOLIDATED } from './enums/constants';\n\n/**\n * Returns the default configuration of the visual unit\n * @return {Object} Default configuration of visual unit\n */\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'visual-unit',\n    className: '',\n    trackerClassName: 'visual-unit-tracker',\n    minOuterRadius: 10,\n    gridLines: {\n        defClassName: 'axis-grid-lines',\n        className: '',\n        show: true,\n        color: '#efefef',\n        zeroLineColor: '#b6b6b6'\n    },\n    gridBands: {\n        defClassName: 'axis-grid-bands',\n        className: '',\n        show: false,\n        y: {\n            color: ['#fff', '#fbfbfb']\n        },\n        x: {\n            color: ['#fff', '#f9f9f9']\n        }\n    },\n    arcLayerClassName: 'layer-arc',\n    interaction: {\n        tooltip: {\n            mode: CONSOLIDATED\n        }\n    },\n    sideEffectClassName: 'side-effect-container'\n};\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\n\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const GRID_LINE_PARENT_GROUP_CLASS = 'grid-lines';\nexport const GRID_BAND_PARENT_GROUP_CLASS = 'grid-bands';\nexport const GRID_PARENT_GROUP = 'grid-parent-group';\nexport const BAND = 'band';\nexport const TICK = 'tick';\nexport const GRID_BAND = 'gridBands';\nexport const GRID_LINE = 'gridLines';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const RETINAL_FIELDS = 'retinalFields';\nexport const PARENT_ALIAS = 'parentAlias';\nexport const LAYERS = 'layers';\nexport const CACHED_DATA = 'cachedData';\nexport const STORE = 'store';\n","import * as REACTIVE_PROPS from './reactive-props';\nimport * as CONSTANTS from './constants';\n\nexport { REACTIVE_PROPS, CONSTANTS };\n","export const CONFIG = 'config';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const MOUNT = 'mount';\nexport const TRANSFORM = 'transform';\nexport const TRANSFORMEDDATA = 'transformedData';\nexport const DATADOMAIN = 'dataDomain';\nexport const FIELDS = 'fields';\nexport const LAYERAXISINDEX = 'layerAxisIndex';\nexport const LAYERS = 'layers';\nexport const DOMAIN = 'domain';\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: false\n    },\n    [ACTIONS.HOVER]: {\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.LONGTOUCH]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: true\n    },\n    [ACTIONS.TOUCHDRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: true\n    },\n    [ACTIONS.CLICK]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: false\n    }\n};\n","import { VolatileBehaviour } from '@chartshq/muze-firebolt';\nimport { LAYER_TYPES } from '@chartshq/visual-layer';\nimport { BRUSH } from '../../enums/behaviours';\n/**\n * This is the behaviour for brushing a region on the chart. It accepts a payload\n * which contains the x and y range of the data and other configuration. It will then\n * create a selection box from the range and select the points which fall within the range.\n */\nexport default class UnitBrushBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return BRUSH;\n    }\n\n    getAddSetFromCriteria (criteria, propagationInf = {}) {\n        const context = this.firebolt.context;\n        const hasBarLayer = !!context.layers().find(layer => layer.config().mark === LAYER_TYPES.BAR_LAYER);\n        const filteredDataModel = propagationInf.data ? propagationInf.data :\n            context.getDataModelFromIdentifiers(criteria, 'all', undefined, hasBarLayer);\n\n        return {\n            model: filteredDataModel,\n            uids: criteria ? (propagationInf.data ? propagationInf.entryRowIds :\n                filteredDataModel[0].getUids()) : null\n        };\n    }\n}\n","import { FieldType, ReservedFields } from 'muze-utils';\n\nconst addFacetData = ({ identifiers: data, fields }, facetData, propFields) => {\n    const fieldsWithFacets = [...fields, ...facetData[0].map(d => d.getSchemaDef())];\n    const fieldIndexMap = fieldsWithFacets.reduce((acc, v, i) => {\n        acc[v.name] = i;\n        return acc;\n    }, {});\n\n    const dataWithFacets = [\n        propFields\n    ];\n\n    for (let i = 1, len = data.length; i < len; i++) {\n        const row = [...data[i], ...facetData[1]];\n        const newRow = [];\n        propFields.forEach((field) => {\n            const idx = fieldIndexMap[field];\n            newRow.push(row[idx]);\n        });\n        dataWithFacets.push(newRow);\n    }\n    return dataWithFacets;\n};\n\nexport const propagateValues = (instance, action, config = {}) => {\n    let propagateInterpolatedValues = false;\n    let propFields = [];\n    const { payload, identifiers, propagationFields } = config;\n    const { fields: propagationFieldNames = [], append } = propagationFields[action] || {};\n    const context = instance.context;\n    const dataModel = context.cachedData()[0];\n    const sourceId = context.id();\n    const sideEfffects = instance.sideEffects();\n    const behaviourEffectMap = instance._behaviourEffectMap;\n    const propagationBehaviourMap = instance._propagationBehaviourMap;\n    const propagationBehaviour = propagationBehaviourMap[action] || action;\n    const facetByFields = context.facetByFields();\n\n    payload.sourceUnit = sourceId;\n    payload.action = action;\n    payload.sourceCanvas = context.parentAlias();\n\n    if (identifiers !== null) {\n        propFields = identifiers.fields;\n\n        if (propagationFieldNames.length) {\n            const fields = identifiers.fields;\n            propFields = append ? [...fields.map(d => d.name), ...propagationFieldNames] : propagationFieldNames;\n            Object.assign(identifiers, {\n                identifiers: addFacetData(identifiers, facetByFields, propFields)\n            });\n        }\n\n        if (propFields.length && propFields.every(field => field.type === FieldType.MEASURE) ||\n            propFields.some(field => field === ReservedFields.ROW_ID)) {\n            propagateInterpolatedValues = true;\n        }\n    }\n\n    const groupId = context.parentAlias();\n\n    const filterFn = (entry, propagationConf) => {\n        const effects = behaviourEffectMap[entry.config.action];\n        const mutates = entry.config.groupId ?\n            (effects ? effects.some(d => sideEfffects[d.name || d].constructor.mutates()) : false) : true;\n        return entry.config.groupId !== propagationConf.groupId && mutates;\n    };\n\n    const sourceBehaviour = instance._actions.behavioural[action];\n    let isMutableAction = sourceBehaviour ? sourceBehaviour.constructor.mutates() : false;\n    const propConfig = {\n        payload,\n        action,\n        criteria: identifiers,\n        isMutableAction,\n        propagateInterpolatedValues,\n        groupId,\n        sourceId: isMutableAction ? groupId : sourceId,\n        filterFn,\n        enabled: (propConf, firebolt) => (action !== propagationBehaviour ?\n            propConf.payload.sourceCanvas === firebolt.context.parentAlias() : true)\n    };\n\n    dataModel.propagate(identifiers, propConfig, true);\n\n    if (action !== propagationBehaviour) {\n        const behaviourInstance = instance._actions.behavioural[propagationBehaviour];\n        isMutableAction = behaviourInstance ? behaviourInstance.constructor.mutates() : false;\n\n        dataModel.propagate(identifiers, Object.assign({}, propConfig, {\n            isMutableAction,\n            applyOnSource: false,\n            action: propagationBehaviour,\n            sourceId: isMutableAction ? groupId : sourceId,\n            enabled: (propConf, firebolt) => propConf.payload.sourceCanvas !== firebolt.context.parentAlias()\n        }), true, {\n            filterImmutableAction: (actionInf, propInf) => actionInf.groupId !== propInf.groupId\n        });\n    }\n};\n","import { SpawnableSideEffect } from '@chartshq/muze-firebolt';\n\nexport const initSideEffects = (sideEffects, firebolt) => {\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            sideEffects[key] instanceof SpawnableSideEffect && sideEffects[key].drawingContext(() => {\n                const context = firebolt.context;\n                return context.getDrawingContext();\n            });\n            sideEffects[key].valueParser(firebolt.context.valueParser());\n        }\n    }\n};\n\nexport const clearActionHistory = (context) => {\n    const actionHistory = context._actionHistory;\n    for (const key in actionHistory) {\n        if (actionHistory[key].isMutableAction) {\n            delete context._actionHistory[key];\n        }\n    }\n};\n\nexport const dispatchQueuedSideEffects = (context) => {\n    const queuedSideEffects = context._queuedSideEffects;\n    Object.entries(queuedSideEffects).forEach((entry) => {\n        const sideEffect = entry[1];\n        context.dispatchSideEffect(sideEffect.name, ...sideEffect.params);\n    });\n    context._queuedSideEffects = {};\n};\n","import { FieldType, intersect } from 'muze-utils';\nimport { Firebolt, SIDE_EFFECTS } from '@chartshq/muze-firebolt';\nimport { isXandYMeasures, getSelectionRejectionModel } from '../helper';\nimport { payloadGenerator } from './payload-generator';\nimport { propagateValues } from './data-propagator';\n\nconst sideEffectPolicy = (propPayload, context, propagationInf) => {\n    const { sourceIdentifiers, propagationData } = propagationInf;\n    const fields = sourceIdentifiers.fields;\n    const sourceIdentifierFields = Object.keys(fields).filter(field =>\n        field.type !== FieldType.MEASURE);\n    const propFields = Object.keys(propagationData[0].getFieldsConfig());\n    const hasCommonCanvas = propPayload.sourceCanvas === context.parentAlias();\n    return intersect(sourceIdentifierFields, propFields).length || hasCommonCanvas;\n};\n\n/**\n * This class manages the interactions of visual unit. It associates physical actions with\n * behavioural actions. It also propagates the behavioural actions to other datamodels.\n */\nexport default class UnitFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        const {\n            TOOLTIP,\n            HIGHLIGHTER,\n            ANCHORS,\n            BRUSH_ANCHORS,\n            PERSISTENT_ANCHORS\n        } = SIDE_EFFECTS;\n\n        const disabledSideEffects = [TOOLTIP, HIGHLIGHTER, ANCHORS, BRUSH_ANCHORS, PERSISTENT_ANCHORS];\n        disabledSideEffects.forEach((sideEffect) => {\n            this.changeSideEffectStateOnPropagation(sideEffect, sideEffectPolicy, 'sourceTargetPolicy');\n        });\n    }\n    propagate (behaviour, payload, identifiers, sideEffects) {\n        propagateValues(this, behaviour, {\n            payload,\n            identifiers,\n            sideEffects,\n            propagationFields: this._propagationFields\n        });\n    }\n\n    getApplicableSideEffects (sideEffects, payload, propagationInf) {\n        const context = this.context;\n        const unitId = context.id();\n        const aliasName = context.parentAlias();\n        const propagationSourceCanvas = propagationInf.propPayload && propagationInf.propPayload.sourceCanvas;\n        const sourceUnitId = propagationInf.propPayload && propagationInf.propPayload.sourceUnit;\n        const sourceSideEffects = this._sourceSideEffects;\n        const sideEffectInstances = this.sideEffects();\n        const actionOnSource = sourceUnitId ? sourceUnitId === unitId : true;\n\n        const applicableSideEffects = payload.sideEffects ? [{\n            effects: payload.sideEffects,\n            behaviours: [payload.action]\n        }] : sideEffects;\n        applicableSideEffects.forEach((d) => {\n            let mappedEffects = d.effects;\n            mappedEffects = mappedEffects.filter((se) => {\n                const mutates = sideEffectInstances[se.name || se].constructor.mutates();\n                if (mutates && propagationInf.isMutableAction === false) {\n                    return false;\n                }\n                if (!actionOnSource && payload.criteria !== null) {\n                    const sideEffectCheckers = Object.values(sourceSideEffects[se.name || se] || {});\n                    const { sourceIdentifiers, data: propagationData } = propagationInf;\n                    return sideEffectCheckers.length ? sideEffectCheckers.every(checker =>\n                        checker(propagationInf.propPayload, context, {\n                            sourceIdentifiers,\n                            propagationData\n                        })) : true;\n                }\n                if (propagationSourceCanvas === aliasName || actionOnSource) {\n                    return se.applyOnSource !== false;\n                }\n\n                return true;\n            });\n            d.effects = mappedEffects;\n        });\n        return applicableSideEffects;\n    }\n\n    shouldApplySideEffects (propagate) {\n        return propagate === false;\n    }\n\n    onDataModelPropagation () {\n        return (data, config) => {\n            let isMutableAction = false;\n            const context = this.context;\n            if (!context.mount()) {\n                return;\n            }\n            const {\n                model: propagationData,\n                entryRowIds,\n                exitRowIds\n            } = getSelectionRejectionModel(context.data(), data, isXandYMeasures(context), context._cachedValuesMap());\n            const {\n                enabled: enabledFn,\n                sourceIdentifiers,\n                action,\n                payload: propPayload\n            } = config;\n\n            const payloadFn = payloadGenerator[action] || payloadGenerator.__default;\n            const payload = payloadFn(context, propagationData, config);\n            const sourceBehaviours = this._sourceBehaviours;\n            const filterFns = Object.values(sourceBehaviours[action] || sourceBehaviours['*'] || {});\n            let enabled = filterFns.every(fn => fn(propPayload || {}, context, {\n                sourceIdentifiers,\n                propagationData\n            }));\n\n            if (enabledFn) {\n                enabled = enabledFn(config, this) && enabled !== false;\n            }\n\n            if (enabled) {\n                const effects = this._behaviourEffectMap[action];\n                const sideEffectInstances = this.sideEffects();\n                isMutableAction = config.groupId ?\n                    effects.some(d => sideEffectInstances[d.name || d].constructor.mutates()) : config.isMutableAction;\n\n                const propagationInf = {\n                    propagate: false,\n                    data: propagationData,\n                    entryRowIds,\n                    exitRowIds,\n                    propPayload,\n                    sourceIdentifiers,\n                    persistent: false,\n                    sourceId: config.propagationSourceId,\n                    isMutableAction: config.isMutableAction\n                };\n\n                this._actionHistory[action] = {\n                    payload,\n                    propagationInf,\n                    isMutableAction\n                };\n                this.dispatchBehaviour(action, payload, propagationInf);\n            }\n        };\n    }\n\n    prepareSelectionSets (behaviours) {\n        const data = this.context.data();\n        if (data) {\n            this.createSelectionSet(data.getData().uids, behaviours);\n        }\n        return this;\n    }\n\n    remove () {\n        this.context.cachedData()[0].unsubscribe('propagation');\n        return this;\n    }\n}\n","import { DimensionSubtype } from 'muze-utils';\n\nconst getRangeFromData = (instance, selectionDataModel, propConfig) => {\n    let criteria;\n    const dataObj = selectionDataModel[0].getData();\n    const propCriteria = propConfig.payload.criteria;\n    const sourceIdentifiers = propConfig.sourceIdentifiers;\n    const schema = dataObj.schema;\n    const fieldMap = instance.data().getFieldsConfig();\n    const data = dataObj.data;\n    const isActionSourceSame = instance.id() === propConfig.sourceId;\n\n    if (isActionSourceSame) {\n        criteria = propCriteria;\n    } else {\n        criteria = (sourceIdentifiers !== null) ? schema.reduce((acc, obj, index) => {\n            let range;\n            const field = obj.name;\n            const fieldObj = fieldMap[field];\n            const type = fieldObj && (fieldObj.def.subtype ? fieldObj.def.subtype : fieldObj.def.type);\n            const isDimension = type === DimensionSubtype.CATEGORICAL;\n\n            if (!fieldObj) {\n                return acc;\n            }\n\n            if (!isDimension) {\n                range = [Math.min(...data.map(d => d[index])), Math.max(...data.map(d => d[index]))];\n            } else {\n                range = data.map(d => d[index]);\n            }\n            acc[field] = range;\n            return acc;\n        }, {}) : null;\n    }\n    return criteria;\n};\n\nexport const payloadGenerator = {\n    brush: (instance, selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const criteria = getRangeFromData(instance, selectionDataModel, propConfig);\n        const payload = Object.assign({}, propPayload);\n        payload.criteria = criteria;\n        return payload;\n    },\n\n    __default: (instance, selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const sourceIdentifiers = propConfig.sourceIdentifiers;\n        const dataObj = selectionDataModel[0].getData();\n        let schema = dataObj.schema;\n        const payload = Object.assign({}, propPayload);\n        schema = dataObj.schema;\n        const data = dataObj.data;\n        const sourceFields = schema.map(d => d.name);\n        payload.criteria = !sourceIdentifiers && selectionDataModel[0].isEmpty() ? null :\n            [sourceFields, ...data];\n        payload.sourceFields = sourceIdentifiers ? sourceIdentifiers.fields.map(d => d.name) : [];\n        return payload;\n    }\n};\n\n","import { getObjProp, defaultValue, makeElement, DimensionSubtype, DataModel, createSelection } from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { layerFactory, LAYER_TYPES } from '@chartshq/visual-layer';\nimport {\n    GRID_BAND,\n    GRID_LINE,\n    GRID_BAND_PARENT_GROUP_CLASS,\n    GRID_LINE_PARENT_GROUP_CLASS,\n    GRID_PARENT_GROUP\n} from '../enums/constants';\n\nconst { BAR_LAYER, TICK_LAYER } = LAYER_TYPES;\n\nconst LINEAR = ScaleType.LINEAR;\n\nconst getLayerDefinition = (context, axes, type, orientation) => {\n    let encoding;\n    const config = context.config();\n    const { classPrefix, gridLines, gridBands } = config;\n    const gridLineColor = gridLines.color;\n    const zeroLineColor = gridLines.zeroLineColor;\n    const defClassName = type === GRID_BAND ? gridBands.defClassName : gridLines.defClassName;\n    const gridBandColor = gridBands[orientation].color;\n    const axis = axes[orientation][0];\n    const isLinearScale = axis.constructor.type() === LINEAR;\n\n    if (type === GRID_BAND && isLinearScale) {\n        encoding = {\n            [orientation]: `${orientation}value`,\n            [`${orientation}0`]: `${orientation}value0`\n        };\n    } else {\n        encoding = {\n            [orientation]: isLinearScale ? `${orientation}value` : `${orientation}dim`\n        };\n    }\n    encoding.color = {\n        value: (data, i) => {\n            const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n            if (type === GRID_BAND) {\n                return gridBandColor[i % 2];\n            }\n            return isNegativeDomain && data[orientation] === 0 ? zeroLineColor : gridLineColor;\n        }\n    };\n    const { color, shape, size } = context.axes();\n    return {\n        definition: {\n            defClassName: `${defClassName}-${orientation}`,\n            className: config.className,\n            name: orientation,\n            calculateDomain: false,\n            individualClassName: (data, i) => {\n                let className;\n                const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n                if (isNegativeDomain && data.y === 0 && type !== GRID_BAND) {\n                    className = `${classPrefix}-axis-zero-line`;\n                } else {\n                    className = `${classPrefix}-grid-${type}-${orientation}-${i % 2}`;\n                }\n                return className;\n            },\n            [`pad${orientation.toUpperCase()}`]: type === GRID_BAND ? 0 : undefined,\n            encoding\n        },\n        axes: {\n            [orientation]: axis,\n            color: color[0],\n            shape: shape[0],\n            size: size[0]\n        },\n        interactive: false\n    };\n};\n\nconst getDefaultVisibilty = (show, axis) => {\n    if (axis.constructor.type() === LINEAR) {\n        return show;\n    }\n    return false;\n};\n\nexport const getGridLayerDefinitions = (context, config, type) => ['x', 'y'].map((axisType) => {\n    const axes = context.axes();\n    if (!axes[axisType]) {\n        return null;\n    }\n    const show = defaultValue(config[axisType] && config[axisType].show,\n        getDefaultVisibilty(config.show, axes[axisType][0]));\n\n    return show ? getLayerDefinition(context, axes, type, axisType) : null;\n}).filter(d => d !== null);\n\nconst dimensionSubTypes = Object.values(DimensionSubtype).reduce((acc, v) => {\n    acc[v] = 1;\n    return acc;\n}, {});\nconst getValidSubtype = subtype => (!dimensionSubTypes[subtype] ? DimensionSubtype.CATEGORICAL : subtype);\n\nexport const getGridLayerData = (axes, fields, fieldsConfig) => {\n    const gridData = {};\n\n    ['x', 'y'].forEach((type) => {\n        let ticks = axes[type][0].getTickValues();\n        const subtype = getObjProp(fieldsConfig, getObjProp(fields, type, 0).getMembers()[0], 'def', 'subtype');\n        const jsonData = [];\n        const schema = [\n            {\n                name: 'yvalue',\n                type: 'measure'\n            }, {\n                name: 'xvalue',\n                type: 'measure'\n            },\n            {\n                name: 'yvalue0',\n                type: 'measure'\n            }, {\n                name: 'xvalue0',\n                type: 'measure'\n            }, {\n                name: 'xdim',\n                type: 'dimension',\n                subtype: getValidSubtype(subtype)\n            }, {\n                name: 'ydim',\n                type: 'dimension',\n                subtype: getValidSubtype(subtype)\n            }\n        ];\n        const len = Math.max(ticks.length);\n        ticks = subtype === DimensionSubtype.TEMPORAL ? ticks.map(d => d.getTime()) : ticks;\n        for (let i = 0; i < len; i += 1) {\n            jsonData.push({\n                [`${type}value`]: ticks[i],\n                [`${type}value0`]: ticks[i + 1],\n                [`${type}dim`]: ticks[i],\n                [`${type}dim`]: ticks[i]\n            });\n        }\n        gridData[type] = new DataModel(jsonData, schema);\n    });\n    return gridData;\n};\n\nexport const createGridLineLayer = (context) => {\n    const vuConf = context.config();\n    const metaInf = context.metaInf();\n    const store = context.store();\n    const timeDiffs = context._timeDiffs;\n    [GRID_BAND, GRID_LINE].forEach((type) => {\n        let mark;\n        let config;\n        if (type === GRID_BAND) {\n            mark = BAR_LAYER;\n            config = vuConf.gridBands;\n        } else {\n            mark = TICK_LAYER;\n            config = vuConf.gridLines;\n        }\n        const definitions = getGridLayerDefinitions(context, config, type);\n\n        const sel = `_${type}Selection`;\n        context[sel] = createSelection(context[sel], (atomicDef) => {\n            const inst = layerFactory.getLayerInstance({ mark });\n            inst.dependencies(context._dependencies);\n            const name = atomicDef.definition.name;\n            inst.metaInf({\n                unitRowIndex: metaInf.rowIndex,\n                unitColIndex: metaInf.colIndex,\n                namespace: `${metaInf.namespace}${type}${name}`,\n                parentNamespace: metaInf.namespace\n            })\n                .store(store);\n            return inst;\n        }, definitions, atomicDef => atomicDef.definition.name);\n        context[sel].each((layer, atomicDef) => {\n            const definition = atomicDef.definition;\n            const sConf = layerFactory.getSerializedConf(mark, definition);\n            const axesObj = atomicDef.axes;\n            layer.config(sConf)\n                .dataProps({\n                    timeDiffs\n                })\n                .axes(axesObj);\n        });\n        context[`_${type}`] = context[sel].getObjects();\n    });\n};\n\nexport const attachDataToGridLineLayers = (context) => {\n    const axes = context.axes();\n    const gridLines = context._gridLines;\n    const gridBands = context._gridBands;\n    if (gridLines.length || gridBands.length) {\n        const gridLayerData = getGridLayerData(axes, context.fields(), context.data().getFieldsConfig());\n        [].concat(...gridBands, ...gridLines).forEach((inst) => {\n            inst.data(inst.axes().x ? gridLayerData.x : gridLayerData.y);\n        });\n    }\n};\n\nexport const renderGridLineLayers = (context, container) => {\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n    const gridLines = context._gridLines;\n    const gridBands = context._gridBands;\n    const measurement = {\n        width: context.width(),\n        height: context.height()\n    };\n    const gridLineParentGroup = makeElement(container, 'g', [1], `${classPrefix}-${GRID_PARENT_GROUP}`);\n\n    [[gridLines, `${classPrefix}-${GRID_LINE_PARENT_GROUP_CLASS}`],\n            [gridBands, `${classPrefix}-${GRID_BAND_PARENT_GROUP_CLASS}`]].forEach((entry) => {\n                const [instances, parentGroupClass] = entry;\n                const mountPoint = makeElement(gridLineParentGroup, 'g', [1], `.${parentGroupClass}`);\n                const className = `${parentGroupClass}-group`;\n                makeElement(mountPoint, 'g', instances, `.${className}`, {\n                    update: (group, instance) => {\n                        instance.dataProps({ timeDiffs: context._timeDiffs })\n                            .measurement(measurement)\n                            .mount(group.node());\n                    }\n                });\n            });\n};\n","import {\n    FieldType,\n    getDependencyOrder,\n    getObjProp,\n    defaultValue,\n    objectIterator,\n    unionDomain,\n    makeElement,\n    DimensionSubtype,\n    toArray,\n    MeasureSubtype,\n    getNearestValue\n} from 'muze-utils';\nimport { layerFactory, ENCODING } from '@chartshq/visual-layer';\n\nexport const getDimensionMeasureMap = (layers, fieldsConfig) => {\n    const retinalEncodingsAndMeasures = {};\n\n    layers.forEach((layer) => {\n        const {\n            colorField,\n            sizeField,\n            shapeField,\n            xField,\n            yField\n        } = layer.encodingFieldsInf();\n        const measures = [xField, yField].filter(field => fieldsConfig[field] && fieldsConfig[field].def.type ===\n            FieldType.MEASURE);\n        [colorField, sizeField, shapeField].forEach((field) => {\n            if (getObjProp(fieldsConfig, field, 'def', 'type') === FieldType.DIMENSION && measures.length) {\n                !retinalEncodingsAndMeasures[field] && (retinalEncodingsAndMeasures[field] = []);\n                retinalEncodingsAndMeasures[field].push(...measures);\n            }\n        });\n    });\n\n    for (const key in retinalEncodingsAndMeasures) {\n        if ({}.hasOwnProperty.call(retinalEncodingsAndMeasures, key)) {\n            retinalEncodingsAndMeasures[key] = [...new Set(retinalEncodingsAndMeasures[key])];\n        }\n    }\n    return retinalEncodingsAndMeasures;\n};\n\nexport const transformDataModels = (transform, dataModel) => {\n    const dataModels = {};\n    for (const key in transform) {\n        if ({}.hasOwnProperty.call(transform, key)) {\n            const transformVal = transform[key];\n            dataModels[key] = transformVal(dataModel);\n        }\n    }\n\n    return dataModels;\n};\n\nexport const getLayerFromDef = (context, definition, existingLayer, namespaces) => {\n    let instances = existingLayer;\n    const dependencies = context._dependencies;\n    const metaInf = context.metaInf();\n    if (!existingLayer) {\n        instances = layerFactory.getLayerInstance(definition);\n        toArray(instances).forEach((inst, i) => {\n            inst.metaInf({\n                unitRowIndex: metaInf.rowIndex,\n                unitColIndex: metaInf.colIndex,\n                namespace: namespaces[i],\n                parentNamespace: metaInf.namespace\n            })\n                .dependencies(dependencies)\n                .store(context.store());\n        });\n    }\n    const layers = {};\n    const instanceArr = toArray(instances);\n    definition = toArray(definition);\n    definition.reduce((acc, def, idx) => {\n        const instance = instanceArr[idx];\n        instance.coord(context.coord());\n        instance.config(def);\n        instance.valueParser(context.valueParser());\n        instance.dataProps({\n            timeDiffs: context._timeDiffs\n        });\n        if (def.name) {\n            instance.alias(def.name);\n        }\n        layers[instance.alias()] = instance;\n        return acc;\n    }, {});\n    return layers;\n};\n\nexport const resolveEncodingTransform = (layerInst, store) => {\n    const encodingTransform = layerInst.config().encodingTransform || {};\n    const resolvable = encodingTransform.resolvable;\n    let depArr = [];\n    if (resolvable) {\n        const resolved = resolvable(store);\n        depArr = resolved.depArr;\n        layerInst.encodingTransform(resolved.fn);\n    } else if (encodingTransform instanceof Function) {\n        layerInst.encodingTransform(encodingTransform);\n    }\n    return depArr;\n};\n\nexport const sanitizeLayerDef = (layerDefs) => {\n    const sanitizedDefs = [];\n    layerDefs.forEach((layerDef, i) => {\n        const def = layerDef.def;\n        const mark = layerDef.mark;\n        if (!def) {\n            const sConf = layerFactory.getSerializedConf(layerDef.mark, layerDef);\n            if (!sConf.name) {\n                sConf.name = `${mark}-${i}`;\n            }\n            sanitizedDefs.push({\n                mark: layerDef.mark,\n                def: sConf\n            });\n        } else {\n            if (!def.name) {\n                def.name = `${mark}-${i}`;\n            }\n            sanitizedDefs.push(layerDef);\n        }\n    });\n    return sanitizedDefs;\n};\n\nexport const attachDataToLayers = (layers, dm, transformedDataModels) => {\n    layers.forEach((layer) => {\n        const dataSource = layer.config().source;\n        const dataModel = dataSource instanceof Function ? dataSource(dm) :\n            (transformedDataModels[dataSource] || dm);\n        layer.data(dataModel);\n    });\n};\n\nexport const attachAxisToLayers = (axes, layers, layerAxisIndex) => {\n    layers.forEach((layer) => {\n        const layerId = layer.id();\n        const axesObj = {};\n\n        objectIterator(axes, (key) => {\n            const axisInf = layerAxisIndex[layerId];\n            if (axisInf) {\n                const axisArr = axes[key] || [];\n                const axisIndex = axisInf[key] >= 0 ? axisInf[key] : axisArr.length - 1;\n                axes[key] && (axesObj[key] = defaultValue(axes[key][axisIndex]));\n            }\n        });\n        Object.keys(axesObj).length && layer.axes(axesObj);\n    });\n};\n\nconst { X, Y, RADIUS, ANGLE, ANGLE0, RADIUS0 } = ENCODING;\n\nexport const getLayerAxisIndex = (layers, fields) => {\n    const layerAxisIndex = {};\n    layers.forEach((layer) => {\n        const { axis, encoding } = layer.config();\n        const id = layer.id();\n        [X, Y, ANGLE, ANGLE0, RADIUS].forEach((type) => {\n            let index;\n            const specificField = getObjProp(encoding, type, 'field');\n            const encodingField = type === RADIUS ? defaultValue(specificField, getObjProp(encoding, RADIUS0, 'field'))\n                : getObjProp(encoding, type, 'field');\n            const field = defaultValue(getObjProp(axis, type), encodingField);\n            if (fields[type] && fields[type].length) {\n                index = fields[type].findIndex(fieldInst => fieldInst.getMembers().indexOf(field) !== -1);\n            } else {\n                index = 0;\n            }\n            !layerAxisIndex[id] && (layerAxisIndex[id] = {});\n            layerAxisIndex[id][type] = index;\n        });\n    });\n    return layerAxisIndex;\n};\n\nconst getValidDomain = (domain, domain1, encodingType, fieldType) => {\n    if (encodingType === ANGLE || encodingType === ANGLE0) {\n        return domain.concat(domain1.filter(d => domain.indexOf(d) === -1));\n    }\n    return unionDomain([domain, domain1], fieldType);\n};\n\nexport const unionDomainFromLayers = (layers, axisFields, layerAxisIndex, fieldsConfig) => {\n    let domains = {};\n    layers = layers.filter(layer => layer.getDataDomain() !== null);\n    layers.forEach((layer) => {\n        let domainValues = {};\n        const config = layer.config();\n        // const encoding = config.encoding;\n        const layerDomain = layer.getDataDomain();\n        const layerId = layer.id();\n\n        if (layerDomain !== null && config.calculateDomain !== false) {\n            domainValues = Object.entries(layerDomain);\n            domains = domainValues.reduce((fieldDomain, domain) => {\n                const encodingType = domain[0];\n                const axisIndex = layerAxisIndex[layerId][encodingType];\n                const field = getObjProp(axisFields, encodingType, axisIndex);\n                !fieldDomain[encodingType] && (fieldDomain[encodingType] = {});\n                const encodingDomain = fieldDomain[encodingType];\n                if (field) {\n                    const fieldStr = `${field}`;\n                    encodingDomain[fieldStr] = encodingDomain[fieldStr] || [];\n                    encodingDomain[fieldStr] = getValidDomain(encodingDomain[fieldStr],\n                        domain[1], encodingType, fieldsConfig[field.getMembers()[0]].def.subtype);\n                }\n                return fieldDomain;\n            }, domains);\n        }\n    });\n    return domains;\n};\n\nexport const renderLayers = (context, container, layers, measurement) => {\n    context._lifeCycleManager.notify({ client: layers, action: 'beforedraw', formalName: 'layer' });\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n    const orderedLayers = layers.sort((a, b) => a.config().order - b.config().order);\n    const layerParentGroup = makeElement(container, 'g', [1], `${classPrefix}-layer-group`);\n    const layerDepOrder = getDependencyOrder(context._layerDepOrder);\n    const groups = {};\n    makeElement(layerParentGroup, 'g', orderedLayers, null, {\n        update: (group, layer) => {\n            groups[layer.alias()] = {\n                group,\n                layer\n            };\n        }\n    });\n\n    const layerSeq = layerDepOrder.map(name => groups[name]).filter(d => d !== undefined);\n    layerSeq.forEach((o) => {\n        const layer = o.layer;\n        const group = o.group;\n        layer.measurement(measurement);\n        layer.dataProps({\n            timeDiffs: context._timeDiffs\n        });\n        layer.config().render !== false && layer.mount(group.node());\n    });\n    return this;\n};\n\nexport const getNearestDimensionalValue = (context, position) => {\n    const fields = context.fields();\n    if (!fields.x.length || !fields.y.length) {\n        return null;\n    }\n    const data = context.data();\n    const axes = context.axes();\n    const fieldsConfig = data.getFieldsConfig();\n    const xField = getObjProp(fields, 'x', 0).getMembers()[0];\n    const yField = getObjProp(fields, 'y', 0).getMembers()[0];\n    const xFieldType = fieldsConfig[xField].def.subtype;\n    const yFieldType = fieldsConfig[yField].def.subtype;\n\n    const entryVal = [['x', xFieldType, xField], ['y', yFieldType, yField]].find(entry =>\n        entry[1] === DimensionSubtype.CATEGORICAL || entry[1] === DimensionSubtype.TEMPORAL);\n\n    if (!entryVal || (xFieldType !== MeasureSubtype.CONTINUOUS && yFieldType !== MeasureSubtype.CONTINUOUS)) {\n        return null;\n    }\n    const field = entryVal[2];\n    const index = fieldsConfig[field].index;\n    let key = axes[entryVal[0]][0].invert(position[entryVal[0]]);\n    if (entryVal[1] === DimensionSubtype.TEMPORAL) {\n        const filterData = [...new Set(data.getData().data.map(d => d[index]))];\n        key = getNearestValue(filterData, key);\n    }\n\n    return key !== undefined ? [[field], [key]] : null;\n};\n\nexport const getLayersBy = (layers, searchBy, value) => layers.filter((layer) => {\n    const name = searchBy === 'type' ? layer.constructor.formalName() : layer.alias();\n    return name === value;\n});\n\nexport const removeLayersBy = (layers, searchBy, value) => {\n    layers.filter((inst) => {\n        const name = searchBy === 'type' ? inst.config().mark : inst.alias();\n        if (name === value) {\n            inst.remove();\n            return false;\n        }\n        return true;\n    });\n};\n\nexport const createSideEffectGroup = (container, className) => makeElement(container, 'g', [1], className).node();\n\nexport const createRenderPromise = (unit) => {\n    const renderedPromise = unit._renderedPromise;\n    renderedPromise.then(() => {\n        unit._renderedPromise = new Promise((resolve) => {\n            unit._renderedResolve = resolve;\n        });\n        createRenderPromise(unit);\n    });\n};\n\nexport const getRadiusRange = (width, height, config = {}) => {\n    const {\n        innerRadius,\n        outerRadius\n    } = config;\n\n    return [innerRadius || 0, outerRadius || Math.min(height,\n        width) / 2];\n};\n\nexport const setAxisRange = (context) => {\n    const axes = context.axes();\n    const { radius: radiusAxes } = axes;\n    if (radiusAxes) {\n        radiusAxes.forEach((axis) => {\n            axis.range(getRadiusRange(context.width(), context.height()));\n        });\n    }\n};\n\nexport const isXandYMeasures = (context) => {\n    const { x: xFields, y: yFields } = context.fields();\n    const [xMeasures, yMeasures] = [xFields, yFields].map(fields => fields\n        .every(field => field.type() === FieldType.MEASURE));\n    return xMeasures && yMeasures;\n};\n\nconst getKey = (arr, row) => {\n    let key = row[arr[0]];\n    for (let i = 1, len = arr.length; i < len; i++) {\n        key = `${key},${row[arr[i]]}`;\n    }\n    return key;\n};\n\nexport const getValuesMap = (model, context) => {\n    const idValuesMap = {};\n    const valuesIdMap = {};\n    const { data: dataArr, schema, uids } = model.getData();\n    const fieldsConfig = model.getFieldsConfig();\n    const fieldIndices = isXandYMeasures(context) ? schema.map((d, i) => i) :\n                            Object.keys(model.getFieldspace().getDimension()).map(d => fieldsConfig[d].index);\n    dataArr.forEach((row, i) => {\n        const key = getKey(fieldIndices, row);\n        valuesIdMap[key] = uids[i];\n        idValuesMap[uids[i]] = row;\n    });\n    return { valuesIdMap, idValuesMap, fieldsConfig };\n};\n\nexport const getSelectionRejectionModel = (model, propModel, measures, propValuesMap) => {\n    let rejectionModel;\n    const { data, schema } = propModel.getData();\n    const entryRowIds = [];\n    const exitRowIds = [];\n\n    if (schema.length) {\n        const fieldMap = model.getFieldsConfig();\n        const { valuesIdMap } = propValuesMap;\n\n        const rowIdsObj = {};\n        const filteredSchema = measures ? schema.map((d, idx) => idx) :\n            Object.keys(model.getFieldspace().getDimension()).map(d => fieldMap[d].index);\n        data.forEach((row) => {\n            const key = getKey(filteredSchema, row);\n            const id = valuesIdMap[key];\n            if (key in valuesIdMap) {\n                entryRowIds.push(id);\n                rowIdsObj[id] = 1;\n            }\n        });\n        rejectionModel = model.select((fields, i) => {\n            if (!rowIdsObj[i]) {\n                exitRowIds.push(i);\n                return true;\n            }\n            return false;\n        }, {\n            saveChild: false\n        });\n    } else {\n        rejectionModel = propModel;\n    }\n\n    return {\n        model: [propModel, rejectionModel],\n        entryRowIds,\n        exitRowIds\n    };\n};\n","import * as helpers from './helper';\nimport * as enums from './enums';\nimport UnitFireBolt from './firebolt';\n\nexport { default as VisualUnit } from './visual-unit';\nexport { helpers, enums, UnitFireBolt };\n","import { STATE_NAMESPACES, temporalFields, getObjProp, defaultValue } from 'muze-utils';\nimport * as PROPS from './enums/reactive-props';\nimport {\n    transformDataModels,\n    getDimensionMeasureMap,\n    attachDataToLayers,\n    attachAxisToLayers\n} from './helper';\n\nimport { createGridLineLayer } from './helper/grid-lines';\n\nconst removeExitLayers = (layerDefs, context) => {\n    const layersMap = context._layersMap;\n    const markSet = {};\n    layerDefs.forEach((layerDef, i) => {\n        const id = defaultValue(layerDef.name, `${layerDef.mark}-${i}`);\n        markSet[id] = true;\n    });\n\n    for (const key in layersMap) {\n        if (!(key in markSet)) {\n            layersMap[key].forEach(layer => layer.remove());\n            delete layersMap[key];\n        }\n    }\n};\n\nexport const listenerMap = [\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.LAYERDEFS],\n        listener: (context, [, layerDefs]) => {\n            const fieldsVal = context.fields();\n            if (layerDefs && fieldsVal) {\n                removeExitLayers(layerDefs, context);\n                const queuedLayerDefs = context._queuedLayerDefs;\n                let layerDefArr = layerDefs;\n                queuedLayerDefs.forEach((defFn) => {\n                    layerDefArr = [...layerDefArr, ...defFn(layerDefs)];\n                });\n                context.addLayer(layerDefArr);\n                const adjustRange = context.layers().some(inst => inst.hasPlotSpan());\n                ['x', 'y'].forEach((type) => {\n                    const axisArr = defaultValue(getObjProp(context.axes(), type), []);\n                    axisArr.forEach((axis) => {\n                        axis.config({\n                            adjustRange\n                        });\n                    });\n                });\n                context._lifeCycleManager.notify({\n                    client: context.layers(),\n                    action: 'initialized',\n                    formalName: 'layer'\n                });\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.DATA],\n        listener: (context, [, dataModel]) => {\n            if (dataModel) {\n                const axesObj = context.axes();\n                const timeDiffs = {};\n                const timeDiffsByField = {};\n\n                Object.entries(temporalFields(dataModel)).forEach(([fieldName, fieldObj]) => {\n                    timeDiffsByField[fieldName] = fieldObj.minimumConsecutiveDifference();\n                });\n\n                Object.entries(context.fields()).forEach(([type, [field]]) => {\n                    if (field) {\n                        const timeDiff = timeDiffsByField[`${field}`];\n                        if (timeDiff) {\n                            timeDiffs[type] = timeDiff;\n                            axesObj[type].forEach(axis => axis.minDiff(timeDiff));\n                        }\n                    }\n                });\n\n                context._timeDiffsByField = timeDiffsByField;\n                context._timeDiffs = timeDiffs;\n                const firebolt = context.firebolt();\n                const originalData = context.cachedData()[0];\n                firebolt.createSelectionSet(context.data().getUids());\n                firebolt.attachPropagationListener(originalData);\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.CONFIG],\n        listener: (context, [, config]) => {\n            if (config) {\n                context.firebolt().config(config.interaction);\n                createGridLineLayer(context);\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.DATA, PROPS.TRANSFORM],\n        listener: (context, [, dataModel], [, transform]) => {\n            if (dataModel) {\n                const dataModels = transformDataModels(transform, dataModel);\n                const metaInf = context.metaInf();\n                context.store().commit(`${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}.${PROPS.TRANSFORMEDDATA}`,\n                    dataModels, metaInf.namespace);\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.TRANSFORMEDDATA, PROPS.LAYERS],\n        listener: (context, [, transformedData], [, layers]) => {\n            const layerAxisIndexVal = context._layerAxisIndex;\n            const axesVal = context.axes();\n            const dataModel = context.data();\n            if (transformedData && layers && axesVal && layerAxisIndexVal) {\n                context._lifeCycleManager.notify({ client: layers, action: 'beforeupdate', formalName: 'layer' });\n                attachDataToLayers(layers, dataModel, transformedData);\n                context._dimensionMeasureMap = getDimensionMeasureMap(layers,\n                    dataModel.getFieldsConfig(), context.retinalFields());\n                attachAxisToLayers(axesVal, layers, layerAxisIndexVal);\n                context._lifeCycleManager.notify({ client: layers, action: 'updated', formalName: 'layer' });\n            }\n        }\n    }\n];\n","import { mergeRecursive, DataModel } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { CONFIG, LAYERDEFS, TRANSFORM, DATA, LAYERS, TRANSFORMEDDATA } from './enums/reactive-props';\nimport { sanitizeLayerDef, getValuesMap } from './helper';\n\nexport default {\n    [CONFIG]: {\n        value: null,\n        meta: {\n            sanitization: (config, oldConfig) => (\n                mergeRecursive(oldConfig || mergeRecursive({}, defaultConfig), config)\n            )\n        }\n    },\n    [LAYERDEFS]: {\n        value: null,\n        meta: {\n            preset: layerDef => sanitizeLayerDef(layerDef)\n        }\n    },\n    [TRANSFORM]: {\n        value: null\n    },\n    [LAYERS]: {\n        value: null\n    },\n    [DATA]: {\n        value: null,\n        meta: {\n            typeCheck: d => d instanceof DataModel,\n            preset: (data, context) => {\n                context._cachedValuesMap = ((model) => {\n                    let valuesMap = null;\n                    return () => {\n                        if (valuesMap) {\n                            return valuesMap;\n                        }\n                        valuesMap = getValuesMap(model, context);\n                        return valuesMap;\n                    };\n                })(data);\n                if (context._cache) {\n                    const cachedData = context.cachedData();\n                    context.cachedData([...cachedData, data]);\n                } else {\n                    const oldData = context.cachedData()[0];\n                    oldData && oldData.unsubscribe('propagation');\n                    context.cachedData([data]);\n                }\n            }\n        }\n    },\n    [TRANSFORMEDDATA]: {\n        value: null\n    },\n    width: {\n        value: null\n    },\n    height: {\n        value: null\n    }\n};\n","import { mergeRecursive } from 'muze-utils';\nimport { FACET_BY_FIELDS, RETINAL_FIELDS, PARENT_ALIAS, CACHED_DATA } from './enums/constants';\n\nexport const PROPS = {\n    [FACET_BY_FIELDS]: {},\n    [RETINAL_FIELDS]: {},\n    [PARENT_ALIAS]: {},\n    [CACHED_DATA]: {},\n    detailFields: {},\n    axes: {\n        defaultValue: {\n            x: [],\n            y: []\n        }\n    },\n    fields: {\n        defaultValue: {\n            x: [],\n            y: []\n        },\n        sanitization: (context, value) => mergeRecursive({\n            x: [],\n            y: []\n        }, value)\n    },\n    metaInf: {},\n    registry: {},\n    parentContainerInf: {},\n    valueParser: {\n        defaultValue: val => val\n    },\n    coord: {}\n};\n","// extracted by mini-css-extract-plugin","import { layerFactory } from '@chartshq/visual-layer';\nimport {\n    setAttrs,\n    getUniqueId,\n    getQualifiedClassName,\n    selectElement,\n    transactor,\n    makeElement,\n    generateGetterSetters,\n    getDataModelFromIdentifiers,\n    isSimpleObject,\n    transposeArray,\n    CommonProps,\n    toArray,\n    STATE_NAMESPACES\n} from 'muze-utils';\nimport { behaviourEffectMap } from '@chartshq/muze-firebolt';\nimport { actionBehaviourMap } from './firebolt/action-behaviour-map';\nimport UnitBrushBehaviour from './firebolt/behaviours/brush';\nimport {\n    renderLayers,\n    getNearestDimensionalValue,\n    removeLayersBy,\n    getLayersBy,\n    getLayerFromDef,\n    getLayerAxisIndex,\n    sanitizeLayerDef,\n    createSideEffectGroup,\n    resolveEncodingTransform,\n    createRenderPromise,\n    setAxisRange,\n    unionDomainFromLayers\n} from './helper';\nimport { renderGridLineLayers, attachDataToGridLineLayers } from './helper/grid-lines';\nimport { listenerMap } from './listener-map';\nimport { PROPS } from './props';\nimport UnitFireBolt from './firebolt';\nimport { initSideEffects, dispatchQueuedSideEffects, clearActionHistory } from './firebolt/helper';\nimport './styles.scss';\nimport localOptions from './local-options';\nimport { WIDTH, HEIGHT } from './enums/reactive-props';\nimport { REACTIVE_PROPS } from './enums';\n\nconst FORMAL_NAME = 'VisualUnit';\nconst unitNs = [STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE, STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE];\nconst groupNs = STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE;\n\n/**\n * Visual Unit is hierarchical component created by {@link VisualGroup}. This component accepts layer definitions\n * and creates concrete layer instances from them, binds data and attaches axis to them. It also retreives the domain\n * from the layers and unions them and sets them on corresponding axis instances. This also creates the parent svg\n * groups for all the layers and delegates the rendering to all the layers.\n *\n * @public\n * @module VisualUnit\n * @class\n */\nexport default class VisualUnit {\n\n    /**\n     * Creates instance of visualization unit.\n     *\n     * @param {Object} registry  Component registry\n     * @param {Object} dependencies  Dependencies required by visual unit.\n     */\n    constructor (registry, dependencies) {\n        this._id = getUniqueId();\n        this._dependencies = dependencies;\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        createRenderPromise(this);\n        this._lifeCycleManager = dependencies.lifeCycleManager;\n        this._layersMap = {};\n        this._gridLinesSelection = null;\n        this._gridBandsSelection = null;\n        this._gridLines = [];\n        this._gridBands = [];\n        this._layerAxisIndex = {};\n        this._queuedLayerDefs = [];\n        layerFactory.setLayerRegistry(registry.layerRegistry);\n        generateGetterSetters(this, this.constructor.getterSetters());\n        this.registry(registry);\n        this.cachedData([]);\n    }\n\n    static formalName () {\n        return FORMAL_NAME;\n    }\n\n    static getState () {\n        return [\n            {\n                domain: null\n            },\n            Object.keys((this.localOptions())).reduce((acc, v) => {\n                acc[v] = localOptions[v].value;\n                return acc;\n            }, {})\n        ];\n    }\n\n    static getterSetters () {\n        return PROPS;\n    }\n\n    static localOptions () {\n        return localOptions;\n    }\n\n    static getQualifiedStateProps () {\n        const unitState = VisualUnit.getState();\n        return unitState.map((state, i) => Object.keys(state).map(prop => `${unitNs[i]}.${prop}`));\n    }\n\n    static getListeners () {\n        return {\n            store: [...listenerMap.map((d) => {\n                const o = Object.assign({}, d);\n                const localNs = unitNs[1];\n                o.props = o.props.map(prop => `${localNs}.${prop}`);\n                return o;\n            }), {\n                type: 'registerImmediateListener',\n                props: [`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.domain`],\n                listener: (context) => {\n                    const domain = context.calculateDomainFromData();\n                    context.dataDomain(domain);\n                }\n            }, {\n                type: 'registerImmediateListener',\n                props: [`${unitNs[1]}.${WIDTH}`,\n                    `${unitNs[1]}.${HEIGHT}`,\n                    ...['x', 'y'].map(type => `${groupNs}.domain.${type}`)],\n                listener: (context, [, width], [, height]) => {\n                    if (width && height) {\n                        attachDataToGridLineLayers(context);\n                    }\n                },\n                subNamespace: (context) => {\n                    const { rowIndex, colIndex, namespace } = context.metaInf();\n                    return {\n                        [`${unitNs[1]}.${WIDTH}`]: namespace,\n                        [`${unitNs[1]}.${HEIGHT}`]: namespace,\n                        [`${groupNs}.domain.x`]: `${colIndex}0`,\n                        [`${groupNs}.domain.y`]: `${rowIndex}0`\n                    };\n                }\n            }],\n            throwback: [\n                {\n                    type: 'registerChangeListener',\n                    props: [CommonProps.ON_LAYER_DRAW],\n                    listener: (context, [, drawn]) => {\n                        if (drawn) {\n                            const firebolt = context.firebolt();\n                            dispatchQueuedSideEffects(firebolt);\n                            clearActionHistory(firebolt);\n                        }\n                        context._renderedResolve();\n                        context._lifeCycleManager.notify({\n                            client: context.layers(),\n                            action: 'drawn',\n                            formalName: 'layer'\n                        });\n                    }\n                }\n            ]\n        };\n    }\n\n    store (...params) {\n        if (params.length) {\n            const store = this._store = params[0];\n            const { throwback } = this._dependencies;\n            const { namespace } = this.metaInf();\n\n            store.addSubNamespace(namespace, FORMAL_NAME, this);\n            throwback.addSubNamespace(namespace, FORMAL_NAME, this);\n            transactor(this, this.constructor.localOptions(), store, {\n                subNamespace: namespace,\n                namespace: `${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}`\n            });\n            this.createFireboltInstance();\n\n            return this;\n        }\n        return this._store;\n    }\n\n    createFireboltInstance () {\n        const { interactions } = this.registry();\n        const { fireboltDeps } = this._dependencies;\n        const Cls = this.getFireboltCls();\n\n        this.firebolt(new Cls(this, {\n            physical: Object.assign({}, interactions.physicalActions.get(), fireboltDeps.physicalActions),\n            behavioural: Object.assign({}, interactions.behaviours.get(), {\n                [UnitBrushBehaviour.formalName()]: UnitBrushBehaviour\n            }, fireboltDeps.behaviouralActions),\n            physicalBehaviouralMap: this.getActionBehaviourMap()\n        }, Object.assign({}, interactions.sideEffects.get(), fireboltDeps.sideEffects), this.getBehaviourEffectMap()));\n\n        return this;\n    }\n\n    getFireboltCls () {\n        return UnitFireBolt;\n    }\n\n    getBehaviourEffectMap () {\n        return behaviourEffectMap;\n    }\n\n    getActionBehaviourMap () {\n        return actionBehaviourMap;\n    }\n\n    /**\n     * Static helper for creates a unit instance\n     *\n     * @param {Object} [id] optional unique identifier for a unit; , id is calculated internally\n     * @param {DataModel} data instance of datamodel\n     * @param {Array.<Layer>} layers layer configuration\n     * @param {Object} config configurtion for the visual unit\n     * @return {VisualUnit} Instance of a unit\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Returns the instance of firebolt associated with this visual unit. Firebolt dispatches the behavioural actions\n     * when any physical action happens on the elements of visual unit.\n     *\n     * @public\n     *\n     * @return {Firebolt} Instance of firebolt.\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Returns the unique id of this visual unit.\n     *\n     * @public\n     * @return {string} Unique identifier.\n     */\n    id () {\n        return this._id;\n    }\n\n    lockModel () {\n        this.store().lockModel();\n        return this;\n    }\n\n    unlockModel () {\n        this.store().unlockModel();\n        return this;\n    }\n\n    timeDiffsByField (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._timeDiffsByField;\n    }\n\n    /**\n     * Renders the visual unit. It creates the layout and renders the axes and layers.\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    render (container) {\n        this.createRootContainers(container);\n\n        setAxisRange(this);\n        this.renderLayers();\n        const node = this._rootSvg.node();\n        const { sideEffectClassName, classPrefix } = this.config();\n        this._sideEffectGroup = createSideEffectGroup(node, `${classPrefix}-${sideEffectClassName}`);\n        const firebolt = this.firebolt();\n        initSideEffects(firebolt.sideEffects(), firebolt);\n        return this;\n    }\n\n    createRootContainers (container) {\n        const config = this.config();\n        const { className, defClassName } = config;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const width = this.width();\n        const height = this.height();\n        const containerSelection = selectElement(container).style('position', 'relative');\n        this._rootSvg = makeElement(containerSelection, 'svg', [null], className)\n                        .style('width', `${width}px`).style('height', `${height}px`);\n\n        const node = this._rootSvg.node();\n\n        setAttrs(node, {\n            width,\n            height,\n            class: qualifiedClassName.join(' ')\n        });\n        return this;\n    }\n\n    renderLayers () {\n        const width = this.width();\n        const height = this.height();\n        const node = this._rootSvg.node();\n\n        renderGridLineLayers(this, node);\n        renderLayers(this, node, this.layers(), {\n            width,\n            height\n        });\n        return this;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     * Caches all the datamodels in an array from the next `data()` call on visual unit until `clearCaching()` or\n     * `resetData()` is called on it.\n     *\n     * @public\n     * @return {VisualUnit} Instance of visual unit.\n     */\n\n    enableCaching () {\n        this._cache = true;\n        return this;\n    }\n\n    /**\n     * Clears all the previous cached data.\n     *\n     * @public\n     * @segment VisualUnit\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    clearCaching () {\n        this._cache = false;\n        this.cachedData([this.cachedData()[0]]);\n        return this;\n    }\n\n    /**\n     * Returns the drawing information from visual unit.Drawing context contains the dimensions of unit and the svg\n     * container of the visual unit.\n     *\n     * @public\n     *\n     * @return {Object} Drawing information.\n     *      ```\n     *          {\n     *              htmlContainer: // Html container of svg container of the visual unit\n     *              svgContainer: // Root svg container\n     *              width: // Width of the visual unit\n     *              height: // Height of the visual unit\n     *              sideEffectGroup: // Svg group for drawing side effect elements.\n     *              parentContainer: // Parent html container of the visual unit.\n     *              xOffset: // x offset space from the starting x position of the container,\n     *              yOffset: // y offset space from the starting y position of the container\n     *          }\n     *      ```\n     */\n    getDrawingContext () {\n        const rootSvg = this._rootSvg && this._rootSvg.node();\n        const width = this.width();\n        const height = this.height();\n        const { el, dimensions } = this.parentContainerInf();\n        return {\n            htmlContainer: this.mount(),\n            svgContainer: rootSvg,\n            width,\n            height,\n            sideEffectGroup: this._sideEffectGroup,\n            parentContainer: el,\n            parentContainerDimensions: dimensions,\n            xOffset: 0,\n            yOffset: 0\n        };\n    }\n\n    /**\n     * Returns the serialized configuration of visual unit.\n     *\n     * @return {Object} serialized configuration\n     */\n    serialize () {\n        return {\n            layers: this.layers().map(layer => layer.serialize()),\n            config: this.config(),\n            axes: this.axes().map(axis => axis.serialize())\n        };\n    }\n\n    mount (...mount) {\n        if (mount.length) {\n            this._mount = mount[0];\n            this.render(mount[0]);\n            this.firebolt().mapActionsAndBehaviour();\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     * Adds a new layer to the visual unit. It takes a layer definition and creates layer instances from them. It does\n     * not render the layers. It returns the layer instances in an array. If the layer definition is a composite layer,\n     * then multiple layer instances will be returned in the array.\n     *\n     * To add a layer in the unit,\n     * ```\n     *      unit.addLayer({\n     *          name: 'bullet',\n     *          mark: 'bar',\n     *          encoding: {\n     *              x: 'Year',\n     *              y: 'Acceleration',\n     *              color: 'Origin'\n     *          }\n     *      });\n     * ```\n     * @public\n     * @param {Object} layerDef Definition of new layer.\n     *\n     * @return {Array} Array of layer instances.\n     */\n    addLayer (layerDefinition) {\n        if (layerDefinition instanceof Function) {\n            this._queuedLayerDefs.push(layerDefinition);\n            return this;\n        }\n        const layerDefinitions = sanitizeLayerDef(toArray(layerDefinition));\n\n        const layersMap = this._layersMap;\n        const markSet = {};\n        const store = {\n            layers: {},\n            components: {\n                unit: this\n            }\n        };\n        let layerIndex = 0;\n        const metaInf = this.metaInf();\n        const layers = layerDefinitions.sort((a, b) => a.order - b.order).reduce((layersArr, layerDef) => {\n            const definition = layerDef.def;\n            const markId = definition.name;\n            const defArr = toArray(definition);\n            const namespaces = [];\n            defArr.forEach((def) => {\n                def.order = layerDef.order + layerIndex;\n                const namespace = `${metaInf.namespace}-${def.mark}-${getUniqueId()}`;\n                namespaces.push(namespace);\n            });\n            layerIndex += defArr.length;\n            const instances = getLayerFromDef(this, definition, layersMap[markId], namespaces);\n            store.layers = Object.assign(store.layers, instances);\n            const instanceValues = Object.values(instances);\n            layersArr = layersArr.concat(...instanceValues);\n            layersMap[markId] = instanceValues;\n            markSet[markId] = markId;\n            return layersArr;\n        }, []);\n\n        store.unit = this;\n        const layerdeps = {};\n        const layersArr = [].concat(...Object.values(this._layersMap));\n        layersArr.forEach((layer) => {\n            const alias = layer.alias();\n            store.layers[alias] = layer;\n            layerdeps[alias] = [];\n        });\n        layers.forEach((layer) => {\n            const depArr = resolveEncodingTransform(layer, store);\n            layerdeps[layer.alias()] = depArr;\n        });\n\n        this._layerDepOrder = layerdeps;\n        this._layerAxisIndex = Object.assign(this._layerAxisIndex, getLayerAxisIndex(layers, this.fields()));\n        this.layers(layersArr);\n        return layers;\n    }\n\n    remove () {\n        const formalName = this.constructor.formalName();\n        const { lifeCycleManager, throwback } = this._dependencies;\n        const { namespace } = this.metaInf();\n        lifeCycleManager.notify({ client: this, action: 'beforeremove', formalName: 'unit' });\n        const layers = this.layers();\n        this.store().removeSubNamespace(namespace, formalName);\n        throwback.removeSubNamespace(namespace, FORMAL_NAME);\n        selectElement(this.mount()).remove();\n        this.firebolt().remove();\n        // Remove layers\n        lifeCycleManager.notify({ client: layers, action: 'beforeremove', formalName: 'layer' });\n        [...layers, ...this._gridLines, ...this._gridBands].forEach(layer => layer.remove());\n        lifeCycleManager.notify({ client: layers, action: 'removed', formalName: 'layer' });\n        lifeCycleManager.notify({ client: this, action: 'removed', formalName: 'unit' });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     *\n     * @memberof VisualUnit\n     */\n    getDataModelFromIdentifiers (identifiers, mode, parentModel, hasBarLayer) {\n        if (!identifiers) return null;\n        const dataModel = parentModel || this.data();\n        return getDataModelFromIdentifiers(dataModel, identifiers, mode, hasBarLayer);\n    }\n\n    /**\n     * Resets the data of visual unit to original data model. It also clears the cached data.\n     *\n     * @public\n     * @segment VisualUnit\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    resetData () {\n        this.data(this.cachedData()[0]);\n        return this;\n    }\n\n    getSourceInfo () {\n        return {\n            dimensionMeasureMap: this._dimensionMeasureMap,\n            fields: this.fields(),\n            data: this.data(),\n            axes: this.axes()\n        };\n    }\n\n    dataDomain (...params) {\n        const { namespace } = this.metaInf();\n        const store = this.store();\n        const prop = `${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.${REACTIVE_PROPS.DOMAIN}`;\n        if (params.length) {\n            const domain = params[0];\n            store.commit(prop, domain, namespace);\n        }\n        return store.get(prop, namespace);\n    }\n\n    getDefaultTargetContainer () {\n        const { classPrefix, defClassName } = this.config();\n        return [`.${classPrefix}-${defClassName}`];\n    }\n\n    /**\n     * Returns an array of layer instances which matches the supplied mark type.\n     *\n     * @public\n     *\n     * @param {string} type Mark type of layer.\n     *\n     * @return {Array} Array of layer instances.\n     */\n    getLayersByType (type) {\n        const layers = getLayersBy(this.layers(), 'type', type);\n        return layers;\n    }\n\n    /**\n     * Returns the layer instance which matches the supplied layer name. If no layer is found, then it returns\n     * undefined.\n     *\n     * @public\n     * @param {string} name Name of layer.\n     *\n     * @return {VisualUnit} Layer instance.\n     */\n    getLayerByName (name) {\n        const layers = getLayersBy(this.layers(), 'name', name);\n        return layers[0];\n    }\n\n    /**\n     * Returns the point located nearest to the supplied x and y position. It returns the unique identifiers of the\n     * point. This function also accepts an additional configuration `getAllPoints` inside `config` object in the third\n     * argument which if set to true, then it returns the identifiers of all the points which falls on the nearest\n     * x value or y value if any one of the field is a dimension. Additionally, a target property is also returned\n     * which contains the identifier of the nearest point. If no nearest point is found, then it returns identifier\n     * as null.\n     *\n     * @public\n     *\n     * @param {number} x X Position of the point from where nearest point is to be found.\n     * @param {number} y Y Position of the point from where nearest point is to be found.\n     * @param {Object} config Additional configuration options.\n     * @param {boolean} config.getAllPoints If true, then returns all the points nearest to the x value or y value if\n     * it is dimension.\n     * @param {Object} config.data Data associated with the nearest point.\n     * @return {Object} Nearest point information\n     * ```\n     *      {\n     *          id: [['Origin'], ['USA'], ['Japan']], // Identifiers of all the points closest to the x value.\n     *          target: [['Origin'], ['Japan']] // Identifier of the nearest point.\n     *      }\n     * ```\n     */\n    getNearestPoint (x, y, config) {\n        let pointObj = {\n            id: null\n        };\n        const dimValue = getNearestDimensionalValue(this, {\n            x,\n            y\n        });\n\n        if (dimValue !== null && config.getAllPoints) {\n            pointObj.id = dimValue;\n            const pointInf = this.getMarkInfFromLayers(x, y, config);\n            pointObj.target = pointInf && pointInf.id ? pointInf.id : pointObj.id;\n            return pointObj;\n        }\n\n        const markInf = this.getMarkInfFromLayers(x, y, config) || { id: null };\n        pointObj = Object.assign({}, markInf);\n\n        pointObj.target = markInf.id;\n        return pointObj;\n    }\n\n    getMarkInfFromLayers (x, y, args) {\n        const layers = this.layers();\n        const len = layers.length;\n        let point = null;\n        // Iterate through the layers array and fetch the nearest point from each layer. If a valid\n        // nearest point is found from any layer, then return that point.\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            const config = layer.config();\n            if (config.interactive !== false) {\n                point = layer.getNearestPoint(x, y, args);\n            }\n            if (point) {\n                return point;\n            }\n        }\n        return point;\n    }\n\n    /**\n     * Get the information of all the marks such as x, y position and size from supplied identifiers. It\n     * returns an array of points whose data matches the given identifiers.\n     *\n     * @public\n     *\n     * @param {Array|Object} identifiers Field names and their corresponding values.\n     * ```\n     * identifiers can be given in an array of array,\n     *      ['Origin', 'Name'], // Names of the fields supplied in first array\n     *      ['USA', 'ford'], // Data values of each field supplied in rest of the arrays.\n     *      ['Japan', 'ford']\n     * or in an object,\n     *      {\n     *          Origin: ['USA']\n     *      }\n     * ```\n     * @param {Object} config Optional configurations which decides which information of the mark will\n     * be retrieved.\n     * @param {boolean} [config.getAllAttrs = false] If true, then returns all the information of each mark.\n     * @param {boolean} [config.getBBox = false] If true, then returns the bounding box of each mark.\n     *\n     * @return {Array} Array of objects containing the information of each point.\n     * ```\n     * By default, the method returns the array of points in this structure,\n     *      [\n     *          {\n     *              x: 20,\n     *              y: 100,\n     *              width: 200,\n     *              height: 100\n     *          }\n     *      ]\n     * If 'config.getAllAttrs' is true, then it returns all the information of each mark,\n     *      [\n     *      // Positions of mark on initial state of transition.\n     *          enter: {\n     *              x: 0,\n     *              y: 0\n     *          },\n     *          // Final positions of the mark\n     *          update: {\n     *              x: 20,\n     *              y: 10\n     *          },\n     *          style: // css styles of each mark\n     *          source: [200, 'USA'] // Row information of each mark\n     *          id: 20 // Row id of each mark\n     *      ]\n     * ```\n     */\n    getPlotPointsFromIdentifiers (identifiers, config = {}) {\n        let points = [];\n        let parsedIdentifiers = identifiers;\n        if (identifiers === null) {\n            return [];\n        }\n        const layers = this.layers();\n        const len = layers.length;\n        if (isSimpleObject(identifiers)) {\n            parsedIdentifiers = [Object.keys(identifiers)];\n            parsedIdentifiers = [...parsedIdentifiers, ...transposeArray(Object.values(identifiers))];\n        }\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            if (layer.config().interactive !== false) {\n                points = [...points, ...layer.getPointsFromIdentifiers(parsedIdentifiers, config)];\n            }\n        }\n        return points;\n    }\n\n    /**\n     * Removes the layer instance which matches the supplied layer name.\n     *\n     * @public\n     * @param {string} name Name of layer\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    removeLayerByName (name) {\n        removeLayersBy('name', name);\n        return this;\n    }\n\n    /**\n     * Removes all the layer instances which matches the supplied mark type.\n     *\n     * @public\n     * @param {string} type Mark type of layer.\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    removeLayersByType (type) {\n        removeLayersBy('type', type);\n        return this;\n    }\n\n    calculateDomainFromData () {\n        const domain = unionDomainFromLayers(this.layers(), this.fields(), this._layerAxisIndex,\n            this.data().getFieldsConfig());\n        return domain;\n    }\n\n    getValueFromId (id, fields, fieldsConfig) {\n        const { idValuesMap } = this._cachedValuesMap();\n        const row = idValuesMap[id];\n        const filteredRow = fields.map(d => row[fieldsConfig[d].index]);\n\n        return filteredRow;\n    }\n\n    getRangeFromIdentifiers ({ criteria, fields }) {\n        return fields.reduce((acc, v) => {\n            acc[v] = criteria[v];\n            return acc;\n        }, {});\n    }\n}\n"],"sourceRoot":""}