{"version":3,"sources":["webpack://muze/webpack/universalModuleDefinition","webpack://muze/webpack/bootstrap","webpack://muze/../datamodel/dist/datamodel.js","webpack://muze/./packages/muze-utils/node_modules/hyperdis/dist/hyperdis.js","webpack://muze/(webpack)/buildin/module.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/SmartlabelManager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/lib.js","webpack://muze/./packages/muze/src/index.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/container-manager.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisector.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisect.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/range.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ticks.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/sturges.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/map.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/nest.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/set.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/ordinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/band.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/define.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/rgb.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/string.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/parse.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/value.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/date.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/object.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/round.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/decompose.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/zoom.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hsl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hcl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/piecewise.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/continuous.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatDecimal.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/exponent.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatSpecifier.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTrim.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatPrefixAuto.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatRounded.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTypes.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatGroup.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatNumerals.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionFixed.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/tickFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionPrefix.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionRound.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/nice.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/log.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/pow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/threshold.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/millisecond.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/second.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/minute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/hour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/day.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/week.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/month.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/year.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMinute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcHour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcDay.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcWeek.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMonth.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcYear.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoParse.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/time.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20b.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20c.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/sequential.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/ramp.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://muze/./packages/muze-utils/src/enums/reserved-fields.js","webpack://muze/./packages/muze-utils/src/enums/common-props.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/axis.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/path.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/arc.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/line.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/area.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/radial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/lineRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/diamond.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/star.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/square.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/triangle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/wye.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/noop.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/bundle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRom.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linearClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/monotone.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/natural.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/step.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/stack.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/cubic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/poly.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/sin.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/bounce.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/back.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/elastic.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/RedBlackTree.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Edge.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Cell.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Beach.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Diagram.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/voronoi.js","webpack://muze/./packages/muze-utils/src/common-utils.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol.js","webpack://muze/./packages/muze-utils/src/enums/stack-config.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/diverging.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/expand.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/wiggle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pie.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespaces.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespace.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/creator.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selector.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectorAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/matcher.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sparse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/enter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/data.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sort.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/window.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/classed.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/html.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/raise.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/lower.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/insert.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/clone.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/exit.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/order.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/call.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/nodes.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/node.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/size.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/empty.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/each.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/property.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/append.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/datum.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/local.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/sourceEvent.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/mouse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touch.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/noevent.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/nodrag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/event.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/drag.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timer.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timeout.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/schedule.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/tween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/interpolate.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selection.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attrTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/styleTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/delay.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/ease.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/active.js","webpack://muze/./packages/muze-utils/src/renderer-utils.js","webpack://muze/./packages/muze-utils/src/DataSystem/selection.js","webpack://muze/./packages/muze-utils/src/DataSystem/data-object.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/event-list.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/lifecycle-manager.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/index.js","webpack://muze/./packages/muze-firebolt/src/enums/actions.js","webpack://muze/./packages/muze-firebolt/src/enums/selection.js","webpack://muze/./packages/muze-firebolt/src/selection-set/index.js","webpack://muze/./packages/muze-firebolt/src/helper/index.js","webpack://muze/./packages/muze-firebolt/src/firebolt.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/generic.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/volatile.js","webpack://muze/./packages/muze-firebolt/src/enums/behaviours.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/highlight.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/brush.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/filter.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/persistent.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/select.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-action-config.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-event.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/hover.js","webpack://muze/./packages/muze-firebolt/src/enums/constants.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/click.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/longtouch.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/touch-drag.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic.js","webpack://muze/./packages/muze-firebolt/src/side-effects/surrogate.js","webpack://muze/./packages/muze-firebolt/src/side-effects/spawnable.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/helper.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/selection-box-drag.js","webpack://muze/./packages/muze-tooltip/src/constants.js","webpack://muze/./packages/muze-tooltip/src/default-config.js","webpack://muze/./packages/muze-tooltip/src/helper.js","webpack://muze/./packages/muze-tooltip/src/strategy.js","webpack://muze/./packages/muze-tooltip/src/content.js","webpack://muze/./packages/muze-tooltip/src/tooltip.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/strategies.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/helper/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/strategy.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/filter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/persistent-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/brush-anchors.js","webpack://muze/./packages/muze-firebolt/src/behaviour-effect-map.js","webpack://muze/./packages/visual-layer/src/enums/constants.js","webpack://muze/./packages/visual-layer/src/layers/area/default-config.js","webpack://muze/./packages/visual-layer/src/simple-layer/simple-layer.js","webpack://muze/./packages/visual-layer/src/enums/props.js","webpack://muze/./packages/muze-axis/src/enums/axis-orientation.js","webpack://muze/./packages/muze-axis/src/enums/scale-type.js","webpack://muze/./packages/muze-axis/src/enums/constants.js","webpack://muze/./packages/muze-axis/src/scale-creator.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/default-config.js","webpack://muze/./packages/muze-axis/src/axis-renderer.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/helper.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/props.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/simple-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/linear.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/log.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/pow.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/continous-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/band-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/time-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-maps.js","webpack://muze/./packages/muze-axis/src/color-axis/defaults.js","webpack://muze/./packages/muze-axis/src/color-axis/props.js","webpack://muze/./packages/muze-axis/src/color-axis/color-strategy.js","webpack://muze/./packages/muze-axis/src/color-axis/color-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/defaults.js","webpack://muze/./packages/muze-axis/src/size-axis/size-strategy.js","webpack://muze/./packages/muze-axis/src/size-axis/props.js","webpack://muze/./packages/muze-axis/src/size-axis/size-axis.js","webpack://muze/./packages/muze-axis/src/shape-axis/defaults.js","webpack://muze/./packages/muze-axis/src/shape-axis/props.js","webpack://muze/./packages/muze-axis/src/shape-axis/shape-axis.js","webpack://muze/./packages/muze-axis/src/shape-axis/helper.js","webpack://muze/./packages/muze-axis/src/data-type-scale-map.js","webpack://muze/./packages/transform/src/group-transform/index.js","webpack://muze/./packages/transform/src/identity-transform/index.js","webpack://muze/./packages/transform/src/transform-factory/index.js","webpack://muze/./packages/transform/src/enums/transform-type.js","webpack://muze/./packages/transform/src/stack-transform/index.js","webpack://muze/./packages/visual-layer/src/helpers/index.js","webpack://muze/./packages/visual-layer/src/base-layer/listener-map.js","webpack://muze/./packages/visual-layer/src/base-layer/default-options.js","webpack://muze/./packages/visual-layer/src/base-layer/base-layer.js","webpack://muze/./packages/visual-layer/src/layers/line/renderer.js","webpack://muze/./packages/visual-layer/src/layers/line/default-config.js","webpack://muze/./packages/visual-layer/src/layers/line/line.js","webpack://muze/./packages/visual-layer/src/layers/area/renderer.js","webpack://muze/./packages/visual-layer/src/layers/area/area.js","webpack://muze/./packages/visual-layer/src/layers/arc/default-config.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc-helper.js","webpack://muze/./packages/visual-layer/src/layers/text/renderer.js","webpack://muze/./packages/visual-layer/src/layers/text/default-config.js","webpack://muze/./packages/visual-layer/src/layers/text/text.js","webpack://muze/./packages/visual-layer/src/layers/point/renderer.js","webpack://muze/./packages/visual-layer/src/layers/point/default-config.js","webpack://muze/./packages/visual-layer/src/layers/point/point.js","webpack://muze/./packages/visual-layer/src/layers/bar/renderer.js","webpack://muze/./packages/visual-layer/src/layers/bar/default-config.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar-helper.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar.js","webpack://muze/./packages/visual-layer/src/layers/tick/default-config.js","webpack://muze/./packages/visual-layer/src/layers/tick/renderer.js","webpack://muze/./packages/visual-layer/src/layers/tick/tick.js","webpack://muze/./packages/visual-layer/src/layer-factory/index.js","webpack://muze/./packages/visual-layer/src/defaults.js","webpack://muze/./packages/visual-group/src/enums/constants.js","webpack://muze/./packages/visual-group/src/visual-group/local-options.js","webpack://muze/./packages/visual-group/src/simple-group/simple-group.js","webpack://muze/./packages/visual-group/src/variable/variable.js","webpack://muze/./packages/visual-group/src/variable/composed-vars.js","webpack://muze/./packages/visual-group/src/variable/simple-var.js","webpack://muze/./packages/visual-group/src/encoder/field-sanitizer.js","webpack://muze/./packages/visual-group/src/encoder/visual-encoder.js","webpack://muze/./packages/visual-group/src/enums/scale-maps.js","webpack://muze/./packages/visual-group/src/data-type-scale-map.js","webpack://muze/./packages/visual-group/src/encoder/encoder-helper.js","webpack://muze/./packages/visual-group/src/encoder/cartesian-encoder.js","webpack://muze/./packages/visual-group/src/encoder/polar-encoder.js","webpack://muze/./packages/visual-group/src/encoder/retinal-encoder.js","webpack://muze/./packages/visual-group/src/group-helper/group-utils.js","webpack://muze/./packages/visual-group/src/enums/defaults.js","webpack://muze/./packages/muze-utils/src/DataSystem/dataSelect.js","webpack://muze/./packages/visual-unit/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/visual-unit/src/enums/reactive-props.js","webpack://muze/./packages/visual-unit/src/helper/index.js","webpack://muze/./packages/visual-unit/src/helper/grid-lines.js","webpack://muze/./packages/visual-unit/src/default-config.js","webpack://muze/./packages/visual-unit/src/enums/constants.js","webpack://muze/./packages/visual-unit/src/local-options.js","webpack://muze/./packages/visual-unit/src/listener-map.js","webpack://muze/./packages/visual-unit/src/props.js","webpack://muze/./packages/visual-unit/src/firebolt/helper.js","webpack://muze/./packages/visual-unit/src/firebolt/payload-generator.js","webpack://muze/./packages/visual-unit/src/firebolt/data-propagator.js","webpack://muze/./packages/visual-unit/src/firebolt/index.js","webpack://muze/./packages/visual-unit/src/visual-unit.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-model.js","webpack://muze/./packages/visual-group/src/group-helper/cell-creator.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-resolver.js","webpack://muze/./packages/visual-group/src/visual-group/value-matrix.js","webpack://muze/./packages/visual-group/src/visual-group/change-listener.js","webpack://muze/./packages/visual-group/src/visual-group/props.js","webpack://muze/./packages/visual-group/src/visual-group/visual-group.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/select.js","webpack://muze/./packages/muze-legend/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behaviour-effect-map.js","webpack://muze/./packages/muze-legend/src/enums/behaviours.js","webpack://muze/./packages/muze-legend/src/enums/side-effects.js","webpack://muze/./packages/muze-legend/src/enums/constants.js","webpack://muze/./packages/muze-legend/src/firebolt/helper.js","webpack://muze/./packages/muze-legend/src/firebolt/legend-firebolt.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/drag.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/hover.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/click.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/index.js","webpack://muze/./packages/muze-legend/src/enums/actions.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/selection-box-drag.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/strategies.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/index.js","webpack://muze/./packages/muze-legend/src/legend/props.js","webpack://muze/./packages/muze-legend/src/legend/defaults.js","webpack://muze/./packages/muze-legend/src/legend/legend-helper.js","webpack://muze/./packages/muze-legend/src/legend/simple-legend.js","webpack://muze/./packages/muze-legend/src/legend/position-config.js","webpack://muze/./packages/muze-legend/src/legend/renderer.js","webpack://muze/./packages/muze-legend/src/legend/discrete-legend.js","webpack://muze/./packages/muze-legend/src/legend/gradient-helper.js","webpack://muze/./packages/muze-legend/src/legend/gradient-legend.js","webpack://muze/./packages/muze-legend/src/legend/step-legend.js","webpack://muze/./packages/muze/src/constants.js","webpack://muze/./packages/muze/src/operators.js","webpack://muze/./packages/muze/src/action-model.js","webpack://muze/./packages/muze/src/defaults.js","webpack://muze/./packages/muze/src/options.js","webpack://muze/./packages/layout/src/enums/constants.js","webpack://muze/./packages/layout/src/generic-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/defaults.js","webpack://muze/./packages/layout/src/grid-layout/span-maker.js","webpack://muze/./packages/layout/src/grid-layout/renderer.js","webpack://muze/./packages/layout/src/utils/index.js","webpack://muze/./packages/layout/src/visual-matrix/props.js","webpack://muze/./packages/layout/src/visual-matrix/default-config.js","webpack://muze/./packages/layout/src/visual-matrix/visual-matrix.js","webpack://muze/./packages/layout/src/grid-layout/computations.js","webpack://muze/./packages/layout/src/grid-layout/layout.js","webpack://muze/./packages/layout/src/grid-layout/layout-helper.js","webpack://muze/./packages/muze/src/transaction-support.js","webpack://muze/./packages/visual-cell/src/enums/constants.js","webpack://muze/./packages/visual-cell/src/enums/cell-type.js","webpack://muze/./packages/visual-cell/src/simple-cell.js","webpack://muze/./packages/visual-cell/src/enums/defaults.js","webpack://muze/./packages/visual-cell/src/props.js","webpack://muze/./packages/visual-cell/src/axis-cell.js","webpack://muze/./packages/visual-cell/src/blank-cell.js","webpack://muze/./packages/visual-cell/src/text-cell.js","webpack://muze/./packages/visual-cell/src/geom-cell.js","webpack://muze/./packages/visual-cell/src/defaults.js","webpack://muze/./packages/visual-cell/src/constants.js","webpack://muze/./packages/visual-cell/src/cell-registry.js","webpack://muze/./packages/muze/src/canvas/component-resolver.js","webpack://muze/./packages/muze/src/canvas/title-maker.js","webpack://muze/./packages/muze/src/canvas/legend-maker.js","webpack://muze/./packages/muze/src/canvas/layout-maker.js","webpack://muze/./packages/muze/src/canvas/defaults.js","webpack://muze/./packages/muze/src/canvas/local-options.js","webpack://muze/./packages/muze/src/canvas/renderer.js","webpack://muze/./packages/muze/src/canvas/helper.js","webpack://muze/./packages/muze/src/canvas/firebolt.js","webpack://muze/./packages/muze/src/canvas/canvas.js","webpack://muze/./packages/muze/src/default-registry.js","webpack://muze/./packages/visual-layer/src/layer-registry.js","webpack://muze/./packages/muze/src/muze.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","_typeof","__WEBPACK_AMD_DEFINE_ARRAY__","undefined","__WEBPACK_AMD_DEFINE_RESULT__","__WEBPACK_AMD_DEFINE_FACTORY__","apply","./node_modules/d3-dsv/src/csv.js","node_modulesD3DsvSrcCsvJs","__webpack_exports__","csvParse","csvParseRows","csvFormat","csvFormatRows","_dsv__WEBPACK_IMPORTED_MODULE_0__","csv","parse","parseRows","format","formatRows","./node_modules/d3-dsv/src/dsv.js","node_modulesD3DsvSrcDsvJs","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","map","JSON","stringify","join","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","text","f","rows","N","length","I","eof","eol","token","j","slice","replace","row","push","formatRow","formatValue","test","convert","customConverter","inferColumns","columnSet","forEach","column","concat","./node_modules/d3-dsv/src/index.js","node_modulesD3DsvSrcIndexJs","_csv__WEBPACK_IMPORTED_MODULE_1__","_tsv__WEBPACK_IMPORTED_MODULE_2__","./node_modules/d3-dsv/src/tsv.js","node_modulesD3DsvSrcTsvJs","tsvParse","tsvParseRows","tsvFormat","tsvFormatRows","tsv","./package.json","packageJson","description","homepage","version","license","main","author","keywords","repository","type","url","contributors","email","dependencies","d3-dsv","devDependencies","babel-cli","babel-core","babel-eslint","babel-loader","babel-plugin-transform-runtime","babel-preset-env","babel-preset-es2015","babel-preset-flow","chai","cross-env","eslint","eslint-config-airbnb","eslint-plugin-import","eslint-plugin-jsx-a11y","eslint-plugin-react","istanbul-instrumenter-loader","jsdoc","json2yaml","karma","karma-chai","karma-chrome-launcher","karma-coverage-istanbul-reporter","karma-mocha","karma-spec-reporter","karma-webpack","marked","mocha","mocha-webpack","transform-runtime","webpack","webpack-cli","webpack-dev-server","scripts","ut","utd","build","start","lint","lint-errors","docs","./src/constants/index.js","srcConstantsIndexJs","PROPAGATION","ROW_ID","DM_DERIVATIVES","JOINS","LOGICAL_OPERATORS","_enums__WEBPACK_IMPORTED_MODULE_0__","SELECT","PROJECT","GROUPBY","COMPOSE","CAL_VAR","BIN","CROSS","LEFTOUTER","RIGHTOUTER","NATURAL","FULLOUTER","AND","OR","./src/converter/auto-resolver.js","srcConverterAutoResolverJs","_flat_json__WEBPACK_IMPORTED_MODULE_0__","_dsv_arr__WEBPACK_IMPORTED_MODULE_1__","_dsv_str__WEBPACK_IMPORTED_MODULE_2__","_utils__WEBPACK_IMPORTED_MODULE_3__","Auto","data","options","converter","Error","./src/converter/dsv-arr.js","srcConverterDsvArrJs","_utils__WEBPACK_IMPORTED_MODULE_0__","DSVArr","arr","assign","firstRowHeader","header","splice","field","./src/converter/dsv-str.js","srcConverterDsvStrJs","d3_dsv__WEBPACK_IMPORTED_MODULE_0__","DSVStr","str","fieldSeparator","dsv","./src/converter/flat-json.js","srcConverterFlatJsonJs","FlatJSON","insertionIndex","item","fields","keys","./src/converter/index.js","srcConverterIndexJs","_dsv_arr__WEBPACK_IMPORTED_MODULE_0__","_dsv_str__WEBPACK_IMPORTED_MODULE_1__","_flat_json__WEBPACK_IMPORTED_MODULE_2__","_auto_resolver__WEBPACK_IMPORTED_MODULE_3__","./src/datamodel.js","srcDatamodelJs","_helper__WEBPACK_IMPORTED_MODULE_1__","_constants__WEBPACK_IMPORTED_MODULE_2__","_operator__WEBPACK_IMPORTED_MODULE_3__","_operator_bucket_creator__WEBPACK_IMPORTED_MODULE_4__","_relation__WEBPACK_IMPORTED_MODULE_5__","_utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__","_field_creator__WEBPACK_IMPORTED_MODULE_7__","DataModel","_relation__WEBPACK_IM","_ref","_classCallCheck","this","_len","arguments","args","Array","_key","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_onPropagation","_sortingDetails","_inherits","_createClass","getData","order","formatter","withUid","getAllFields","sort","getPartialFieldspace","dataGenerated","_rowDiffset","_colIdentifier","columnWise","addUid","schema","uids","fieldNames","e","fmtFieldIdx","reduce","acc","next","idx","indexOf","elem","fIdx","fmtFn","datum","datumIdx","groupBy","fieldsArr","reducers","config","saveChild","groupByString","params","newDataModel","_children","defaultReducer","_parent","sortingDetails","rawData","dataInCSVArr","sortedDm","constructor","dataFormat","addField","fieldName","partialFieldspace","_partialFieldspace","fieldsObj","fieldIndex","findIndex","fieldinst","__calculateFieldspace","calculateFieldsConfig","calculateVariable","dependency","replaceVar","fieldsConfig","getFieldsConfig","depVars","retrieveFn","depFieldIndices","fieldSpec","index","clone","fs","getFieldspace","suppliedFields","computedValues","fieldsData","_Object","_slicedToArray","propagate","identifiers","payload","isMutableAction","propagationSourceId","sourceId","rootModel","propagationNameSpace","_propagationNameSpace","rootModels","groupByModel","model","addToPropNamespace","sourceNamespace","actionName","criteria","mutableActions","immutableActions","on","eventName","callback","unsubscribe","handlePropagation","_this2","fn","bin","measureName","binFieldName","find","currfield","dataSet","binField","MEASURE","subtype","bins","range","mid","./src/default-config.js","srcDefaultConfigJs","AUTO","./src/enums/data-format.js","srcEnumsDataFormatJs","FLAT_JSON","DSV_STR","DSV_ARR","./src/enums/dimension-subtype.js","srcEnumsDimensionSubtypeJs","CATEGORICAL","TEMPORAL","GEO","./src/enums/field-type.js","srcEnumsFieldTypeJs","DIMENSION","./src/enums/filtering-mode.js","srcEnumsFilteringModeJs","NORMAL","INVERSE","ALL","./src/enums/index.js","srcEnumsIndexJs","_data_format__WEBPACK_IMPORTED_MODULE_0__","_dimension_subtype__WEBPACK_IMPORTED_MODULE_1__","_measure_subtype__WEBPACK_IMPORTED_MODULE_2__","_field_type__WEBPACK_IMPORTED_MODULE_3__","_filtering_mode__WEBPACK_IMPORTED_MODULE_4__","./src/enums/measure-subtype.js","srcEnumsMeasureSubtypeJs","DISCRETE","./src/export.js","srcExportJs","_datamodel__WEBPACK_IMPORTED_MODULE_0__","_operator__WEBPACK_IMPORTED_MODULE_1__","_stats__WEBPACK_IMPORTED_MODULE_2__","_enums__WEBPACK_IMPORTED_MODULE_3__","_utils__WEBPACK_IMPORTED_MODULE_4__","_constants__WEBPACK_IMPORTED_MODULE_5__","_package_json__WEBPACK_IMPORTED_MODULE_6__","Operators","compose","select","project","crossProduct","difference","naturalJoin","leftOuterJoin","rightOuterJoin","fullOuterJoin","union","Stats","DateTimeFormatter","DataFormat","FilteringMode","./src/field-creator.js","srcFieldCreatorJs","_fields__WEBPACK_IMPORTED_MODULE_1__","createFields","dataColumn","headers","headersObj","createUnitField","./src/field-store.js","srcFieldStoreJs","_utils__WEBPACK_IMPORTED_MODULE_1__","fieldStore","createNamespace","fieldArr","dataId","retObj","getMeasure","getDimension","./src/fields/categorical.js","srcFieldsCategoricalJs","_dimension__WEBPACK_IMPORTED_MODULE_1__","Categorical","_dimension__WEBPACK_I","_this3","subType","./src/fields/datetime.js","srcFieldsDatetimeJs","_utils__WEBPACK_IMPORTED_MODULE_2__","DateTime","_dimension__WEBPACK_I2","_this4","minDiff","getMinDiff","val","_dtf","getNativeDate","getTime","Date","./src/fields/dimension.js","srcFieldsDimensionJs","_partial_field__WEBPACK_IMPORTED_MODULE_0__","Dimension","_partial_field__WEBPA","domain","toString","trim","parsed","_unique","unique","./src/fields/discreteMeasure.js","srcFieldsDiscreteMeasureJs","_measure__WEBPACK_IMPORTED_MODULE_0__","DiscreteMeasure","_measure__WEBPACK_IMP","_this6","./src/fields/field.js","srcFieldsFieldJs","Field","_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__","partialFeild","rowDiff","_rowDiff","sanitize","fieldType","Set","Math","min","max","datas","unit","scale","defAggFn","_this7","./src/fields/index.js","srcFieldsIndexJs","_categorical__WEBPACK_IMPORTED_MODULE_2__","_datetime__WEBPACK_IMPORTED_MODULE_3__","_discreteMeasure__WEBPACK_IMPORTED_MODULE_4__","./src/fields/measure.js","srcFieldsMeasureJs","_operator_group_by_function__WEBPACK_IMPORTED_MODULE_2__","Measure","_partial_field__WEBPA2","_this8","fieldUnit","fieldScale","fieldDefAggFn","fieldNumberformat","numberFormat","parseFloat","Number","isNaN","./src/fields/partial-field.js","srcFieldsPartialFieldJs","PartialField","fieldDescription","_this9","./src/helper.js","srcHelperJs","prepareJoinData","updateFields","persistDerivation","selectHelper","filterPropagationModel","cloneWithSelect","cloneWithProject","updateData","fieldInSchema","propagateIdentifiers","getRootGroupByModel","getRootDataModel","propagateToAllDataModels","propagateImmutableActions","_fields_field__WEBPACK_IMPORTED_MODULE_1__","_field_store__WEBPACK_IMPORTED_MODULE_2__","_value__WEBPACK_IMPORTED_MODULE_3__","_operator__WEBPACK_IMPORTED_MODULE_4__","_field_creator__WEBPACK_IMPORTED_MODULE_6__","_default_config__WEBPACK_IMPORTED_MODULE_7__","_converter__WEBPACK_IMPORTED_MODULE_8__","prepareSelectionData","resp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","err","return","_ref2","fieldStoreName","_ref3","rowDiffset","colIdentifier","collID","split","partialFieldMap","newFields","coll","operation","_model$_derivation","criteriaFn","derivative","op","meta","_derivation","_toConsumableArray","selectFn","newRowDiffSet","lastInsertedValue","li","checker","propModels","filterByMeasure","fns","propModel","dataModel","dataObj","fieldsSpace","values","v","def","some","every","propField","valueOf","filteredModel","sourceDm","selectConfig","cloneConfig","cloned","projField","allFields","projectionSet","filter","actualProjField","relation","converterFn","_converterFn","_converterFn2","formattedData","nameSpace","_","nonTraversingModel","grouped","forwardPropagation","targetDM","propagationData","hasGrouped","sourceIdentifiers","groupedPropModel","selectionModel","rejectionModel","projModel","rejectionProjModel","conf","reducer","selectionGroupedModel","rejectionGroupedModel","_len2","_key2","_propModel$0$clone","_propModel$1$clone","entryModel","exitModel","_ref4","filteredCriteria","entries","action","rootGroupByModel","propConfig","actions","criteriaModel","./src/index.js","srcIndexJs","default","./src/operator/bucket-creator.js","srcOperatorBucketCreatorJs","createBinnedFieldData","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__","buckets","binCount","binSize","dataStore","binnedData","_field$domain","_field$domain2","oriMax","stops","binEnd","prevEndpoint","extraBinELm","endPoint","unshift","add","a","b","./src/operator/child-iterator.js","srcOperatorChildIteratorJs","selectIterator","calculatedVariableIterator","projectIterator","groupByIterator","_constants__WEBPACK_IMPORTED_MODULE_0__","childIterator","datamodel","child","./src/operator/compose.js","srcOperatorComposeJs","_len3","_key3","dm","_len4","_key4","_len5","_key5","_len6","_key6","_len7","operations","_key7","currentDM","frstChild","derivations","addParent","dispose","./src/operator/cross-product.js","srcOperatorCrossProductJs","_get_common_schema__WEBPACK_IMPORTED_MODULE_2__","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__","_constants__WEBPACK_IMPORTED_MODULE_4__","_helper__WEBPACK_IMPORTED_MODULE_5__","defaultFilterFn","dm1","dm2","filterFn","replaceCommonSchema","jointype","applicableFilterFn","dm1FieldStore","dm2FieldStore","dm1FieldStoreName","dm2FieldStoreName","commonSchemaList","tmpSchema","rowAdded","rowPosition","ii","tuple","userArg","dm1Fields","dm2Fields","tupleObj","cellVal","iii","len","./src/operator/data-builder.js","srcOperatorDataBuilderJs","dataBuilder","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__","_merge_sort__WEBPACK_IMPORTED_MODULE_2__","_helper__WEBPACK_IMPORTED_MODULE_3__","getSortFn","dataType","sortType","retFunc","a1","b1","groupData","hashMap","Map","groupedData","fieldVal","has","set","createSortingFnArg","groupedDatum","targetFields","targetFieldDetails","arg","label","reqSorting","tmpDataArr","colName","insertInd","sortData","sortMeta","fDetails","sortingFn","String","toLowerCase","pop","tmpData","./src/operator/difference.js","srcOperatorDifferenceJs","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__","_utils_helper__WEBPACK_IMPORTED_MODULE_3__","hashTable","schemaNameArr","dm1FieldStoreFieldObj","dm2FieldStoreFieldObj","prepareDataHelper","addData","hashData","schemaName","./src/operator/get-common-schema.js","srcOperatorGetCommonSchemaJs","getCommonSchema","fs1","fs2","retArr","fs1Arr","./src/operator/group-by-function.js","srcOperatorGroupByFunctionJs","sum","allNulls","isNestedArray","sumVal","carry","x","avg","arrSum","defaultReducerName","fnList","Infinity","first","last","count","std","sqrt","variance","mean","num","pow","./src/operator/group-by.js","srcOperatorGroupByJs","getFieldArr","getReducerObj","_export__WEBPACK_IMPORTED_MODULE_2__","_utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__","dimensions","measures","_ref5","_ref7","pReducers","_ref9","resolve","existingDataModel","sFieldArr","reducerObj","fieldStoreObj","dbName","dimensionArr","measureArr","_ref11","_ref12","rowCount","hash","./src/operator/index.js","srcOperatorIndexJs","_bucket_creator__WEBPACK_IMPORTED_MODULE_0__","_child_iterator__WEBPACK_IMPORTED_MODULE_1__","_compose__WEBPACK_IMPORTED_MODULE_2__","_pure_operators__WEBPACK_IMPORTED_MODULE_3__","_cross_product__WEBPACK_IMPORTED_MODULE_4__","_data_builder__WEBPACK_IMPORTED_MODULE_5__","_difference__WEBPACK_IMPORTED_MODULE_6__","_get_common_schema__WEBPACK_IMPORTED_MODULE_7__","_group_by_function__WEBPACK_IMPORTED_MODULE_8__","_group_by__WEBPACK_IMPORTED_MODULE_9__","_merge_sort__WEBPACK_IMPORTED_MODULE_10__","_natural_join_filter_function__WEBPACK_IMPORTED_MODULE_11__","_natural_join__WEBPACK_IMPORTED_MODULE_12__","_outer_join__WEBPACK_IMPORTED_MODULE_13__","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_14__","_union__WEBPACK_IMPORTED_MODULE_15__","./src/operator/merge-sort.js","srcOperatorMergeSortJs","defSortFn","mergeSort","sortFn","lo","hi","floor","merge","mainArr","auxArr","./src/operator/natural-join-filter-function.js","srcOperatorNaturalJoinFilterFunctionJs","naturalJoinFilter","_get_common_schema__WEBPACK_IMPORTED_MODULE_0__","commonSchemaArr","retainTuple","./src/operator/natural-join.js","srcOperatorNaturalJoinJs","_cross_product__WEBPACK_IMPORTED_MODULE_0__","_natural_join_filter_function__WEBPACK_IMPORTED_MODULE_1__","dataModel1","dataModel2","./src/operator/outer-join.js","srcOperatorOuterJoinJs","_constants__WEBPACK_IMPORTED_MODULE_1__","_union__WEBPACK_IMPORTED_MODULE_2__","./src/operator/pure-operators.js","srcOperatorPureOperatorsJs","_len8","_key8","_len9","_key9","./src/operator/row-diffset-iterator.js","srcOperatorRowDiffsetIteratorJs","rowDiffsetIterator","diffStr","diffStsArr","end","./src/operator/union.js","srcOperatorUnionJs","_export__WEBPACK_IMPORTED_MODULE_0__","./src/relation.js","srcRelationJs","_helper__WEBPACK_IMPORTED_MODULE_2__","Relation","source","_len10","_key10","_fieldStoreName","getSchema","getName","_fieldspace","joinWith","unionWith","differenceWith","defConfig","oDm","isEmpty","retDataModel","jsonData","rowObj","fieldConfig","normalizedProjField","search","from","_fieldConfig","fieldDef","removeChild","sibling","parent","criteriaQueue","./src/stats/index.js","srcStatsIndexJs","sd","_operator_group_by_fu","./src/utils/column-major.js","srcUtilsColumnMajorJs","store","_len11","_key11","./src/utils/date-time-formatter.js","srcUtilsDateTimeFormatterJs","convertToNativeDate","date","pad","dtParams","nativeDate","escape","TOKEN_PREFIX","DATETIME_PARAM_SEQUENCE","YEAR","MONTH","DAY","HOUR","MINUTE","SECOND","MILLISECOND","defaultNumberParser","defVal","parsedVal","isFinite","parseInt","defaultRangeParser","nVal","getTokenDefinitions","daysDef","short","long","monthsDef","H","extract","parser","getHours","hours","P","M","getMinutes","S","getSeconds","K","getMilliseconds","day","getDay","A","getDate","month","getMonth","B","y","substring","year","getFullYear","Y","getTokenFormalNames","definitions","HOUR_12","AMPM_UPPERCASE","AMPM_LOWERCASE","SHORT_DAY","LONG_DAY","DAY_OF_MONTH","DAY_OF_MONTH_CONSTANT_WIDTH","SHORT_MONTH","LONG_MONTH","MONTH_OF_YEAR","SHORT_YEAR","LONG_YEAR","tokenResolver","defaultResolver","targetParam","hourFormat24","hourFormat12","ampmLower","ampmUpper","amOrpm","isPM","findTokens","tokenPrefix","tokenLiterals","occurrence","forwardChar","formatAs","nDate","formattedStr","formattedVal","dateTimeStamp","extractTokenValue","dtParamSeq","noBreak","dtParamArr","resolverKey","resolverParams","resolverFn","param","resolvedVal","tokenObj","lastOccurrenceIndex","occObj","occIndex","targetText","regexFormat","tokenArr","obj","occurrenceLength","extractValues","match","shift","./src/utils/domain-generator.js","srcUtilsDomainGeneratorJs","POSITIVE_INFINITY","NEGATIVE_INFINITY","./src/utils/extend2.js","srcUtilsExtend2Js","extend2","OBJECTSTRING","objectToStrFn","objectToStr","arrayToStr","checkCyclicRef","parentArr","bIndex","obj1","obj2","skipUndef","tgtArr","srcArr","srcVal","tgtVal","cRef","./src/utils/helper.js","srcUtilsHelperJs","isArray","isObject","isString","isCallable","uniqueValues","getUniqueId","isArrEqual","formatNumber","round","random","diff","uniqueVals","abs","arr1","arr2","./src/utils/index.js","srcUtilsIndexJs","_date_time_formatter__WEBPACK_IMPORTED_MODULE_0__","_column_major__WEBPACK_IMPORTED_MODULE_1__","_domain_generator__WEBPACK_IMPORTED_MODULE_2__","_extend2__WEBPACK_IMPORTED_MODULE_3__","_helper__WEBPACK_IMPORTED_MODULE_4__","./src/utils/reducer-store.js","srcUtilsReducerStoreJs","_operator__WEBPACK_IMPORTED_MODULE_0__","ReducerStore","_this10","register","_this11","__unregister","delete","reducerStore","getStore","./src/value.js","srcValueJs","Value","configurable","writable","_value","TypeError","_set","u","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","h","__lastTime","__id","qualifiedName","seed","g","outgoingEdges","accumulate","identity","dep","k","w","edges","_seed","requireResolve","retriever","history","resolver","electricEdges","retrieveDetails","q","E","listeners","nextFrame","currentFrame","F","O","qualifiedNodeMap","_wholeSet","_propagate","propagationOverride","currentFrameListeners","nextFrameListeners","_schedule","flush","perv","addDependencies","getDependencies","getResolvedList","addEdges","addElectricNode","append","__execUniqueElectricEdges","toArray","repeatHead","resetPropagationOverride","update","isRoot","_graph","_lockFlag","_reqQ","_addPropInModel","createNodesFrom","createElectricNodeOf","stopPropagation","setPropagationOverride","resetNodeValue","setProp","getNodeValue","getNodeFromQualifiedName","webpackPolyfill","deprecate","paths","children","_interopRequireDefault","_lib2","_containerManager2","slLib","init","doc","win","document","htmlSplCharSpace"," ","documentSupport","getDocumentSupport","SVG_BBOX_CORRECTION","isWebKit","SmartLabelManager","id","container","useEllipses","wrapper","prop","prevInstance","isBrowserLess","maxCacheLimit","maxDefaultCacheLimit","getElementById","createContainer","innerHTML","testStrAvg","isHeadLess","isIE","offsetHeight","offsetWidth","parentContainerStyle","style","parentContainer","_containerManager","_showNoEllipses","_init","setStyle","textToLines","smartlabel","lines","_calCharDimWithCache","calculateDifference","size","csArr","tw","twi","cachedStyle","asymmetricDifference","maxAdvancedCacheLimit","_container","cache","_advancedCache","advancedCacheKey","_advancedCacheKey","cacheName","fontSize","fontFamily","fontWeight","fontStyle","cacheInitName","repeat","width","height","_getWidthFn","contObj","_containerObj","svgText","bbox","textContent","getBBox","_styleNotSet","setLineHeight","sCont","node","_context","context","_cache","charCache","_lineHeight","lineHeight","useEllipsesOnOverflow","getSmartText","maxWidth","maxHeight","noWrap","trimStr","tempArr","tmpText","maxWidthWithEll","toolText","oriWidth","oriHeight","newCharIndex","nearestChar","tempChar","getWidth","initialLeft","initialTop","getOriSizeImproveObj","spanArr","minWidth","chr","elemRightMostPoint","elemLowestPoint","lastBR","removeFromIndex","removeFromIndexForEllipses","hasHTMLTag","maxStrWidth","lastDash","lastSpace","lastIndexBroken","strWidth","strHeight","oriTextArr","ellipsesStr","ellipsesWidth","dotWidth","characterArr","dashIndex","spaceIndex","lastLineBreak","fastTrim","ws","charAt","smartLabel","oriTextWidth","oriTextHeight","oriText","isTruncated","xmlTagRegEx","ltgtRegex","getOriSize","substr","getNearestBreakIndex","detailObj","tooltext","lastIndexOf","spanAdditionRegx","spanAdditionReplacer","classNameWithTag","classNameWithTagBR","childRetriverFn","childRetriverString","noClassTesting","classNameReg","className","spaceIdx","dashIdx","offsetLeft","offsetTop","parentNode","insertBefore","createElement","classNameBrReg","spanRemovalRegx","error","detailedCalculationFlag","textArr","letter","lSize","cumulativeSize","indiSizeStore","lib","userAgent","navigator","ceil","clsNameSpace","containerClass","brReplaceRegex","position","top","whiteSpace","padding","overflow","supportedStyle","font","font-family","font-weight","font-size","line-height","font-style","getElementsByClassName","opera","hasSVG","Boolean","SVGAngle","implementation","hasFeature","containerParent","body","appendChild","setAttribute","getElementsByTagName","sl","charLen","increment","avgWidth","styleObj","fSize","Muze","ContainerManager","maxContainers","svg","containers","rootNode","createElementNS","setAttributeNS","svgRoot","containerObj","keyStr","prev","removeContainer","addContainer","avgCharWidth","display","cObj","ascending","NaN","bisector","compare","ascendingComparator","left","right","ascendingBisect","bisectRight","bisect","number","array_array","src_range","stop","step","e10","e5","e2","src_ticks","reverse","ticks","tickIncrement","power","log","LN10","tickStep","step0","step1","quantile","valueof","i0","value0","map_Map","map_map","each","remove","clear","empty","src_map","src_nest","sortValues","rollup","nest","sortKeys","array","depth","createResult","setResult","keyValue","valuesByKey","result","createObject","setObject","createMap","setMap","sortKey","set_Set","proto","set_set","src_array_array","src_array_map","array_slice","implicit","ordinal","unknown","copy","band","bandwidth","ordinalRange","paddingInner","paddingOuter","align","rescale","rangeRound","invertExtent","r0","r1","hiIndex","getClosestIndexOf","invert","side","highVal","d1","low","high","extend","definition","Color","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_color","exec","Rgb","rgbn","rgba","hsla","rgbConvert","rgb","opacity","color_rgb","hex","Hsl","hsl","hslConvert","hsl2rgb","m1","m2","displayable","brighter","darker","deg2rad","PI","rad2deg","Xn","Yn","Zn","lab_t0","lab_t1","t2","t3","labConvert","Lab","Hcl","cos","sin","z","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","C","cubehelix_D","ED","EB","BC_DA","cubehelix_cubehelix","cubehelixConvert","Cubehelix","bl","basis","t1","v0","v1","v2","v3","cosh","sinh","src_constant","linear","color_hue","gamma","nogamma","exponential","rgbGamma","color","rgbSpline","spline","colors","rgbBasis","src_number","reA","reB","cssNode","cssRoot","cssView","svgNode","src_string","am","bm","bs","bi","lastIndex","one","string_zero","src_value","value_typeof","src_rgb","setTime","nb","na","src_round","degrees","decompose_identity","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","atan","interpolateTransform","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","interpolateTransformCss","parseCss","documentElement","defaultView","transform","getComputedStyle","getPropertyValue","interpolateTransformSvg","parseSvg","baseVal","consolidate","matrix","SQRT2","hsl_hsl","hue","hslLong","hcl_hcl","src_cubehelix_cubehelix","cubehelixGamma","cubehelix","cubehelixLong","piecewise_piecewise","interpolate","d3_scale_src_constant","d3_scale_src_number","continuous_unit","deinterpolateLinear","bimap","deinterpolate","reinterpolate","d0","polymap","target","clamp","continuous","piecewise","output","input","deinterpolateClamp","reinterpolateClamp","formatDecimal","toExponential","coefficient","src_exponent","re","formatSpecifier","specifier","FormatSpecifier","fill","sign","symbol","zero","comma","precision","prefixExponent","defaultLocale_locale","defaultLocale_format","defaultLocale_formatPrefix","formatTrim","out","i1","formatRounded","exponent","formatTypes","%","toFixed","toPrecision","X","toUpperCase","src_identity","prefixes","src_locale","locale","group","grouping","thousands","formatGroup","currency","decimal","numerals","formatNumerals","percent","newFormat","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatPrefix","defaultLocale","src_tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","linear_linear","identity_identity","src_nice","interval","x0","x1","log_deinterpolate","log_reinterpolate","pow10","powp","base","exp","logp","log10","log2","reflect","logs","pows","raise","quantile_quantile","thresholds","quantiles","quantize_quantize","threshold_threshold","interval_t0","interval_t1","newInterval","floori","offseti","offset","previous","millisecond_millisecond","src_millisecond","durationMinute","durationWeek","second_second","getUTCSeconds","minute_minute","hour_hour","getTimezoneOffset","src_hour","day_day","setHours","setDate","src_day","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month_month","setMonth","src_month","year_year","setFullYear","src_year","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","src_utcYear","localDate","L","utcDate","UTC","newYear","src_defaultLocale_locale","timeFormat","utcFormat","utcParse","pads","-","0","numberRe","percentRe","requoteRe","locale_pad","string","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","locale_formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","src_utcDay","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","defaultLocale_defaultLocale","formatLocale","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatPeriod","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCPeriod","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseSpecifier","parsePeriod","parseLocaleDate","parseLocaleTime","newParse","newDate","week","toISOString","time_durationSecond","time_durationMinute","time_durationHour","time_durationDay","time_durationWeek","durationMonth","durationYear","time_date","time_number","calendar","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatYear","tickIntervals","tickInterval","t0","src_time","src_minute","src_second","src_colors","category10","category20b","category20","ramp","sequential","interpolator","d3_scale_chromatic_src_colors","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","src_ramp","scheme","BrBG_scheme","BrBG","PRGn_scheme","PRGn","PiYG_scheme","PiYG","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral","BuGn","BuPu","GnBu","OrRd","PuBuGn","PuBu","PuRd","RdPu","YlGnBu","YlGn","YlOrBr","YlOrRd","Blues_scheme","Blues","Greens","Greys","Purples","Reds","Oranges","sequential_multi_cubehelix","rainbow_warm","rainbow_cool","rainbow_c","sequential_multi_rainbow","ts","viridis_ramp","viridis_magma","viridis_inferno","viridis_plasma","reserved_fields","common_props","ACTION_INF","ON_LAYER_DRAW","src_array_slice","d3_axis_src_identity","axis_top","axis_right","axis_bottom","axis_left","epsilon","entering","__axis","axis_axis","orient","tickArguments","tickValues","tickTransform","tickSizeInner","tickSizeOuter","tickPadding","axis","spacing","range0","range1","axis_center","axis_number","selection","path","selectAll","tick","tickExit","exit","tickEnter","enter","attr","line","insert","transition","getAttribute","tickSize","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","path_path","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","x2","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","ccw","dx","dy","cw","da","rect","src_path","d3_shape_src_constant","constant","math_max","math_min","math_sqrt","math_epsilon","math_pi","halfPi","math_tau","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","rc","ox","oy","x11","y11","x10","y10","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","Linear","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","curve_linear","point_x","point_y","defined","curve","buffer","defined0","src_area","area","x0z","y0z","arealine","src_line","lineX0","lineY0","lineY1","lineX1","src_descending","d3_shape_src_identity","curveRadial","Radial","_curve","radial","d3_shape_src_array_slice","symbol_circle","draw","symbol_cross","tan30","tan30_2","diamond","kr","kx","ky","star","square","sqrt3","triangle","wye_s","wye_k","wye_a","wye","noop","that","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","custom","bundle","cardinal_point","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","catmullRom_point","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","curve_catmullRom","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","monotone_sign","slope3","h0","h1","s0","s1","slope2","monotone_point","MonotoneX","MonotoneY","ReflectContext","Natural","controlPoints","_t0","px","py","Step","_t","curve_step","stepBefore","stepAfter","none","series","order_none","stackValue","order_ascending","sums","ascending_sum","cubicInOut","polyIn","polyOut","polyInOut","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceOut","backIn","overshoot","backOut","backInOut","elastic_tau","elasticOut","elasticIn","amplitude","period","d3_voronoi_src_constant","elasticInOut","src_point_x","src_point_y","RedBlackTree","RedBlackNode","R","RedBlackRotateLeft","tree","RedBlackRotateRight","RedBlackFirst","after","grandpa","uncle","src_RedBlackTree","createEdge","edge","Diagram_edges","setEdgeEnd","Diagram_cells","halfedges","createBorderEdge","vertex","clipEdge","ax","ay","connectEdge","fm","fb","lx","ly","rx","ry","fx","fy","cellHalfedgeAngle","cell","site","va","vb","cellHalfedgeStart","cellHalfedgeEnd","firstCircle","circlePool","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","Diagram_epsilon2","ha","hc","circle","Circle","before","circles","detachCircle","beachPool","createBeach","beach","Beach","detachBeach","beaches","removeBeach","disappearing","Diagram_epsilon","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","triangleArea","lexicographic","Diagram","sites","extent","sortCellHalfedges","clipEdges","clipCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","cover","dc","v00","v01","v11","v10","cells","polygons","polygon","triangles","e1","links","radius","_found","vx","vy","src_voronoi","voronoi","HTMLElement","isSimpleObject","common_utils_typeof","sanitizeIP","typeObj","nonExistentKeys","checkExistence","getMax","getMin","common_utils_getDomainFromData","getDomainFromData","domArr","dist_datamodel","firstMin","secondMin","firstMax","secondMax","symbolFns","cross","easeFns","cubic","bounce","src_linear_linear","elastic","back","poly","circleInOut","common_utils_getClosestIndexOf","getQualifiedClassName","cancelAnimationFrame","cls","defaultValue","objectIterator","common_utils_Voronoi","Voronoi","_voronoi","_voronoiFn","common_utils_Store","Store","hyperdis_default","_listeners","serialize","propName","propNames","callBack","instantCall","props","calculatedProp","intSanitizer","common_utils_transactor","transactor","holder","_loop","_defineProperty","compareTo","paramsLen","prevVal","spreadParams","sanitization","typeCheck","typeExpected","preset","oldValues","generateGetterSetters","propInfo","typeChecker","common_utils_isEqual","isEqual","oldVal","newVal","arraysEqual","is","ERROR_MSG","INTERFACE_IMPL","mergeRecursive","sink","common_utils_interpolator","common_utils_numberInterpolator","numberInterpolator","common_utils_piecewiseInterpolator","piecewiseInterpolator","rgbToHsv","detectColor","col","getDataModelFromRange","selFields","selFn","common_utils_getDataModelFromIdentifiers","getDataModelFromIdentifiers","filteredDataModel","dataArr","filteredSchema","include","common_utils_registerListeners","registerListeners","listenerMap","propListenerMap","mapObj","propType","listenerFn","listener","isValidValue","getObjProp","common_utils_getSymbol","getSymbol","src_symbol","stackOrders","_stackOrders","stackOffsets","yp","yn","_stackOffsets","s2","si","sij0","s3","sk","common_utils_stack","stack","oz","kz","sz","sij","ki","src_stack","pathInterpolators","curveLinear","curveStepAfter","curveStepBefore","curveStep","curveCatmullRom","Symbols","axisLeft","axisRight","axisTop","axisBottom","pie","arcs","pa","cornerRadius","padRadius","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","intersect","x3","y3","x32","y32","kc","lc","centroid","Scales","xhtml","namespaces","xlink","xml","xmlns","namespace","space","local","creator","fullname","creatorFixed","ownerDocument","creatorInherit","uri","namespaceURI","selector_none","src_selector","selector","querySelector","selectorAll_empty","selectorAll","querySelectorAll","matcher","matches","matcher_element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","src_matcher","sparse","EnterNode","_next","__data__","keyPrefix","bindIndex","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","sort_ascending","src_window","styleValue","classArray","classList","ClassList","_node","_names","classedAdd","list","classedRemove","contains","textRemove","htmlRemove","raise_raise","nextSibling","lower","previousSibling","firstChild","constantNull","remove_remove","selection_cloneShallow","cloneNode","selection_cloneDeep","filterEvents","on_event","mouseenter","mouseleave","filterContextListener","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","typename","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","sourceEvent","dispatchEvent","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","selection_root","Selection","groups","parents","_groups","_parents","selection_selection","subgroups","subnode","subgroup","d3_selection_src_constant","enterGroup","updateGroup","_enter","_exit","groups0","groups1","m0","merges","group0","group1","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","attrRemoveNS","removeAttributeNS","attrRemove","removeAttribute","attrFunctionNS","attrFunction","attrConstantNS","attrConstant","priority","styleRemove","removeProperty","styleFunction","setProperty","styleConstant","propertyRemove","propertyFunction","propertyConstant","classed","classedFunction","classedTrue","classedFalse","textFunction","textConstant","html","htmlFunction","htmlConstant","deep","typenames","parseTypenames","dispatch","dispatchFunction","dispatchConstant","src_selection","src_select","nextId","Local","current","src_point","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","clientLeft","clientTop","mouse","changedTouches","src_touch","touches","identifier","touch","dispatch_noop","dispatch_dispatch","Dispatch","dispatch_get","dispatch_set","T","dispatch_parseTypenames","types","src_dispatch","nopropagation","stopImmediatePropagation","noevent","preventDefault","nodrag","view","__noselect","MozUserSelect","d3_drag_src_constant","DragEvent","subject","active","defaultFilter","button","defaultContainer","defaultSubject","defaultTouchable","taskHead","taskTail","src_drag","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","yesdrag","noclick","clearTimeout","sublisteners","clickDistance","timer_frame","timeout","timer_interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","timer_typeof","now","setFrame","clearNow","Timer","_call","_time","timer","delay","restart","wake","timerFlush","nap","sleep","poke","clearInterval","setInterval","src_timeout","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","transition_schedule","timing","schedules","__transition","schedule_create","self","tween","state","duration","ease","schedule","schedule_get","schedule_set","tweenValue","_id","transition_interpolate","selection_Selection","transition_id","Transition","_name","newId","selection_prototype","src_transition_transition","inherit","id0","id1","onFunction","on0","on1","sit","on_start","attrTween","attr_attrFunctionNS","value00","value10","interpolate0","value1","attr_attrFunction","attr_attrRemoveNS","attr_attrRemove","attr_attrConstantNS","attr_attrConstant","attrTweenNS","styleTween","style_styleRemove","styleRemoveEnd","style_styleFunction","style_styleConstant","text_textFunction","text_textConstant","removeFunction","tweenRemove","tween0","tween1","tweenFunction","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","defaultTiming","transition_inherit","interrupt","renderer_utils_selectElement","selectElement","element","makeElement","elemType","callbacks","keyFn","SVGElement","selectorVal","selectorType","actualSelector","enterSel","mergeSel","exitSel","applyStyle","setElementAttrs","attrs","renderer_utils_setAttrs","setAttrs","renderer_utils_setStyles","setStyles","styles","renderer_utils_createElements","createElements","sel","renderer_utils_getClientPoint","getClientPoint","pos","clientPoint","renderer_utils_getEvent","getEvent","renderer_utils_getD3Drag","getD3Drag","renderer_utils_getSmartComputedStyle","getSmartComputedStyle","css","textEl","mandatoryStyle","fill-opacity","renderer_utils_typeof","computedStyle","styleForSmartLabel","hasTouch","DataSystem_selection","selection_classCallCheck","_data","_idMap","_mode","_enterdata","_exitdata","newData","idGetter","_idGetter","tempMap","purgedIds","purged","temp","_this5","DataObject","data_object_classCallCheck","events","EVENT_LIST","composition","event_list","lifecycle_manager_resolver","resolveFn","notification","hasOwn","src_lifecycle_manager","LifeCycleManager","lifecycle_manager_classCallCheck","_eventList","_promises","_notifiers","_lifeCycles","_unreleasedLifeCycles","_boot","_preparePromises","Promise","_makeNotifierPromise","formalName","client","_releasePromisesFromCache","_notify","stage","_resolvePromise","promise","retrieve","_callLifeCycleCallback","_cachePromise","_resetTargetPromise","lifeCycles","DRAG","HOVER","SELECTIONDRAG","CLICK","LONGTOUCH","TOUCHDRAG","ALL_ACTIONS","SELECTION_NEW_ENTRY","SELECTION_NEW_EXIT","SELECTION_NULL","SELECTION_OLD_ENTRY","SELECTION_OLD_EXIT","selection_set","SelectionSet","completeSet","_volatile","selection_set_classCallCheck","_completeSetCount","_lockedSelection","_resetted","ids","entrySet","exitSet","lockedSel","addSet","removeSet","updateSet","changeSideEffectAvailability","toEnable","sideEffects","change","enable","disable","getMergedSet","helper_toConsumableArray","conditionsMap","newEntry","oldEntry","mergedEnter","newExit","oldExit","mergedExit","complete","getSetInfo","selectionSet","resetted","getModelFromSet","condition","Firebolt","behaviourEffectMap","firebolt_classCallCheck","_sideEffectDefinitions","_sideEffects","_propagationInf","_actions","behavioural","physical","_selectionSet","_volatileSelectionSet","_propagationFields","_sourceSideEffects","selectionBox","_sourceBehaviours","_actionBehaviourMap","_config","_behaviourEffectMap","_entryExitSet","_actionHistory","_queuedSideEffects","_mappedActions","mapSideEffects","registerBehaviouralActions","registerSideEffects","registerPhysicalBehaviouralMap","physicalBehaviouralMap","registerPhysicalActions","sideEffectConf","behEffectMap","firebolt_toConsumableArray","behaviours","initializeBehaviouralActions","dispatchableBehaviours","Action","prepareSelectionSets","sideEffectStore","actionHistory","queuedSideEffects","sideEffect","effects","combinedSet","unionSets","models","behaviour","entryExitSet","existingModel","helper_unionSets","effect","firebolt_typeof","sideEffectInstance","isEnabled","mutates","dispatchSideEffect","propagationInfo","getSideEffects","propagationSelectionSet","getPropagationSelectionSet","shouldApplySideEffects","sourceSelectionSet","applicableSideEffects","getApplicableSideEffects","applySideEffects","physicalAction","actionBehaviourMap","behaviourMap","onDataModelPropagation","propValue","dispatchBehaviour","uniqueIds","behaviouralActions","volatileSelectionSet","sideEffectDefinitions","initializeSideEffects","sideEffectsMap","SideEffect","helper_initializeSideEffects","initedActions","initializePhysicalActions","physicalActions","initedPhysicalActions","mappedActions","getDefaultTargetContainer","keyName","bindActionWithBehaviour","targets","behaviourList","mount","propagationInf","xFields","yFields","xMeasures","yMeasures","_propModel$getData","fieldMap","common_utils_filterPropagationModel","getFullData","propagationSource","applicableSelectionSets","GenericBehaviour","firebolt","generic_classCallCheck","_enabled","selectionSets","getSelectionSets","_firebolt$getAddSetFr","getAddSetFromCriteria","getPropagationInf","setSelectionSet","getEntryExitSet","_selectionSet$getSets","getSets","setConfig","isSourceFieldPresent","getSourceFields","generic","reset","existingAddSet","updateExit","getCompleteSet","BRUSH","HIGHLIGHT","TOOLTIP","FILTER","behavioural_volatile","updateEntry","mergedExitSet","completeSetCount","persistent","drag_action_config","getDragActionConfig","sourceInfo","axes","xAxis","yAxis","axisFields","xField","getMembers","yField","xFieldType","yFieldType","stPos","startPos","endPos","dragDim","isXDimension","isYDimension","xRange","yRange","selectedDomains","rangeObj","xdom","ydom","snap","getNearestRange","drag_event_attachDragEvent","attachDragEvent","targetEl","drawingInf","d3Drag","touchStart","getDrawingContext","getSourceInfo","beh","dragEnd","physical_hover","hover","interaction","tooltip","svgContainer","nearestPoint","getNearestPoint","getAllPoints","showInPosition","helpers_generatePayloadFromEvent","generatePayloadFromEvent","physical_click","click","physical_defineProperty","_physicalActions","longtouch","touchEnd","touchdrag","GenericSideEffect","side_effects_generic_classCallCheck","_strategy","_strategies","defaultConfig","side_effects_generic","interactionType","layers","layer","interactive","applyInteractionStyle","_drawingContext","helper_changeVisibility","changeVisibility","sideEffectGroup","visible","defClassName","classPrefix","selection_box","spawnable","boxConf","box","drawingContext","mountPoint","unitWidth","unitHeight","selectionGroupClassName","hide","sourceInf","_getBoxDimensionsFrom","getBoxDimensionsFromPayload","direction","xDim","yDim","xLinear","yLinear","xCriteria","yCriteria","bandScale","x1Val","x2Val","x1DomainIndex","x2DomainIndex","_sort","_sort2","helper_slicedToArray","getScaleValue","getUnitWidth","y1Val","y2Val","y1DomainIndex","y2DomainIndex","_sort3","_sort4","_xDim","_yDim","dimension","show","points","selectionBoxDrag","onDrag","selection_box_drag_selectionBoxDrag","boxClassName","INITIAL_STYLE","default_config_defaultConfig","connectorClassName","margin","content","iconContainerSize","iconScale","iconShape","iconColor","rowMargin","separator","parentClassName","arrow","disabled","helper_getArrowPos","getArrowPos","dim","measurement","arrowPos","boxHeight","boxWidth","arrowWidth","plotBottom","boxBottom","plotRight","boxRight","helper_placeArrow","placeArrow","tooltipArrow","_tooltipArrow","tooltipBackground","_tooltipBackground","arrowConf","_arrowOrientation","timeFormats","timeDurations","strategy_defaultTooltipFormatters","defaultTooltipFormatters","_formatters","strategy_defineProperty","formatters","nearestInterval","getNearestInterval","strategy_getNearestInterval","strategy_strategy","buildTooltipData","fieldValues","fieldspace","dimensionMeasureMap","dataLen","getRowContent","formattedValue","measureIndex","formatterFn","strategy_toConsumableArray","colorAxis","shapeAxis","shape","sizeAxis","isRetinalField","associatedMeasures","icon","getColor","getShape","getSize","measure","margin-left","allMeasures","strategy_buildTooltipData","DEFAULT_STRATEGY","Content","content_classCallCheck","_model","_formatter","strategy","ctx","_mount","margin-right","el","Tooltip","htmlContainer","tooltip_classCallCheck","connectorContainer","tooltipConf","contentClass","_tooltipContainer","_contentContainer","_contents","_tooltipConnectorContainer","qualifiedClassName","addClass","defConf","contentConfig","src_content","reorderContainers","contentConf","render","_target","repositionArrow","arrowOrient","connector","_offset","orientation","_extent","arrowDisabled","arrowSize","topSpace","dimX","rightSpace","leftSpace","positionTop","positionRight","positionLeft","positionHorizontal","positionVertical","_position","_arrowPos","strategies_strategies","showSelectedItems","aggregatedModel","fieldsConf","strategies_toConsumableArray","side_effects_tooltip_classCallCheck","tooltip_possibleConstructorReturn","_tooltips","totalHeight","totalWidth","tooltips","boundBox","dataModels","fragmented","showVertically","tooltipPos","boxes","tooltip_toConsumableArray","plotDimensions","getPlotPointsFromIdentifiers","plotDim","dt","layoutContainer","layoutBoundBox","unitBoundBox","tooltipInst","src_tooltip","positionRelativeTo","tooltipBoundBox","getContents","spaceOutBoxes","spaceOutIfOverlap","firstBox","secondBox","opposite","bottom","bandWidth","bandClass","lineClass","elemData","axisIndex","fieldInst","xOffset","plotWidth","crossline_toConsumableArray","getPlotSpan","getPlotPadding","startPx","endPx","dataPoint","parentGroup","CLASSPREFIX","strategy_strategies","fade","fadeFn","focus","highlight","PlotHighlighter","plot_highlighter_classCallCheck","plot_highlighter_possibleConstructorReturn","surrogate","clearCaching","resetData","enableCaching","AnchorEffect","anchors_classCallCheck","anchors_possibleConstructorReturn","_layers","addAnchorLayers","shouldDrawAnchors","encodingFieldsInf","layerObj","instances","addLayer","alias","mark","encoding","colorField","sizeField","defaultSizeValue","getTransitionConfig","calculateDomain","linkedLayer","elems","_linkedLayer$getTrans","getTransformedDataFromIdentifiers","_linkedLayer$getTrans2","anchors_slicedToArray","transformedData","transformedDataModel","datamodel_default","side_effects_anchors","behaviour_effect_map_behaviourEffectMap","behaviour_effect_map_defineProperty","STACK","ANGLE","RADIUS","SIZE","COLOR","SHAPE","ENCODING","X0","Y0","area_default_config_defaultConfig","nearestPointThreshold","strokeOpacity","connectNullData","DATA_UPDATED","axis_orientation_BOTTOM","axis_orientation_TOP","axis_orientation_LEFT","axis_orientation_RIGHT","axisOrientationMap","axis_orientation_defineProperty","_axisOrientationMap","LINEAR","BAND","TIME","scale_type_COLOR","ORDINAL","QUANTIZE","QUANTILE","LOG","POW","scale_type_IDENTITY","SEQUENTIAL","THRESHOLD","CONTINOUS","constants_SEQUENTIAL","constants_ORDINAL","constants_LINEAR","constants_QUANTIZE","HIDDEN","scaleLinear","scales_namespaceObject","scaleThreshold","scaleLog","scalePow","scaleIdentity","scaleOrdinal","scaleSequential","scaleQuantize","scaleQuantile","scaleBand","scaleTime","scaleMap","scale_creator_defineProperty","_scaleMap","scale_creator_createScale","scaleFactory","cartesian_axis_default_config_defaultConfig","axisName","axisNamePadding","src_enums_constants_CLASSPREFIX","fixedBaseline","labels","rotation","smartTicks","numberOfTicks","showAxisName","showInnerTicks","showOuterTicks","yOffset","axis_renderer_rotateAxis","rotateAxis","instance","tickText","labelManager","getTickSize","yShift","xShift","tickFormatter","tickLabelDim","quadrant","rotationNormalizer","angleToRadian","angle","axis_renderer_changeTickOrientation","changeTickOrientation","selectContainer","axisInstance","_smartTicks","isSmartTicks","axis_renderer_setFixedBaseline","setFixedBaseline","axis_renderer_setAxisNamePos","setAxisNamePos","textNode","axisNameHeight","labelOffset","availableSpace","getTickLabelInfo","largestLabel","labelProps","smartTick","axisTickLabels","allLabelLengths","_context$config","labelFunc","_tickLabelStyle","originalLabel","formattedLabel","largestLabelDim","helper_setOffset","setOffset","logicalSpace","helper_adjustRange","adjustRange","getAxisOffset","timeDiff","avWidth","bars","registerChangeListeners","_domainLock","getHorizontalAxisSpace","axisDimensions","axisLabelDim","axisDimHeight","tickDimHeight","tickDimWidth","minTickDiff","getMinTickDifference","cartesian_axis_helper_toConsumableArray","_minTickDistance","getVerticalAxisSpace","PROPS","_rotationLock","createAxis","commit","SimpleAxis","simple_axis_classCallCheck","_dependencies","_range","_domain","_axisDimensions","defCon","simpleConfig","bodyElem","_axisNameStyle","_scale","createScale","_axis","setTickConfig","axisClass","labelWidth","domainVal","computeAxisDimensions","_context$config2","_getTickLabelInfo","labelHeight","setRotationConfig","calculateContinousSpace","getAxisDimensions","axisDimWidth","_getHorizontalAxisSpa2","_getVerticalAxisSpace2","helper_calculateContinousSpace","currentDomain","updateDomainBounds","registerEvent","renderAxis","setTickValues","axisNameSpace","axisNameWidth","unsubscribeAll","interpolatorMap","continous_axis_defineProperty","interpolators_log","_interpolatorMap","interpolators_pow","interpolators_linear","ContinousAxis","continous_axis_classCallCheck","continous_axis_possibleConstructorReturn","simple_axis","InterpolatorCls","_interpolator","isOffset","_config3","labelSpace","axisHeight","getLogicalSpace","axisWidth","getTickValues","_config5","getNumberOfTicks","labelDim","tickLength","numberOfValues","getSmallestDiff","_config6","_axisDimensions$large","_config2","calculateBandSpace","largestDimHeight","largestDimWidth","_getHorizontalAxisSpa","_getVerticalAxisSpace","helper_calculateBandSpace","availSpace","smartWidth","TimeAxis","time_axis_classCallCheck","time_axis_possibleConstructorReturn","_minDiff","time_axis_get","_getAxisDimensions","x11Colors","Pink","LightPink","HotPink","DeepPink","PaleVioletRed","MediumVioletRed","LightSalmon","Salmon","DarkSalmon","LightCoral","IndianRed","Crimson","FireBrick","DarkRed","Red","OrangeRed","Tomato","Coral","DarkOrange","Orange","Gold","Yellow","LightYellow","LemonChiffon","LightGoldenrodYellow","PapayaWhip","Moccasin","PeachPuff","PaleGoldenrod","Khaki","DarkKhaki","Cornsilk","BlanchedAlmond","Bisque","NavajoWhite","Wheat","BurlyWood","Tan","RosyBrown","SandyBrown","Goldenrod","DarkGoldenrod","Peru","Chocolate","SaddleBrown","Sienna","Brown","Maroon","DarkOliveGreen","Olive","OliveDrab","YellowGreen","LimeGreen","Lime","LawnGreen","Chartreuse","GreenYellow","SpringGreen","MediumSpringGreen","LightGreen","PaleGreen","DarkSeaGreen","MediumSeaGreen","SeaGreen","ForestGreen","Green","DarkGreen","MediumAquamarine","Aqua","Cyan","LightCyan","PaleTurquoise","Aquamarine","Turquoise","MediumTurquoise","DarkTurquoise","LightSeaGreen","CadetBlue","DarkCyan","Teal","LightSteelBlue","PowderBlue","LightBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","CornflowerBlue","SteelBlue","RoyalBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","Lavender","Thistle","Plum","Violet","Orchid","Fuchsia","Magenta","MediumOrchid","MediumPurple","BlueViolet","DarkViolet","DarkOrchid","DarkMagenta","Purple","Indigo","DarkSlateBlue","SlateBlue","MediumSlateBlue","White","Snow","Honeydew","MintCream","Azure","AliceBlue","GhostWhite","WhiteSmoke","Seashell","Beige","OldLace","FloralWhite","Ivory","AntiqueWhite","Linen","LavenderBlush","MistyRose","Gainsboro","LightGray","Silver","DarkGrey","Grey","DimGrey","LightSlateGrey","SlateGrey","DarkSlateGrey","Black","palette","DEFAULT_GRADIENT_COLOR","DEFAULT_CONFIG","props_getHslString","getHslString","hslArr","convertToXllString","baseString","props_getActualHslColor","getActualHslColor","paletteColor","hexToHsv","props_toConsumableArray","props_PROPS","oldConfig","newConfig","color_strategy_getStops","getStops","newStops","color_strategy_toConsumableArray","color_strategy_rangeStops","rangeStops","newStopsLength","newRange","hslInterpolator","common_utils_hslInterpolator","indexedDomain","scaleDomain","indexedDomainMeasure","normalDomain","color_strategy_steppedDomain","steppedDomain","_getStops","color_strategy_continousSteppedDomain","continousSteppedDomain","_getStops2","uniqueRange","domainValue","indexedRange","normalRange","strategyGetter","domainType","rangeType","schemeType","strategies","color_strategy_defineProperty","domainRange","color_strategy_strategies","ColorAxis","color_axis_classCallCheck","_domainType","_rangeType","_schemeType","getSchemeType","_colorStrategy","setColorStrategy","updateDomain","colorStrategy","getScheme","color_schemes_namespaceObject","hslColorArray","getRawColor","color_axis_toConsumableArray","scaleInfo","domainRangeFn","transformationArr","newH","newS","newL","newA","defaults_DEFAULT_CONFIG","size_strategy_strategies","size_strategy_defineProperty","pieceWiseRange","numVal","size_strategy_toConsumableArray","intervals","newIntervals","discreteRange","size_axis_props_PROPS","SizeAxis","size_axis_classCallCheck","_sizeStrategy","setStrategy","size_strategy_strategyGetter","domainInfo","domainFn","shape_axis_defaults_DEFAULT_CONFIG","generator","shape_axis_props_PROPS","ShapeAxis","shape_axis_classCallCheck","_generatedShapes","shapeType","shapeGenerator","generatorFn","generatedShapes","DATA_TYPES","group_transform","data_type_scale_map_defineProperty","dataTypeScaleMap","_dataTypeScaleMap","groupByIndices","nestCollection","nestFn","common_utils_nestCollection","transformMap","transform_factory_defineProperty","identityTransform","_transformMap","uniqueField","valueField","normalizedData","normalizeData","uniqueFieldIndex","valueFieldIndex","seriesKeyIndex","seriesKeys","tuples","_tuple","seriesKey","newArr","stack_transform_normalizeData","stackData","seriesData","transform_factory","transformFactory","helpers_BAND","scale_type_namespaceObject","getLayerColor","colorEncoding","colorFieldIndex","rawColor","transfromColor","styleType","intensity","stateColor","originalColor","fillColorInfo","transformColor","helpers_applyInteractionStyle","interactionStyles","elements","getPlotElementsFromSet","_d$meta","colorTransform","helpers_slicedToArray","helpers_getAxesScales","getAxesScales","_map","_map2","_map3","_map4","xScale","yScale","attachDataToVoronoi","helpers_toConsumableArray","helpers_updateStyle","updateStyle","positionPoints","positioner","encodingTransform","helpers_getPlotMeasurement","getPlotMeasurement","dimensionalValues","fieldInfo","transformType","_bandScale","span","groupSpan","offsetValues","actualGroupWidth","dataProps","timeDiffs","innerPadding","getGroupSpan","isAxisBandScale","axisPadding","groupPadding","listener_map_listenerMap","fetch","dataModelValue","configValue","encodingValue","getEncodingFieldInf","_map5","_map6","x0Field","y0Field","shapeField","_map7","_map8","_map9","_map10","xFieldSubType","yFieldSubType","_map11","_map12","xFieldIndex","yFieldIndex","x0FieldIndex","y0FieldIndex","helpers_getEncodingFieldInf","getValidTransform","layerConfig","encodingFieldInf","groupByField","groupByFieldMeasure","helpers_getValidTransform","getTransformedData","transformedDataValue","getNormalizedData","normalizedDataValue","calculateDomainFromData","dataUpdated","throwback","defaultOptions","default_options_defineProperty","newConf","defaultPolicy","_defaultOptions","_cacheEnabled","_cachedData","BaseLayer","base_layer_classCallCheck","base_layer_possibleConstructorReturn","base_layer_defineProperty","DATA","_points","_measurement","simple_layer","_store","_encodingFieldsInf","_encodingTransform","_alias","transformData","helpers_transformData","domains","yEnc","xEnc","helpers_calculateDomainFromData","encodingType","transformedDataArr","fieldsLen","pointObj","helpers_getNormalizedData","_transformType","pointMap","_pointMap","_dataProps","base_layer_slicedToArray","xMeasure","yMeasure","_identifiers$","_identifiers$2","xMeasureIndex","yMeasureIndex","getAllAttrs","filteredPoints","base_layer_toConsumableArray","sizeVal","_identifiers$getData","identifierData","identifierSchema","_encodingFieldsInf2","enc","tupleArr","transformedVal","userConf","renderer_line","renderer_drawLine","drawLine","curveInterpolatorFn","linepath","line_default_config_defaultConfig","LineLayer","line_classCallCheck","line_possibleConstructorReturn","base_layer","isXDim","isYDim","xPx","yPx","_getLayerColor","stroke","rowId","cachePoint","seriesClassName","containerSelection","colorFieldMeasure","animateGroup","groupTransition","groupAnimateStyle","helpers_animateGroup","stroke-opacity","getPathStyle","translatePoints","getDrawFn","searchRadius","_point$data$data","getIdentifiersFromData","layerId","renderer_area","renderer","drawArea","easeEffect","renderer_slicedToArray","enterAreaPath","updateAreaPath","selectionEnter","line_line","area_get","_getAxesScales","y0Px","arc_default_config_defaultConfig","minOuterRadius","stroke-width","stroke-linejoin","innerRadiusFixer","states","enums_constants_CLASSPREFIX","fadeout","selected","arc_pie","arc_arc","ArcLayer","arc_classCallCheck","arc_possibleConstructorReturn","_prevPieData","pieData","pieIndex","prevData","_getFieldIndices","getFieldIndices","arc_helper_slicedToArray","angleField","radiusField","angleIndex","sizeIndex","radiusIndex","colorIndex","arc_helper_getFieldIndices","dataVal","uid","outerRadiusValue","colorVal","angleVal","_previousInfo","getPreviousPoint","currIndex","prevArc","nextArc","_dataPoint$datum","chartHeight","chartWidth","qualClassName","getRadiusRange","defaultRadius","radiusDomain","rangeValueGetter","getRangeValue","domainMultiplier","sizeAxisDomain","sizeMultiplier","_chartWidth","_chartHeight","consecutiveExits","exitCounter","arcFn","tweenPie","arc_helper_tweenPie","tweenExit","exitArr","oldExitCounter","tweenExitPie","consecutiveExitArr","gElem","arc_helper_tweenExitPie","pieSlices","pieSliceInf","tData","text_renderer","drawText","backgroundPadding","selectionMerge","background","textanchor","backgroundEnabled","_smartLabel$getOriSiz","backgroundEl","text_default_config_defaultConfig","enabled","textEncoding","textField","textFormatter","backgroundField","backgroundFieldIndex","textFieldIndex","textValue","text_slicedToArray","text-anchor","point_renderer","drawSymbols","mergedGroups","symbolGroups","symbolEnter","createShape","groupElement","then","res","Element","newShape","nodeName","src","href","shapeElement","pathStr","checkPath","renderer_createShape","exitGroups","point_default_config_defaultConfig","defColorStyle","fillOpacity","shapes","sizes","PointLayer","point_classCallCheck","point_possibleConstructorReturn","sizeEncoding","shapeEncoding","shapeFieldIndex","sizeFieldIndex","_config$offset","offsetX","offsetY","point_slicedToArray","maxSize","generateDataPoints","point_toConsumableArray","drawFn","_maxSize","_getPlotMeasurement","_getPlotMeasurement2","widthMetrics","heightMetrics","offsetXValues","offsetYValues","measurementConf","getMeasurementConfig","widthSpan","heightSpan","distanceLimit","renderer_drawRects","drawRects","barEnterFn","transitionBars","classnameFn","selTransition","renderer_transitionBars","bar_default_config_defaultConfig","bar_helper_resolveDimByField","resolveDimByField","axesInfo","spaceType","sizeConfig","sizeValue","enterSpace","minVal","maxVal","scales","diffPx","zeroPos","axisType","axisType0","resolveDimensions","_resolveDimByField","enterWidth","enterX","xPos","_resolveDimByField2","enterHeight","bar_scaleBand","BarLayer","bar_classCallCheck","bar_possibleConstructorReturn","_plotPadding","_plotSpan","bar_get","getTranslatedPoints","_context$encodingFiel","bar_helper_getTranslatedPoints","normalizedDataArr","clipElement","clipPathElement","renderer_utils_clipElement","individualClassName","bar_slicedToArray","barWidthMetrics","barHeightMetrics","barWidthOffsets","barHeightOffsets","barWidth","barWidthOffset","barHeight","barHeightOffset","uniqueFieldType","filterData","pointFound","bar_toConsumableArray","p2","tick_default_config_defaultConfig","tick_renderer","ticksEnter","point_point","_config$span","xSpan","ySpan","x0Px","sanitizeEncoding","layer_factory","compositeLayers","factoryObj","setLayerRegistry","reg","_layerRegistry","getSerializedConf","layerDef","serializedDefs","defs","unitLayerDef","sDef","parseLayerDefinition","layerType","strs","layer_factory_toConsumableArray","layer_factory_parseLayerDefinition","getLayerInstance","layerRegistry","composeLayers","layerDefs","DEFAULT_LAYERS","defaults_defineProperty","area_area","_DEFAULT_LAYERS","layers_arc_arc","text_text","tick_tick","bar","ROWS","COLUMNS","COL","ROW","enums_constants_COLOR","enums_constants_SHAPE","enums_constants_SIZE","constants_LEFT","constants_RIGHT","CELL","X_AXES","Y_AXES","ENTRY_CELLS","EXIT_CELLS","constants_RADIUS","constants_ANGLE","PRIMARY","SECONDARY","local_options","local_options_defineProperty","_CONFIG$ROWS$COLUMNS$","simple_group","composed_vars","ComposedVars","composed_vars_classCallCheck","texts","composed_vars_possibleConstructorReturn","vars","variable_variable","_vars","member","SimpleVariable","simple_var_classCallCheck","simple_var_possibleConstructorReturn","oneVar","_oneVar","varInst","field_sanitizer_convertToVar","convertToVar","simple_var","field_sanitizer_transformFields","transformFields","normalizedFields","normalizeFields","norFields","orderFields","fieldArray","temporalArr","categoricalArr","fieldList","numOfMeasures","allDimensions","field_sanitizer_toConsumableArray","temporal","categorical","field_sanitizer_orderFields","field_sanitizer_slicedToArray","rowsInfo","columnsInfo","rowDimensions","rowMeasures","rowTemporalFields","rowCategoricalFields","columnDimensions","columnMeasures","columnTemporalFields","columnCategoricalFields","_fieldInfo","_axisFrom","_headerFrom","__headerFrom","axisFrom","_getHeaderAxisFrom","group_utils_getHeaderAxisFrom","_getHeaderAxisFrom2","visual_encoder_slicedToArray","rowHeader","rowAxis","_getHeaderAxisFrom3","_getHeaderAxisFrom4","colHeader","colAxis","headerFrom","scaleMaps","continous_axis","band_axis","time_axis","size_axis","color_axis","shape_axis","data_type_scale_map_dataTypeScaleMap","encoder_helper_createSimpleAxis","createSimpleAxis","axisConfig","axesCreators","Cls","encoder_helper_generateAxisFromMap","generateAxisFromMap","groupAxes","axisKey","currentAxes","cacheMaps","getAxisKey","getAxisConfig","axisInfo","axisOrientation","userAxisConfig","axis_orientation_namespaceObject","LEFT","RIGHT","TOP","BOTTOM","encoder_helper_getAxisConfig","encoder_helper_slicedToArray","getIndex","arrIndex","visual_encoder","geomCellAxes","projections","indices","rowFields","columnFields","rowIndex","columnIndex","xAxes","yAxes","facets","counter","primaryFacets","secondaryFacets","primaryFields","secondaryFields","primaryLen","secondaryLen","projArr","primaryField","secondaryField","facet","existIndex","axisFromIndex","cartesian_encoder_get","CartesianEncoder","groupedModel","encodingObj","retriveDomainFromData","layerArray","serializedLayers","userLayerConfig","colField","colFieldName","rowField","configs","rowFieldName","rowFieldType","getDefaultMark","colFieldType","encoder_helper_getDefaultMark","layerConfigs","getLayerConfFromFields","colFields","encodingArr","encoder_helper_toConsumableArray","colFieldExist","rowFieldExist","layerConf","cartesian_encoder_toConsumableArray","pieAxes","sanitizedRows","sanitizedColumns","polar_encoder_get","sanitizedFields","typeIndex","fieldSet","polar_encoder_toConsumableArray","facetFields","parentModel","layerEncoding","encType","measureField","polar_encoder_defineProperty","newAxes","createRetinalAxis","fieldProps","group_utils_getAxisType","encoder_helper_createRetinalAxis","encodingConfigs","group_utils_initStore","initStore","group_utils_defineProperty","group_utils_isDistributionEqual","isDistributionEqual","group_utils_toConsumableArray","rowType","initializeCacheMaps","cellMap","xAxesMap","yAxesMap","entryCellMap","exitCellMap","scaleType","group_utils_headerCreator","headerCreator","fieldHeaders","TextCell","getHeaderText","rowLength","getAxisType","getHeaderAxisFrom","userAxisFromConfig","_fields","group_utils_slicedToArray","firstField","secondField","firstFieldType","secondFieldType","setFacetsAndProjections","encoder","_encoder$simpleEncode","simpleEncoder","getFacetsAndProjections","group_utils_createSelection","createSelection","appendObj","idFn","dataSelect","mergedSelection","group_utils_getBorders","getBorders","matrices","showRowBorders","showColBorders","showValueBorders","valueMatrix","_rows","leftRows","rightRows","_columns","topColumns","bottomColumns","_encoder$fieldInfo","allDimensionLength","allMeasuresLength","allTemporalFieldsLength","getRowBorders","borders","getColumnsBorders","getValueBorders","borderTypeRow","borderTypeCol","group_utils_getValueBorders","action_behaviour_map_defineProperty","actions_namespaceObject","behaviours_namespaceObject","reactive_props_CONFIG","reactive_props_DATA","reactive_props_AXES","LAYERDEFS","reactive_props_WIDTH","reactive_props_HEIGHT","reactive_props_MOUNT","primaryXAxisUpdated","primaryYAxisUpdated","secondaryXAxisUpdated","secondaryYAxisUpdated","reactive_props_TRANSFORM","DATADOMAIN","LAYERSCREATED","FIELDS","TIMEDIFFS","LAYERAXISINDEX","helper_getLayerFromDef","getLayerFromDef","existingLayer","_layerDeps","instanceArr","helper_createLayers","createLayers","layerDefinitions","layersMap","_layersMap","markSet","components","layersArr","_layersArr","markId","instanceValues","src_helper_toConsumableArray","layerdeps","resolvable","resolved","depArr","getDependencyOrder","graph","dependencyOrder","visited","visit","helper_attachAxisToLayers","attachAxisToLayers","layerAxisIndex","axesObj","axisInf","helper_getLayerAxisIndex","getLayerAxisIndex","_layer$config","helper_unionDomainFromLayers","unionDomainFromLayers","getDataDomain","domainValues","layerDomain","fieldDomain","fieldStr","unionDomain","dom","common_utils_unionDomain","getLayersBy","searchBy","removeLayersBy","inst","grid_lines_LINEAR","grid_lines_getGridLayerDefinitions","getGridLayerDefinitions","getDefaultVisibilty","getLayerDefinition","_definition","_encoding","gridLines","gridBands","gridLineColor","zeroLineColor","gridBandColor","isLinearScale","grid_lines_defineProperty","isNegativeDomain","grid_lines_renderGridLineLayers","renderGridLineLayers","createGridLineLayer","vuConf","_gridbands","_gridlines","atomicDef","sConf","grid_lines_createGridLineLayer","getGridLayerData","gridData","_jsonData$push","grid_lines_getGridLayerData","entry","_entry","grid_lines_slicedToArray","parentGroupClass","src_default_config_defaultConfig","trackerClassName","arcLayerClassName","sideEffectClassName","src_local_options","src_local_options_defineProperty","_CONFIG$LAYERDEFS$AXE","prevAxes","cachedData","local_options_toConsumableArray","oldData","axisMap","1","axisProps","src_listener_map_listenerMap","listener_map_slicedToArray","reactive_props_namespaceObject","isReverse","layerDefsValue","fieldsVal","_layerAxisIndex","_lifeCycleManager","notify","layersCreated","dataModelVal","layerAxisIndexVal","axesVal","transformDataModels","transformVal","_transformedDataModels","attachDataToLayers","transformedDataModels","dataSource","_dimensionMeasureMap","getDimensionMeasureMap","retinalEncodingsAndMeasures","_layer$encodingFields","_retinalEncodingsAndM","helper_getDimensionMeasureMap","retinalFields","dataDomain","updateAxisDomain","src_props_PROPS","props_defineProperty","_PROPS","dispatchQueuedSideEffects","firebolt_helper_toConsumableArray","helper_registerListeners","registerImmediateListener","originalData","createSelectionSet","attachPropagationListener","registerChangeListener","firebolt_helper_slicedToArray","mapActionsAndBehaviour","clearActionHistory","payloadGenerator","brush","selectionDataModel","propPayload","getRangeFromData","propCriteria","fieldObj","isDimension","payload_generator_toConsumableArray","payload_generator_getRangeFromData","__default","data_propagator_propagateValues","propagateValues","propagationFieldInf","propagationFields","mutableEffect","data_propagator_toConsumableArray","applyOnSource","mergedModel","sourceUnit","sourceCanvas","parentAlias","criteriaFields","getModelWithFacetData","schema1","data1","schema2","data2","data_propagator_getModelWithFacetData","facetByFields","UnitFireBolt","src_firebolt_classCallCheck","firebolt_possibleConstructorReturn","src_firebolt","unitId","aliasName","propagationSourceCanvas","sourceUnitId","sourceSideEffects","actionOnSource","mappedEffects","se","sideEffectChecker","payloadFn","sourceIdentifierFields","propFields","sourceBehaviours","firebolt_get","VisualUnit","registry","visual_unit_classCallCheck","onlayerdraw","_renderedResolve","_renderedPromise","lifeCycleManager","visual_unit_defineProperty","visual_unit_src_firebolt","behavioural_namespaceObject","side_effects_namespaceObject","_firebolt","lock","unlock","_rootSvg","class","renderLayers","orderedLayers","layerParentGroup","helper_renderLayers","_sideEffectGroup","createSideEffectGroup","helper_createSideEffectGroup","rootSvg","layerName","getLayerByName","serializedDef","visual_unit_toConsumableArray","lyr","axisConf","alignZeroLine","adjustedDomain","getAdjustedDomain","y1ratio","y2ratio","allSameSign","updateDomainCache","dimValue","getNearestDimensionalValue","entryVal","helper_getNearestDimensionalValue","pointInf","getMarkInfFromLayers","markInf","parsedIdentifiers","transposeArray","getPointsFromIdentifiers","_parentContainer","getFieldNames","fields1","matrix_model_toConsumableArray","createSelectedDataModel","matrix_model_uniqueKeyGenerator","uniqueKeyGenerator","keyArray","newDm","nextDepthUniqueValues","projectRows","allColumnProjections","rowProjections","optionalProjections","projectFields","_getFieldNames","_getFieldNames2","matrix_model_slicedToArray","projFieldNames","colProjFieldNames","pushToMatrix","_matrix$rowIndex","facetInfo","colProjections","rowProj","projIdx","_getFieldNames3","_getFieldNames4","rowProjFieldNames","projectedDm","cell_creator_createValueCells","createValueCells","suppliedLayers","GeomCell","matrixLayers","horizontalAxis","verticalAxis","datamodelTransform","layerConfigArr","getLayerConfig","normalizedColumns","normalizedRows","geomCellKey","getCellKey","columnId","allFacets","cell_creator_toConsumableArray","rowFacets","colFacets","geomCell","updateCells","facetKey","cell_creator_updateCells","cell_creator_createAxisCells","createAxisCells","axisInst","AxisCell","BlankCell","cell_creator_headerPlaceholderGn","headerPlaceholderGn","selectionObj","facetConfig","selectionKeys","keySet","createTextCells","cell_creator_createTextCells","cell_creator_generatePlaceholders","generatePlaceholders","facetsAndProjections","encoders","valuesMatrix","rowKeys","columnKeys","takeAxisFrom","takeHeaderFrom","axisPlaceholderGn","selObj","axesMatrix","selObjProp","axesForDraw","rowsPrimary","rowPrime","columnsPrimary","colPrime","cell_creator_axisPlaceholderGn","_selectionObj","rowsSecondary","columnsSecondary","getObjects","section","hContext","cell_creator_computeMatrices","computeMatrices","componentRegistry","globalConfig","autoGroupBy","otherEncodings","matrixGnContext","getCellDef","isRowSizeEqual","isColumnSizeEqual","colCells","rowCells","resetSimpleAxes","newCacheMap","valueCellContext","serializeLayerConfig","extractFields","layerFields","flattenArray","group_utils_extractFields","getFieldsFromSuppliedLayers","suppliedLayerConfig","group_utils_getFieldsFromSuppliedLayers","aggregationFns","valueMatrixInfo","getMatrixModel","rowDataModels","colProj","firstLevelRowKeys","_rowDataModels","_getFieldNames5","rowFacetFieldNames","selectedDataModel","_rowDataModels2","colFacetNames","firstLevelColumnKeys","dme","rIndex","cIndex","transposedColKeys","matrix_model_getMatrixModel","valueCellsCreator","placeholder","createUnits","_mutateAxesFromMap","mutateAxesFromMap","xAxisSet","yAxisSet","axisId","group_utils_mutateAxesFromMap","_generateMatrices","generateMatrices","leftHeaders","topHeaders","bottomHeaders","rightHeaders","cell_creator_slicedToArray","rowSec","colSec","leftFacets","rightFacets","leftMatrix","rightMatrix","topMatrix","bottomMatrix","currentBottomLength","setAvailableSpace","rowMatrix","columnMatrix","MatrixResolver","matrix_resolver_classCallCheck","_registry","_layerConfig","_matrixLayers","_rowMatrix","_columnMatrix","_valueMatrix","_facets","_projections","_datamodelTransform","_units","_cacheMaps","_axes","maps","_rowCells","_colCells","matrix_resolver_toConsumableArray","_horizontalAxis","_verticalAxis","matrixType","sideEffectRegistry","units","unitConfig","extractUnitConfig","group_utils_extractUnitConfig","visual_unit","_getAllFields","retContext","getRetinalFieldsDomain","retinalEncoder","setCommonDomain","_axes2","retinalAxes","updateModel","placeholders","bottomLeft","bottomRight","_dependencies3","matrix_resolver_slicedToArray","topCols","bottomCols","rowHeaders","footers","topLeft","topRight","value_matrix","ValueMatrix","matrixArr","value_matrix_classCallCheck","instancesById","rIdx","cIdx","cellValue","colIndex","_instancesById","_matrix","_filterFn","rowWidth","currentRowWidth","rowHeight","currentRowHeight","change_listener_setupChangeListeners","setupChangeListeners","change_listener_toConsumableArray","matrixConfig","retinalConfig","sanitizeRetinalConfig","retinalConf","confValue","retinal_encoder","getEncoder","cartesian_encoder","polar_encoder","group_utils_getEncoder","groupType","fieldSanitizer","setAxisAndHeaders","placeholderInfo","getMatrices","_groupedDataModel","createRetinalAxes","setDomains","setMatrixInstances","_composition","change_listener_setMatrixInstances","cornerMatrices","createHeaders","metaData","border","visual_group_props_PROPS","hasDataUpdated","matrixInstance","cellRegistry","visual_group","VisualGroup","visual_group_classCallCheck","visual_group_possibleConstructorReturn","componentSubRegistry","_matrixInstance","_selection","_placeholderInfo","_cornerMatrices","matrix_resolver","variable","findInGroup","channel","group_utils_this","facetType","projType","group_utils_findInGroup","getRetinalAxes","getSimpleAxes","_resolver$getAllField","visual_group_defineProperty","existingRemoveSet","enums_selection_namespaceObject","select_toConsumableArray","firebolt_action_behaviour_map_actionBehaviourMap","firebolt_action_behaviour_map_defineProperty","action_behaviour_map_actionBehaviourMap","propagationBehaviourMap","_propagationBehaviour","src_firebolt_behaviour_effect_map_behaviourEffectMap","firebolt_behaviour_effect_map_defineProperty","firebolt_behaviour_effect_map_behaviourEffectMap","propagationSideEffects","_propagationSideEffec","SCALE_FUNCTIONS","VALUE","helper_propagate","canvasAlias","check","assembleModelFromIdentifiers","_loop2","src_firebolt_helper_toConsumableArray","legend_firebolt_LegendFireBolt","_Firebolt","LegendFireBolt","legend_firebolt_classCallCheck","legend_firebolt_possibleConstructorReturn","legend_firebolt_inherits","legend_firebolt_createClass","behaviourName","firebolt_physical_hover","getCriteriaFromData","firebolt_physical_click","firebolt_physical_physicalActions","firebolt_physical_defineProperty","physical_physicalActions","boundingBox","gradientDimensions","axisScale","rangeShifter","drag_defineProperty","getSelectionCriteria","selectionBoxMeasure","drawingInfMeasure","subjectStartPoint","side_effects_selection_box","gradientDimension","legendGradContainer","legendSelGroup","enterFn","getMousePos","boundingClientRect","selection_box_drag_defineProperty","fadeOut","physical_selection_box_drag_selectionBoxDrag","legend_highlighter_strategies_strategies","brighten","LegendHighlighter","legend_highlighter_classCallCheck","legend_highlighter_possibleConstructorReturn","legend_props_PROPS","legendContainer","resetLogicalSpace","title","_title","ALIGN","DEFAULT_MEASUREMENT","LEGEND_TITLE","legend_defaults_DEFAULT_CONFIG","bounds","upper","defaults_ICON_MAP","ICON_MAP","legend_helper_getScaleInfo","getScaleInfo","steps","scaleFn","legend_helper_getInterpolatedData","getInterpolatedData","domainForLegend","interpolatedFn","getDomainBounds","domainBounds","domainLeg","ele","legend_helper_defineProperty","getScaleFactor","SimpleLegend","simple_legend_classCallCheck","_metaData","_fieldName","_labelManager","_cells","defaultMeasurement","_computedStyle","firebolt_behavioural_namespaceObject","firebolt_side_effects_namespaceObject","_canvasAlias","getItemMeasures","_labelManager$getOriS","effPadding","effBorder","effMargin","dataFromScale","titleSpace","getTitleSpace","titleHeight","titleWidth","labelSpaces","getLabelSpaces","_computeItemSpaces","computeItemSpaces","maxItemSpaces","textOrientation","itemSpaces","iconSpaces","maxIconWidth","itemSpace","iconSpace","legend_helper_computeItemSpaces","titleSpaces","_measurement2","titleCreator","legend_helper_titleCreator","_measurement3","renderTitle","simple_legend_defineProperty","legendOrientation","position_config_defineProperty","datasets","itemContainerMeasures","getStepSpacesInfo","iconHeight","iconWidth","stepPadding","horizontal","vertical","_legendOrientation","positionConfig","_positionConfig","alignmentMap","_alignmentMap","itemStack","_itemStack","renderer_applyItemStyle","applyItemStyle","measureType","stepColorCheck","_context$measurement","renderer_renderIcon","renderIcon","renderer_createLegendSkeleton","createLegendSkeleton","gradWidth","gradHeight","maxGradHeight","maxGradWidth","legendBody","legendItem","getItemContainers","legendInstance","positionObj","renderer_getItemContainers","renderer_createItemSkeleton","createItemSkeleton","itemSkeleton","alignClass","renderer_renderDiscreteItem","renderDiscreteItem","_context$measurement2","_item$icon","text-align","getLegendIcon","defaultIcon","renderer_getLegendIcon","simple_legend","_getScaleInfo","discrete_legend_toConsumableArray","discrete_legend_defineProperty","discrete_legend_get","DiscreteLegend","getGradientDomain","accumulator","currentValue","MAX_VALUE","MIN_VALUE","gradient_helper_createLegendSkeleton","legendGradSvg","legendGradCont","linearGradient","makeLinearGradient","gradient_helper_makeLinearGradient","legendRect","gradient_helper_renderAxis","gradient_legend_toConsumableArray","gradient_legend_defineProperty","newAxis","gradient_helper_createAxis","axisSpace","axisDomainLength","_legendGradientSvg","gradient_legend_get","renderGradient","_createLegendSkeleton","gradient_helper_renderGradient","GradientLegend","step_legend_toConsumableArray","step_legend_defineProperty","lowerBounds","upperBounds","step_legend_get","StepLegend","stepData","position_config_stepData","renderStepItem","_context$config3","_context$measurement3","_item$icon2","_positionConfig$posit","renderer_renderStepItem","PADDING","BORDER","src_constants_CONFIG","TITLE_TEMPLATE_NOT_ALLOWED_TAGS","LEGEND_TYPE_MAP","constants_defineProperty","src_constants_ORDINAL","discrete_legend","_LEGEND_TYPE_MAP","src_constants_LINEAR","step_legend","gradient_legend","operators_share","share","operators_toConsumableArray","operators_html","strings","htmlCode","expLn","frag","createDocumentFragment","treeShakeNode","nodeType","Node","ELEMENT_NODE","tagName","childNodes","actionModel","ActionModel","action_model_classCallCheck","_registrableComponents","canvas","once","visualGroup","_cell$valueOf$firebol","dissociateBehaviour","dissociateSideEffect","policy","registrableComponents","mergedPolicy","aliases","comp","*","propagationPayload","propagationCanvas","action_model_defaultPolicy","crossInteractionPolicy","src_defaults_DEFAULT_CONFIG","legend","showHeaders","minHeight","collapse","src_options","isInteger","minUnitWidth","minUnitHeight","oldConf","VIEW_INDEX","center","enums_constants_WIDTH","enums_constants_HEIGHT","layout_src_enums_constants_TOP","src_enums_constants_LEFT","src_enums_constants_RIGHT","layout_src_enums_constants_BOTTOM","constants_CENTER","ROW_LEFT","ROW_RIGHT","COLUMN_BOTTOM","COLUMN_TOP","ROW_SPAN","COL_SPAN","ROW_ROOT","COLUMN_ROOT","GenericLayout","generic_layout_classCallCheck","_matrices","_centerMatrix","_mountPoint","DEFAULT_CONFIGURATION","grid_layout_defaults_defineProperty","_FieldNames$BORDER","_DEFAULT_CONFIGURATIO","DEFAULT_MEASUREMENTS","_DEFAULT_MEASUREMENTS","BLANK_BORDERS","span_maker_columnFilter","columnFilter","colData","colIdx","previousRow","currentRow","prevCell","nextRow","prevRow","calcRowSpan","isNull","calcColSpan","span_maker_mask","mask","filteredRow","_temp","span_maker_toConsumableArray","applyBorders","borderStyle","borderType","applyRowBorders","showBorders","applyColBorders","renderMatrix","containerForMatrix","_cellSpanMaker","cellSpanMaker","viewMatrix","spans","ridx","currSpan","viewWidth","viewHeight","renderTable","rowData","table","availHeight","splitMatrices","utils_nest","findInPage","page","combineMatrices","isTransposed","joinedMatrix","utils_toConsumableArray","computeLogicalSpace","maxMeasures","_config$isTransposed","unitMeasures","_getMeasureInfo","getMeasureInfo","firstMeasure","secondMeasure","utils_getMeasureInfo","minMeasures","getMinMeasures","_logicalSpace","utils_defineProperty","valueItem","maxMeasure","firstMeasureValue","secondMeasureValue","valueArray","_item$space","fMeasure","sMeasure","utils_getLogicalSpace","extraCellsRemover","beg","visual_matrix_props_PROPS","visual_matrix_default_config_defaultConfig","distribution","extraCellLengths","VisualMatrix","visual_matrix_classCallCheck","_lastLevelKey","_primaryMatrix","_secondaryMatrix","_maxMeasures","_availableSpace","_breakPointer","_layoutMatrix","_tree","createTree","setLogicalSpace","_createTree2","matrixTree","lastLevelKey","layoutMatrix","primaryMatrix","secondaryMatrix","breakPage","primaryMatrixLength","newMatrix","keyLength","utils_createTree","createMatrixEachLevel","_arr$i","heightMeasures","populateMaxMeasures","widthMeasures","calculateDepth","viewableMatrix","createViewPortMatrix","viewableMeasures","redistribute","childDepth","maxHeights","maxWidths","matrixInst","mWidth","mHeight","redistributeColumnWise","redistributeRowWise","cellDimOptions","matrixIndex","_getCellDimensions","getCellDimensions","heights","widths","rowHeights","columnWidths","primary","secondary","begCellLen","endCellLen","createMatrixInstances","matrixInfo","layout","breakPointer","brokenMatrix","breakMatrix","nextLevel","removeExtraCells","rHeights","cWidths","_config4","gutter","spaceTakenByColumn","spaces","getDistributedHeight","heightWithoutGutter","distSum","gutterSum","availableHeight","colLen","borderWidth","spaceTakenByRow","getDistributedWidth","layoutConfig","availableWidth","rowLen","oldLogicalSpace","mainMeasures","computedMeasures","colHeight","colWidth","setMatrixMeasurement","computations_setAvailableSpace","setViewSpaces","pointerType","viewSpaces","pointer","computations_defineProperty","GridLayout","layout_classCallCheck","layout_possibleConstructorReturn","_layoutId","generic_layout","generateVisualMatrices","begColCells","endColCells","gutterSpace","_top","layout_helper_slicedToArray","_center","_bottom","layout_helper_toConsumableArray","visual_matrix","centerMatrix","layout_helper_generateVisualMatrices","layout_get","computeLayoutMeasurements","_layout$measurement","rowMatrixWidth","getMatrixMeasurement","columnMatrixWidth","columnViewPages","getViewableSpaces","columnViewSpace","columnPointer","columnMatrixHeight","rowMatrixHeight","rowViewableSpaces","computations_toConsumableArray","rowWidthsPrimary","rowWidthsSecondary","columnViewableSpaces","columnHeightsPrimary","columnHeightsSecondary","computations_computeLayoutMeasurements","setViewInformation","pageNumber","pageType","totalPages","getViewInformation","viewMatricesInfo","layout_defineProperty","renderGrid","currentPage","rowPointer","getViewMatrices","rowMatrices","getViewableData","columnMatrices","centralMatrixPointer","rowMatrixLen","columnMatrixLen","rowPages","columnPages","layoutDimensions","getViewMeasurements","_layout$measurement2","_layout$config3","leftWidth","rightWidth","topHeight","bottomHeight","viewInfo","_getViewInformation3","renderMatrices","newCenter","newBottom","newTop","breakLength","topBreak","bottomBreak","INTERFACE_IMPl","visual_cell_src_enums_constants_LEFT","visual_cell_src_enums_constants_RIGHT","visual_cell_src_enums_constants_BOTTOM","visual_cell_src_enums_constants_TOP","visual_cell_src_enums_constants_CLASSPREFIX","constants_HEADER","enums_constants_DATA","enums_constants_AXES","constants_FACET_BY_FIELDS","constants_FIELDS","enums_constants_TRANSFORM","LAYER_DEF","src_enums_constants_CONFIG","cell_type_TEXT","cell_type_AXIS","GEOM","BLANK","simple_cell","SimpleCell","simple_cell_classCallCheck","enums_defaults_DEFAULT_CONFIG","enums_defaults_defineProperty","_CONSTANTS$MARGIN","_DEFAULT_CONFIG","DEFAULT_PROPS","availWidth","geomProps","caption","packages_visual_cell_src_props_PROPS","src_props_defineProperty","visual_cell_src_props_PROPS","axis_cell","axis_cell_classCallCheck","axis_cell_possibleConstructorReturn","_availHeight","_availWidth","computeAxisSpace","logicalWidth","logicalHeight","spaceFixer","_axis$getLogicalSpace","wrapperDiv","blank_cell","blank_cell_classCallCheck","blank_cell_possibleConstructorReturn","src_text_cell","text_cell_classCallCheck","text_cell_possibleConstructorReturn","_className","_minTickDiff","computeTextSpace","verticalAlign","textAlign","geom_cell","geom_cell_classCallCheck","geom_cell_possibleConstructorReturn","_unit","_datamodel","_facetByFields","_transform","_caption","lockModel","unlockModel","captionSpace","computeGeomSpace","getCaptionSpace","captionDom","DEFAULT_PLACEHOLDERS","src_defaults_defineProperty","_DEFAULT_PLACEHOLDERS","cell_registry","createHeading","cellType","title_maker_headerCreator","legend_maker_legendInitializer","legendInitializer","legendConfig","prevLegends","legends","headerHeight","legendCreator","LegendCls","dataset","scaleProps","_scale$config","legend_maker_legendCreator","dataInfo","legendMeasures","getGroupByData","setLegendMeasures","layout_maker_BlankCell","createBlankCell","fillArray","blankMatrixCreator","blankCellCreator","maxRows","rowMatrixIndex","numberOfRows","layout_maker_toConsumableArray","prepareLayout","topL","topR","bottomL","bottomR","getMaxRows","colLengths","_blankCellCreator","_blankCellCreator2","layout_maker_slicedToArray","_blankCellCreator3","_blankCellCreator4","triggerReflow","layout_maker_getRenderDetails","getRenderDetails","heightAttr","widthAttr","visGroup","_visGroup$placeholder","titleConfig","subtitleConfig","subtitle","legendPosition","layoutArrangement","arrangeComponents","_titleLayouts","legendLayouts","component_resolver_defineProperty","titleLayouts","src_constants_TOP","src_constants_BOTTOM","component_resolver_arrangeComponents","_mount$getBoundingCli","availableHeightForCanvas","availableWidthForCanvas","_createHeaders","canvasHeight","canvasWidth","headerOptions","resolveTitleSubTitleContent","rawContent","_sanitize","escapeHTML","htmlEscapes","&","<",">","\"","'","/","title_maker_resolveTitleSubTitleContent","_createHeading","title_maker_createHeaders","createLegend","legend_maker_createLegend","legendSpace","getLegendSpace","legendInfo","legend_maker_getLegendSpace","legendWidth","legendHeight","canvases","mountSpace","TITLE_CONFIG","SUB_TITLE_CONFIG","localOptions","canvas_local_options_defineProperty","_localOptions","canvasOptions","_sanitized","_canvasOptions","sub","renderer_renderHeader","renderHeader","headerCell","cont","renderComponents","_getSkeletons","getSkeletons","innerContainer","layoutType","renderer_getSkeletons","prepareGridContainer","innerSel","renderer_prepareGridContainer","setLabelRotationForAxes","renderLegend","legendComponents","sectionComponents","legendMount","legWidth","legHeight","sections","currHeight","currWidth","leg","renderer_renderLegend","shiftHeaders","shifter","renderer_shiftHeaders","helper_setupChangeListener","setupChangeListener","allOptions","_allOptions","canvas_helper_toConsumableArray","equalityChecker","option","dispatchProps","_cachedProps","applyInteractionPolicy","policies","firebolt_defaultInteractionPolicy","defaultInteractionPolicy","isMeasure","canvas_firebolt_toConsumableArray","getFieldsFromChannel","colDim","fieldInf","unitFireBolt","unitColFacets","equals","unitRowFacets","propagateWith","defaultCrossInteractionPolicy","propagationCanvasAlias","propagationUnit","GroupFireBolt","canvas_firebolt_classCallCheck","_interactionPolicy","_crossInteractionPolicy","changeBehaviourStateOnPropagation","changeSideEffectStateOnPropagation","Canvas","globalDependencies","canvas_classCallCheck","canvas_possibleConstructorReturn","grid_layout_layout","_transactor","canvas_slicedToArray","canvas_firebolt","transaction_support","initedComponents","initCanvas","_getRenderDetails","promises","all","getAxes","initialSettings","regEntry","COMPONENTS","SUBREGISTRIES","regObj","globalCache","defaultRegistry","overrideRegistryDefinitions","overrideRegistry","muze_muze","muze","_transactor2","muze_slicedToArray","env","globalStore","componentSubRegistryDef","settings","canvas_canvas","withSettings","enableChainedTransaction","transactionModel","transactionEndpoint","transactionItems","SmartlabelManager_default","SideEffects","standards","SurrogateSideEffect","SpawnableSideEffect","Behaviours","PersistentBehaviour","VolatileBehaviour","pkg","muze_package","layerFactory","operators_namespaceObject","utils","require","lookupWhat","lookupDetails","lookupTarget","deps"],"mappings":"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","file":"muze.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"muze\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"muze\"] = factory();\n\telse\n\t\troot[\"muze\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DataModel\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DataModel\"] = factory();\n\telse\n\t\troot[\"DataModel\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/d3-dsv/src/csv.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/d3-dsv/src/csv.js ***!\n  \\****************************************/\n/*! exports provided: csvParse, csvParseRows, csvFormat, csvFormatRows */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvParse\", function() { return csvParse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvParseRows\", function() { return csvParseRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvFormat\", function() { return csvFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvFormatRows\", function() { return csvFormatRows; });\n/* harmony import */ var _dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv */ \"./node_modules/d3-dsv/src/dsv.js\");\n\n\nvar csv = Object(_dsv__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\",\");\n\nvar csvParse = csv.parse;\nvar csvParseRows = csv.parseRows;\nvar csvFormat = csv.format;\nvar csvFormatRows = csv.formatRows;\n\n\n/***/ }),\n\n/***/ \"./node_modules/d3-dsv/src/dsv.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/d3-dsv/src/dsv.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n});\n\n\n/***/ }),\n\n/***/ \"./node_modules/d3-dsv/src/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/d3-dsv/src/index.js ***!\n  \\******************************************/\n/*! exports provided: dsvFormat, csvParse, csvParseRows, csvFormat, csvFormatRows, tsvParse, tsvParseRows, tsvFormat, tsvFormatRows */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv */ \"./node_modules/d3-dsv/src/dsv.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dsvFormat\", function() { return _dsv__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _csv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./csv */ \"./node_modules/d3-dsv/src/csv.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvParse\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvParse\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvParseRows\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvParseRows\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvFormat\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvFormat\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvFormatRows\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvFormatRows\"]; });\n\n/* harmony import */ var _tsv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tsv */ \"./node_modules/d3-dsv/src/tsv.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvParse\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvParse\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvParseRows\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvParseRows\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvFormat\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvFormat\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvFormatRows\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvFormatRows\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/d3-dsv/src/tsv.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/d3-dsv/src/tsv.js ***!\n  \\****************************************/\n/*! exports provided: tsvParse, tsvParseRows, tsvFormat, tsvFormatRows */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvParse\", function() { return tsvParse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvParseRows\", function() { return tsvParseRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvFormat\", function() { return tsvFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvFormatRows\", function() { return tsvFormatRows; });\n/* harmony import */ var _dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv */ \"./node_modules/d3-dsv/src/dsv.js\");\n\n\nvar tsv = Object(_dsv__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"\\t\");\n\nvar tsvParse = tsv.parse;\nvar tsvParseRows = tsv.parseRows;\nvar tsvFormat = tsv.format;\nvar tsvFormatRows = tsv.formatRows;\n\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, description, homepage, version, license, main, author, keywords, repository, contributors, dependencies, devDependencies, scripts, default */\n/***/ (function(module) {\n\nmodule.exports = {\"name\":\"datamodel\",\"description\":\"Relational algebra compliant in-memory tabular data store\",\"homepage\":\"https://github.com/chartshq/datamodel\",\"version\":\"2.0.0\",\"license\":\"MIT\",\"main\":\"dist/datamodel.js\",\"author\":\"Charts.com <support@charts.com>\",\"keywords\":[\"datamodel\",\"data\",\"relational\",\"algebra\",\"model\",\"muze\",\"fusioncharts\",\"table\",\"tabular\",\"operation\"],\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/chartshq/datamodel.git\"},\"contributors\":[{\"name\":\"Akash Goswami\",\"email\":\"akash@charts.com\"},{\"name\":\"Subhash Haldar\",\"email\":\"subhash@charts.com\"},{\"name\":\"Rousan Ali\",\"email\":\"rousan@charts.com\",\"url\":\"https://rousan.io\"},{\"name\":\"Ujjal Kumar Dutta\",\"email\":\"ujjal@charts.com\"}],\"dependencies\":{\"d3-dsv\":\"^1.0.8\"},\"devDependencies\":{\"babel-cli\":\"6.26.0\",\"babel-core\":\"^6.26.3\",\"babel-eslint\":\"6.1.2\",\"babel-loader\":\"^7.1.4\",\"babel-plugin-transform-runtime\":\"^6.23.0\",\"babel-preset-env\":\"^1.7.0\",\"babel-preset-es2015\":\"^6.24.1\",\"babel-preset-flow\":\"^6.23.0\",\"chai\":\"3.5.0\",\"cross-env\":\"^5.0.5\",\"eslint\":\"3.19.0\",\"eslint-config-airbnb\":\"15.1.0\",\"eslint-plugin-import\":\"2.7.0\",\"eslint-plugin-jsx-a11y\":\"5.1.1\",\"eslint-plugin-react\":\"7.3.0\",\"istanbul-instrumenter-loader\":\"^3.0.0\",\"jsdoc\":\"3.5.5\",\"json2yaml\":\"^1.1.0\",\"karma\":\"1.7.1\",\"karma-chai\":\"0.1.0\",\"karma-chrome-launcher\":\"2.1.1\",\"karma-coverage-istanbul-reporter\":\"^1.3.0\",\"karma-mocha\":\"1.3.0\",\"karma-spec-reporter\":\"0.0.31\",\"karma-webpack\":\"2.0.3\",\"marked\":\"^0.5.0\",\"mocha\":\"3.4.2\",\"mocha-webpack\":\"0.7.0\",\"transform-runtime\":\"0.0.0\",\"webpack\":\"^4.12.0\",\"webpack-cli\":\"^3.0.7\",\"webpack-dev-server\":\"^3.1.4\"},\"scripts\":{\"test\":\"npm run lint && npm run ut\",\"ut\":\"karma start karma.conf.js\",\"utd\":\"karma start --single-run false --browsers Chrome karma.conf.js \",\"build\":\"webpack --mode development --config webpack.config.dev.js\",\"start\":\"webpack-dev-server --config webpack.config.dev.js --mode development --open\",\"lint\":\"eslint ./src\",\"lint-errors\":\"eslint --quiet ./src\",\"docs\":\"rm -rf yaml && mkdir yaml && jsdoc -c jsdoc.conf.json\"}};\n\n/***/ }),\n\n/***/ \"./src/constants/index.js\":\n/*!********************************!*\\\n  !*** ./src/constants/index.js ***!\n  \\********************************/\n/*! exports provided: DataFormat, FilteringMode, PROPAGATION, ROW_ID, DM_DERIVATIVES, JOINS, LOGICAL_OPERATORS */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PROPAGATION\", function() { return PROPAGATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ROW_ID\", function() { return ROW_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DM_DERIVATIVES\", function() { return DM_DERIVATIVES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JOINS\", function() { return JOINS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOGICAL_OPERATORS\", function() { return LOGICAL_OPERATORS; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataFormat\", function() { return _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FilteringMode\", function() { return _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"]; });\n\n\n/**\n * The event name for data propagation.\n */\nconst PROPAGATION = 'propagation';\n\n/**\n * The name of the unique row id column in DataModel.\n */\nconst ROW_ID = '__id__';\n\n/**\n * The enums for operation names performed on DataModel.\n */\nconst DM_DERIVATIVES = {\n    SELECT: 'select',\n    PROJECT: 'project',\n    GROUPBY: 'group',\n    COMPOSE: 'compose',\n    CAL_VAR: 'calculatedVariable',\n    BIN: 'bin'\n};\n\nconst JOINS = {\n    CROSS: 'cross',\n    LEFTOUTER: 'leftOuter',\n    RIGHTOUTER: 'rightOuter',\n    NATURAL: 'natural',\n    FULLOUTER: 'fullOuter'\n};\n\nconst LOGICAL_OPERATORS = {\n    AND: 'and',\n    OR: 'or'\n};\n\n\n/***/ }),\n\n/***/ \"./src/converter/auto-resolver.js\":\n/*!****************************************!*\\\n  !*** ./src/converter/auto-resolver.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _flat_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./flat-json */ \"./src/converter/flat-json.js\");\n/* harmony import */ var _dsv_arr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dsv-arr */ \"./src/converter/dsv-arr.js\");\n/* harmony import */ var _dsv_str__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dsv-str */ \"./src/converter/dsv-str.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n\n\n/**\n * Parses the input data and detect the format automatically.\n *\n * @param {string|Array} data - The input data.\n * @param {Object} options - An optional config specific to data format.\n * @return {Array.<Object>} Returns an array of headers and column major data.\n */\nfunction Auto (data, options) {\n    let converter;\n\n    if (Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"isString\"])(data)) {\n        converter = _dsv_str__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n    } else if (Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"isArray\"])(data) && Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"isArray\"])(data[0])) {\n        converter = _dsv_arr__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n    } else if (Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"isArray\"])(data) && (data.length === 0 || Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"isObject\"])(data[0]))) {\n        converter = _flat_json__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    } else {\n        throw new Error('Couldn\\'t detect the data format');\n    }\n\n    return converter(data, options);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Auto);\n\n\n/***/ }),\n\n/***/ \"./src/converter/dsv-arr.js\":\n/*!**********************************!*\\\n  !*** ./src/converter/dsv-arr.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n/**\n * Parses and converts data formatted in DSV array to a manageable internal format.\n *\n * @param {Array.<Array>} arr - A 2D array containing of the DSV data.\n * @param {Object} options - Option to control the behaviour of the parsing.\n * @param {boolean} [options.firstRowHeader=true] - Whether the first row of the dsv data is header or not.\n * @return {Array} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = [\n *    [\"a\", \"b\", \"c\"],\n *    [1, 2, 3],\n *    [4, 5, 6],\n *    [7, 8, 9]\n * ];\n */\nfunction DSVArr (arr, options) {\n    const defaultOption = {\n        firstRowHeader: true,\n    };\n    options = Object.assign({}, defaultOption, options);\n\n    let header;\n    const columns = [];\n    const push = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"columnMajor\"])(columns);\n\n    if (options.firstRowHeader) {\n        // If header present then mutate the array.\n        // Do in-place mutation to save space.\n        header = arr.splice(0, 1)[0];\n    } else {\n        header = [];\n    }\n\n    arr.forEach(field => push(...field));\n\n    return [header, columns];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DSVArr);\n\n\n/***/ }),\n\n/***/ \"./src/converter/dsv-str.js\":\n/*!**********************************!*\\\n  !*** ./src/converter/dsv-str.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var d3_dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-dsv */ \"./node_modules/d3-dsv/src/index.js\");\n/* harmony import */ var _dsv_arr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dsv-arr */ \"./src/converter/dsv-arr.js\");\n\n\n\n/**\n * Parses and converts data formatted in DSV string to a manageable internal format.\n *\n * @todo Support to be given for https://tools.ietf.org/html/rfc4180.\n * @todo Sample implementation https://github.com/knrz/CSV.js/.\n *\n * @param {string} str - The input DSV string.\n * @param {Object} options - Option to control the behaviour of the parsing.\n * @param {boolean} [options.firstRowHeader=true] - Whether the first row of the dsv string data is header or not.\n * @param {string} [options.fieldSeparator=\",\"] - The separator of two consecutive field.\n * @return {Array} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = `\n * a,b,c\n * 1,2,3\n * 4,5,6\n * 7,8,9\n * `\n */\nfunction DSVStr (str, options) {\n    const defaultOption = {\n        firstRowHeader: true,\n        fieldSeparator: ','\n    };\n    options = Object.assign({}, defaultOption, options);\n\n    const dsv = Object(d3_dsv__WEBPACK_IMPORTED_MODULE_0__[\"dsvFormat\"])(options.fieldSeparator);\n    return Object(_dsv_arr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dsv.parseRows(str), options);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DSVStr);\n\n\n/***/ }),\n\n/***/ \"./src/converter/flat-json.js\":\n/*!************************************!*\\\n  !*** ./src/converter/flat-json.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n/**\n * Parses and converts data formatted in JSON to a manageable internal format.\n *\n * @param {Array.<Object>} arr - The input data formatted in JSON.\n * @return {Array.<Object>} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = [\n *    {\n *      \"a\": 1,\n *      \"b\": 2,\n *      \"c\": 3\n *    },\n *    {\n *      \"a\": 4,\n *      \"b\": 5,\n *      \"c\": 6\n *    },\n *    {\n *      \"a\": 7,\n *      \"b\": 8,\n *      \"c\": 9\n *    }\n * ];\n */\nfunction FlatJSON (arr) {\n    const header = {};\n    let i = 0;\n    let insertionIndex;\n    const columns = [];\n    const push = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"columnMajor\"])(columns);\n\n    arr.forEach((item) => {\n        const fields = [];\n        for (let key in item) {\n            if (key in header) {\n                insertionIndex = header[key];\n            } else {\n                header[key] = i++;\n                insertionIndex = i - 1;\n            }\n            fields[insertionIndex] = item[key];\n        }\n        push(...fields);\n    });\n\n    return [Object.keys(header), columns];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FlatJSON);\n\n\n/***/ }),\n\n/***/ \"./src/converter/index.js\":\n/*!********************************!*\\\n  !*** ./src/converter/index.js ***!\n  \\********************************/\n/*! exports provided: DSVArr, DSVStr, FlatJSON, Auto */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dsv_arr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv-arr */ \"./src/converter/dsv-arr.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DSVArr\", function() { return _dsv_arr__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _dsv_str__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dsv-str */ \"./src/converter/dsv-str.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DSVStr\", function() { return _dsv_str__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _flat_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flat-json */ \"./src/converter/flat-json.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FlatJSON\", function() { return _flat_json__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _auto_resolver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auto-resolver */ \"./src/converter/auto-resolver.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Auto\", function() { return _auto_resolver__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/datamodel.js\":\n/*!**************************!*\\\n  !*** ./src/datamodel.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/helper.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _operator_bucket_creator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./operator/bucket-creator */ \"./src/operator/bucket-creator.js\");\n/* harmony import */ var _relation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./relation */ \"./src/relation.js\");\n/* harmony import */ var _utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/reducer-store */ \"./src/utils/reducer-store.js\");\n/* harmony import */ var _field_creator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./field-creator */ \"./src/field-creator.js\");\n/* eslint-disable default-case */\n\n\n\n\n\n\n\n\n\n\n/**\n * DataModel is an in-browser representation of tabular data. It supports\n * {@link https://en.wikipedia.org/wiki/Relational_algebra | relational algebra} operators as well as generic data\n * processing opearators.\n * DataModel extends {@link Relation} class which defines all the relational algebra opreators. DataModel gives\n * definition of generic data processing operators which are not relational algebra complient.\n *\n * @public\n * @class\n * @extends Relation\n * @memberof Datamodel\n */\nclass DataModel extends _relation__WEBPACK_IMPORTED_MODULE_5__[\"default\"] {\n    /**\n     * Creates a new DataModel instance by providing data and schema. Data could be in the form of\n     * - Flat JSON\n     * - DSV String\n     * - 2D Array\n     *\n     * By default DataModel finds suitable adapter to serialize the data. DataModel also expects a\n     * {@link Schema | schema} for identifying the variables present in data.\n     *\n     * @constructor\n     * @example\n     * const data = loadData('cars.csv');\n     * const schema = [\n     *      { name: 'Name', type: 'dimension' },\n     *      { name: 'Miles_per_Gallon', type: 'measure', unit : 'cm', scale: '1000', numberformat: val => `${val}G`},\n     *      { name: 'Cylinders', type: 'dimension' },\n     *      { name: 'Displacement', type: 'measure' },\n     *      { name: 'Horsepower', type: 'measure' },\n     *      { name: 'Weight_in_lbs', type: 'measure' },\n     *      { name: 'Acceleration', type: 'measure' },\n     *      { name: 'Year', type: 'dimension', subtype: 'datetime', format: '%Y' },\n     *      { name: 'Origin', type: 'dimension' }\n     * ];\n     * const dm = new DataModel(data, schema, { name: 'Cars' });\n     * table(dm);\n     *\n     * @public\n     *\n     * @param {Array.<Object> | string | Array.<Array>} data Input data in any of the mentioned formats\n     * @param {Array.<Schema>} schema Defination of the variables. Order of the variables in data and order of the\n     *      variables in schema has to be same.\n     * @param {object} [options] Optional arguments to specify more settings regarding the creation part\n     * @param {string} [options.name] Name of the datamodel instance. If no name is given an auto generated name is\n     *      assigned to the instance.\n     * @param {string} [options.fieldSeparator=','] specify field separator type if the data is of type dsv string.\n     */\n    constructor (...args) {\n        super(...args);\n\n        this._onPropagation = [];\n        this._sortingDetails = [];\n    }\n\n    /**\n     * Reducers are simple functions which reduces an array of numbers to a representative number of the set.\n     * Like an array of numbers `[10, 20, 5, 15]` can be reduced to `12.5` if average / mean reducer function is\n     * applied. All the measure fields in datamodel (variables in data) needs a reducer to handle aggregation.\n     *\n     * @public\n     *\n     * @return {ReducerStore} Singleton instance of {@link ReducerStore}.\n     */\n    static get Reducers () {\n        return _utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n    }\n\n    /**\n     * Retrieve the data attached to an instance in JSON format.\n     *\n     * @example\n     * // DataModel instance is already prepared and assigned to dm variable\n     *  const data = dm.getData({\n     *      order: 'column',\n     *      formatter: {\n     *          origin: (val) => val === 'European Union' ? 'EU' : val;\n     *      }\n     *  });\n     *  console.log(data);\n     *\n     * @public\n     *\n     * @param {Object} [options] Options to control how the raw data is to be returned.\n     * @param {string} [options.order='row'] Defines if data is retieved in row order or column order. Possible values\n     *      are `'rows'` and `'columns'`\n     * @param {Function} [options.formatter=null] Formats the output data. This expects an object, where the keys are\n     *      the name of the variable needs to be formatted. The formatter function is called for each row passing the\n     *      value of the cell for a particular row as arguments. The formatter is a function in the form of\n     *      `function (value, rowId, schema) => { ... }`\n     *      Know more about {@link Fomatter}.\n     *\n     * @return {Array} Returns a multidimensional array of the data with schema. The return format looks like\n     *      ```\n     *          {\n     *              data,\n     *              schema\n     *          }\n     *      ```\n     */\n    getData (options) {\n        const defOptions = {\n            order: 'row',\n            formatter: null,\n            withUid: false,\n            getAllFields: false,\n            sort: []\n        };\n        options = Object.assign({}, defOptions, options);\n        const fields = this.getPartialFieldspace().fields;\n\n        const dataGenerated = _operator__WEBPACK_IMPORTED_MODULE_3__[\"dataBuilder\"].call(\n            this,\n            this.getPartialFieldspace().fields,\n            this._rowDiffset,\n            options.getAllFields ? fields.map(d => d.name).join() : this._colIdentifier,\n            options.sort,\n            {\n                columnWise: options.order === 'column',\n                addUid: !!options.withUid\n            }\n        );\n\n        if (!options.formatter) {\n            return dataGenerated;\n        }\n\n        const { formatter } = options;\n        const { data, schema, uids } = dataGenerated;\n        const fieldNames = schema.map((e => e.name));\n        const fmtFieldNames = Object.keys(formatter);\n        const fmtFieldIdx = fmtFieldNames.reduce((acc, next) => {\n            const idx = fieldNames.indexOf(next);\n            if (idx !== -1) {\n                acc.push([idx, formatter[next]]);\n            }\n            return acc;\n        }, []);\n\n        if (options.order === 'column') {\n            fmtFieldIdx.forEach((elem) => {\n                const fIdx = elem[0];\n                const fmtFn = elem[1];\n\n                data[fIdx].forEach((datum, datumIdx) => {\n                    data[fIdx][datumIdx] = fmtFn.call(\n                        undefined,\n                        datum,\n                        uids[datumIdx],\n                        schema[fIdx]\n                    );\n                });\n            });\n        } else {\n            data.forEach((datum, datumIdx) => {\n                fmtFieldIdx.forEach((elem) => {\n                    const fIdx = elem[0];\n                    const fmtFn = elem[1];\n\n                    datum[fIdx] = fmtFn.call(\n                        undefined,\n                        datum[fIdx],\n                        uids[datumIdx],\n                        schema[fIdx]\n                    );\n                });\n            });\n        }\n\n        return dataGenerated;\n    }\n\n    /**\n     * Groups the data using particular dimensions and by reducing measures. It expects a list of dimensions using which\n     * it projects the datamodel and perform aggregations to reduce the duplicate tuples. Refer this\n     * {@link link_to_one_example_with_group_by | document} to know the intuition behind groupBy.\n     *\n     * DataModel by default provides definition of few {@link reducer | Reducers}.\n     * {@link ReducerStore | User defined reducers} can also be registered.\n     *\n     * This is the chained implementation of `groupBy`.\n     * `groupBy` also supports {@link link_to_compose_groupBy | composability}\n     *\n     * @example\n     * const groupedDM = dm.groupBy(['Year'], { horsepower: 'max' } );\n     * console.log(groupedDm);\n     *\n     * @public\n     *\n     * @param {Array.<string>} fieldsArr - Array containing the name of dimensions\n     * @param {Object} [reducers={}] - A map whose key is the variable name and value is the name of the reducer. If its\n     *      not passed, or any variable is ommitted from the object, default aggregation function is used from the\n     *      schema of the variable.\n     *\n     * @return {DataModel} Returns a new DataModel instance after performing the groupby.\n     */\n    groupBy (fieldsArr, reducers = {}, config = { saveChild: true }) {\n        const groupByString = `${fieldsArr.join()}`;\n        let params = [this, fieldsArr, reducers];\n        const newDataModel = Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"groupBy\"])(...params);\n\n        if (config.saveChild) {\n            this._children.push(newDataModel);\n            Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"persistDerivation\"])(\n                newDataModel,\n                _constants__WEBPACK_IMPORTED_MODULE_2__[\"DM_DERIVATIVES\"].GROUPBY,\n                { fieldsArr, groupByString, defaultReducer: _utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].defaultReducer() },\n                reducers\n            );\n        }\n\n        newDataModel._parent = this;\n        return newDataModel;\n    }\n\n    /**\n     * Performs sorting operation on the current {@link DataModel} instance according to the specified sorting details.\n     * Like every other operator it doesn't mutate the current DataModel instance on which it was called, instead\n     * returns a new DataModel instance containing the sorted data.\n     *\n     * DataModel support multi level sorting by listing the variables using which sorting needs to be performed and\n     * the type of sorting `ASC` or `DESC`.\n     *\n     * In the following example, data is sorted by `Origin` field in `DESC` order in first level followed by another\n     * level of sorting by `Acceleration` in `ASC` order.\n     *\n     * @example\n     * // here dm is the pre-declared DataModel instance containing the data of 'cars.json' file\n     * let sortedDm = dm.sort([\n     *    [\"Origin\", \"DESC\"]\n     *    [\"Acceleration\"] // Default value is ASC\n     * ]);\n     *\n     * console.log(dm.getData());\n     * console.log(sortedDm.getData());\n     *\n     * // Sort with a custom sorting function\n     * sortedDm = dm.sort([\n     *    [\"Origin\", \"DESC\"]\n     *    [\"Acceleration\", (a, b) => a - b] // Custom sorting function\n     * ]);\n     *\n     * console.log(dm.getData());\n     * console.log(sortedDm.getData());\n     *\n     * @text\n     * DataModel also provides another sorting mechanism out of the box where sort is applied to a variable using\n     * another variable which determines the order.\n     * Like the above DataModel contains three fields `Origin`, `Name` and `Acceleration`. Now, the data in this\n     * model can be sorted by `Origin` field according to the average value of all `Acceleration` for a\n     * particular `Origin` value.\n     *\n     * @example\n     * // here dm is the pre-declared DataModel instance containing the data of 'cars.json' file\n     * const sortedDm = dm.sort([\n     *     ['Origin', ['Acceleration', (a, b) => avg(...a.Acceleration) - avg(...b.Acceleration)]]\n     * ]);\n     *\n     * console.log(dm.getData());\n     * console.log(sortedDm.getData());\n     *\n     * @public\n     *\n     * @param {Array.<Array>} sortingDetails - Sorting details based on which the sorting will be performed.\n     * @return {DataModel} Returns a new instance of DataModel with sorted data.\n     */\n    sort (sortingDetails) {\n        const rawData = this.getData({\n            order: 'row',\n            sort: sortingDetails\n        });\n        const header = rawData.schema.map(field => field.name);\n        const dataInCSVArr = [header].concat(rawData.data);\n\n        const sortedDm = new this.constructor(dataInCSVArr, rawData.schema, { dataFormat: 'DSVArr' });\n        sortedDm._sortingDetails = sortingDetails;\n        return sortedDm;\n    }\n\n    addField (field) {\n        const fieldName = field.fieldName();\n        this._colIdentifier += `,${fieldName}`;\n        const partialFieldspace = this._partialFieldspace;\n\n        if (!partialFieldspace.fieldsObj()[field.fieldName()]) {\n            partialFieldspace.fields.push(field);\n        } else {\n            const fieldIndex = partialFieldspace.fields.findIndex(fieldinst => fieldinst.name === fieldName);\n            fieldIndex >= 0 && (partialFieldspace.fields[fieldIndex] = field);\n        }\n\n        this.__calculateFieldspace().calculateFieldsConfig();\n        return this;\n    }\n\n     /**\n     * Creates a new variable calculated from existing variable. This method expects the defination of the newly created\n     * variable and a function which resolves the value of the new variable from existing variables.\n     *\n     * Can create a new measure based on existing variables\n     * @example\n     *  // DataModel already prepared and assigned to dm vairable;\n     *  const newDm = dataModel.calculateVariable({\n     *      name: 'powerToWeight',\n     *      type: 'measure'\n     *  }, ['horsepower', 'weight_in_lbs', (hp, weight) => hp / weight ]);\n     *\n     *\n     * Can create a new dimension based on existing variables\n     * @example\n     *  // DataModel already prepared and assigned to dm vairable;\n     *  const child = dataModel.calculateVariable(\n     *     {\n     *       name: 'Efficiency',\n     *       type: 'dimension'\n     *     }, ['horsepower', (hp) => {\n     *      if (hp < 80) { return 'low'; },\n     *      else if (hp < 120) { return 'moderate'; }\n     *      else { return 'high' }\n     *  }]);\n     *\n     * @public\n     *\n     * @param {Schema} schema: Schema of newly defined variable\n     * @param {VariableResolver} resolver: Resolver format to resolve the current variable\n     *\n     * @return {DataModel} Instance of DataModel with the new field\n     */\n    calculateVariable (schema, dependency, config = { saveChild: true, replaceVar: false }) {\n        const fieldsConfig = this.getFieldsConfig();\n        const depVars = dependency.slice(0, dependency.length - 1);\n        const retrieveFn = dependency[dependency.length - 1];\n\n        if (fieldsConfig[schema.name] && !config.replaceVar) {\n            throw new Error(`${schema.name} field already exists in model.`);\n        }\n        const depFieldIndices = depVars.map((field) => {\n            const fieldSpec = fieldsConfig[field];\n            if (!fieldSpec) {\n                // @todo dont throw error here, use warning in production mode\n                throw new Error(`${field} is not a valid column name.`);\n            }\n            return fieldSpec.index;\n        });\n\n        let clone = this.clone();\n\n        const fs = clone.getFieldspace().fields;\n        const suppliedFields = depFieldIndices.map(idx => fs[idx]);\n\n        const computedValues = [];\n        Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(clone._rowDiffset, (i) => {\n            const fieldsData = suppliedFields.map(field => field.data[i]);\n            computedValues[i] = retrieveFn(...fieldsData, i, fs);\n        });\n        const [field] = Object(_field_creator__WEBPACK_IMPORTED_MODULE_7__[\"default\"])([computedValues], [schema], [schema.name]);\n        clone.addField(field);\n\n        if (config.saveChild) {\n            Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"persistDerivation\"])(clone, _constants__WEBPACK_IMPORTED_MODULE_2__[\"DM_DERIVATIVES\"].CAL_VAR, { config: schema, fields: depVars }, retrieveFn);\n        }\n\n        return clone;\n    }\n\n    /**\n     * Propagates changes across all the connected DataModel instances.\n     *\n     * @param {Array} identifiers - A list of identifiers that were interacted with.\n     * @param {Object} payload - The interaction specific details.\n     *\n     * @return {DataModel} DataModel instance.\n     */\n    propagate (identifiers, payload, config = {}) {\n        const isMutableAction = config.isMutableAction;\n        const propagationSourceId = config.sourceId;\n        const rootModel = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"getRootDataModel\"])(this);\n        const propagationNameSpace = rootModel._propagationNameSpace;\n        const rootGroupByModel = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"getRootGroupByModel\"])(this);\n        const rootModels = {\n            groupByModel: rootGroupByModel,\n            model: rootModel\n        };\n\n        Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"propagateToAllDataModels\"])(identifiers, rootModels, {\n            propagationNameSpace,\n            payload,\n            propagationSourceId\n        });\n\n        if (isMutableAction) {\n            Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"propagateImmutableActions\"])(propagationNameSpace, rootModels, propagationSourceId);\n        }\n        return this;\n    }\n\n    addToPropNamespace (sourceId, config = {}) {\n        let sourceNamespace;\n        const actionName = config.actionName;\n        const payload = config.payload;\n        const isMutableAction = config.isMutableAction;\n        const rootModel = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"getRootDataModel\"])(this);\n        const propagationNameSpace = rootModel._propagationNameSpace;\n        const criteria = config.criteria;\n\n        if (isMutableAction) {\n            !propagationNameSpace.mutableActions[sourceId] && (propagationNameSpace.mutableActions[sourceId] = {});\n            sourceNamespace = propagationNameSpace.mutableActions[sourceId];\n        } else {\n            !propagationNameSpace.immutableActions[sourceId] && (propagationNameSpace.immutableActions[sourceId] = {});\n            sourceNamespace = propagationNameSpace.immutableActions[sourceId];\n        }\n\n        if (criteria === null) {\n            delete sourceNamespace[actionName];\n        } else {\n            sourceNamespace[actionName] = {\n                criteria,\n                payload\n            };\n        }\n\n        return this;\n    }\n\n    /**\n     * Associates a callback with an event name.\n     *\n     * @param {string} eventName - The name of the event.\n     * @param {Function} callback - The callback to invoke.\n     * @return {DataModel} Returns this current DataModel instance itself.\n     */\n    on (eventName, callback) {\n        switch (eventName) {\n        case _constants__WEBPACK_IMPORTED_MODULE_2__[\"PROPAGATION\"]:\n            this._onPropagation.push(callback);\n            break;\n        }\n        return this;\n    }\n\n    /**\n     * Unsubscribes the callbacks for the provided event name.\n     *\n     * @param {string} eventName - The name of the event to unsubscribe.\n     * @return {DataModel} Returns the current DataModel instance itself.\n     */\n    unsubscribe (eventName) {\n        switch (eventName) {\n        case _constants__WEBPACK_IMPORTED_MODULE_2__[\"PROPAGATION\"]:\n            this._onPropagation = [];\n            break;\n\n        }\n        return this;\n    }\n\n    /**\n     * This method is used to invoke the method associated with propagation.\n     *\n     * @param {Object} payload The interaction payload.\n     * @param {DataModel} identifiers The propagated DataModel.\n     * @memberof DataModel\n     */\n    handlePropagation (payload) {\n        let propListeners = this._onPropagation;\n        propListeners.forEach(fn => fn.call(this, payload));\n    }\n\n    /**\n     * Perfoms binning on a measure field based on a binning configuration. This method does not aggregate the number of\n     * rows present in DataModel instance after binning, it just adds a new field with the binned value. Refer binning\n     * {@link example_of_binning | example} to have a intuition of what binning is and the use case.\n     *\n     * Binning can be configured by\n     * - providing custom bin configuration with non uniform buckets\n     * - providing bin count\n     * - providing each bin size\n     *\n     * When custom buckets are provided as part of binning configuration\n     * @example\n     *  // DataModel already prepared and assigned to dm vairable\n     *  const buckets = {\n     *      start: 30\n     *      stops: [80, 100, 110]\n     *  };\n     *  const config = { buckets, name: 'binnedHP' }\n     *  const binDM = dataModel.bin('horsepower', config);\\\n     *\n     * @text\n     * When `binCount` is defined as part of binning configuration\n     * @example\n     *  // DataModel already prepared and assigned to dm vairable\n     *  const config = { binCount: 5, name: 'binnedHP' }\n     *  const binDM = dataModel.bin('horsepower', config);\n     *\n     * @text\n     * When `binSize` is defined as part of binning configuration\n     * @example\n     *  // DataModel already prepared and assigned to dm vairable\n     *  const config = { binSize: 200, name: 'binnedHorsepower' }\n     *  const binDM = dataModel.bin('horsepower', config);\n     *\n     * @public\n     *\n     * @param {String} name Name of measure which will be used to create bin\n     * @param {Object} config Config required for bin creation\n     * @param {Array.<Number>} config.bucketObj.stops Defination of bucket ranges. Two subsequent number from arrays\n     *      are picked and a range is created. The first number from range is inclusive and the second number from range\n     *      is exclusive.\n     * @param {Number} [config.bucketObj.startAt] Force the start of the bin from a particular number.\n     *      If not mentioned, the start of the bin or the lower domain of the data if stops is not mentioned, else its\n     *      the first value of the stop.\n     * @param {Number} config.binSize Bucket size for each bin\n     * @param {Number} config.binCount Number of bins which will be created\n     * @param {String} config.name Name of the new binned field to be created\n     *\n     * @returns {DataModel} Instance of new DataModel with the newly created bin.\n     */\n    bin (measureName, config = { }) {\n        const clone = this.clone();\n        const binFieldName = config.name || `${measureName}_binned`;\n        if (this.getFieldsConfig()[binFieldName] || !this.getFieldsConfig()[measureName]) {\n            throw new Error(`Field ${measureName} already exists.`);\n        }\n        const field = this._partialFieldspace.fields.find(currfield => currfield.name === measureName);\n        const dataSet = Object(_operator_bucket_creator__WEBPACK_IMPORTED_MODULE_4__[\"createBinnedFieldData\"])(field, this._rowDiffset, config);\n        const binField = Object(_field_creator__WEBPACK_IMPORTED_MODULE_7__[\"default\"])([dataSet.data], [\n            {\n                name: binFieldName,\n                type: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE,\n                subtype: 'discrete', // @todo : DimensionSubtype\n                bins: {\n                    range: dataSet.range,\n                    mid: dataSet.mid\n                }\n            }], [binFieldName])[0];\n        clone.addField(binField);\n        Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"persistDerivation\"])(clone, _constants__WEBPACK_IMPORTED_MODULE_2__[\"DM_DERIVATIVES\"].BIN, { measureName, config, binFieldName }, null);\n        return clone;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataModel);\n\n\n/***/ }),\n\n/***/ \"./src/default-config.js\":\n/*!*******************************!*\\\n  !*** ./src/default-config.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    dataFormat: _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].AUTO\n});\n\n\n/***/ }),\n\n/***/ \"./src/enums/data-format.js\":\n/*!**********************************!*\\\n  !*** ./src/enums/data-format.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * DataFormat Enum defines the format of the input data.\n * Based on the format of the data the respective adapter is loaded.\n *\n * @readonly\n * @enum {string}\n */\nconst DataFormat = {\n    FLAT_JSON: 'FlatJSON',\n    DSV_STR: 'DSVStr',\n    DSV_ARR: 'DSVArr',\n    AUTO: 'Auto'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataFormat);\n\n\n/***/ }),\n\n/***/ \"./src/enums/dimension-subtype.js\":\n/*!****************************************!*\\\n  !*** ./src/enums/dimension-subtype.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * DimensionSubtype enum defines the sub types of the Dimensional Field.\n *\n * @readonly\n * @enum {string}\n */\nconst DimensionSubtype = {\n    CATEGORICAL: 'categorical',\n    TEMPORAL: 'temporal',\n    GEO: 'geo'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DimensionSubtype);\n\n\n/***/ }),\n\n/***/ \"./src/enums/field-type.js\":\n/*!*********************************!*\\\n  !*** ./src/enums/field-type.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * FieldType enum defines the high level field based on which visuals are controlled.\n * Measure in a high level is numeric field and Dimension in a high level is string field.\n *\n * @readonly\n * @enum {string}\n */\nconst FieldType = {\n    MEASURE: 'measure',\n    DIMENSION: 'dimension'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FieldType);\n\n\n/***/ }),\n\n/***/ \"./src/enums/filtering-mode.js\":\n/*!*************************************!*\\\n  !*** ./src/enums/filtering-mode.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Filtering mode enum defines the filering modes of DataModel.\n *\n * @readonly\n * @enum {string}\n */\nconst FilteringMode = {\n    NORMAL: 'normal',\n    INVERSE: 'inverse',\n    ALL: 'all'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FilteringMode);\n\n\n/***/ }),\n\n/***/ \"./src/enums/index.js\":\n/*!****************************!*\\\n  !*** ./src/enums/index.js ***!\n  \\****************************/\n/*! exports provided: DataFormat, DimensionSubtype, MeasureSubtype, FieldType, FilteringMode */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _data_format__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-format */ \"./src/enums/data-format.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataFormat\", function() { return _data_format__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _dimension_subtype__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension-subtype */ \"./src/enums/dimension-subtype.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DimensionSubtype\", function() { return _dimension_subtype__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _measure_subtype__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./measure-subtype */ \"./src/enums/measure-subtype.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MeasureSubtype\", function() { return _measure_subtype__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _field_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-type */ \"./src/enums/field-type.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FieldType\", function() { return _field_type__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _filtering_mode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./filtering-mode */ \"./src/enums/filtering-mode.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FilteringMode\", function() { return _filtering_mode__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/**\n * FilteringMode determines if resultant DataModel should be created from selection set or rejection set.\n *\n * The following modes are available\n * - `NORMAL`: Only entries from selection set are included in the resulatant DataModel instance\n * - `INVERSE`: Only entries from rejection set are included in the resulatant DataModel instance\n * - ALL: Both the entries from selection and rejection set are returned in two different DataModel instance\n */\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/enums/measure-subtype.js\":\n/*!**************************************!*\\\n  !*** ./src/enums/measure-subtype.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * MeasureSubtype enum defines the sub types of the Dimensional Field.\n *\n * @readonly\n * @enum {string}\n */\nconst MeasureSubtype = {\n    DISCRETE: 'discrete'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MeasureSubtype);\n\n\n/***/ }),\n\n/***/ \"./src/export.js\":\n/*!***********************!*\\\n  !*** ./src/export.js ***!\n  \\***********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _datamodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./datamodel */ \"./src/datamodel.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stats */ \"./src/stats/index.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_6___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./package.json\", 1);\n\n\n\n\n\n\n\n\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Operators = {\n    compose: _operator__WEBPACK_IMPORTED_MODULE_1__[\"compose\"],\n    bin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"bin\"],\n    select: _operator__WEBPACK_IMPORTED_MODULE_1__[\"select\"],\n    project: _operator__WEBPACK_IMPORTED_MODULE_1__[\"project\"],\n    groupBy: _operator__WEBPACK_IMPORTED_MODULE_1__[\"groupby\"],\n    calculateVariable: _operator__WEBPACK_IMPORTED_MODULE_1__[\"calculateVariable\"],\n    sort: _operator__WEBPACK_IMPORTED_MODULE_1__[\"sort\"],\n    crossProduct: _operator__WEBPACK_IMPORTED_MODULE_1__[\"crossProduct\"],\n    difference: _operator__WEBPACK_IMPORTED_MODULE_1__[\"difference\"],\n    naturalJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"naturalJoin\"],\n    leftOuterJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"leftOuterJoin\"],\n    rightOuterJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"rightOuterJoin\"],\n    fullOuterJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"fullOuterJoin\"],\n    union: _operator__WEBPACK_IMPORTED_MODULE_1__[\"union\"]\n};\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Stats = _stats__WEBPACK_IMPORTED_MODULE_2__;\nObject.assign(_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _enums__WEBPACK_IMPORTED_MODULE_3__);\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].DateTimeFormatter = _utils__WEBPACK_IMPORTED_MODULE_4__[\"DateTimeFormatter\"];\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].DataFormat = _constants__WEBPACK_IMPORTED_MODULE_5__[\"DataFormat\"];\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].FilteringMode = _constants__WEBPACK_IMPORTED_MODULE_5__[\"FilteringMode\"];\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].version = _package_json__WEBPACK_IMPORTED_MODULE_6__.version;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/***/ }),\n\n/***/ \"./src/field-creator.js\":\n/*!******************************!*\\\n  !*** ./src/field-creator.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _fields__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields */ \"./src/fields/index.js\");\n\n\n\n/**\n * Creates a field instance according to the provided data and schema.\n *\n * @todo Add logic for GEO dimension subtype.\n *\n * @param {Array} data - The field data array.\n * @param {Object} schema - The field schema object.\n * @return {Field} Returns the newly created field instance.\n */\nfunction createUnitField (data, schema) {\n    switch (schema.type) {\n    case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE:\n        switch (schema.subtype) {\n        case 'discrete':\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"DiscreteMeasure\"](schema.name, data, schema, schema.bins);\n        default:\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Measure\"](schema.name, data, schema);\n        }\n    case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION:\n    default:\n        switch (schema.subtype) {\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].CATEGORICAL:\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](schema.name, data, schema);\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL:\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"DateTime\"](schema.name, data, schema);\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].GEO:\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](schema.name, data, schema);\n        default:\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](schema.name, data, schema);\n        }\n    }\n}\n\n/**\n * Creates the field instances with input data and schema.\n *\n * @param {Array} dataColumn - The data array for fields.\n * @param {Array} schema - The schema array for fields.\n * @param {Array} headers - The array of header names.\n * @return {Array.<Field>} Returns an array of newly created field instances.\n */\nfunction createFields (dataColumn, schema, headers) {\n    const headersObj = {};\n\n    if (!(headers && headers.length)) {\n        headers = schema.map(item => item.name);\n    }\n\n    headers.forEach((header, i) => {\n        headersObj[header] = i;\n    });\n\n    return schema.map(item => createUnitField(dataColumn[headersObj[item.name]], item));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (createFields);\n\n\n/***/ }),\n\n/***/ \"./src/field-store.js\":\n/*!****************************!*\\\n  !*** ./src/field-store.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n\n\n\nconst fieldStore = {\n    data: {},\n\n    createNamespace (fieldArr, name) {\n        const dataId = name || Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUniqueId\"])();\n        this.data[dataId] = {\n            name: dataId,\n            fields: fieldArr,\n            fieldsObj () {\n                const retObj = {};\n                this.fields.forEach((field) => {\n                    retObj[field.name] = field;\n                });\n                return retObj;\n            },\n            getMeasure () {\n                const retObj = {};\n                this.fields.forEach((field) => {\n                    if (field.schema.type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE) {\n                        retObj[field.name] = field;\n                    }\n                });\n                return retObj;\n            },\n            getDimension () {\n                const retObj = {};\n                this.fields.forEach((field) => {\n                    if (field.schema.type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION) {\n                        retObj[field.name] = field;\n                    }\n                });\n                return retObj;\n            },\n        };\n        return this.data[dataId];\n    },\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (fieldStore);\n\n\n/***/ }),\n\n/***/ \"./src/fields/categorical.js\":\n/*!***********************************!*\\\n  !*** ./src/fields/categorical.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension */ \"./src/fields/dimension.js\");\n\n\n\n/**\n * Represents categorical field subtype.\n *\n * @extends Dimension\n */\nclass Categorical extends _dimension__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n\n    /**\n     * Creates new Categorical field instance.\n     *\n     * @param {string} name - The name of the field.\n     * @param {Array} data - An array containing the field data.\n     * @param {Object} schema - The schema for the field.\n     */\n    constructor(name, data, schema) {\n        super(name, data, schema);\n        this.subtype = _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].CATEGORICAL;\n    }\n\n    /**\n     * Getter for subType value of the field.\n     *\n    * @return {string} Returns subType of the field.\n    */\n    subType() {\n        return this.subtype;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Categorical);\n\n\n/***/ }),\n\n/***/ \"./src/fields/datetime.js\":\n/*!********************************!*\\\n  !*** ./src/fields/datetime.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension */ \"./src/fields/dimension.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n\n\n/**\n * Represents datetime field subtype.\n *\n * @extends Dimension\n */\nclass DateTime extends _dimension__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n\n    /**\n     * Creates new DateTime field instance.\n     *\n     * @param {string} name - The name of the field.\n     * @param {Array} data - An array containing the field data.\n     * @param {Object} schema - The schema for the field.\n     */\n    constructor(name, data, schema) {\n        super(name, data, schema);\n        this.subtype = _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL;\n        this.minDiff = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getMinDiff\"])(this.data);\n    }\n\n    /**\n     * Getter for subType value of the field.\n     *\n    * @return {string} Returns subType of the field.\n    */\n    subType() {\n        return this.subtype;\n    }\n\n    getMinDiff () {\n        return this.minDiff;\n    }\n    /**\n    * A hook which is called for every entry(cell) of the column.\n    *\n    * @param {*} val - The current entry present in the column while iteration.\n    * @return {number} Returns the total timestamps in millisecond.\n    */\n    parse(val) {\n        if (this.schema.format) {\n            this._dtf = this._dtf || new _utils__WEBPACK_IMPORTED_MODULE_2__[\"DateTimeFormatter\"](this.schema.format);\n            return this._dtf.getNativeDate(val).getTime();\n        }\n\n        // If format is not present then it means the value is such that the it could be directly passed to date\n        // constructor\n        return +new Date(val);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DateTime);\n\n\n/***/ }),\n\n/***/ \"./src/fields/dimension.js\":\n/*!*********************************!*\\\n  !*** ./src/fields/dimension.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _partial_field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./partial-field */ \"./src/fields/partial-field.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n/**\n * Represents dimension field type.\n *\n * @extends PartialField\n */\nclass Dimension extends _partial_field__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    /**\n     * Returns the domain for the dimension field.\n     *\n     * @override\n     * @return {Array} Returns the unique values from dimension values.\n     */\n    domain() {\n        return Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"uniqueValues\"])(this.data);\n    }\n\n    /**\n     * A hook which is called for every entry(cell) of the column.\n     *\n     * @todo Fix the null data e.g. undefined or null etc.\n     *\n     * @param {*} val - The current entry present in the column while iteration.\n     * @return {string} Returns the string representation of the value.\n     */\n    parse (val) {\n        val = (val === undefined || val === null) ? '' : val.toString();\n        return val.trim();\n    }\n\n    /**\n     * Saves the cardinality of the dimensional values after parsing the data.\n     *\n     * @param {string} val - The parsed value.\n     * @return {string} Returns the input val.\n     */\n    parsed (val) {\n        this._unique = this._unique || {};\n        const unique = this._unique;\n        if (val in unique) {\n            unique[val]++;\n        } else {\n            unique[val] = 1;\n        }\n        return val;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dimension);\n\n\n/***/ }),\n\n/***/ \"./src/fields/discreteMeasure.js\":\n/*!***************************************!*\\\n  !*** ./src/fields/discreteMeasure.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _measure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./measure */ \"./src/fields/measure.js\");\n\n\n/**\n * Represents categorical field subtype.\n *\n * @extends Measure\n */\nclass DiscreteMeasure extends _measure__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(name, data, schema, bin) {\n        super(name, data, schema);\n        this.bin = bin;\n        this.subtype = 'discrete';\n    }\n\n    /**\n     * A hook which is called for every entry(cell) of the column.\n     *\n     * @todo Fix the null data e.g. undefined or null etc.\n     *\n     * @param {*} val - The current entry present in the column while iteration.\n     * @return {string} Returns the string representation of the value.\n     */\n    parse (val) {\n        val = (val === undefined || val === null) ? '' : val.toString();\n        return val.trim();\n    }\n\n    bins() {\n        return this.bin;\n    }\n    subType() {\n        return this.subtype;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DiscreteMeasure);\n\n\n/***/ }),\n\n/***/ \"./src/fields/field.js\":\n/*!*****************************!*\\\n  !*** ./src/fields/field.js ***!\n  \\*****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Field; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../operator/row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n\n\n\n/**\n * In {@link DataModel}, every tabular data consists of column, a column is stored as field.\n * Field contains all the data for a given column in an array.\n *\n * Each record consists of several fields; the fields of all records form the columns.\n * Examples of fields: name, gender, sex etc.\n *\n * In DataModel, each field can have multiple attributes which describes its data and behaviour.\n * A field can have two types of data: Measure and Dimension.\n *\n * A Dimension Field is the context on which a data is categorized and the measure is the numerical values that\n * quantify the data set.\n * In short a dimension is the lens through which you are looking at your measure data.\n *\n * Refer to {@link Schema} to get info about possible field attributes.\n *\n * @public\n * @class\n */\nclass Field {\n    constructor(partialFeild, rowDiff) {\n        this._ref = partialFeild;\n        this._rowDiff = rowDiff;\n    }\n\n    sanitize () {\n        return this._ref.sanitize();\n    }\n\n    parsed (val) {\n        return this._ref.parsed(val);\n    }\n\n    domain() {\n        let data = [];\n        let domain = null;\n        data = this.getData();\n        if (this._ref.fieldType === 'dimension' && this._ref.subType() !== _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL) {\n            domain = [...new Set(data)];\n        } else {\n            let minD = Math.min.apply(null, data);\n            let maxD = Math.max.apply(null, data);\n            domain = [minD, maxD];\n        }\n\n        return domain;\n    }\n\n    parse (val) {\n        return this._ref.parse(val);\n    }\n\n\n    clone(datas) {\n        return this._ref.clone(datas);\n    }\n\n    fieldName() {\n        return this._ref.fieldName();\n    }\n\n    type() {\n        return this._ref.type();\n    }\n\n    description() {\n        return this._ref.description();\n    }\n\n    get name() {\n        return this._ref.name;\n    }\n\n    // set name(name) {\n    //     this._ref.name = name;\n    // }\n\n    get schema() {\n        return this._ref.schema;\n    }\n\n    // set schema(schema) {\n    //     this._ref.schema = schema;\n    // }\n\n    get data() {\n        return this._ref.data;\n    }\n\n    // set data(schema) {\n    //     throw new Error('Not yet implemented!');\n    // }\n\n    subType() {\n        return this._ref.subType();\n    }\n\n    getMinDiff () {\n        return this._ref.getMinDiff();\n    }\n\n    /**\n     * Getter for unit value of the field.\n     *\n     * @return {string} Returns unit of the field.\n     */\n    unit() {\n        return this._ref.unit();\n    }\n\n    /**\n     * Getter for scale value of the field.\n     *\n     * @return {string} Returns scale of the field.\n     */\n    scale() {\n        return this._ref.scale();\n    }\n\n    /**\n     * Getter for aggregation function of the field.\n     *\n     * @return {Function} Returns aggregation function of the field.\n     */\n    defAggFn() {\n        return this._ref.defAggFn();\n    }\n\n    getData() {\n        let data = [];\n        Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__[\"rowDiffsetIterator\"])(this._rowDiff, (i) => {\n            data.push(this._ref.data[i]);\n        });\n        return data;\n    }\n\n    bins() {\n        return this._ref.bins();\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/fields/index.js\":\n/*!*****************************!*\\\n  !*** ./src/fields/index.js ***!\n  \\*****************************/\n/*! exports provided: Measure, Dimension, Categorical, DateTime, DiscreteMeasure */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _measure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./measure */ \"./src/fields/measure.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Measure\", function() { return _measure__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension */ \"./src/fields/dimension.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Dimension\", function() { return _dimension__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _categorical__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./categorical */ \"./src/fields/categorical.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Categorical\", function() { return _categorical__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _datetime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./datetime */ \"./src/fields/datetime.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DateTime\", function() { return _datetime__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _discreteMeasure__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./discreteMeasure */ \"./src/fields/discreteMeasure.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DiscreteMeasure\", function() { return _discreteMeasure__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/fields/measure.js\":\n/*!*******************************!*\\\n  !*** ./src/fields/measure.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _partial_field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./partial-field */ \"./src/fields/partial-field.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _operator_group_by_function__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operator/group-by-function */ \"./src/operator/group-by-function.js\");\n\n\n\n\n/**\n * Represents measure field type.\n *\n * @extends PartialField\n */\nclass Measure extends _partial_field__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    /**\n     * Creates new Measure field instance.\n     *\n     * @param {string} name - The name of the field.\n     * @param {Array} data - An array containing the field data.\n     * @param {Object} schema - The schema for the field.\n     */\n    constructor(name, data, schema) {\n        super(name, data, schema);\n        this.fieldUnit = schema.unit;\n        this.fieldScale = schema.scale;\n        this.fieldDefAggFn = schema.defAggFn || _operator_group_by_function__WEBPACK_IMPORTED_MODULE_2__[\"defaultReducerName\"];\n        this.fieldNumberformat = schema.numberFormat instanceof Function ? schema.numberFormat : _utils__WEBPACK_IMPORTED_MODULE_1__[\"formatNumber\"];\n    }\n\n    /**\n     * Returns the domain for the measure field.\n     *\n     * @override\n     * @return {Array} Returns min and max values from measure values.\n     */\n    domain() {\n        return Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"generateMeasureDomain\"])(this.data);\n    }\n\n    /**\n     * A hook which is called for every entry(cell) of the column.\n     *\n     * @todo Fix the null data e.g. NaN value.\n     *\n     * @param {*} val - The current entry present in the column while iteration.\n     * @return {number | null} Returns the parsed number value of content of cell or null.\n     */\n    parse (val) {\n        val = parseFloat(val, 10);\n        return Number.isNaN(val) ? null : val;\n    }\n\n    /**\n     * Getter for unit value of the field.\n     *\n     * @return {string} Returns unit of the field.\n     */\n    unit() {\n        return this.fieldUnit;\n    }\n\n    /**\n     * Getter for scale value of the field.\n     *\n     * @return {string} Returns scale of the field.\n     */\n    scale() {\n        return this.fieldScale;\n    }\n\n    /**\n     * Getter for number format value of the field.\n     *\n     * @return {string} Returns number format of the field.\n     */\n    numberFormat() {\n        const formatter = this.fieldNumberformat;\n        return val => formatter(val);\n    }\n\n    /**\n     * Getter for aggregation function of the field.\n     *\n     * @return {Function} Returns aggregation function of the field.\n     */\n    defAggFn() {\n        return this.fieldDefAggFn;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Measure);\n\n\n/***/ }),\n\n/***/ \"./src/fields/partial-field.js\":\n/*!*************************************!*\\\n  !*** ./src/fields/partial-field.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n /**\n  * The base class for every field type.\n  * It provides some common functionalities.\n  */\nclass PartialField {\n\n    /**\n     * Sets basic setups to each Field instance.\n     *\n     * @param {string} name - The name or identifier of the field.\n     * @param {Array} data - The data array.\n     * @param {Object} schema - The schema of the data type.\n     */\n    constructor(name, data, schema) {\n        this.name = name;\n        this.data = data || [];\n        this.schema = schema;\n        this.fieldDescription = schema.description;\n        this.fieldType = schema.type;\n        this.sanitize();\n    }\n\n    /**\n     * Sanitizes the field data.\n     *\n     * @return {PartialField} - Returns the instance of the current context for chaining.\n     */\n    sanitize () {\n        this.data = this.data.map(d => this.parsed(this.parse(d)));\n        return this;\n    }\n\n    /**\n     * The post parsing hook for field instance.\n     *\n     * @param {*} val - The value to be parsed.\n     * @return {*} Returns the parsed value.\n     */\n    parsed (val) {\n        return val;\n    }\n\n    /**\n     * Generates and returns the domain for the field.\n     *\n     * @abstract\n     */\n    domain() {\n        throw new Error('Not yet implemented!');\n    }\n\n    subType() {\n        return null;\n    }\n\n\n    /**\n     * Parse the input value before using.\n     *\n     * @abstract\n     */\n    parse () {\n        throw new Error('Not yet implemented!');\n    }\n\n    /**\n     * Creates brand new copy of current field instance. To avoid optimization issue\n     * pass the required data otherwise current data would be copied which might\n     * be expensive.\n     *\n     * @param {Array} data - The input data, if provided current data will not be cloned.\n     * @return {PartialField} Returns the cloned field instance.\n     */\n    clone(data) {\n        data = data || Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"extend2\"])([], this.data);\n        const schema = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"extend2\"])({}, this.schema);\n        // Here call the constructor to create an instance of\n        // the current field class type e.g. Measure, Dimension etc.\n        return new this.constructor(this.name, data, schema);\n    }\n\n    /**\n     * @return {string} Name of the field\n     */\n    fieldName() {\n        return this.name;\n    }\n\n     /**\n     * @return {string} Type of the field\n     */\n    type() {\n        return this.fieldType;\n    }\n\n    /**\n     * @return {description} Name of the field\n     */\n    description() {\n        return this.fieldDescription;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PartialField);\n\n\n/***/ }),\n\n/***/ \"./src/helper.js\":\n/*!***********************!*\\\n  !*** ./src/helper.js ***!\n  \\***********************/\n/*! exports provided: prepareJoinData, updateFields, persistDerivation, selectHelper, filterPropagationModel, cloneWithSelect, cloneWithProject, updateData, fieldInSchema, propagateIdentifiers, getRootGroupByModel, getRootDataModel, propagateToAllDataModels, propagateImmutableActions */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareJoinData\", function() { return prepareJoinData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateFields\", function() { return updateFields; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"persistDerivation\", function() { return persistDerivation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectHelper\", function() { return selectHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterPropagationModel\", function() { return filterPropagationModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneWithSelect\", function() { return cloneWithSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneWithProject\", function() { return cloneWithProject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateData\", function() { return updateData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fieldInSchema\", function() { return fieldInSchema; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propagateIdentifiers\", function() { return propagateIdentifiers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootGroupByModel\", function() { return getRootGroupByModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootDataModel\", function() { return getRootDataModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propagateToAllDataModels\", function() { return propagateToAllDataModels; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propagateImmutableActions\", function() { return propagateImmutableActions; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _fields_field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields/field */ \"./src/fields/field.js\");\n/* harmony import */ var _field_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./field-store */ \"./src/field-store.js\");\n/* harmony import */ var _value__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./value */ \"./src/value.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n/* harmony import */ var _field_creator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./field-creator */ \"./src/field-creator.js\");\n/* harmony import */ var _default_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./default-config */ \"./src/default-config.js\");\n/* harmony import */ var _converter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./converter */ \"./src/converter/index.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * Prepares the selection data.\n */\nfunction prepareSelectionData (fields, i) {\n    const resp = {};\n    for (let field of fields) {\n        resp[field.name] = new _value__WEBPACK_IMPORTED_MODULE_3__[\"default\"](field.data[i], field);\n    }\n    return resp;\n}\n\nfunction prepareJoinData (fields) {\n    const resp = {};\n    Object.keys(fields).forEach((key) => { resp[key] = new _value__WEBPACK_IMPORTED_MODULE_3__[\"default\"](fields[key], key); });\n    return resp;\n}\n\nconst updateFields = ([rowDiffset, colIdentifier], partialFieldspace, fieldStoreName) => {\n    let collID = colIdentifier.length ? colIdentifier.split(',') : [];\n    let partialFieldMap = partialFieldspace.fieldsObj();\n    let newFields = collID.map(coll => new _fields_field__WEBPACK_IMPORTED_MODULE_1__[\"default\"](partialFieldMap[coll], rowDiffset));\n    return _field_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createNamespace(newFields, fieldStoreName);\n};\n\nconst persistDerivation = (model, operation, config = {}, criteriaFn) => {\n    let derivative;\n    if (operation !== _constants__WEBPACK_IMPORTED_MODULE_5__[\"DM_DERIVATIVES\"].COMPOSE) {\n        derivative = {\n            op: operation,\n            meta: config,\n            criteria: criteriaFn\n        };\n        model._derivation.push(derivative);\n    }\n    else {\n        derivative = [...criteriaFn];\n        model._derivation.length = 0;\n        model._derivation.push(...derivative);\n    }\n};\n\nconst selectHelper = (rowDiffset, fields, selectFn, config) => {\n    const newRowDiffSet = [];\n    let lastInsertedValue = -1;\n    let { mode } = config;\n    let li;\n    let checker = index => selectFn(prepareSelectionData(fields, index), index);\n    if (mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE) {\n        checker = index => !selectFn(prepareSelectionData(fields, index));\n    }\n    Object(_operator__WEBPACK_IMPORTED_MODULE_4__[\"rowDiffsetIterator\"])(rowDiffset, (i) => {\n        if (checker(i)) {\n            if (lastInsertedValue !== -1 && i === (lastInsertedValue + 1)) {\n                li = newRowDiffSet.length - 1;\n                newRowDiffSet[li] = `${newRowDiffSet[li].split('-')[0]}-${i}`;\n            } else {\n                newRowDiffSet.push(`${i}`);\n            }\n            lastInsertedValue = i;\n        }\n    });\n    return newRowDiffSet.join(',');\n};\n\nconst filterPropagationModel = (model, propModels, config = {}) => {\n    const operation = config.operation || _constants__WEBPACK_IMPORTED_MODULE_5__[\"LOGICAL_OPERATORS\"].AND;\n    const filterByMeasure = config.filterByMeasure || false;\n    let fns = [];\n    if (propModels === null) {\n        fns = [() => false];\n    } else {\n        fns = propModels.map(propModel => ((dataModel) => {\n            const dataObj = dataModel.getData();\n            const schema = dataObj.schema;\n            const fieldsConfig = dataModel.getFieldsConfig();\n            const fieldsSpace = dataModel.getFieldspace().fieldsObj();\n            const data = dataObj.data;\n            const domain = Object.values(fieldsConfig).reduce((acc, v) => {\n                acc[v.def.name] = fieldsSpace[v.def.name].domain();\n                return acc;\n            }, {});\n\n            return (fields) => {\n                const include = !data.length ? false : data.some(row => schema.every((propField) => {\n                    if (!(propField.name in fields)) {\n                        return true;\n                    }\n                    const value = fields[propField.name].valueOf();\n                    if (filterByMeasure && propField.type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE) {\n                        return value >= domain[propField.name][0] && value <= domain[propField.name][1];\n                    }\n\n                    if (propField.type !== _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION) {\n                        return true;\n                    }\n                    const idx = fieldsConfig[propField.name].index;\n                    return row[idx] === fields[propField.name].valueOf();\n                }));\n                return include;\n            };\n        })(propModel));\n    }\n\n    let filteredModel;\n    if (operation === _constants__WEBPACK_IMPORTED_MODULE_5__[\"LOGICAL_OPERATORS\"].AND) {\n        const clonedModel = model.clone(false, false);\n        filteredModel = clonedModel.select(fields => fns.every(fn => fn(fields)), {\n            saveChild: false,\n            mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL\n        });\n    } else {\n        filteredModel = model.clone(false, false).select(fields => fns.some(fn => fn(fields)), {\n            mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL,\n            saveChild: false\n        });\n    }\n\n    return filteredModel;\n};\n\nconst cloneWithSelect = (sourceDm, selectFn, selectConfig, cloneConfig) => {\n    const cloned = sourceDm.clone(cloneConfig.saveChild);\n    const rowDiffset = selectHelper(\n        cloned._rowDiffset,\n        cloned.getPartialFieldspace().fields,\n        selectFn,\n        selectConfig\n    );\n    cloned._rowDiffset = rowDiffset;\n    cloned.__calculateFieldspace().calculateFieldsConfig();\n    // Store reference to child model and selector function\n    if (cloneConfig.saveChild) {\n        persistDerivation(cloned, _constants__WEBPACK_IMPORTED_MODULE_5__[\"DM_DERIVATIVES\"].SELECT, { config: selectConfig }, selectFn);\n    }\n\n    return cloned;\n};\n\nconst cloneWithProject = (sourceDm, projField, config, allFields) => {\n    const cloned = sourceDm.clone(config.saveChild);\n    let projectionSet = projField;\n    if (config.mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE) {\n        projectionSet = allFields.filter(fieldName => projField.indexOf(fieldName) === -1);\n    }\n    // cloned._colIdentifier = sourceDm._colIdentifier.split(',')\n    //                         .filter(coll => projectionSet.indexOf(coll) !== -1).join();\n    cloned._colIdentifier = projectionSet.join(',');\n    cloned.__calculateFieldspace().calculateFieldsConfig();\n    // Store reference to child model and projection fields\n    if (config.saveChild) {\n        persistDerivation(\n            cloned,\n            _constants__WEBPACK_IMPORTED_MODULE_5__[\"DM_DERIVATIVES\"].PROJECT,\n            { projField, config, actualProjField: projectionSet },\n            null\n        );\n    }\n\n    return cloned;\n};\n\nconst updateData = (relation, data, schema, options) => {\n    options = Object.assign(Object.assign({}, _default_config__WEBPACK_IMPORTED_MODULE_7__[\"default\"]), options);\n    const converterFn = _converter__WEBPACK_IMPORTED_MODULE_8__[options.dataFormat];\n\n    if (!(converterFn && typeof converterFn === 'function')) {\n        throw new Error(`No converter function found for ${options.dataFormat} format`);\n    }\n\n    const [header, formattedData] = converterFn(data, options);\n    const fieldArr = Object(_field_creator__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(formattedData, schema, header);\n\n    // This will create a new fieldStore with the fields\n    const nameSpace = _field_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createNamespace(fieldArr, options.name);\n    relation._partialFieldspace = nameSpace;\n    // If data is provided create the default colIdentifier and rowDiffset\n    relation._rowDiffset = formattedData.length && formattedData[0].length ? `0-${formattedData[0].length - 1}` : '';\n    relation._colIdentifier = (schema.map(_ => _.name)).join();\n    return relation;\n};\n\nconst fieldInSchema = (schema, field) => {\n    let i = 0;\n\n    for (; i < schema.length; ++i) {\n        if (field === schema[i].name) {\n            return {\n                type: schema[i].subtype || schema[i].type,\n                index: i\n            };\n        }\n    }\n    return null;\n};\n\nconst propagateIdentifiers = (dataModel, propModel, config = {}, nonTraversingModel, grouped) => {\n    // function to propagate to target the DataModel instance.\n    const forwardPropagation = (targetDM, propagationData, hasGrouped) => {\n        propagateIdentifiers(targetDM, propagationData, config, nonTraversingModel, hasGrouped);\n    };\n\n    if (dataModel === nonTraversingModel) {\n        return;\n    }\n\n    dataModel.handlePropagation({\n        payload: config.payload,\n        data: propModel,\n        sourceIdentifiers: config.sourceIdentifiers,\n        sourceId: config.propagationSourceId,\n        groupedPropModel: !!grouped\n    });\n\n    // propagate to children created by SELECT operation\n    Object(_operator__WEBPACK_IMPORTED_MODULE_4__[\"selectIterator\"])(dataModel, (targetDM, criteria) => {\n        if (targetDM !== nonTraversingModel) {\n            const selectionModel = propModel[0].select(criteria, {\n                saveChild: false\n            });\n            const rejectionModel = propModel[1].select(criteria, {\n                saveChild: false\n            });\n\n            forwardPropagation(targetDM, [selectionModel, rejectionModel], grouped);\n        }\n    });\n    // propagate to children created by PROJECT operation\n    Object(_operator__WEBPACK_IMPORTED_MODULE_4__[\"projectIterator\"])(dataModel, (targetDM, projField) => {\n        if (targetDM !== nonTraversingModel) {\n            const projModel = propModel[0].project(projField, {\n                saveChild: false\n            });\n            const rejectionProjModel = propModel[1].project(projField, {\n                saveChild: false\n            });\n\n            forwardPropagation(targetDM, [projModel, rejectionProjModel], grouped);\n        }\n    });\n\n    // propagate to children created by groupBy operation\n    Object(_operator__WEBPACK_IMPORTED_MODULE_4__[\"groupByIterator\"])(dataModel, (targetDM, conf) => {\n        if (targetDM !== nonTraversingModel) {\n            const {\n                    reducer,\n                    groupByString\n                } = conf;\n                // group the filtered model based on groupBy string of target\n            const selectionGroupedModel = propModel[0].groupBy(groupByString.split(','), reducer, {\n                saveChild: false\n            });\n            const rejectionGroupedModel = propModel[1].groupBy(groupByString.split(','), reducer, {\n                saveChild: false\n            });\n            forwardPropagation(targetDM, [selectionGroupedModel, rejectionGroupedModel], true);\n        }\n    });\n\n    Object(_operator__WEBPACK_IMPORTED_MODULE_4__[\"calculatedVariableIterator\"])(dataModel, (targetDM, ...params) => {\n        if (targetDM !== nonTraversingModel) {\n            const entryModel = propModel[0].clone(false, false).calculateVariable(...params, {\n                saveChild: false,\n                replaceVar: true\n            });\n            const exitModel = propModel[1].clone(false, false).calculateVariable(...params, {\n                saveChild: false,\n                replaceVar: true\n            });\n            forwardPropagation(targetDM, [entryModel, exitModel], grouped);\n        }\n    });\n};\n\nconst getRootGroupByModel = (model) => {\n    if (model._parent && model._derivation.find(d => d.op !== 'group')) {\n        return getRootGroupByModel(model._parent);\n    }\n    return model;\n};\n\nconst getRootDataModel = (model) => {\n    if (model._parent) {\n        return getRootDataModel(model._parent);\n    }\n    return model;\n};\n\nconst propagateToAllDataModels = (identifiers, rootModels, config) => {\n    let criteria;\n    let propModel;\n    const propagationNameSpace = config.propagationNameSpace;\n    const payload = config.payload;\n    const propagationSourceId = config.propagationSourceId;\n\n    if (identifiers === null) {\n        criteria = null;\n    } else {\n        const filteredCriteria = Object.entries(propagationNameSpace.mutableActions)\n            .filter(d => d[0] !== propagationSourceId)\n            .map(d => Object.values(d[1]).map(action => action.criteria));\n        criteria = [].concat(...[...filteredCriteria, identifiers]);\n    }\n\n    const rootGroupByModel = rootModels.groupByModel;\n    const rootModel = rootModels.model;\n    const propConfig = {\n        payload,\n        propagationSourceId,\n        sourceIdentifiers: identifiers\n    };\n\n    if (rootGroupByModel) {\n        propModel = filterPropagationModel(rootGroupByModel, criteria, {\n            filterByMeasure: true\n        });\n        propagateIdentifiers(rootGroupByModel, propModel, propConfig);\n    }\n\n    propModel = filterPropagationModel(rootModel, criteria, {\n        filterByMeasure: !rootGroupByModel\n    });\n    propagateIdentifiers(rootModel, propModel, propConfig, rootGroupByModel);\n};\n\nconst propagateImmutableActions = (propagationNameSpace, rootModels, propagationSourceId) => {\n    const rootGroupByModel = rootModels.groupByModel;\n    const rootModel = rootModels.model;\n    const immutableActions = propagationNameSpace.immutableActions;\n    for (const sourceId in immutableActions) {\n        const actions = immutableActions[sourceId];\n        for (const action in actions) {\n            const criteriaModel = actions[action].criteria;\n            propagateToAllDataModels(criteriaModel, {\n                groupByModel: rootGroupByModel,\n                model: rootModel\n            }, {\n                propagationNameSpace,\n                payload: actions[action].payload,\n                propagationSourceId\n            });\n        }\n    }\n};\n\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst DataModel = __webpack_require__(/*! ./export */ \"./src/export.js\");\n\nmodule.exports = DataModel.default ? DataModel.default : DataModel;\n\n\n/***/ }),\n\n/***/ \"./src/operator/bucket-creator.js\":\n/*!****************************************!*\\\n  !*** ./src/operator/bucket-creator.js ***!\n  \\****************************************/\n/*! exports provided: createBinnedFieldData */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createBinnedFieldData\", function() { return createBinnedFieldData; });\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n\n\n/**\n * Creates bin f from the data and the supplied config.\n *\n * @param {Array} data - The input data.\n * @param {Object} config - The config object.\n * @param {number} config.binSize - The size of the bin.\n * @param {number} config.numOfBins - The number of bins to be created.\n * @return {Array} Returns an array of created bins.\n */\nfunction createBinnedFieldData (field, rowDiffset, config) {\n    let { buckets, binCount, binSize, start } = config;\n    let dataStore = [];\n    let binnedData = [];\n    let [min, max] = field.domain();\n    let oriMax = max;\n    let stops = [];\n    let binEnd;\n    let prevEndpoint;\n    let mid;\n    let range;\n\n    // create dataStore with index according to rowDiffSet\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(rowDiffset, (i) => {\n        dataStore.push({\n            data: field.data[i],\n            index: i\n        });\n    });\n\n    // create buckets if buckets not given\n    if (!buckets) {\n        max += 1;\n        binSize = binSize || (max - min) / binCount;\n\n        const extraBinELm = (max - min) % binSize;\n        if (!binCount && extraBinELm !== 0) {\n            max = max + binSize - extraBinELm;\n        }\n        binEnd = min + binSize;\n        while (binEnd <= max) {\n            stops.push(binEnd);\n            binEnd += binSize;\n        }\n        start = start || min;\n        buckets = { start, stops };\n    }\n\n    // initialize intial bucket start\n    prevEndpoint = buckets.start === 0 ? 0 : buckets.start || min;\n\n    // mark each data in dataStore to respective buckets\n    buckets.stops.forEach((endPoint) => {\n        let tempStore = dataStore.filter(datum => datum.data >= prevEndpoint && datum.data < endPoint);\n        tempStore.forEach((datum) => { binnedData[datum.index] = `${prevEndpoint}-${endPoint}`; });\n        prevEndpoint = endPoint;\n    });\n\n    // create a bin for values less than start\n    dataStore.filter(datum => datum.data < buckets.start)\n                    .forEach((datum) => { binnedData[datum.index] = `${min}-${buckets.start}`; });\n\n    // create a bin for values more than end\n    dataStore.filter(datum => datum.data >= buckets.stops[buckets.stops.length - 1])\n                    .forEach((datum) =>\n                    { binnedData[datum.index] = `${buckets.stops[buckets.stops.length - 1]}-${oriMax}`; });\n\n    // create range and mid\n    // append start to bucket marks\n    buckets.stops.unshift(buckets.start);\n    range = new Set(buckets.stops);\n\n    // Add endpoints to buckets marks if not added\n    if (min < buckets.start) { range.add(min); }\n    if (oriMax > buckets.stops[buckets.stops.length - 1]) { range.add(oriMax); }\n\n    range = [...range].sort((a, b) => a - b);\n    mid = [];\n\n    for (let i = 1; i < range.length; i++) {\n        mid.push((range[i - 1] + range[i]) / 2);\n    }\n    return { data: binnedData, mid, range };\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/child-iterator.js\":\n/*!****************************************!*\\\n  !*** ./src/operator/child-iterator.js ***!\n  \\****************************************/\n/*! exports provided: selectIterator, calculatedVariableIterator, projectIterator, groupByIterator */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectIterator\", function() { return selectIterator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculatedVariableIterator\", function() { return calculatedVariableIterator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"projectIterator\", function() { return projectIterator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupByIterator\", function() { return groupByIterator; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.js\");\n/* eslint-disable default-case */\n\n\n/**\n * iterate the children and call the callback for each\n *\n * @param {DataModel} datamodel\n * @param {function} callback\n * @param {DM_DERIVATIVES} operation\n */\nfunction childIterator (datamodel, callback, operation) {\n    const children = datamodel._children;\n    children.forEach((child) => {\n        if (child._derivation\n            && child._derivation.length === 1) {\n            switch (operation) {\n            case _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].SELECT:\n                if (child._derivation[0].op === _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].SELECT) {\n                    callback(child, child._derivation[0].criteria);\n                }\n                break;\n            case _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].PROJECT:\n                if (child._derivation[0].op === _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].PROJECT) {\n                    callback(child, child._derivation[0].meta.actualProjField);\n                }\n                break;\n            case _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].GROUPBY:\n                if (child._derivation[0].op === _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].GROUPBY) {\n                    callback(child,\n                        { groupByString: child._derivation[0].meta.groupByString,\n                            reducer: child._derivation[0].criteria });\n                }\n                break;\n            case _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].CAL_VAR:\n                if (child._derivation[0].op === _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].CAL_VAR) {\n                    let params = [child._derivation[0].meta.config, [child._derivation[0].meta.fields,\n                        child._derivation[0].criteria]];\n                    callback(child, ...params);\n                }\n                break;\n            }\n        }\n    });\n}\n\n/**\n * Invokes a callback for every child created by a selection operation on a DataModel.\n *\n * @param {DataModel} datamodel - The input DataModel instance.\n * @param {Function} callback - The callback to be invoked on each child. The parameters\n * provided to the callback are the child DataModel instance and the selection\n * function used to create it.\n */\nfunction selectIterator (datamodel, callback) {\n    childIterator(datamodel, callback, _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].SELECT);\n}\n\n/**\n * Invokes a callback for every measure child of a DataModel.\n *\n * @param {DataModel} datamodel - The input DataModel instance.\n * @param {Function} callback - The callback to be invoked on each measure child. The parameters\n * provided to the callback are the child DataModel instance and the child params.\n */\nfunction calculatedVariableIterator (datamodel, callback) {\n    childIterator(datamodel, callback, _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].CAL_VAR);\n}\n\n/**\n * Invokes a callback for every projected child of a DataModel.\n *\n * @param {DataModel} datamodel - The input DataModel instance.\n * @param {Function} callback - The callback to be invoked on each projected child. The parameters\n * provided to the callback are the child DataModel instance and the\n * projection string.\n */\nfunction projectIterator (datamodel, callback) {\n    childIterator(datamodel, callback, _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].PROJECT);\n}\n\n/**\n * Invokes a callback over the children created by a groupBy\n * operation on a DataModel.\n *\n * @param {DataModel} datamodel - The input DataModel instance.\n * @param {Function} callback - The callback to be invoked. The parameters\n * provided to the callback are the child DataModel instance and the groupBy string used to create it.\n */\nfunction groupByIterator (datamodel, callback) {\n    childIterator(datamodel, callback, _constants__WEBPACK_IMPORTED_MODULE_0__[\"DM_DERIVATIVES\"].GROUPBY);\n}\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/compose.js\":\n/*!*********************************!*\\\n  !*** ./src/operator/compose.js ***!\n  \\*********************************/\n/*! exports provided: select, project, bin, groupBy, compose */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"select\", function() { return select; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"project\", function() { return project; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bin\", function() { return bin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return groupBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\n\n/**\n * DataModel's opearators are exposed as composable functional operators as well as chainable operators. Chainable\n * operators are called on the instances of {@link Datamodel} and {@link Relation} class.\n *\n * Those same operators can be used as composable operators from `DataModel.Operators` namespace.\n *\n * All these operators have similar behaviour. All these operators when called with the argument returns a function\n * which expects a DataModel instance.\n *\n * @public\n * @module Operators\n * @namespace DataModel\n */\n\n/**\n * This is functional version of selection operator. {@link link_to_selection | Selection} is a row filtering operation.\n * It takes {@link SelectionPredicate | predicate} for filtering criteria and returns a function.\n * The returned function is called with the DataModel instance on which the action needs to be performed.\n *\n * {@link SelectionPredicate} is a function which returns a boolean value. For selection opearation the selection\n * function is called for each row of DataModel instance with the current row passed as argument.\n *\n * After executing {@link SelectionPredicate} the rows are labeled as either an entry of selection set or an entry\n * of rejection set.\n *\n * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n * resulatant datamodel.\n *\n * @warning\n * [Warn] Selection and rejection set is only a logical idea for concept explanation purpose.\n *\n * @error\n * [Error] `FilteringMode.ALL` is not a valid working mode for functional version of `select`. Its only avialable on the\n * chained version.\n *\n * @example\n * const select = DataModel.Operators.select;\n * usaCarsFn = select(fields => fields.Origin.value === 'USA');\n * usaCarsDm = usaCarsFn(dm);\n * console.log(usaCarsDm);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {SelectionPredicate} selectFn - Predicate funciton which is called for each row with the current row\n *      ```\n *          function (row, i)  { ... }\n *      ```\n * @param {Object} [config] - The configuration object to control the inclusion exclusion of a row in resultant\n *      DataModel instance\n * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - The mode of the selection\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nconst select = (...args) => dm => dm.select(...args);\n\n/**\n * This is functional version of projection operator. {@link link_to_projection | Projection} is a column filtering\n * operation.It expects list of fields name and either include those or exclude those based on {@link FilteringMode} on\n * the  resultant variable.It returns a function which is called with the DataModel instance on which the action needs\n * to be performed.\n *\n * Projection expects array of fields name based on which it creates the selection and rejection set. All the field\n * whose name is present in array goes in selection set and rest of the fields goes in rejection set.\n *\n * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n * resulatant datamodel.\n *\n * @warning\n * Selection and rejection set is only a logical idea for concept explanation purpose.\n *\n * @error\n * `FilteringMode.ALL` is not a valid working mode for functional version of `select`. Its only avialable on the\n * chained version.\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {Array.<string | Regexp>} projField - An array of column names in string or regular expression.\n * @param {Object} [config] - An optional config to control the creation of new DataModel\n * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - Mode of the projection\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nconst project = (...args) => dm => dm.project(...args);\n\n/**\n * This is functional version of binnig operator. Binning happens on a measure field based on a binning configuration.\n * Binning in DataModel does not aggregate the number of rows present in DataModel instance after binning, it just adds\n * a new field with the binned value. Refer binning {@link example_of_binning | example} to have a intuition of what\n * binning is and the use case.\n *\n * Binning can be configured by\n * - providing custom bin configuration with non uniform buckets\n * - providing bin count\n * - providing each bin size\n *\n * When custom buckets are provided as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const buckets = {\n *      start: 30\n *      stops: [80, 100, 110]\n *  };\n *  const config = { buckets, name: 'binnedHP' }\n *  const binFn = bin('horsepower', config);\n *  const binnedDm = binFn(dm);\n *\n * @text\n * When `binCount` is defined as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const config = { binCount: 5, name: 'binnedHP' }\n *  const binFn = bin('horsepower', config);\n *  const binnedDm = binFn(Dm);\n *\n * @text\n * When `binSize` is defined as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const config = { binSize: 200, name: 'binnedHorsepower' }\n *  const binnedDm = dataModel.bin('horsepower', config);\n *  const binnedDm = binFn(Dm);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {String} name Name of measure which will be used to create bin\n * @param {Object} config Config required for bin creation\n * @param {Array.<Number>} config.bucketObj.stops Defination of bucket ranges. Two subsequent number from arrays\n *      are picked and a range is created. The first number from range is inclusive and the second number from range\n *      is exclusive.\n * @param {Number} [config.bucketObj.startAt] Force the start of the bin from a particular number.\n *      If not mentioned, the start of the bin or the lower domain of the data if stops is not mentioned, else its\n *      the first value of the stop.\n * @param {Number} config.binSize Bucket size for each bin\n * @param {Number} config.binCount Number of bins which will be created\n * @param {String} config.name Name of the new binned field to be created\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nconst bin = (...args) => dm => dm.bin(...args);\n\n/**\n * This is functional version of `groupBy` operator.Groups the data using particular dimensions and by reducing\n * measures. It expects a list of dimensions using which it projects the datamodel and perform aggregations to reduce\n * the duplicate tuples. Refer this {@link link_to_one_example_with_group_by | document} to know the intuition behind\n * groupBy.\n *\n * DataModel by default provides definition of few {@link reducer | Reducers}.\n * {@link ReducerStore | User defined reducers} can also be registered.\n *\n * This is the chained implementation of `groupBy`.\n * `groupBy` also supports {@link link_to_compose_groupBy | composability}\n *\n * @example\n * const groupBy = DataModel.Operators.groupBy;\n * const groupedFn = groupBy(['Year'], { horsepower: 'max' } );\n * groupedDM = groupByFn(dm);\n *\n * @public\n *\n * @param {Array.<string>} fieldsArr - Array containing the name of dimensions\n * @param {Object} [reducers={}] - A map whose key is the variable name and value is the name of the reducer. If its\n *      not passed, or any variable is ommitted from the object, default aggregation function is used from the\n *      schema of the variable.\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nconst groupBy = (...args) => dm => dm.groupBy(...args);\n\n/**\n * Enables composing operators to run multiple operations and save group of operataion as named opration on a DataModel.\n * The resulting DataModel will be the result of all the operation provided. The operations provided will be executed in\n * a serial manner ie. result of one operation will be the input for the next operations (like pipe operator in unix).\n *\n * Suported operations in compose are\n * - `select`\n * - `project`\n * - `groupBy`\n * - `bin`\n * - `compose`\n *\n * @example\n * const compose = DataModel.Operators.compose;\n * const select = DataModel.Operators.select;\n * const project = DataModel.Operators.project;\n *\n * let composedFn = compose(\n *    select(fields => fields.netprofit.value <= 15),\n *    project(['netprofit', 'netsales']));\n *\n * const dataModel = new DataModel(data1, schema1);\n *\n * let composedDm = composedFn(dataModel);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {Array.<Operators>} operators: An array of operation that will be applied on the\n * datatable.\n *\n * @returns {DataModel} Instance of resultant DataModel\n */\nconst compose = (...operations) =>\n    (dm, config = { saveChild: true }) => {\n        let currentDM = dm;\n        let frstChild;\n        const derivations = [];\n        const saveChild = config.saveChild;\n\n        operations.forEach((operation) => {\n            currentDM = operation(currentDM);\n            derivations.push(...currentDM._derivation);\n            if (!frstChild) {\n                frstChild = currentDM;\n            }\n        });\n\n        saveChild && currentDM.addParent(dm, derivations);\n        if (derivations.length > 1) {\n            frstChild.dispose();\n        }\n\n        return currentDM;\n    };\n\n\n/***/ }),\n\n/***/ \"./src/operator/cross-product.js\":\n/*!***************************************!*\\\n  !*** ./src/operator/cross-product.js ***!\n  \\***************************************/\n/*! exports provided: crossProduct */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"crossProduct\", function() { return crossProduct; });\n/* harmony import */ var _datamodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datamodel */ \"./src/datamodel.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _get_common_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./get-common-schema */ \"./src/operator/get-common-schema.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helper */ \"./src/helper.js\");\n\n\n\n\n\n\n/**\n * Default filter function for crossProduct.\n *\n * @return {boolean} Always returns true.\n */\nfunction defaultFilterFn() { return true; }\n\n/**\n * Implementation of cross product operation between two DataModel instances.\n * It internally creates the data and schema for the new DataModel.\n *\n * @param {DataModel} dataModel1 - The left DataModel instance.\n * @param {DataModel} dataModel2 - The right DataModel instance.\n * @param {Function} filterFn - The filter function which is used to filter the tuples.\n * @param {boolean} [replaceCommonSchema=false] - The flag if the common name schema should be there.\n * @return {DataModel} Returns The newly created DataModel instance from the crossProduct operation.\n */\nfunction crossProduct (dm1, dm2, filterFn, replaceCommonSchema = false, jointype = _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].CROSS) {\n    const schema = [];\n    const data = [];\n    const applicableFilterFn = filterFn || defaultFilterFn;\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    const dm1FieldStoreName = dm1FieldStore.name;\n    const dm2FieldStoreName = dm2FieldStore.name;\n    const name = `${dm1FieldStore.name}.${dm2FieldStore.name}`;\n    const commonSchemaList = Object(_get_common_schema__WEBPACK_IMPORTED_MODULE_2__[\"getCommonSchema\"])(dm1FieldStore, dm2FieldStore);\n\n    if (dm1FieldStoreName === dm2FieldStoreName) {\n        throw new Error('DataModels must have different alias names');\n    }\n    // Here prepare the schema\n    dm1FieldStore.fields.forEach((field) => {\n        const tmpSchema = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema);\n        if (commonSchemaList.indexOf(tmpSchema.name) !== -1 && !replaceCommonSchema) {\n            tmpSchema.name = `${dm1FieldStore.name}.${tmpSchema.name}`;\n        }\n        schema.push(tmpSchema);\n    });\n    dm2FieldStore.fields.forEach((field) => {\n        const tmpSchema = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema);\n        if (commonSchemaList.indexOf(tmpSchema.name) !== -1) {\n            if (!replaceCommonSchema) {\n                tmpSchema.name = `${dm2FieldStore.name}.${tmpSchema.name}`;\n                schema.push(tmpSchema);\n            }\n        } else {\n            schema.push(tmpSchema);\n        }\n    });\n\n    // Here prepare Data\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(dm1._rowDiffset, (i) => {\n        let rowAdded = false;\n        let rowPosition;\n        Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(dm2._rowDiffset, (ii) => {\n            const tuple = [];\n            const userArg = {};\n            userArg[dm1FieldStoreName] = {};\n            userArg[dm2FieldStoreName] = {};\n            dm1FieldStore.fields.forEach((field) => {\n                tuple.push(field.data[i]);\n                userArg[dm1FieldStoreName][field.name] = field.data[i];\n            });\n            dm2FieldStore.fields.forEach((field) => {\n                if (!(commonSchemaList.indexOf(field.schema.name) !== -1 && replaceCommonSchema)) {\n                    tuple.push(field.data[ii]);\n                }\n                userArg[dm2FieldStoreName][field.name] = field.data[ii];\n            });\n            const dm1Fields = Object(_helper__WEBPACK_IMPORTED_MODULE_5__[\"prepareJoinData\"])(userArg[dm1FieldStoreName]);\n            const dm2Fields = Object(_helper__WEBPACK_IMPORTED_MODULE_5__[\"prepareJoinData\"])(userArg[dm2FieldStoreName]);\n            if (applicableFilterFn(dm1Fields, dm2Fields)) {\n                const tupleObj = {};\n                tuple.forEach((cellVal, iii) => {\n                    tupleObj[schema[iii].name] = cellVal;\n                });\n                if (rowAdded && _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].CROSS !== jointype) {\n                    data[rowPosition] = tupleObj;\n                }\n                else {\n                    data.push(tupleObj);\n                    rowAdded = true;\n                    rowPosition = i;\n                }\n            }\n            else if ((jointype === _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].LEFTOUTER || jointype === _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].RIGHTOUTER) && !rowAdded) {\n                const tupleObj = {};\n                let len = dm1FieldStore.fields.length - 1;\n                tuple.forEach((cellVal, iii) => {\n                    if (iii <= len) {\n                        tupleObj[schema[iii].name] = cellVal;\n                    }\n                    else {\n                        tupleObj[schema[iii].name] = null;\n                    }\n                });\n                rowAdded = true;\n                rowPosition = i;\n                data.push(tupleObj);\n            }\n        });\n    });\n\n    return new _datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](data, schema, { name });\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/data-builder.js\":\n/*!**************************************!*\\\n  !*** ./src/operator/data-builder.js ***!\n  \\**************************************/\n/*! exports provided: dataBuilder */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dataBuilder\", function() { return dataBuilder; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _merge_sort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./merge-sort */ \"./src/operator/merge-sort.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helper */ \"./src/helper.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n\n\n/**\n * Generates the sorting functions to sort the data of a DataModel instance\n * according to the input data type.\n *\n * @param {string} dataType - The data type e.g. 'measure', 'datetime' etc.\n * @param {string} sortType - The sorting order i.e. 'asc' or 'desc'.\n * @param {integer} index - The index of the data which will be sorted.\n * @return {Function} Returns the the sorting function.\n */\nfunction getSortFn (dataType, sortType, index) {\n    let retFunc;\n    switch (dataType) {\n    case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE:\n    case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL:\n        if (sortType === 'desc') {\n            retFunc = (a, b) => b[index] - a[index];\n        } else {\n            retFunc = (a, b) => a[index] - b[index];\n        }\n        break;\n    default:\n        retFunc = (a, b) => {\n            const a1 = `${a[index]}`;\n            const b1 = `${b[index]}`;\n            if (a1 < b1) {\n                return sortType === 'desc' ? 1 : -1;\n            }\n            if (a1 > b1) {\n                return sortType === 'desc' ? -1 : 1;\n            }\n            return 0;\n        };\n    }\n    return retFunc;\n}\n\n/**\n * Groups the data according to the specified target field.\n *\n * @param {Array} data - The input data array.\n * @param {number} fieldIndex - The target field index within schema array.\n * @return {Array} Returns an array containing the grouped data.\n */\nfunction groupData(data, fieldIndex) {\n    const hashMap = new Map();\n    const groupedData = [];\n\n    data.forEach((datum) => {\n        const fieldVal = datum[fieldIndex];\n        if (hashMap.has(fieldVal)) {\n            groupedData[hashMap.get(fieldVal)][1].push(datum);\n        } else {\n            groupedData.push([fieldVal, [datum]]);\n            hashMap.set(fieldVal, groupedData.length - 1);\n        }\n    });\n\n    return groupedData;\n}\n\n/**\n * Creates the argument value used for sorting function when sort is done\n * with another fields.\n *\n * @param {Array} groupedDatum - The grouped datum for a single dimension field value.\n * @param {Array} targetFields - An array of the sorting fields.\n * @param {Array} targetFieldDetails - An array of the sorting field details in schema.\n * @return {Object} Returns an object containing the value of sorting fields and the target field name.\n */\nfunction createSortingFnArg(groupedDatum, targetFields, targetFieldDetails) {\n    const arg = {\n        label: groupedDatum[0]\n    };\n\n    targetFields.reduce((acc, next, idx) => {\n        acc[next] = groupedDatum[1].map(datum => datum[targetFieldDetails[idx].index]);\n        return acc;\n    }, arg);\n\n    return arg;\n}\n\n/**\n * Sorts the data before return in dataBuilder.\n *\n * @param {Object} dataObj - An object containing the data and schema.\n * @param {Array} sortingDetails - An array containing the sorting configs.\n */\nfunction sortData(dataObj, sortingDetails) {\n    const { data, schema } = dataObj;\n    let fieldName;\n    let sortMeta;\n    let fDetails;\n    let i = sortingDetails.length - 1;\n\n    for (; i >= 0; i--) {\n        fieldName = sortingDetails[i][0];\n        sortMeta = sortingDetails[i][1];\n        fDetails = Object(_helper__WEBPACK_IMPORTED_MODULE_3__[\"fieldInSchema\"])(schema, fieldName);\n\n        if (!fDetails) {\n            // eslint-disable-next-line no-continue\n            continue;\n        }\n\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"isCallable\"])(sortMeta)) {\n            // eslint-disable-next-line no-loop-func\n            Object(_merge_sort__WEBPACK_IMPORTED_MODULE_2__[\"mergeSort\"])(data, (a, b) => sortMeta(a[fDetails.index], b[fDetails.index]));\n        } else if (Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"isArray\"])(sortMeta)) {\n            const groupedData = groupData(data, fDetails.index);\n            const sortingFn = sortMeta[sortMeta.length - 1];\n            const targetFields = sortMeta.slice(0, sortMeta.length - 1);\n            const targetFieldDetails = targetFields.map(f => Object(_helper__WEBPACK_IMPORTED_MODULE_3__[\"fieldInSchema\"])(schema, f));\n\n            groupedData.forEach((groupedDatum) => {\n                groupedDatum.push(createSortingFnArg(groupedDatum, targetFields, targetFieldDetails));\n            });\n\n            Object(_merge_sort__WEBPACK_IMPORTED_MODULE_2__[\"mergeSort\"])(groupedData, (a, b) => {\n                const m = a[2];\n                const n = b[2];\n                return sortingFn(m, n);\n            });\n\n            // Empty the array\n            data.length = 0;\n            groupedData.forEach((datum) => {\n                data.push(...datum[1]);\n            });\n        } else {\n            sortMeta = String(sortMeta).toLowerCase() === 'desc' ? 'desc' : 'asc';\n            Object(_merge_sort__WEBPACK_IMPORTED_MODULE_2__[\"mergeSort\"])(data, getSortFn(fDetails.type, sortMeta, fDetails.index));\n        }\n    }\n\n    dataObj.uids = [];\n    data.forEach((value) => {\n        dataObj.uids.push(value.pop());\n    });\n}\n\n\n/**\n * Builds the actual data array.\n *\n * @param {Array} fieldStore - An array of field.\n * @param {string} rowDiffset - A string consisting of which rows to be included eg. '0-2,4,6';\n * @param {string} colIdentifier - A string consisting of the details of which column\n * to be included eg 'date,sales,profit';\n * @param {Object} sortingDetails - An object containing the sorting details of the DataModel instance.\n * @param {Object} options - The options required to create the type of the data.\n * @return {Object} Returns an object containing the multidimensional array and the relative schema.\n */\nfunction dataBuilder (fieldStore, rowDiffset, colIdentifier, sortingDetails, options) {\n    const defOptions = {\n        addUid: false,\n        columnWise: false\n    };\n    options = Object.assign({}, defOptions, options);\n\n    const retObj = {\n        schema: [],\n        data: [],\n        uids: []\n    };\n    const addUid = options.addUid;\n    const reqSorting = sortingDetails && sortingDetails.length > 0;\n    // It stores the fields according to the colIdentifier argument\n    const tmpDataArr = [];\n    // Stores the fields according to the colIdentifier argument\n    const colIArr = colIdentifier.split(',');\n\n    colIArr.forEach((colName) => {\n        for (let i = 0; i < fieldStore.length; i += 1) {\n            if (fieldStore[i].name === colName) {\n                tmpDataArr.push(fieldStore[i]);\n                break;\n            }\n        }\n    });\n\n    // Inserts the schema to the schema object\n    tmpDataArr.forEach((field) => {\n        /** @todo Need to use extend2 here otherwise user can overwrite the schema. */\n        retObj.schema.push(field.schema);\n    });\n\n    if (addUid) {\n        retObj.schema.push({\n            name: 'uid',\n            type: 'identifier'\n        });\n    }\n\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__[\"rowDiffsetIterator\"])(rowDiffset, (i) => {\n        retObj.data.push([]);\n        const insertInd = retObj.data.length - 1;\n        let start = 0;\n        tmpDataArr.forEach((field, ii) => {\n            retObj.data[insertInd][ii + start] = field.data[i];\n        });\n        if (addUid) {\n            retObj.data[insertInd][tmpDataArr.length] = i;\n        }\n        // Creates an array of unique identifiers for each row\n        retObj.uids.push(i);\n\n        // If sorting needed then there is the need to expose the index\n        // mapping from the old index to its new index\n        if (reqSorting) { retObj.data[insertInd].push(i); }\n    });\n\n    // Handles the sort functionality\n    if (reqSorting) {\n        sortData(retObj, sortingDetails);\n    }\n\n    if (options.columnWise) {\n        const tmpData = Array(...Array(retObj.schema.length)).map(() => []);\n        retObj.data.forEach((tuple) => {\n            tuple.forEach((data, i) => {\n                tmpData[i].push(data);\n            });\n        });\n        retObj.data = tmpData;\n    }\n\n    return retObj;\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/difference.js\":\n/*!************************************!*\\\n  !*** ./src/operator/difference.js ***!\n  \\************************************/\n/*! exports provided: difference */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"difference\", function() { return difference; });\n/* harmony import */ var _datamodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datamodel */ \"./src/datamodel.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helper */ \"./src/utils/helper.js\");\n\n\n\n\n\n/**\n * Performs the union operation between two dm instances.\n *\n * @todo Fix the conflicts between union and difference terminology here.\n *\n * @param {dm} dm1 - The first dm instance.\n * @param {dm} dm2 - The second dm instance.\n * @return {dm} Returns the newly created dm after union operation.\n */\nfunction difference (dm1, dm2) {\n    const hashTable = {};\n    const schema = [];\n    const schemaNameArr = [];\n    const data = [];\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    const dm1FieldStoreFieldObj = dm1FieldStore.fieldsObj();\n    const dm2FieldStoreFieldObj = dm2FieldStore.fieldsObj();\n    const name = `${dm1FieldStore.name} union ${dm2FieldStore.name}`;\n\n   // For union the columns should match otherwise return a clone of the dm1\n    if (!Object(_utils_helper__WEBPACK_IMPORTED_MODULE_3__[\"isArrEqual\"])(dm1._colIdentifier.split(',').sort(), dm2._colIdentifier.split(',').sort())) {\n        return null;\n    }\n\n    // Prepare the schema\n    (dm1._colIdentifier.split(',')).forEach((fieldName) => {\n        const field = dm1FieldStoreFieldObj[fieldName];\n        schema.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema));\n        schemaNameArr.push(field.schema.name);\n    });\n\n    /**\n     * The helper function to create the data.\n     *\n     * @param {dm} dm - The dm instance for which the data is inserted.\n     * @param {Object} fieldsObj - The fieldStore object format.\n     * @param {boolean} addData - If true only tuple will be added to the data.\n     */\n    function prepareDataHelper(dm, fieldsObj, addData) {\n        Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__[\"rowDiffsetIterator\"])(dm._rowDiffset, (i) => {\n            const tuple = {};\n            let hashData = '';\n            schemaNameArr.forEach((schemaName) => {\n                const value = fieldsObj[schemaName].data[i];\n                hashData += `-${value}`;\n                tuple[schemaName] = value;\n            });\n            if (!hashTable[hashData]) {\n                if (addData) { data.push(tuple); }\n                hashTable[hashData] = true;\n            }\n        });\n    }\n\n    // Prepare the data\n    prepareDataHelper(dm2, dm2FieldStoreFieldObj, false);\n    prepareDataHelper(dm1, dm1FieldStoreFieldObj, true);\n\n    return new _datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](data, schema, { name });\n}\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/get-common-schema.js\":\n/*!*******************************************!*\\\n  !*** ./src/operator/get-common-schema.js ***!\n  \\*******************************************/\n/*! exports provided: getCommonSchema */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCommonSchema\", function() { return getCommonSchema; });\n/**\n * The helper function that returns an array of common schema\n * from two fieldStore instances.\n *\n * @param {FieldStore} fs1 - The first FieldStore instance.\n * @param {FieldStore} fs2 - The second FieldStore instance.\n * @return {Array} An array containing the common schema.\n */\nfunction getCommonSchema (fs1, fs2) {\n    const retArr = [];\n    const fs1Arr = [];\n    fs1.fields.forEach((field) => {\n        fs1Arr.push(field.schema.name);\n    });\n    fs2.fields.forEach((field) => {\n        if (fs1Arr.indexOf(field.schema.name) !== -1) {\n            retArr.push(field.schema.name);\n        }\n    });\n    return retArr;\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/group-by-function.js\":\n/*!*******************************************!*\\\n  !*** ./src/operator/group-by-function.js ***!\n  \\*******************************************/\n/*! exports provided: defaultReducerName, defReducer, fnList */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultReducerName\", function() { return defaultReducerName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defReducer\", function() { return sum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fnList\", function() { return fnList; });\n/**\n * Reducer function that takes care about the sum aggregation\n * @param  {Array} arr array of values\n * @return {number}     sum of the array\n */\nfunction sum (arr) {\n    let allNulls = true;\n    const isNestedArray = arr[0] instanceof Array;\n    const sumVal = arr.reduce((carry, a) => {\n        if (isNestedArray) {\n            return carry.map((x, i) => x + a[i]);\n        }\n        allNulls = allNulls && (a === null);\n        return carry + a;\n    }, isNestedArray ? Array(...Array(arr[0].length)).map(() => 0) : 0);\n    return allNulls ? null : sumVal;\n}\n\n/**\n * reducer function that takes care about the mean aggregation\n * @param  {Array} arr array of values\n * @return {number}     mean of the array\n */\nfunction avg (arr) {\n    const isNestedArray = arr[0] instanceof Array;\n    const len = arr.length || 1;\n    const arrSum = sum(arr);\n    if (isNestedArray) {\n        return arrSum.map(x => x / len);\n    }\n    return arrSum === null ? null : arrSum / len;\n}\n\n/**\n * reducer function that gives the min value\n * @param  {Array} arr array of values\n * @return {number}     min of the array\n */\nfunction min (arr) {\n    const isNestedArray = arr[0] instanceof Array;\n    if (isNestedArray) {\n        return arr.reduce((carry, a) => carry.map((x, i) => Math.min(x, a[i])),\n        Array(...Array(arr[0].length)).map(() => Infinity));\n    }\n    return arr.every(d => d === null) ? null : Math.min(...arr);\n}\n\n/**\n * reducer function that gives the max value\n * @param  {Array} arr array of values\n * @return {number}     max of the array\n */\nfunction max (arr) {\n    const isNestedArray = arr[0] instanceof Array;\n    if (isNestedArray) {\n        return arr.reduce((carry, a) => carry.map((x, i) => Math.max(x, a[i])),\n        Array(...Array(arr[0].length)).map(() => -Infinity));\n    }\n    return arr.every(d => d === null) ? null : Math.max(...arr);\n}\n\n/**\n * reducer function that gives the first value\n * @param  {Array} arr array of values\n * @return {number}     first value of the array\n */\nfunction first (arr) {\n    return arr[0];\n}\n\n/**\n * reducer function that gives the last value\n * @param  {Array} arr array of values\n * @return {number}     last value of the array\n */\nfunction last (arr) {\n    return arr[arr.length - 1];\n}\n\n/**\n * reducer function that gives the count value\n * @param  {Array} arr array of values\n * @return {number}     count of the array\n */\nfunction count (arr) {\n    const isNestedArray = arr[0] instanceof Array;\n    const len = arr.length;\n    if (isNestedArray) {\n        return Array(...Array(arr[0].length)).map(() => len);\n    }\n    return len;\n}\n\n/**\n * Calculates the variance of the input array.\n *\n * @param {Array.<number>} arr - The input array.\n * @return {number} Returns the variance of the input array.\n */\nfunction variance (arr) {\n    let mean = avg(arr);\n    return avg(arr.map(num => (num - mean) ** 2));\n}\n\n/**\n * Calculates the square root of the variance of the input array.\n *\n * @param {Array.<number>} arr - The input array.\n * @return {number} Returns the square root of the variance.\n */\nfunction std (arr) {\n    return Math.sqrt(variance(arr));\n}\n\n\nconst fnList = {\n    sum,\n    avg,\n    min,\n    max,\n    first,\n    last,\n    count,\n    std\n};\n\nconst defaultReducerName = 'sum';\n\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/group-by.js\":\n/*!**********************************!*\\\n  !*** ./src/operator/group-by.js ***!\n  \\**********************************/\n/*! exports provided: groupBy, getFieldArr, getReducerObj */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return groupBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFieldArr\", function() { return getFieldArr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getReducerObj\", function() { return getReducerObj; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _export__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../export */ \"./src/export.js\");\n/* harmony import */ var _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/reducer-store */ \"./src/utils/reducer-store.js\");\n\n\n\n\n\n/**\n * This function sanitize the user given field and return a common Array structure field\n * list\n * @param  {DataModel} dataModel the dataModel operating on\n * @param  {Array} fieldArr  user input of field Array\n * @return {Array}           arrays of field name\n */\nfunction getFieldArr (dataModel, fieldArr) {\n    const retArr = [];\n    const fieldStore = dataModel.getPartialFieldspace();\n    const dimensions = fieldStore.getDimension();\n    const measures = fieldStore.getMeasure();\n\n    Object.entries(dimensions).forEach(([key]) => {\n        if (fieldArr && fieldArr.length) {\n            if (fieldArr.indexOf(key) !== -1) {\n                retArr.push(key);\n            }\n        } else {\n            retArr.push(key);\n        }\n    });\n\n    Object.entries(measures).forEach(([key]) => {\n        if (measures[key].subType() === 'discrete') {\n            if (fieldArr && fieldArr.length) {\n                if (fieldArr.indexOf(key) !== -1) {\n                    retArr.push(key);\n                }\n            } else {\n                retArr.push(key);\n            }\n        }\n    });\n    return retArr;\n}\n\n/**\n * This sanitize the reducer provide by the user and create a common type of object.\n * user can give function Also\n * @param  {DataModel} dataModel     dataModel to worked on\n * @param  {Object|function} [reducers={}] reducer provided by the users\n * @return {Object}               object containing reducer function for every measure\n */\nfunction getReducerObj (dataModel, reducers = {}) {\n    const retObj = {};\n    const pReducers = reducers;\n    const fieldStore = dataModel.getPartialFieldspace();\n    const measures = fieldStore.getMeasure();\n    let reducer = _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaultReducer();\n    if (typeof reducers === 'function') {\n        reducer = reducers;\n    }\n    Object.entries(measures).forEach(([key]) => {\n        if (typeof reducers[key] === 'string') {\n            pReducers[key] = _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resolve(pReducers[key]) ? _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resolve(pReducers[key]) : reducer;\n        }\n        if (typeof reducers[key] !== 'function') {\n            pReducers[key] = undefined;\n        }\n        retObj[key] = pReducers[key] || _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resolve(measures[key].defAggFn()) || reducer;\n    });\n    return retObj;\n}\n\n/**\n * main function which perform the group-by operations which reduce the measures value is the\n * fields are common according to the reducer function provided\n * @param  {DataModel} dataModel the dataModel to worked\n * @param  {Array} fieldArr  fields according to which the groupby should be worked\n * @param  {Object|Function} reducers  reducers function\n * @param {DataModel} existingDataModel Existing datamodel instance\n * @return {DataModel} new dataModel with the group by\n */\nfunction groupBy (dataModel, fieldArr, reducers, existingDataModel) {\n    const sFieldArr = getFieldArr(dataModel, fieldArr);\n    const reducerObj = getReducerObj(dataModel, reducers);\n    const fieldStore = dataModel.getPartialFieldspace();\n    const fieldStoreObj = fieldStore.fieldsObj();\n    const dbName = fieldStore.name;\n    const dimensionArr = [];\n    const measureArr = [];\n    const schema = [];\n    const hashMap = {};\n    const data = [];\n    let newDataModel;\n    // Prepare the schema\n    Object.entries(fieldStoreObj).forEach(([key, value]) => {\n        if (sFieldArr.indexOf(key) !== -1 || reducerObj[key]) {\n            schema.push(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"extend2\"])({}, value.schema));\n            if (value.schema.type === 'measure' && value.schema.subtype !== 'discrete') {\n                measureArr.push(key);\n            } else if (value.schema.type === 'dimension' || value.schema.subtype === 'discrete') {\n                dimensionArr.push(key);\n            }\n        }\n    });\n    // Prepare the data\n    let rowCount = 0;\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__[\"rowDiffsetIterator\"])(dataModel._rowDiffset, (i) => {\n        let hash = '';\n        dimensionArr.forEach((_) => {\n            hash = `${hash}-${fieldStoreObj[_].data[i]}`;\n        });\n        if (hashMap[hash] === undefined) {\n            hashMap[hash] = rowCount;\n            data.push({});\n            dimensionArr.forEach((_) => {\n                data[rowCount][_] = fieldStoreObj[_].data[i];\n            });\n            measureArr.forEach((_) => {\n                data[rowCount][_] = [fieldStoreObj[_].data[i]];\n            });\n            rowCount += 1;\n        } else {\n            measureArr.forEach((_) => {\n                data[hashMap[hash]][_].push(fieldStoreObj[_].data[i]);\n            });\n        }\n    });\n    // reduction\n    data.forEach((row) => {\n        const tuple = row;\n        measureArr.forEach((_) => {\n            tuple[_] = reducerObj[_](row[_]);\n        });\n    });\n    if (existingDataModel) {\n        existingDataModel.__calculateFieldspace();\n        newDataModel = existingDataModel;\n    }\n    else {\n        newDataModel = new _export__WEBPACK_IMPORTED_MODULE_2__[\"default\"](data, schema, { name: dbName });\n    }\n    return newDataModel;\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/index.js\":\n/*!*******************************!*\\\n  !*** ./src/operator/index.js ***!\n  \\*******************************/\n/*! exports provided: createBinnedFieldData, selectIterator, calculatedVariableIterator, projectIterator, groupByIterator, compose, bin, select, project, groupby, calculateVariable, sort, crossProduct, dataBuilder, difference, getCommonSchema, defReducer, fnList, groupBy, getFieldArr, getReducerObj, mergeSort, naturalJoinFilter, naturalJoin, leftOuterJoin, rightOuterJoin, fullOuterJoin, rowDiffsetIterator, union */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bucket_creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bucket-creator */ \"./src/operator/bucket-creator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createBinnedFieldData\", function() { return _bucket_creator__WEBPACK_IMPORTED_MODULE_0__[\"createBinnedFieldData\"]; });\n\n/* harmony import */ var _child_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./child-iterator */ \"./src/operator/child-iterator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"selectIterator\", function() { return _child_iterator__WEBPACK_IMPORTED_MODULE_1__[\"selectIterator\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"calculatedVariableIterator\", function() { return _child_iterator__WEBPACK_IMPORTED_MODULE_1__[\"calculatedVariableIterator\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"projectIterator\", function() { return _child_iterator__WEBPACK_IMPORTED_MODULE_1__[\"projectIterator\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"groupByIterator\", function() { return _child_iterator__WEBPACK_IMPORTED_MODULE_1__[\"groupByIterator\"]; });\n\n/* harmony import */ var _compose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./compose */ \"./src/operator/compose.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return _compose__WEBPACK_IMPORTED_MODULE_2__[\"compose\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bin\", function() { return _compose__WEBPACK_IMPORTED_MODULE_2__[\"bin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"select\", function() { return _compose__WEBPACK_IMPORTED_MODULE_2__[\"select\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"project\", function() { return _compose__WEBPACK_IMPORTED_MODULE_2__[\"project\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"groupby\", function() { return _compose__WEBPACK_IMPORTED_MODULE_2__[\"groupBy\"]; });\n\n/* harmony import */ var _pure_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pure-operators */ \"./src/operator/pure-operators.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"calculateVariable\", function() { return _pure_operators__WEBPACK_IMPORTED_MODULE_3__[\"calculateVariable\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sort\", function() { return _pure_operators__WEBPACK_IMPORTED_MODULE_3__[\"sort\"]; });\n\n/* harmony import */ var _cross_product__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cross-product */ \"./src/operator/cross-product.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"crossProduct\", function() { return _cross_product__WEBPACK_IMPORTED_MODULE_4__[\"crossProduct\"]; });\n\n/* harmony import */ var _data_builder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data-builder */ \"./src/operator/data-builder.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dataBuilder\", function() { return _data_builder__WEBPACK_IMPORTED_MODULE_5__[\"dataBuilder\"]; });\n\n/* harmony import */ var _difference__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./difference */ \"./src/operator/difference.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"difference\", function() { return _difference__WEBPACK_IMPORTED_MODULE_6__[\"difference\"]; });\n\n/* harmony import */ var _get_common_schema__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./get-common-schema */ \"./src/operator/get-common-schema.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getCommonSchema\", function() { return _get_common_schema__WEBPACK_IMPORTED_MODULE_7__[\"getCommonSchema\"]; });\n\n/* harmony import */ var _group_by_function__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./group-by-function */ \"./src/operator/group-by-function.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"defReducer\", function() { return _group_by_function__WEBPACK_IMPORTED_MODULE_8__[\"defReducer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fnList\", function() { return _group_by_function__WEBPACK_IMPORTED_MODULE_8__[\"fnList\"]; });\n\n/* harmony import */ var _group_by__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./group-by */ \"./src/operator/group-by.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return _group_by__WEBPACK_IMPORTED_MODULE_9__[\"groupBy\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getFieldArr\", function() { return _group_by__WEBPACK_IMPORTED_MODULE_9__[\"getFieldArr\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getReducerObj\", function() { return _group_by__WEBPACK_IMPORTED_MODULE_9__[\"getReducerObj\"]; });\n\n/* harmony import */ var _merge_sort__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./merge-sort */ \"./src/operator/merge-sort.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mergeSort\", function() { return _merge_sort__WEBPACK_IMPORTED_MODULE_10__[\"mergeSort\"]; });\n\n/* harmony import */ var _natural_join_filter_function__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./natural-join-filter-function */ \"./src/operator/natural-join-filter-function.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"naturalJoinFilter\", function() { return _natural_join_filter_function__WEBPACK_IMPORTED_MODULE_11__[\"naturalJoinFilter\"]; });\n\n/* harmony import */ var _natural_join__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./natural-join */ \"./src/operator/natural-join.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"naturalJoin\", function() { return _natural_join__WEBPACK_IMPORTED_MODULE_12__[\"naturalJoin\"]; });\n\n/* harmony import */ var _outer_join__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./outer-join */ \"./src/operator/outer-join.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"leftOuterJoin\", function() { return _outer_join__WEBPACK_IMPORTED_MODULE_13__[\"leftOuterJoin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rightOuterJoin\", function() { return _outer_join__WEBPACK_IMPORTED_MODULE_13__[\"rightOuterJoin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fullOuterJoin\", function() { return _outer_join__WEBPACK_IMPORTED_MODULE_13__[\"fullOuterJoin\"]; });\n\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rowDiffsetIterator\", function() { return _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_14__[\"rowDiffsetIterator\"]; });\n\n/* harmony import */ var _union__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./union */ \"./src/operator/union.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"union\", function() { return _union__WEBPACK_IMPORTED_MODULE_15__[\"union\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/merge-sort.js\":\n/*!************************************!*\\\n  !*** ./src/operator/merge-sort.js ***!\n  \\************************************/\n/*! exports provided: mergeSort */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergeSort\", function() { return mergeSort; });\n/**\n * The default sort function.\n *\n * @param {*} a - The first value.\n * @param {*} b - The second value.\n * @return {number} Returns the comparison result e.g. 1 or 0 or -1.\n */\nfunction defSortFn (a, b) {\n    const a1 = `${a}`;\n    const b1 = `${b}`;\n    if (a1 < b1) {\n        return -1;\n    }\n    if (a1 > b1) {\n        return 1;\n    }\n    return 0;\n}\n\n/**\n * The helper function for merge sort which creates the sorted array\n * from the two halves of the input array.\n *\n * @param {Array} arr - The target array which needs to be merged.\n * @param {number} lo - The starting index of the first array half.\n * @param {number} mid - The ending index of the first array half.\n * @param {number} hi - The ending index of the second array half.\n * @param {Function} sortFn - The sort function.\n */\nfunction merge (arr, lo, mid, hi, sortFn) {\n    const mainArr = arr;\n    const auxArr = [];\n    for (let i = lo; i <= hi; i += 1) {\n        auxArr[i] = mainArr[i];\n    }\n    let a = lo;\n    let b = mid + 1;\n\n    for (let i = lo; i <= hi; i += 1) {\n        if (a > mid) {\n            mainArr[i] = auxArr[b];\n            b += 1;\n        } else if (b > hi) {\n            mainArr[i] = auxArr[a];\n            a += 1;\n        } else if (sortFn(auxArr[a], auxArr[b]) <= 0) {\n            mainArr[i] = auxArr[a];\n            a += 1;\n        } else {\n            mainArr[i] = auxArr[b];\n            b += 1;\n        }\n    }\n}\n\n/**\n * The helper function for merge sort which would be called\n * recursively for sorting the array halves.\n *\n * @param {Array} arr - The target array which needs to be sorted.\n * @param {number} lo - The starting index of the array half.\n * @param {number} hi - The ending index of the array half.\n * @param {Function} sortFn - The sort function.\n * @return {Array} Returns the target array itself.\n */\nfunction sort (arr, lo, hi, sortFn) {\n    if (hi === lo) { return arr; }\n\n    const mid = lo + Math.floor((hi - lo) / 2);\n    sort(arr, lo, mid, sortFn);\n    sort(arr, mid + 1, hi, sortFn);\n    merge(arr, lo, mid, hi, sortFn);\n\n    return arr;\n}\n\n/**\n * The implementation of merge sort.\n * It is used in DataModel for stable sorting as it is not sure\n * what the sorting algorithm used by browsers is stable or not.\n *\n * @param {Array} arr - The target array which needs to be sorted.\n * @param {Function} [sortFn=defSortFn] - The sort function.\n * @return {Array} Returns the input array itself in sorted order.\n */\nfunction mergeSort (arr, sortFn = defSortFn) {\n    if (arr.length > 1) {\n        sort(arr, 0, arr.length - 1, sortFn);\n    }\n    return arr;\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/natural-join-filter-function.js\":\n/*!******************************************************!*\\\n  !*** ./src/operator/natural-join-filter-function.js ***!\n  \\******************************************************/\n/*! exports provided: naturalJoinFilter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"naturalJoinFilter\", function() { return naturalJoinFilter; });\n/* harmony import */ var _get_common_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./get-common-schema */ \"./src/operator/get-common-schema.js\");\n\n\n/**\n * The filter function used in natural join.\n * It generates a function that will have the logic to join two\n * DataModel instances by the process of natural join.\n *\n * @param {DataModel} dm1 - The left DataModel instance.\n * @param {DataModel} dm2 - The right DataModel instance.\n * @return {Function} Returns a function that is used in cross-product operation.\n */\nfunction naturalJoinFilter (dm1, dm2) {\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    // const dm1FieldStoreName = dm1FieldStore.name;\n    // const dm2FieldStoreName = dm2FieldStore.name;\n    const commonSchemaArr = Object(_get_common_schema__WEBPACK_IMPORTED_MODULE_0__[\"getCommonSchema\"])(dm1FieldStore, dm2FieldStore);\n\n    return (dm1Fields, dm2Fields) => {\n        let retainTuple = true;\n        commonSchemaArr.forEach((fieldName) => {\n            if (dm1Fields[fieldName].value ===\n                dm2Fields[fieldName].value && retainTuple) {\n                retainTuple = true;\n            } else {\n                retainTuple = false;\n            }\n        });\n        return retainTuple;\n    };\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/natural-join.js\":\n/*!**************************************!*\\\n  !*** ./src/operator/natural-join.js ***!\n  \\**************************************/\n/*! exports provided: naturalJoin */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"naturalJoin\", function() { return naturalJoin; });\n/* harmony import */ var _cross_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cross-product */ \"./src/operator/cross-product.js\");\n/* harmony import */ var _natural_join_filter_function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./natural-join-filter-function */ \"./src/operator/natural-join-filter-function.js\");\n\n\n\nfunction naturalJoin (dataModel1, dataModel2) {\n    return Object(_cross_product__WEBPACK_IMPORTED_MODULE_0__[\"crossProduct\"])(dataModel1, dataModel2, Object(_natural_join_filter_function__WEBPACK_IMPORTED_MODULE_1__[\"naturalJoinFilter\"])(dataModel1, dataModel2), true);\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/outer-join.js\":\n/*!************************************!*\\\n  !*** ./src/operator/outer-join.js ***!\n  \\************************************/\n/*! exports provided: leftOuterJoin, rightOuterJoin, fullOuterJoin */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"leftOuterJoin\", function() { return leftOuterJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rightOuterJoin\", function() { return rightOuterJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fullOuterJoin\", function() { return fullOuterJoin; });\n/* harmony import */ var _cross_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cross-product */ \"./src/operator/cross-product.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.js\");\n/* harmony import */ var _union__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./union */ \"./src/operator/union.js\");\n\n\n\n\n\nfunction leftOuterJoin (dataModel1, dataModel2, filterFn) {\n    return Object(_cross_product__WEBPACK_IMPORTED_MODULE_0__[\"crossProduct\"])(dataModel1, dataModel2, filterFn, false, _constants__WEBPACK_IMPORTED_MODULE_1__[\"JOINS\"].LEFTOUTER);\n}\n\nfunction rightOuterJoin (dataModel1, dataModel2, filterFn) {\n    return Object(_cross_product__WEBPACK_IMPORTED_MODULE_0__[\"crossProduct\"])(dataModel2, dataModel1, filterFn, false, _constants__WEBPACK_IMPORTED_MODULE_1__[\"JOINS\"].RIGHTOUTER);\n}\n\nfunction fullOuterJoin (dataModel1, dataModel2, filterFn) {\n    return Object(_union__WEBPACK_IMPORTED_MODULE_2__[\"union\"])(leftOuterJoin(dataModel1, dataModel2, filterFn), rightOuterJoin(dataModel1, dataModel2, filterFn));\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/pure-operators.js\":\n/*!****************************************!*\\\n  !*** ./src/operator/pure-operators.js ***!\n  \\****************************************/\n/*! exports provided: calculateVariable, sort */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateVariable\", function() { return calculateVariable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sort\", function() { return sort; });\n/**\n * Wrapper on calculateVariable() method of DataModel to behave\n * the pure-function functionality.\n *\n * @param {Array} args - The argument list.\n * @return {any} Returns the returned value of calling function.\n */\nconst calculateVariable = (...args) => dm => dm.calculateVariable(...args);\n\n/**\n * Wrapper on sort() method of DataModel to behave\n * the pure-function functionality.\n *\n * @param {Array} args - The argument list.\n * @return {any} Returns the returned value of calling function.\n */\nconst sort = (...args) => dm => dm.sort(...args);\n\n\n/***/ }),\n\n/***/ \"./src/operator/row-diffset-iterator.js\":\n/*!**********************************************!*\\\n  !*** ./src/operator/row-diffset-iterator.js ***!\n  \\**********************************************/\n/*! exports provided: rowDiffsetIterator */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rowDiffsetIterator\", function() { return rowDiffsetIterator; });\n/**\n * Iterates through the diffSet array and call the callback with the current\n * index.\n *\n * @param {string} rowDiffset - The row diffset string e.g. '0-4,6,10-13'.\n * @param {Function} callback - The callback function to be called with every index.\n */\nfunction rowDiffsetIterator (rowDiffset, callback) {\n    if (rowDiffset.length > 0) {\n        const rowDiffArr = rowDiffset.split(',');\n        rowDiffArr.forEach((diffStr) => {\n            const diffStsArr = diffStr.split('-');\n            const start = +(diffStsArr[0]);\n            const end = +(diffStsArr[1] || diffStsArr[0]);\n            if (end >= start) {\n                for (let i = start; i <= end; i += 1) {\n                    callback(i);\n                }\n            }\n        });\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./src/operator/union.js\":\n/*!*******************************!*\\\n  !*** ./src/operator/union.js ***!\n  \\*******************************/\n/*! exports provided: union */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"union\", function() { return union; });\n/* harmony import */ var _export__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../export */ \"./src/export.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helper */ \"./src/utils/helper.js\");\n\n\n\n\n/**\n * Performs the union operation between two dm instances.\n *\n * @param {dm} dm1 - The first dm instance.\n * @param {dm} dm2 - The second dm instance.\n * @return {dm} Returns the newly created dm after union operation.\n */\nfunction union (dm1, dm2) {\n    const hashTable = {};\n    const schema = [];\n    const schemaNameArr = [];\n    const data = [];\n    const dm1FieldStore = dm1.getFieldspace();\n    const dm2FieldStore = dm2.getFieldspace();\n    const dm1FieldStoreFieldObj = dm1FieldStore.fieldsObj();\n    const dm2FieldStoreFieldObj = dm2FieldStore.fieldsObj();\n    const name = `${dm1FieldStore.name} union ${dm2FieldStore.name}`;\n\n    // For union the columns should match otherwise return a clone of the dm1\n    if (!Object(_utils_helper__WEBPACK_IMPORTED_MODULE_3__[\"isArrEqual\"])(dm1._colIdentifier.split(',').sort(), dm2._colIdentifier.split(',').sort())) {\n        return null;\n    }\n\n    // Prepare the schema\n    (dm1._colIdentifier.split(',')).forEach((fieldName) => {\n        const field = dm1FieldStoreFieldObj[fieldName];\n        schema.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema));\n        schemaNameArr.push(field.schema.name);\n    });\n\n    /**\n     * The helper function to create the data.\n     *\n     * @param {dm} dm - The dm instance for which the data is inserted.\n     * @param {Object} fieldsObj - The fieldStore object format.\n     */\n    function prepareDataHelper (dm, fieldsObj) {\n        Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__[\"rowDiffsetIterator\"])(dm._rowDiffset, (i) => {\n            const tuple = {};\n            let hashData = '';\n            schemaNameArr.forEach((schemaName) => {\n                const value = fieldsObj[schemaName].data[i];\n                hashData += `-${value}`;\n                tuple[schemaName] = value;\n            });\n            if (!hashTable[hashData]) {\n                data.push(tuple);\n                hashTable[hashData] = true;\n            }\n        });\n    }\n\n    // Prepare the data\n    prepareDataHelper(dm1, dm1FieldStoreFieldObj);\n    prepareDataHelper(dm2, dm2FieldStoreFieldObj);\n\n    return new _export__WEBPACK_IMPORTED_MODULE_0__[\"default\"](data, schema, { name });\n}\n\n\n/***/ }),\n\n/***/ \"./src/relation.js\":\n/*!*************************!*\\\n  !*** ./src/relation.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helper */ \"./src/helper.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n\n\n\n\n\n\n/**\n * Relation provides the definitions of basic operators of relational algebra like *selection*, *projection*, *union*,\n * *difference* etc.\n *\n * It is extended by {@link DataModel} to inherit the functionalities of relational algebra concept.\n *\n * @class\n * @public\n * @module Relation\n * @namespace DataModel\n */\nclass Relation {\n\n    /**\n     * Creates a new Relation instance by providing underlying data and schema.\n     *\n     * @private\n     *\n     * @param {Object | string | Relation} data - The input tabular data in dsv or json format or\n     * an existing Relation instance object.\n     * @param {Array} schema - An array of data schema.\n     * @param {Object} [options] - The optional options.\n     */\n    constructor (...params) {\n        let source;\n\n        this._parent = null;\n        this._derivation = [];\n        this._children = [];\n\n        if (params.length === 1 && ((source = params[0]) instanceof Relation)) {\n            // parent datamodel was passed as part of source\n            this._colIdentifier = source._colIdentifier;\n            this._rowDiffset = source._rowDiffset;\n            this._parent = source;\n            this._partialFieldspace = this._parent._partialFieldspace;\n            this._fieldStoreName = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUniqueId\"])();\n            this.__calculateFieldspace().calculateFieldsConfig();\n        } else {\n            Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"updateData\"])(this, ...params);\n            this._fieldStoreName = this._partialFieldspace.name;\n            this.__calculateFieldspace().calculateFieldsConfig();\n            this._propagationNameSpace = {\n                mutableActions: {},\n                immutableActions: {}\n            };\n        }\n    }\n\n    /**\n     * Retrieves the {@link Schema | schema} details for every {@link Field | field} as an array.\n     *\n     * @public\n     *\n     * @return {Array.<Schema>} Array of fields schema.\n     *      ```\n     *      [\n     *          { name: 'Name', type: 'dimension' },\n     *          { name: 'Miles_per_Gallon', type: 'measure', numberFormat: (val) => `${val} miles / gallon` },\n     *          { name: 'Cylinder', type: 'dimension' },\n     *          { name: 'Displacement', type: 'measure', defAggFn: 'max' },\n     *          { name: 'HorsePower', type: 'measure', defAggFn: 'max' },\n     *          { name: 'Weight_in_lbs', type: 'measure', defAggFn: 'avg',  },\n     *          { name: 'Acceleration', type: 'measure', defAggFn: 'avg' },\n     *          { name: 'Year', type: 'dimension', subtype: 'datetime', format: '%Y' },\n     *          { name: 'Origin' }\n     *      ]\n     *      ```\n     */\n    getSchema () {\n        return this.getFieldspace().fields.map(d => d.schema);\n    }\n\n    /**\n     * Returns the name of the {@link DataModel} instance. If no name was specified during {@link DataModel}\n     * initialization, then it returns a auto-generated name.\n     *\n     * @public\n     *\n     * @return {string} Name of the DataModel instance.\n     */\n    getName() {\n        return this._fieldStoreName;\n    }\n\n    getFieldspace () {\n        return this._fieldspace;\n    }\n\n    __calculateFieldspace () {\n        this._fieldspace = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"updateFields\"])([this._rowDiffset, this._colIdentifier],\n             this.getPartialFieldspace(), this._fieldStoreName);\n        return this;\n    }\n\n    getPartialFieldspace () {\n        return this._partialFieldspace;\n    }\n\n    /**\n     * Performs {@link link_of_cross_product | cross-product} between two {@link DataModel} instances and returns a\n     * new {@link DataModel} instance containing the results. This operation is also called theta join.\n     *\n     * Cross product takes two set and create one set where each value of one set is paired with each value of another\n     * set.\n     *\n     * This method takes an optional predicate which filters the generated result rows. If the predicate returns true\n     * the combined row is included in the resulatant table.\n     *\n     * @example\n     *  let originDM = dm.project(['Origin','Origin_Formal_Name']);\n     *  let carsDM = dm.project(['Name','Miles_per_Gallon','Origin'])\n     *\n     *  console.log(carsDM.join(originDM)));\n     *\n     *  console.log(carsDM.join(originDM,\n     *      obj => obj.[originDM.getName()].Origin === obj.[carsDM.getName()].Origin));\n     *\n     * @text\n     * This is chained version of `join` operator. `join` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} joinWith - The DataModel to be joined with the current instance DataModel.\n     * @param {SelectionPredicate} filterFn - The predicate function that will filter the result of the crossProduct.\n     *\n     * @return {DataModel} New DataModel instance created after joining.\n     */\n    join (joinWith, filterFn) {\n        return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"crossProduct\"])(this, joinWith, filterFn);\n    }\n\n    /**\n     * {@link natural_join | Natural join} is a special kind of cross-product join where filtering of rows are performed\n     * internally by resolving common fields are from both table and the rows with common value are included.\n     *\n     * @example\n     *  let originDM = dm.project(['Origin','Origin_Formal_Name']);\n     *  let carsDM = dm.project(['Name','Miles_per_Gallon','Origin'])\n     *\n     *  console.log(carsDM.naturalJoin(originDM));\n     *\n     * @text\n     * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} joinWith - The DataModel with which the current instance of DataModel on which the method is\n     *      called will be joined.\n     * @return {DataModel} New DataModel instance created after joining.\n     */\n    naturalJoin (joinWith) {\n        return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"crossProduct\"])(this, joinWith, Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"naturalJoinFilter\"])(this, joinWith), true);\n    }\n\n    /**\n     * {@link link_to_union | Union} operation can be termed as vertical stacking of all rows from both the DataModel\n     * instances, provided that both of the {@link DataModel} instances should have same column names.\n     *\n     * @example\n     * console.log(EuropeanMakerDM.union(USAMakerDM));\n     *\n     * @text\n     * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} unionWith - DataModel instance for which union has to be applied with the instance on which\n     *      the method is called\n     *\n     * @return {DataModel} New DataModel instance with the result of the operation\n     */\n    union (unionWith) {\n        return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"union\"])(this, unionWith);\n    }\n\n    /**\n     * {@link link_to_difference | Difference } operation only include rows which are present in the datamodel on which\n     * it was called but not on the one passed as argument.\n     *\n     * @example\n     * console.log(highPowerDM.difference(highExpensiveDM));\n     *\n     * @text\n     * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {DataModel} differenceWith - DataModel instance for which difference has to be applied with the instance\n     *      on which the method is called\n     * @return {DataModel} New DataModel instance with the result of the operation\n     */\n    difference (differenceWith) {\n        return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"difference\"])(this, differenceWith);\n    }\n\n    /**\n     * {@link link_to_selection | Selection} is a row filtering operation. It expects an predicate and an optional mode\n     * which control which all rows should be included in the resultant DataModel instance.\n     *\n     * {@link SelectionPredicate} is a function which returns a boolean value. For selection opearation the selection\n     * function is called for each row of DataModel instance with the current row passed as argument.\n     *\n     * After executing {@link SelectionPredicate} the rows are labeled as either an entry of selection set or an entry\n     * of rejection set.\n     *\n     * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n     * resulatant datamodel.\n     *\n     * @warning\n     * Selection and rejection set is only a logical idea for concept explanation purpose.\n     *\n     * @example\n     *  // with selection mode NORMAL:\n     *  const normDt = dt.select(fields => fields.Origin.value === \"USA\")\n     *  console.log(normDt));\n     *\n     * // with selection mode INVERSE:\n     * const inverDt = dt.select(fields => fields.Origin.value === \"USA\", { mode: DataModel.FilteringMode.INVERSE })\n     * console.log(inverDt);\n     *\n     * // with selection mode ALL:\n     * const dtArr = dt.select(fields => fields.Origin.value === \"USA\", { mode: DataModel.FilteringMode.ALL })\n     * // print the selected parts\n     * console.log(dtArr[0]);\n     * // print the inverted parts\n     * console.log(dtArr[1]);\n     *\n     * @text\n     * This is chained version of `select` operator. `select` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {SelectionPredicate} selectFn - Predicate funciton which is called for each row with the current row\n     *      ```\n     *          function (row, i)  { ... }\n     *      ```\n     * @param {Object} [config] - The configuration object to control the inclusion exclusion of a row in resultant\n     *      DataModel instance\n     * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - The mode of the selection\n     *\n     * @return {DataModel} Returns the new DataModel instance(s) after operation.\n     */\n    select (selectFn, config) {\n        const defConfig = {\n            mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL,\n            saveChild: true\n        };\n        config = Object.assign({}, defConfig, config);\n\n        const cloneConfig = { saveChild: config.saveChild };\n        let oDm;\n\n        if (config.mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL) {\n            const selectDm = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithSelect\"])(\n                this,\n                selectFn,\n                { mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL },\n                cloneConfig\n            );\n            const rejectDm = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithSelect\"])(\n                this,\n                selectFn,\n                { mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE },\n                cloneConfig\n            );\n            oDm = [selectDm, rejectDm];\n        } else {\n            oDm = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithSelect\"])(\n                this,\n                selectFn,\n                config,\n                cloneConfig\n            );\n        }\n\n        return oDm;\n    }\n\n    /**\n     * Retrieves a boolean value if the current {@link DataModel} instance has data.\n     *\n     * @example\n     * const schema = [\n     *    { name: 'CarName', type: 'dimension' },\n     *    { name: 'HorsePower', type: 'measure' },\n     *    { name: \"Origin\", type: 'dimension' }\n     * ];\n     * const data = [];\n     *\n     * const dt = new DataModel(schema, data);\n     * console.log(dt.isEmpty());\n     *\n     * @public\n     *\n     * @return {Boolean} True if the datamodel has no data, otherwise false.\n     */\n    isEmpty () {\n        return !this._rowDiffset.length || !this._colIdentifier.length;\n    }\n\n    /**\n     * Creates a clone from the current DataModel instance with child parent relationship.\n     *\n     * @private\n     * @param {boolean} [saveChild=true] - Whether the cloned instance would be recorded in the parent instance.\n     * @return {DataModel} - Returns the newly cloned DataModel instance.\n     */\n    clone (saveChild = true, linkParent = true) {\n        let retDataModel;\n        if (linkParent === false) {\n            const dataObj = this.getData({\n                getAllFields: true\n            });\n            const data = dataObj.data;\n            const schema = dataObj.schema;\n            const jsonData = data.map((row) => {\n                const rowObj = {};\n                schema.forEach((field, i) => {\n                    rowObj[field.name] = row[i];\n                });\n                return rowObj;\n            });\n            retDataModel = new this.constructor(jsonData, schema);\n        }\n        else {\n            retDataModel = new this.constructor(this);\n        }\n\n        if (saveChild) {\n            this._children.push(retDataModel);\n        }\n        return retDataModel;\n    }\n\n    /**\n     * {@link Projection} is filter column (field) operation. It expects list of fields' name and either include those\n     * or exclude those based on {@link FilteringMode} on the resultant variable.\n     *\n     * Projection expects array of fields name based on which it creates the selection and rejection set. All the field\n     * whose name is present in array goes in selection set and rest of the fields goes in rejection set.\n     *\n     * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n     * resulatant datamodel.\n     *\n     * @warning\n     * Selection and rejection set is only a logical idea for concept explanation purpose.\n     *\n     * @example\n     *  const dm = new DataModel(schema, data);\n     *\n     *  // with projection mode NORMAL:\n     *  const normDt = dt.project([\"Name\", \"HorsePower\"]);\n     *  console.log(normDt.getData());\n     *\n     *  // with projection mode INVERSE:\n     *  const inverDt = dt.project([\"Name\", \"HorsePower\"], { mode: DataModel.FilteringMode.INVERSE })\n     *  console.log(inverDt.getData());\n     *\n     *  // with selection mode ALL:\n     *  const dtArr = dt.project([\"Name\", \"HorsePower\"], { mode: DataModel.FilteringMode.ALL })\n     *  // print the normal parts\n     *  console.log(dtArr[0].getData());\n     *  // print the inverted parts\n     *  console.log(dtArr[1].getData());\n     *\n     * @text\n     * This is chained version of `select` operator. `select` can also be used as\n     * {@link link_to_join_op | functional operator}.\n     *\n     * @public\n     *\n     * @param {Array.<string | Regexp>} projField - An array of column names in string or regular expression.\n     * @param {Object} [config] - An optional config to control the creation of new DataModel\n     * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - Mode of the projection\n     *\n     * @return {DataModel} Returns the new DataModel instance after operation.\n     */\n    project (projField, config) {\n        const defConfig = {\n            mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL,\n            saveChild: true\n        };\n        config = Object.assign({}, defConfig, config);\n        const fieldConfig = this.getFieldsConfig();\n        const allFields = Object.keys(fieldConfig);\n        const { mode } = config;\n\n        let normalizedProjField = projField.reduce((acc, field) => {\n            if (field.constructor.name === 'RegExp') {\n                acc.push(...allFields.filter(fieldName => fieldName.search(field) !== -1));\n            } else if (field in fieldConfig) {\n                acc.push(field);\n            }\n            return acc;\n        }, []);\n\n        normalizedProjField = Array.from(new Set(normalizedProjField)).map(field => field.trim());\n        let dataModel;\n\n        if (mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL) {\n            let projectionClone = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithProject\"])(this, normalizedProjField, {\n                mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL,\n                saveChild: config.saveChild\n            }, allFields);\n            let rejectionClone = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithProject\"])(this, normalizedProjField, {\n                mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE,\n                saveChild: config.saveChild\n            }, allFields);\n            dataModel = [projectionClone, rejectionClone];\n        } else {\n            let projectionClone = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithProject\"])(this, normalizedProjField, config, allFields);\n            dataModel = projectionClone;\n        }\n\n        return dataModel;\n    }\n\n    getFieldsConfig () {\n        return this._fieldConfig;\n    }\n\n    calculateFieldsConfig () {\n        this._fieldConfig = this._fieldspace.fields.reduce((acc, fieldDef, i) => {\n            acc[fieldDef.name] = {\n                index: i,\n                def: { name: fieldDef._ref.name, type: fieldDef._ref.fieldType, subtype: fieldDef._ref.subType() }\n            };\n            return acc;\n        }, {});\n        return this;\n    }\n\n\n    /**\n     * Frees up the resources associated with the current DataModel instance and breaks all the links instance has in\n     * the DAG.\n     *\n     * @public\n     */\n    dispose () {\n        this._parent.removeChild(this);\n        this._parent = null;\n    }\n\n    /**\n     * Removes the specified child {@link DataModel} from the child list of the current {@link DataModel} instance.\n     *\n     * @example\n     * const schema = [\n     *    { name: 'Name', type: 'dimension' },\n     *    { name: 'HorsePower', type: 'measure' },\n     *    { name: \"Origin\", type: 'dimension' }\n     * ];\n     *\n     * const data = [\n     *    { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n     *    { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n     *    { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n     *    { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n     * ]\n     *\n     * const dt = new DataModel(schema, data);\n     *\n     * const dt2 = dt.select(fields => fields.Origin.value === \"USA\")\n     * dt.removeChild(dt2);\n     *\n     * @private\n     *\n     * @param {DataModel} child - Delegates the parent to remove this child.\n     */\n    removeChild (child) {\n        let idx = this._children.findIndex(sibling => sibling === child);\n        idx !== -1 ? this._children.splice(idx, 1) : true;\n    }\n\n    /**\n     * Adds the specified {@link DataModel} as a parent for the current {@link DataModel} instance.\n     *\n     * The optional criteriaQueue is an array containing the history of transaction performed on parent\n     *  {@link DataModel} to get the current one.\n     *\n     * @param {DataModel} parent - The datamodel instance which will act as parent.\n     * @param {Array} criteriaQueue - Queue contains in-between operation meta-data.\n     */\n    addParent (parent, criteriaQueue = []) {\n        Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"persistDerivation\"])(this, _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].COMPOSE, null, criteriaQueue);\n        this._parent = parent;\n        parent._children.push(this);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Relation);\n\n\n/***/ }),\n\n/***/ \"./src/stats/index.js\":\n/*!****************************!*\\\n  !*** ./src/stats/index.js ***!\n  \\****************************/\n/*! exports provided: sum, avg, min, max, first, last, count, sd */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sum\", function() { return sum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"avg\", function() { return avg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"min\", function() { return min; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"max\", function() { return max; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"first\", function() { return first; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"last\", function() { return last; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"count\", function() { return count; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sd\", function() { return sd; });\n/* harmony import */ var _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operator/group-by-function */ \"./src/operator/group-by-function.js\");\n\n\nconst { sum, avg, min, max, first, last, count, std: sd } = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"];\n\n\n/***/ }),\n\n/***/ \"./src/utils/column-major.js\":\n/*!***********************************!*\\\n  !*** ./src/utils/column-major.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * The utility function to calculate major column.\n *\n * @param {Object} store - The store object.\n * @return {Function} Returns the push function.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = ((store) => {\n    let i = 0;\n    return (...fields) => {\n        fields.forEach((val, fieldIndex) => {\n            if (!(store[fieldIndex] instanceof Array)) {\n                store[fieldIndex] = Array.from({ length: i });\n            }\n            store[fieldIndex].push(val);\n        });\n        i++;\n    };\n});\n\n\n/***/ }),\n\n/***/ \"./src/utils/date-time-formatter.js\":\n/*!******************************************!*\\\n  !*** ./src/utils/date-time-formatter.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DateTimeFormatter; });\n/**\n * Creates a JS native date object from input\n *\n * @param {string | number | Date} date Input using which date object to be created\n * @return {Date} : JS native date object\n */\nfunction convertToNativeDate (date) {\n    if (date instanceof Date) {\n        return date;\n    }\n\n    return new Date(date);\n}\n/**\n * Apply padding before a number if its less than 1o. This is used when constant digit's number to be returned\n * between 0 - 99\n *\n * @param {number} n Input to be padded\n * @return {string} Padded number\n */\nfunction pad (n) {\n    return (n < 10) ? (`0${n}`) : n;\n}\n/*\n * DateFormatter utility to convert any date format to any other date format\n * DateFormatter parse a date time stamp specified by a user abiding by rules which are defined\n * by user in terms of token. It creates JS native date object from the user specified format.\n * That native date can also be displayed\n * in any specified format.\n * This utility class only takes care of format conversion only\n */\n\n/*\n * Escapes all the special character that are used in regular expression.\n * Like\n * RegExp.escape('sgfd-$') // Output: sgfd\\-\\$\n *\n * @param text {String} : text which is to be escaped\n */\nRegExp.escape = function (text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n};\n\n/**\n * DateTimeFormatter class to convert any user format of date time stamp to any other format\n * of date time stamp.\n *\n * @param {string} format Format of the date given. For the above date,\n * 'year: %Y, month: %b, day: %d'.\n * @class\n */\n/* istanbul ignore next */ function DateTimeFormatter (format) {\n    this.format = format;\n    this.dtParams = undefined;\n    this.nativeDate = undefined;\n}\n\n// The identifier of the tokens\nDateTimeFormatter.TOKEN_PREFIX = '%';\n\n// JS native Date constructor takes the date params (year, month, etc) in a certail sequence.\n// This defines the sequence of the date parameters in the constructor.\nDateTimeFormatter.DATETIME_PARAM_SEQUENCE = {\n    YEAR: 0,\n    MONTH: 1,\n    DAY: 2,\n    HOUR: 3,\n    MINUTE: 4,\n    SECOND: 5,\n    MILLISECOND: 6\n};\n\n/*\n * This is a default number parsing utility. It tries to parse a number in integer, if parsing is unsuccessful, it\n * gives back a default value.\n *\n * @param: defVal {Number} : Default no if the parsing to integer is not successful\n * @return {Function} : An closure function which is to be called by passing an the value which needs to be parsed.\n */\nDateTimeFormatter.defaultNumberParser = function (defVal) {\n    return function (val) {\n        let parsedVal;\n        if (isFinite(parsedVal = parseInt(val, 10))) {\n            return parsedVal;\n        }\n\n        return defVal;\n    };\n};\n\n/*\n * This is a default number range utility. It tries to find an element in the range. If not found it returns a\n * default no as an index.\n *\n * @param: range {Array} : The list which is to be serached\n * @param: defVal {Number} : Default no if the serach and find does not return anything\n * @return {Function} : An closure function which is to be called by passing an the value which needs to be found\n */\nDateTimeFormatter.defaultRangeParser = function (range, defVal) {\n    return (val) => {\n        let i;\n        let l;\n\n        if (!val) { return defVal; }\n\n        const nVal = val.toLowerCase();\n\n        for (i = 0, l = range.length; i < l; i++) {\n            if (range[i].toLowerCase() === nVal) {\n                return i;\n            }\n        }\n\n        if (i === undefined) {\n            return defVal;\n        }\n        return null;\n    };\n};\n\n/*\n * Defines the tokens which are supporter by the dateformatter. Using this definitation a value gets extracted from\n * the user specifed date string. This also formats the value for display purpose from native JS date.\n * The definition of each token contains the following named properties\n * {\n *     %token_name% : {\n *         name: name of the token, this is used in reverse lookup,\n *         extract: a function that returns the regular expression to extract that piece of information. All the\n *                  regex should be gouped by using ()\n *         parser: a function which receives value extracted by the above regex and parse it to get the date params\n *         formatter: a formatter function that takes milliseconds or JS Date object and format the param\n *                  represented by the token only.\n *     }\n * }\n *\n * @return {Object} : Definition of the all the supported tokens.\n */\nDateTimeFormatter.getTokenDefinitions = function () {\n    const daysDef = {\n        short: [\n            'Sun',\n            'Mon',\n            'Tue',\n            'Wed',\n            'Thu',\n            'Fri',\n            'Sat'\n        ],\n        long: [\n            'Sunday',\n            'Monday',\n            'Tuesday',\n            'Wednesday',\n            'Thursday',\n            'Friday',\n            'Saturday'\n        ]\n    };\n    const monthsDef = {\n        short: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        long: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ]\n    };\n\n    const definitions = {\n        H: {\n            // 24 hours format\n            name: 'H',\n            index: 3,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n\n                return d.getHours().toString();\n            }\n        },\n        l: {\n            // 12 hours format\n            name: 'l',\n            index: 3,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const hours = d.getHours() % 12;\n\n                return (hours === 0 ? 12 : hours).toString();\n            }\n        },\n        p: {\n            // AM or PM\n            name: 'p',\n            index: 3,\n            extract () { return '(AM|PM)'; },\n            parser: (val) => {\n                if (val) {\n                    return val.toLowerCase();\n                }\n                return null;\n            },\n            formatter: (val) => {\n                const d = convertToNativeDate(val);\n                const hours = d.getHours();\n\n                return (hours < 12 ? 'AM' : 'PM');\n            }\n        },\n        P: {\n            // am or pm\n            name: 'P',\n            index: 3,\n            extract () { return '(am|pm)'; },\n            parser: (val) => {\n                if (val) {\n                    return val.toLowerCase();\n                }\n                return null;\n            },\n            formatter: (val) => {\n                const d = convertToNativeDate(val);\n                const hours = d.getHours();\n\n                return (hours < 12 ? 'am' : 'pm');\n            }\n        },\n        M: {\n            // Two digit minutes 00 - 59\n            name: 'M',\n            index: 4,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const mins = d.getMinutes();\n\n                return pad(mins);\n            }\n        },\n        S: {\n            // Two digit seconds 00 - 59\n            name: 'S',\n            index: 5,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const seconds = d.getSeconds();\n\n                return pad(seconds);\n            }\n        },\n        K: {\n            // Milliseconds\n            name: 'K',\n            index: 6,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const ms = d.getMilliseconds();\n\n                return ms.toString();\n            }\n        },\n        a: {\n            // Short name of day, like Mon\n            name: 'a',\n            index: 2,\n            extract () { return `(${daysDef.short.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(daysDef.short),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDay();\n\n                return (daysDef.short[day]).toString();\n            }\n        },\n        A: {\n            // Long name of day, like Monday\n            name: 'A',\n            index: 2,\n            extract () { return `(${daysDef.long.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(daysDef.long),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDay();\n\n                return (daysDef.long[day]).toString();\n            }\n        },\n        e: {\n            // 8 of March, 11 of November\n            name: 'e',\n            index: 2,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDate();\n\n                return day.toString();\n            }\n        },\n        d: {\n            // 08 of March, 11 of November\n            name: 'd',\n            index: 2,\n            extract () { return '(\\\\d+)'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const day = d.getDate();\n\n                return pad(day);\n            }\n        },\n        b: {\n            // Short month, like Jan\n            name: 'b',\n            index: 1,\n            extract () { return `(${monthsDef.short.join('|')})`; },\n            parser: DateTimeFormatter.defaultRangeParser(monthsDef.short),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const month = d.getMonth();\n\n                return (monthsDef.short[month]).toString();\n            }\n        },\n        B: {\n            // Long month, like January\n            name: 'B',\n            index: 1,\n            extract () { return `(${monthsDef.long.join('|')})`; },\n            parser: DateTimeFormatter.defaultNumberParser(monthsDef.long),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const month = d.getMonth();\n\n                return (monthsDef.long[month]).toString();\n            }\n        },\n        m: {\n            // Two digit month of year like 01 for January\n            name: 'm',\n            index: 1,\n            extract () { return '(\\\\d+)'; },\n            parser (val) { return DateTimeFormatter.defaultNumberParser()(val) - 1; },\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const month = d.getMonth();\n\n                return pad(month + 1);\n            }\n        },\n        y: {\n            // Short year like 90 for 1990\n            name: 'y',\n            index: 0,\n            extract () { return '(\\\\d{4})'; },\n            parser (val) {\n                if (val) {\n                    const l = val.length;\n                    val = val.substring(l - 2, l);\n                }\n\n                return DateTimeFormatter.defaultNumberParser()(val);\n            },\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                let year = d.getFullYear().toString();\n                let l;\n\n                if (year) {\n                    l = year.length;\n                    year = year.substring(l - 2, l);\n                }\n\n                return year;\n            }\n        },\n        Y: {\n            // Long year like 1990\n            name: 'Y',\n            index: 0,\n            extract () { return '(\\\\d{4})'; },\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter (val) {\n                const d = convertToNativeDate(val);\n                const year = d.getFullYear().toString();\n\n                return year;\n            }\n        }\n    };\n\n    return definitions;\n};\n\n/*\n * The tokens which works internally is not user friendly in terms of memorizing the names. This gives a formal\n * definition to the informal notations.\n *\n * @return {Object} : Formal definition of the tokens\n */\nDateTimeFormatter.getTokenFormalNames = function () {\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n\n    return {\n        HOUR: definitions.H,\n        HOUR_12: definitions.l,\n        AMPM_UPPERCASE: definitions.p,\n        AMPM_LOWERCASE: definitions.P,\n        MINUTE: definitions.M,\n        SECOND: definitions.S,\n        SHORT_DAY: definitions.a,\n        LONG_DAY: definitions.A,\n        DAY_OF_MONTH: definitions.e,\n        DAY_OF_MONTH_CONSTANT_WIDTH: definitions.d,\n        SHORT_MONTH: definitions.b,\n        LONG_MONTH: definitions.B,\n        MONTH_OF_YEAR: definitions.m,\n        SHORT_YEAR: definitions.y,\n        LONG_YEAR: definitions.Y\n    };\n};\n\n/*\n * This defines the rules and declares dependencies that resolves a date parameter (year, month etc) from\n * the date time parameter array.\n *\n * @return {Object} : An object that contains dependencies and a resolver function. The dependencies values are fed\n *                  to the resolver function in that particular sequence only.\n */\nDateTimeFormatter.tokenResolver = function () {\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    const defaultResolver = (...args) => { // eslint-disable-line require-jsdoc\n        let i = 0;\n        let arg;\n        let targetParam;\n        const l = args.length;\n\n        for (; i < l; i++) {\n            arg = args[i];\n            if (args[i]) {\n                targetParam = arg;\n            }\n        }\n\n        if (!targetParam) { return null; }\n\n        return targetParam[0].parser(targetParam[1]);\n    };\n\n    return {\n        YEAR: [definitions.y, definitions.Y,\n            defaultResolver\n        ],\n        MONTH: [definitions.b, definitions.B, definitions.m,\n            defaultResolver\n        ],\n        DAY: [definitions.a, definitions.A, definitions.e, definitions.d,\n            defaultResolver\n        ],\n        HOUR: [definitions.H, definitions.l, definitions.p, definitions.P,\n            function (hourFormat24, hourFormat12, ampmLower, ampmUpper) {\n                let targetParam;\n                let amOrpm;\n                let isPM;\n                let val;\n\n                if (hourFormat12 && (amOrpm = (ampmLower || ampmUpper))) {\n                    if (amOrpm[0].parser(amOrpm[1]) === 'pm') {\n                        isPM = true;\n                    }\n\n                    targetParam = hourFormat12;\n                } else if (hourFormat12) {\n                    targetParam = hourFormat12;\n                } else {\n                    targetParam = hourFormat24;\n                }\n\n                if (!targetParam) { return null; }\n\n                val = targetParam[0].parser(targetParam[1]);\n                if (isPM) {\n                    val += 12;\n                }\n                return val;\n            }\n        ],\n        MINUTE: [definitions.M,\n            defaultResolver\n        ],\n        SECOND: [definitions.S,\n            defaultResolver\n        ]\n    };\n};\n\n/*\n * Finds token from the format rule specified by a user.\n * @param format {String} : The format of the input date specified by the user\n * @return {Array} : An array of objects which contains the available token and their occurence index in the format\n */\nDateTimeFormatter.findTokens = function (format) {\n    const tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    const tokenLiterals = Object.keys(definitions);\n    const occurrence = [];\n    let i;\n    let forwardChar;\n\n    while ((i = format.indexOf(tokenPrefix, i + 1)) >= 0) {\n        forwardChar = format[i + 1];\n        if (tokenLiterals.indexOf(forwardChar) === -1) { continue; }\n\n        occurrence.push({\n            index: i,\n            token: forwardChar\n        });\n    }\n\n    return occurrence;\n};\n\n/*\n * Format any JS date to a specified date given by user.\n *\n * @param date {Number | Date} : The date object which is to be formatted\n * @param format {String} : The format using which the date will be formatted for display\n */\nDateTimeFormatter.formatAs = function (date, format) {\n    const nDate = convertToNativeDate(date);\n    const occurrence = DateTimeFormatter.findTokens(format);\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    let formattedStr = String(format);\n    const tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    let token;\n    let formattedVal;\n    let i;\n    let l;\n\n    for (i = 0, l = occurrence.length; i < l; i++) {\n        token = occurrence[i].token;\n        formattedVal = definitions[token].formatter(nDate);\n        formattedStr = formattedStr.replace(new RegExp(tokenPrefix + token, 'g'), formattedVal);\n    }\n\n    return formattedStr;\n};\n\n/*\n * Parses the user specified date string to extract the date time params.\n *\n * @return {Array} : Value of date time params in an array [year, month, day, hour, minutes, seconds, milli]\n */\nDateTimeFormatter.prototype.parse = function (dateTimeStamp, options) {\n    const tokenResolver = DateTimeFormatter.tokenResolver();\n    const dtParams = this.extractTokenValue(dateTimeStamp);\n    const dtParamSeq = DateTimeFormatter.DATETIME_PARAM_SEQUENCE;\n    const noBreak = options && options.noBreak;\n    const dtParamArr = [];\n    const args = [];\n    let resolverKey;\n    let resolverParams;\n    let resolverFn;\n    let val;\n    let i;\n    let param;\n    let resolvedVal;\n    let l;\n\n    for (resolverKey in tokenResolver) {\n        if (!{}.hasOwnProperty.call(tokenResolver, resolverKey)) { continue; }\n\n        args.length = 0;\n        resolverParams = tokenResolver[resolverKey];\n        resolverFn = resolverParams.splice(resolverParams.length - 1, 1)[0];\n\n        for (i = 0, l = resolverParams.length; i < l; i++) {\n            param = resolverParams[i];\n            val = dtParams[param.name];\n\n            if (val === undefined) {\n                args.push(null);\n            } else {\n                args.push([param, val]);\n            }\n        }\n\n        resolvedVal = resolverFn.apply(this, args);\n\n        if ((resolvedVal === undefined || resolvedVal === null) && !noBreak) {\n            break;\n        }\n\n        dtParamArr[dtParamSeq[resolverKey]] = resolvedVal;\n    }\n\n    return dtParamArr;\n};\n\n/*\n * Extract the value of the token from user specified date time string.\n *\n * @return {Object} : An key value pair which contains the tokens as key and value as pair\n */\nDateTimeFormatter.prototype.extractTokenValue = function (dateTimeStamp) {\n    const format = this.format;\n    const definitions = DateTimeFormatter.getTokenDefinitions();\n    const tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    const occurrence = DateTimeFormatter.findTokens(format);\n    const tokenObj = {};\n\n    let lastOccurrenceIndex;\n    let occObj;\n    let occIndex;\n    let targetText;\n    let regexFormat;\n\n    let l;\n    let i;\n\n    regexFormat = String(format);\n\n    const tokenArr = occurrence.map(obj => obj.token);\n    const occurrenceLength = occurrence.length;\n    for (i = occurrenceLength - 1; i >= 0; i--) {\n        occIndex = occurrence[i].index;\n\n        if (occIndex + 1 === regexFormat.length - 1) {\n            lastOccurrenceIndex = occIndex;\n            continue;\n        }\n\n        if (lastOccurrenceIndex === undefined) {\n            lastOccurrenceIndex = regexFormat.length;\n        }\n\n        targetText = regexFormat.substring(occIndex + 2, lastOccurrenceIndex);\n        regexFormat = regexFormat.substring(0, occIndex + 2) +\n            RegExp.escape(targetText) +\n            regexFormat.substring(lastOccurrenceIndex, regexFormat.length);\n\n        lastOccurrenceIndex = occIndex;\n    }\n\n    for (i = 0; i < occurrenceLength; i++) {\n        occObj = occurrence[i];\n        regexFormat = regexFormat.replace(tokenPrefix + occObj.token, definitions[occObj.token].extract());\n    }\n\n    const extractValues = dateTimeStamp.match(new RegExp(regexFormat)) || [];\n    extractValues.shift();\n\n    for (i = 0, l = tokenArr.length; i < l; i++) {\n        tokenObj[tokenArr[i]] = extractValues[i];\n    }\n    return tokenObj;\n};\n\n/*\n * Give back the JS native date formed from  user specified date string\n *\n * @return {Date} : Native JS Date\n */\nDateTimeFormatter.prototype.getNativeDate = function (dateTimeStamp) {\n    if (dateTimeStamp instanceof Date) {\n        return dateTimeStamp;\n    } else if (isFinite(dateTimeStamp) && !!this.format) {\n        return new Date(dateTimeStamp);\n    }\n\n    const dtParams = this.dtParams = this.parse(dateTimeStamp);\n\n    dtParams.unshift(null);\n    this.nativeDate = new (Function.prototype.bind.apply(Date, dtParams))();\n    return this.nativeDate;\n};\n\n/*\n * Represents JS native date to a user specified format.\n *\n * @param format {String} : The format according to which the date is to be represented\n * @return {String} : The formatted date string\n */\nDateTimeFormatter.prototype.formatAs = function (format, dateTimeStamp) {\n    let nativeDate;\n\n    if (dateTimeStamp) {\n        nativeDate = this.nativeDate = this.getNativeDate(dateTimeStamp);\n    } else if (!(nativeDate = this.nativeDate)) {\n        nativeDate = this.getNativeDate(dateTimeStamp);\n    }\n\n    return DateTimeFormatter.formatAs(nativeDate, format);\n};\n\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/domain-generator.js\":\n/*!***************************************!*\\\n  !*** ./src/utils/domain-generator.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Generates domain for measure field.\n *\n * @param {Array} data - The array of data.\n * @return {Array} Returns the measure domain.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = ((data) => {\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    data.forEach((d) => {\n        if (d < min) {\n            min = d;\n        }\n        if (d > max) {\n            max = d;\n        }\n    });\n\n    return [min, max];\n});\n\n\n/***/ }),\n\n/***/ \"./src/utils/extend2.js\":\n/*!******************************!*\\\n  !*** ./src/utils/extend2.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return extend2; });\n/* eslint-disable */\nconst OBJECTSTRING = 'object';\nconst objectToStrFn = Object.prototype.toString;\nconst objectToStr = '[object Object]';\nconst arrayToStr = '[object Array]';\n\nfunction checkCyclicRef(obj, parentArr) {\n    let i = parentArr.length;\n    let bIndex = -1;\n\n    while (i) {\n        if (obj === parentArr[i]) {\n            bIndex = i;\n            return bIndex;\n        }\n        i -= 1;\n    }\n\n    return bIndex;\n}\n\nfunction merge(obj1, obj2, skipUndef, tgtArr, srcArr) {\n    var item,\n        srcVal,\n        tgtVal,\n        str,\n        cRef;\n    // check whether obj2 is an array\n    // if array then iterate through it's index\n    // **** MOOTOOLS precution\n\n    if (!srcArr) {\n        tgtArr = [obj1];\n        srcArr = [obj2];\n    }\n    else {\n        tgtArr.push(obj1);\n        srcArr.push(obj2);\n    }\n\n    if (obj2 instanceof Array) {\n        for (item = 0; item < obj2.length; item += 1) {\n            try {\n                srcVal = obj1[item];\n                tgtVal = obj2[item];\n            }\n            catch (e) {\n                continue;\n            }\n\n            if (typeof tgtVal !== OBJECTSTRING) {\n                if (!(skipUndef && tgtVal === undefined)) {\n                    obj1[item] = tgtVal;\n                }\n            }\n            else {\n                if (srcVal === null || typeof srcVal !== OBJECTSTRING) {\n                    srcVal = obj1[item] = tgtVal instanceof Array ? [] : {};\n                }\n                cRef = checkCyclicRef(tgtVal, srcArr);\n                if (cRef !== -1) {\n                    srcVal = obj1[item] = tgtArr[cRef];\n                }\n                else {\n                    merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                }\n            }\n        }\n    }\n    else {\n        for (item in obj2) {\n            try {\n                srcVal = obj1[item];\n                tgtVal = obj2[item];\n            }\n            catch (e) {\n                continue;\n            }\n\n            if (tgtVal !== null && typeof tgtVal === OBJECTSTRING) {\n                // Fix for issue BUG: FWXT-602\n                // IE < 9 Object.prototype.toString.call(null) gives\n                // '[object Object]' instead of '[object Null]'\n                // that's why null value becomes Object in IE < 9\n                str = objectToStrFn.call(tgtVal);\n                if (str === objectToStr) {\n                    if (srcVal === null || typeof srcVal !== OBJECTSTRING) {\n                        srcVal = obj1[item] = {};\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    }\n                    else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                }\n                else if (str === arrayToStr) {\n                    if (srcVal === null || !(srcVal instanceof Array)) {\n                        srcVal = obj1[item] = [];\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    }\n                    else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                }\n                else {\n                    obj1[item] = tgtVal;\n                }\n            }\n            else {\n                if (skipUndef && tgtVal === undefined) {\n                    continue;\n                }\n                obj1[item] = tgtVal;\n            }\n        }\n    }\n    return obj1;\n}\n\n\nfunction extend2 (obj1, obj2, skipUndef) {\n    //if none of the arguments are object then return back\n    if (typeof obj1 !== OBJECTSTRING && typeof obj2 !== OBJECTSTRING) {\n        return null;\n    }\n\n    if (typeof obj2 !== OBJECTSTRING || obj2 === null) {\n        return obj1;\n    }\n\n    if (typeof obj1 !== OBJECTSTRING) {\n        obj1 = obj2 instanceof Array ? [] : {};\n    }\n    merge(obj1, obj2, skipUndef);\n    return obj1;\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/helper.js\":\n/*!*****************************!*\\\n  !*** ./src/utils/helper.js ***!\n  \\*****************************/\n/*! exports provided: isArray, isObject, isString, isCallable, uniqueValues, getUniqueId, getMinDiff, isArrEqual, formatNumber */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return isArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return isObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isString\", function() { return isString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isCallable\", function() { return isCallable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uniqueValues\", function() { return uniqueValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUniqueId\", function() { return getUniqueId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMinDiff\", function() { return getMinDiff; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArrEqual\", function() { return isArrEqual; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatNumber\", function() { return formatNumber; });\n/**\n * Checks whether the value is an array.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is an array otherwise returns false.\n */\nfunction isArray (val) {\n    return Array.isArray(val);\n}\n\n/**\n * Checks whether the value is an object.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is an object otherwise returns false.\n */\nfunction isObject (val) {\n    return val === Object(val);\n}\n\n/**\n * Checks whether the value is a string value.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is a string value otherwise returns false.\n */\nfunction isString (val) {\n    return typeof val === 'string';\n}\n\n/**\n * Checks whether the value is callable.\n *\n * @param {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is callable otherwise returns false.\n */\nfunction isCallable (val) {\n    return typeof val === 'function';\n}\n\n/**\n * Returns the unique values from the input array.\n *\n * @param {Array} data - The input array.\n * @return {Array} Returns a new array of unique values.\n */\nfunction uniqueValues (data) {\n    return [...new Set(data)];\n}\n\nconst getUniqueId = () => `id-${new Date().getTime()}${Math.round(Math.random() * 10000)}`;\n\nconst unique = arr => ([...new Set(arr)]);\n\n/**\n * Gets the minimum difference between two consecutive numbers  in an array.\n * @param {Array} arr Array of numbers\n * @param {number} index index of the value\n * @return {number} minimum difference between values\n */\nconst getMinDiff = (arr, index) => {\n    let diff;\n    let uniqueVals;\n    if (index !== undefined) {\n        uniqueVals = unique(arr.map(d => d[index]));\n    } else {\n        uniqueVals = unique(arr);\n    }\n    if (uniqueVals.length > 1) {\n        diff = Math.abs(uniqueVals[1] - uniqueVals[0]);\n        for (let i = 2, len = uniqueVals.length; i < len; i++) {\n            diff = Math.min(diff, Math.abs(uniqueVals[i] - uniqueVals[i - 1]));\n        }\n    } else {\n        diff = uniqueVals[0];\n    }\n\n    return diff;\n};\n\n/**\n * Checks Whether two arrays have same content.\n *\n * @param {Array} arr1 - The first array.\n * @param {Array} arr2 - The 2nd array.\n * @return {boolean} Returns whether two array have same content.\n */\nfunction isArrEqual(arr1, arr2) {\n    if (!isArray(arr1) || !isArray(arr2)) {\n        return arr1 === arr2;\n    }\n\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * Checks Whether two arrays have same content.\n *\n * @param {Array} arr1 - The first array.\n * @param {Array} arr2 - The 2nd array.\n * @return {boolean} Returns whether two array have same content.\n */\nfunction formatNumber(val) {\n    return val;\n}\n\n\n/***/ }),\n\n/***/ \"./src/utils/index.js\":\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/*! exports provided: DateTimeFormatter, columnMajor, generateMeasureDomain, extend2, isArray, isObject, isString, isCallable, uniqueValues, getUniqueId, getMinDiff, isArrEqual, formatNumber */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _date_time_formatter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date-time-formatter */ \"./src/utils/date-time-formatter.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DateTimeFormatter\", function() { return _date_time_formatter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _column_major__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./column-major */ \"./src/utils/column-major.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"columnMajor\", function() { return _column_major__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _domain_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./domain-generator */ \"./src/utils/domain-generator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"generateMeasureDomain\", function() { return _domain_generator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _extend2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./extend2 */ \"./src/utils/extend2.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"extend2\", function() { return _extend2__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helper */ \"./src/utils/helper.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isArray\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isObject\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isString\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isString\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isCallable\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isCallable\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"uniqueValues\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"uniqueValues\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getUniqueId\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"getUniqueId\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getMinDiff\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"getMinDiff\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isArrEqual\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isArrEqual\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"formatNumber\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"formatNumber\"]; });\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/reducer-store.js\":\n/*!************************************!*\\\n  !*** ./src/utils/reducer-store.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operator */ \"./src/operator/index.js\");\n\n\n/**\n * A page level storage which stores, registers, unregisters reducers for all the datamodel instances. There is only one\n * reducer store available in a page. All the datamodel instances receive same instance of reducer store. DataModel\n * out of the box provides handful of {@link reducer | reducers} which can be used as reducer funciton.\n *\n * @public\n * @namespace DataModel\n */\nclass ReducerStore {\n    constructor () {\n        this.store = new Map();\n        this.store.set('defReducer', _operator__WEBPACK_IMPORTED_MODULE_0__[\"defReducer\"]);\n\n        Object.entries(_operator__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"]).forEach((key) => {\n            this.store.set(key[0], key[1]);\n        });\n    }\n\n    /**\n     * Changes the `defaultReducer` globally. For all the fields which does not have `defAggFn` mentioned in schema, the\n     * value of `defaultReducer` is used for aggregation.\n     *\n     * @public\n     *\n     * @param {string} [reducer='sum'] name of the default reducer. It picks up the definition from store by doing name\n     *      lookup. If no name is found then it takes `sum` as the default reducer.\n     *\n     * @return {ReducerStore} instance of the singleton store in page.\n     */\n    defaultReducer (...params) {\n        if (params.length) {\n            let reducer = params[0];\n            if (typeof reducer === 'function') {\n                this.store.set('defReducer', reducer);\n            } else if (typeof reducer === 'string') {\n                if (Object.keys(_operator__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"]).indexOf(reducer) !== -1) {\n                    this.store.set('defReducer', _operator__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"][reducer]);\n                }\n            }\n            return this;\n        }\n\n        return this.store.get('defReducer');\n    }\n\n    /**\n     *\n     * Registers a {@link reducer | reducer}.\n     * A {@link reducer | reducer} has to be registered before it is used.\n     *\n     * @example\n     *  // find the mean squared value of a given set\n     *  const reducerStore = DataModel.Reducers();\n     *\n     *  reducers.register('meanSquared', (arr) => {\n     *      const squaredVal = arr.map(item => item * item);\n     *      let sum = 0;\n     *      for (let i = 0, l = squaredVal.length; i < l; i++) {\n     *          sum += squaredVal[i++];\n     *      }\n     *\n     *      return sum;\n     *  })\n     *\n     *  // datamodel (dm) is already prepared with cars.json\n     *  const dm1 = dm.groupBy(['origin'], {\n     *      accleration: 'meanSquared'\n     *  });\n     *\n     * @public\n     *\n     * @param {string} name formal name for a reducer. If the given name already exists in store it is overridden by new\n     *      definition.\n     * @param {Function} reducer definition of {@link reducer} function.\n     *\n     * @return {Function} function for unregistering the reducer.\n     */\n    register (name, reducer) {\n        if (typeof name === 'string' && typeof reducer === 'function') {\n            this.store.set(name, reducer);\n        }\n\n        return () => { this.__unregister(name); };\n    }\n\n    __unregister (name) {\n        if (this.store.has(name)) {\n            this.store.delete(name);\n        }\n    }\n\n    resolve (name) {\n        if (name instanceof Function) {\n            return name;\n        }\n        return this.store.get(name);\n    }\n}\n\nconst reducerStore = (function () {\n    let store = null;\n\n    function getStore () {\n        if (store === null) {\n            store = new ReducerStore();\n        }\n        return store;\n    }\n    return getStore();\n}());\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (reducerStore);\n\n\n/***/ }),\n\n/***/ \"./src/value.js\":\n/*!**********************!*\\\n  !*** ./src/value.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * The wrapper class on top of the primitive value of a field.\n *\n * @todo Need to have support for StringValue, NumberValue, DateTimeValue\n * and GeoValue. These types should expose predicate API mostly.\n */\nclass Value {\n\n  /**\n   * Creates new Value instance.\n   *\n   * @param {*} val - the primitive value from the field cell.\n   * @param {string | Field} field - The field from which the value belongs.\n   */\n    constructor (val, field) {\n        Object.defineProperty(this, '_value', {\n            enumerable: false,\n            configurable: false,\n            writable: false,\n            value: val\n        });\n\n        this.field = field;\n    }\n\n  /**\n   * Returns the field value.\n   *\n   * @return {*} Returns the current value.\n   */\n    get value () {\n        return this._value;\n    }\n\n  /**\n   * Converts to human readable string.\n   *\n   * @override\n   * @return {string} Returns a human readable string of the field value.\n   *\n   */\n    toString () {\n        return String(this.value);\n    }\n\n  /**\n   * Returns the value of the field.\n   *\n   * @override\n   * @return {*} Returns the field value.\n   */\n    valueOf () {\n        return this.value;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Value);\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=datamodel.js.map","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"hyperdis\",[],t):\"object\"==typeof exports?exports.hyperdis=t():e.hyperdis=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(e,t){e.forEach(function(e){void 0!==e&&null!==e&&(t[e]=1)})},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._set={},i(t,this._set)}return n(e,[{key:\"append\",value:function(e){return i(e,this._set),this}},{key:\"toArray\",value:function(){return Object.keys(this._set)}}],[{key:\"difference\",value:function(t,r){var n=void 0,i=[],o=t._set,u=r._set;for(n in o)({}).hasOwnProperty.call(o,n)&&(n in u||i.push(n));return new e(i)}}]),e}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var l=function(e){if(\"object\"===(void 0===e?\"undefined\":a(e))){if(null===e)return!1;if(\"[object Object]\"===Object.prototype.toString.call(e))return\"Object\"===(e.constructor.toString().match(/^function (.*)\\(\\)/m)||[])[1]}return!1},c=\"undefined\"==typeof window?{}:window,f=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(e){setTimeout(e,16)},h=function e(){return e.__lastTime===(new Date).getTime()?e.__lastTime.toString()+(e.__id++).toString():(e.__id=0,(e.__lastTime=(new Date).getTime()).toString()+(e.__id++).toString())},d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=[];return t.forEach(function(e){return n.push.apply(n,s(e))}),n},p=function(e){var t=[],r=null;return e=e&&\"function\"==typeof e&&e||function(){},function(n){[].push.apply(t,n),null===r&&(r=f(function(){(function(e){return e.reduce(function(e,t){return t.__id in e.map?e:(e.map[t.__id]=1,e.unique.push(t),e)},{map:{},unique:[]}).unique})(t).forEach(function(e){return e()}),e(),r=null,t.length=0}))}},v=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map(function(t){var r=e[t];return{name:r.name,qualifiedName:r.qualifiedName,value:r.seed}})}},y=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return{dependencies:t.slice(0,t.length-1),fn:t[t.length-1]}},g=function(e){var t=[],r={};return e.forEach(function(e){return r[e.qualifiedName]=-1}),function e(n){n.forEach(function(n){var i,o=void 0,u=void 0,a=void 0;(i=n.qualifiedName)in r?-1!==(o=r[i])&&o!==t.length-1&&(u=t.slice(0,o),a=t.slice(o+1),t=u.concat(a),a.forEach(function(e,t){return r[e.qualifiedName]=t+u.length}),r[i]=t.push(n)-1):r[i]=t.push(n)-1,e(n.outgoingEdges)})}(e),t},m={accumulate:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n={};return t.forEach(function(e){Object.assign(n,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.name,e.value))}),n},identity:function(e){return e.value}};var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.fn=t,this.dep=[]}return u(e,[{key:\"addDependencies\",value:function(){var e;return(e=this.dep).push.apply(e,arguments),this}},{key:\"getDependencies\",value:function(){return this.dep}},{key:\"get\",value:function(){return this.fn}}]),e}(),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function k(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var w=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=n||{},this.name=t,this.qualifiedName=r,this.edges=[],this.outgoingEdges=[],this._seed=null,this.requireResolve=!0,this.retriever=n.retriever,this.history=[],this.resolver=null,this.electricEdges=[]}return b(e,[{key:\"addDependencies\",value:function(){for(var e,t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.edges).push.apply(e,n),n.forEach(function(e){return e.outgoingEdges.push(t)}),this}},{key:\"addElectricNode\",value:function(e){return this.electricEdges.push(e),this}},{key:\"resolve\",value:function(){return this.seed=this.resolver.apply(this,k(this.retrieveDetails())),this.history.push(this.seed),this.requireResolve=!1,this}},{key:\"retrieveDetails\",value:function(){return 0===this.edges.length?[{name:this.name,qualifiedName:this.qualifiedName,value:this.seed}]:this.retriever.apply(this,k(this.edges.map(function(e){return e.qualifiedName})))}},{key:\"repeatHead\",value:function(){var e=this.history,t=e[e.length-1];return 0===e.length?this:(e.push(t),this)}},{key:\"flush\",value:function(){var e=this.history,t=e[e.length-1];return e.length=0,e.push(t),this}},{key:\"isRoot\",value:function(){return null===this.name}},{key:\"seed\",get:function(){return this._seed},set:function(e){return this._seed=e,this.requireResolve=!0,this}}]),e}(),q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.edges=[],this.listeners={nextFrame:[],currentFrame:[]}}return q(e,[{key:\"addEdges\",value:function(){var e;return(e=this.edges).push.apply(e,arguments),this}},{key:\"regListenerForCurrFrame\",value:function(e){var t=this,r=this.listeners.currentFrame,n=r.push(function(e,t){var r=function(){t.apply(void 0,s(e.map(function(e){var t=e.history,r=t.length-1;return[t[r-1<0?0:r-1],t[r]]})))};return r.__id=h(),r}(this.edges,e))-1;return function(){t.listeners.currentFrame=r.filter(function(e,t){return t!==n})}}},{key:\"regListenerForNextFrame\",value:function(e){var t=this,r=this.listeners.nextFrame,n=r.push(function(e,t){var r=function(){t.apply(void 0,s(e.map(function(e){var t=e.history;return[t[0],t[t.length-1]]})))};return r.__id=h(),r}(this.edges,e))-1;return function(){t.listeners.nextFrame=r.filter(function(e,t){return t!==n})}}},{key:\"hasNextFrameListener\",value:function(){return!!this.listeners.nextFrame.length}}]),e}(),N=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function F(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var O=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.qualifiedNodeMap={},this.retriever=v(this.qualifiedNodeMap),this.root=new w(null,null,{retriever:this.retriever}),this.root.resolver=m.accumulate,this._wholeSet=null,this._propagate=!0,this.propagationOverride={currentFrameListeners:!1,nextFrameListeners:!1},this._schedule=p(function(){var e=void 0;for(e in t.qualifiedNodeMap){if(!{}.hasOwnProperty.call(t.qualifiedNodeMap,e))return;t.qualifiedNodeMap[e].flush()}})}return N(e,[{key:\"createNodesFrom\",value:function(e,t){var r=void 0,n=void 0,i=this.qualifiedNodeMap,u=this.root,a=this.retriever;return function e(t,n,o){var s=void 0,c=void 0,f=void 0,h=void 0;for(s in t)if({}.hasOwnProperty.call(t,s))if(h=new w(s,c=\"\"+n+s,{retriever:a}),i[c]=h,void 0!==(f=o.perv)?f.addDependencies(h):u.addDependencies(h),l(r=t[s]))e(r,\"\"+n+s+\".\",{perv:h}),h.resolver=m.accumulate;else if(r instanceof _){var d;h.resolver=r.get(),(d=h).addDependencies.apply(d,F(r.getDependencies().map(function(e){return i[e]})))}else h.resolver=m.identity,h.seed=r}(e,null===t?\"\":t+\".\",{perv:i[t]}),this._wholeSet=new o(Object.keys(this.qualifiedNodeMap)),(n=this.constructor.getResolvedList(u).concat(u).filter(function(e){return e.requireResolve})).forEach(function(e){return e.resolve()}),g(n).forEach(function(e){return e.resolve()}),this}},{key:\"getNodeValue\",value:function(e){if(e in this.qualifiedNodeMap)return this.qualifiedNodeMap[e].seed}},{key:\"createElectricNodeOf\",value:function(e,t){var r,n=this,i=e.map(function(e){return n.qualifiedNodeMap[e]}),o=(r=new E).addEdges.apply(r,F(i));return i.forEach(function(e){return e.addElectricNode(o)}),o[\"regListenerFor\"+t.type](t.fn)}},{key:\"update\",value:function(){for(var e=void 0,t=void 0,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var u=[],a=n.map(function(e){return e[0].seed=e[1],e[0]});return a.forEach(function(e){return e.resolve()}),u.push.apply(u,F(d.apply(void 0,F(a.map(function(e){return e.electricEdges}))))),e=new o(a.map(function(e){return e.qualifiedName})),this._propagate?((t=g(a)).forEach(function(e){return e.resolve()}),e.append(t.map(function(e){return e.qualifiedName})),u.push.apply(u,F(d.apply(void 0,F(t.map(function(e){return e.electricEdges}))))),this.__execUniqueElectricEdges(Array.from(new Set(u)),e),this):(this.__execUniqueElectricEdges(u),this._propagate=!0,this)}},{key:\"__execUniqueElectricEdges\",value:function(e,t){var r=this,n=[],i=[];t&&o.difference(this._wholeSet,t).toArray().forEach(function(e){return r.qualifiedNodeMap[e].repeatHead()});return e.forEach(function(e){n.push.apply(n,F(e.listeners.currentFrame))}),e.forEach(function(e){i.push.apply(i,F(e.listeners.nextFrame))}),!this.propagationOverride.currentFrameListeners&&n.forEach(function(e){return e()}),!this.propagationOverride.nextFrameListeners&&this._schedule(i),this.resetPropagationOverride(),this}},{key:\"resetNodeValue\",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map(function(t){return e.qualifiedNodeMap[t]}).map(function(e){return[e,e.seed]});return this.update.apply(this,F(i)),this}},{key:\"stopPropagation\",value:function(){return this._propagate=!1,this}},{key:\"resetPropagationOverride\",value:function(){return this.propagationOverride.currentFrameListeners=!1,this.propagationOverride.nextFrameListeners=!1,this}},{key:\"setPropagationOverride\",value:function(e){return this.propagationOverride[e+\"Listeners\"]=!0,this}},{key:\"getNodeFromQualifiedName\",value:function(e){return this.qualifiedNodeMap[e]}}],[{key:\"getResolvedList\",value:function(e){var t=[];return function e(t,r,n){var i=void 0;t.edges.forEach(function(t){e(t,r,n)}),t.isRoot()||(i=t.qualifiedName)in n||(r.push(t),n[i]=1)}(e,t,{}),t}}]),e}(),A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function P(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._graph=new O,this._lockFlag=!1,this._reqQ=[]}return A(e,[{key:\"append\",value:function(){var e=void 0,t=void 0;return 1===arguments.length?(e=null,t=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]),this._addPropInModel(e,t),this}},{key:\"calculatedProp\",value:function(){var e,t,r,n=void 0,i=void 0,o=void 0;return arguments.length>2?(i=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=null,n=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1]),t=o(y),(e=r=new _(t.fn)).addDependencies.apply(e,P(t.dependencies)),this._addPropInModel(i,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,r)),this}},{key:\"_addPropInModel\",value:function(e,t){return this._graph.createNodesFrom(t,e),this}},{key:\"on\",value:function(e,t,r){var n,i=e instanceof Array?e:[e],o=this._graph.createElectricNodeOf(i,{type:\"CurrFrame\",fn:t});r&&(n=this._graph.stopPropagation().setPropagationOverride(\"nextFrame\")).resetNodeValue.apply(n,P(e));return o}},{key:\"next\",value:function(e,t,r){var n,i=e instanceof Array?e:[e],o=this._graph.createElectricNodeOf(i,{type:\"NextFrame\",fn:t});r&&(n=this._graph.stopPropagation().setPropagationOverride(\"currentFrame\")).resetNodeValue.apply(n,P(e));return o}},{key:\"lock\",value:function(){return this._lockFlag=!0,this._reqQ.length=0,this}},{key:\"unlock\",value:function(){return this._lockFlag=!1,this.setProp.apply(this,P(this._reqQ)),this._reqQ.length=0,this}},{key:\"prop\",value:function(){var e,t=void 0,r=void 0;switch(e=arguments.length){case 1:t=arguments.length<=0?void 0:arguments[0];break;case 2:t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1];break;default:return this}return 2===e?(this._lockFlag?this._reqQ.push([t,r]):this.setProp([t,r]),this):this._graph.getNodeValue(t)}},{key:\"setProp\",value:function(){for(var e,t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return 0===n.length?this:((e=this._graph).update.apply(e,P(n.map(function(e){return[t._graph.getNodeFromQualifiedName(e[0]),e[1]]}))),this)}},{key:\"graph\",value:function(){return this._graph}},{key:\"serialize\",value:function(){return this._graph.root.seed}}],[{key:\"create\",value:function(t){return(new e)._addPropInModel(null,t)}}]),e}();t.default=j}])});\n//# sourceMappingURL=hyperdis.js.map","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar _containerManager = require('./container-manager');\n\nvar _containerManager2 = _interopRequireDefault(_containerManager);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    M = slLib.win.Math,\n    max = M.max,\n    round = M.round,\n    BLANK = '',\n    htmlSplCharSpace = { ' ': '&nbsp;' },\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\n/*\n * Create new instance of SmartLabelManager.\n *\n * SmartLabelManager controls the lifetime of the execution space where the text's metrics will be calculated.\n * This takes a string for a given style and returns the height, width.\n * If a bound box is defined it wraps the text and returns the wrapped height and width.\n * It allows to append ellipsis at the end if the text is truncated.\n *\n * @param {String | Number} id - Id of the instance. If the same id is passed, it disposes the old instance and\n *                              save the new one;\n * @param {String | HTMLElement} container - The id or the instance of the container where the intermediate dom\n *                              elements are to be attached. If not passed, it appends in div\n *\n * @param {Boolean} useEllipses - This decides if a ellipses to be appended if the text is truncated.\n * @param {Object} options - Control options\n *                          {\n *                              maxCacheLimit: No of letter to be cached. Default: 500.\n *                          }\n * @constructor\n */\nfunction SmartLabelManager(id, container, useEllipses, options) {\n    var wrapper,\n        prop,\n        max,\n        prevInstance,\n        isBrowserLess = false,\n        store = SmartLabelManager.store;\n\n    if (typeof id === 'undefined' || typeof id === 'object') {\n        return;\n    }\n\n    if (prevInstance = store[id]) {\n        prevInstance.dispose();\n    }\n\n    store[id] = this;\n    options = options || {};\n    options.maxCacheLimit = isFinite(max = options.maxCacheLimit) ? max : slLib.maxDefaultCacheLimit;\n\n    if (typeof container === 'string') {\n        container = doc.getElementById(container);\n    }\n\n    wrapper = slLib.createContainer(container);\n    wrapper.innerHTML = slLib.testStrAvg;\n\n    if (documentSupport.isHeadLess || !documentSupport.isIE && !wrapper.offsetHeight && !wrapper.offsetWidth) {\n        isBrowserLess = true;\n    }\n\n    wrapper.innerHTML = '';\n    for (prop in slLib.parentContainerStyle) {\n        wrapper.style[prop] = slLib.parentContainerStyle[prop];\n    }\n\n    this.id = id;\n    this.parentContainer = wrapper;\n\n    this._containerManager = new _containerManager2['default'](wrapper, isBrowserLess, 10);\n    this._showNoEllipses = !useEllipses;\n    this._init = true;\n    this.style = {};\n    this.options = options;\n\n    this.setStyle();\n}\n\n/*\n * getSmartText returns the text separated by <br/> whenever a break is necessary. This is to recgonize one\n * generalized format independent of the implementation (canvas based solution, svg based solution). This method\n * converts the output of getSmartText().text to array of lines if the text is wrapped. It sets a named property\n * `lines` on the object passed as parameter.\n *\n * @param {Object} smartlabel - the object returned by getSmartText based on which line arr which to be formed.\n *\n * @return {Object} - The same object which was passed in the arguments. Also a named property `lines` is set.\n */\nSmartLabelManager.textToLines = function (smartlabel) {\n    smartlabel = smartlabel || {};\n\n    if (!smartlabel.text) {\n        smartlabel.text = '';\n    } else if (typeof smartlabel.text !== 'string') {\n        smartlabel.text = smartlabel.text.toString();\n    }\n\n    smartlabel.lines = smartlabel.text.split(/\\n|<br\\s*?\\/?>/ig);\n    return smartlabel;\n};\n\n// Saves all the instance created so far\nSmartLabelManager.store = {};\n\n// Calculates space taken by a character with an approximation value which is calculated by repeating the\n// character by string length times.\nSmartLabelManager.prototype._calCharDimWithCache = function (text, calculateDifference, length) {\n    if (!this._init) {\n        return false;\n    }\n\n    var size,\n        csArr,\n        tw,\n        twi,\n        cachedStyle,\n        asymmetricDifference,\n        maxAdvancedCacheLimit = this.options.maxCacheLimit,\n        container = this._container,\n        style = this.style || {},\n        cache = this._advancedCache || (this._advancedCache = {}),\n        advancedCacheKey = this._advancedCacheKey || (this._advancedCacheKey = []),\n        cacheName = text + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK),\n        cacheInitName = text + 'init' + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK);\n\n    htmlSplCharSpace[text] && (text = htmlSplCharSpace[text]);\n\n    if (!calculateDifference) {\n        asymmetricDifference = 0;\n    } else {\n        if ((asymmetricDifference = cache[cacheInitName]) === undefined) {\n            container.innerHTML = text.repeat ? text.repeat(length) : Array(length + 1).join(text); // jshint ignore:line\n            tw = container.offsetWidth;\n\n            container.innerHTML = text;\n            twi = container.offsetWidth;\n\n            asymmetricDifference = cache[cacheInitName] = (tw - length * twi) / (length + 1);\n            advancedCacheKey.push(cacheInitName);\n            if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n                delete cache[advancedCacheKey.shift()];\n            }\n        }\n    }\n\n    if (cachedStyle = cache[cacheName]) {\n        csArr = cachedStyle.split(',');\n        return {\n            width: parseFloat(csArr[0], 10),\n            height: parseFloat(csArr[1], 10)\n        };\n    }\n\n    container.innerHTML = text;\n\n    size = {\n        height: container.offsetHeight,\n        width: container.offsetWidth + asymmetricDifference\n    };\n\n    cache[cacheName] = size.width + ',' + size.height;\n    advancedCacheKey.push(cacheName);\n    if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n        delete cache[advancedCacheKey.shift()];\n    }\n\n    return size;\n};\n\n// Provide function to calculate the height and width based on the environment and available support from dom.\nSmartLabelManager.prototype._getWidthFn = function () {\n    var contObj = this._containerObj,\n        container = this._container,\n        svgText = contObj.svgText;\n\n    if (svgText) {\n        return function (str) {\n            var bbox, width;\n\n            svgText.textContent = str;\n            bbox = svgText.getBBox();\n            width = bbox.width - SVG_BBOX_CORRECTION;\n            if (width < 1) {\n                width = bbox.width;\n            }\n\n            return width;\n        };\n    } else {\n        return function (str) {\n            container.innerHTML = str;\n            return container.offsetWidth;\n        };\n    }\n};\n\n/*\n * Sets the style based on which the text's metrics to be calculated.\n *\n * @param {Object} style - The style object which affects the text size\n *                      {\n *                          fontSize / 'font-size' : MUST BE FOLLOWED BY PX (10px, 11px)\n *                          fontFamily / 'font-family'\n *                          fontWeight / 'font-weight'\n *                          fontStyle / 'font-style'\n *                      }\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.setStyle = function (style) {\n    if (!this._init) {\n        return this;\n    }\n\n    var sCont;\n\n    if (style === this.style && !this._styleNotSet) {\n        return;\n    }\n\n    if (!style) {\n        style = this.style;\n    }\n\n    slLib.setLineHeight(style);\n    this.style = style;\n\n    this._containerObj = sCont = this._containerManager.get(style);\n\n    if (this._containerObj) {\n        this._container = sCont.node;\n        this._context = sCont.context;\n        this._cache = sCont.charCache;\n        this._lineHeight = sCont.lineHeight;\n        this._styleNotSet = false;\n    } else {\n        this._styleNotSet = true;\n    }\n\n    return this;\n};\n\n/*\n * Decides whether ellipses to be shown if the node is truncated\n *\n * @param {Boolean} useEllipses - decides if a ellipses to be appended if the text is truncated. Default: false\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.useEllipsesOnOverflow = function (useEllipses) {\n    if (!this._init) {\n        return this;\n    }\n    this._showNoEllipses = !useEllipses;\n    return this;\n};\n\n/*\n * Get wrapped or truncated text if a bound box is defined around it. The result text would be separated by <br/>\n * if wrapped\n *\n * @param {String} text - the subject text\n * @param {Number} maxWidth - width in px of the the bound box\n * @param {Number} maxHeight - height in px of the the bound box\n * @param {Boolean} noWrap - whether the text to be wrapped. Default false.\n *\n * @return {Object} - The metrics of the text bounded by the box\n *                  {\n *                      height : height of the wrapped text\n *                      width : width of the wrapped text\n *                      isTruncated : whether the text is truncated\n *                      maxHeight : Maximum height given\n *                      maxWidth : Maximum width given\n *                      oriText : Original text sent\n *                      oriTextHeight : Original text height\n *                      oriTextWidth : Original text width\n *                      text : SMART TEXT\n *                  }\n */\nSmartLabelManager.prototype.getSmartText = function (text, maxWidth, maxHeight, noWrap) {\n    if (!this._init) {\n        return false;\n    }\n\n    if (text === undefined || text === null) {\n        text = '';\n    } else if (typeof text !== 'string') {\n        text = text.toString();\n    }\n\n    var len,\n        trimStr,\n        tempArr,\n        tmpText,\n        maxWidthWithEll,\n        toolText,\n        oriWidth,\n        oriHeight,\n        newCharIndex,\n        nearestChar,\n        tempChar,\n        getWidth,\n        initialLeft,\n        initialTop,\n        getOriSizeImproveObj,\n        spanArr,\n        x,\n        y,\n        minWidth,\n        elem,\n        chr,\n        elemRightMostPoint,\n        elemLowestPoint,\n        lastBR,\n        removeFromIndex,\n        removeFromIndexForEllipses,\n        hasHTMLTag = false,\n        maxStrWidth = 0,\n        lastDash = -1,\n        lastSpace = -1,\n        lastIndexBroken = -1,\n        strWidth = 0,\n        strHeight = 0,\n        oriTextArr = [],\n        i = 0,\n        ellipsesStr = this._showNoEllipses ? '' : '...',\n        lineHeight = this._lineHeight,\n        context = this._context,\n        container = this._container,\n        sCont = this._containerObj,\n        ellipsesWidth = sCont.ellipsesWidth,\n        dotWidth = sCont.dotWidth,\n        characterArr = [],\n        dashIndex = -1,\n        spaceIndex = -1,\n        lastLineBreak = -1,\n        fastTrim = function fastTrim(str) {\n        str = str.replace(/^\\s\\s*/, '');\n        var ws = /\\s/,\n            i = str.length;\n        while (ws.test(str.charAt(i -= 1))) {/* jshint noempty:false */}\n        return str.slice(0, i + 1);\n    },\n        smartLabel = {\n        text: text,\n        maxWidth: maxWidth,\n        maxHeight: maxHeight,\n        width: null,\n        height: null,\n        oriTextWidth: null,\n        oriTextHeight: null,\n        oriText: text,\n        isTruncated: false\n    };\n\n    getWidth = this._getWidthFn();\n\n    // In some browsers, offsetheight of a single-line text is getting little (1 px) heigher value of the\n    // lineheight. As a result, smartLabel is unable to return single-line text.\n    // To fix this, increase the maxHeight a little amount. Hence maxHeight =  lineHeight * 1.2\n    if (maxHeight === lineHeight) {\n        maxHeight *= 1.2;\n    }\n\n    if (container) {\n        if (!documentSupport.isBrowserLess) {\n            hasHTMLTag = slLib.xmlTagRegEx.test(text);\n            if (!hasHTMLTag) {\n                // Due to support of <,> for xml we convert &lt;, &gt; to <,> respectively so to get the correct\n                // width it is required to convert the same before calculation for the new improve version of the\n                // get text width.\n                tmpText = text.replace(slLib.ltgtRegex, function (match) {\n                    return match === '&lt;' ? '<' : '>';\n                });\n                getOriSizeImproveObj = this.getOriSize(tmpText, true);\n\n                smartLabel.oriTextWidth = oriWidth = getOriSizeImproveObj.width;\n                smartLabel.oriTextHeight = oriHeight = getOriSizeImproveObj.height;\n            } else {\n                container.innerHTML = text;\n                smartLabel.oriTextWidth = oriWidth = container.offsetWidth;\n                smartLabel.oriTextHeight = oriHeight = container.offsetHeight;\n            }\n\n            if (oriHeight <= maxHeight && oriWidth <= maxWidth) {\n                smartLabel.width = smartLabel.oriTextWidth = oriWidth;\n                smartLabel.height = smartLabel.oriTextHeight = oriHeight;\n                return smartLabel;\n            }\n\n            if (lineHeight > maxHeight) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = 0;\n                smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            }\n        }\n\n        // Calculate width with ellipses\n        text = fastTrim(text).replace(/(\\s+)/g, ' ');\n        maxWidthWithEll = this._showNoEllipses ? maxWidth : maxWidth - ellipsesWidth;\n\n        if (!hasHTMLTag) {\n            oriTextArr = text.split('');\n            len = oriTextArr.length;\n            trimStr = '', tempArr = [];\n            tempChar = oriTextArr[0];\n\n            if (this._cache[tempChar]) {\n                minWidth = this._cache[tempChar].width;\n            } else {\n                minWidth = getWidth(tempChar);\n                this._cache[tempChar] = { width: minWidth };\n            }\n\n            if (maxWidthWithEll > minWidth) {\n                tempArr = text.substr(0, slLib.getNearestBreakIndex(text, maxWidthWithEll, this)).split('');\n                i = tempArr.length;\n            } else if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            } else if (ellipsesStr) {\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            strWidth = getWidth(tempArr.join(''));\n            strHeight = this._lineHeight;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                            smartLabel.tooltext = smartLabel.oriText;\n                            smartLabel.width = getWidth(smartLabel.text);\n                            smartLabel.height = this._lineHeight;\n                            return smartLabel;\n                        }\n                    }\n                }\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = strWidth;\n                smartLabel.height = this._lineHeight;\n                return smartLabel;\n            } else {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (tempChar === ' ' && !context) {\n                        tempChar = '&nbsp;';\n                    }\n\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            /** @todo use regular expressions for better performance. */\n                            lastSpace = text.substr(0, tempArr.length).lastIndexOf(' ');\n                            lastDash = text.substr(0, tempArr.length).lastIndexOf('-');\n                            if (lastSpace > lastIndexBroken) {\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                tempArr.splice(lastSpace, 1, '<br/>');\n                                lastIndexBroken = lastSpace;\n                                newCharIndex = lastSpace + 1;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === tempArr.length - 1) {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '<br/>-');\n                                } else {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '-<br/>');\n                                }\n                                lastIndexBroken = lastDash;\n                                newCharIndex = lastDash + 1;\n                            } else {\n                                tempArr.splice(tempArr.length - 1, 1, '<br/>' + oriTextArr[i]);\n                                lastLineBreak = tempArr.length - 2;\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastLineBreak + 1).join(''));\n                                lastIndexBroken = lastLineBreak;\n                                newCharIndex = i;\n                            }\n                            strHeight += this._lineHeight;\n                            if (strHeight > maxHeight) {\n                                smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                                smartLabel.tooltext = smartLabel.oriText;\n                                // The max width among all the lines will be the width of the string.\n                                smartLabel.width = maxWidth;\n                                smartLabel.height = strHeight - this._lineHeight;\n                                return smartLabel;\n                            } else {\n                                maxStrWidth = max(maxStrWidth, strWidth);\n                                trimStr = null;\n                                nearestChar = slLib.getNearestBreakIndex(text.substr(newCharIndex), maxWidthWithEll, this);\n                                strWidth = getWidth(text.substr(newCharIndex, nearestChar || 1));\n                                if (tempArr.length < newCharIndex + nearestChar) {\n                                    tempArr = tempArr.concat(text.substr(tempArr.length, newCharIndex + nearestChar - tempArr.length).split(''));\n                                    i = tempArr.length - 1;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                maxStrWidth = max(maxStrWidth, strWidth);\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = maxStrWidth;\n                smartLabel.height = strHeight;\n                return smartLabel;\n            }\n        } else {\n            toolText = text.replace(slLib.spanAdditionRegx, '$2');\n            text = text.replace(slLib.spanAdditionRegx, slLib.spanAdditionReplacer);\n            text = text.replace(/(<br\\s*\\/*\\>)/g, '<span class=\"' + [slLib.classNameWithTag, ' ', slLib.classNameWithTagBR].join('') + '\">$1</span>');\n\n            container.innerHTML = text;\n\n            spanArr = container[documentSupport.childRetriverFn](documentSupport.childRetriverString);\n\n            for (x = 0, y = spanArr.length; x < y; x += 1) {\n                elem = spanArr[x];\n                //chech whether this span is temporary inserted span from it's class\n                if (documentSupport.noClassTesting || slLib.classNameReg.test(elem.className)) {\n                    chr = elem.innerHTML;\n                    if (chr !== '') {\n                        if (chr === ' ') {\n                            spaceIndex = characterArr.length;\n                        } else if (chr === '-') {\n                            dashIndex = characterArr.length;\n                        }\n\n                        characterArr.push({\n                            spaceIdx: spaceIndex,\n                            dashIdx: dashIndex,\n                            elem: elem\n                        });\n                        oriTextArr.push(chr);\n                    }\n                }\n            }\n\n            i = 0;\n            len = characterArr.length;\n            minWidth = characterArr[0].elem.offsetWidth;\n\n            if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n\n                return smartLabel;\n            } else if (minWidth > maxWidthWithEll && !this._showNoEllipses) {\n\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            initialLeft = characterArr[0].elem.offsetLeft;\n            initialTop = characterArr[0].elem.offsetTop;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n                        if (container.offsetWidth > maxWidth) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            } else {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemLowestPoint = elem.offsetHeight + (elem.offsetTop - initialTop);\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    lastBR = null;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n\n                        if (elemRightMostPoint > maxWidth) {\n                            lastSpace = characterArr[i].spaceIdx;\n                            lastDash = characterArr[i].dashIdx;\n                            if (lastSpace > lastIndexBroken) {\n                                characterArr[lastSpace].elem.innerHTML = '<br/>';\n                                lastIndexBroken = lastSpace;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === i) {\n                                    // in case the overflowing character itself is the '-'\n                                    characterArr[lastDash].elem.innerHTML = '<br/>-';\n                                } else {\n                                    characterArr[lastDash].elem.innerHTML = '-<br/>';\n                                }\n                                lastIndexBroken = lastDash;\n                            } else {\n                                elem.parentNode.insertBefore(lastBR = doc.createElement('br'), elem);\n                            }\n\n                            //check whether this break made current element outside the area height\n                            if (elem.offsetHeight + elem.offsetTop > maxHeight) {\n                                //remove the lastly inserted line break\n                                if (lastBR) {\n                                    lastBR.parentNode.removeChild(lastBR);\n                                } else if (lastIndexBroken === lastDash) {\n                                    characterArr[lastDash].elem.innerHTML = '-';\n                                } else {\n                                    characterArr[lastSpace].elem.innerHTML = ' ';\n                                }\n                                removeFromIndex = i;\n                                //break the looping condition\n                                i = len;\n                            } else {\n                                removeFromIndexForEllipses = null;\n                            }\n                        }\n                    } else {\n                        //check whether this break made current element outside the area height\n                        if (elemLowestPoint > maxHeight) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            }\n\n            if (removeFromIndex < len) {\n                //set the trancated property of the smartlabel\n                smartLabel.isTruncated = true;\n\n                /** @todo is this really needed? */\n                removeFromIndexForEllipses = removeFromIndexForEllipses ? removeFromIndexForEllipses : removeFromIndex;\n\n                for (i = len - 1; i >= removeFromIndexForEllipses; i -= 1) {\n                    elem = characterArr[i].elem;\n                    //chech whether this span is temporary inserted span from it's class\n                    elem.parentNode.removeChild(elem);\n                }\n\n                for (; i >= 0; i -= 1) {\n                    elem = characterArr[i].elem;\n                    if (slLib.classNameBrReg.test(elem.className)) {\n                        //chech whether this span is temporary inserted span from it's class\n                        elem.parentNode.removeChild(elem);\n                    } else {\n                        i = 0;\n                    }\n                }\n            }\n\n            //get the smart text\n            smartLabel.text = container.innerHTML.replace(slLib.spanRemovalRegx, '$1').replace(/\\&amp\\;/g, '&');\n            if (smartLabel.isTruncated) {\n                smartLabel.text += ellipsesStr;\n                smartLabel.tooltext = toolText;\n            }\n        }\n\n        smartLabel.height = container.offsetHeight;\n        smartLabel.width = container.offsetWidth;\n\n        return smartLabel;\n    } else {\n        smartLabel.error = new Error('Body Tag Missing!');\n        return smartLabel;\n    }\n};\n\n/*\n * Get the height and width of a text.\n *\n * @param {String} text - Text whose metrics to be measured\n * @param {Boolean} Optional detailedCalculationFlag - this flag if set it calculates per letter position\n *                          information and returns it. Ideally you dont need it unless you want to post process the\n *                          string. And its an EXPENSIVE OPERATION.\n *\n * @return {Object} - If detailedCalculationFlag is set to true the returned object would be\n *                  {\n *                      height: height of the text\n *                      width: width of the text\n *                      detailObj: detail calculation of letters in the format {lettername: width}\n *                  }\n *                  If detailedCalculationFlag is set to false the returned object wont have the detailObj prop.\n */\nSmartLabelManager.prototype.getOriSize = function (text, detailedCalculationFlag) {\n    if (!this._init) {\n        return false;\n    }\n\n    var textArr,\n        letter,\n        lSize,\n        i,\n        l,\n        cumulativeSize = 0,\n        height = 0,\n        indiSizeStore = {};\n\n    if (!detailedCalculationFlag) {\n        return this._calCharDimWithCache(text);\n    }\n\n    // Calculate the width of every letter with an approximation\n    textArr = text.split('');\n    for (i = 0, l = textArr.length; i < l; i++) {\n        letter = textArr[i];\n        lSize = this._calCharDimWithCache(letter, true, textArr.length);\n        height = max(height, lSize.height);\n        cumulativeSize += lSize.width;\n        indiSizeStore[letter] = lSize.width;\n    }\n\n    return {\n        width: round(cumulativeSize),\n        height: height,\n        detailObj: indiSizeStore\n    };\n};\n\n/*\n * Dispose the container and object allocated by the smartlabel\n */\nSmartLabelManager.prototype.dispose = function () {\n    if (!this._init) {\n        return this;\n    }\n\n    this._containerManager && this._containerManager.dispose && this._containerManager.dispose();\n\n    delete this._container;\n    delete this._context;\n    delete this._cache;\n    delete this._containerManager;\n    delete this._containerObj;\n    delete this.id;\n    delete this.style;\n    delete this.parentContainer;\n    delete this._showNoEllipses;\n\n    return this;\n};\n\nexports['default'] = SmartLabelManager;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nvar lib = {\n\tinit: function init(win) {\n\t\tvar doc = win.document,\n\t\t    nav = win.navigator,\n\t\t    userAgent = nav.userAgent,\n\t\t    DIV = 'DIV',\n\t\t    ceil = Math.ceil,\n\t\t    floor = Math.floor,\n\t\t    containerInstanceCount = 0,\n\t\t    clsNameSpace = 'fusioncharts-smartlabel-',\n\t\t    containerClass = clsNameSpace + 'container',\n\t\t    classNameWithTag = clsNameSpace + 'tag',\n\t\t    classNameWithTagBR = clsNameSpace + 'br';\n\n\t\tlib = {\n\t\t\twin: win,\n\n\t\t\tcontainerClass: containerClass,\n\n\t\t\tclassNameWithTag: classNameWithTag,\n\n\t\t\tclassNameWithTagBR: classNameWithTagBR,\n\n\t\t\tmaxDefaultCacheLimit: 500,\n\n\t\t\tclassNameReg: new RegExp('\\b' + classNameWithTag + '\\b'),\n\n\t\t\tclassNameBrReg: new RegExp('\\b' + classNameWithTagBR + '\\b'),\n\n\t\t\tspanAdditionRegx: /(<[^<\\>]+?\\>)|(&(?:[a-z]+|#[0-9]+);|.)/ig,\n\n\t\t\tspanAdditionReplacer: '$1<span class=\"' + classNameWithTag + '\">$2</span>',\n\n\t\t\tspanRemovalRegx: new RegExp('\\\\<span[^\\\\>]+?' + classNameWithTag + '[^\\\\>]{0,}\\\\>(.*?)\\\\<\\\\/span\\\\>', 'ig'),\n\n\t\t\txmlTagRegEx: new RegExp('<[^>][^<]*[^>]+>', 'i'),\n\n\t\t\tltgtRegex: /&lt;|&gt;/g,\n\n\t\t\tbrReplaceRegex: /<br\\/>/ig,\n\n\t\t\ttestStrAvg: 'WgI',\n\n\t\t\t// This style is applied over the parent smartlabel container. The container is kept hidden from the viewport\n\t\t\tparentContainerStyle: {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '-9999em',\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\tpadding: '0px',\n\t\t\t\twidth: '1px',\n\t\t\t\theight: '1px',\n\t\t\t\toverflow: 'hidden'\n\t\t\t},\n\n\t\t\t// All the style which might affect the text metrics\n\t\t\tsupportedStyle: {\n\t\t\t\tfont: 'font',\n\t\t\t\tfontFamily: 'font-family',\n\t\t\t\t'font-family': 'font-family',\n\t\t\t\tfontWeight: 'font-weight',\n\t\t\t\t'font-weight': 'font-weight',\n\t\t\t\tfontSize: 'font-size',\n\t\t\t\t'font-size': 'font-size',\n\t\t\t\tlineHeight: 'line-height',\n\t\t\t\t'line-height': 'line-height',\n\t\t\t\tfontStyle: 'font-style',\n\t\t\t\t'font-style': 'font-style'\n\t\t\t},\n\n\t\t\t// Get the support list for html the document where the text calcution is to be done.\n\t\t\tgetDocumentSupport: function getDocumentSupport() {\n\t\t\t\tvar childRetriverFn, childRetriverString, noClassTesting;\n\n\t\t\t\tif (doc.getElementsByClassName) {\n\t\t\t\t\tchildRetriverFn = 'getElementsByClassName';\n\t\t\t\t\tchildRetriverString = classNameWithTag;\n\t\t\t\t\tnoClassTesting = true;\n\t\t\t\t} else {\n\t\t\t\t\tchildRetriverFn = 'getElementsByTagName';\n\t\t\t\t\tchildRetriverString = 'span';\n\t\t\t\t\tnoClassTesting = false;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tisIE: /msie/i.test(userAgent) && !win.opera,\n\t\t\t\t\thasSVG: Boolean(win.SVGAngle || doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')),\n\t\t\t\t\tisHeadLess: new RegExp(' HtmlUnit').test(userAgent),\n\t\t\t\t\tisWebKit: new RegExp(' AppleWebKit/').test(userAgent),\n\t\t\t\t\tchildRetriverFn: childRetriverFn,\n\t\t\t\t\tchildRetriverString: childRetriverString,\n\t\t\t\t\tnoClassTesting: noClassTesting\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t/*\n    * Create a html div element and attach it with a parent. All the subsequent operations are performed\n    * by upding this dom tree only.\n    *\n    * @param {HTMLElement} - The html element where the newly created div is to be attached. If not passed,\n    *                      the new div is appended on the body.\n    */\n\t\t\tcreateContainer: function createContainer(containerParent) {\n\t\t\t\tvar body, container;\n\n\t\t\t\tif (containerParent && (containerParent.offsetWidth || containerParent.offsetHeight)) {\n\t\t\t\t\tif (containerParent.appendChild) {\n\t\t\t\t\t\tcontainerParent.appendChild(container = doc.createElement(DIV));\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbody = doc.getElementsByTagName('body')[0];\n\n\t\t\t\t\tif (body && body.appendChild) {\n\t\t\t\t\t\tcontainer = doc.createElement(DIV);\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\tcontainerInstanceCount += 1;\n\t\t\t\t\t\tbody.appendChild(container);\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Finds a approximate position where the text is to be broken\n\t\t\tgetNearestBreakIndex: function getNearestBreakIndex(text, maxWidth, sl) {\n\t\t\t\tif (!text || !text.length) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar difference,\n\t\t\t\t    getWidth = sl._getWidthFn(),\n\t\t\t\t    charLen = 0,\n\t\t\t\t    increment = 0,\n\t\t\t\t    oriWidth = getWidth(text),\n\t\t\t\t    avgWidth = oriWidth / text.length;\n\n\t\t\t\tdifference = maxWidth;\n\t\t\t\tcharLen = ceil(maxWidth / avgWidth);\n\n\t\t\t\tif (oriWidth < maxWidth) {\n\t\t\t\t\treturn text.length - 1;\n\t\t\t\t}\n\n\t\t\t\tif (charLen > text.length) {\n\t\t\t\t\tdifference = maxWidth - oriWidth;\n\t\t\t\t\tcharLen = text.length;\n\t\t\t\t}\n\n\t\t\t\twhile (difference > 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twhile (difference < 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn charLen;\n\t\t\t},\n\n\t\t\t/*\n    * Determine lineheight of a text for a given style. It adds propery lineHeight to the style passed\n    *\n    * @param {Object} - The style based on which the text's metric needs to be calculated. The calculation happens\n    *                  based on fontSize property, if its not present a default font size is assumed.\n    *\n    * @return {Object} - The style that was passed with lineHeight as a named propery set on the object.\n    */\n\t\t\tsetLineHeight: function setLineHeight(styleObj) {\n\t\t\t\tvar fSize = styleObj.fontSize = styleObj.fontSize || '12px';\n\t\t\t\tstyleObj.lineHeight = styleObj.lineHeight || styleObj['line-height'] || parseInt(fSize, 10) * 1.2 + 'px';\n\t\t\t\treturn styleObj;\n\t\t\t}\n\t\t};\n\n\t\treturn lib;\n\t}\n};\n\nexports['default'] = lib;\nmodule.exports = exports['default'];","const Muze = require('./muze');\n\nmodule.exports = Muze.default ? Muze.default : Muze;\n","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\nfunction ContainerManager(parentContainer, isBrowserLess, maxContainers) {\n    var svg;\n\n    maxContainers = maxContainers > 5 ? maxContainers : 5;\n    maxContainers = maxContainers < 20 ? maxContainers : 20;\n\n    this.maxContainers = maxContainers;\n    this.first = null;\n    this.last = null;\n    this.containers = {};\n    this.length = 0;\n    this.rootNode = parentContainer;\n\n    if (isBrowserLess) {\n        svg = doc.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'xlink', 'http://www.w3.org/1999/xlink');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'height', '0');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'width', '0');\n        this.svgRoot = svg;\n        this.rootNode.appendChild(svg);\n    }\n}\n\nContainerManager.prototype.get = function (style) {\n    var diff,\n        key,\n        containerObj,\n        containers = this.containers,\n        len = this.length,\n        max = this.maxContainers,\n        keyStr = '';\n\n    for (key in slLib.supportedStyle) {\n        if (style[key] !== undefined) {\n            keyStr += slLib.supportedStyle[key] + ':' + style[key] + ';';\n        }\n    }\n\n    if (!keyStr) {\n        return false;\n    }\n\n    if (containerObj = containers[keyStr]) {\n        if (this.first !== containerObj) {\n            containerObj.prev && (containerObj.prev.next = containerObj.next);\n            containerObj.next && (containerObj.next.prev = containerObj.prev);\n            containerObj.next = this.first;\n            containerObj.next.prev = containerObj;\n            this.last === containerObj && (this.last = containerObj.prev);\n            containerObj.prev = null;\n            this.first = containerObj;\n        }\n    } else {\n        if (len >= max) {\n            diff = len - max + 1;\n            // +1 is to remove an extra entry to make space for the new container to be added.\n            while (diff--) {\n                this.removeContainer(this.last);\n            }\n        }\n        containerObj = this.addContainer(keyStr);\n    }\n\n    return containerObj;\n};\n\nContainerManager.prototype.addContainer = function (keyStr) {\n    var node, container;\n\n    this.containers[keyStr] = container = {\n        next: null,\n        prev: null,\n        node: null,\n        ellipsesWidth: 0,\n        lineHeight: 0,\n        dotWidth: 0,\n        avgCharWidth: 4,\n        keyStr: keyStr,\n        charCache: {}\n    };\n\n    // Since the container objects are arranged from most recent to least recent order, we need to add the new\n    // object at the beginning of the list.\n    container.next = this.first;\n    container.next && (container.next.prev = container);\n    this.first = container;\n    if (!this.last) {\n        this.last = container;\n    }\n    this.length += 1;\n\n    node = container.node = doc.createElement('div');\n    this.rootNode.appendChild(node);\n\n    if (documentSupport.isIE && !documentSupport.hasSVG) {\n        node.style.setAttribute('cssText', keyStr);\n    } else {\n        node.setAttribute('style', keyStr);\n    }\n\n    node.setAttribute('aria-hidden', 'true');\n    node.setAttribute('role', 'presentation');\n    node.style.display = 'inline-block';\n\n    node.innerHTML = slLib.testStrAvg; // A test string.\n    container.lineHeight = node.offsetHeight;\n    container.avgCharWidth = node.offsetWidth / 3;\n\n    if (documentSupport.isBrowserLess) {\n        node = container.svgText = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n        node.setAttribute('style', keyStr);\n        this.svgRoot.appendChild(node);\n\n        node.textContent = slLib.testStrAvg; // A test string.\n        container.lineHeight = node.getBBox().height;\n        container.avgCharWidth = (node.getBBox().width - SVG_BBOX_CORRECTION) / 3;\n\n        node.textContent = '...';\n        container.ellipsesWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n        node.textContent = '.';\n        container.dotWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n    } else {\n        node.innerHTML = '...';\n        container.ellipsesWidth = node.offsetWidth;\n        node.innerHTML = '.';\n        container.dotWidth = node.offsetWidth;\n        node.innerHTML = '';\n    }\n\n    return container;\n};\n\nContainerManager.prototype.removeContainer = function (cObj) {\n    var keyStr = cObj.keyStr;\n\n    if (!keyStr || !this.length || !cObj) {\n        return;\n    }\n    this.length -= 1;\n\n    cObj.prev && (cObj.prev.next = cObj.next);\n    cObj.next && (cObj.next.prev = cObj.prev);\n    this.first === cObj && (this.first = cObj.next);\n    this.last === cObj && (this.last = cObj.prev);\n\n    cObj.node.parentNode.removeChild(cObj.node);\n\n    delete this.containers[keyStr];\n};\n\nContainerManager.prototype.dispose = function () {\n    var key,\n        containers = this.containers;\n\n    this.maxContainers = null;\n    for (key in containers) {\n        this.removeContainer(containers[key]);\n    }\n\n    this.rootNode.parentNode.removeChild(this.rootNode);\n\n    this.rootNode = null;\n    this.first = null;\n    this.last = null;\n};\n\nmodule.exports = ContainerManager;","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  scale.invertExtent = function(r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1, a, b, t,\n        hiIndex;\n    values.push(values[n] + this.step());\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo));\n    hiIndex = getClosestIndexOf(values, hi);\n    b = lo===hi ? a : Math.max(a, hiIndex - 1);\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    if (reverse) t = a, a = n - b, b = n - t; // map + swap\n    return (a > b) ? undefined : domain().slice(a, b+1);\n  };\n\n  scale.invert = function (r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1,\n        a,\n        t;\n\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo, 'left'));\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    return domain()[reverse ? n - a : a];\n  }\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n\nfunction getClosestIndexOf (arr, value, side) {\n  var low = 0,\n      arrLen = arr.length,\n      high = arrLen - 1,\n      highVal,\n      mid,\n      d1,\n      d2;\n\n  while (low < high) {\n      mid = Math.floor((low + high) / 2);\n      d1 = Math.abs(arr[mid] - value);\n      d2 = Math.abs(arr[mid + 1] - value);\n\n      if (d2 <= d1) {\n          low = mid + 1;\n      }\n      else {\n          high = mid;\n      }\n  }\n\n  if (!side) {\n      return high;\n  }\n\n  highVal = arr[high];\n  if (highVal === value) {\n      return high;\n  } else if (highVal > value) {\n      if (high === 0) { return high; }\n      return side === 'left'? high - 1 : high;\n  } else {\n      if (high === arr.length - 1) { return high; }\n      return side === 'left'? high : high + 1;\n  }\n}","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","import colors from \"../colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","const ReservedFields = {\n    ROW_ID: '__id__'\n};\n\nexport default ReservedFields;\n","const CommonProps = {\n    ACTION_INF: 'actionInf',\n    ON_LAYER_DRAW: 'onlayerdraw'\n};\n\nexport default CommonProps;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickTransform = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"))\n        .style('transform', tickTransform);\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.tickTransform = function(_) {\n    return arguments.length ? (tickTransform = _, axis) : tickTransform;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","export var slice = Array.prototype.slice;\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","/* global window, requestAnimationFrame, cancelAnimationFrame */\nimport { FieldType, DimensionSubtype } from 'datamodel';\nimport {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom\n} from 'd3-axis';\nimport {\n    symbolCircle,\n    symbolCross,\n    symbolDiamond,\n    symbolSquare,\n    symbolStar,\n    symbolWye,\n    symbolTriangle,\n    symbol,\n    stack as d3Stack,\n    stackOffsetDiverging,\n    stackOrderNone,\n    stackOrderAscending,\n    stackOrderDescending,\n    stackOffsetNone,\n    stackOffsetExpand,\n    stackOffsetWiggle,\n    pie,\n    arc,\n    line,\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    area\n} from 'd3-shape';\nimport { scaleBand } from 'd3-scale';\nimport { nest } from 'd3-collection';\nimport {\n    interpolate,\n    interpolateRgb,\n    piecewise,\n    interpolateNumber,\n    interpolateHslLong\n} from 'd3-interpolate';\nimport {\n    easeCubic,\n    easeBounce,\n    easePoly,\n    easeBack,\n    easeCircle,\n    easeLinear,\n    easeElastic\n} from 'd3-ease';\nimport {\n   color,\n   rgb,\n   hsl\n} from 'd3-color';\nimport { voronoi } from 'd3-voronoi';\nimport Model from 'hyperdis';\nimport * as STACK_CONFIG from './enums/stack-config';\n\nconst HTMLElement = window.HTMLElement;\n\nconst isSimpleObject = (obj) => {\n    let token;\n    if (typeof obj === 'object') {\n        if (obj === null) { return false; }\n        token = Object.prototype.toString.call(obj);\n        if (token === '[object Object]') {\n            return (obj.constructor.toString().match(/^function (.*)\\(\\)/m) || [])[1] === 'Object';\n        }\n    }\n    return false;\n};\n\n/**\n * Returns unique id\n * @return {string} Unique id string\n */\nconst\n    getUniqueId = () => `id-${new Date().getTime()}${Math.round(Math.random() * 10000)}`;\n\n/**\n * Deep copies an object and returns a new object.\n * @param {Object} o Object to clone\n * @return {Object} New Object.\n */\nconst clone = (o) => {\n    const output = {};\n    let v;\n    for (const key in o) {\n        if ({}.hasOwnProperty.call(o, key)) {\n            v = o[key];\n            output[key] = isSimpleObject(v) ? clone(v) : v;\n        }\n    }\n    return output;\n};\n\n/**\n* Checks the existence of keys in an object\n* @param {Array} keys Set of keys which are to be checked\n* @param {Object} obj whose keys are checked from the set of keys provided\n* @return {Object} Error if the keys are absent, or the object itself\n*/\nconst checkExistence = (keys, obj) => {\n    const nonExistentKeys = [];\n    keys.forEach((key) => {\n        if (key in obj) {\n            return;\n        }\n        nonExistentKeys.push(key);\n    });\n    return nonExistentKeys;\n};\n\nconst sanitizeIP = {\n    typeObj: (keys, obj) => {\n        if (typeof obj !== 'object') {\n            return Error('Argument type object expected');\n        }\n\n        const nonExistentKeys = checkExistence(keys, obj);\n        if (nonExistentKeys.length) {\n            return Error(`Missing keys from parameter ${nonExistentKeys.join(', ')}`);\n        }\n        return obj;\n    },\n\n    /* istanbul ignore next */ htmlElem: (elem) => {\n        if (!(elem instanceof HTMLElement)) {\n            return Error('HTMLElement required');\n        }\n        return elem;\n    }\n};\n\n/**\n * Gets the maximum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Maximum value\n */\nconst getMax = (data, field) => Math.max(...data.filter(d => !isNaN(d[field])).map(d => d[field]));\n\n/**\n * Gets the minimum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Minimum value\n */\nconst getMin = (data, field) => Math.min(...data.filter(d => !isNaN(d[field])).map(d => d[field]));\n\n/**\n * Gets the domain from the data based on the field name and type of field\n * @param  {Array.<Object> | Array.<Array>} data       Data Array\n * @param  {Array.<string>} fields    Array of fields from where the domain will be calculated\n * @param {string} fieldType Type of field - nominal, quantitiative, temporal.\n * @return {Array} Usually contains a min and max value if field is quantitative or\n * an array of values if field type is nominal or ordinal\n */\nconst getDomainFromData = (data, fields, fieldType) => {\n    let domain;\n    let domArr;\n    data = data[0] instanceof Array ? data : [data];\n    switch (fieldType) {\n    case DimensionSubtype.CATEGORICAL:\n        domain = [].concat(...data.map(arr => arr.map(d => d[fields[0]]).filter(d => d !== undefined)));\n        break;\n    default:\n        domArr = data.map((arr) => {\n            const firstMin = getMin(arr, fields[0]);\n            const secondMin = getMin(arr, fields[1]);\n            const firstMax = getMax(arr, fields[0]);\n            const secondMax = getMax(arr, fields[1]);\n            return [Math.min(firstMin, secondMin), Math.max(firstMax, secondMax)];\n        });\n        domain = [Math.min(...domArr.map(d => d[0])), Math.max(...domArr.map(d => d[1]))];\n        break;\n    }\n    return domain;\n};\n\n/**\n * Union Domain values\n * @param {Array.<Array>} domains Array of domain values\n * @param {string} fieldType type of field - dimension,measure or datetime.\n * @return {Array} Unioned domain of all domain values.\n */\nconst unionDomain = (domains, fieldType) => {\n    let domain;\n    domains = domains.filter(dom => dom.length);\n    if (fieldType === DimensionSubtype.CATEGORICAL) {\n        domain = domain = [].concat(...domains);\n    } else {\n        domain = [Math.min(...domains.map(d => d[0])), Math.max(...domains.map(d => d[1]))];\n    }\n\n    return domain;\n};\n\nconst symbolFns = {\n    circle: symbolCircle,\n    cross: symbolCross,\n    diamond: symbolDiamond,\n    square: symbolSquare,\n    star: symbolStar,\n    wye: symbolWye,\n    triangle: symbolTriangle\n};\n\nconst easeFns = {\n    cubic: easeCubic,\n    bounce: easeBounce,\n    linear: easeLinear,\n    elastic: easeElastic,\n    back: easeBack,\n    poly: easePoly,\n    circle: easeCircle\n};\n\n/**\n * Returns the maximum or minimum points of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @param {string} minOrMax minimum or maximum.\n * @return {Object} Minimum or maximum point.\n */\nconst getExtremePoint = (points, compareValue, minOrMax) => {\n    let extremePoint;\n    let point;\n    const len = points.length;\n    let minOrMaxVal = minOrMax === 'max' ? -Infinity : Infinity;\n    let val;\n\n    for (let i = 0; i < len; i++) {\n        point = points[i];\n        val = point[compareValue];\n        if (minOrMax === 'min' ? val < minOrMaxVal : val > minOrMaxVal) {\n            minOrMaxVal = val;\n            extremePoint = point;\n        }\n    }\n\n    return extremePoint;\n};\n\n/**\n * Returns the minimum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Minimum point.\n */\nconst getMinPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'min');\n\n/**\n * Returns the maximum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Maximum point.\n */\nconst getMaxPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'max');\n\n/**\n * Gets the index of the closest value of the given value from the array.\n * @param {Array} arr Array of values\n * @param {number} value Value from which the nearest value will be calculated.\n * @param {string} side side property.\n * @return {number} index of the closest value\n */\n/* istanbul ignore next */const getClosestIndexOf = (arr, value, side) => {\n    let low = 0;\n    const arrLen = arr.length;\n    let high = arrLen - 1;\n\n    let mid;\n    let d1;\n    let d2;\n\n    while (low < high) {\n        mid = Math.floor((low + high) / 2);\n        d1 = Math.abs(arr[mid] - value);\n        d2 = Math.abs(arr[mid + 1] - value);\n\n        if (d2 <= d1) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n\n    if (!side) {\n        return high;\n    }\n\n    const highVal = arr[high];\n    if (highVal === value) {\n        return high;\n    } else if (highVal > value) {\n        if (high === 0) { return high; }\n        return side === 'left' ? high - 1 : high;\n    }\n    if (high === arr.length - 1) { return high; }\n    return side === 'left' ? high : high + 1;\n};\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst getWindow = () => window;\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst reqAnimFrame = (() => requestAnimationFrame)();\n\nconst cancelAnimFrame = (() => cancelAnimationFrame)();\n\n/**\n * Capitalizes the first letter of the word\n * @param {string} text word\n * @return {string} Capitalized word\n */\nconst capitalizeFirst = (text) => {\n    text = text.toLowerCase();\n\n    return text.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1));\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst unique = arr => ([...new Set(arr)]);\n\n/**\n * Gets the minimum difference between two consecutive numbers  in an array.\n * @param {Array} arr Array of numbers\n * @param {number} index index of the value\n * @return {number} minimum difference between values\n */\n/* istanbul ignore next */ const getMinDiff = (arr, index) => {\n    let diff;\n    let uniqueVals;\n    if (index !== undefined) {\n        uniqueVals = unique(arr.map(d => d[index]));\n    } else {\n        uniqueVals = unique(arr);\n    }\n    if (uniqueVals.length > 1) {\n        diff = Math.abs(uniqueVals[1] - uniqueVals[0]);\n        for (let i = 2, len = uniqueVals.length; i < len; i++) {\n            diff = Math.min(diff, Math.abs(uniqueVals[i] - uniqueVals[i - 1]));\n        }\n    } else {\n        diff = uniqueVals[0];\n    }\n\n    return diff;\n};\n\n/**\n * Returns the class name appended with a given id.\n * @param {string} cls class name\n * @param {string} id unique identifier\n * @param {string} prefix string needed to add before the classname\n * @return {string} qualified class name\n */\n/* istanbul ignore next */const getQualifiedClassName = (cls, id, prefix) => {\n    cls = cls.replace(/^\\.*/, '');\n    return [`${prefix}-${cls}`, `${prefix}-${cls}-${id}`];\n};\n\n/**\n * This method is used to set the default value for variables\n * without sullying the code with conditional statements.\n *\n * @export\n * @param {any} param The parameter to test.\n * @param {any} value The default value to assign.\n * @return {any} The value.\n */\n/* istanbul ignore next */ const defaultValue = (param, value) => {\n    if (typeof param === 'undefined' || (typeof param === 'object' && !param)) {\n        return value;\n    }\n    return param;\n};\n\n/**\n * DESCRIPTION TODO\n * @todo\n *\n * @export\n * @param {Object} graph graph whose dependency order has to be generated\n * @return {Object} @todo\n */\nconst getDependencyOrder = (graph) => {\n    const dependencyOrder = [];\n    const visited = {};\n    const keys = Object.keys(graph);\n    /**\n     * DESCRIPTION TODO\n     * @todo\n     *\n     * @export\n     * @param {Object} name @todo\n     * @return {Object} @todo\n     */\n    const visit = (name) => {\n        if (dependencyOrder.length === keys.length) {\n            return true;\n        }\n        visited[name] = true;\n        const edges = graph[name];\n        for (let e = 0; e < edges.length; e++) {\n            const dep = edges[e];\n            if (!visited[dep]) {\n                visit(dep);\n            }\n        }\n\n        dependencyOrder.push(name);\n        return false;\n    };\n\n    for (let i = 0; i < keys.length; i++) {\n        if (visit(keys[i], i)) break;\n    }\n\n    return dependencyOrder;\n};\n\n/**\n * Iterates over the properties of an object and applies the function\n *\n * @param {any} obj object to be iterated upon\n * @param {any} fn  function to be applied on it\n */\nconst objectIterator = (obj, fn) => {\n    for (const key in obj) {\n        if (Object.hasOwnProperty.call(obj, key)) {\n            fn(key, obj);\n        }\n    }\n};\n\n/**\n * This class creates a d3 voronoi for retrieving the nearest neighbour of any point from a set of two\n * dimensional points\n * @class Voronoi\n */\n/* istanbul ignore next */ class Voronoi {\n    /**\n     * Initialize the voronoi with the data given.\n     * @param {Array.<Object>} data Array of points.\n     */\n    constructor (data) {\n        this._voronoi = voronoi().x(d => d.x).y(d => d.y);\n        this.data(data);\n    }\n\n    /**\n     * Sets the data to voronoi\n     * @param {Array.<Object>} data Array of objects.\n     * @return {Voronoi} Instance of voronoi.\n     */\n    data (data) {\n        if (data) {\n            this._voronoiFn = this._voronoi(data);\n        }\n        return this;\n    }\n\n    /**\n     * Finds the closest point to the x and y position given.\n     * @param {number} x x value\n     * @param {number} y y value\n     * @param {number} radius search radius.\n     * @return {Object} Details of the nearest point.\n     */\n    find (x, y, radius) {\n        return this._voronoiFn.find(x, y, radius);\n    }\n}\n\n/**\n * Methods to handle changes to table configuration and reactivity are handled by this\n * class.\n */\n/**\n *  Common store class\n *\n * @class Store\n */\nclass Store {\n    /**\n     * Creates an instance of Store.\n     * @param {Object} config The object to create the state store with.\n     * @memberof Store\n     */\n    constructor (config) {\n        // create reactive model\n        this.model = Model.create(config);\n        this._listeners = [];\n    }\n\n    /**\n     * This method returns a plain JSON object\n     * with all the fields in the state store.\n     *\n     * @return {Object} Serialized representation of state store.\n     * @memberof Store\n     */\n    serialize () {\n        return this.model.serialize();\n    }\n\n    /**\n     * This method is used to update the value of a property in the state store.\n     *\n     * @param {string} propName The name of the property.\n     * @param {number} value The new value of the property.\n     * @memberof Store\n     */\n    commit (propName, value) {\n        // check if appropriate enum has been used\n        this.model.prop(propName, value);\n    }\n\n    /**\n     * This method is used to register a callbacl that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */registerChangeListener (propNames, callBack, instantCall) {\n        let props = propNames;\n        if (!Array.isArray(propNames)) {\n            props = [propNames];\n        }\n        const fn = this.model.next(props, callBack, instantCall);\n        this._listeners.push(fn);\n        return this;\n    }\n    /**\n     * This method is used to register a callbacl that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */ registerImmediateListener (propNames, callBack, instantCall) {\n        let props = propNames;\n        if (!Array.isArray(propNames)) {\n            props = [propNames];\n        }\n        const fn = this.model.on(props, callBack, instantCall);\n        this._listeners.push(fn);\n        return this;\n    }\n    /**\n     * This method is used to get the name of the property\n     * from the state store.\n     *\n     * @param {string} propName The name of the field in state store.\n     * @return {any} The value of the field.\n     * @memberof Store\n     */\n    get (propName) {\n        return this.model.prop(propName);\n    }\n\n    /**\n     * This method is used to register a computed property that is computed every time\n     * the store value changes.\n     *\n     * @param {string} propName The name of the property to create.\n     * @param {Function} callBack The function to execute when depemdent props change.\n     * @memberof Store\n     */\n    computed (propName, callBack) {\n        return this.model.calculatedProp(propName, callBack);\n    }\n\n    unsubscribeAll () {\n        this._listeners.forEach(fn => fn());\n    }\n}\n\n/**\n * Sanitize an input number / string mixed number. Currently dot in the no is not supported.\n *\n * @param {number | string} val pure number or string mixed number\n * @return {number | null}  Number if it can be extracted. Otherwise null\n */\nconst intSanitizer = (val) => {\n    const arr = val.toString().match(/(\\d+)(px)*/g);\n    if (!arr) {\n        // If only characters are passed\n        return null;\n    }\n\n    return parseInt(arr[0], 10);\n};\n\n/**\n * Setter getter creator from config\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args. (Optional)\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @param {Object} holder an empty object on which the getters and setters will be mounted\n * @param {Object} options options config based on which the getters and setters are determined.\n * @param {Hyperdis} model optional model to attach the property. If not sent new moel is created.\n * @return {Array} @todo\n */\nconst transactor = (holder, options, model) => {\n    let conf;\n    const store = model && model instanceof Model ? model : Model.create({});\n\n    for (const prop in options) {\n        if ({}.hasOwnProperty.call(options, prop)) {\n            conf = options[prop];\n            if (!store.prop(prop)) {\n                store.append({ [prop]: conf.value });\n            }\n            holder[prop] = ((context, key, meta) => (...params) => {\n                let val;\n                let compareTo;\n                const paramsLen = params.length;\n                const prevVal = store.prop(prop);\n                if (paramsLen) {\n                    // If parameters are passed then it's a setter\n                    const spreadParams = meta && meta.spreadParams;\n                    val = params;\n                    const values = [];\n                    if (meta) {\n                        for (let i = 0; i < paramsLen; i++) {\n                            val = params[i];\n                            const sanitization = meta.sanitization && (spreadParams ? meta.sanitization[i] :\n                                meta.sanitization);\n                            const typeCheck = meta.typeCheck && (spreadParams ? meta.typeCheck[i] : meta.typeCheck);\n                            if (sanitization && typeof sanitization === 'function') {\n                                // Sanitize if required\n                                val = sanitization(val, prevVal, holder);\n                            }\n\n                            if (typeCheck) {\n                                // Checking if a setter is valid\n                                if (typeof typeCheck === 'function') {\n                                    let typeExpected = meta.typeExpected;\n                                    if (typeExpected && spreadParams) {\n                                        typeExpected = typeExpected[i];\n                                    }\n                                    if (typeExpected) {\n                                        compareTo = typeExpected;\n                                    } else {\n                                        compareTo = true;\n                                    }\n\n                                    if (typeCheck(val) === compareTo) {\n                                        values.push(val);\n                                    }\n                                } else if (typeof typeCheck === 'string') {\n                                    if (typeCheck === 'constructor') {\n                                        const typeExpected = spreadParams ? meta.typeExpected[i] : meta.typeExpected;\n                                        if (val && (val.constructor.name === typeExpected)) {\n                                            values.push(val);\n                                        }\n                                    }\n                                } else {\n                                    // context.prop(key, val);\n                                    values.push(val);\n                                }\n                            } else {\n                                values.push(val);\n                            }\n                        }\n                        const preset = meta.preset;\n                        const oldValues = context.prop(key);\n                        preset && preset(values[0], holder);\n                        if (spreadParams) {\n                            oldValues.forEach((value, i) => {\n                                if (values[i] === undefined) {\n                                    values[i] = value;\n                                }\n                            });\n                        }\n                        values.length && context.prop(key, spreadParams ? values : values[0]);\n                    } else {\n                        context.prop(key, spreadParams ? val : val[0]);\n                    }\n                    return holder;\n                }\n            // No parameters are passed hence its a getter\n                return context.prop(key);\n            })(store, prop, conf.meta);\n        }\n    }\n\n    return [holder, store];\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} props\n */\nconst generateGetterSetters = (context, props) => {\n    Object.entries(props).forEach((propInfo) => {\n        const prop = propInfo[0];\n        const typeChecker = propInfo[1].typeChecker;\n        const sanitization = propInfo[1].sanitization;\n        const prototype = context.constructor.prototype;\n        if (!(Object.hasOwnProperty.call(prototype, prop))) {\n            context[prop] = (...params) => {\n                if (params.length) {\n                    let value = params[0];\n                    if (sanitization) {\n                        value = sanitization(context, params[0]);\n                    }\n                    if (typeChecker && !typeChecker(value)) {\n                        return context[`_${prop}`];\n                    }\n                    context[`_${prop}`] = value;\n                    return context;\n                } return context[`_${prop}`];\n            };\n        }\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} prop\n */\nconst getArraySum = (arr, prop) => arr.reduce((total, elem) => {\n    total += prop ? elem[prop] : elem;\n    return total;\n}, 0);\n\n/**\n *\n *\n * @param {*} arr1\n * @param {*} arr2\n * @returns\n */\nconst arraysEqual = (arr1, arr2) => {\n    if (arr1.length !== arr2.length) { return false; }\n    for (let i = arr1.length; i >= 0; i--) {\n        if (arr1[i] !== arr2[i]) { return false; }\n    }\n\n    return true;\n};\n\n/* eslint valid-typeof:0 */\n/**\n * Returns a validation function which can be used to validate variables against a type and value\n *\n * @param {any} type type of value that the object should have\n * @return {Object} validation function\n */\nconst isEqual = type => (oldVal, newVal) => {\n    if (type === 'Array') {\n        if (!oldVal) {\n            return false;\n        }\n        return arraysEqual(oldVal, newVal);\n    } else if (type === 'Object') {\n        return Object.is(oldVal, newVal);\n    } return oldVal === newVal;\n};\n\n/**\n * Description @todo\n *\n * @param {any} transactionModel @todo\n * @param {any} transactionEndpoint @todo\n * @param {any} transactionItems @todo\n * @return {any} @todo\n */\nconst enableChainedTransaction = (transactionModel, transactionEndpoint, transactionItems) =>\n    transactionItems.forEach(item => transactionModel.on(item, ([, newVal]) => transactionEndpoint[item](newVal)));\n\n/**\n * Chceks if the element is istanceof HTMLElement\n *\n * @param {Object} elem any JS Object\n */\nconst isHTMLElem = elem => elem instanceof HTMLElement;\n\nconst ERROR_MSG = {\n    INTERFACE_IMPL: 'Method not implemented'\n};\n\n/**\n * Merges the sink object in the source by recursively iterating through the object properties\n * @param {Object} source Source Object\n * @param {Object} sink Sink Object\n * @return {Object} Merged object\n */\nconst mergeRecursive = (source, sink) => {\n    for (const prop in sink) {\n        if (isSimpleObject(source[prop]) && isSimpleObject(sink[prop])) {\n            mergeRecursive(source[prop], sink[prop]);\n        } else if (sink[prop] instanceof Object && sink[prop].constructor === Object) {\n            source[prop] = {};\n            mergeRecursive(source[prop], sink[prop]);\n        } else {\n            source[prop] = sink[prop];\n        }\n    }\n    return source;\n};\n\nconst interpolateArray = (data, fitCount) => {\n    const linearInterpolate = function (before, after, atPoint) {\n        return before + (after - before) * atPoint;\n    };\n    const newData = [];\n    const springFactor = ((data.length - 1) / (fitCount - 1));\n    newData[0] = data[0]; // for new allocation\n    for (let i = 1; i < fitCount - 1; i++) {\n        const tmp = i * springFactor;\n        const before = (Math.floor(tmp)).toFixed();\n        const after = (Math.ceil(tmp)).toFixed();\n        const atPoint = tmp - before;\n        newData[i] = linearInterpolate(data[before], data[after], atPoint);\n    }\n    newData[fitCount - 1] = data[data.length - 1]; // for new allocation\n    return newData;\n};\n\n/**\n *\n *\n * @param {*} fn\n */\nconst nextFrame = (fn) => {\n    setTimeout(() => {\n        fn();\n    }, 0);\n};\n\n/**\n *\n *\n * @param {*} angle\n */\nconst angleToRadian = angle => angle * Math.PI / 180;\n\n/**\n *\n *\n * @param {*} newName\n * @param {*} oldName\n */\nconst replaceCSSPrefix = () => {\n    // @todo\n};\n\n/**\n * Gets the  interpolator function from d3 color\n *\n */\nconst interpolator = () => interpolate;\n\n/**\n * Gets the number interpolator from d3 color\n *\n */\nconst numberInterpolator = () => interpolateNumber;\n\n/**\n * Gets the rgb interpolator from d3 color\n *\n */\nconst colorInterpolator = () => interpolateRgb;\n\n/**\n * Gets the hsl interpolator from d3 color\n *\n */\nconst hslInterpolator = () => interpolateHslLong;\n\nconst transformColors = () => ({\n    color,\n    rgb,\n    hsl\n});\n\n/**\n * Gets the piecewise interpolator from d3 color\n *\n */\nconst piecewiseInterpolator = () => piecewise;\n\nfunction hue2rgb (p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\n  /**\n   * Converts an HSL color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n   * Assumes h, s, and l are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param   Number  h       The hue\n   * @param   Number  s       The saturation\n   * @param   Number  l       The lightness\n   * @return  Array           The RGB representation\n   */\nconst hslToRgb = (h, s, l, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\n  /**\n   * Converts an RGB color value to HSV. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n   * Assumes r, g, and b are contained in the set [0, 255] and\n   * returns h, s, and v in the set [0, 1].\n   *\n   * @param   Number  r       The red color value\n   * @param   Number  g       The green color value\n   * @param   Number  b       The blue color value\n   * @return  Array           The HSV representation\n   */\nconst rgbToHsv = (r, g, b, a = 1) => {\n    r = +r; g = +g; b = +b; a = +a;\n    r /= 255; g /= 255; b /= 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h;\n    let s;\n    const l = (max + min) / 2;\n\n    if (max === min) {\n        h = s = 0; // achromatic\n    } else {\n        const d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n        default: break;\n        }\n        h /= 6;\n    }\n    return [h, s, l, a];\n};\n\n  /**\n   * Converts an HSV color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n   * Assumes h, s, and v are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param   Number  h       The hue\n   * @param   Number  s       The saturation\n   * @param   Number  v       The value\n   * @return  Array           The RGB representation\n   */\nconst hsvToRgb = (h, s, v, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n    default: break;\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\nconst hexToHsv = (hex) => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n    const r = parseInt(result[1], 16);\n    const g = parseInt(result[2], 16);\n    const b = parseInt(result[3], 16);\n    const a = result[4] ? parseInt(result[4], 16) : 1;\n    return rgbToHsv(r, g, b, a);\n};\n\nconst detectColor = (col) => {\n    const matchRgb = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/;\n    const matchHsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g;\n\n    // Source :  https://gist.github.com/sethlopezme/d072b945969a3cc2cc11\n     // eslint-disable-next-line\n    const matchRgba = /rgba?\\(((25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,\\s*?){2}(25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,?\\s*([01]\\.?\\d*?)?\\)/;\n     // eslint-disable-next-line\n    const matchHsla = /^hsla\\((0|360|35\\d|3[0-4]\\d|[12]\\d\\d|0?\\d?\\d),(0|100|\\d{1,2})%,(0|100|\\d{1,2})%,(0?\\.\\d|1(\\.0)?)\\)$/;\n    const matchHex = /^#([0-9a-f]{3}){1,2}$/i;\n\n    if (matchRgb.test(col) || matchRgba.test(col)) {\n        return 'rgb';\n    } else if (matchHsl.test(col) || matchHsla.test(col)) {\n        return 'hsl';\n    } else if (matchHex.test(col)) {\n        return 'hex';\n    } return col;\n};\n\n/**\n *\n *\n * @param {*} model\n * @param {*} propModel\n * @returns\n */\nconst filterPropagationModel = (model, propModel, measures) => {\n    const { data, schema } = propModel.getData();\n    let filteredModel;\n    if (schema.length) {\n        const fieldMap = model.getFieldsConfig();\n        filteredModel = model.select((fields) => {\n            const include = data.some(row => schema.every((propField, idx) => {\n                if (!measures && (!(propField.name in fieldMap) ||\n                        fieldMap[propField.name].def.type === FieldType.MEASURE)) {\n                    return true;\n                }\n                return row[idx] === fields[propField.name].valueOf();\n            }));\n            return include;\n        }, {\n            saveChild: false\n        });\n    } else {\n        filteredModel = propModel;\n    }\n\n    return filteredModel;\n};\n\nconst assembleModelFromIdentifiers = (model, identifiers) => {\n    let schema = [];\n    let data;\n    const fieldMap = model.getFieldsConfig();\n    if (identifiers.length) {\n        const fields = identifiers[0];\n        const len = fields.length;\n        for (let i = 0; i < len; i++) {\n            const field = fields[i];\n            const fieldObj = fieldMap[field] && Object.assign({}, fieldMap[field].def);\n            if (fieldObj) {\n                schema.push(Object.assign(fieldObj));\n            }\n        }\n\n        data = [];\n        const header = identifiers[0];\n        for (let i = 1; i < identifiers.length; i += 1) {\n            const vals = identifiers[i];\n            const temp = {};\n            vals.forEach((fieldVal, cIdx) => {\n                temp[header[cIdx]] = fieldVal;\n            });\n            data.push(temp);\n        }\n    } else {\n        data = [];\n        schema = [];\n    }\n\n    return new model.constructor(data, schema);\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} criteria\n * @returns\n */\nconst getDataModelFromRange = (dataModel, criteria, mode) => {\n    if (criteria === null) {\n        return null;\n    }\n    const selFields = Object.keys(criteria);\n    const selFn = fields => selFields.every((field) => {\n        const val = fields[field].value;\n        const range = criteria[field][0] instanceof Array ? criteria[field][0] : criteria[field];\n        if (typeof range[0] === 'string') {\n            return range.find(d => d === val) !== undefined;\n        }\n        return range ? val >= range[0] && val <= range[1] : true;\n    });\n\n    return dataModel.select(selFn, {\n        saveChild: false,\n        mode\n    });\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} identifiers\n * @returns\n */\nconst getDataModelFromIdentifiers = (dataModel, identifiers, mode) => {\n    let filteredDataModel;\n    if (identifiers instanceof Array) {\n        const fieldsConfig = dataModel.getFieldsConfig();\n\n        const dataArr = identifiers.slice(1, identifiers.length);\n        if (identifiers instanceof Function) {\n            filteredDataModel = identifiers(dataModel, {}, false);\n        } else if (identifiers instanceof Array && identifiers[0].length) {\n            const filteredSchema = identifiers[0].filter(d => d in fieldsConfig);\n            filteredDataModel = dataModel.select((fields) => {\n                let include = true;\n                filteredSchema.forEach((propField, idx) => {\n                    const value = fields[propField].valueOf();\n                    const index = dataArr.findIndex(d => d[idx] === value);\n                    include = include && index !== -1;\n                });\n                return include;\n            }, {\n                saveChild: false,\n                mode\n            });\n        }\n    } else {\n        filteredDataModel = getDataModelFromRange(dataModel, identifiers, mode);\n    }\n    return filteredDataModel;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} listenerMap\n */\nconst registerListeners = (context, listenerMap) => {\n    const propListenerMap = listenerMap(context);\n    for (const key in propListenerMap) {\n        if ({}.hasOwnProperty.call(propListenerMap, key)) {\n            const mapObj = propListenerMap[key];\n            const propType = mapObj.type;\n            const props = mapObj.props;\n            const listenerFn = mapObj.listener;\n            context.store()[propType](props, listenerFn);\n        }\n    }\n};\n\nconst isValidValue = value => !isNaN(value) && value !== -Infinity && value !== Infinity;\n/**\n *\n *\n * @param {*} obj\n * @param {*} fields\n * @returns\n */\nconst getObjProp = (obj, ...fields) => {\n    if (obj === undefined || obj === null) {\n        return obj;\n    }\n    let retObj = obj;\n    for (let i = 0, len = fields.length; i < len; i++) {\n        retObj = retObj[fields[i]];\n        if (retObj === undefined || retObj === null) {\n            break;\n        }\n    }\n    return retObj;\n};\n\n/**\n *\n *\n * @param {*} str\n * @returns\n */\nconst escapeHTML = (str) => {\n    const htmlEscapes = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#x27;',\n        '/': '&#x2F;'\n    };\n    const htmlEscaper = /[&<>\"'/]/g;\n    return (`${str}`).replace(htmlEscaper, match => htmlEscapes[match]);\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst transposeArray = arr => arr[0].map((col, i) => arr.map(row => row[i]));\nconst toArray = arr => (arr instanceof Array ? arr : [arr]);\nconst extendsClass = (cls, extendsFrom, found) => {\n    if (!cls) {\n        return false;\n    }\n    const prototype = cls.prototype;\n    if (prototype instanceof extendsFrom) {\n        found = true;\n    } else {\n        found = extendsClass(prototype, extendsFrom, found);\n    }\n    return found;\n};\n\n/**\n *\n * @param {*} dm1\n * @param {*} dm2\n */\nconst concatModels = (dm1, dm2) => {\n    const dataObj1 = dm1.getData();\n    const dataObj2 = dm2.getData();\n    const data1 = dataObj1.data;\n    const data2 = dataObj2.data;\n    const schema1 = dataObj1.schema;\n    const schema2 = dataObj2.schema;\n    const tuples1 = {};\n    const tuples2 = {};\n    const commonTuples = {};\n    for (let i = 0; i < data1.length; i++) {\n        for (let ii = 0; ii < data2.length; ii++) {\n            const row1 = data1[i];\n            const row2 = data2[ii];\n            const dim1Values = row1.filter((d, idx) => schema1[idx].type === FieldType.DIMENSION);\n            const dim2Values = row2.filter((d, idx) => schema2[idx].type === FieldType.DIMENSION);\n            const allDimSame = dim1Values.every(value => dim2Values.indexOf(value) !== -1);\n            if (allDimSame) {\n                const key = dim1Values.join();\n                !commonTuples[key] && (commonTuples[key] = {});\n                row1.forEach((value, idx) => {\n                    commonTuples[key][schema1[idx].name] = value;\n                });\n                row2.forEach((value, idx) => {\n                    commonTuples[key][schema2[idx].name] = value;\n                });\n            } else {\n                const dm1Key = dim1Values.join();\n                const dm2Key = dim2Values.join();\n                if (!commonTuples[dm1Key] && !commonTuples[dm2Key]) {\n                    !tuples1[dm1Key] && (tuples1[dm1Key] = {});\n                    !tuples2[dm2Key] && (tuples2[dm2Key] = {});\n                    row1.forEach((value, idx) => {\n                        tuples1[dm1Key][schema1[idx].name] = value;\n                    });\n                    row2.forEach((value, idx) => {\n                        tuples2[dm2Key][schema2[idx].name] = value;\n                    });\n                }\n            }\n        }\n    }\n\n    const commonSchema = [...schema1, ...schema2.filter(s2 => schema1.findIndex(s1 => s1.name === s2.name) === -1)];\n    const data = [...Object.values(tuples1), ...Object.values(tuples2), ...Object.values(commonTuples)];\n    return [data, commonSchema];\n};\n\nconst getSymbol = type => symbol().type(symbolFns[type]);\n\nconst stackOrders = {\n    [STACK_CONFIG.ORDER_NONE]: stackOrderNone,\n    [STACK_CONFIG.ORDER_ASCENDING]: stackOrderAscending,\n    [STACK_CONFIG.ORDER_DESCENDING]: stackOrderDescending\n};\nconst stackOffsets = {\n    [STACK_CONFIG.OFFSET_DIVERGING]: stackOffsetDiverging,\n    [STACK_CONFIG.OFFSET_NONE]: stackOffsetNone,\n    [STACK_CONFIG.OFFSET_EXPAND]: stackOffsetExpand,\n    [STACK_CONFIG.OFFSET_WIGGLE]: stackOffsetWiggle\n};\n\n// eslint-disable-next-line require-jsdoc\nconst stack = params => d3Stack().keys(params.keys).offset(stackOffsets[params.offset])\n                .order(stackOrders[params.order])(params.data);\n\n/**\n * Groups the data into a hierarchical tree structure based on one or more fields.\n * @param { Object } params Configuration properties for nesting data\n * @param { Array.<Array> } params.data Data which needs to be grouped\n * @param { Array.<number> } params.keys Field indices by which the data will be grouped\n * @return { Array.<Object> } Grouped data array\n */\nconst nestCollection = (params) => {\n    const nestFn = nest();\n    params.keys.forEach(key => nestFn.key(d => d[key]));\n    return nestFn.entries(params.data);\n};\n\nconst pathInterpolators = {\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    stepAfter: curveStepAfter,\n    catmullRom: curveCatmullRom,\n    step: curveStep,\n    stepBefore: curveStepBefore,\n    linear: curveLinear\n};\n\nconst Symbols = {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom,\n    line,\n    area,\n    pie,\n    arc,\n    nest\n};\n\nconst Scales = {\n    band: scaleBand\n};\n\nconst getSmallestDiff = (points) => {\n    points = points.sort((a, b) => a - b);\n    let minDiff = points[1] - points[0];\n    for (let i = 2; i < points.length; i++) {\n        minDiff = Math.min(minDiff, points[i] - points[i - 1]);\n    }\n\n    return minDiff;\n};\n\nconst require = (lookupWhat, lookupDetails) => ({\n    resolvable: (store) => {\n        const lookupTarget = store[lookupWhat];\n        const depArr = lookupDetails.slice(0, lookupDetails.length - 1);\n        const fn = lookupDetails[lookupDetails.length - 1]; // fn\n\n        const deps = depArr.map(str => lookupTarget[str]);\n        return {\n            fn: fn(...deps),\n            depArr\n        };\n    }\n});\n\nconst nextAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||\n    function (callback) {\n        setTimeout(callback, 16);\n    };\n\nexport {\n    require,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    stack,\n    nestCollection,\n    getSymbol,\n    transformColors,\n    detectColor,\n    hexToHsv,\n    hslToRgb,\n    rgbToHsv,\n    hsvToRgb,\n    concatModels,\n    toArray,\n    angleToRadian,\n    escapeHTML,\n    generateGetterSetters,\n    getArraySum,\n    interpolator,\n    piecewiseInterpolator,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    colorInterpolator,\n    numberInterpolator,\n    ERROR_MSG,\n    reqAnimFrame,\n    nextAnimFrame,\n    filterPropagationModel,\n    transposeArray,\n    cancelAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    symbolFns,\n    easeFns,\n    clone,\n    isEqual,\n    interpolateArray,\n    getMinPoint,\n    defaultValue,\n    getMaxPoint,\n    getClosestIndexOf,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    Store,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    transactor,\n    enableChainedTransaction,\n    isHTMLElem,\n    isSimpleObject,\n    nextFrame,\n    registerListeners,\n    replaceCSSPrefix,\n    getObjProp,\n    extendsClass,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    hslInterpolator,\n    getSmallestDiff\n};\n","export function linear(t) {\n  return +t;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export const ORDER_ASCENDING = 'ascending';\nexport const ORDER_DESCENDING = 'descending';\nexport const ORDER_NONE = 'none';\nexport const OFFSET_DIVERGING = 'diverging';\nexport const OFFSET_NONE = 'none';\nexport const OFFSET_EXPAND = 'expand';\nexport const OFFSET_WIGGLE = 'wiggle';\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTING) throw new Error(\"too late; already started\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import { select, event as d3event, selection, clientPoint } from 'd3-selection';\nimport { drag as d3drag } from 'd3-drag';\nimport 'd3-transition';\nimport { mergeRecursive } from './common-utils';\n/**\n * This function takes a raw DOM element or\n * a string and returns a d3 selection of that element.\n *\n * @param {HTMLElement | string} element The element to wrap in d3 selection.\n * @return {Selection} Instance of d3 selection.\n */\nconst selectElement = element => select(element);\n\n/**\n * It creates a new d3 element on the parent element\n * @param  {Selection} parent Element to which the element is to be appended\n * @param  {Object} elemType Type of the new element\n * @param  {Array} data Data for the new element\n * @param  {Object} selector classname/id/tagname for the element\n * @return {HTMLElement} Newly Created Element\n */\nconst makeElement = (parent, elemType, data, selector, callbacks = {}, keyFn) => {\n    if ((parent instanceof HTMLElement || parent instanceof SVGElement)) {\n        parent = selectElement(parent);\n    }\n\n    const selectorVal = selector ? selector[0] : null;\n    let selectorType = null;\n    let actualSelector = null;\n    let element = null;\n    let enterSel = null;\n    let mergeSel = null;\n    let filter;\n    if (selectorVal) {\n        if (selectorVal === '#') {\n            selectorType = 'id';\n            actualSelector = selector;\n        } else {\n            selectorType = 'class';\n            actualSelector = selector[0] === '.' ? selector : `.${selector}`;\n        }\n    } else {\n        actualSelector = elemType;\n        filter = true;\n    }\n    element = parent.selectAll(actualSelector);\n\n    filter && (element = element.filter(function () {\n        return this.parentNode === parent.node();\n    }));\n    element = element.data(data, keyFn);\n\n    enterSel = element.enter()\n                            .append(elemType || 'div');\n    callbacks.enter && enterSel.each(function (...params) {\n        callbacks.enter(selectElement(this), ...params);\n    });\n\n    mergeSel = enterSel.merge(element);\n    callbacks.update && mergeSel.each(function (...params) {\n        callbacks.update(selectElement(this), ...params);\n    });\n    if (selectorType === 'class') {\n        mergeSel.classed(selectorVal === '.' ? selector.substring(1, selector.length) : selector, true);\n    } else if (selectorType === 'id') {\n        mergeSel.attr('id', selector.substring(1, selector.length));\n    }\n    const exitSel = element.exit();\n\n    if (callbacks.exit) {\n        exitSel.each(function (...params) {\n            callbacks.exit(selectElement(this), ...params);\n        });\n    } else {\n        exitSel.remove();\n    }\n    return mergeSel;\n};\n\n/**\n * This function applies styles to an element\n *  @param  {Object} elem Element Selection\n * @param  {Object} styleObj Style Object to be applied\n * @return {Element} Newly Created Element\n*/\nconst applyStyle = (elem, styleObj) => {\n    Object.entries(styleObj).forEach((d) => {\n        elem.style(d[0], d[1]);\n    }, this);\n    return elem;\n};\n\n/**\n * This function appends a dom element in another element.\n * @param {HTMLElement | SVGElement} element1 The element in which to append the second element\n * @param {HTMLElement | SVGElement} element2 The element which will be appended.\n */\nconst appendElement = (element1, element2) => {\n    element1.appendChild(element2);\n};\n\n/**\n * Sets the attributes to the element.\n * @param {HTMLElement | SVGElement} element Element on which attributes will be applied\n * @param {Object} attrs Attributes which need to be applied\n */\nconst setElementAttrs = (element, attrs) => {\n    for (const key in attrs) {\n        if ({}.hasOwnProperty.call(attrs, key)) {\n            element.attr(key, attrs[key]);\n        }\n    }\n};\n\n/**\n * Sets attributes in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which attrs will be applied\n * @param {Array.<Object>} attrs Array of attributes\n * @param {string} className className of elements to select.\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setAttrs = (element, attrs, className) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    className !== undefined ? element.selectAll(`.${className}`).each(function () {\n        setElementAttrs(select(this), attrs);\n    }) : setElementAttrs(element, attrs);\n    return element;\n};\n\n/**\n * Adds a css class to elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst addClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, true) :\n                elem.classed(className, true);\n    });\n};\n\n/**\n * Removes the css class from elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst removeClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, false) :\n                elem.classed(className, false);\n    });\n};\n\n/**\n * Sets styles in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which styles will be applied\n * @param {Array.<Object>} styles Array of style attributes\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setStyles = (element, styles) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            element.style(key, styles[key]);\n        }\n    }\n    return element;\n};\n\n/**\n * Creates svg or html elements by binding data to the selection.Removes extra elements\n * on exit.\n * @param {Object} params Parameter object\n * @param {SVGElement | HTMLElement} params.container Container element where all elements will be appended\n * @param {string} params.selector Selector by which elements will be selected from dom\n * @param {string} params.append Append tag\n * @param {Function} params.each Function which will be executed for each data point and element.\n */\nconst createElements = (params) => {\n    const container = select(params.container);\n    let data;\n    let sel;\n\n    data = params.data;\n    if (typeof data === 'number') {\n        data = Array(data).fill().map((d, i) => i);\n    }\n    sel = container.selectAll(params.selector).data(data);\n\n    sel = container.selectAll(params.selector).filter(function () {\n        return this.parentNode === container.node();\n    }).data(params.data);\n\n    const selectionMerge = sel.enter().append(params.append).merge(sel).each(function (d, i) {\n        params.each(d, select(this), i);\n    });\n\n    selectionMerge.attr('class', params.className || '');\n    sel.exit().remove();\n};\n\n/**\n * Clips an element with given measurement. Basically it is used to hide overflowing portions\n * of any element.\n * @param {SVGElement} container svg element which needs to be clipped.\n * @param {Object} measurement Dimensions of the clipped rectangle.\n * @param {string} id Unique id of the clip element\n */\nconst clipElement = (container, measurement, id) => {\n    const clipPathElement = makeElement(select(container), 'clipPath', [1], `#${id}`);\n    const clipPathRect = makeElement(clipPathElement, 'rect', [1]);\n    clipPathRect.attr('x', measurement.x)\n                    .attr('y', measurement.x)\n                    .attr('width', measurement.width)\n                    .attr('height', measurement.height);\n    clipPathElement.attr('clip-path', `url(#${id})`);\n};\n\n/**\n * Returns the element of the corresponding classname.\n * @param {HTMLElement | SVGElement} node html or svg node element.\n * @param {string} className css class to be applied.\n * @return {HTMLElement | SVGElement} html or svg element.\n */\nconst getElementsByClassName = (node, className) => select(node).selectAll(className).nodes();\n\n/**\n * Gets the mouse position relative to an svg type of element\n * @param {SVGElement} element Any svg element like rect, circle, etc.\n * @param {Event} event Event object.\n * @return {Object} x and y position relative to the container element passed.\n */\nconst getMousePos = (element, event) => {\n    const boundingClientRect = element.getBoundingClientRect();\n    return {\n        x: event.x - boundingClientRect.x,\n        y: event.y - boundingClientRect.y\n    };\n};\n\nconst getClientPoint = (...params) => {\n    const pos = clientPoint(...params);\n    return {\n        x: pos[0],\n        y: pos[1]\n    };\n};\n\n/** This function appends a dom element in another element.\n * @param {Object} tag The tag name of the element to append\n * @param {Object} mount Mount point fo the element\n * @return {Object} selection of the appended element\n */\nconst createElement = (tag, mount) => select(mount).append(tag).node();\n\n/**\n * Gets the d3 event function\n * @return {Object} d3 event\n */\nconst getEvent = () => d3event;\n\n/**\n * Gets the d3 drag function\n * @return {Object} d3 drag\n */\nconst getD3Drag = () => d3drag;\n\nconst getSmartComputedStyle = (group, css) => {\n    let textEl;\n    const testText = 'W';\n    const mandatoryStyle = {\n        'fill-opacity': 0\n    };\n    const className = typeof css === 'string' ? css : (css instanceof Array ? css.join(' ') : undefined);\n\n    if (group.node() instanceof HTMLElement) {\n        textEl = group.append('div').html(testText);\n    } else {\n        textEl = group.append('text').text(testText);\n    }\n\n    if (className) {\n        textEl.attr('class', className);\n    } else if (typeof css === 'object') {\n        delete css['fill-opacity'];\n        mergeRecursive(mandatoryStyle, css);\n    }\n\n    textEl.style(mandatoryStyle);\n\n    const computedStyle = window.getComputedStyle(textEl.node());\n    const styleForSmartLabel = {\n        fontSize: computedStyle.fontSize,\n        fontFamily: computedStyle.fontFamily,\n        fontWeight: computedStyle.fontWeight,\n        fontStyle: computedStyle.fontStyle\n    };\n\n    textEl.remove();\n\n    return styleForSmartLabel;\n};\n\nconst hasTouch = () => 'ontouchstart' in document.documentElement;\n\nexport {\n    hasTouch,\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint\n};\n","/**\n * This class represents a selection applied on a data array.\n *\n * @class Selection\n */\nclass Selection {\n    /**\n     * Creates an instance of Selection.\n     * @param {Array<DataObject>} data Array of DataObjects.\n     * @memberof Selection\n     */\n    constructor () {\n        this._data = [];\n        // // map of id to data\n        this._idMap = {};\n\n        this._mode = '';\n        // data.forEach((item, idx) => {\n        //     const index = item.id || idx;\n        //     this._idMap[index] = item;\n        // });\n        // // array to store data in enter phase\n        this._enterdata = [];\n        // // array to store data in exit phase\n        this._exitdata = [];\n    }\n    /**\n     *  Gets the object bound to a class\n     *\n     * @return {Object} current data set bound to the class\n     * @memberof Selection\n     */\n    getObjects () {\n        return Object.keys(this._idMap).map(e => this._idMap[e]);\n    }\n\n    /**\n     * This method is used to supply seed data to a selection.\n     *\n     * @param {Array} newData Seed data to create the enter selection.\n     * @param {Functon | undefined } idGetter This function is used to uniqely identify a data entry.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    data (newData, idGetter) {\n        if (idGetter) {\n            this._data = [];\n            this._idGetter = idGetter;\n            const tempMap = {};\n\n            newData.forEach((...params) => {\n                const index = idGetter(...params);\n                tempMap[index] = params[0];\n            });\n            // check if any data items have been removed\n            const purgedIds = [];\n\n            Object.keys(this._idMap).forEach((id) => {\n                if (!tempMap[id]) {\n                    purgedIds.push(id);\n                }\n            });\n\n            Object.keys(tempMap).forEach((id) => {\n                if (!this._idMap[id]) {\n                    this._enterdata.push(tempMap[id]);\n                } else {\n                    this._idMap[id] = tempMap[id];\n                    this._data.push(tempMap[id]);\n                }\n            });\n            // move the purged items to exit selection\n            purgedIds.forEach((id) => {\n                const purged = this._idMap[id];\n                this._exitdata.push(purged);\n                // this._data = this._data.slice(id, 1);\n                delete this._idMap[id];\n            });\n            // this._data = this._data.slice(temp, this._data.length);\n\n            return this;\n        }\n        // no id getter supplied so use indices\n        if (newData.length > this._data.length) {\n            const startIdx = this._data.length;\n            for (let i = startIdx; i < newData.length; i += 1) {\n                this._enterdata.push(newData[i]);\n            }\n        } else {\n            // push to exit selection\n            const temp = newData.length;\n            for (let i = temp; i < this._data.length; i += 1) {\n                const purged = this._data[i];\n                delete this._idMap[purged.id];\n                this._exitdata.push(purged);\n            }\n            this._data = this._data.slice(temp, this._data.length);\n        }\n        return this;\n    }\n\n    /**\n     * Applies the supplied callback to each data element\n     * and returns a new selection.\n     *\n     * @param {Function} callback Callback to execute on each item.\n     * @return {Selection} New selection with data created using callback.\n     * @memberof EnterSelection\n     */\n    append (callback) {\n        this[`_${this._mode}data`].forEach((...params) => {\n            const data = params[0];\n            const id = this._idGetter ? this._idGetter(...params) : (data.id || params[1]);\n            this._idMap[id] = callback(...params);\n        });\n        this._mode = '';\n        return this;\n    }\n\n    /**\n     * This method returns an enter selection that\n     * allows or update operations.\n     *\n     * @return {EnterSelection} Instance of enter selection.\n     * @memberof Selection\n     */\n    enter () {\n        this._mode = 'enter';\n        return this;\n        // return new EnterSelection(this._enterdata, this._idMap, this._idGetter);\n    }\n\n    /**\n     * This method is used to set key value pairs\n     * on data objects.\n     *\n     * @param {string} key Name of property.\n     * @param {any} value Value of property.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    attr (key, value) {\n        this._data.forEach(item => item.attr(key, value));\n        return this;\n    }\n\n    /**\n     * This method merges the data of one selection with another.\n     *\n     * @param {Selection} selection Instance of selection.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    merge (selection) {\n        selection._data.forEach((...params) => {\n            const id = this._idGetter ? this._idGetter(...params) : (params[0].id || params[1]);\n            this._idMap[id] = params[0];\n            this._data.push(params[0]);\n        });\n        // reset enter selection\n        this._enterdata = [];\n        return this;\n    }\n\n    /**\n     * Returns a selection with exit data.\n     *\n     * @return {Selection} Instance of selection.\n     * @memberof Selection\n     */\n    exit () {\n        this._mode = 'exit';\n        // const exitdata = this._exitdata;\n        // const exitSelection = new Selection(exitdata);\n        // this._exitdata = [];\n        return this;\n    }\n\n    each (fn) {\n        Object.keys(this._idMap).forEach((e) => {\n            fn(this._idMap[e]);\n        });\n        return this;\n    }\n\n    map (fn) {\n        Object.keys(this._idMap).forEach((...params) => {\n            this._idMap[params[0]] = fn(this._idMap[params[0]], ...params);\n        });\n        return this;\n    }\n\n    /**\n     * Executes the cleanup operation associated with data objets.\n     *\n     * @memberof Selection\n     */\n    remove () {\n        // do cleanup on DDO's\n        const data = this[`_${this._mode}data`];\n\n        data.forEach(item => item.remove());\n        if (this._mode === '') {\n            this.each(e => e.remove());\n        }\n        this[`_${this._mode}data`] = [];\n        this._mode = '';\n    }\n}\n\nexport default Selection;\n","import { getUniqueId } from '../index';\n/**\n * Represents the base class that all objects that form\n * the data for a selection must inherit from.\n *\n * @class DataObject\n */\nclass DataObject {\n/**\n * Creates an instance of DataObject.\n * @memberof DataObject\n */\n    constructor () {\n        this._id = getUniqueId();\n    }\n    /**\n     * Returns the id.\n     *\n     * @readonly\n     * @memberof DataObject\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Sets the value corresponding to supplied key.\n     *\n     * @param {string} key The property name.\n     * @param {any} value Value associated with prop.\n     * @memberof DataObject\n     */\n    attr (key, value) {\n        this[key] = value;\n    }\n\n    /**\n     * Clean up code to be executed by each object.\n     *\n     * @override\n     * @memberof DataObject\n     */\n    remove () {\n        // cleanup\n    }\n}\n\nexport default DataObject;\n","const events = [\n    'initialized',\n    'beforeupdate',\n    'updated',\n    'beforedraw',\n    'drawn',\n    'beforeremove',\n    'removed'\n];\n\nconst compositions = [\n    'canvas',\n    'unit',\n    'layer',\n    'axis',\n    'facet-headers',\n    'legend',\n    'caption'\n];\n\nconst EVENT_LIST = [];\n\ncompositions.forEach((composition) => {\n    events.forEach((event) => {\n        EVENT_LIST.push(`${composition}.${event}`);\n    });\n});\n\nexport default EVENT_LIST;\n","import EVENT_LIST from './event-list';\n\n/**\n * At first call it accepts one function\n * calling it second time accepts notification object.\n * notification object then called with first accepted function\n *\n * @param {Function} resolveFn a promise's resolve function\n * @return {Function} a function to accept notification object\n */\nconst resolver = resolveFn => notification => resolveFn(notification);\n\n/**\n * Checks if the property string is present in the source object\n *\n * @param {Object} source source object whom you want to check the property\n * @param {string} property key name that need to be checked\n * @return {boolean} returns true if the property found in the source object\n */\nconst hasOwn = (source, property) => Object.prototype.hasOwnProperty.call(source, property);\n\n/**\n * LifeCycleManager which goes as a dependendecy to a muze\n * it accepts notification from the entire library throughout\n * the exeecution life\n *\n * @export\n * @class LifeCycleManager\n */\nexport default class LifeCycleManager {\n\n    /**\n     * Creates an instance of LifeCycleManager.\n     * @memberof LifeCycleManager\n     */\n    constructor () {\n        this._eventList = EVENT_LIST;\n        this._promises = new Map();\n        this._notifiers = {};\n        this._lifeCycles = {};\n        this._unreleasedLifeCycles = {};\n        this._boot();\n    }\n\n    /**\n     * Fills all the notifiers with resolver callback\n     *\n     * @memberof LifeCycleManager\n     */\n    _boot () {\n        this._notifiers = this._eventList.reduce((acc, name) => {\n            acc[name] = resolver;\n            return acc;\n        }, {});\n        this._preparePromises();\n    }\n\n    /**\n     * Public method which gives the promise corresponding\n     * to the event name\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    retrieve (eventName) {\n        return this._promises.get(eventName);\n    }\n\n    /**\n     * Creates a promise that will be passed to user's callback\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} a pending promise waiting for resolve to be called\n     * @memberof LifeCycleManager\n     */\n    _makeNotifierPromise (eventName) {\n        return new Promise((resolve) => {\n            this._notifiers[eventName] = this._notifiers[eventName](resolve);\n        });\n    }\n\n    /**\n     * Prepares the promise map with pending promises\n     * all the promises are in a pending state where their's\n     * resolve function waiting to be called with notification object\n     * @memberof LifeCycleManager\n     */\n    _preparePromises () {\n        this._eventList.forEach((eventName) => {\n            this._promises.set(eventName, this._makeNotifierPromise(eventName));\n        });\n    }\n\n    /**\n     * Resolves the promise with notification object\n     *\n     * @param {string} eventName name of the event in the system\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     *\n     * @memberof LifeCycleManager\n     */\n    _resolvePromise (eventName, notification) {\n        this._notifiers[eventName](notification);\n    }\n\n    /**\n     * Public method which is being called by different\n     * subcompoents of the system at different execution atages\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    notify (notification) {\n        // get the composition name from notification\n        // or from static formalName() method\n        const composition = notification.formalName || notification.client.constructor.formalName();\n        notification.formalName = composition;\n        this._releasePromisesFromCache();\n        this._notify(composition, notification);\n    }\n\n    /**\n     * Notify user the with promsie in a callback\n     * if callback not found then cache it\n     *\n     * @param {string} composition\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    _notify (composition, notification) {\n        const stage = notification.action;\n        const eventName = `${composition}.${stage}`;\n\n        // resolves promise with the notification object\n        this._resolvePromise(eventName, notification);\n\n        // get the promise from the promise map\n        const promise = this.retrieve(eventName);\n\n        if (this._lifeCycles[composition]) {\n            if (this._lifeCycles[composition][stage]) {\n                // if user given call back exists, then call with promise\n                this._callLifeCycleCallback(composition, stage, promise);\n            } else {\n                // otherwise cache the promise\n                this._cachePromise(composition, stage, promise);\n            }\n        } else {\n            this._cachePromise(composition, stage, promise);\n        }\n    }\n\n    /**\n     * Calls the user's callback with callback\n     *\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _callLifeCycleCallback (composition, stage, promise) {\n        const eventName = `${composition}.${stage}`;\n        this._lifeCycles[composition][stage](promise);\n        this._resetTargetPromise(eventName);\n    }\n\n    /**\n     * Try to clear the cached promsies once we have\n     * macthed callbacks from the user\n     *\n     * @memberof LifeCycleManager\n     */\n    _releasePromisesFromCache () {\n        const compositions = Object.keys(this._unreleasedLifeCycles);\n        compositions.forEach((composition) => {\n            const stages = Object.keys(this._unreleasedLifeCycles[composition]);\n            stages.forEach((stage) => {\n                if (this._lifeCycles[composition]) {\n                    if (this._lifeCycles[composition][stage]) {\n                        // take the promise from unreleased lifeCycles\n                        const promise = this._unreleasedLifeCycles[composition][stage];\n                        // call the user given callback with that promise\n                        this._callLifeCycleCallback(composition, stage, promise);\n                        // delete promise from unreleased lifeCycles\n                        delete this._unreleasedLifeCycles[composition][stage];\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Cache the promise in the map. This cache\n     * then get consumed if we get user callbacks\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _cachePromise (composition, stage, promise) {\n        if (!hasOwn(this._unreleasedLifeCycles, composition)) {\n            this._unreleasedLifeCycles[composition] = {};\n        }\n\n        if (!hasOwn(this._unreleasedLifeCycles[composition], stage)) {\n            this._unreleasedLifeCycles[composition][stage] = {};\n        }\n        this._unreleasedLifeCycles[composition][stage] = promise;\n    }\n\n    /**\n     * It register's the callbacks gievn the user\n     *\n     * @param {Object} [lifeCycles={}] a object with list of callbacks\n     * @memberof LifeCycleManager\n     */\n    register (lifeCycles = {}) {\n        this._lifeCycles = lifeCycles;\n        // as we get all the callbacks, try to call them\n        // from unreleased promise map\n        this._releasePromisesFromCache();\n    }\n\n    /**\n     * Reset the promise into pending state\n     *\n     * @param {string} eventName name of the event happening\n     * @memberof LifeCycleManager\n     */\n    _resetTargetPromise (eventName) {\n        setTimeout(() => {\n            this._notifiers[eventName] = resolver;\n            this._promises.set(eventName, this._makeNotifierPromise(eventName));\n        }, 0);\n    }\n}\n","import LifeCycleManager from './lifecycle-manager';\n\nexport default LifeCycleManager;\n","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\nexport const LONGTOUCH = 'longtouch';\nexport const TOUCHDRAG = 'touchdrag';\nexport const ALL_ACTIONS = '*';\n","const SELECTION_NEW_ENTRY = 1;\nconst SELECTION_NEW_EXIT = -1;\nconst SELECTION_NULL = 0;\nconst SELECTION_OLD_ENTRY = 2;\nconst SELECTION_OLD_EXIT = -2;\n\nexport {\n    SELECTION_NEW_ENTRY,\n    SELECTION_NEW_EXIT,\n    SELECTION_NULL,\n    SELECTION_OLD_ENTRY,\n    SELECTION_OLD_EXIT\n};\n","import {\n    SELECTION_NEW_ENTRY, SELECTION_NEW_EXIT, SELECTION_NULL, SELECTION_OLD_ENTRY, SELECTION_OLD_EXIT\n} from '../enums/selection';\n/* eslint-disable guard-for-in */\n\n/**\n * This component is used to keep track of the row tuples of the data which gets added and removed.\n * @class SelectionSet\n */\nclass SelectionSet {\n    /**\n     * Creates an instance of selection set\n     * @param {Array.<string>} completeSet Set of unique ids.\n     */\n    constructor (completeSet, _volatile) {\n        this.completeSet = completeSet;\n        this._set = completeSet.reduce((obj, key) => {\n            obj[key] = SELECTION_NULL;\n            return obj;\n        }, {});\n        this._volatile = _volatile;\n        this._completeSetCount = completeSet.length;\n        this._lockedSelection = {};\n        this._resetted = true;\n    }\n\n    /**\n     * Adds a set of ids to the selection set.\n     * @param {Array.<number|string>} ids Array of unique ids\n     * @return {SelectionSet} Instance of selection set.\n     */\n    add (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            set[i] = SELECTION_NEW_ENTRY;\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_ENTRY && set[key] !== SELECTION_OLD_ENTRY) {\n                set[key] = set[key] < 0 ? SELECTION_OLD_EXIT : SELECTION_NEW_EXIT;\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Adds a set of ids to the selection set.\n     * @param {Array.<number|string>} ids Array of unique ids\n     * @return {SelectionSet} Instance of selection set.\n     */\n    update (ids) {\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            set[i] = SELECTION_OLD_ENTRY;\n        });\n\n        return this;\n    }\n\n    /**\n     * Adds a set of ids to the selection set.\n     * @param {Array.<number|string>} ids Array of unique ids\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateEntry () {\n        const set = this._set;\n\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_ENTRY ? SELECTION_OLD_ENTRY : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Adds a set of ids to the selection set.\n     * @param {Array.<number|string>} ids Array of unique ids\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateExit () {\n        const set = this._set;\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_EXIT ? SELECTION_OLD_EXIT : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Removes the ids from the selection set.\n     * @param {Array.<string>} ids Array of unique ids\n     * @return {SelectionSet}  Instance of selection set\n     */\n    remove (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        ids.forEach((i) => {\n            set[i] = SELECTION_NEW_EXIT;\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_EXIT && set[key] !== SELECTION_OLD_EXIT) {\n                set[key] = set[key] === 0 ? SELECTION_NEW_ENTRY : SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n\n    getSets () {\n        const set = this._set;\n        const retObj = {\n            entrySet: [[], []],\n            exitSet: [[], []],\n            completeSet: []\n        };\n\n        for (const key in set) {\n            if (set[key] > 0) {\n                set[key] === SELECTION_OLD_ENTRY && retObj.entrySet[0].push(key);\n                set[key] === SELECTION_NEW_ENTRY && retObj.entrySet[1].push(key);\n            } else if (set[key] < 0) {\n                set[key] === SELECTION_OLD_EXIT && retObj.exitSet[0].push(key);\n                set[key] === SELECTION_NEW_EXIT && retObj.exitSet[1].push(key);\n            }\n            retObj.completeSet.push(key);\n        }\n\n        ['entrySet', 'exitSet'].forEach((type) => {\n            retObj[type] = retObj[type].map(e => e.map(Number));\n        });\n        retObj.completeSet = retObj.completeSet.map(Number);\n\n        return retObj;\n    }\n\n    /**\n     * Resets the selection set to initial state. It sets the value of every unique id value to\n     * null in the selection set.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    reset (ids) {\n        const set = this._set;\n        if (ids) {\n            ids.forEach((i) => {\n                set[i] = SELECTION_NULL;\n            });\n        } else {\n            const lockedSel = this._lockedSelection;\n            for (const key in set) {\n                if (!(key in lockedSel)) {\n                    set[key] = SELECTION_NULL;\n                }\n            }\n        }\n        this._resetted = true;\n        return this;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getEntrySet () {\n        const set = this._set;\n        const addSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_ENTRY && addSet.push(key);\n        }\n\n        return addSet;\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in entry set\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old entry set or new entry set\n     */\n    getExistingEntrySet (addSet) {\n        const set = this._set;\n        return addSet.filter(d => set[d] === SELECTION_NEW_ENTRY || set[d] === SELECTION_OLD_ENTRY);\n    }\n\n    getExistingExitSet (removeSet) {\n        const set = this._set;\n        return removeSet.filter(d => set[d] === SELECTION_NEW_EXIT || set[d] === SELECTION_OLD_EXIT);\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldEntry () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_ENTRY && updateSet.push(key);\n        }\n        return updateSet;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldExit () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_EXIT && updateSet.push(key);\n        }\n\n        return updateSet;\n    }\n\n    /**\n     * Gets the set of ids which are in the remove set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getExitSet () {\n        const set = this._set;\n        const removeSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_EXIT && removeSet.push(key);\n        }\n        return removeSet;\n    }\n\n    getCompleteSet () {\n        const set = this._set;\n        const completeSet = [];\n\n        for (const key in set) {\n            completeSet.push(key);\n        }\n\n        return completeSet;\n    }\n\n    getCompleteSetCount () {\n        return this._completeSetCount;\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Swaps the add set and remove set in the selection set.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    toggle () {\n        const set = this._set;\n\n        for (const key in set) {\n            if (set[key] === SELECTION_NEW_ENTRY) {\n                set[key] = SELECTION_NEW_EXIT;\n            } else if (set[key] === SELECTION_NEW_EXIT) {\n                set[key] = SELECTION_NEW_ENTRY;\n            } else if (set[key] === SELECTION_OLD_ENTRY) {\n                set[key] = SELECTION_OLD_EXIT;\n            } else {\n                set[key] = SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n}\n\nexport default SelectionSet;\n","import { clone } from 'muze-utils';\nimport * as SELECTION from '../enums/selection';\n\nexport const initializeSideEffects = (context, sideEffects) => {\n    const sideEffectsMap = context._sideEffects;\n\n    sideEffects = sideEffects instanceof Array ? sideEffects : Object.values(sideEffects);\n    sideEffects.forEach((SideEffect) => {\n        const sideEffectInstance = sideEffectsMap[SideEffect.formalName()];\n        sideEffectsMap[SideEffect.formalName()] = sideEffectInstance || new SideEffect(context);\n    });\n    return sideEffectsMap;\n};\n\nexport const initializeBehaviouralActions = (context, actions) => {\n    const dispatchableBehaviours = {};\n\n    actions = actions instanceof Array ? actions : Object.values(actions);\n    actions.forEach((Action) => {\n        dispatchableBehaviours[Action.formalName()] = new Action(context);\n    });\n    return dispatchableBehaviours;\n};\n\nexport const initializePhysicalActions = (context, actions) => {\n    const physicalActions = {};\n\n    for (const name in actions) {\n        if (!({}).hasOwnProperty.call(name, actions)) {\n            physicalActions[name] = actions[name](context);\n        }\n    }\n    return physicalActions;\n};\n\nexport const changeSideEffectAvailability = (context, fn, toEnable) => {\n    const sideEffects = context.sideEffects();\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            let change = true;\n            if (fn && fn(key) === false) {\n                change = false;\n            }\n            if (change) {\n                toEnable ? sideEffects[key].enable() : sideEffects[key].disable();\n            }\n        }\n    }\n};\n\nexport const getMergedSet = set => [...new Set([...set[0], ...set[1]])];\n\nexport const getSourceFields = (propagationInf, criteria = {}) => {\n    const sourceIdentifiers = propagationInf.sourceIdentifiers;\n    let sourceFields;\n    if (sourceIdentifiers) {\n        sourceFields = sourceIdentifiers.getSchema().map(d => d.name);\n    } else if (criteria instanceof Array) {\n        sourceFields = criteria[0];\n    } else {\n        sourceFields = Object.keys(criteria || {});\n    }\n    return sourceFields;\n};\n\nconst conditionsMap = {\n    newEntry: [SELECTION.SELECTION_NEW_ENTRY],\n    oldEntry: [SELECTION.SELECTION_OLD_ENTRY],\n    mergedEnter: [SELECTION.SELECTION_NEW_ENTRY, SELECTION.SELECTION_OLD_ENTRY],\n    newExit: [SELECTION.SELECTION_NEW_EXIT],\n    oldExit: [SELECTION.SELECTION_OLD_EXIT],\n    mergedExit: [SELECTION.SELECTION_NEW_EXIT, SELECTION.SELECTION_OLD_EXIT],\n    complete: []\n};\n\nexport const getModelFromSet = (type, model, set) => {\n    if (model) {\n        return model.select((fields, i) =>\n           (conditionsMap[type].some(condition => set[i] === condition)), {\n               saveChild: false\n           });\n    }\n    return null;\n};\n\nexport const getSetInfo = (type, set, config) => {\n    let model = null;\n    const filteredDataModel = config.filteredDataModel;\n    const selectionSet = config.selectionSet;\n    if (!config.propagationData) {\n        if (selectionSet.resetted()) {\n            model = null;\n        } else {\n            model = getModelFromSet(type, config.dataModel, config.selectionSet._set);\n        }\n    } else if (filteredDataModel) {\n        model = type === 'mergedEnter' ? filteredDataModel[0] : filteredDataModel[1];\n    }\n    return {\n        uids: set,\n        length: set.length,\n        model\n    };\n};\n\nexport const getSideEffects = (behaviour, behaviourEffectMap) => {\n    const sideEffects = [];\n    for (const key in behaviourEffectMap) {\n        const behaviours = key.split(',');\n        const found = behaviours.some(d => d === behaviour);\n        if (found) {\n            sideEffects.push({\n                effects: behaviourEffectMap[key],\n                behaviours\n            });\n        }\n    }\n    return sideEffects;\n};\n\nexport const unionSets = (context, behaviours) => {\n    let combinedSet = {};\n    const models = {\n        mergedEnter: null,\n        mergedExit: null\n    };\n    behaviours.forEach((behaviour) => {\n        const entryExitSet = context._entryExitSet[behaviour];\n        if (entryExitSet) {\n            combinedSet = Object.assign(combinedSet, clone(entryExitSet));\n            ['mergedEnter', 'mergedExit'].forEach((type) => {\n                const model = entryExitSet[type].model;\n                let existingModel = models[type];\n                if (!existingModel) {\n                    existingModel = models[type] = model;\n                } else {\n                    existingModel = models[type] = model.union(existingModel);\n                }\n                combinedSet[type].model = existingModel;\n            });\n        }\n    });\n    return combinedSet;\n};\n","import {\n    mergeRecursive,\n    hasTouch,\n    filterPropagationModel,\n    FieldType,\n    selectElement\n} from 'muze-utils';\nimport { ALL_ACTIONS } from './enums/actions';\nimport SelectionSet from './selection-set';\nimport {\n    initializeBehaviouralActions,\n    initializeSideEffects,\n    changeSideEffectAvailability,\n    initializePhysicalActions,\n    unionSets,\n    getSideEffects\n} from './helper';\n\n/**\n * Relient firebolt is responsible for dispatching behaviours. It has only behaviours which can be\n * dispatched without any physical action being triggered.\n */\nexport default class Firebolt {\n    constructor (context, actions, sideEffects, behaviourEffectMap) {\n        this.context = context;\n        this._sideEffectDefinitions = {};\n        this._sideEffects = {};\n        this._propagationInf = {};\n        this._actions = {\n            behavioural: {},\n            physical: {}\n        };\n        this._selectionSet = {};\n        this._volatileSelectionSet = {};\n        this._propagationFields = {};\n        this._sourceSideEffects = {\n            selectionBox: () => false\n        };\n        this._sourceBehaviours = {};\n        this._actionBehaviourMap = {};\n        this._config = {};\n        this._behaviourEffectMap = {};\n        this._entryExitSet = {};\n        this._actionHistory = {};\n        this._queuedSideEffects = [];\n        this._mappedActions = {};\n\n        this.mapSideEffects(behaviourEffectMap);\n        this.registerBehaviouralActions(actions.behavioural);\n        this.registerSideEffects(sideEffects);\n        this.registerPhysicalBehaviouralMap(actions.physicalBehaviouralMap);\n        this.registerPhysicalActions(actions.physical);\n    }\n\n    config (...config) {\n        if (config.length) {\n            const conf = this._config = mergeRecursive(this._config, config[0]);\n            const sideEffects = this.sideEffects();\n            for (const key in sideEffects) {\n                if ({}.hasOwnProperty.call(sideEffects, key)) {\n                    const sideEffectConf = conf[key];\n                    sideEffectConf && sideEffects[key].config(sideEffectConf);\n                }\n            }\n            return this;\n        }\n        return this._config;\n    }\n\n    mapSideEffects (behEffectMap) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        for (const key in behEffectMap) {\n            if ({}.hasOwnProperty.call(behEffectMap, key)) {\n                const sideEffects = behEffectMap[key] || [];\n                !behaviourEffectMap[key] && (behaviourEffectMap[key] = []);\n                this._behaviourEffectMap[key] = [...new Set([...behaviourEffectMap[key], ...sideEffects])];\n            }\n        }\n        return this;\n    }\n\n    registerBehaviouralActions (actions) {\n        const behaviours = initializeBehaviouralActions(this, actions);\n        this.prepareSelectionSets(behaviours);\n        Object.assign(this._actions.behavioural, behaviours);\n        return this;\n    }\n\n    prepareSelectionSets () {\n        return this;\n    }\n\n    registerSideEffects (sideEffects) {\n        for (const key in sideEffects) {\n            this._sideEffectDefinitions[sideEffects[key].formalName()] = sideEffects[key];\n        }\n        return this;\n    }\n\n    applySideEffects (sideEffects, selectionSet, payload) {\n        const sideEffectStore = this.sideEffects();\n        const actionHistory = this._actionHistory;\n        const queuedSideEffects = [];\n        sideEffects.forEach((sideEffect) => {\n            let options;\n            let name;\n            const effects = sideEffect.effects;\n            const behaviours = sideEffect.behaviours;\n            const combinedSet = unionSets(this, behaviours, selectionSet);\n            effects.forEach((effect) => {\n                if (typeof effect === 'object') {\n                    name = effect.name;\n                    options = effect.options;\n                } else {\n                    name = effect;\n                }\n\n                const sideEffectInstance = sideEffectStore[name];\n                if (sideEffectInstance.isEnabled()) {\n                    if (!sideEffectInstance.constructor.mutates() &&\n                        Object.values(actionHistory).some(d => d.isMutableAction)) {\n                        queuedSideEffects.push({\n                            name,\n                            params: [combinedSet, payload, options]\n                        });\n                    } else {\n                        this.dispatchSideEffect(name, combinedSet, payload, options);\n                    }\n                }\n            });\n        });\n        this._queuedSideEffects.push(...queuedSideEffects);\n        return this;\n    }\n\n    dispatchSideEffect (name, selectionSet, payload, options = {}) {\n        const sideEffectStore = this.sideEffects();\n        const sideEffect = sideEffectStore[name];\n        let disable = false;\n        if (options.filter && options.filter(sideEffect)) {\n            disable = true;\n        }\n        !disable && sideEffectStore[name].apply(selectionSet, payload, options);\n    }\n\n    dispatchBehaviour (behaviour, payload, propagationInfo = {}) {\n        const propagate = propagationInfo.propagate !== undefined ? propagationInfo.propagate : true;\n        const behaviouralActions = this._actions.behavioural;\n        const action = behaviouralActions[behaviour];\n        const behaviourEffectMap = this._behaviourEffectMap;\n        const sideEffects = getSideEffects(behaviour, behaviourEffectMap);\n        this._propagationInf = propagationInfo;\n\n        if (action) {\n            const selectionSet = action.dispatch(payload);\n            const propagationSelectionSet = this.getPropagationSelectionSet(selectionSet);\n            this._entryExitSet[behaviour] = propagationSelectionSet;\n            const shouldApplySideEffects = this.shouldApplySideEffects(propagate);\n\n            if (propagate) {\n                this.propagate(behaviour, payload, selectionSet.find(d => d.sourceSelectionSet), sideEffects);\n            }\n            if (shouldApplySideEffects) {\n                const applicableSideEffects = this.getApplicableSideEffects(sideEffects, payload, propagationInfo);\n                this.applySideEffects(applicableSideEffects, propagationSelectionSet, payload);\n            }\n        }\n\n        return this;\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet.find(d => !d.sourceSelectionSet);\n    }\n\n    shouldApplySideEffects () {\n        return true;\n    }\n\n    changeBehaviourStateOnPropagation (behaviour, value) {\n        if (value instanceof Function) {\n            this._sourceBehaviours[behaviour] = value;\n        } else {\n            this._sourceBehaviours[behaviour] = () => value;\n        }\n        return this;\n    }\n\n    changeSideEffectStateOnPropagation (sideEffect, value) {\n        if (value instanceof Function) {\n            this._sourceSideEffects[sideEffect] = value;\n        } else {\n            this._sourceSideEffects[sideEffect] = () => value;\n        }\n    }\n\n    propagate () {\n        return this;\n    }\n\n    sideEffects (...sideEffects) {\n        if (sideEffects.length) {\n            this._sideEffects = sideEffects[0];\n            return this;\n        }\n        return this._sideEffects;\n    }\n\n    enableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, true);\n        return this;\n    }\n\n    disableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, false);\n        return this;\n    }\n\n    dissociateBehaviour (behaviour, physicalAction) {\n        const actionBehaviourMap = this._actionBehaviourMap;\n        for (const key in actionBehaviourMap) {\n            if (key === physicalAction) {\n                const behaviourMap = actionBehaviourMap[key];\n                behaviourMap.behaviours = behaviourMap.behaviours.filter(d => d !== behaviour);\n            }\n        }\n\n        return this;\n    }\n\n    dissociateSideEffect (sideEffect, behaviour) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        behaviourEffectMap[behaviour] = behaviourEffectMap[behaviour].filter(d => (d.name || d) !== sideEffect);\n        return this;\n    }\n\n    getApplicableSideEffects (sideEffects) {\n        return sideEffects;\n    }\n\n    attachPropagationListener (dataModel) {\n        dataModel.unsubscribe('propagation');\n        dataModel.on('propagation', this.onDataModelPropagation());\n        return this;\n    }\n\n    onDataModelPropagation () {\n        return (propValue) => {\n            const payload = propValue.payload;\n            const action = payload.action;\n\n            this.dispatchBehaviour(action, payload, {\n                propagate: false\n            });\n        };\n    }\n\n    createSelectionSet (uniqueIds, behaviouralActions) {\n        const behaviours = behaviouralActions || this._actions.behavioural;\n        const selectionSet = this._selectionSet;\n        const volatileSelectionSet = this._volatileSelectionSet;\n\n        for (const key in behaviours) {\n            if ({}.hasOwnProperty.call(behaviours, key)) {\n                selectionSet[key] = new SelectionSet(uniqueIds);\n                volatileSelectionSet[key] = new SelectionSet(uniqueIds, true);\n            }\n        }\n        this._volatileSelectionSet = volatileSelectionSet;\n        this.selectionSet(selectionSet);\n        return this;\n    }\n\n    selectionSet (...selectionSet) {\n        if (selectionSet.length) {\n            this._selectionSet = selectionSet[0];\n            return this;\n        }\n        return this._selectionSet;\n    }\n\n    initializeSideEffects () {\n        const sideEffectDefinitions = this._sideEffectDefinitions;\n        this.sideEffects(initializeSideEffects(this, sideEffectDefinitions));\n        return this;\n    }\n\n    registerPhysicalActions (actions) {\n        const initedActions = initializePhysicalActions(this, actions);\n        Object.assign(this._actions.physical, initedActions);\n        return this;\n    }\n\n    propagateWith (action, fields, append = false) {\n        const behaviouralActions = this._actions.behavioural;\n        if (fields.length) {\n            if (action === ALL_ACTIONS) {\n                for (const key in behaviouralActions) {\n                    this._propagationFields[key] = {\n                        fields,\n                        append\n                    };\n                }\n            } else {\n                this._propagationFields[action] = {\n                    fields,\n                    append\n                };\n            }\n            return this;\n        }\n        return this._propagationFields;\n    }\n\n    /**\n     * Map actions and behaviours\n     * @return {Firebolt} Firebolt instance\n     */\n    mapActionsAndBehaviour () {\n        const initedPhysicalActions = this._actions.physical;\n        const map = this._actionBehaviourMap;\n        const mappedActions = this._mappedActions;\n\n        for (const action in map) {\n            if (!({}).hasOwnProperty.call(action, map)) {\n                let target;\n                const mapObj = map[action];\n                target = mapObj.target;\n                const touch = mapObj.touch;\n                if (!target) {\n                    target = this.context.getDefaultTargetContainer();\n                }\n                const bind = hasTouch() ? touch === true || touch === undefined : !touch;\n                const keyName = `${action}-${mapObj.behaviours.join()}`;\n                bind && !mappedActions[keyName] && this.bindActionWithBehaviour(initedPhysicalActions[action],\n                    target, mapObj.behaviours);\n                mappedActions[keyName] = true;\n            }\n        }\n        return this;\n    }\n\n    registerPhysicalBehaviouralMap (map) {\n        Object.assign(this._actionBehaviourMap, map);\n        return this;\n    }\n\n    /**\n     * Binds a target element with an action.\n     *\n     * @param {Function} action Action method\n     * @param {string} target Class name of element\n     * @param {Array} behaviourList Array of behaviours\n     * @return {FireBolt} Instance of firebolt\n     */\n    bindActionWithBehaviour (action, targets, behaviourList) {\n        if (typeof (targets) === 'string') {\n            targets = [targets];\n        }\n        targets.forEach((target) => {\n            const mount = this.context.mount();\n            const nodes = target.node instanceof Function ? target : selectElement(mount).selectAll(target);\n            if (behaviourList.length && !nodes.empty()) {\n                if (nodes instanceof Array) {\n                    nodes.forEach((node) => {\n                        action(selectElement(node), behaviourList);\n                    });\n                } else {\n                    action(nodes, behaviourList);\n                }\n            }\n        });\n        return this;\n    }\n\n    getPropagationInf () {\n        return this._propagationInf;\n    }\n\n    getAddSetFromCriteria (criteria, propagationInf = {}) {\n        const context = this.context;\n        const filteredDataModel = propagationInf.data ? propagationInf.data :\n            context.getDataModelFromIdentifiers(criteria, 'all');\n        const xFields = context.fields().x || [];\n        const yFields = context.fields().y || [];\n        const xMeasures = xFields.every(field => field.type() === FieldType.MEASURE);\n        const yMeasures = yFields.every(field => field.type() === FieldType.MEASURE);\n        return {\n            model: filteredDataModel,\n            uids: criteria === null ? null : (propagationInf.data ? filterPropagationModel(this.getFullData(),\n                propagationInf.data[0], xMeasures && yMeasures).getData().uids : filteredDataModel[0].getData().uids)\n        };\n    }\n\n    getSelectionSets (action) {\n        const sourceId = this.context.id();\n        const propagationInf = this._propagationInf || {};\n        const propagationSource = propagationInf.sourceId;\n        let applicableSelectionSets = [];\n        if (propagationSource !== sourceId) {\n            applicableSelectionSets = [this._volatileSelectionSet[action]];\n        }\n\n        if (propagationSource) {\n            applicableSelectionSets.push(this.selectionSet()[action]);\n        }\n        return applicableSelectionSets;\n    }\n\n    getFullData () {\n        return this.context.data();\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n}\n","import { getSetInfo, getMergedSet, getSourceFields } from '../../helper';\n\nexport default class GenericBehaviour {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n    }\n\n    dispatch (payload) {\n        const criteria = payload.criteria;\n        const firebolt = this.firebolt;\n        const formalName = this.constructor.formalName();\n        const selectionSets = firebolt.getSelectionSets(formalName);\n        const {\n            model: filteredDataModel,\n            uids\n        } = this.firebolt.getAddSetFromCriteria(criteria, this.firebolt.getPropagationInf());\n        const entryExitSets = selectionSets.map((selectionSet) => {\n            this.setSelectionSet(uids, selectionSet);\n            return this.getEntryExitSet(selectionSet, filteredDataModel, payload);\n        });\n\n        return entryExitSets;\n    }\n\n    setSelectionSet () {\n        return this;\n    }\n\n    getEntryExitSet (selectionSet, filteredDataModel, payload) {\n        const {\n            entrySet,\n            exitSet,\n            completeSet\n        } = selectionSet.getSets();\n        const propagationInf = this.firebolt.getPropagationInf();\n        const dataModel = this.firebolt.getFullData();\n        const setConfig = {\n            isSourceFieldPresent: propagationInf.isSourceFieldPresent,\n            dataModel,\n            filteredDataModel,\n            propagationData: propagationInf.data,\n            selectionSet\n        };\n\n        return {\n            entrySet: [getSetInfo('oldEntry', entrySet[0], setConfig),\n                getSetInfo('newEntry', entrySet[1], setConfig)],\n            exitSet: [getSetInfo('oldEntry', exitSet[0], setConfig),\n                getSetInfo('newExit', exitSet[1], setConfig)],\n            mergedEnter: getSetInfo('mergedEnter', getMergedSet(entrySet), setConfig),\n            mergedExit: getSetInfo('mergedExit', getMergedSet(exitSet), setConfig),\n            completeSet: getSetInfo('complete', completeSet, setConfig),\n            isSourceFieldPresent: propagationInf.isSourceFieldPresent,\n            fields: getSourceFields(propagationInf, payload.criteria),\n            sourceSelectionSet: selectionSet._volatile === true\n        };\n    }\n\n    static mutates () {\n        return false;\n    }\n\n    enable () {\n        this._enabled = true;\n    }\n\n    disable () {\n        this._enabled = false;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n}\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class VolatileBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n                // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                    || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            selectionSet.updateExit();\n            const { entrySet } = selectionSet.getSets();\n            selectionSet.reset(getMergedSet(entrySet));\n            selectionSet.add(addSet);\n            selectionSet.update(existingAddSet);\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n    }\n}\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n","import VolatileBehaviour from './volatile';\nimport { HIGHLIGHT } from '../../enums/behaviours';\n\nexport default class HighlightBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return HIGHLIGHT;\n    }\n}\n","import VolatileBehaviour from './volatile';\nimport * as BEHAVIOURNAMES from '../../enums/behaviours';\n\n/**\n * This is the behaviour for brushing a region on the chart. It accepts a payload\n * which contains the x and y range of the data and other configuration. It will then\n * create a selection box from the range and select the points which fall within the range.\n */\nexport default class BrushBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return BEHAVIOURNAMES.BRUSH;\n    }\n}\n","import VolatileBehaviour from './volatile';\nimport { FILTER } from '../../enums/behaviours';\n\nexport default class FilterBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return FILTER;\n    }\n\n    static mutates () {\n        return true;\n    }\n}\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class PersistentBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            const propagationInf = this.firebolt.getPropagationInf();\n            // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            if (propagationInf.propagate === false) {\n                selectionSet.updateExit();\n                const { entrySet } = selectionSet.getSets();\n                selectionSet.reset(getMergedSet(entrySet));\n                selectionSet.add(addSet);\n                selectionSet.update(existingAddSet);\n            } else {\n                // existing add set\n                if (existingAddSet.length) {\n                    selectionSet.updateExit();\n                    selectionSet.remove(existingAddSet);\n                } else {\n                    selectionSet.updateEntry();\n                    selectionSet.add(addSet);\n                }\n                const { exitSet } = selectionSet.getSets();\n                const mergedExitSet = getMergedSet(exitSet);\n                const completeSetCount = selectionSet.getCompleteSet().length;\n                if (mergedExitSet.length === completeSetCount) {\n                    selectionSet.reset();\n                }\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n\n        return this;\n    }\n}\n","import PersistentBehaviour from './persistent';\nimport { SELECT } from '../../enums/behaviours';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return SELECT;\n    }\n}\n\n","import { DimensionSubtype, FieldType } from 'muze-utils';\n/**\n * Gets the drag action configuration\n * @param {VisualUnit} instance instance of visual unit\n * @param {Object} config x y positions\n * @return {Object} Payload of behaviour\n*/\n/* istanbul ignore next */ const getDragActionConfig = (sourceInfo, config, fieldsConfig) => {\n    if (!(sourceInfo.axes.x || sourceInfo.axes.y)) {\n        return {\n            criteria: null\n        };\n    }\n\n    const axes = sourceInfo.axes;\n    const xAxis = axes.x[0];\n    const yAxis = axes.y[0];\n    const axisFields = sourceInfo.fields;\n    const xField = axisFields.x[0].getMembers()[0];\n    const yField = axisFields.y[0].getMembers()[0];\n    const xFieldType = fieldsConfig[xField].def.subtype ? fieldsConfig[xField].def.subtype :\n        fieldsConfig[xField].def.type;\n    const yFieldType = fieldsConfig[yField].def.subtype ? fieldsConfig[yField].def.subtype :\n            fieldsConfig[yField].def.type;\n    const dimensions = {};\n    const stPos = config.startPos;\n    const endPos = config.endPos;\n\n    if (stPos.x === endPos.x && stPos.y === endPos.y) {\n        return {\n            criteria: null\n        };\n    }\n\n    const dragDim = xFieldType === FieldType.MEASURE ? (yFieldType === FieldType.MEASURE ? ['x', 'y'] : ['y']) : ['x'];\n    const criteria = {};\n    const isXDimension = xFieldType === DimensionSubtype.CATEGORICAL;\n    const isYDimension = yFieldType === DimensionSubtype.CATEGORICAL;\n    const xRange = xAxis.constructor.type() === 'band' ? xAxis.scale().invertExtent(stPos.x, endPos.x) :\n        xAxis.invert(stPos.x, endPos.x);\n    const yRange = yAxis.constructor.type() === 'band' ? yAxis.scale().invertExtent(stPos.y, endPos.y) :\n        yAxis.invert(stPos.y, endPos.y);\n    const selectedDomains = {\n        x: stPos.x === endPos.x ? [] : (isXDimension ? xRange : xRange.sort((a, b) => a - b)),\n        y: stPos.y === endPos.y ? [] : (isYDimension ? yRange : yRange.sort((a, b) => a - b))\n    };\n    const rangeObj = {};\n\n    if (dragDim.length === 2) {\n        rangeObj[xField] = selectedDomains.x;\n        rangeObj[yField] = selectedDomains.y;\n        if (xField === yField) {\n            const xdom = selectedDomains.x;\n            const ydom = selectedDomains.y;\n            const min = xdom[0] > ydom[0] ? ydom : xdom;\n            const max = min === ydom ? xdom : ydom;\n            if (min[1] < max[0]) {\n                rangeObj[xField] = [];\n            } else {\n                rangeObj[xField] = [max[0], min[1] < max[1] ? min[1] : max[1]];\n            }\n            dimensions.x = [stPos.x, endPos.x];\n            dimensions.y = [stPos.y, endPos.y];\n        }\n    } else {\n        criteria[dragDim[0]] = selectedDomains[dragDim[0]] || [];\n\n        if (dragDim[0] === 'x') {\n            rangeObj[xField] = criteria.x;\n            if (xFieldType === DimensionSubtype.CATEGORICAL) {\n                dimensions.x = (config.snap && stPos.x !== endPos.x) ? xAxis.getNearestRange(stPos.x, endPos.x) :\n                    [stPos.x, endPos.x];\n            }\n        } else {\n            rangeObj[yField] = criteria.y;\n            if (yFieldType === DimensionSubtype.CATEGORICAL) {\n                dimensions.y = (config.snap && stPos.y !== endPos.y) ? yAxis.getNearestRange(stPos.y, endPos.y) :\n                    [stPos.y, endPos.y];\n            }\n        }\n    }\n\n    return {\n        criteria: rangeObj,\n        dimensions\n    };\n};\n\nexport default getDragActionConfig;\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\nimport getDragActionConfig from './drag-action-config';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const attachDragEvent = (targetEl, behaviours, firebolt, touch) => {\n    let startPos = {};\n    let endPos = {};\n    let drawingInf;\n\n    const d3Drag = getD3Drag();\n    let touchStart;\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n        drawingInf = firebolt.context.getDrawingContext();\n        touchStart = new Date().getTime();\n    }).on('drag', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        if (touch && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n\n        const payload = getDragActionConfig(firebolt.context.getSourceInfo(), {\n            startPos,\n            endPos\n        }, firebolt.context.data().getFieldsConfig());\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n    }).on('end', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        const duration = new Date().getTime() - touchStart;\n\n        if (touch && duration > 100 && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n\n        const payload = getDragActionConfig(firebolt.context.getSourceInfo(), {\n            startPos,\n            endPos,\n            snap: true\n        }, firebolt.context.data().getFieldsConfig());\n        payload.dragEnd = true;\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n    }));\n};\n\n","import { getClientPoint, getEvent } from 'muze-utils';\nimport { CONSOLIDATED, FRAGMENTED } from '../../enums/constants';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} instance instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const context = firebolt.context;\n        const tooltipConf = context.config().interaction.tooltip;\n        const mode = tooltipConf.mode;\n        const pos = getClientPoint(context.getDrawingContext().svgContainer, event);\n        const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n            getAllPoints: mode === CONSOLIDATED || mode === FRAGMENTED,\n            data: args,\n            event\n        });\n        const payload = {\n            criteria: nearestPoint ? nearestPoint.id : null,\n            showInPosition: nearestPoint.showInPosition,\n            target: nearestPoint.target,\n            position: pos,\n            mode\n        };\n\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, {\n                            criteria: null\n                        }));\n                    });\n};\n\nexport default hover;\n","export const CLASSPREFIX = 'muze';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\n\n","import { getClientPoint } from 'muze-utils';\n\nexport const generatePayloadFromEvent = function (args, event, firebolt) {\n    const context = firebolt.context;\n    const pos = getClientPoint(context.getDrawingContext().svgContainer, event.touches ? event.touches[0] : event);\n    const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n        data: args,\n        event\n    });\n    return {\n        criteria: nearestPoint ? nearestPoint.id : null,\n        showInPosition: nearestPoint.showInPosition,\n        target: nearestPoint.target,\n        position: pos\n    };\n};\n","import { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\nexport default click;\n","import drag from './drag';\nimport hover from './hover';\nimport { longtouch } from './longtouch';\nimport { touchdrag } from './touch-drag';\nimport * as ACTIONNAMES from '../../enums/actions';\nimport click from './click';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click,\n    [ACTIONNAMES.LONGTOUCH]: longtouch,\n    [ACTIONNAMES.TOUCHDRAG]: touchdrag\n};\n\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt);\n};\n\nexport default drag;\n","/* global setTimeout */\nimport { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nexport const longtouch = firebolt => (targetEl, behaviours) => {\n    let event;\n    let touchEnd;\n    const dispatchBehaviour = function (args) {\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    touchEnd = false;\n    event = getEvent();\n    targetEl.on('touchstart', (args) => {\n        event = getEvent();\n        touchEnd = false;\n        setTimeout(() => {\n            if (!touchEnd) {\n                dispatchBehaviour(args);\n            } else {\n                behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, {\n                    criteria: null\n                }));\n            }\n        }, 100);\n    }).on('touchend', () => {\n        touchEnd = true;\n    });\n};\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const touchdrag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt, true);\n};\n\n","import { mergeRecursive, getUniqueId } from 'muze-utils';\n\nexport default class GenericSideEffect {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n        this._strategy = 'default';\n        this._config = {};\n        this._id = getUniqueId();\n        this._strategies = {};\n        this.config(this.constructor.defaultConfig());\n    }\n\n    static defaultConfig () {\n        return {};\n    }\n\n    static target () {\n        return 'all';\n    }\n\n    static mutates () {\n        return false;\n    }\n\n    config (...params) {\n        if (params.length) {\n            this._config = mergeRecursive(this._config, params[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    disable () {\n        this._enabled = false;\n        return this;\n    }\n\n    enable () {\n        this._enabled = true;\n        return this;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n\n    apply () {\n        return this;\n    }\n\n    addStrategy (name, fn) {\n        this._strategies[name] = fn;\n        return this;\n    }\n}\n","import GenericSideEffect from './generic';\n\nexport default class SurrogateSideEffect extends GenericSideEffect {\n    applyInteractionStyle (set, config = {}, interactionType, apply) {\n        const layers = this.firebolt.context.layers();\n        layers.forEach(layer => layer.config().interactive !== false &&\n            layer.applyInteractionStyle(interactionType, set.uids, apply));\n    }\n}\n","import { makeElement } from 'muze-utils';\n\nimport GenericSideEffect from './generic';\n\nexport default class SpawnableSideEffect extends GenericSideEffect {\n    createElement (container, elemType, data, className, callbacks) {\n        return makeElement(container, elemType, data, className, callbacks);\n    }\n\n    drawingContext (...drawingContext) {\n        if (drawingContext.length) {\n            this._drawingContext = drawingContext[0];\n            return this;\n        }\n        return this._drawingContext();\n    }\n\n    show () {\n        return this;\n    }\n\n    hide () {\n        return this;\n    }\n}\n","import { selectElement } from 'muze-utils';\n\nexport const getBoxDimensionsFromPayload = (payload, axes, axisFields) => {\n    let x1;\n    let x2;\n    let y1;\n    let y2;\n    let xRange;\n    let yRange;\n    let direction;\n    const criteria = payload.criteria;\n    const dimensions = payload.dimensions || {};\n    const xDim = dimensions.x;\n    const yDim = dimensions.y;\n\n    if (criteria === null) {\n        return null;\n    }\n\n    const xAxis = axes.x[0];\n    const yAxis = axes.y[0];\n    const xLinear = xAxis.constructor.type() === 'linear';\n    const yLinear = yAxis.constructor.type() === 'linear';\n    const xField = `${axisFields.x[0]}`;\n    const yField = `${axisFields.y[0]}`;\n    const xCriteria = criteria[xField];\n    const yCriteria = criteria[yField];\n\n    if (xCriteria && xCriteria[0] instanceof Array) {\n        xRange = xCriteria[0];\n        yRange = xCriteria[1];\n    } else {\n        xRange = xCriteria || [];\n        yRange = yCriteria || [];\n    }\n    direction = xCriteria && yCriteria ? 'both' : (xCriteria ? 'vertical' : 'horizontal');\n    if (xRange && xRange.length) {\n        if ((yAxis.constructor.type() === 'band' && xLinear)) {\n            x1 = x2 = undefined;\n            direction = 'horizontal';\n        } else {\n            const domain = xAxis.domain();\n            const bandScale = xAxis.constructor.type() === 'band';\n            let x1Val;\n            let x2Val;\n            if (bandScale) {\n                let x1DomainIndex = domain.indexOf(xRange[0]);\n                let x2DomainIndex = domain.indexOf(xRange[xRange.length - 1]);\n                [x1DomainIndex, x2DomainIndex] = [x1DomainIndex, x2DomainIndex].sort((a, b) => a - b);\n                x1Val = domain[x1DomainIndex];\n                x2Val = domain[x2DomainIndex];\n            } else {\n                x1Val = xRange[0];\n                x2Val = xRange[xRange.length - 1];\n            }\n            x1 = xAxis.getScaleValue(x1Val);\n            x2 = xAxis.getScaleValue(x2Val);\n            x2 += bandScale ? xAxis.getUnitWidth() : 0;\n        }\n    } else {\n        x1 = x2 = undefined;\n    }\n    if (yRange && yRange.length) {\n        if ((xAxis.constructor.type() === 'band' && yLinear)) {\n            y1 = y2 = undefined;\n            direction = 'vertical';\n        } else {\n            const domain = yAxis.domain();\n            const bandScale = yAxis.constructor.type() === 'band';\n            let y1Val;\n            let y2Val;\n            if (bandScale) {\n                let y1DomainIndex = domain.indexOf(yRange[0]);\n                let y2DomainIndex = domain.indexOf(yRange[yRange.length - 1]);\n                [y1DomainIndex, y2DomainIndex] = [y1DomainIndex, y2DomainIndex].sort(((a, b) => b - a));\n                y1Val = domain[y1DomainIndex];\n                y2Val = domain[y2DomainIndex];\n            } else {\n                y1Val = yRange[0];\n                y2Val = yRange[yRange.length - 1];\n            }\n            y1 = yAxis.getScaleValue(y1Val);\n            y2 = yAxis.getScaleValue(y2Val);\n            y2 += yAxis.constructor.type() === 'band' ? yAxis.getUnitWidth() : 0;\n        }\n    } else {\n        y1 = y2 = undefined;\n    }\n\n    if ((yLinear && xLinear) || !payload.dragEnd) {\n        if (xDim) {\n            [x1, x2] = xDim;\n        }\n        if (yDim) {\n            [y1, y2] = yDim;\n        }\n    }\n\n    return {\n        dimension: {\n            x1,\n            x2,\n            y1,\n            y2\n        },\n        direction\n    };\n};\n\nexport const changeVisibility = (context, sideEffectGroup, visible) => {\n    const config = context.config();\n    const className = config.defClassName;\n    const classPrefix = config.classPrefix;\n    selectElement(sideEffectGroup).selectAll(`.${classPrefix}-${className}`)\n                    .style('display', visible ? 'block' : 'none');\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    isValidValue\n} from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport './styles.scss';\nimport SpawnableSideEffect from '../spawnable';\nimport { selectionBoxDrag } from '../../actions/physical/selection-box-drag';\nimport { getBoxDimensionsFromPayload, changeVisibility } from './helper';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\nclass SelectionBox extends SpawnableSideEffect {\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            defClassName: 'selection-box-group',\n            className: '',\n            classPrefix: CLASSPREFIX,\n            box: {\n                defClassName: 'selection-box',\n                className: ''\n            },\n            transition: {\n                duration: 200\n            }\n        };\n    }\n\n    static formalName () {\n        return 'selectionBox';\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     * @param {Object} dimension Dimensions of the selection box.\n     * @param {number} dimension.x1 Starting x position\n     * @param {number} dimension.x2 Ending x position\n     * @param {number} dimension.y1 Starting y position\n     * @param {number} dimension.y2 Ending y position\n     * @param {Object} conf Configuration needed to draw the selection box\n     * @param {number} unitWidth Width of the visual unit.\n     * @param {number} unitHeight Height of the visual unit.\n     */\n    apply (selectionSet, payload) {\n        let x;\n        let y;\n        let width;\n        let height;\n        const config = this._config;\n        const boxConf = config.box;\n        const firebolt = this.firebolt;\n        const drawingInf = this.drawingContext();\n        const mountPoint = drawingInf.sideEffectGroup;\n        const unitWidth = drawingInf.width;\n        const unitHeight = drawingInf.height;\n        const classPrefix = config.classPrefix;\n        const selectionGroupClassName = config.defClassName;\n\n        if (payload.criteria === null) {\n            this.hide(drawingInf);\n            return this;\n        }\n\n        const sourceInf = firebolt.context.getSourceInfo();\n        const { dimension, direction } = getBoxDimensionsFromPayload(payload, sourceInf.axes,\n            sourceInf.fields);\n        const transition = payload.dragEnd && config.transition;\n\n        if (direction === 'both' || direction === 'vertical') {\n            x = Math.min(dimension.x1, dimension.x2);\n            width = Math.abs(dimension.x2 - dimension.x1);\n        } else {\n            x = 0;\n            width = unitWidth;\n        }\n        if (direction === 'both' || direction === 'horizontal') {\n            y = Math.min(dimension.y1, dimension.y2);\n            height = Math.abs(dimension.y2 - dimension.y1);\n        } else {\n            height = unitHeight;\n            y = 0;\n        }\n        this.show(drawingInf);\n        // Create the data array for drawing the rectangle\n        const points = [\n            {\n                x,\n                y,\n                width,\n                height\n            }\n        ];\n        // Create the container group for selection box.\n        const selectionGroup = makeElement(selectElement(mountPoint), 'g', [1],\n            `.${classPrefix}-${selectionGroupClassName}`);\n        const sideEffect = this;\n        const selection = selectionGroup.selectAll('rect').data(points);\n        const selectionBox = selection.enter().append('rect')\n                        .each(function () {\n                            selectionBoxDrag(firebolt)(selectElement(this), ['brush'], sideEffect);\n                        })\n                        .merge(selection)\n                        .each(function (attrs) {\n                            let element = selectElement(this);\n                            transition && (element = element.transition().duration(transition.duration));\n                            for (const key in attrs) {\n                                if ({}.hasOwnProperty.call(attrs, key)) {\n                                    isValidValue(attrs[key]) && element.attr(key, attrs[key]);\n                                }\n                            }\n                        });\n        // Get the qualified class name for selection box rectangle\n        const boxClassName = getQualifiedClassName(boxConf.defClassName, this._id, classPrefix);\n        selectionBox.classed(boxClassName.join(' '), true);\n        selectionBox.classed(boxConf.className, true);\n\n        return this;\n    }\n\n    hide (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, false);\n    }\n\n    show (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, true);\n    }\n}\n\nexport default SelectionBox;\n\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\nimport getDragActionConfig from './helpers/drag-action-config';\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let subject;\n    let drawingInf;\n    const context = firebolt.context;\n    const onDrag = (payload) => {\n        behaviours.forEach(action => firebolt.dispatchBehaviour(action, payload));\n    };\n    const d3Drag = getD3Drag();\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        drawingInf = context.getDrawingContext();\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        subject.x += event.dx;\n        subject.y += event.dy;\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(context.getSourceInfo(), {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                }\n            }, context.data().getFieldsConfig());\n            onDrag(payload);\n        }\n    }).on('end', () => {\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(context.getSourceInfo(), {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                },\n                snap: true\n            }, context.data().getFieldsConfig());\n            payload.dragEnd = true;\n            onDrag(payload);\n        }\n    }));\n};\n","export const CLASSPREFIX = 'muze';\nexport const ARROW_RIGHT = 'right';\nexport const ARROW_TOP = 'top';\nexport const ARROW_BOTTOM = 'bottom';\nexport const ARROW_LEFT = 'left';\nexport const TOOLTIP_LEFT = 'left';\nexport const TOOLTIP_RIGHT = 'right';\nexport const TOOLTIP_BOTTOM = 'bottom';\nexport const TOOLTIP_TOP = 'top';\nexport const INITIAL_STYLE = {\n    position: 'absolute',\n    width: 0,\n    height: 0\n};\n","import { CLASSPREFIX } from './constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'tooltip-box',\n    connectorClassName: 'tooltip-connectors',\n    className: '',\n    row: {\n        margin: 0\n    },\n    content: {\n        spacing: 5,\n        iconContainerSize: 10,\n        iconScale: 1,\n        iconShape: 'circle',\n        iconColor: '#ff0000',\n        rowMargin: '0px',\n        margin: 10,\n        separator: ':',\n        className: 'tooltip-content-container',\n        parentClassName: 'tooltip-content-parent-container'\n    },\n    arrow: {\n        size: 10,\n        disabled: false,\n        defClassName: 'tooltip-arrow',\n        className: '',\n        color: 'rgba(195,195,195,0.85)'\n    }\n};\n","import { getQualifiedClassName } from 'muze-utils';\nimport { TOOLTIP_LEFT, TOOLTIP_RIGHT, ARROW_RIGHT, ARROW_LEFT, TOOLTIP_BOTTOM } from './constants';\n\nexport const getArrowPos = (orient, dim, measurement, config) => {\n    let arrowPos;\n    const { x, y, boxHeight, boxWidth } = measurement;\n    const arrowDisabled = config.arrow.disabled;\n    const arrowWidth = arrowDisabled ? 0 : config.arrow.size;\n\n    if (orient === ARROW_LEFT || orient === ARROW_RIGHT) {\n        let start = 0;\n        let diff = boxHeight / 2;\n        const plotBottom = dim.y + dim.height;\n        const boxBottom = y + boxHeight;\n\n        if (dim.y > y) {\n            start = dim.y - y;\n            diff = (plotBottom >= boxBottom ? (boxBottom - dim.y) : dim.height) / 2;\n        } else if (boxBottom > plotBottom) {\n            diff = Math.abs(y - (dim.y + dim.height)) / 2;\n        }\n        arrowPos = start + diff - arrowWidth / 2;\n    } else {\n        let start = 0;\n        let diff = boxWidth / 2;\n        const plotRight = dim.x + dim.width;\n        const boxRight = x + boxWidth;\n\n        if (dim.x > x) {\n            start = dim.x - x;\n            diff = (plotRight >= boxRight ? (boxRight - dim.x) : dim.width) / 2;\n        } else if (boxRight > plotRight) {\n            diff = Math.abs(x - (dim.x + dim.width)) / 2;\n        }\n        arrowPos = start + diff - arrowWidth / 2;\n    }\n    return arrowPos;\n};\n\n/**\n * Places the arrow in the specified arrow position. It also applies appropriate arrow\n * class name to the arrow element.\n * @param {string} position Left, bottom or right position of the arrow;\n * @param {number} arrowPos position of arrow in pixels\n * @return {Tooltip} Instance of tooltip.\n */\nexport const placeArrow = (context, position, arrowPos) => {\n    const tooltipArrow = context._tooltipArrow;\n    const tooltipBackground = context._tooltipBackground;\n    const config = context._config;\n    const classPrefix = config.classPrefix;\n    const arrowConf = config.arrow;\n    const className = getQualifiedClassName(arrowConf.defClassName, context._id, config.classPrefix);\n\n    tooltipArrow.style('display', 'block');\n    tooltipArrow.attr('class', `${className.join(' ')}`);\n    if (position === TOOLTIP_LEFT || position === TOOLTIP_RIGHT) {\n        tooltipArrow.style('top', `${arrowPos}px`);\n        tooltipArrow.style('left', '');\n        tooltipBackground.style('top', `${arrowPos}px`);\n        tooltipBackground.style('left', '');\n    } else {\n        position === TOOLTIP_BOTTOM ? tooltipArrow.style('top', '100%') : tooltipArrow.style('top',\n            `-${arrowConf.size}px`);\n        tooltipArrow.style('left', `${arrowPos}px`);\n        position === TOOLTIP_BOTTOM ? tooltipBackground.style('top', '100%') : tooltipBackground.style('top',\n            `-${arrowConf.size + 3}px`);\n        tooltipBackground.style('left', `${arrowPos}px`);\n    }\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow`, true);\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow-${context._arrowOrientation}`, false);\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow-${position}`, true);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow`, true);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow-${context._arrowOrientation}`, false);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow-${position}`, true);\n    return this;\n};\n\nexport const reorderContainers = (parentContainer, className) => {\n    parentContainer.selectAll(className).sort((a, b) => a - b);\n};\n","import {\n    getClosestIndexOf,\n    DateTimeFormatter,\n    DimensionSubtype,\n    FieldType\n} from 'muze-utils';\n\nconst timeFormats = {\n    millisecond: '%A, %b %e, %H:%M:%S.%L',\n    second: '%A, %b %e, %H:%M:%S',\n    minute: '%A, %b %e, %H:%M',\n    hour: '%A, %b %e, %H:%M',\n    day: '%A, %b %e, %Y',\n    month: '%B %Y',\n    year: '%Y'\n};\nconst timeDurations = [\n    ['millisecond', 'second', 'minute', 'hour', 'day', 'month', 'year'],\n    [1, 1000, 60000, 3600000, 86400000, 2592000000, 31536000000]\n];\nconst getNearestInterval = (interval) => {\n    const index = getClosestIndexOf(timeDurations[1], interval);\n    return timeDurations[0][index];\n};\nconst defaultTooltipFormatters = (type, formatter) => {\n    const formatters = {\n        [DimensionSubtype.TEMPORAL]: (value, interval) => {\n            const nearestInterval = getNearestInterval(interval);\n            return DateTimeFormatter.formatAs(value, timeFormats[nearestInterval]);\n        },\n        [FieldType.MEASURE]: value => formatter(value ? value.toFixed(2) : value),\n        [FieldType.DIMENSION]: value => value\n    };\n    return formatters[type];\n};\n\nexport const buildTooltipData = (dataModel, config = {}, context) => {\n    let fieldValues = [];\n    const dataObj = dataModel.getData();\n    const data = dataObj.data;\n    const schema = dataObj.schema;\n    const formatters = config.formatters;\n    const separator = config.separator;\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const fieldspace = dataModel.getFieldspace();\n    const fieldsObj = fieldspace.fieldsObj();\n    const dimensionMeasureMap = context.dimensionMeasureMap;\n    const axes = context.axes;\n    const dimensions = schema.filter(d => d.type === FieldType.DIMENSION);\n    const measures = schema.filter(d => d.type === FieldType.MEASURE);\n    const dataLen = data.length;\n    const getRowContent = (field, type) => {\n        let value;\n        let formattedValue;\n        let measureIndex;\n        const values = [];\n        const index = fieldsConfig[field].index;\n        const interval = fieldsConfig[field].def.subtype === DimensionSubtype.TEMPORAL ?\n                fieldsObj[field].getMinDiff() : 0;\n        const formatterFn = (formatters && formatters[field]) || defaultTooltipFormatters(type, val => val);\n\n        if (value !== null) {\n            let uniqueVals = type === FieldType.MEASURE ? data.map(d => d[index]) :\n                [...new Set(data.map(d => d[index]))];\n            uniqueVals = uniqueVals.filter(d => d !== '');\n            const colorAxis = axes.color[0];\n            const shapeAxis = axes.shape[0];\n            const sizeAxis = axes.size[0];\n            const isRetinalField = (colorAxis || shapeAxis || sizeAxis) && dataLen > 1 &&\n                    type !== FieldType.MEASURE;\n\n            uniqueVals.forEach((val, i) => {\n                let key;\n                const associatedMeasures = dimensionMeasureMap[field];\n\n                if (associatedMeasures && associatedMeasures.length && dataLen > 1) {\n                    key = val;\n                    let icon = {\n                        value: ''\n                    };\n\n                    if (isRetinalField) {\n                        icon = {\n                            type: 'icon',\n                            color: colorAxis.getColor(val),\n                            shape: shapeAxis.getShape(val),\n                            size: sizeAxis.getSize(val) * config.iconScale\n                        };\n                    }\n                    if (associatedMeasures.length > 1) {\n                        values.push([icon, `${key}`]);\n                        associatedMeasures.forEach((measure) => {\n                            measureIndex = fieldsConfig[measure].index;\n                            value = data[i][measureIndex];\n                            formattedValue = defaultTooltipFormatters('measure',\n                                fieldspace.fields[measureIndex]._ref.numberFormat())(value, interval);\n                            values.push([{\n                                value: `${measure}${separator}`,\n                                style: {\n                                    'margin-left': `${config.margin}px}`\n                                },\n                                className: `${config.classPrefix}-tooltip-key`\n                            }, {\n                                value: `${formattedValue}`,\n                                className: `${config.classPrefix}-tooltip-value`\n                            }]);\n                        });\n                    } else {\n                        measureIndex = fieldsConfig[associatedMeasures[0]].index;\n                        value = data[i][measureIndex];\n                        formattedValue = defaultTooltipFormatters('measure',\n                            fieldspace.fields[measureIndex]._ref.numberFormat())(value, interval);\n                        values.push([icon, {\n                            value: `${key}${separator}`,\n                            className: `${config.classPrefix}-tooltip-key`\n                        }, {\n                            value: `${formattedValue}`,\n                            className: `${config.classPrefix}-tooltip-value`\n                        }]);\n                    }\n                } else {\n                    key = field;\n                    value = val;\n                    formattedValue = formatterFn(value, interval);\n                    values.push([{\n                        value: `${key}${separator}`,\n                        className: `${config.classPrefix}-tooltip-key`\n                    }, {\n                        value: `${formattedValue}`,\n                        className: `${config.classPrefix}-tooltip-value`\n                    }]);\n                }\n            });\n        }\n        return values;\n    };\n\n    dimensions.forEach((item) => {\n        const type = item.subtype ? item.subtype : item.type;\n        fieldValues = [...fieldValues, ...getRowContent(item.name, type)];\n    });\n\n    const allMeasures = [...new Set(...Object.values(dimensionMeasureMap))];\n    const filteredMeasures = dataLen > 1 ? measures.filter(d => allMeasures.indexOf(d.name) === -1)\n        : measures;\n    filteredMeasures.forEach((item) => {\n        const type = item.subtype ? item.subtype : item.type;\n        fieldValues = [...fieldValues, ...getRowContent(item.name, type)];\n    });\n\n    return fieldValues;\n};\n\n/**\n * This contains the strategy methods for showing tooltip in the chart.\n * @param {VisualUnit} context Attached instance.\n */\nexport const strategy = {\n    keyValue: (data, config, context) => {\n        const values = buildTooltipData(data, config, context);\n        return values;\n    }\n};\n\nexport const DEFAULT_STRATEGY = 'keyValue';\n","import {\n    selectElement,\n    mergeRecursive,\n    makeElement,\n    setAttrs,\n    setStyles,\n    getSymbol\n} from 'muze-utils';\nimport { DEFAULT_STRATEGY, strategy } from './strategy';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class is used to manage the content of tooltip.\n */\nexport default class Content {\n    /**\n     * Creates an instance of content.\n     */\n    constructor () {\n        this._model = null;\n        this._strategy = DEFAULT_STRATEGY;\n        this._formatter = null;\n        this._config = this.constructor.defaultConfig();\n    }\n   /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        const config = defaultConfig.content;\n        config.classPrefix = defaultConfig.classPrefix;\n        return config;\n    }\n\n    config (...c) {\n        if (c.length > 0) {\n            this._config = mergeRecursive(this._config, c[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Update model. The format contains presentation strategy which determines how to show the content.\n     * If no strategy is mentioned then default is to show key value pair\n    */\n    update (item) {\n        this._model = item.model;\n        this._strategy = item.strategy !== undefined ? item.strategy : DEFAULT_STRATEGY;\n        this._formatter = item.formatter;\n        return this;\n    }\n\n    context (ctx) {\n        this._context = ctx;\n        return this;\n    }\n\n    render (mount) {\n        let data;\n        const config = this._config;\n        const iconContainerSize = config.iconContainerSize;\n        const formatter = this._formatter;\n        const rowMargin = config.rowMargin;\n        const model = this._model;\n\n        this._mount = mount;\n        if (model instanceof Array) {\n            data = model;\n        } else {\n            data = formatter instanceof Function ? formatter(this._model, this._context) :\n                strategy[this._strategy](this._model, this.config(), this._context);\n        }\n\n        if (data instanceof Function) {\n            mount.html(data());\n        } else {\n            const rows = makeElement(mount, 'div', data, `${config.classPrefix}-tooltip-row`);\n            const cells = makeElement(rows, 'span', d => d, `${config.classPrefix}-tooltip-content`);\n            cells.attr('class', `${config.classPrefix}-tooltip-content`);\n            setStyles(rows, {\n                margin: rowMargin\n            });\n            setStyles(cells, {\n                display: 'inline-block',\n                'margin-right': `${config.spacing}px`\n            });\n\n            cells.each(function (d) {\n                const el = selectElement(this);\n                el.html('');\n                if (d instanceof Object) {\n                    if (d.type === 'icon') {\n                        const svg = makeElement(el, 'svg', [1]);\n                        const path = makeElement(svg, 'path', [1]);\n                        const shape = d.shape instanceof Function ? d.shape : getSymbol(d.shape);\n\n                        setAttrs(svg, {\n                            x: 0,\n                            y: 0,\n                            width: iconContainerSize,\n                            height: iconContainerSize\n                        });\n                        setAttrs(path, {\n                            d: shape.size(d.size)(),\n                            transform: `translate(${iconContainerSize / 2}, ${iconContainerSize / 2})`\n                        });\n                        setStyles(path, {\n                            fill: d.color\n                        });\n                        setStyles(svg, {\n                            width: `${iconContainerSize}px`,\n                            height: `${iconContainerSize}px`\n                        });\n                    } else {\n                        el.html(d.value);\n                        d.className && el.classed(d.className, true);\n                        setStyles(el, d.style);\n                    }\n                } else {\n                    el.html(d);\n                }\n            });\n        }\n        return this;\n    }\n\n    clear () {\n        this._model = null;\n        return this;\n    }\n}\n","import {\n    mergeRecursive,\n    getQualifiedClassName,\n    getUniqueId,\n    selectElement,\n    setStyles,\n    makeElement\n} from 'muze-utils';\nimport { ARROW_BOTTOM, ARROW_LEFT, ARROW_RIGHT, TOOLTIP_LEFT, TOOLTIP_RIGHT, TOOLTIP_BOTTOM, TOOLTIP_TOP,\n    INITIAL_STYLE } from './constants';\nimport { defaultConfig } from './default-config';\nimport { getArrowPos, placeArrow, reorderContainers } from './helper';\nimport './styles.scss';\nimport Content from './content';\n\n/**\n * This component is responsible for creating a tooltip element. It appends the tooltip\n * in the body element.\n * @class Tooltip\n */\nexport default class Tooltip {\n    /**\n     * Initializes the tooltip with the container element and configuration\n     * @param {HTMLElement} container container where the tooltip will be mounted.\n     * @param {string} className Class name of the tooltip.\n     */\n    constructor (htmlContainer, svgContainer) {\n        let connectorContainer = svgContainer;\n        this._id = getUniqueId();\n        this._config = {};\n        this.config({});\n        const tooltipConf = this._config;\n        const classPrefix = tooltipConf.classPrefix;\n        const contentClass = tooltipConf.content.parentClassName;\n        const container = makeElement(htmlContainer, 'div', [1], `${classPrefix}-tooltip-container`);\n        this._container = container;\n        this._tooltipContainer = container.append('div').style('position', 'absolute');\n        this._contentContainer = this._tooltipContainer.append('div').attr('class', `${classPrefix}-${contentClass}`);\n        this._tooltipBackground = this._tooltipContainer.append('div').style('position', 'relative');\n        this._tooltipArrow = this._tooltipContainer.append('div');\n\n        if (!svgContainer) {\n            connectorContainer = htmlContainer.append('svg').style('pointer-events', 'none');\n        }\n        this._contents = {};\n        this._tooltipConnectorContainer = selectElement(connectorContainer)\n            .append('g')\n            .attr('class', `${tooltipConf.classPrefix}-${tooltipConf.connectorClassName}`);\n        const id = this._id;\n        const defClassName = tooltipConf.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, id, tooltipConf.classPrefix);\n\n        setStyles(this._tooltipArrow, INITIAL_STYLE);\n        setStyles(this._tooltipBackground, INITIAL_STYLE);\n        this.addClass(qualifiedClassName.join(' '));\n        this.addClass(tooltipConf.className);\n        this.hide();\n    }\n\n    /**\n     * Sets the configuration of tooltip.\n     * @param {Object} config Configuration of tooltip\n     * @return {Tooltip} Instance of tooltip\n     */\n    config (...config) {\n        if (config.length > 0) {\n            const defConf = mergeRecursive({}, this.constructor.defaultConfig());\n            this._config = mergeRecursive(defConf, config[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n    /**\n     * Sets the class name of tooltip\n     * @param {string} className tooltip class name\n     * @return {Tooltip} Instance of tooltip.\n     */\n    addClass (className) {\n        this._tooltipContainer.classed(className, true);\n        return this;\n    }\n\n    context (...ctx) {\n        if (ctx.length) {\n            this._context = ctx[0];\n            return this;\n        }\n        return this._context;\n    }\n\n    content (name, data, contentConfig = {}) {\n        const config = this.config();\n        const { classPrefix } = config;\n        const contentClass = config.content.className;\n        const formatter = config.formatter;\n        const className = contentConfig.className || `${classPrefix}-${contentClass}-${name}`;\n        const content = this._contents[name] = this._contents[name] || new Content();\n        const container = makeElement(this._contentContainer, 'div', [contentConfig.order], className);\n        container.attr('class', `${classPrefix}-${contentClass} ${className}`);\n        reorderContainers(this._contentContainer, `.${classPrefix}-${contentClass}`);\n        const contentConf = config.content;\n        contentConfig.classPrefix = this._config.classPrefix;\n        content.config(contentConf);\n\n        if (data === null) {\n            content.clear();\n            container.remove();\n            delete this._contents[name];\n        } else {\n            content.update({\n                model: data,\n                formatter: contentConfig.formatter || formatter\n            });\n            content.context(this._context);\n            content.render(container);\n        }\n\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n        }\n        return this;\n    }\n\n    getContents () {\n        return Object.values(this._contents);\n    }\n\n    /**\n     * Positions the tooltip at the given x and y position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Tooltip} Instance of tooltip.\n     */\n    position (x, y, conf = {}) {\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n            return this;\n        }\n        this.show();\n        const target = this._target;\n        const repositionArrow = conf.repositionArrow;\n\n        if (target && repositionArrow) {\n            const node = this._tooltipContainer.node();\n            const config = this._config;\n            const arrowDisabled = config.arrow.disabled;\n            const arrowWidth = arrowDisabled ? 0 : config.arrow.size;\n            const arrowOrient = this._arrowOrientation;\n            const outsidePlot = arrowOrient === ARROW_LEFT || arrowOrient === ARROW_RIGHT ?\n                (y + node.offsetHeight - arrowWidth) < target.y || y > (target.y + target.height) :\n                (x + node.offsetWidth - arrowWidth) < target.x || x > (target.x + target.width);\n            if (outsidePlot) {\n                let path;\n                this._tooltipArrow.style('display', 'none');\n                this._tooltipBackground.style('display', 'none');\n                this._tooltipConnectorContainer.style('display', 'block');\n                const connector = this._tooltipConnectorContainer.selectAll('path').data([1]);\n                const enter = connector.enter().append('path');\n                if (arrowOrient === ARROW_LEFT) {\n                    path = `M ${x} ${y + node.offsetHeight / 2} L ${target.x + target.width}`\n                        + ` ${target.y + target.height / 2}`;\n                } else if (arrowOrient === ARROW_RIGHT) {\n                    path = `M ${x + node.offsetWidth} ${y + node.offsetHeight / 2}`\n                            + ` L ${target.x} ${target.y + target.height / 2}`;\n                } else if (arrowOrient === ARROW_BOTTOM) {\n                    path = `M ${x + node.offsetWidth / 2} ${y + node.offsetHeight}`\n                        + ` L ${target.x + target.width / 2} ${target.y}`;\n                }\n                enter.merge(connector).attr('d', path).style('display', 'block');\n            } else {\n                const arrowPos = getArrowPos(arrowOrient, target, {\n                    x,\n                    y,\n                    boxHeight: node.offsetHeight,\n                    boxWidth: node.offsetWidth\n                }, this._config);\n\n                placeArrow(this, this._arrowOrientation, arrowPos);\n                this._tooltipConnectorContainer.style('display', 'none');\n            }\n        }\n\n        const offset = this._offset || {\n            x: 0,\n            y: 0\n        };\n        this._tooltipContainer.style('left', `${offset.x + x}px`).style('top',\n            `${offset.y + y}px`);\n\n        return this;\n    }\n\n    /**\n     * Positions the tooltip relative to a rectangular box. It takes care of tooltip overflowing the\n     * boundaries.\n     * @param {Object} dim Dimensions of the plot.\n     */\n    positionRelativeTo (dim, tooltipConf = {}) {\n        let obj;\n        let orientation = tooltipConf.orientation;\n        this.show();\n        if (!dim) {\n            this.hide();\n            return this;\n        }\n\n        const extent = this._extent;\n        const node = this._tooltipContainer.node();\n\n        this._tooltipContainer.style('top', '0px')\n                        .style('left', '0px');\n        const offsetWidth = node.offsetWidth + 2;\n        const offsetHeight = node.offsetHeight + 2;\n        const config = this._config;\n        const offset = this._offset;\n        const arrowDisabled = config.arrow.disabled;\n        const arrowSize = config.arrow.size;\n        const draw = tooltipConf.draw !== undefined ? tooltipConf.draw : true;\n        const topSpace = dim.y;\n        // When there is no space in right\n        const dimX = dim.x + dim.width + offset.x;\n        const rightSpace = extent.width - dimX;\n        const leftSpace = dim.x + offset.x - extent.x;\n        const positionTop = topSpace > (offsetHeight + arrowSize);\n        const positionRight = rightSpace >= offsetWidth + arrowSize;\n        const positionLeft = leftSpace >= offsetWidth + arrowSize;\n\n        const positionHorizontal = () => {\n            let position;\n            let x = dim.x + dim.width;\n            let y = dim.y;\n\n            if (positionRight) {\n                position = TOOLTIP_LEFT;\n                x += arrowSize;\n            } else if (positionLeft) {\n                x = dim.x - offsetWidth;\n                position = TOOLTIP_RIGHT;\n                x -= arrowSize;\n            } else {\n                position = 'left';\n                x += arrowSize;\n            }\n            if (dim.height < offsetHeight) {\n                y = Math.max(0, dim.y + dim.height / 2 - offsetHeight / 2);\n            }\n\n            const arrowPos = getArrowPos(position, dim, {\n                x,\n                y,\n                boxHeight: offsetHeight,\n                boxWidth: offsetWidth\n            }, this._config);\n\n            return {\n                position,\n                arrowPos,\n                x,\n                y\n            };\n        };\n\n        const positionVertical = () => {\n            let position;\n            let y;\n            // Position tooltip at the center of plot\n            let x = dim.x - offsetWidth / 2 + dim.width / 2;\n\n            // Overflows to the right\n            if ((extent.width - (dim.x + offset.x)) < offsetWidth) {\n                x = extent.width - offsetWidth - offset.x;\n            } else if ((x + offset.x) < extent.x) { // Overflows to the left\n                x = extent.x;\n            }\n\n            if (positionTop) {\n                y = dim.y - offsetHeight - arrowSize;\n                position = TOOLTIP_BOTTOM;\n            } else {\n                y = dim.y + dim.height + arrowSize;\n                position = TOOLTIP_TOP;\n            }\n\n            const arrowPos = getArrowPos(position, dim, {\n                x,\n                y,\n                boxHeight: offsetHeight,\n                boxWidth: offsetWidth\n            }, this._config);\n\n            return {\n                position,\n                arrowPos,\n                x,\n                y\n            };\n        };\n\n        this._target = dim;\n        if (!orientation) {\n            if (positionTop) {\n                orientation = 'vertical';\n            } else if (positionRight || positionLeft) {\n                orientation = 'horizontal';\n            } else {\n                orientation = 'vertical';\n            }\n        }\n\n        if (orientation === 'horizontal') {\n            obj = positionHorizontal();\n        } else if (orientation === 'vertical') {\n            obj = positionVertical();\n        }\n\n        this._position = {\n            x: obj.x,\n            y: obj.y\n        };\n\n        this._arrowPos = obj.arrowPos;\n        if (!arrowDisabled) {\n            placeArrow(this, obj.position, obj.arrowPos);\n        }\n        this._arrowOrientation = obj.position;\n        draw && this.position(obj.x, obj.y);\n        return this;\n    }\n\n    /**\n     * Hides the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    hide () {\n        this._tooltipContainer.style('display', 'none');\n        this._tooltipConnectorContainer.style('display', 'none');\n        return this;\n    }\n\n    /**\n     * Shows the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    show () {\n        this._tooltipContainer.style('display', 'block');\n        return this;\n    }\n\n    extent (extent) {\n        this._extent = extent;\n        return this;\n    }\n\n    offset (offset) {\n        this._offset = offset;\n        return this;\n    }\n\n    remove () {\n        this._tooltipContainer.remove();\n        this._tooltipBackground.remove();\n        this._tooltipConnectorContainer.remove();\n        return this;\n    }\n}\n","import { FieldType } from 'muze-utils';\n\nexport const strategies = {\n    showSelectedItems: (dm) => {\n        const dataObj = dm.getData();\n        const measures = dataObj.schema.filter(d => d.type === FieldType.MEASURE).map(d => d.name);\n        const aggregatedModel = dm.groupBy(['']);\n        const fieldsObj = dm.getFieldspace().fieldsObj();\n        const fieldsConf = aggregatedModel.getFieldsConfig();\n        let values = [{\n            value: `${dataObj.data.length}`,\n            style: {\n                'font-weight': 'bold'\n            }\n        }, 'Items Selected'];\n        if (measures.length) {\n            values = [...values, ...[`(${fieldsObj[measures[0]].defAggFn().toUpperCase()}) ${measures[0]}`,\n                {\n                    value: `${aggregatedModel.getData().data[0][fieldsConf[measures[0]].index].toFixed(2)}`,\n                    style: {\n                        'font-weight': 'bold'\n                    }\n                }]];\n        }\n        return [values];\n    }\n};\n","import { Tooltip as TooltipRenderer } from '@chartshq/muze-tooltip';\nimport { FieldType, ReservedFields } from 'muze-utils';\nimport { spaceOutBoxes } from '../helper';\nimport { strategies } from './strategies';\nimport { FRAGMENTED } from '../../enums/constants';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\n\nexport default class Tooltip extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._tooltips = {};\n        this._strategies = strategies;\n        this._strategy = 'default';\n    }\n\n    static defaultConfig () {\n        return {\n            padding: 5\n        };\n    }\n\n    static formalName () {\n        return 'tooltip';\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        let totalHeight = 0;\n        let totalWidth = 0;\n        const dataModel = selectionSet.mergedEnter.model;\n        const context = this.firebolt.context;\n        const drawingInf = this.drawingContext();\n        if ((dataModel.isEmpty() || payload.criteria === null) || selectionSet.isSourceFieldPresent === false) {\n            this.hide(options, null);\n            return this;\n        }\n\n        const tooltips = this._tooltips;\n        const config = this.config();\n        const boundBox = {\n            width: drawingInf.width,\n            height: drawingInf.height\n        };\n        const showInPosition = payload.showInPosition;\n        const pad = config.padding;\n        const dataModels = [];\n        const fragmented = config.mode === FRAGMENTED;\n        const sourceInf = context.getSourceInfo();\n        const fields = sourceInf.fields;\n        const xField = `${fields.x[0]}`;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const xFieldDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const showVertically = !!xFieldDim;\n        const tooltipPos = payload.position;\n        const boxes = [];\n        const enter = {};\n        const uids = dataModel.getData().uids;\n        if (fragmented) {\n            dataModels.push(...uids.map(d => dataModel.select((fieldsArr, i) => i === d, {\n                saveChild: false\n            })));\n        } else {\n            dataModels.push(dataModel);\n        }\n        const plotDimensions = context.getPlotPointsFromIdentifiers(payload.target || payload.criteria, {\n            getBBox: true\n        });\n\n        // Show tooltip for each datamodel\n        for (let i = 0; i < dataModels.length; i++) {\n            let plotDim = plotDimensions[i];\n            if (fragmented) {\n                plotDim = context.getPlotPointsFromIdentifiers([[ReservedFields.ROW_ID],\n                    dataModels[i].getData().uids], { getBBox: true });\n                plotDim = plotDim && plotDim[0];\n            }\n\n            const dt = dataModels[i];\n            enter[i] = true;\n            const layoutContainer = drawingInf.parentContainer;\n            const layoutBoundBox = layoutContainer.getBoundingClientRect();\n            const unitBoundBox = drawingInf.htmlContainer.getBoundingClientRect();\n\n            const offsetLeft = unitBoundBox.left - layoutBoundBox.left;\n            const offsetTop = unitBoundBox.top - layoutBoundBox.top;\n            const tooltipInst = tooltips[i] = tooltips[i] || new TooltipRenderer(layoutContainer,\n                    drawingInf.svgContainer);\n\n            tooltipInst.context(sourceInf);\n            const strategy = strategies[options.strategy];\n            tooltipInst.content(options.strategy || this._strategy, dt, {\n                formatter: strategy,\n                order: options.order\n            })\n                            .config(this.config())\n                            .extent({\n                                x: 0,\n                                y: 0,\n                                width: layoutBoundBox.width,\n                                height: layoutBoundBox.height\n                            })\n                            .offset({\n                                x: offsetLeft,\n                                y: offsetTop\n                            });\n\n            if (showInPosition) {\n                tooltipInst.position(tooltipPos.x + pad, tooltipPos.y + pad);\n            } else if (plotDim) {\n                tooltipInst.positionRelativeTo({\n                    x: plotDim.x,\n                    y: plotDim.y,\n                    width: plotDim.width || 0,\n                    height: plotDim.height || 0\n                }, {\n                    orientation: fragmented ?\n                        (showVertically ? 'horizontal' : 'vertical') : undefined\n                });\n            } else {\n                tooltipInst.hide();\n                break;\n            }\n\n            if (fragmented) {\n                const position = tooltipInst._position;\n                const tooltipBoundBox = tooltipInst._tooltipContainer.node().getBoundingClientRect();\n\n                totalHeight += tooltipBoundBox.height + pad;\n                totalWidth += tooltipBoundBox.width + pad;\n                if (showVertically ? totalHeight > drawingInf.height : totalWidth > drawingInf.width) {\n                    break;\n                }\n                boxes.push({\n                    x: position.x,\n                    y: position.y,\n                    width: tooltipBoundBox.width,\n                    height: tooltipBoundBox.height,\n                    tooltip: tooltipInst\n                });\n            }\n        }\n        for (const key in tooltips) {\n            if (!enter[key]) {\n                const tooltip = tooltips[key];\n                tooltip.content(payload.action, null);\n                if (!tooltip.getContents().length) {\n                    tooltip.remove();\n                    delete tooltips[key];\n                }\n            }\n        }\n        if (fragmented) {\n            spaceOutBoxes(boxes, boundBox, showVertically);\n            boxes.forEach(box => box.tooltip.position(box.x, box.y, {\n                repositionArrow: true\n            }));\n        }\n        return this;\n    }\n\n    hide (options) {\n        const tooltips = this._tooltips;\n        for (const key in tooltips) {\n            if ({}.hasOwnProperty.call(tooltips, key)) {\n                const strategy = options.strategy || this._strategy;\n                tooltips[key].content(strategy, null);\n                tooltips[key].hide();\n            }\n        }\n    }\n}\n","export const spaceOutBoxes = (boxes, extent, showVertically) => {\n    let y;\n    let height;\n    let x;\n    let width;\n    let i;\n    const pad = 5;\n    const len = boxes.length;\n    const spaceOutIfOverlap = (firstBox, secondBox, opposite) => {\n        x = firstBox.x;\n        width = firstBox.width;\n        y = firstBox.y;\n        height = firstBox.height;\n        const bottom = y + height;\n        const right = x + width;\n\n        if (showVertically) {\n            if (opposite ? y < (secondBox.y + secondBox.height) : bottom > secondBox.y) {\n                secondBox.y = opposite ? firstBox.y - secondBox.height - pad :\n                        bottom + pad;\n            }\n        } else if (opposite ? x < (secondBox.x + secondBox.width) : right > secondBox.x) {\n            secondBox.x = opposite ? firstBox.x - secondBox.width - pad :\n                    right + pad;\n        }\n    };\n\n    boxes.sort((a, b) => (showVertically ? a.y - b.y : a.x - b.x));\n    i = 0;\n\n    for (i = 0; i < len - 1; i++) {\n        spaceOutIfOverlap(boxes[i], boxes[i + 1]);\n    }\n\n    if ((boxes[i].y + boxes[i].height) > extent.height ||\n            (boxes[i].x + boxes[i].width) > extent.width) {\n        if (showVertically) {\n            boxes[i].y -= (boxes[i].height + boxes[i].y) - extent.height;\n        } else {\n            boxes[i].x -= (boxes[i].width + boxes[i].x) - extent.width;\n        }\n        for (i = len - 1; i > 0; i--) {\n            spaceOutIfOverlap(boxes[i], boxes[i - 1], true);\n        }\n    }\n    return boxes;\n}\n;\n","import { selectElement, FieldType } from 'muze-utils';\n\nimport './styles.scss';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport SpawnableSideEffect from '../spawnable';\n\nexport default class Crossline extends SpawnableSideEffect {\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-crossline-group`,\n            bandClass: `${CLASSPREFIX}-crossband`,\n            lineClass: `${CLASSPREFIX}-crossline`\n        };\n    }\n\n    static formalName () {\n        return 'crossline';\n    }\n\n    apply (selectionSet, payload) {\n        let height;\n        let bandWidth;\n        let px;\n        let width;\n        const {\n            className,\n            bandClass,\n            lineClass\n        } = this.config();\n        const dataModel = selectionSet.mergedEnter.model;\n        const drawingInf = this.drawingContext();\n        if (payload.criteria && dataModel && dataModel.isEmpty()) {\n            return this;\n        }\n        if (payload.criteria === null || !dataModel) {\n            this.hide();\n            return this;\n        }\n\n        const dataObj = dataModel.getData();\n        const sourceInf = this.firebolt.context.getSourceInfo();\n        const axes = sourceInf.axes;\n        const axisFields = sourceInf.fields;\n        const fields = selectionSet.fields;\n        const data = dataObj.data;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const svgContainer = drawingInf.sideEffectGroup;\n\n        const elemData = [];\n        fields.forEach((field) => {\n            const fieldIndex = fieldsConfig[field] && fieldsConfig[field].index;\n            const dataArr = data.map(d => d[fieldIndex]);\n            const axisIndex = [['x', 0], ['x', 1], ['y', 0], ['y', 1]].find((arr) => {\n                const fieldInst = axisFields[arr[0]][arr[1]];\n                return fieldInst && fieldInst.type() === FieldType.DIMENSION &&\n                    fieldInst.getMembers().indexOf(field) !== -1;\n            });\n            if (axisIndex !== undefined && data.length) {\n                const type = axisIndex[0];\n                const axis = axes[type][axisIndex[1]];\n                const value = dataArr[0];\n                bandWidth = axis.getUnitWidth() || 0;\n                px = axis.getScaleValue(value) + bandWidth / 2 + drawingInf.xOffset;\n                const plotWidth = Math.max(...this.firebolt.context.layers().map(layer => layer.getPlotSpan()[type]));\n                const pad = Math.max(...this.firebolt.context.layers().map(layer => layer.getPlotPadding()[type]));\n                height = drawingInf.height;\n                width = drawingInf.width;\n                const startPx = px - plotWidth / 2 - pad / 2;\n                const endPx = px + plotWidth / 2 + pad / 2;\n                const dataPoint = {};\n                if (type === 'y') {\n                    dataPoint.d = `M 0 ${startPx} L 0 ${endPx} L ${width} ${endPx} L ${width} ${startPx} Z`;\n                } else {\n                    dataPoint.d = `M ${startPx} 0 L ${endPx} 0 L ${endPx} ${height} L ${startPx} ${height} Z`;\n                }\n                dataPoint.className = plotWidth ? bandClass : lineClass;\n                elemData.push(dataPoint);\n            }\n        });\n        if (elemData.length) {\n            const parentGroup = this.createElement(svgContainer, 'g', [1], className);\n            const elem = this.createElement(parentGroup, 'path', elemData);\n            elem.attr('d', d => d.d).style('pointer-events', 'none')\n                            .attr('class', d => d.className);\n        }\n        return this;\n    }\n\n    hide () {\n        const className = this.config().className;\n        const drawingInf = this.drawingContext();\n        selectElement(drawingInf.sideEffectGroup).selectAll(`.${className}`).remove();\n    }\n}\n","const fadeFn = (set, context, strategy) => {\n    const {\n        mergedEnter,\n        mergedExit,\n        exitSet,\n        completeSet\n    } = set;\n\n    if (!mergedEnter.length && !mergedExit.length) {\n        context.applyInteractionStyle(completeSet, {}, strategy, false);\n    } else {\n        context.applyInteractionStyle(exitSet[1], {}, strategy, true);\n        context.applyInteractionStyle(mergedEnter, {}, strategy, false);\n    }\n};\n\nexport const strategies = {\n    fade: fadeFn,\n    focus: (set, context) => {\n        const {\n            mergedEnter,\n            mergedExit,\n            completeSet\n        } = set;\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, {}, 'focus', false);\n        } else {\n            context.applyInteractionStyle(mergedExit, {}, 'focus', true);\n            context.applyInteractionStyle(mergedEnter, {}, 'focus', false);\n        }\n    },\n    highlight: (set, context) => {\n        const {\n            mergedEnter,\n            mergedExit,\n            entrySet,\n            exitSet,\n            completeSet\n        } = set;\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, {}, 'highlight', false);\n        } else {\n            context.applyInteractionStyle(entrySet[1], {}, 'highlight', true);\n            context.applyInteractionStyle(exitSet[1], {}, 'highlight', false);\n        }\n    }\n};\n","import SurrogateSideEffect from '../surrogate';\nimport { strategies } from './strategy';\n\nexport default class PlotHighlighter extends SurrogateSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategy = 'highlight';\n        this._strategies = strategies;\n    }\n\n    static formalName () {\n        return 'highlighter';\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        if (selectionSet.isSourceFieldPresent !== false) {\n            strategy(selectionSet, this, options.strategy || this._strategy);\n        }\n\n        return this;\n    }\n}\n","import SurrogateSideEffect from '../surrogate';\n\nexport default class FilterEffect extends SurrogateSideEffect {\n    static formalName () {\n        return 'filter';\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static mutates () {\n        return true;\n    }\n\n    apply (selectionSet, payload) {\n        const context = this.firebolt.context;\n        const entryModel = selectionSet.mergedEnter.model;\n        if (payload.criteria === null) {\n            context.clearCaching().resetData();\n        } else {\n            context.enableCaching().data(entryModel);\n        }\n        return this;\n    }\n}\n","import { DataModel } from 'muze-utils';\n\nimport { CLASSPREFIX } from '../../enums/constants';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\n\nexport default class AnchorEffect extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        const context = this.firebolt.context;\n        this._layers = this.addAnchorLayers(context);\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-anchors-group`\n        };\n    }\n\n    static formalName () {\n        return 'anchors';\n    }\n\n    addAnchorLayers (context) {\n        const layers = [];\n        this.firebolt.context.layers().forEach((layer, idx) => {\n            const shouldDrawAnchors = layer.shouldDrawAnchors();\n            if (shouldDrawAnchors) {\n                const encodingFieldsInf = layer.encodingFieldsInf();\n                const layerObj = {\n                    instances: context.addLayer({\n                        name: `${layer.alias()}-${this.constructor.formalName()}-${idx}`,\n                        mark: 'point',\n                        encoding: {\n                            x: encodingFieldsInf.xField,\n                            y: encodingFieldsInf.yField,\n                            color: {\n                                field: encodingFieldsInf.colorField\n                            },\n                            size: {\n                                field: encodingFieldsInf.sizeField,\n                                value: this.defaultSizeValue()\n                            }\n                        },\n                        transform: {\n                            type: 'identity'\n                        },\n                        transition: this.getTransitionConfig(),\n                        calculateDomain: false,\n                        source: dt => dt.select(() => false),\n                        interactive: false,\n                        render: false\n                    }),\n                    linkedLayer: layer\n                };\n\n                layers.push(layerObj);\n            }\n        });\n        return layers;\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n\n    /**\n     * Returns the default area value of the anchor point.\n     * @return { number } Default area value of anchor.\n     */\n    defaultSizeValue () {\n        return 100;\n    }\n\n    apply (selectionSet) {\n        const self = this;\n        const dataModel = selectionSet.mergedEnter.model;\n        if (selectionSet.isSourceFieldPresent !== false) {\n            const drawingInf = this.drawingContext();\n            const sideEffectGroup = drawingInf.sideEffectGroup;\n            const className = `${this.config().className}`;\n            const layers = this._layers;\n            const parentGroup = this.createElement(sideEffectGroup, 'g', [1], `${className}-container`);\n            const anchorGroups = this.createElement(parentGroup, 'g', layers);\n            anchorGroups.each(function (layer) {\n                const instances = layer.instances;\n                const elems = self.createElement(this, 'g', instances, className);\n                const linkedLayer = layer.linkedLayer;\n                const [transformedData, schema] = linkedLayer.getTransformedDataFromIdentifiers(dataModel);\n                const transformedDataModel = new DataModel(transformedData, schema);\n                elems.each(function (d, i) {\n                    instances[i].data(transformedDataModel).mount(this);\n                });\n            });\n        }\n        return this;\n    }\n}\n","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\n\nexport default class PersistentAnchors extends AnchorEffect {\n    static formalName () {\n        return 'persistent-anchors';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-persistent-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n}\n","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\n\nexport default class BrushAnchors extends AnchorEffect {\n    static formalName () {\n        return 'brush-anchors';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-brush-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n}\n","import * as BEHAVIOURS from './enums/behaviours';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: ['selectionBox', {\n        name: 'highlighter',\n        options: {\n            strategy: 'fade'\n        }\n    }, 'brush-anchors'],\n    [`${BEHAVIOURS.BRUSH},${BEHAVIOURS.SELECT}`]: [{\n        name: 'tooltip',\n        options: {\n            strategy: 'showSelectedItems',\n            order: 0,\n            filter: context => context.config().mode === 'fragmented'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'highlight'\n        }\n    }, 'crossline', {\n        name: 'tooltip',\n        options: {\n            order: 9999\n        }\n    }, 'anchors'],\n    [BEHAVIOURS.FILTER]: ['filter'],\n    [BEHAVIOURS.SELECT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'focus'\n        }\n    }, 'persistent-anchors']\n};\n","export const CLASSPREFIX = 'muze';\nexport const STACK = 'stack';\nexport const GROUP = 'group';\nexport const IDENTITY = 'identity';\nexport const ANGLE = 'angle';\nexport const RADIUS = 'radius';\nexport const SIZE = 'size';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const OUTER_RADIUS_VALUE = 'outerRadiusValue';\nexport const TEXT_ANCHOR_MIDDLE = 'middle';\nexport const ENCODING = {\n    X: 'x',\n    Y: 'y',\n    X0: 'x0',\n    Y0: 'y0'\n};\n\nexport const ASCENDING = 'asc';\n\nexport const AREA_LAYER = 'area';\nexport const ARC_LAYER = 'arc';\nexport const LINE_LAYER = 'line';\nexport const TEXT_LAYER = 'text';\nexport const POINT_LAYER = 'point';\nexport const BAR_LAYER = 'bar';\nexport const TICK_LAYER = 'tick';\nexport const SIMPLE_LAYER = 'simple';\nexport const BASE_LAYER = 'base';\n","import { CLASSPREFIX, STACK } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-area',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: STACK\n    },\n    interaction: {\n\n    },\n    nearestPointThreshold: 10,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        y0: {},\n        strokeOpacity: {\n            value: 1\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * This is an interface class which any new layer class has to extend.\n *\n * @example\n * class BarLayer extends BaseLayer {\n *   update (params) {\n *       // super.update(params);\n *       // Update the bar layer\n *   }\n * }\n * @class\n */\nexport default class SimpleLayer {\n\n    formalName () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets or gets the dependencies.\n     * @param {Object} dependencies Dependencies needed by layer\n     * @return {BaseLayer} Instance of base layer.\n     */\n    dependencies () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the config of the layer\n     *\n     * @param {Object} config Configuration of layer\n     * @return {Object} configuration of layer\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Acts as a getter or setter function\n     * When setter\n     * Returns the datamodel of the layer\n     * @param { DataModel } dataModel instance of DataModel\n     * @return { DataModel } DataModel instance of the layer\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized schema of the layer\n     * @return {Object} Serialized schema\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the unique identifier of this layer\n     * @return {string} id of the layer\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n    /*\n     * This method resolves the x, y, x0 and y0 values from the transformed data.\n     * It also checks the type of transformed data for example, if it is a stacked data\n     * then it fetches the y and y0 values from the stacked data.\n     * @param {Array.<Array>} transformedData transformed data\n     * @param {Object} fieldMap field definitions\n     * @param {string} transformType type of transformed data - stack, group or identity.\n     * @return {Array.<Object>} Normalized data\n     * @private\n     */\n    normalizeTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of dataModel\n     * @param {Object} config configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     * @private\n     */\n    getTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a nominal field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @return {Array} Domain values array.\n     */\n    _calculateDomainFromData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, color, etc.\n     * @return {Object} Axis domains\n     */\n    getDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for getting nearest point\n     * @return {BaseLayer} Instance of base layer\n     */\n    getNearestPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for highlighting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    highlightPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for deselecting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    dehighlightPoint () {\n        return this;\n    }\n\n    linkLayerStore () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets the container element for the layer to be renderered.\n     * @param {SVGElement} mountPoint SVG element or group element.\n     */\n    mount () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n","export const DATA = 'data';\nexport const CONFIG = 'config';\nexport const MEASUREMENT = 'measurement';\nexport const AXES = 'axes';\nexport const NORMALIZED_DATA = 'normalizedData';\nexport const TRANSFORMED_DATA = 'transformedData';\nexport const DOMAIN = 'domain';\nexport const MOUNT = 'mount';\nexport const FIELDMAP = 'fieldMap';\nexport const DATA_UPDATED = 'dataUpdated';\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { Symbols } from 'muze-utils';\nimport * as AxisOrientation from '../enums/axis-orientation';\n\n/**\n * @module Axis\n * This file exports constants that are used to reference axis orientations\n * in a consistent manner.\n */\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\n\n/**\n  * This object is used to associate the axis orientation with the d3 class\n  * used to represent that axis.\n  */\nexport const axisOrientationMap = {\n    [AxisOrientation.LEFT]: Symbols.axisLeft,\n    [AxisOrientation.BOTTOM]: Symbols.axisBottom,\n    [AxisOrientation.RIGHT]: Symbols.axisRight,\n    [AxisOrientation.TOP]: Symbols.axisTop\n};\n","/**\n * @module axis\n * This file exports constants used to reference scale type\n * consistently throughout the project.\n */\nexport const LINEAR = 'linear';\nexport const BAND = 'band';\nexport const TIME = 'temporal';\nexport const COLOR = 'color';\nexport const ORDINAL = 'ordinal';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\nexport const LOG = 'log';\nexport const POW = 'pow';\nexport const IDENTITY = 'identity';\nexport const SEQUENTIAL = 'sequential';\nexport const THRESHOLD = 'threshold';\n","export const CLASSPREFIX = 'muze';\n\nexport const CONTINOUS = 'continous';\nexport const DISCRETE = 'discrete';\nexport const SEQUENTIAL = 'sequential';\nexport const ORDINAL = 'ordinal';\nexport const LINEAR = 'linear';\nexport const THRESHOLD = 'threshold';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\n\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\n\nexport const DOMAIN = 'domain';\nexport const BAND = 'band';\nexport const HIDDEN = 'hidden';\nexport const NUMBER = 'number';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\n\nexport const RGB = 'rgb';\nexport const HEX = 'hex';\nexport const HSLA = 'hsla';\nexport const HSL = 'hsl';\n\n","import { scales, colorSchemes } from 'muze-utils';\n\nimport {\n    SEQUENTIAL,\n    ORDINAL,\n    LINEAR,\n    CONTINOUS,\n    THRESHOLD,\n    QUANTIZE\n} from './enums/constants';\n\nimport * as ScaleType from './enums/scale-type';\n\nconst {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} = scales;\nexport const scaleMap = {\n    [ScaleType.LINEAR]: scaleLinear,\n    [ScaleType.BAND]: scaleBand,\n    [ScaleType.QUANTIZE]: scaleQuantize,\n    [ScaleType.QUANTILE]: scaleQuantile,\n    [ScaleType.THRESHOLD]: scaleThreshold,\n    [ScaleType.SEQUENTIAL]: scaleSequential,\n    [ScaleType.LOG]: scaleLog,\n    [ScaleType.POW]: scalePow,\n    [ScaleType.IDENTITY]: scaleIdentity,\n    [ScaleType.TIME]: scaleTime,\n    [ScaleType.COLOR]: scaleLinear,\n    [ScaleType.ORDINAL]: scaleOrdinal\n};\nexport const SCHEMES = {\n    SCHEME1: schemeCategory10,\n    SCHEME2: schemeCategory20,\n    SCHEME3: schemeCategory20b\n};\n\n/**\n * Accepts a scheme in a string format and returns the scale from d3-scale-chromatic\n *\n * @export\n * @param {string} scheme a string representing the kind of scheme for the color axis\n * @return {Object} The corresponding scale from a scheme type from d3 chromatic scale\n */\nexport function getScheme (scheme) {\n    if (scheme[0] === 'i') {\n        return scaleSequential(colorSchemes[scheme]);\n    }\n    return scaleOrdinal(colorSchemes[scheme]);\n}\n\n/**\n *\n *\n * @export\n * @param {*} scheme\n * @returns\n */\nexport function getSchemeType (scheme) {\n    let schemeType = '';\n    if (scheme && typeof (scheme) === 'string') {\n        schemeType = scheme[0] === 'i' ? SEQUENTIAL : ORDINAL;\n    } else {\n        schemeType = ORDINAL;\n    }\n    return schemeType;\n}\n\n/**\n * This function is used to create a scale that is assigned to\n * an instance of axis.\n *\n * @export\n * @param {Object} params the input parameters to create a Scale object\n * @param {string} params.type the type of scale\n * @param {Array} params.range the range of scale\n * @return {Object} instance of scale\n */\nexport function createScale (params) {\n    if (!params.type || !scaleMap[params.type]) {\n        throw new Error(`${params.type} is not a valid scale type`);\n    }\n    if (!Array.isArray(params.range)) {\n        throw new Error('range parameter must be an array');\n    }\n    let scaleFactory = null;\n    const range = params.range;\n    // @todo: do it using scale decorator\n    if (params.type === LINEAR && params.interpolator) {\n        scaleFactory = scaleMap[params.interpolator];\n        if (params.interpolator === ScaleType.POW) {\n            return scaleFactory().range(range).exponent(params.exponent);\n        } else if (params.interpolator === ScaleType.LOG) {\n            return scaleFactory().range(range).base([params.base]);\n        }\n    } else {\n        scaleFactory = scaleMap[params.type];\n    }\n\n    if (params.type === QUANTIZE) {\n        scaleFactory().nice();\n    }\n    return scaleFactory().range(range);\n}\n\n/**\n * This method is used to update the range of a scale\n * so that the core module can remain agnostic of the d3\n * scale api.\n *\n * @export\n * @param {Scale} scale Instance of d3 Scale.\n * @param {Array} range new range of the scale.\n * @return {Scale} Updated scale.\n */\nexport function updateScaleRange (scale, range) {\n    return scale.range(range);\n}\n\n/**\n *\n *\n * @export\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} steps\n * @returns\n */\nexport function getScaleType (domainType, rangeType, steps) {\n    if (rangeType === CONTINOUS) {\n        return LINEAR;\n    }\n    if (domainType === CONTINOUS) {\n        if (steps instanceof Array) {\n            return THRESHOLD;\n        }\n        return QUANTIZE;\n    }\n    return ORDINAL;\n}\n","import { getUniqueId } from 'muze-utils';\nimport { CLASSPREFIX } from '../enums/constants';\n\n/**\n *\n *\n */\nexport const defaultConfig = {\n    id: getUniqueId(),\n    axisName: {\n        defClassName: 'axis-name'\n    },\n    axisNamePadding: 12,\n    base: 10,\n    classPrefix: CLASSPREFIX,\n    className: `${CLASSPREFIX}-axis`,\n    exponent: 1,\n    interpolator: 'linear',\n    fixedBaseline: true,\n    labels: {\n        rotation: 0,\n        smartTicks: false\n    },\n    orientation: 'left',\n    maxHeight: 50, // @todo: height and width wont be hardcoded\n    maxWidth: 40,\n    numberFormat: val => val,\n    padding: 0.3,\n    nice: true,\n    numberOfTicks: 10,\n    rotate: false,\n    show: true,\n    showAxisName: true,\n    showInnerTicks: null,\n    showOuterTicks: null,\n    style: {},\n    type: 'linear',\n    tickFormat: null,\n    tickValues: null,\n    xOffset: undefined,\n    yOffset: undefined\n};\n\n","/**\n * This file exports functionality that is used to render axis.\n */\nimport { selectElement, makeElement, angleToRadian } from 'muze-utils';\nimport * as AxisOrientation from './enums/axis-orientation';\nimport { LINEAR, HIDDEN, BOTTOM, TOP } from './enums/constants';\n\n/**\n *\n *\n * @param {*} instance\n * @param {*} container\n * @param {*} labelManager\n * @param {*} config\n */\nconst rotateAxis = (instance, tickText, labelManager, config) => {\n    const axis = instance.axis();\n    const scale = instance.scale();\n    const {\n        orientation,\n        labels,\n        fixedBaseline,\n        type\n     } = config;\n    let { rotation } = labels;\n\n    const tickSize = instance.getTickSize();\n\n    tickText.each(function (datum, index) {\n        let yShift;\n        let xShift;\n        const tickFormatter = axis.tickFormat() ? axis.tickFormat : scale.tickFormat;\n        const temp = tickFormatter ? tickFormatter()(datum) : datum;\n\n        datum = temp.toString();\n\n        const tickLabelDim = labelManager.getOriSize(datum);\n        const width = tickLabelDim.width * 0.5;\n        const height = tickLabelDim.height * 0.5;\n\n        if (rotation < 0) {\n            rotation = 360 + rotation;\n        }\n\n        const quadrant = 4 - Math.floor(rotation / 90);\n        const rotationNormalizer = ((quadrant % 2 === 0) ? rotation : 180 * Math.ceil(rotation / 180) - rotation) % 180;\n\n        yShift = Math.sqrt(height ** 2 + width ** 2) * Math.sin(angleToRadian(rotationNormalizer));\n\n        if ((quadrant === 3 || quadrant === 2) && !(rotationNormalizer > 67.5 && rotationNormalizer <= 90)) {\n            yShift += height * 2;\n        }\n        xShift = width;\n\n        if (rotation === 90) {\n            xShift = height;\n        } else if (rotation === 270) {\n            xShift = -height;\n        } else {\n            xShift = 0;\n        }\n\n        if (orientation === AxisOrientation.TOP) {\n            xShift = (index === 0 && fixedBaseline && type === LINEAR) ? xShift + xShift / 2 : xShift;\n            selectElement(this)\n                            .attr('transform', `translate(${-xShift + tickSize} \n                                ${-yShift - tickSize}) rotate(${rotation})`);\n        } else {\n            xShift = (index === 0 && fixedBaseline && type === LINEAR) ? xShift - xShift / 2 : xShift;\n            selectElement(this)\n                            .attr('transform', `translate(${xShift - tickSize} \n                                ${yShift + tickSize}) rotate(${rotation})`);\n        }\n    });\n    return tickText;\n};\n\n/**\n *\n *\n * @param {*} tickText\n * @param {*} axisInstance\n */\nconst changeTickOrientation = (selectContainer, axisInstance, tickSize) => {\n    const {\n        _smartTicks\n    } = axisInstance;\n    const config = axisInstance.config();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const {\n        labels,\n        orientation\n    } = config;\n    const {\n        rotation,\n        smartTicks: isSmartTicks\n    } = labels;\n\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.selectAll('tspan').remove();\n\n   // rotate labels if not enough space is available\n    if (rotation !== 0 && isSmartTicks === false && (orientation === TOP || orientation === BOTTOM)) {\n        rotateAxis(axisInstance, tickText, labelManager, config);\n    } else if (rotation === 0 && isSmartTicks === false) {\n        tickText.attr('transform', '');\n    } else {\n        tickText.attr('y', 0)\n                        .attr('x', 0)\n                        .text('');\n        const tspan = makeElement(tickText, 'tspan', (d, i) => _smartTicks[i].lines, 'smart-text');\n        tspan.attr('dy', '0')\n                        .style('opacity', '0')\n                        .transition()\n                        .duration(1000)\n                        .attr('dy', (d, i) => {\n                            if (orientation === BOTTOM || i !== 0) {\n                                return _smartTicks[i].oriTextHeight;\n                            }\n                            return -_smartTicks[i].oriTextHeight * (_smartTicks[i].lines.length - 1) - tickSize;\n                        })\n                        .style('opacity', 1)\n                        .attr('x', 0)\n                        .text(e => e);\n    }\n\n    return tickText;\n};\n\nconst setFixedBaseline = (axisInstance) => {\n    const {\n        fixedBaseline\n    } = axisInstance.config();\n    if (fixedBaseline) {\n        axisInstance.setFixedBaseline();\n    }\n};\n\n/**\n *\n *\n * @param {*} textNode\n * @param {*} orientation\n * @param {*} measures\n */\nconst setAxisNamePos = (textNode, orientation, measures) => {\n    const {\n        axisNameHeight,\n        yOffset,\n        labelOffset,\n        availableSpace\n    } = measures;\n    switch (orientation) {\n    case AxisOrientation.LEFT:\n        textNode.attr('transform',\n            `translate(${-(availableSpace.width - axisNameHeight)},${yOffset + labelOffset})rotate(-90)`);\n        break;\n    case AxisOrientation.RIGHT:\n        textNode.attr('transform',\n             `translate(${(availableSpace.width - axisNameHeight)},${yOffset + labelOffset})rotate(90)`);\n        break;\n    case AxisOrientation.TOP:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${-availableSpace.height + axisNameHeight})`);\n        break;\n    case AxisOrientation.BOTTOM:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${availableSpace.height - axisNameHeight / 2})`);\n        break;\n    default:\n    }\n    return textNode;\n};\n\n/**\n * This method is used to render the axis inside an\n * svg container.\n *\n * @export\n * @param {Object} axisInstance the nput object required to render axis\n * @param {string} axisInstance.orientation the orientation of axis\n * @param {Object} axisInstance.scale instance of d3 scale\n * @param {SVGElement} axisInstance.container the container in which to render\n */\nexport function renderAxis (axisInstance) {\n    const config = axisInstance.config();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const mount = axisInstance.mount();\n    const range = axisInstance.range();\n    const axis = axisInstance.axis();\n    const {\n        _axisNameStyle,\n        _tickLabelStyle\n     } = axisInstance;\n    const {\n        orientation,\n        name,\n        labels,\n        xOffset,\n        yOffset,\n        axisNamePadding,\n        className,\n        showAxisName,\n        show,\n        id,\n        interpolator,\n        classPrefix\n     } = config;\n\n    if (!show) {\n        return;\n    }\n    const tickSize = axisInstance.getTickSize();\n\n    const selectContainer = makeElement(selectElement(mount), 'g', [axisInstance], `${className}`, {},\n        key => key.config().id);\n\n    // Set style for tick labels\n    labelManager.setStyle(_tickLabelStyle);\n\n    // @to-do: Need to write a configuration override using decorator pattern\n    if (interpolator === 'linear') {\n    // Set ticks for the axis\n        axisInstance.setTickValues();\n    }\n\n    // Get range(length of range)\n    const availableSpace = Math.abs(range[0] - range[1]);\n\n    // Get width and height taken by axis labels\n    const labelProps = axisInstance.axisDimensions().tickLabelDim;\n\n    // Draw axis ticks\n    selectContainer.attr('transform', `translate(${xOffset},${yOffset})`);\n    setFixedBaseline(axisInstance);\n    if (labels.smartTicks === false) {\n        selectContainer.transition()\n                        .duration(1000).call(axis);\n    } else {\n        selectContainer.call(axis);\n    }\n    selectContainer.selectAll('.tick').classed(`${classPrefix}-ticks`, true);\n    selectContainer.selectAll('.tick line').classed(`${classPrefix}-tick-lines`, true);\n\n    // Set classes for ticks\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.classed(`${classPrefix}-ticks`, true)\n                    .classed(`${classPrefix}-ticks-${id}`, true);\n    changeTickOrientation(selectContainer, axisInstance, tickSize);\n\n    // Create axis name\n    const textNode = makeElement(selectContainer, 'text', [name], `${classPrefix}-axis-name`)\n                    .attr('text-anchor', 'middle')\n                    .classed(`${classPrefix}-axis-name-${id}`, true)\n                    .text(d => d);\n\n    // Hide axis name if show is off\n    textNode.classed(HIDDEN, !showAxisName);\n\n     // render labels based on orientation of axis\n    const labelOffset = availableSpace / 2;\n\n    // Set style for axis name\n    labelManager.setStyle(_axisNameStyle);\n    const axisNameSpace = labelManager.getOriSize(name);\n    const measures = {\n        labelProps,\n        tickSize,\n        axisNamePadding,\n        axisNameHeight: axisNameSpace.height,\n        axisNameWidth: axisNameSpace.width,\n        yOffset,\n        xOffset,\n        labelOffset,\n        availableSpace: axisInstance.availableSpace()\n    };\n    // Set position for axis name\n    setAxisNamePos(textNode, orientation, measures);\n}\n","import { TOP, LEFT, BOTTOM } from '../enums/axis-orientation';\nimport { LOG } from '../enums/scale-type';\n\nexport const getNumberOfTicks = (availableSpace, labelDim, axis, axisInstance) => {\n    const ticks = axis.scale().ticks();\n    const { numberOfTicks } = axisInstance.config();\n    const tickLength = ticks.length;\n    let numberOfValues = tickLength;\n\n    if (tickLength * (labelDim * 1.5) > availableSpace) {\n        numberOfValues = Math.floor(availableSpace / (labelDim * 1.5));\n    }\n\n    numberOfValues = Math.min(numberOfTicks, Math.max(1, numberOfValues));\n    return axis.scale().ticks(numberOfValues);\n};\n\nexport const sanitizeDomain = (domain, context) => {\n    const interpolator = context.config().interpolator;\n    // @todo: Get from scale decorator\n    if (interpolator === LOG && domain[0] >= 0) {\n        return [Math.max(1, domain[0]), Math.max(1, domain[1])];\n    }\n    return domain;\n};\n\n/**\n *\n *\n * @returns\n * @memberof SimpleAxis\n */\nexport const getTickLabelInfo = (context) => {\n    let largestLabel = '';\n    let labelProps;\n    let smartTick = {};\n    let axisTickLabels;\n    const scale = context.scale();\n    const allLabelLengths = [];\n    const { tickFormat, tickValues, numberFormat } = context.config();\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n    // set the style on the shared label manager instance\n    const { labelManager } = context.dependencies();\n\n    labelManager.setStyle(context._tickLabelStyle);\n    // get the values along the domain\n\n    axisTickLabels = tickValues || labelFunc();\n    // Get the tick labels\n    axisTickLabels = axisTickLabels.map((originalLabel, i) => {\n        const formattedLabel = numberFormat(originalLabel);\n\n        //  get formats of tick if any\n        const label = tickFormat ? tickFormat(formattedLabel) : (scale.tickFormat ?\n            numberFormat(scale.tickFormat()(originalLabel)) : formattedLabel);\n\n        // convert to string for quant values\n        const temp = label.toString();\n        // Get spaces for all labels\n        allLabelLengths.push(labelManager.getOriSize(temp));\n        // Getting largest label\n        if (temp.length > largestLabel.length) {\n            largestLabel = temp;\n            smartTick = context.smartTicks() ? context.smartTicks()[i] : {};\n            labelProps = allLabelLengths[i];\n        }\n        return label;\n    });\n\n    labelProps = labelManager.getOriSize(largestLabel);\n\n    return { largestLabel, largestLabelDim: labelProps, axisTickLabels, allLabelLengths, smartTick };\n};\n\n/**\n *\n *\n * @returns\n * @memberof SimpleAxis\n */\nexport const computeAxisDimensions = (context) => {\n    let tickLabelDim = {};\n    const {\n        name,\n        labels,\n        tickValues\n    } = context.config();\n    const angle = ((labels.smartTicks) ? 0 : labels.rotation) * Math.PI / 180;\n    const { labelManager } = context.dependencies();\n    const {\n        largestLabelDim,\n        axisTickLabels,\n        smartTick\n    } = getTickLabelInfo(context);\n    const { height: labelHeight, width: labelWidth } = largestLabelDim;\n    // get the domain of axis\n    const domain = context.domain();\n\n    if (domain.length === 0) {\n        return null;\n    }\n    if (context._rotationLock === false) {\n        context.setRotationConfig(tickValues || axisTickLabels, largestLabelDim.width);\n        context._rotationLock = false;\n    }\n    if (labels.smartTicks) {\n        tickLabelDim = smartTick;\n    } else {\n        tickLabelDim = {\n            width: Math.abs(labelHeight * Math.sin(angle)) + Math.abs(labelWidth * Math.cos(angle)),\n            height: Math.abs(labelWidth * Math.sin(angle)) + Math.abs(labelHeight * Math.cos(angle))\n        };\n    }\n\n    labelManager.setStyle(context._axisNameStyle);\n    return {\n        tickSize: context.getTickSize(),\n        tickLabelDim,\n        axisLabelDim: labelManager.getOriSize(name),\n        largestLabelDim,\n        axisTickLabels\n    };\n};\n\n/**\n*\n*\n* @memberof SimpleAxis\n*/\nexport const setOffset = (context) => {\n    let x = 0;\n    let y = 0;\n    const logicalSpace = context.logicalSpace();\n    const config = context.config();\n    const {\n        orientation,\n        xOffset,\n        yOffset\n    } = config;\n    if (orientation === LEFT) {\n        x = xOffset === undefined ? logicalSpace.width : xOffset;\n    }\n    if (orientation === TOP) {\n        y = yOffset === undefined ? logicalSpace.height : yOffset;\n    }\n    context.config({ xOffset: x, yOffset: y });\n};\n\n/**\n *\n *\n * @param {*} timeDiff\n * @param {*} range\n * @param {*} domain\n * @returns\n */\nconst getAxisOffset = (timeDiff, range, domain) => {\n    const pvr = Math.abs(range[1] - range[0]) / (domain[1] - domain[0]);\n    const width = (pvr * timeDiff);\n    const avWidth = (range[1] - range[0]);\n    const bars = avWidth / width;\n    const barWidth = avWidth / (bars + 1);\n    const diff = avWidth - barWidth * bars;\n\n    return diff / 2;\n};\n\nexport const adjustRange = (minDiff, range, domain, orientation) => {\n    const diff = getAxisOffset(minDiff, range, domain);\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        range[0] += diff;\n        range[1] -= diff;\n    } else {\n        range[0] -= diff;\n        range[1] += diff;\n    }\n    return range;\n};\n\n /**\n * Listener attached to the axis on change of parameters.\n *\n * @param {Function} callback to be excuted on change of domain range etc\n * @memberof SimpleAxis\n */\nexport const registerChangeListeners = (context) => {\n    const store = context.store();\n\n    store.model.next(['domain', 'range', 'mount', 'config'], (...params) => {\n        context.render();\n        context._domainLock = false;\n        context._eventList.forEach((e) => {\n            e.action instanceof Function && e.action(...params);\n        });\n    }, true);\n    return context;\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n * @returns\n */\nexport const getHorizontalAxisSpace = (context, axisDimensions, config, range) => {\n    let width;\n    let height;\n    const {\n        tickSize,\n        tickLabelDim,\n        axisLabelDim\n    } = axisDimensions;\n    const {\n        axisNamePadding,\n        showAxisName,\n        tickValues\n   } = config;\n    const domain = context.domain();\n    const { height: axisDimHeight } = axisLabelDim;\n    const { height: tickDimHeight, width: tickDimWidth } = tickLabelDim;\n\n    width = range && range.length ? range[1] - range[0] : 0;\n\n    height = 0;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [Math.min(...tickValues, ...domain), Math.max(...tickValues, ...domain)];\n\n        width = ((max - min) / Math.abs(minTickDiff)) * (tickDimWidth + context._minTickDistance.width);\n    }\n    if (!width || width === 0) {\n        height = Math.max(tickDimWidth, tickDimHeight);\n    } else {\n        height = tickDimHeight;\n    }\n    height += (showAxisName ? (axisDimHeight + axisNamePadding) : 0) + tickSize;\n    return {\n        width,\n        height\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n * @returns\n */\nexport const getVerticalAxisSpace = (context, axisDimensions, config) => {\n    let height;\n    let width;\n    const {\n        tickSize,\n        tickLabelDim,\n        axisLabelDim\n    } = axisDimensions;\n    const {\n        axisNamePadding,\n        showAxisName,\n        tickValues\n   } = config;\n    const domain = context.domain();\n    const { height: axisDimHeight } = axisLabelDim;\n    const { height: tickDimHeight, width: tickDimWidth } = tickLabelDim;\n\n    height = 0;\n    width = tickDimWidth;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [Math.min(...tickValues, ...domain), Math.max(...tickValues, ...domain)];\n\n        height = ((max - min) / Math.abs(minTickDiff)) * (tickDimHeight);\n    }\n    width += (showAxisName ? axisDimHeight : 0) + tickSize + axisNamePadding;\n\n    return {\n        height,\n        width\n    };\n};\n\n /**\n     * Calculates the logical space of the axis\n     * @return {Object} Width and height occupied by the axis.\n     */\nexport const calculateBandSpace = (context) => {\n    const range = context.range();\n    const config = context.config();\n    const {\n        orientation,\n        show\n    } = config;\n    const axisDimensions = context.getAxisDimensions();\n    const {\n        largestLabelDim,\n        axisTickLabels\n    } = axisDimensions;\n    const { height: largestDimHeight, width: largestDimWidth } = largestLabelDim;\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        let { width, height } = getHorizontalAxisSpace(context, axisDimensions, config, range);\n        if (!width || width === 0) {\n            width = axisTickLabels.length * (Math.min(largestDimWidth + context._minTickDistance.width,\n                         largestDimHeight + context._minTickDistance.width));\n        }\n        if (show === false) {\n            height = 0;\n        }\n        return {\n            width,\n            height\n        };\n    }\n\n    let { width, height } = getVerticalAxisSpace(context, axisDimensions, config, range);\n\n    if (!height || height === 0) {\n        height = axisTickLabels.length * (largestDimHeight + largestDimHeight / 2) + largestDimHeight;\n    }\n    if (show === false) {\n        width = 0;\n    }\n    return {\n        width,\n        height\n    };\n};\n\n/**\n     * Calculates the logical space of the axis\n     * @return {Object} Width and height occupied by the axis.\n     */\nexport const calculateContinousSpace = (context) => {\n    const range = context.range();\n    const config = context.config();\n    const axisDimensions = context.getAxisDimensions();\n\n    const {\n        orientation,\n        show,\n        showAxisName\n    } = config;\n    const {\n        axisLabelDim\n    } = axisDimensions;\n\n    if (show === false) {\n        return {\n            width: 0,\n            height: 0\n        };\n    }\n\n    const { width: axisDimWidth } = axisLabelDim;\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        const { width, height } = getHorizontalAxisSpace(context, axisDimensions, config);\n        const axisWidth = Math.max(width, axisDimWidth);\n\n        return {\n            width: axisWidth,\n            height\n        };\n    }\n\n    const { width, height } = getVerticalAxisSpace(context, axisDimensions, config, range);\n\n    const effHeight = Math.max(height, showAxisName ? axisDimWidth : 0);\n\n    return {\n        width,\n        height: effHeight\n    };\n};\n\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    availableSpace: {},\n    axisDimensions: {},\n    config: {\n        sanitization: (context, value) => {\n            if (value.labels && value.labels.rotation) {\n                context._rotationLock = true;\n            }\n            value = mergeRecursive(context._config || {}, value);\n            value.axisNamePadding = Math.max(value.axisNamePadding, 0);\n            context.axis(context.createAxis(value));\n            context.store().commit('config', value);\n            return value;\n        }\n    },\n    logicalSpace: {},\n    mount: {\n        sanitization: (context, value) => {\n            context.store().commit('mount', value);\n            return value;\n        }\n    },\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.logicalSpace(null);\n            context.store().commit('range', value);\n            return value;\n        }\n    },\n\n    smartTicks: {},\n    store: {},\n    tickSize: {}\n};\n","import {\n    Store,\n    mergeRecursive,\n    getSmartComputedStyle,\n    selectElement,\n    generateGetterSetters,\n    getUniqueId\n} from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { axisOrientationMap, BOTTOM, TOP } from '../enums/axis-orientation';\nimport { defaultConfig } from './default-config';\nimport { renderAxis } from '../axis-renderer';\nimport { DOMAIN, BAND } from '../enums/constants';\nimport {\n    computeAxisDimensions,\n    setOffset,\n    registerChangeListeners,\n    calculateContinousSpace\n} from './helper';\nimport { PROPS } from './props';\n\nexport default class SimpleAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @memberof SimpleAxis\n     */\n    constructor (config, dependencies) {\n        this._id = getUniqueId();\n\n        this._dependencies = dependencies;\n        this._mount = null;\n        this._range = [];\n        this._domain = [];\n        this._domainLock = false;\n        this._rotationLock = false;\n        this._axisDimensions = {};\n        this._eventList = [];\n\n        const defCon = mergeRecursive({}, this.constructor.defaultConfig());\n        const simpleConfig = mergeRecursive(defCon, config);\n\n        const bodyElem = selectElement('body');\n        const classPrefix = simpleConfig.classPrefix;\n        this._tickLabelStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-ticks`);\n        this._axisNameStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-axis-name`);\n        dependencies.labelManager.setStyle(this._tickLabelStyle);\n        this._minTickDistance = dependencies.labelManager.getOriSize('ww');\n\n        generateGetterSetters(this, PROPS);\n        this.store(new Store({\n            domain: this.domain(),\n            range: this.range(),\n            config: simpleConfig,\n            mount: this.mount()\n        }));\n        this.config(simpleConfig);\n\n        this._scale = this.createScale(this._config);\n        this._axis = this.createAxis(this._config);\n\n        registerChangeListeners(this);\n    }\n\n    /**\n     * Returns the default configuration of simple axis\n     *  @return {Object} default configurations\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    scale (...params) {\n        if (params.length) {\n            this._scale = params[0];\n            return this;\n        }\n        return this._scale;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    axis (...params) {\n        if (params.length) {\n            this._axis = params[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     * @returns\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            this.scale().domain(domain[0]);\n            this._domain = this.scale().domain();\n            this.smartTicks(this.setTickConfig());\n            this.store().commit(DOMAIN, this._domain);\n            this.logicalSpace(null);\n            return this;\n        }\n        return this._domain;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const scale = createScale({\n            padding,\n            interpolator,\n            exponent,\n            base,\n            range,\n            type: this.constructor.type()\n        });\n\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    createAxis (config) {\n        const {\n            tickFormat,\n            numberFormat,\n            orientation\n        } = config;\n        const axisClass = axisOrientationMap[orientation];\n\n        if (axisClass) {\n            let axis = axisClass(this.scale());\n            let formatter = {};\n\n            if (tickFormat) {\n                formatter = (val, ...params) => tickFormat(numberFormat(val), ...params);\n            } else {\n                formatter = val => numberFormat(val);\n            }\n            axis = axis.tickFormat(formatter);\n            return axis;\n        }\n        return null;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axisTickLabels\n     * @param {*} labelWidth\n     * @returns\n     * @memberof SimpleAxis\n     */\n    setRotationConfig (axisTickLabels, labelWidth) {\n        const { orientation } = this.config();\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            const range = this.range();\n            const length = Math.abs(range[0] - range[1]);\n            this.config({ labels: { rotation: 0 } });\n            if (length > 0 && axisTickLabels.length * (labelWidth + this._minTickDistance.width) > length) {\n                this.config({ labels: { rotation: -90 } });\n            }\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    adjustRange () {\n        return this;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this.scale()(domainVal);\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        return this.axis().tickSize();\n    }\n\n    /**\n     * Gets the space occupied by the parts of an axis\n     *\n     * @return {Object} object with details about sizes of the axis.\n     * @memberof SimpleAxis\n     */\n    getAxisDimensions () {\n        this.axisDimensions(computeAxisDimensions(this));\n        return this.axisDimensions();\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateContinousSpace(this));\n            setOffset(this);\n            this.logicalSpace();\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * Returns the value from the domain when given a value from the range.\n     * @param {number} value Value from the range.\n     * @return {number} Value\n     */\n    invert (...value) {\n        const values = value.map(d => this.scale().invert(d)) || [];\n        return value.length === 1 ? values[0] : values;\n    }\n\n    /**\n     * Gets the nearest range value from the given range values.\n     * @param {number} v1 Start range value\n     * @param {number} v2 End range value\n     * @return {Array} range values\n     */\n    getNearestRange (v1, v2) {\n        let p1;\n        let p2;\n        let extent;\n        const {\n            type\n        } = this.config();\n        const scale = this.scale();\n        const range = scale.range();\n        const reverse = range[0] > range[1];\n\n        if (type === BAND) {\n            extent = scale.invertExtent(v1, v2);\n            p1 = scale(reverse ? extent[extent.length - 1] : extent[0]);\n            p2 = scale(reverse ? extent[0] : extent[extent.length - 1]) + scale.bandwidth();\n            return [p1, p2];\n        }\n        return [v1, v2];\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SimpleAxis\n     */\n    updateDomainBounds (domain) {\n        let currentDomain = this.domain();\n        if (this.config().domain) {\n            currentDomain = this.config().domain;\n        } else {\n            if (currentDomain.length === 0) {\n                currentDomain = domain;\n            }\n            if (domain.length) {\n                currentDomain = [Math.min(currentDomain[0], domain[0]), Math.max(currentDomain[1], domain[1])];\n            }\n        }\n\n        return this.domain(currentDomain);\n    }\n\n    /**\n     *\n     *\n     * @param {*} domain\n     * @returns\n     * @memberof SimpleAxis\n     */\n    updateDomainCache (domain) {\n        if (this._domainLock === false) {\n            this.domain([]);\n            this._domainLock = true;\n        }\n        return this.updateDomainBounds(domain || []);\n    }\n\n    getMinTickDifference () {\n        return this.domain();\n    }\n\n    /**\n     *\n     *\n     * @param {*} tickValues\n     * @returns\n     * @memberof SimpleAxis\n     */\n    setTickValues () {\n        const {\n            tickValues\n        } = this.config();\n\n        if (tickValues) {\n            tickValues instanceof Array && this.axis().tickValues(tickValues);\n            return this;\n        }\n        return this;\n    }\n\n    /**\n     * This method returns the width in pixels for one\n     * unit along the axis. It is only applicable to band scale\n     * and returns undefined for other scale type.\n     *\n     * @return {number} the width of one band along band scale axis\n     * @memberof SimpleAxis\n     */\n    getUnitWidth () {\n        return 0;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof SimpleAxis\n     */\n    serialize () {\n        return {\n            name: this.name,\n            type: this.type,\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    get id () {\n        return this._id;\n    }\n\n    registerEvent (event, fn) {\n        this._eventList.push({ name: event, action: fn });\n    }\n\n    /**\n     *\n     *\n     * @param {*} fn\n     * @memberof SimpleAxis\n     */\n    on (event, fn) {\n        event = event || 'update';\n        this.registerEvent(event, fn);\n    }\n\n    /**\n     * This method is used to render the axis inside\n     * the supplied svg container.\n     *\n     * @param {SVGElement} svg the svg element in which to render the path\n     * @memberof SimpleAxis\n     */\n    /* istanbul ignore next */render () {\n        if (this.mount()) {\n            renderAxis(this);\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    remove () {\n        this.store().unsubscribeAll();\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    unsubscribe () {\n        this.store().unsubscribeAll();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    isReverse () {\n        const range = this.range();\n        return range[0] > range[1];\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    getPixelToValueRatio () {\n        const scale = this.scale();\n        const range = scale.range();\n        const domain = scale.domain();\n\n        return Math.abs(range[1] - range[0]) / (domain[1] - domain[0]);\n    }\n}\n\n","import { scaleMap } from '../../scale-creator';\n\nexport default class LinearInterpolator {\n\n    createScale (config) {\n        const {\n            range\n        } = config;\n        const scaleFactory = scaleMap.linear;\n        this._scale = scaleFactory().range(range);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class LogInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            base\n        } = config;\n        const scaleFactory = scaleMap.log;\n        this._scale = scaleFactory().range(range).base(base);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal <= 0) {\n            return 1;\n        }\n\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        if (domain[0] <= 0) {\n            return [Math.max(1, domain[0]), Math.max(1, domain[1])];\n        } return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class PowInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            exponent\n        } = config;\n        const scaleFactory = scaleMap.pow;\n        this._scale = scaleFactory().range(range).exponent(exponent);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        return domain;\n    }\n}\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { BOTTOM, TOP, LEFT, RIGHT } from '../enums/axis-orientation';\nimport { LINEAR, LOG, POW } from '../enums/scale-type';\nimport { LogInterpolator, PowInterpolator, LinearInterpolator } from './interpolators';\nimport { DOMAIN } from '../enums/constants';\nimport {\n    getTickLabelInfo,\n    getNumberOfTicks\n} from './helper';\n\nexport const interpolatorMap = {\n    [LOG]: LogInterpolator,\n    [POW]: PowInterpolator,\n    [LINEAR]: LinearInterpolator\n};\n\nexport default class ContinousAxis extends SimpleAxis {\n    constructor (config, dependencies) {\n        config.tickFormat = val => val;\n        super(config, dependencies);\n    }\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const InterpolatorCls = interpolatorMap[interpolator];\n\n        this._interpolator = new InterpolatorCls();\n        let scale = this._interpolator.createScale({\n            padding,\n            exponent,\n            base,\n            range\n        });\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SimpleAxis\n     */\n    updateDomainBounds (domain) {\n        let currentDomain = this.domain();\n        if (this.config().domain) {\n            currentDomain = this.config().domain;\n        } else {\n            if (currentDomain.length === 0) {\n                currentDomain = domain;\n            }\n            if (domain.length) {\n                currentDomain = [Math.min(currentDomain[0], domain[0]), Math.max(currentDomain[1], domain[1])];\n            }\n        }\n\n        return this.domain(currentDomain);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ContinousAxis\n     */\n    static type () {\n        return LINEAR;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this._interpolator.getScaleValue(domainVal);\n    }\n /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.config();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n        return axis.tickSize();\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     * @returns\n     * @memberof SimpleAxis\n     */\n    domain (domain) {\n        if (domain && domain.length) {\n            const { nice } = this.config();\n            if (domain.length && domain[0] === domain[1]) {\n                domain = [0, +domain[0] * 2];\n            }\n            this.scale().domain(domain);\n            nice && this.scale().nice();\n            this._domain = this.scale().domain();\n            this.store().commit(DOMAIN, this._domain);\n            this.logicalSpace(null);\n            return this;\n        } return this._domain;\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        const {\n            left,\n            right,\n            top,\n            bottom\n        } = padding;\n        const {\n            orientation,\n            fixedBaseline\n        } = this.config();\n        const { tickLabelDim } = this.getAxisDimensions();\n        this.availableSpace({ width, height });\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            const labelSpace = tickLabelDim.width;\n            this.range([(fixedBaseline ? 0 : (labelSpace / 2)) + left, width - right - labelSpace / 2]);\n            const axisHeight = this.getLogicalSpace().height;\n            isOffset && this.config({ yOffset: Math.max(axisHeight, height) });\n        } else {\n            const labelSpace = tickLabelDim.height;\n            this.range([height - bottom - (fixedBaseline ? 0 : (labelSpace / 2)), labelSpace / 2 + top]);\n            const axisWidth = this.getLogicalSpace().width;\n            isOffset && this.config({ xOffset: Math.max(axisWidth, width) });\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} tickValues\n     * @returns\n     * @memberof SimpleAxis\n     */\n    setTickValues () {\n        const {\n            tickValues\n        } = this.config();\n        const axis = this.axis();\n\n        if (tickValues) {\n            tickValues instanceof Array && this.axis().tickValues(tickValues);\n            return this;\n        }\n        axis.tickValues(this.getTickValues());\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    getTickValues () {\n        let labelDim = 0;\n        const {\n            orientation,\n            tickValues\n        } = this.config();\n        const range = this.range();\n        const axis = this.axis();\n\n        const availableSpace = Math.abs(range[0] - range[1]);\n\n        const labelProps = getTickLabelInfo(this).largestLabelDim;\n\n        if (tickValues) {\n            return axis.scale().ticks(tickValues);\n        }\n        labelDim = labelProps[orientation === BOTTOM || orientation === TOP ? 'width' : 'height'];\n\n        return getNumberOfTicks(availableSpace, labelDim, axis, this);\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.config().tickValues);\n    }\n\n    /**\n     *\n     *\n     * @param {*} domain\n     * @returns\n     * @memberof SimpleAxis\n     */\n    updateDomainCache (domain) {\n        if (this._domainLock === false) {\n            this._domain = [];\n            this._domainLock = true;\n        }\n        return this.updateDomainBounds(domain || []);\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline (tickText) {\n        const {\n            orientation,\n            labels\n        } = this.config();\n        const {\n            rotation\n        } = labels;\n        const axis = this.axis();\n        const { width, height } = this._axisDimensions.largestLabelDim;\n        axis.tickTransform((d, i) => {\n            if (i === 0 && (orientation === LEFT || orientation === RIGHT)) {\n                return `translate(0, -${(height) / 3}px)`;\n            }\n            if (i === 0 && (orientation === TOP || orientation === BOTTOM) && rotation === 0) {\n                return `translate(${width / 2}px,  ${0}px) rotate(${rotation}deg)`;\n            } return '';\n        });\n        return tickText;\n    }\n\n}\n","import SimpleAxis from './simple-axis';\nimport { BAND } from '../enums/scale-type';\nimport { TOP, BOTTOM } from '../enums/axis-orientation';\nimport { calculateBandSpace, setOffset } from './helper';\n\nexport default class BandAxis extends SimpleAxis {\n\n    /**\n     *\n     *\n     * @param {*} range\n     * @returns\n     * @memberof BandAxis\n     */\n    createScale (range) {\n        const scale = super.createScale(range);\n        const { padding } = this.config();\n        if (typeof padding === 'number') {\n            scale.padding(padding);\n        }\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof BandAxis\n     */\n    static type () {\n        return BAND;\n    }\n\n    /**\n     *\n     *\n     * @param {*} width\n     * @param {*} height\n     * @param {*} padding\n     * @param {*} isOffset\n     * @memberof BandAxis\n     */\n    setAvailableSpace (width, height, padding, isOffset) {\n        const {\n            left,\n            right,\n            top,\n            bottom\n        } = padding;\n        const {\n            orientation,\n            showAxisName,\n            axisNamePadding\n        } = this.config();\n        const { axisLabelDim } = this.getAxisDimensions();\n        const { height: axisDimHeight } = axisLabelDim;\n\n        this.availableSpace({ width, height });\n        if (orientation === TOP || orientation === BOTTOM) {\n            // Set x axis range\n            this.range([0, width - left - right]);\n            const axisHeight = this.getLogicalSpace().height - (showAxisName === false ?\n                (axisDimHeight + axisNamePadding) : 0);\n            isOffset && this.config({ yOffset: Math.max(axisHeight, height) });\n        } else {\n            // Set y axis range\n            this.range([height - bottom, top]);\n            const axisWidth = this.getLogicalSpace().width - (showAxisName === false ? axisDimHeight : 0);\n            isOffset && this.config({ xOffset: Math.max(axisWidth, width) });\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    getUnitWidth () {\n        return this.scale().bandwidth();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks = '';\n        let smartlabel;\n        const { maxWidth, maxHeight } = this.config();\n        const { labelManager } = this._dependencies;\n        const domain = this.axis().scale().domain();\n        const axis = this.axis();\n\n        smartTicks = domain;\n        const tickFormatter = axis.tickFormat();\n\n        if (domain && domain.length) {\n            smartTicks = domain.map((d) => {\n                labelManager.useEllipsesOnOverflow(true);\n                smartlabel = labelManager.getSmartText(tickFormatter(d), maxWidth, maxHeight);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n        return smartTicks;\n    }\n\n/**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n            setOffset(this);\n            this.logicalSpace();\n        }\n        return this.logicalSpace();\n    }\n    /**\n     *\n     *\n     * @param {*} axisTickLabels\n     * @param {*} labelWidth\n     * @returns\n     * @memberof BandAxis\n     */\n    setRotationConfig (axisTickLabels, labelWidth) {\n        const { orientation } = this.config();\n        const range = this.range();\n        const availSpace = Math.abs(range[0] - range[1]);\n\n        this.config({ labels: { rotation: 0, smartTicks: false } });\n        if (orientation === TOP || orientation === BOTTOM) {\n            const smartWidth = this.smartTicks().reduce((acc, n) => acc + n.width + this._minTickDistance.width, 0);\n            // set multiline config\n            if (availSpace > 0 && axisTickLabels.length * (labelWidth + this._minTickDistance.width) > availSpace) {\n                if (availSpace && smartWidth < availSpace) {\n                    this.config({ labels: { smartTicks: true } });\n                } else {\n                    this.config({ labels: { rotation: -90 } });\n                }\n            }\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    getTickValues () {\n        return this.axis().scale().domain();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.config();\n        const axis = this.axis();\n\n        axis.tickSizeInner(showInnerTicks ? 6 : 0);\n        axis.tickSizeOuter(showOuterTicks ? 6 : 0);\n        return axis.tickSize();\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SimpleAxis\n     */\n    updateDomainBounds (domain) {\n        let currentDomain = this.domain();\n        if (this.config().domain) {\n            currentDomain = this.config().domain;\n        } else {\n            if (currentDomain.length === 0) {\n                currentDomain = domain;\n            }\n            currentDomain = currentDomain.concat(domain);\n        }\n        this.domain(currentDomain);\n        return this;\n    }\n\n    /**\n     * Returns the value from the domain when given a value from the range.\n     * @param {number} value Value from the range.\n     * @return {number} Value\n     */\n    invert (...value) {\n        const values = value.map(d => this.scale().invert(d)) || [];\n        return value.length === 1 ? values[0] && values[0].toString() : values.map(d => d.toString());\n    }\n}\n","import SimpleAxis from './simple-axis';\nimport { adjustRange } from './helper';\nimport { TIME } from '../enums/scale-type';\nimport { axisOrientationMap, BOTTOM, TOP } from '../enums/axis-orientation';\nimport { DOMAIN } from '../enums/constants';\n\n/**\n *\n *\n * @export\n * @class TimeAxis\n * @extends {SimpleAxis}\n */\nexport default class TimeAxis extends SimpleAxis {\n\n    constructor (...params) {\n        super(...params);\n        this._minDiff = Infinity;\n    }\n\n    /**\n     *\n     *\n     * @param {*} range\n     * @returns\n     * @memberof TimeAxis\n     */\n    createScale (range) {\n        let scale = super.createScale(range);\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof TimeAxis\n     */\n    static type () {\n        return TIME;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks;\n        let smartlabel;\n        const { maxWidth, maxHeight, tickFormat } = this.config();\n        const { labelManager } = this._dependencies;\n        const domain = this.getTickValues();\n        const scale = this.scale();\n\n        smartTicks = domain;\n        const tickFormatter = tickFormat || scale.tickFormat();\n\n        if (domain && domain.length) {\n            smartTicks = domain.map((d) => {\n                smartlabel = labelManager.getSmartText(tickFormatter(d), maxWidth, maxHeight);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n        return smartTicks;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    createAxis (config) {\n        const {\n            tickFormat,\n            orientation\n        } = config;\n        const axisClass = axisOrientationMap[orientation];\n\n        if (axisClass) {\n            let axis = axisClass(this.scale());\n\n            if (tickFormat) {\n                axis = axis.tickFormat(tickFormat);\n            }\n\n            return axis;\n        }\n        return null;\n    }\n\n     /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.config();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n        return super.getTickSize();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof TimeAxis\n     */\n    getTickValues () {\n        return this.scale().ticks();\n    }\n\n    /**\n     *\n     *\n     * @param {*} diff\n     * @returns\n     * @memberof TimeAxis\n     */\n    minDiff (diff) {\n        this._minDiff = Math.min(this._minDiff, diff);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axisTickLabels\n     * @param {*} labelWidth\n     * @returns\n     * @memberof BandAxis\n     */\n    setRotationConfig (axisTickLabels, labelWidth) {\n        const { orientation } = this.config();\n        const range = this.range();\n        const availSpace = Math.abs(range[0] - range[1]);\n\n        this.config({ labels: { rotation: 0, smartTicks: false } });\n        if (orientation === TOP || orientation === BOTTOM) {\n            const smartWidth = this.smartTicks().reduce((acc, n) => acc + n.width, 0);\n            // set multiline config\n            if (availSpace > 0 && axisTickLabels.length * labelWidth > availSpace) {\n                if (availSpace && smartWidth * 1.25 < availSpace) {\n                    this.config({ labels: { smartTicks: true } });\n                }\n                this.config({ labels: { rotation: -90 } });\n            }\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     * @returns\n     * @memberof SimpleAxis\n     */\n    domain (domain) {\n        if (domain) {\n            const { nice } = this.config();\n\n            if (domain.length && domain[0] === domain[1]) {\n                domain = [0, +domain[0] * 2];\n            }\n            this.scale().domain(domain);\n            nice && this.scale().nice();\n            this._domain = this.scale().domain();\n            this.smartTicks(this.setTickConfig());\n            this.store().commit(DOMAIN, this._domain);\n            this.logicalSpace(null);\n            return this;\n        } return this._domain;\n    }\n\n    /**\n     *\n     *\n     * @param {*} width\n     * @param {*} height\n     * @param {*} padding\n     * @param {*} isOffset\n     * @memberof TimeAxis\n     */\n    setAvailableSpace (width, height, padding, isOffset) {\n        const {\n            left,\n            right,\n            top,\n            bottom\n        } = padding;\n        const {\n            orientation,\n            showAxisName,\n            axisNamePadding\n        } = this.config();\n        const domain = this.domain();\n        const { axisLabelDim, tickLabelDim } = this.getAxisDimensions();\n        const { height: axisDimHeight } = axisLabelDim;\n        const { height: tickDimHeight, width: tickDimWidth } = tickLabelDim;\n\n        this.availableSpace({ width, height });\n        if (orientation === TOP || orientation === BOTTOM) {\n            const labelSpace = tickDimWidth;\n            this.range(adjustRange(this._minDiff, [labelSpace / 2, width - left - right - labelSpace / 2],\n                domain, orientation));\n            const axisHeight = this.getLogicalSpace().height - (showAxisName === false ?\n                                            (axisDimHeight + axisNamePadding) : 0);\n            isOffset && this.config({ yOffset: Math.max(axisHeight, height) });\n        } else {\n            const labelSpace = tickDimHeight;\n            this.range(adjustRange(this._minDiff, [height - top - bottom - labelSpace / 2, labelSpace / 2],\n                domain, orientation));\n            const axisWidth = this.getLogicalSpace().width - (showAxisName === false ? axisDimHeight : 0);\n            this.isOffset && this.config({ xOffset: Math.max(axisWidth, width) });\n        }\n        return this;\n    }\n\n}\n","export const x11Colors = {\n    Pink: { hex: 'ffc0cb', rgb: '255,192,203' },\n    LightPink: { hex: 'ffb6c1', rgb: '255,182,193' },\n    HotPink: { hex: 'ff69b4', rgb: '255,105,180' },\n    DeepPink: { hex: 'ff1493', rgb: '255,20,147' },\n    PaleVioletRed: { hex: 'db7093', rgb: '219,112,147' },\n    MediumVioletRed: { hex: 'c71585', rgb: '199,21,133' },\n    LightSalmon: { hex: 'ffa07a', rgb: '255,160,122' },\n    Salmon: { hex: 'fa8072', rgb: '250,128,114' },\n    DarkSalmon: { hex: 'e9967a', rgb: '233,150,122' },\n    LightCoral: { hex: 'f08080', rgb: '240,128,128' },\n    IndianRed: { hex: 'cd5c5c', rgb: '205,92,92' },\n    Crimson: { hex: 'dc143c', rgb: '220,20,60' },\n    FireBrick: { hex: 'b22222', rgb: '178,34,34' },\n    DarkRed: { hex: '8b0000', rgb: '139,0,0' },\n    Red: { hex: 'ff0000', rgb: '255,0,0' },\n    OrangeRed: { hex: 'ff4500', rgb: '255,69,0' },\n    Tomato: { hex: 'ff6347', rgb: '255,99,71' },\n    Coral: { hex: 'ff7f50', rgb: '255,127,80' },\n    DarkOrange: { hex: 'ff8c00', rgb: '255,140,0' },\n    Orange: { hex: 'ffa500', rgb: '255,165,0' },\n    Gold: { hex: 'ffd700', rgb: '255,215,0' },\n    Yellow: { hex: 'ffff00', rgb: '255,255,0' },\n    LightYellow: { hex: 'ffffe0', rgb: '255,255,224' },\n    LemonChiffon: { hex: 'fffacd', rgb: '255,250,205' },\n    LightGoldenrodYellow: { hex: 'fafad2', rgb: '250,250,210' },\n    PapayaWhip: { hex: 'ffefd5', rgb: '255,239,213' },\n    Moccasin: { hex: 'ffe4b5', rgb: '255,228,181' },\n    PeachPuff: { hex: 'ffdab9', rgb: '255,218,185' },\n    PaleGoldenrod: { hex: 'eee8aa', rgb: '238,232,170' },\n    Khaki: { hex: 'f0e68c', rgb: '240,230,140' },\n    DarkKhaki: { hex: 'bdb76b', rgb: '189,183,107' },\n    Cornsilk: { hex: 'fff8dc', rgb: '255,248,220' },\n    BlanchedAlmond: { hex: 'ffebcd', rgb: '255,235,205' },\n    Bisque: { hex: 'ffe4c4', rgb: '255,228,196' },\n    NavajoWhite: { hex: 'ffdead', rgb: '255,222,173' },\n    Wheat: { hex: 'f5deb3', rgb: '245,222,179' },\n    BurlyWood: { hex: 'deb887', rgb: '222,184,135' },\n    Tan: { hex: 'd2b48c', rgb: '210,180,140' },\n    RosyBrown: { hex: 'bc8f8f', rgb: '188,143,143' },\n    SandyBrown: { hex: 'f4a460', rgb: '244,164,96' },\n    Goldenrod: { hex: 'daa520', rgb: '218,165,32' },\n    DarkGoldenrod: { hex: 'b8860b', rgb: '184,134,11' },\n    Peru: { hex: 'cd853f', rgb: '205,133,63' },\n    Chocolate: { hex: 'd2691e', rgb: '210,105,30' },\n    SaddleBrown: { hex: '8b4513', rgb: '139,69,19' },\n    Sienna: { hex: 'a0522d', rgb: '160,82,45' },\n    Brown: { hex: 'a52a2a', rgb: '165,42,42' },\n    Maroon: { hex: '800000', rgb: '128,0,0' },\n    DarkOliveGreen: { hex: '556b2f', rgb: '85,107,47' },\n    Olive: { hex: '808000', rgb: '128,128,0' },\n    OliveDrab: { hex: '6b8e23', rgb: '107,142,35' },\n    YellowGreen: { hex: '9acd32', rgb: '154,205,50' },\n    LimeGreen: { hex: '32cd32', rgb: '50,205,50' },\n    Lime: { hex: '00ff00', rgb: '0,255,0' },\n    LawnGreen: { hex: '7cfc00', rgb: '124,252,0' },\n    Chartreuse: { hex: '7fff00', rgb: '127,255,0' },\n    GreenYellow: { hex: 'adff2f', rgb: '173,255,47' },\n    SpringGreen: { hex: '00ff7f', rgb: '0,255,127' },\n    MediumSpringGreen: { hex: '00fa9a', rgb: '0,250,154' },\n    LightGreen: { hex: '90ee90', rgb: '144,238,144' },\n    PaleGreen: { hex: '98fb98', rgb: '152,251,152' },\n    DarkSeaGreen: { hex: '8fbc8f', rgb: '143,188,143' },\n    MediumSeaGreen: { hex: '3cb371', rgb: '60,179,113' },\n    SeaGreen: { hex: '2e8b57', rgb: '46,139,87' },\n    ForestGreen: { hex: '228b22', rgb: '34,139,34' },\n    Green: { hex: '008000', rgb: '0,128,0' },\n    DarkGreen: { hex: '006400', rgb: '0,100,0' },\n    MediumAquamarine: { hex: '66cdaa', rgb: '102,205,170' },\n    Aqua: { hex: '00ffff', rgb: '0,255,255' },\n    Cyan: { hex: '00ffff', rgb: '0,255,255' },\n    LightCyan: { hex: 'e0ffff', rgb: '224,255,255' },\n    PaleTurquoise: { hex: 'afeeee', rgb: '175,238,238' },\n    Aquamarine: { hex: '7fffd4', rgb: '127,255,212' },\n    Turquoise: { hex: '40e0d0', rgb: '64,224,208' },\n    MediumTurquoise: { hex: '48d1cc', rgb: '72,209,204' },\n    DarkTurquoise: { hex: '00ced1', rgb: '0,206,209' },\n    LightSeaGreen: { hex: '20b2aa', rgb: '32,178,170' },\n    CadetBlue: { hex: '5f9ea0', rgb: '95,158,160' },\n    DarkCyan: { hex: '008b8b', rgb: '0,139,139' },\n    Teal: { hex: '008080', rgb: '0,128,128' },\n    LightSteelBlue: { hex: 'b0c4de', rgb: '176,196,222' },\n    PowderBlue: { hex: 'b0e0e6', rgb: '176,224,230' },\n    LightBlue: { hex: 'add8e6', rgb: '173,216,230' },\n    SkyBlue: { hex: '87ceeb', rgb: '135,206,235' },\n    LightSkyBlue: { hex: '87cefa', rgb: '135,206,250' },\n    DeepSkyBlue: { hex: '00bfff', rgb: '0,191,255' },\n    DodgerBlue: { hex: '1e90ff', rgb: '30,144,255' },\n    CornflowerBlue: { hex: '6495ed', rgb: '100,149,237' },\n    SteelBlue: { hex: '4682b4', rgb: '70,130,180' },\n    RoyalBlue: { hex: '4169e1', rgb: '65,105,225' },\n    Blue: { hex: '0000ff', rgb: '0,0,255' },\n    MediumBlue: { hex: '0000cd', rgb: '0,0,205' },\n    DarkBlue: { hex: '00008b', rgb: '0,0,139' },\n    Navy: { hex: '000080', rgb: '0,0,128' },\n    MidnightBlue: { hex: '191970', rgb: '25,25,112' },\n    Lavender: { hex: 'e6e6fa', rgb: '230,230,250' },\n    Thistle: { hex: 'd8bfd8', rgb: '216,191,216' },\n    Plum: { hex: 'dda0dd', rgb: '221,160,221' },\n    Violet: { hex: 'ee82ee', rgb: '238,130,238' },\n    Orchid: { hex: 'da70d6', rgb: '218,112,214' },\n    Fuchsia: { hex: 'ff00ff', rgb: '255,0,255' },\n    Magenta: { hex: 'ff00ff', rgb: '255,0,255' },\n    MediumOrchid: { hex: 'ba55d3', rgb: '186,85,211' },\n    MediumPurple: { hex: '9370db', rgb: '147,112,219' },\n    BlueViolet: { hex: '8a2be2', rgb: '138,43,226' },\n    DarkViolet: { hex: '9400d3', rgb: '148,0,211' },\n    DarkOrchid: { hex: '9932cc', rgb: '153,50,204' },\n    DarkMagenta: { hex: '8b008b', rgb: '139,0,139' },\n    Purple: { hex: '800080', rgb: '128,0,128' },\n    Indigo: { hex: '4b0082', rgb: '75,0,130' },\n    DarkSlateBlue: { hex: '483d8b', rgb: '72,61,139' },\n    SlateBlue: { hex: '6a5acd', rgb: '106,90,205' },\n    MediumSlateBlue: { hex: '7b68ee', rgb: '123,104,238' },\n    White: { hex: 'ffffff', rgb: '255,255,255' },\n    Snow: { hex: 'fffafa', rgb: '255,250,250' },\n    Honeydew: { hex: 'f0fff0', rgb: '240,255,240' },\n    MintCream: { hex: 'f5fffa', rgb: '245,255,250' },\n    Azure: { hex: 'f0ffff', rgb: '240,255,255' },\n    AliceBlue: { hex: 'f0f8ff', rgb: '240,248,255' },\n    GhostWhite: { hex: 'f8f8ff', rgb: '248,248,255' },\n    WhiteSmoke: { hex: 'f5f5f5', rgb: '245,245,245' },\n    Seashell: { hex: 'fff5ee', rgb: '255,245,238' },\n    Beige: { hex: 'f5f5dc', rgb: '245,245,220' },\n    OldLace: { hex: 'fdf5e6', rgb: '253,245,230' },\n    FloralWhite: { hex: 'fffaf0', rgb: '255,250,240' },\n    Ivory: { hex: 'fffff0', rgb: '255,255,240' },\n    AntiqueWhite: { hex: 'faebd7', rgb: '250,235,215' },\n    Linen: { hex: 'faf0e6', rgb: '250,240,230' },\n    LavenderBlush: { hex: 'fff0f5', rgb: '255,240,245' },\n    MistyRose: { hex: 'ffe4e1', rgb: '255,228,225' },\n    Gainsboro: { hex: 'dcdcdc', rgb: '220,220,220' },\n    LightGray: { hex: 'd3d3d3', rgb: '211,211,211' },\n    Silver: { hex: 'c0c0c0', rgb: '192,192,192' },\n    DarkGrey: { hex: 'a9a9a9', rgb: '169,169,169' },\n    Grey: { hex: '808080', rgb: '128,128,128' },\n    DimGrey: { hex: '696969', rgb: '105,105,105' },\n    LightSlateGrey: { hex: '778899', rgb: '119,136,153' },\n    SlateGrey: { hex: '708090', rgb: '112,128,144' },\n    DarkSlateGrey: { hex: '2f4f4f', rgb: '47,79,79' },\n    Black: { hex: '000000', rgb: '0,0,0' }\n};\n","import {\n    LINEAR\n} from '../enums/constants';\n/**\n * Set of default colors\n */\nexport const palette = [\n    '#086bb6',\n    '#f37d45',\n    '#f5ce02',\n    '#67bda0',\n    '#c54e4e',\n    '#ae70af'\n];\n\nexport const DEFAULT_GRADIENT_COLOR = '#eaeaea';\n\nexport const DEFAULT_CONFIG = {\n    range: palette,\n    value: palette[0],\n    step: false,\n    stops: 5,\n    type: LINEAR\n};\n","import { mergeRecursive, detectColor, hexToHsv, rgbToHsv } from 'muze-utils';\nimport { x11Colors } from './color-maps';\nimport { palette, DEFAULT_GRADIENT_COLOR } from './defaults';\nimport { LINEAR, RGB, HEX, HSL, HSLA } from '../enums/constants';\n\nexport const getHslString = hslArr => `hsla(${hslArr[0] * 360},${hslArr[1] * 100}%,${hslArr[2] * 100}%,\\\n${hslArr[3] || 1})`;\n\nexport const convertToXllString = baseString => (baseString.split(' ') || [])\n                .reduce((x, e) => `${x}${e.charAt(0).toUpperCase()}${e.slice(1)}`, '');\n\nexport const getActualHslColor = (e, paletteColor) => {\n    let color = '';\n    if (typeof e === 'string') {\n        e = e.replace(/ /g, '');\n        e = e.toLowerCase();\n        if (detectColor(e) === HSL || detectColor(e) === HSLA) {\n            color = e.match(/(\\d+(\\.\\d+)?)/g);\n            color = [color[0] / 360, color[1] / 100, color[2] / 100, color[3] || 1];\n        } else if (detectColor(e) === HEX) {\n            color = hexToHsv(e);\n        } else if (detectColor(e) === RGB) {\n            const col = e.substring(e.indexOf('(') + 1, e.lastIndexOf(')')).split(/,\\s*/);\n            color = rgbToHsv(...col);\n        } else if (x11Colors[convertToXllString(e)]) {\n            color = rgbToHsv(...x11Colors[convertToXllString(e)].rgb.split(','));\n        }\n    } else if (!(e instanceof Array)) {\n        color = rgbToHsv(paletteColor);\n    } else {\n        color = e;\n    }\n    return color;\n};\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, config) => {\n            const defCon = mergeRecursive({}, context.constructor.defaultConfig());\n            if (config.type === LINEAR) {\n                config.range = config.range || [defCon.range[0]];\n                config.range = config.range.length > 1 ? config.range : [DEFAULT_GRADIENT_COLOR, ...config.range];\n            }\n            const oldConfig = mergeRecursive(defCon, context.config());\n            const newConfig = mergeRecursive(oldConfig, config);\n\n            if (newConfig.range instanceof Array) {\n                newConfig.range = newConfig.range.map((e, i) => getActualHslColor(e, palette[i]));\n                newConfig.stops = config.stops || newConfig.range.length;\n            }\n            newConfig.value = getActualHslColor(newConfig.value, newConfig.value);\n            return newConfig;\n        }\n    },\n    domain: {},\n    scale: {},\n    uniqueValues: {}\n};\n","import { numberInterpolator, piecewiseInterpolator, hslInterpolator } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, SEQUENTIAL, ORDINAL, QUANTILE } from '../enums/scale-type';\nimport { getHslString } from './props';\n\nconst getStops = (domain, stops) => {\n    let newStops = [];\n\n    if (stops instanceof Array) {\n        newStops = stops.slice().sort();\n        newStops = [...new Set([domain[0], ...stops, domain[1]])].sort();\n    } else {\n        const interpolator = numberInterpolator()(...domain);\n        for (let i = 0; i <= stops; i++) {\n            newStops[i] = interpolator(i / stops);\n        }\n    }\n\n    if (newStops[0] < domain[0]) {\n        newStops.shift();\n    }\n    return { domain, newStops };\n};\n\nconst rangeStops = (newStopsLength, range) => {\n    let newRange = [];\n    const maxRangeLength = Math.min(range.length, 18);\n\n    if (newStopsLength > maxRangeLength) {\n        const interpolator = piecewiseInterpolator()(hslInterpolator(), range.map(e => getHslString(e)));\n        for (let i = 0; i < newStopsLength; i++) {\n            newRange[i] = interpolator(i / (newStopsLength - 1));\n        }\n    } else {\n        newRange = range.slice(0, newStopsLength);\n    }\n    return { newRange };\n};\n\n/**\n*\n*\n* @param {*} domain\n* @returns\n*/\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @returns\n */\nconst indexedDomainMeasure = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { domain, uniqueVals, scaleDomain: [0, 1], range };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @returns\n */\nconst normalDomain = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain, nice: true, range };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} stops\n * @returns\n */\nconst steppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(domain, stops);\n    const { newRange } = rangeStops(newStops.length - 1, range);\n\n    return { uniqueVals, domain: newStops, nice: true, range: newRange };\n};\n\nconst continousSteppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(domain, range.length - 1);\n    const hslRange = range.map(e => getHslString(e));\n    return { uniqueVals, domain: newStops, nice: true, range: hslRange };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n * @returns\n */\nconst uniqueRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    return scale(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @returns\n */\nconst indexedRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n\n    return scale(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale) => scale(domainValue);\n\n/**\n *\n *\n * @param {*} stops\n */\nconst strategies = () => ({\n    [`${CONTINOUS}-${CONTINOUS}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomain,\n        value: () => uniqueRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${ORDINAL}`]: {\n        scale: ORDINAL,\n        domainRange: () => normalDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}-${ORDINAL}`]: {\n        scale: LINEAR,\n        domainRange: () => continousSteppedDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${ORDINAL}`]: {\n        scale: QUANTILE,\n        domainRange: () => steppedDomain,\n        value: () => normalRange\n\n    }\n});\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} stops\n */\nexport const strategyGetter = (domainType, rangeType, schemeType, stops) =>\n     strategies(stops)[`${domainType}-${rangeType}-${schemeType || ''}`];\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters, rgbToHsv } from 'muze-utils';\nimport { createScale, getScheme, getSchemeType } from '../scale-creator';\nimport { CONTINOUS, DISCRETE, COLOR } from '../enums/constants';\nimport { strategyGetter } from './color-strategy';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { PROPS, getHslString } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ColorAxis {\n\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} config input parameters.\n    * @param {Object | undefined} params.range Type of color range.\n    * @param {string} params.name the label to show on axis.\n    * @param {string} params.type The type of scale to handle.\n    * @memberof ColorAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n        this.config(config);\n\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n        this._rangeType = (this._config.type === 'linear' && !this._config.step) ? CONTINOUS : DISCRETE;\n\n        this._schemeType = getSchemeType(this._config.range);\n\n        this._colorStrategy = this.setColorStrategy(this._domainType, this._rangeType, this._schemeType);\n        this._scale = this.createScale(this._colorStrategy);\n\n        this._id = getUniqueId();\n\n        this.updateDomain(config.domain);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ColorAxis\n     */\n    static type () {\n        return COLOR;\n    }\n\n    /**\n     *\n     *\n     * @param {*} colorStrategy\n     * @returns\n     * @memberof ColorAxis\n     */\n    createScale (colorStrategy) {\n        const { range } = this.config();\n        if (range && typeof (range) === 'string') {\n            return getScheme(range);\n        }\n        return createScale({\n            type: colorStrategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     * @returns\n     * @memberof ColorAxis\n     */\n    setColorStrategy (domainType, rangeType, schemeType) {\n        const { stops } = this.config();\n\n        return strategyGetter(domainType, rangeType, schemeType, stops);\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     * @returns\n     * @memberof ColorAxis\n     */\n    getHslString (hslColorArray) {\n        return getHslString(hslColorArray);\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     * @returns\n     * @memberof ColorAxis\n     */\n    getColor (domainVal) {\n        return this.getHslString(this.getRawColor(domainVal));\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     * @returns\n     * @memberof ColorAxis\n     */\n    getRawColor (domainVal) {\n        if (this.domain() && domainVal !== undefined) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const color = this._colorStrategy.value(range)(domainVal, scale, this.domain(), this.uniqueValues());\n\n            if (typeof color === 'string') {\n                const col = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(/,\\s*/);\n                return rgbToHsv(...col);\n            }\n            return [...color];\n        }\n        return [...this.config().value];\n    }\n\n    /**\n     *\n     *\n     * @param {*} [domain=[]]\n     * @returns\n     * @memberof ColorAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const domainRangeFn = this._colorStrategy.domainRange();\n            const scaleInfo = domainRangeFn(domain, this.config().stops, range);\n\n            this.domain(scaleInfo.domain);\n            scaleInfo.range && this.scale().range(scaleInfo.range);\n            this.uniqueValues(scaleInfo.uniqueVals);\n            this.scale().domain(scaleInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            config: this.config()\n        };\n    }\n\n    transformColor (color, transformationArr) {\n        const h = color[0] * 360;\n        const s = color[1] * 100;\n        const l = color[2] * 100;\n        const a = color[3] || 1;\n        const newH = h + transformationArr[0];\n        const newS = s + transformationArr[1];\n        const newL = l + transformationArr[2];\n        const newA = a + transformationArr[3] || 0;\n\n        return { color: `hsla(${newH},${newS}%,${newL}%,${newA})`, hsla: [newH / 360, newS / 100, newL / 100, newA] };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n\n}\n","export const DEFAULT_CONFIG = {\n    value: 36,\n    range: [36, 1000]\n};\n","import { numberInterpolator, piecewiseInterpolator } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, THRESHOLD } from '../enums/scale-type';\n\n/**\n *\n *\n * @param {*} domain\n * @returns\n */\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @returns\n */\nconst normalDomain = (domain) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} intervals\n * @returns\n */\nconst steppedDomain = (domain, intervals) => {\n    let newIntervals = [];\n    if (intervals instanceof Array) {\n        newIntervals = intervals.slice().sort();\n    } else {\n        const interpolator = numberInterpolator()(...domain);\n        for (let i = 0; i < intervals; i++) {\n            newIntervals[i] = interpolator(i / (intervals - 1));\n        }\n    }\n    if (newIntervals[0] < domain[0]) {\n        newIntervals.shift();\n    }\n    const retDomain = newIntervals;\n    return { uniqueVals: newIntervals, domain: retDomain, nice: true };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n * @returns\n */\nconst discreteRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n    const interpolator = numberInterpolator()(...scale.range());\n    return interpolator(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @returns\n */\nconst pieceWiseRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    const fn = piecewiseInterpolator()(numberInterpolator(), [...scale.range()]);\n    return fn(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale) => scale(domainValue);\n\n/**\n *\n *\n * @param {*} intervals\n */\nconst strategies = {\n    [`${DISCRETE}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: indexedDomain,\n        range: pieceWiseRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: normalDomain,\n        range: normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}`]: {\n        scale: THRESHOLD,\n        domain: steppedDomain,\n        range: discreteRange\n    }\n};\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} intervals\n */\nexport const strategyGetter = (domainType, rangeType) =>\n     strategies[`${domainType}-${rangeType}`];\n","export const PROPS = {\n    config: {},\n    domain: {\n        sanitization: (context, value) => {\n            context.scale().domain(value);\n            return value;\n        }\n    },\n    range: {},\n    scale: {},\n    uniqueValues: {}\n};\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SIZE, CONTINOUS, DISCRETE } from '../enums/constants';\nimport { strategyGetter } from './size-strategy';\nimport { PROPS } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class SizeAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @param {Object} config input parameters.\n     * @memberof SizeAxis\n     */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this._config = Object.assign({}, this.constructor.defaultConfig(), config);\n        // @todo: Will use configuration override using scale decorator\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n        this._rangeType = CONTINOUS;\n\n        this._sizeStrategy = this.setStrategy(this._domainType, this._rangeType);\n        this._scale = this.createScale(this._sizeStrategy);\n        this._range = this._config.range;\n\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     * @returns\n     * @memberof ColorAxis\n     */\n    setStrategy (domainType, rangeType) {\n        return strategyGetter(domainType, rangeType);\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SizeAxis\n     */\n    createScale (strategy) {\n        const {\n            range\n        } = this.config();\n        return createScale({\n            type: strategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SIZE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     * @returns\n     * @memberof SizeAxis\n     */\n    getSize (domainVal = 0) {\n        let sizeVal = 1;\n        const {\n            value\n        } = this.config();\n        const scale = this.scale();\n        const domain = this.domain() || [1, 1];\n\n        if (!scale || domain[0] === domain[1]) {\n            sizeVal = value;\n        } else {\n            return this._sizeStrategy.range(domainVal, scale, this.domain(), this.uniqueValues());\n        }\n        return sizeVal;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SizeAxis\n     */\n    updateDomain (domain) {\n        if (domain) {\n            const domainFn = this._sizeStrategy.domain;\n\n            const domainInfo = domainFn(domain, this.config().intervals);\n\n            this.domain(domainInfo.domain);\n            this.uniqueValues(domainInfo.uniqueVals);\n\n            this.scale().domain(domainInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","export const DEFAULT_CONFIG = {\n    generator: null,\n    value: 'circle',\n    range: ['circle', 'diamond', 'star', 'cross', 'square', 'wye', 'triangle']\n};\n","export const PROPS = {\n    config: {},\n    domain: {},\n    scale: {},\n    uniqueValues: {},\n    generator: {}\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, getSymbol, generateGetterSetters, mergeRecursive } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SHAPE } from '../enums/constants';\nimport { shapeGenerator } from './helper';\nimport { PROPS } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ShapeAxis {\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} params input parameters.\n    * @param {Object | undefined} params.range Type of color scheme.\n    * @memberof ShapeAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this._config = Object.assign({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(this._config, config);\n\n        this._scale = createScale({\n            type: 'ordinal',\n            range: this._config.range\n        });\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SHAPE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} value\n     * @returns\n     * @memberof ShapeAxis\n     */\n    getShape (value) {\n        if (!this.scale() || !this.domain() || !value) {\n            return this.config().value;\n        }\n\n        if (this._generatedShapes) {\n            return this._generatedShapes[value];\n        }\n\n        const shapeType = this.scale()(value);\n        if (shapeType === 'string') {\n            return getSymbol(shapeType);\n        }\n\n        return shapeType;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof ShapeAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            this.uniqueValues(domain);\n            this.domain(domain);\n            this.scale().domain(domain);\n\n            if (this.config().generator) {\n                this._generatedShapes = shapeGenerator(domain, this.config().generator);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.config().range,\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","/**\n *\n *\n * @param {*} domain\n * @param {*} generatorFn\n * @returns\n */\nexport const shapeGenerator = (domain, generatorFn) => {\n    const generatedShapes = {};\n    domain.forEach((value) => {\n        generatedShapes[value] = generatorFn(value);\n    });\n    return generatedShapes;\n};\n","import * as ScaleType from './enums/scale-type';\n\nconst DATA_TYPES = {\n    DIMENSION: 'dimension',\n    CATEGORICAL: 'categorical',\n    MEASURE: 'measure',\n    DATETIME: 'temporal'\n};\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    [DATA_TYPES.DIMENSION]: ScaleType.BAND,\n    [DATA_TYPES.MEASURE]: ScaleType.LINEAR,\n    [DATA_TYPES.DATETIME]: ScaleType.TIME\n};\n\n","import { nestCollection } from 'muze-utils';\n\n/**\n * Create multiple datasets from a single dataset by grouping the data using\n * a dimensional field.\n * @param {Array} schema Name and type of fields are stored in schema\n * @param {Array} data Data array\n * @param {Object} config Configuration object\n * @return {Array} Grouped data array\n */\nexport default (schema, data, config) => {\n    const groupBy = config.groupBy instanceof Array ? config.groupBy : [config.groupBy];\n    const groupByIndices = groupBy.map(fieldName => schema.findIndex(d => d.name === fieldName));\n\n    if (groupByIndices.find(d => d === -1) !== undefined) {\n        throw new Error(`Groupby field ${groupBy} not found in schema`);\n    }\n\n    return nestCollection({\n        keys: groupByIndices,\n        data\n    });\n};\n","/**\n * @module Transform\n * This file exports a function that is used to implement\n * the identity transform\n */\n /* eslint no-unused-vars: 0 */\n /**\n  * This function accepts data and returns the data unchanged.\n  * @param {Object} schema The schema.\n  * @param {Array} data The data array.\n  * @param {Object} config The config object.\n  * @return {Array} The unchanged data.\n  */\n function identityTransform (schema, data, config) {\n     return data;\n }\n\n export default identityTransform;\n","/**\n * @module Transform\n * This file exports the transform factory.\n */\nimport * as TransformType from '../enums/transform-type';\nimport identity from '../identity-transform';\nimport group from '../group-transform';\nimport stack from '../stack-transform';\n\n/* istanbul ignore next */\nconst transformMap = {\n    [TransformType.IDENTITY]: identity,\n    [TransformType.GROUP]: group,\n    [TransformType.STACK]: stack\n};\n\n/**\n * This function is used to retirn a transform associated\n * with the given type.\n *\n * @param {string} type The type of the transform.\n * @return {Function} The transform function.\n */\nfunction transformFactory (type) {\n    const transform = transformMap[type];\n    if (typeof transform !== 'function') {\n        throw new Error('Invalid transform type supplied.');\n    }\n    return transform;\n}\n\nexport default transformFactory;\n","/**\n * @module Transform\n * This module exports constants that are used to reference transforms in\n * a consistent manner throughout the project.\n */\n/* eslint one-var: 0 */\n export const IDENTITY = 'identity';\n export const GROUP = 'group';\n export const STACK = 'stack';\n export const FRACTURE = 'fracture';\n","import { stack } from 'muze-utils';\n\nimport group from '../group-transform';\n/*\n    Normalize the data to a form which can be given to d3 stack for stacking the data\n    ['Product', 'Sales', 'Region'],\n    0 ['A', 2000, 'North'],\n    1 ['A', 3000, 'South'],\n    2 ['B', 3000, 'South'],\n    3 ['B', 2000, 'North'],\n    4 ['C', 3000, 'South'],\n    5 ['C', 2000, 'North']\n            |\n            |\n    ['Product', 'North', 'South'],\n    ['A', 2000, 3000],\n    ['B', 2000, 3000],\n    ['C', 2000, 3000]\n*/\n// eslint-disable-next-line require-jsdoc\nconst normalizeData = (data, schema, valueField, uniqueField, groupBy) => {\n    const groupedData = group(schema, data, {\n        groupBy: uniqueField\n    });\n    const uniqueFieldIndex = schema.findIndex(d => d.name === uniqueField);\n    const valueFieldIndex = schema.findIndex(d => d.name === valueField);\n    const seriesKeyIndex = schema.findIndex(d => d.name === groupBy);\n    const seriesKeys = data.map(d => d[seriesKeyIndex]).filter((item, pos, arr) => arr.indexOf(item) === pos).sort();\n    const fieldNames = schema.reduce((acc, obj, i) => {\n        acc[i] = obj.name;\n        return acc;\n    }, {});\n    const dataArr = groupedData.map((arr) => {\n        const tuples = {};\n        const rowObj = arr.values.reduce((acc, row) => {\n            acc = row.reduce((obj, value, i) => {\n                if (i === seriesKeyIndex) {\n                    obj[value] = row[valueFieldIndex];\n                    tuples[value] = row;\n                } else if (i !== valueFieldIndex) {\n                    obj[fieldNames[i]] = value;\n                }\n                return obj;\n            }, acc);\n            return acc;\n        }, {});\n        rowObj._tuple = tuples;\n            // Set missing values field to zero value\n        seriesKeys.forEach((seriesKey) => {\n            if (rowObj[seriesKey] === undefined) {\n                rowObj[seriesKey] = 0;\n                const newArr = new Array(arr.values[0].length);\n                newArr[uniqueFieldIndex] = arr.key;\n                newArr[seriesKeyIndex] = seriesKey;\n                rowObj._tuple[seriesKey] = newArr;\n            }\n        });\n        return rowObj;\n    });\n\n    return {\n        data: dataArr,\n        keys: seriesKeys\n    };\n};\n/**\n * Generate a stacked representation of data\n * @param {Array} schema schema Array\n * @param {Array} data data array\n * @param {Object} config Configuration object\n * @return {Array} stacked data\n */\nexport default (schema, data, config) => {\n    const uniqueField = config.uniqueField;\n    const valueField = config.value;\n    const groupBy = config.groupBy;\n    const sort = config.sort || 'descending';\n    const normalizedData = normalizeData(data, schema, valueField, uniqueField, groupBy);\n    const stackData = stack({\n        keys: normalizedData.keys,\n        offset: config.offset || 'diverging',\n        order: sort,\n        data: normalizedData.data\n    });\n    stackData.forEach((seriesData) => {\n        seriesData.forEach((dataObj) => {\n            dataObj.data = dataObj.data._tuple[seriesData.key];\n        });\n    });\n    return stackData;\n};\n\n","import {\n    FieldType,\n    getDomainFromData,\n    setStyles,\n    easeFns,\n    selectElement,\n    DimensionSubtype\n} from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { transformFactory } from '@chartshq/transform';\nimport { IDENTITY, STACK, GROUP, COLOR, SHAPE, SIZE, ENCODING } from '../enums/constants';\n\nconst BAND = ScaleType.BAND;\n\nexport const getLayerColor = ({ datum, index }, { colorEncoding, colorAxis, colorFieldIndex }) => {\n    let rawColor = '';\n    let color = '';\n    if (colorEncoding && colorEncoding.value instanceof Function) {\n        color = colorEncoding.value(datum, index);\n        rawColor = colorEncoding.value(datum, index);\n    } else {\n        rawColor = colorAxis.getRawColor(datum._data[colorFieldIndex]);\n        color = colorAxis.getHslString(rawColor);\n    }\n    return { color, rawColor };\n};\n\nconst transfromColor = (colorAxis, datum, styleType, intensity) => {\n    datum.meta.stateColor[styleType] = datum.meta.stateColor[styleType] || datum.meta.originalColor;\n    const fillColorInfo = colorAxis.transformColor(datum.meta.stateColor[styleType], intensity);\n    datum.meta.stateColor[styleType] = fillColorInfo.hsla;\n\n    return fillColorInfo;\n};\n\nexport const applyInteractionStyle = (context, selectionSet, interactionStyles, config) => {\n    const elements = context.getPlotElementsFromSet(selectionSet);\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const apply = config.apply;\n    const interactionType = config.interactionType;\n    interactionStyles.forEach((style) => {\n        const styleType = style.type;\n        elements.style(styleType, ((d) => {\n            const { colorTransform, stateColor, originalColor } = d.meta;\n            colorTransform[interactionType] = colorTransform[interactionType] || {};\n            if (apply && !colorTransform[interactionType][styleType]) {\n                // fade selections\n                colorTransform[interactionType][styleType] = style.intensity;\n                const color = transfromColor(colorAxis, d, styleType, style.intensity).color;\n                return color;\n            }\n            if (!apply && colorTransform[interactionType][styleType]) {\n                 // unfade selections\n                colorTransform[interactionType][styleType] = null;\n                return transfromColor(colorAxis, d, styleType, style.intensity.map(e => -e)).color;\n            }\n            const [h, s, l, a] = stateColor[styleType] ? stateColor[styleType] : originalColor;\n            return `hsla(${h * 360},${s * 100}%,${l * 100}%, ${a || 1})`;\n        }));\n    });\n};\n\n/**\n *\n *\n * @param {*} selectionSet\n * @param {*} className\n * @param {*} hasFaded\n */\nexport const fadeUnfadeSelection = (context, selectionSet, hasFaded, interaction) => {\n    const interactionConfig = { interaction, apply: hasFaded };\n    applyInteractionStyle(context, selectionSet, 'fade', interactionConfig);\n};\n\n/**\n *\n *\n * @param {*} selectionSet\n * @param {*} className\n * @param {*} hasFaded\n */\nexport const focusUnfocusSelection = (context, selectionSet, isFocussed, interaction) => {\n    const interactionConfig = { interaction, apply: isFocussed };\n    applyInteractionStyle(context, selectionSet, 'focus', interactionConfig);\n};\n\n/**\n *\n *\n * @param {*} axes\n * @returns\n */\nexport const getAxesScales = (axes) => {\n    const [xAxis, yAxis] = [ENCODING.X, ENCODING.Y].map(e => axes[e]);\n    const [xScale, yScale] = [xAxis, yAxis].map(e => e && e.scale());\n    return {\n        xAxis,\n        yAxis,\n        xScale,\n        yScale\n    };\n};\n\n/**\n *\n *\n * @param {*} encoding\n * @param {*} fieldsConfig\n * @returns\n */\nexport const getEncodingFieldInf = (encoding, fieldsConfig) => {\n    const [xField, yField, x0Field, y0Field, colorField, shapeField, sizeField] =\n        [ENCODING.X, ENCODING.Y, ENCODING.X0, ENCODING.Y0, COLOR, SHAPE, SIZE].map(e => encoding[e] &&\n            encoding[e].field);\n\n    const [xFieldType, yFieldType] = [xField, yField, x0Field, y0Field].map(e => fieldsConfig[e] &&\n        fieldsConfig[e].def.type);\n\n    const [xFieldSubType, yFieldSubType] = [xField, yField].map(e => fieldsConfig[e] && (fieldsConfig[e].def.subtype ||\n        fieldsConfig[e].def.type));\n\n    const [xFieldIndex, yFieldIndex, x0FieldIndex, y0FieldIndex] = [xField, yField, x0Field, y0Field]\n        .map(e => fieldsConfig[e] && fieldsConfig[e].index);\n\n    return {\n        xField,\n        yField,\n        colorField,\n        shapeField,\n        sizeField,\n        x0Field,\n        y0Field,\n        xFieldType,\n        yFieldType,\n        xFieldSubType,\n        yFieldSubType,\n        xFieldIndex,\n        yFieldIndex,\n        x0FieldIndex,\n        y0FieldIndex\n    };\n};\n\n/**\n *\n *\n * @param {*} layerConfig\n * @param {*} fieldsConfig\n * @returns\n */\nexport const getValidTransform = (layerConfig, fieldsConfig, encodingFieldInf) => {\n    let transformType;\n    const {\n        transform\n    } = layerConfig;\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = encodingFieldInf;\n    const groupByField = transform.groupBy;\n    const groupByFieldMeasure = fieldsConfig[groupByField] && fieldsConfig[groupByField].def.type === FieldType.MEASURE;\n    transformType = transform.type;\n    if (!xField || !yField || groupByFieldMeasure || !groupByField || xFieldType === FieldType.DIMENSION &&\n        yFieldType === FieldType.DIMENSION) {\n        transformType = IDENTITY;\n    }\n    return transformType;\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} config\n * @param {*} transformType\n * @returns\n */\nexport const transformData = (dataModel, config, transformType, encodingFieldInf) => {\n    const data = dataModel.getData({ withUid: true });\n    const schema = data.schema;\n    const transform = config.transform;\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = encodingFieldInf;\n    const uniqueField = xFieldType === FieldType.MEASURE ? yField : xField;\n\n    return transformFactory(transformType)(schema, data.data, {\n        groupBy: transform.groupBy,\n        uniqueField,\n        sort: transform.sort || 'none',\n        offset: transform.offset,\n        value: yFieldType === FieldType.MEASURE ? yField : xField\n    }, data.uids);\n};\n\n/*\n * This method resolves the x, y, x0 and y0 values from the transformed data.\n * It also checks the type of transformed data for example, if it is a stacked data\n * then it fetches the y and y0 values from the stacked data.\n * @param {Array.<Array>} transformedData transformed data\n * @param {Object} fieldsConfig field definitions\n * @param {string} transformType type of transformed data - stack, group or identity.\n * @return {Array.<Object>} Normalized data\n*/\nexport const getNormalizedData = (transformedData, fieldsConfig, encodingFieldInf, transformType) => {\n    const transformedDataArr = transformType === IDENTITY ? [transformedData] : transformedData;\n    const {\n        xFieldType,\n        xFieldIndex,\n        yFieldIndex,\n        x0FieldIndex,\n        y0FieldIndex\n    } = encodingFieldInf;\n    const fieldsLen = Object.keys(fieldsConfig).length;\n    /**\n     * Returns normalized data from transformed data. It recursively traverses through\n     * the transformed data if there it is nested.\n     */\n    return transformedDataArr.map((data) => {\n        const values = transformType === GROUP ? data.values : data;\n        return values.map((d) => {\n            let pointObj = {};\n            let tuple;\n            if (transformType === STACK) {\n                tuple = d.data || [];\n                let y;\n                let y0;\n                let x;\n                let x0;\n                if (d[1] >= d[0]) {\n                    y = x0 = d[1];\n                    x = y0 = d[0];\n                } else {\n                    y = x0 = d[0];\n                    x = y0 = d[1];\n                }\n\n                pointObj = xFieldType === FieldType.MEASURE ? {\n                    x,\n                    x0,\n                    y: tuple[yFieldIndex],\n                    y0: tuple[yFieldIndex]\n                } : {\n                    x: tuple[xFieldIndex],\n                    x0: tuple[xFieldIndex],\n                    y,\n                    y0\n                };\n                pointObj._data = tuple;\n                pointObj._id = tuple[fieldsLen];\n            } else {\n                pointObj = {\n                    x: d[xFieldIndex],\n                    y: d[yFieldIndex],\n                    x0: d[x0FieldIndex],\n                    y0: d[y0FieldIndex]\n                };\n                pointObj._data = d;\n                pointObj._id = d[fieldsLen];\n            }\n            return pointObj;\n        });\n    }).filter(d => d.length);\n};\n\nexport const calculateDomainFromData = (data, encodingFieldInf, transformType) => {\n    const {\n        xFieldSubType,\n        yFieldSubType,\n        xField,\n        yField,\n        x0Field,\n        y0Field\n    } = encodingFieldInf;\n    const domains = {};\n    const yEnc = ENCODING.Y;\n    const xEnc = ENCODING.X;\n    if (xField) {\n        domains.x = getDomainFromData(data, x0Field || transformType === STACK ? [xEnc, ENCODING.X0] : [xEnc, xEnc],\n            xFieldSubType);\n    }\n    if (yField) {\n        domains.y = getDomainFromData(data, y0Field || transformType === STACK ? [ENCODING.Y0, ENCODING.Y] :\n            [yEnc, yEnc], yFieldSubType);\n    }\n\n    return domains;\n};\n\nexport const attachDataToVoronoi = (voronoi, points) => {\n    voronoi.data([].concat(...points).filter(d => d._id !== undefined).map((d) => {\n        const point = d.update;\n        return {\n            x: point.x,\n            y: point.y,\n            data: d\n        };\n    }));\n};\n\n/**\n *\n *\n * @param {*} target\n * @param {*} styles\n * @param {*} remove\n */\nexport const updateStyle = (target, styles, remove) => {\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            target.style(key, remove ? null : styles[key]);\n        }\n    }\n};\n\n/**\n *\n *\n * @param {*} mount\n * @param {*} context\n */\nexport const animateGroup = (mount, context) => {\n    let groupTransition;\n    let update;\n    const { transition, groupAnimateStyle } = context;\n    const { duration, effect, disabled } = transition;\n    if (groupAnimateStyle) {\n        setStyles(mount.node(), groupAnimateStyle.enter);\n        update = groupAnimateStyle.update;\n        if (!disabled) {\n            groupTransition = mount.transition()\n                .ease(easeFns[effect])\n                .duration(duration)\n                .on('end', function () {\n                    updateStyle(selectElement(this), update, true);\n                });\n        } else {\n            groupTransition = mount;\n        }\n        updateStyle(groupTransition, update);\n    }\n};\n\nexport const positionPoints = (context, points) => {\n    const positioner = context.encodingTransform();\n    if (positioner) {\n        return positioner(points, context, { smartLabel: context._dependencies.smartLabel });\n    }\n    return points;\n};\n\n/**\n  * Gets the width of each group. It gets the width from axis if it is available for\n  * example when the scale is nominal else it calculates the width from the\n  * range of the axis and number of data points.\n  *\n  * @param {SimpleAxis} axis instance of axis\n  * @param {number} minDiff Minimum difference between data points\n  * @return {number} width of each bar\n  * @private\n*/\nexport const getGroupSpan = (axis, minDiff) => {\n    let groupSpan;\n    const width = axis.getUnitWidth();\n    const scale = axis.scale();\n    const range = scale.range();\n    const domain = scale.domain();\n    !width ? groupSpan = (Math.abs(range[1] - range[0]) / Math.abs(domain[1] - domain[0])) * minDiff :\n        (groupSpan = width);\n\n    return groupSpan;\n};\n\nexport const getPlotMeasurement = (context, dimensionalValues) => {\n    const fieldInfo = context.encodingFieldsInf();\n    const axes = context.axes();\n    const transformType = context.transformType();\n    const config = context.config();\n    const bandScale = context._bandScale;\n\n    return ['x', 'y'].map((type) => {\n        let span = 0;\n        let groupSpan = 0;\n        let padding = 0;\n        let offsetValues = [];\n        if (fieldInfo[`${type}FieldType`] === FieldType.DIMENSION) {\n            let actualGroupWidth;\n            const isTemporal = fieldInfo[`${type}FieldSubType`] === DimensionSubtype.TEMPORAL;\n            const timeDiff = isTemporal ? context.dataProps().timeDiffs[type] : 0;\n            const axis = axes[type];\n            const pad = config[`pad${type.toUpperCase()}`];\n            const innerPadding = config.innerPadding;\n            const keys = dimensionalValues;\n            const scale = axis.scale();\n            groupSpan = getGroupSpan(axis, timeDiff);\n            const isAxisBandScale = axis.constructor.type() === BAND;\n            const axisPadding = axis.config().padding;\n            // If it is a grouped bar then the width of each bar in a grouping is retrieved from\n            // a band scale. The band scale will have range equal to width of one group of bars and\n            // the domain is set to series keys.\n            if (transformType === 'group') {\n                const groupPadding = isAxisBandScale ? 0 : axisPadding * groupSpan / 2;\n                bandScale.range([groupPadding, groupSpan - groupPadding]).domain(keys).paddingInner(innerPadding);\n                span = bandScale.bandwidth();\n                actualGroupWidth = groupSpan - (isAxisBandScale ? 0 : axisPadding * groupSpan);\n                offsetValues = keys.map(key => bandScale(key) - (isAxisBandScale ? 0 : (groupSpan / 2)));\n            } else if (pad !== undefined) {\n                let offset;\n                if (isAxisBandScale) {\n                    const step = scale.step();\n                    offset = scale.padding() * step;\n                    span = scale.bandwidth() + offset;\n                } else {\n                    span = groupSpan;\n                }\n                offsetValues = keys.map(() => (isAxisBandScale ? -(offset / 2) : -(span / 2)));\n            } else {\n                padding = isAxisBandScale ? 0 : axisPadding * groupSpan;\n                span = groupSpan - padding;\n                actualGroupWidth = span;\n                offsetValues = keys.map(() => (isAxisBandScale ? 0 : -(span / 2)));\n            }\n\n            groupSpan = actualGroupWidth;\n            padding = isAxisBandScale ? axisPadding * axis.scale().step() : axisPadding * groupSpan;\n        }\n\n        return {\n            span,\n            offsetValues,\n            groupSpan,\n            padding\n        };\n    });\n};\n","import { nextFrame } from 'muze-utils';\nimport { getValidTransform, getEncodingFieldInf } from '../helpers';\nimport * as PROPS from '../enums/props';\n\nexport const listenerMap = context => [\n    {\n        props: [PROPS.TRANSFORMED_DATA],\n        listener: fetch => fetch(PROPS.DATA, PROPS.CONFIG, (dataModel, config) => {\n            const dataModelValue = dataModel.value;\n            const configValue = config.value;\n            const encodingValue = configValue && configValue.encoding;\n            if (dataModelValue && encodingValue) {\n                const fieldsConfig = dataModelValue.getFieldsConfig();\n                const encodingFieldsInf = getEncodingFieldInf(encodingValue, fieldsConfig);\n                context.encodingFieldsInf(encodingFieldsInf);\n                context.transformType(getValidTransform(configValue, fieldsConfig, encodingFieldsInf));\n                return context.getTransformedData(dataModelValue, configValue, context.transformType(),\n                    encodingFieldsInf);\n            }\n            return null;\n        }),\n        type: 'computed'\n    },\n    {\n        props: [PROPS.NORMALIZED_DATA],\n        listener: fetch => fetch(PROPS.TRANSFORMED_DATA, (transformedData) => {\n            const transformedDataValue = transformedData.value;\n            if (transformedDataValue) {\n                const fieldsConfig = context.data().getFieldsConfig();\n                return context.getNormalizedData(transformedDataValue, fieldsConfig);\n            }\n            return null;\n        }),\n        type: 'computed'\n    },\n    {\n        props: [PROPS.DOMAIN],\n        listener: fetch => fetch(PROPS.NORMALIZED_DATA, (normalizedData) => {\n            const normalizedDataValue = normalizedData.value;\n            if (normalizedDataValue) {\n                return context.calculateDomainFromData(normalizedDataValue, context.encodingFieldsInf(),\n                    context.data().getFieldsConfig());\n            }\n            return null;\n        }),\n        type: 'computed'\n    },\n    {\n        props: [PROPS.DATA],\n        listener: (data) => {\n            if (data[1]) {\n                nextFrame(() => {\n                    context.store().commit(PROPS.DATA_UPDATED, true);\n                });\n            }\n        },\n        type: 'registerImmediateListener'\n    },\n    {\n        props: [PROPS.MOUNT, PROPS.DATA_UPDATED],\n        listener: (mount, dataUpdated) => {\n            if (mount[1] && dataUpdated[1]) {\n                context.render(mount[1]);\n                context.dependencies().throwback.commit('onlayerdraw', true);\n            }\n        },\n        type: 'registerChangeListener'\n    }\n];\n\n","import { mergeRecursive } from 'muze-utils';\nimport * as PROPS from '../enums/props';\n\nexport const defaultOptions = {\n    [PROPS.CONFIG]: {\n        value: null,\n        meta: {\n            sanitization: (config, oldConfig, context) => {\n                const constructor = context.constructor;\n                const newConf = mergeRecursive({}, constructor.defaultConfig());\n                return constructor.defaultPolicy(newConf, config);\n            }\n        }\n    },\n    [PROPS.DATA]: {\n        value: null,\n        meta: {\n            preset: (data, context) => {\n                if (context._cacheEnabled) {\n                    context._cachedData.push(data);\n                } else {\n                    context._cachedData = [data];\n                }\n            }\n        }\n    },\n    [PROPS.MOUNT]: {\n        value: null\n    },\n    [PROPS.AXES]: {\n        value: null\n    },\n    [PROPS.MEASUREMENT]: {\n        value: null\n    }\n};\n","import {\n    getUniqueId,\n    mergeRecursive,\n    Store,\n    FieldType,\n    selectElement,\n    ReservedFields,\n    registerListeners,\n    transactor,\n    clone\n} from 'muze-utils';\nimport { SimpleLayer } from '../simple-layer';\nimport * as PROPS from '../enums/props';\nimport {\n    transformData,\n    calculateDomainFromData,\n    getNormalizedData,\n    applyInteractionStyle\n} from '../helpers';\nimport { listenerMap } from './listener-map';\nimport { defaultOptions } from './default-options';\n\n/**\n * An abstract class which gives defination of common layer functionality like\n * - transfromation data for various {@link mode}\n * - calculating data domain\n * - linking dependent layers\n * - merging policy of configuration\n * - interaction sideffect helpers\n * - retrieving dom elements from data using id\n * - retrieving the physical dimensions of marks\n * - disposing layer\n *\n * Every layer has to extend base layer and give concrete definition.\n * This layer does not have any default visual. A new layer has to define the logic of `render` for rendering the\n * visuals\n *\n * @public\n * @class\n * @namespace Muze\n */\nexport default class BaseLayer extends SimpleLayer {\n\n    /**\n     * Creates a layer using a configuration and data.\n     *\n     * @public\n     *\n     * @param {DataModel} data Instance of DataModel to be used. This DataModel instance serves as the data for a layer.\n     * @param {Object} axes Axes instances to be used for rendering the layer. Axes are used for mapping data from\n     *      value to px.\n     * @param {SimpleAxis} axes.x X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {SimpleAxis} axes.y X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {ColorAxis} axes.color Axis for coloring a layer using color interpolators\n     * @param {ShapeAxis} axes.shape Axis for providing a shape\n     * @param {SizeAxis} axes.shape Axis for determining size of a mark using size interpolator\n     * @param {LayerConfig} config Configuration of the layer\n     * @param {Object} dependencies Dependencies of the layer\n     * @param {SmartLabel} smartLabel Smartlabel singleton instance\n     */\n    constructor (data, axes, config, dependencies) {\n        super();\n        this.store(new Store({\n            DATA: null,\n            [PROPS.DATA_UPDATED]: null\n        }));\n        transactor(this, defaultOptions, this.store().model);\n        this.data(data);\n        this.axes(axes);\n        this.config(config);\n        this.alias(this.constructor.formalName() + getUniqueId());\n        this.dependencies(dependencies);\n        this._points = [];\n        this._cachedData = [];\n        this._id = getUniqueId();\n        this._measurement = {};\n        registerListeners(this, listenerMap);\n    }\n\n    /**\n     * Creates a layer instance\n     * @return {BaseLayer} Instance of a layer\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Default configuration of the layer. This configuration gets merged to the user passed configuration using a\n     * plolicy. Base layer only returns part of configuraion, any layer overridding base layer should return its own\n     * configuration.\n     *\n     * @public\n     * @static\n     *\n     * @return {Object} Default configuration\n     */\n    static defaultConfig () {\n        return {\n            transform: {\n                type: 'identity'\n            }\n        };\n    }\n\n    /**\n     * Policy defines how user config gets merged to default config. The default policy here does a deep copy\n     * operation.\n     * Any policy which does more than deep copying should define the policy as a static member.\n     *\n     * @static\n     * @public\n     *\n     * @param {LayerConfig} conf Configuration with which the user config will be merged\n     * @param {LayerConfig} userConf Configuration given by the user\n     *\n     * @return {LayerConfig} Merged layer configuration\n     */\n    static defaultPolicy (conf, userConf) {\n        return mergeRecursive(conf, userConf);\n    }\n\n    /**\n     * Determines a name for a layer. This name of the layer is used in the input data to refer to this layer.\n     * ```\n     *  .layer([\n     *      mark: 'bar',\n     *      encoding: { ... }\n     *  ])\n     * ```\n     *\n     * @static\n     * @public\n     *\n     * @returns {string} name of layer\n     */\n    static formalName () {\n        return 'base';\n    }\n\n    store (...store) {\n        if (store.length) {\n            this._store = store[0];\n            return this;\n        }\n        return this._store;\n    }\n\n    encodingFieldsInf (...fieldsInf) {\n        if (fieldsInf.length) {\n            this._encodingFieldsInf = fieldsInf[0];\n            return this;\n        }\n        return this._encodingFieldsInf;\n    }\n\n    encodingTransform (...encodingTransform) {\n        if (encodingTransform.length) {\n            this._encodingTransform = encodingTransform[0];\n            return this;\n        }\n        return this._encodingTransform;\n    }\n\n    /**\n     * Provides a alias for a layer. Like it's possible to have same layer (like bar) multiple times, but among multiple\n     * layers of same type if one layer has to be referred, alias is used. If no alias is given then `formalName` is set\n     * as the alias name.\n     *\n     * @public\n     *\n     * If used as setter\n     * @param  {string} alias Name of the alias\n     * @return {BaseLayer} Instance of current base layer\n     *\n     * If used as getter\n     * @return {string} Alias of the current layer\n     */\n    alias (...params) {\n        if (params.length) {\n            this._alias = params[0];\n            return this;\n        }\n        return this._alias || this.constructor.formalName();\n    }\n\n    dependencies (...params) {\n        if (params.length) {\n            this._dependencies = params[0];\n            return this;\n        }\n        return this._dependencies;\n    }\n\n    enableCaching () {\n        this._cacheEnabled = true;\n        return this;\n    }\n\n    clearCaching () {\n        this._cacheEnabled = false;\n        return this.data(this._cachedData[0]);\n    }\n\n    /**\n     * Serialize the schema. Merge config is used for serialization.\n     *\n     * @public\n     *\n     * @return {LayerConfig} Serialized schema\n     */\n    serialize () {\n        return this.config();\n    }\n\n    /**\n     * Returns the unique identifier of this layer. Id is auto generated during the creation proceess of a schema.\n     *\n     * @return {string} id of the layer\n     */\n    id () {\n        return this._id;\n    }\n\n    /**\n     * Gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @public\n     *\n     * @param {DataModel} dataModel Instance of DataModel\n     * @param {Object} config Configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     */\n    getTransformedData (dataModel, config, transformType, encodingFieldsInf) {\n        return transformData(dataModel, config, transformType, encodingFieldsInf);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a nominal field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @param {Object} fieldsConfig Configuration of fields\n     * @return {Array} Domain values array.\n     */\n    calculateDomainFromData (data) {\n        let domains = {};\n        const isEmpty = this.data().isEmpty();\n\n        if (!isEmpty) {\n            domains = calculateDomainFromData(data, this.encodingFieldsInf(), this.transformType());\n        }\n        return domains;\n    }\n\n    shouldDrawAnchors () {\n        return false;\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getDataDomain (encodingType) {\n        const domains = this.store().get(PROPS.DOMAIN);\n        return encodingType !== undefined ? domains[encodingType] || [] : domains;\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getNormalizedData (transformedData, fieldsConfig) {\n        return getNormalizedData(transformedData, fieldsConfig, this.encodingFieldsInf(), this.transformType());\n    }\n\n    /**\n     * Abstract method for getting nearest point\n     * @return {BaseLayer} Instance of base layer\n     */\n    getNearestPoint () {\n        return null;\n    }\n\n    applyInteractionStyle (interactionType, selectionSet, apply) {\n        const interactionConfig = this.config().interaction || {};\n\n        const interactionStyles = interactionConfig[interactionType];\n        if (interactionStyles) {\n            applyInteractionStyle(this, selectionSet, interactionStyles, {\n                apply,\n                interactionType\n            });\n        }\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BaseLayer\n     */\n    transformType (...transformType) {\n        if (transformType.length) {\n            this._transformType = transformType[0];\n            return this;\n        }\n        return this._transformType;\n    }\n\n    /**\n     * Renders the layer\n     * @return {BaseLayer} Instance of the layer.\n     */\n    render () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BaseLayer\n     */\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Disposes the entire layer\n     * @return {BaseLayer} Instance of layer.\n     */\n    remove () {\n        this.store().unsubscribeAll();\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     * Stores point in an object with key as the categorical value or temporal value\n     *\n     * @param {string} key categorical value or temporal value\n     * @param {Object} data Information of the data point\n     * @return {BarLayer} Instance of bar layer\n     */\n    cachePoint (key, data) {\n        if (key === null) {\n            return this;\n        }\n        const pointMap = this._pointMap;\n        !pointMap[key] && (pointMap[key] = []);\n        pointMap[key].push(data);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} dataProps\n     * @returns\n     * @memberof BaseLayer\n     */\n    dataProps (...dataProps) {\n        if (dataProps.length) {\n            this._dataProps = dataProps[0];\n            return this;\n        }\n        return this._dataProps;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     * @param {*} id\n     * @returns\n     * @memberof BaseLayer\n     */\n    getIdentifiersFromData (data) {\n        const schema = this.data().getData().schema;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const identifiers = [[], []];\n        const {\n                xFieldType,\n                yFieldType,\n                xField,\n                yField\n            } = this.encodingFieldsInf();\n\n        const [xMeasure, yMeasure] = [xFieldType, yFieldType].map(type => type === FieldType.MEASURE);\n        schema.forEach((d, i) => {\n            const name = d.name;\n            if (fieldsConfig[name].def.type === FieldType.DIMENSION) {\n                identifiers[0].push(name);\n                identifiers[1].push(data[i]);\n            }\n        });\n\n        if (xMeasure && yMeasure) {\n            const xMeasureIndex = fieldsConfig[xField].index;\n            const yMeasureIndex = fieldsConfig[yField].index;\n            identifiers[0].push(...[xField, yField]);\n            identifiers[1].push(...[data[xMeasureIndex], data[yMeasureIndex]]);\n        }\n        return identifiers;\n    }\n\n    getPlotSpan () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    getPlotPadding () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     * @returns\n     * @memberof BaseLayer\n     */\n    getPointsFromIdentifiers (identifiers, config = {}) {\n        const getAllAttrs = config.getAllAttrs;\n        const getBBox = config.getBBox;\n        if (!this.data()) {\n            return [];\n        }\n        const fieldNames = identifiers[0];\n        const values = identifiers.slice(1, identifiers.length);\n        const points = this._points;\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPoints = [].concat(...points).filter((point) => {\n            const { _data, _id } = point;\n\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === _data[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === _id) !== -1;\n                } return true;\n            });\n        });\n        return getAllAttrs ? filteredPoints : filteredPoints.map((d) => {\n            const obj = clone(d);\n            if (getBBox) {\n                const update = obj.update || obj;\n                if (obj.size !== undefined) {\n                    const sizeVal = Math.sqrt(obj.size / Math.PI) * 2;\n                    update.width = sizeVal;\n                    update.height = sizeVal;\n                    update.x -= sizeVal / 2;\n                    update.y -= sizeVal / 2;\n                } else {\n                    if (update.width === undefined) {\n                        update.width = 2;\n                    }\n                    if (update.height === undefined) {\n                        update.height = 2;\n                    }\n                }\n            }\n\n            return obj.update || obj;\n        }).sort((a, b) => a.y - b.y);\n    }\n\n    getTransformedDataFromIdentifiers (identifiers) {\n        const { data: identifierData, schema: identifierSchema } = identifiers.getData();\n        const normalizedData = this.store().get(PROPS.NORMALIZED_DATA);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n            yField,\n            xField,\n            yFieldType,\n            xFieldType\n        } = this.encodingFieldsInf();\n        let measureIndex;\n        let enc;\n        if (xFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[xField].index;\n            enc = 'x';\n        } else if (yFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[yField].index;\n            enc = 'y';\n        }\n\n        const transformedData = [];\n        normalizedData.forEach((dataArr) => {\n            dataArr.forEach((dataObj) => {\n                const tupleArr = dataObj._data;\n                const exist = identifierSchema.every((obj, i) =>\n                    identifierData.findIndex(d => tupleArr[fieldsConfig[obj.name].index] === d[i]) !== -1);\n                if (exist) {\n                    const transformedVal = dataObj[enc];\n                    const row = dataObj._data;\n                    const tuple = {};\n                    for (const key in fieldsConfig) {\n                        const index = fieldsConfig[key].index;\n                        tuple[key] = row[index];\n                        if (index === measureIndex) {\n                            tuple[key] = transformedVal;\n                        }\n                    }\n                    transformedData.push(tuple);\n                }\n            });\n        });\n\n        return [transformedData, this.data().getData().schema];\n    }\n\n    /**\n     *\n     *\n     * @param {*} set\n     * @returns\n     * @memberof BaseLayer\n     */\n    getPlotElementsFromSet (set) {\n        return selectElement(this.mount()).selectAll(this.elemType()).filter(data => set.indexOf(data._id) !== -1);\n    }\n}\n","import {\n    selectElement,\n    makeElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\nimport { updateStyle } from '../../helpers';\n\nconst line = Symbols.line;\n\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nexport const drawLine = (context) => {\n    let filteredPoints;\n    const { container, points, interpolate, connectNullData, className, style } = context;\n    const mount = selectElement(container).attr('class', className);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const linepath = line()\n                .curve(curveInterpolatorFn)\n                .x(d => d.update.x)\n                .y(d => d.update.y)\n                .defined(d => d.update.y !== null);\n\n    filteredPoints = points;\n    if (connectNullData) {\n        filteredPoints = points.filter(d => d.update.y !== null);\n    }\n\n    updateStyle(mount, style);\n    return makeElement(mount, 'path', [1])\n                    .transition()\n                    .duration(1000)\n                    .attr('d', linepath(filteredPoints))\n                    .style('fill-opacity', 0);\n};\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-line',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: 'group'\n    },\n    interaction: {\n        highlight: [{\n            type: 'stroke',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'stroke',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'stroke',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    nearestPointThreshold: 20,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 1\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n\n","import {\n    Voronoi,\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    FieldType,\n    getObjProp\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { drawLine } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport * as PROPS from '../../enums/props';\nimport { attachDataToVoronoi, animateGroup, getLayerColor, positionPoints } from '../../helpers';\n\nimport './styles.scss';\n\n/**\n * Line Layer creates a line plot.\n * Example :-\n * const config = {\n *  encoding = {\n *      x: {\n *          field: 'date'\n *      },\n *      y: {\n *          field: 'sales'\n *      }\n *  }\n * };\n * const linelayer = layerFactory.getLayer('line', [dataModel, axes, config]);\n * linelayer.render(container);\n * @class\n */\nexport default class LineLayer extends BaseLayer {\n\n    /**\n     *Creates an instance of LineLayer.\n     * @param {*} args\n     * @memberof LineLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof LineLayer\n     */\n    static formalName () {\n        return 'line';\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof LineLayer\n     */\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Default configuration of line layer\n     * @return {Object} Default configuration of layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @param {*} conf\n     * @param {*} userConf\n     * @returns\n     * @memberof LineLayer\n     */\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     * Returns the draw method for line\n     * @return {Function} Draw method of line layer\n     */\n    getDrawFn () {\n        return drawLine;\n    }\n\n    /**\n     * Applies selection styles to the elements that fall within the selection set.\n     * @param {Array} selectionSet Array of tuple ids.\n     * @param {Object} config Configuration for selection.\n     * @return {BarLayer} Instance of bar layer.\n     */\n    highlightPoint () {\n        return this;\n    }\n\n    /**\n     * Removes selection styles to the elements that fall within the selection set.\n     * @param {Array} selectionSet Array of tuple ids.\n     * @param {Object} config Configuration for selection.\n     * @return {BarLayer} Instance of bar layer.\n     */\n    dehighlightPoint () {\n        return this;\n    }\n\n    focusSelection () {\n        return this;\n    }\n\n    focusOutSelection () {\n        return this;\n    }\n\n    fadeOutSelection () {\n        return this;\n    }\n\n    unfadeSelection () {\n        return this;\n    }\n\n    shouldDrawAnchors () {\n        return true;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @param {number} seriesIndex index of series\n     * @return {Array} Array of points\n     */\n    translatePoints (data, encodingFieldsInf, axes) {\n        let points = [];\n        const xAxis = axes.x;\n        const yAxis = axes.y;\n        const colorAxis = axes.color;\n        const encoding = this.config().encoding;\n        const { xFieldType, yFieldType } = encodingFieldsInf;\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding.field;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const colorFieldIndex = colorField && fieldsConfig[colorField].index;\n        const style = {};\n        const meta = {};\n\n        points = data.map((d, i) => {\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y);\n            const { color, rawColor } = getLayerColor({ datum: d, index: i }, {\n                colorEncoding, colorAxis, colorFieldIndex });\n\n            style.stroke = color;\n            style['fill-opacity'] = 0;\n            meta.stateColor = {};\n            meta.originalColor = rawColor;\n            meta.colorTransform = {};\n\n            const point = {\n                enter: {},\n                update: {\n                    x: xPx,\n                    y: d.y === null ? null : yPx\n                },\n                style,\n                _data: d._data,\n                _id: d._id,\n                rowId: d._id,\n                source: d._data,\n                meta\n            };\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    /**\n     * Renders the line plot\n     * @param {SVGElement} container svg element\n     * @return {LineLayer} instance of line layer\n     */\n    render (container) {\n        let points;\n        let seriesClassName;\n        let style;\n\n        const config = this.config();\n        const {\n            encoding,\n            interpolate,\n            className,\n            defClassName,\n            transition\n        } = config;\n        const store = this._store;\n        const normalizedData = store.get(PROPS.NORMALIZED_DATA);\n        const transformedData = store.get(PROPS.TRANSFORMED_DATA);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const keys = transformedData.map(d => d.key);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const containerSelection = selectElement(container);\n        const colorField = encoding.color.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n        const colorFieldMeasure = fieldsConfig[colorField] && fieldsConfig[colorField].def.type === FieldType.MEASURE;\n\n        this._points = [];\n        this._pointMap = {};\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        makeElement(container, 'g', normalizedData, null, {\n            enter: (group) => {\n                animateGroup(group, {\n                    transition,\n                    groupAnimateStyle: {\n                        enter: {\n                            'stroke-opacity': 0,\n                            'fill-opacity': this.getPathStyle()['fill-opacity']\n                        },\n                        update: {\n                            'stroke-opacity': encoding.strokeOpacity.value\n                        }\n                    }\n                });\n            },\n            update: (group, dataArr, i) => {\n                points = this.translatePoints(dataArr, this.encodingFieldsInf(), axes, i);\n                this._points.push(points);\n                seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n\n                if (!colorFieldMeasure) {\n                    style = points[0].style;\n                }\n                this.getDrawFn()({\n                    container: group.node(),\n                    interpolate,\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: style || {},\n                    connectNullData: config.connectNullData\n                });\n            }\n        }, d => d[0]._data[colorFieldIndex] || d[0]._id);\n\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            stroke: color,\n            'fill-opacity': '0'\n        };\n    }\n\n    /**\n     * Gets the nearest point closest to the given position\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point information\n     */\n    getNearestPoint (x, y, config) {\n        let searchRadius = config.searchRadius;\n        const data = this.data();\n\n        if (!data || (data && data.isEmpty())) {\n            return null;\n        }\n\n        searchRadius = searchRadius !== undefined ? searchRadius : this.config().nearestPointThreshold;\n        const point = this._voronoi.find(x, y, searchRadius);\n        const dimensions = getObjProp(point, 'data', 'data', 'update');\n\n        if (point) {\n            const { _data, _id } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(_data, _id);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: 2,\n                    height: 2\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n}\n","import {\n    easeFns,\n    selectElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\n\nconst area = Symbols.area;\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nconst /* istanbul ignore next */ drawArea = (params) => {\n    let filteredPoints;\n    const { container, points, style, transition, className, connectNullData, interpolate } = params;\n\n    const { effect: easeEffect, duration } = transition;\n    const mount = selectElement(container);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const selection = mount.selectAll('path').data([params.points]);\n    const [enterAreaPath, updateAreaPath] = ['enter', 'update'].map(e => area().curve(curveInterpolatorFn)\n                    .x(d => d[e].x)\n                    .y1(d => d[e].y)\n                    .y0(d => d[e].y0)\n                    .defined(d => d[e].y !== null\n            ));\n\n    filteredPoints = points;\n    mount.attr('class', className);\n    if (connectNullData) {\n        filteredPoints = points.filter(d => d.update.y !== null);\n    }\n    const selectionEnter = selection.enter().append('path').attr('d', enterAreaPath(filteredPoints));\n    selection.merge(selectionEnter).transition().ease(easeFns[easeEffect])\n                    .duration(duration)\n                    .attr('d', updateAreaPath(filteredPoints))\n                    .each(function () {\n                        const element = selectElement(this);\n                        Object.keys(style).forEach(key => element.style(key, style[key]));\n                    });\n};\n\nexport default drawArea;\n","import { FieldType } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { LineLayer } from '../line';\nimport drawArea from './renderer';\nimport './styles.scss';\nimport { STACK, ENCODING } from '../../enums/constants';\nimport { getAxesScales, positionPoints, getLayerColor } from '../../helpers';\n\n/**\n * Area Layer creates a area plot.\n * @example\n * const config = {\n *  encoding = {\n *      x: {\n *          field: 'date'\n *      },\n *      // Top y value\n *      y: {\n *          field: 'maxTemp'\n *      },\n *      // Base y value\n *      y0: {\n *          field: 'minTemp\n *      }\n *  }\n * };\n * const areaLayer = layerFactory.getLayer('area', [dataModel, axes, config]);\n * areaLayer.render(container);\n * @class\n */\nexport default class AreaLayer extends LineLayer {\n    /** oation of line layer\n     * @return {Object} Default configuration of layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof AreaLayer\n     */\n    static formalName () {\n        return 'area';\n    }\n\n    /**\n     * Calculates the domain from data. It calls its parent class's method which is line layer\n     * to get the domain and overwrites the domain according to its need.\n     * @return {Array} Domain values\n     */\n    calculateDomainFromData (data, encodingFieldsInf, fieldsConfig) {\n        const domains = super.calculateDomainFromData(data, fieldsConfig);\n        [ENCODING.X, ENCODING.Y].forEach((type) => {\n            const { [`${type}FieldType`]: fieldType } = encodingFieldsInf;\n            if (fieldType === FieldType.MEASURE) {\n                domains[type][0] = Math.min(domains[type][0], 0);\n            }\n        });\n        return domains;\n    }\n\n    /**\n     * Returns the drawing method of this layer\n     * @return {Function} Draw method\n     */\n    getDrawFn () {\n        return drawArea;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @return {Array} Array of points\n     */\n    translatePoints (data, encodingFieldsInf, axes) {\n        let points = [];\n        const transformType = this.transformType();\n        const colorAxis = axes.color;\n        const encoding = this.config().encoding;\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding.field;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const colorFieldIndex = colorField && fieldsConfig[colorField].index;\n        const { xField, yField, y0Field } = encodingFieldsInf;\n        const {\n            xAxis,\n            yAxis\n       } = getAxesScales(axes);\n\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n        points = data.map((d, i) => {\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y);\n            const y0Px = (y0Field || transformType === STACK) ? yAxis.getScaleValue(d.y0) : yAxis.getScaleValue(0);\n            const { color, rawColor } = getLayerColor({ datum: d, index: i }, {\n                colorEncoding, colorAxis, colorFieldIndex });\n            const style = {};\n            const meta = {};\n            style.fill = color;\n            // style['fill-opacity'] = 0;\n            meta.stateColor = {};\n            meta.originalColor = rawColor;\n            meta.colorTransform = {};\n            const point = {\n                enter: {\n                    x: xPx,\n                    y: d.y === null ? d.y : yAxis.getScaleValue(0),\n                    y0: d.y0 === null ? d.y0 : yAxis.getScaleValue(0)\n                },\n                update: {\n                    x: xPx,\n                    y: d.y === null ? d.y : yPx,\n                    y0: d.y0 === null ? d.y0 : y0Px\n                },\n                _id: d._id,\n                _data: d._data,\n                source: d._data,\n                rowId: d._id,\n                style,\n                meta\n            };\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            fill: color\n        };\n    }\n}\n\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-arc',\n    padding: { top: 1, bottom: 1, left: 1, right: 1 },\n    className: '',\n    minOuterRadius: 10,\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    height: 100,\n    width: 100,\n    sort: '',\n    cornerRadius: 0,\n    padAngle: 0,\n    padRadius: 0,\n    startAngle: 0,\n    endAngle: 360,\n    colors: ['#F44336', 'blue', 'green', 'yellow', 'orange', 'purple'],\n    transform: {\n        type: 'identity'\n    },\n    encoding: {\n        'stroke-width': {\n            value: '2px'\n        },\n        'stroke-linejoin': {\n            value: 'round'\n        },\n        angle: {\n            value: '1'\n        },\n        radius: {\n            value: '1'\n        },\n        opacity: {\n            value: '1'\n        },\n        color: {\n            value: '1'\n        },\n        shape: {\n            value: '1'\n        },\n        size: {\n            value: '1'\n        }\n    },\n    innerRadiusFixer: 10,\n    transition: {\n        effect: 'cubic',\n        duration: 500\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-arc-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-arc-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-arc-selected`\n        }\n    }\n};\n\n","import {\n    makeElement,\n    selectElement,\n    getQualifiedClassName,\n    isSimpleObject,\n    getDomainFromData,\n    Symbols,\n    FieldType,\n    ReservedFields\n} from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { BaseLayer } from '../../base-layer';\nimport * as PROPS from '../../enums/props';\nimport { ASCENDING, OUTER_RADIUS_VALUE } from '../../enums/constants';\nimport { getRangeValue, getRadiusRange, tweenPie, tweenExitPie, getFieldIndices, getPreviousPoint } from './arc-helper';\nimport './styles.scss';\n\nconst pie = Symbols.pie;\nconst arc = Symbols.arc;\n\n/**\n * Arc Layer creates a plot with polar coordinates\n * Example :-\n * const config = {\n *  height: 100,\n *  width: 100,\n *  startAngle: 0,\n * endAngle: Math.PI,\n * cornerRadius: 10,\n * minOuterRadius: 10,\n * outerRadius: 10,\n * innerRadius: 5,\n * padAngle: 2,\n * padRadius: 2,\n * colors: []\n * padding: {top: 10, bottom: 10, left: 10, right: 10},\n *  encoding = {\n *      angle: {\n *          field: 'date' //Maps to angle of arc\n *      },\n *      radius: {\n *          field: 'sales' // Maps to radius of arc\n *      }\n *  }\n * };\n * @class\n */\nexport default class ArcLayer extends BaseLayer {\n\n    constructor (data, axes, config, dependencies) {\n        super(data, axes, config, dependencies);\n        this._prevPieData = {};\n    }\n\n    /**\n     * returns the default configuration of the layer\n     *\n     * @static\n     * @return {Object} Default configuration for arc layer\n     * @memberof ArcLayer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof ArcLayer\n     */\n    static formalName () {\n        return 'arc';\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ArcLayer\n     */\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Transforms data in the appropriate data structure to be consumed by the layer for rendering\n     *\n     * @param {Object} data data model associated with the layer\n     * @param {Object} config configuration of the layer that contains encoding and other parameters\n     * @return {Object} Transformed pie data\n     * @memberof ArcLayer\n     */\n    getTransformedData (dataModel, config) {\n        let pieData = [];\n        const pieIndex = {};\n        const {\n            startAngle,\n            endAngle,\n            encoding,\n            sort,\n            minOuterRadius\n        } = config;\n        const prevData = this._store.get(PROPS.TRANSFORMED_DATA) || [];\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n            angleIndex,\n            sizeIndex,\n            radiusIndex,\n            colorIndex\n        } = getFieldIndices(encoding, fieldsConfig);\n        const dataVal = dataModel.getData();\n        const data = dataVal.data;\n        const uids = dataVal.uids;\n\n        this._prevPieData = {};\n\n        prevData.forEach((e, index) => {\n            this._prevPieData[e.uid] = [e, index];\n            pieIndex[e.index] = e;\n        });\n        // Creating pie data using angle field provided. If the angle field is a dimension,\n        // all the angles will be equal(360/number of dimensions)\n\n        pieData = pie()\n            .startAngle((startAngle / 180) * Math.PI)\n            .endAngle(Math.PI * endAngle / 180)\n            .value(d => d[angleIndex] || 1)\n            .sortValues(null);\n\n        sort.length && radiusIndex && pieData.sort((a, b) => {\n            if (sort === ASCENDING) {\n                return a[radiusIndex] - b[radiusIndex];\n            } return b[radiusIndex] - a[radiusIndex];\n        });\n        const sizeVal = data.reduce((acc, d) => acc + (d[sizeIndex] || 0), 1);\n\n        // Adding the radius field values to each data point in pie data\n        pieData = pieData(data).map((d, i) => {\n            d.outerRadiusValue = data[i][radiusIndex] || minOuterRadius;\n            d.innerRadius = config.innerRadius;\n            d.colorVal = data[i][colorIndex];\n            d.angleVal = data[i][angleIndex];\n            d.sizeVal = sizeVal;\n            d.uid = uids[i];\n            d.rowId = d.uid;\n            d.source = data[i];\n            d._previousInfo = this._prevPieData[d.uid] ? this._prevPieData[d.uid][0] :\n                getPreviousPoint(pieIndex, d.index, config);\n            return d;\n        });\n        return pieData;\n    }\n\n    /**\n     * Returns normalized data after transformation (it is the same in the case of pie layer)\n     *\n     * @param {Object} data transformed data\n     * @return {Object} normalized data\n     * @memberof ArcLayer\n     */\n    getNormalizedData (data) {\n        return data;\n    }\n\n    /**\n     *\n     *\n     * @param {Object} data\n     * @return {}\n     * @memberof ArcLayer\n     */\n    calculateDomainFromData (data) {\n        const domainKey = OUTER_RADIUS_VALUE;\n        return {\n            radius: getDomainFromData([data], [domainKey, domainKey])\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {Object} x\n     * @param {Object} y\n     * @return {}\n     * @memberof ArcLayer\n     */\n    getNearestPoint (x, y, config = {}) {\n        const dataPoint = selectElement(config.event.target).data()[0];\n        if (isSimpleObject(dataPoint)) {\n            const { data, uid } = dataPoint.datum;\n            return {\n                id: this.getIdentifiersFromData(data, uid),\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    /**\n     *\n     *\n     * @param {*} set\n     * @returns\n     * @memberof ArcLayer\n     */\n    getPlotElementsFromSet (set) {\n        return selectElement(this.mount()).selectAll(this.elemType()).filter(d => set.indexOf(d.datum.uid) !== -1);\n    }\n\n    /**\n     *\n     *\n     * @param {Object} container\n     * @return {}\n     * @memberof ArcLayer\n     */\n    render (container) {\n        const {\n            height,\n            width\n        } = this.measurement();\n        const {\n            classPrefix,\n            defClassName,\n            minOuterRadius,\n            innerRadius,\n            outerRadius,\n            cornerRadius,\n            padAngle,\n            padRadius,\n            padding,\n            transition,\n            innerRadiusFixer\n       } = this.config();\n        const sizeAxis = this.axes().size;\n        const store = this._store;\n        const chartHeight = height - padding.top - padding.bottom;\n        const chartWidth = width - padding.left - padding.right;\n        const qualClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        // Sets range for radius\n        const range = getRadiusRange(chartWidth, chartHeight, {\n            minOuterRadius,\n            innerRadius,\n            outerRadius,\n            innerRadiusFixer\n        });\n        const colorAxis = this.axes().color;\n        const defaultRadius = outerRadius || Math.min(chartHeight, chartWidth) / 2;\n        const radiusDomain = store.get(PROPS.DOMAIN).radius;\n        const rangeValueGetter = d => getRangeValue(d, range, radiusDomain, defaultRadius, sizeAxis);\n        // This returns a function that generates the arc path based on the datum provided\n        const path = arc()\n                // .outerRadius(d => rangeValueGetter(d))\n                .innerRadius(innerRadius ? Math.min(chartHeight / 2, chartWidth / 2, innerRadius) : 0)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle)\n                .padRadius(padRadius);\n        this._chartWidth = chartWidth;\n        this._chartHeight = chartHeight;\n        // Creating the group that holds all the arcs\n        const g = makeElement(selectElement(container), 'g', [1], `${qualClassName[0]}-group`)\n                .classed(`${qualClassName[1]}-group`, true)\n                .attr('transform', `translate(${chartWidth / 2},${chartHeight / 2})`);\n\n        const tween = (elem) => {\n            makeElement(elem, 'path', (d, i) => [{\n                datum: d,\n                index: i,\n                arcFn: path,\n                meta: {\n                    originalColor: colorAxis.getRawColor(d.colorVal),\n                    stateColor: {},\n                    colorTransform: {}\n                }\n            }], `${qualClassName[0]}-path`)\n                            .attr('fill', d => colorAxis.getColor(d.datum.colorVal))\n                            .transition()\n                            .duration(transition.duration)\n                            .attrTween('d', (...params) => tweenPie(path, rangeValueGetter, params))\n                            .attr('class', d => `${qualClassName[0]}-path ${qualClassName[1]}-path-${d.index}`);\n        };\n        const consecutiveExits = [];\n        let exitCounter = 0;\n        const tweenExit = (elem, d) => {\n            let exitArr = consecutiveExits[exitCounter];\n            const oldExitCounter = exitCounter;\n            if (!exitArr) {\n                exitArr = [{ elem, datum: d }];\n            } else if (exitArr[exitArr.length - 1].datum.index === d.index - 1) {\n                exitArr.push({ elem, datum: d });\n            } else {\n                exitCounter++;\n            }\n            consecutiveExits[oldExitCounter] = exitArr;\n        };\n        // Creating groups for all the arcs present individually\n        makeElement(g, 'g', store.get(PROPS.TRANSFORMED_DATA), `${qualClassName[0]}`,\n            {\n                update: tween,\n                exit: tweenExit\n            })\n                        .attr('class', (d, i) => `${qualClassName[0]} ${qualClassName[1]}-${i}`);\n        tweenExitPie(consecutiveExits, transition, rangeValueGetter, path);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     * @returns\n     * @memberof BaseLayer\n     */\n    getPointsFromIdentifiers (identifiers) {\n        if (!this.data()) {\n            return [];\n        }\n        const fieldNames = identifiers[0];\n        const values = identifiers.slice(1, identifiers.length);\n        const pieSlices = selectElement(this.mount()).selectAll('path').data();\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPies = pieSlices.filter((tData) => {\n            const data = tData.datum.data;\n            const uid = tData.datum.uid;\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === data[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === uid) !== -1;\n                } return true;\n            });\n        });\n\n        const pieSliceInf = filteredPies[0];\n        if (pieSliceInf) {\n            const centroid = pieSliceInf.arcFn.centroid(pieSliceInf.datum);\n            return [{\n                x: centroid[0] + this._chartWidth / 2,\n                y: centroid[1] + this._chartHeight / 2,\n                width: 2,\n                height: 2\n            }];\n        }\n        return [];\n    }\n}\n\n","import { getObjProp, interpolator, FieldType, selectElement } from 'muze-utils';\nimport { ANGLE, RADIUS, SIZE, COLOR } from '../../enums/constants';\n\n/**\n * Returns the range value from a value inside the domain\n *\n * @param {Object} domainValue Value whose range has to be returned\n * @return {number} range value\n * @memberof ArcLayer\n */\nexport const getRangeValue = (datum, range, domain, defaultRadius, sizeAxis) => {\n    let domainMultiplier = 1;\n    const {\n        outerRadiusValue,\n        sizeVal\n    } = datum;\n    const sizeAxisDomain = sizeAxis.domain();\n    const sizeMultiplier = sizeAxis.getSize(sizeVal) / (sizeAxisDomain ? sizeAxis.range()[1] : sizeAxis.config().value);\n\n    domainMultiplier *= (range[1] - range[0]) / (domain[1] - domain[0]);\n    const rangeVal = (range[0] + (outerRadiusValue - domain[0]) * domainMultiplier);\n    return (rangeVal || defaultRadius) * sizeMultiplier;\n};\n\n/**\n *\n *\n * @memberof ArcLayer\n */\nexport const getRadiusRange = (width, height, config) => {\n    const {\n        minOuterRadius,\n        innerRadius,\n        outerRadius,\n        innerRadiusFixer\n    } = config;\n\n    return [Math.max((innerRadius + innerRadiusFixer || 0), minOuterRadius), outerRadius || Math.min(height,\n        width) / 2];\n};\nexport const getPreviousPoint = (prevData, currIndex, config) => {\n    const prevArc = prevData[currIndex - 1];\n    const nextArc = prevData[currIndex];\n\n    if (prevArc && nextArc) {\n        return {\n            startAngle: prevArc.endAngle,\n            endAngle: nextArc.startAngle\n        };\n    } else if (!nextArc) {\n        return {\n            startAngle: config.endAngle * Math.PI * 2 / 360,\n            endAngle: config.endAngle * Math.PI * 2 / 360\n        };\n    }\n    return {\n        startAngle: config.startAngle * Math.PI * 2 / 360,\n        endAngle: config.startAngle * Math.PI * 2 / 360\n    };\n};\n\n/**\n *\n *\n * @param {*} path\n * @param {*} b\n * @returns\n * @memberof ArcLayer\n */\nexport const tweenPie = (path, rangeValueGetter, b) => {\n    const { datum } = b[0];\n    const outerRadius = rangeValueGetter(datum);\n    datum.outerRadius = outerRadius;\n    datum._previousInfo.outerRadius = datum._previousInfo.outerRadius || outerRadius;\n    return function (t) {\n        return path(interpolator()(datum._previousInfo, datum)(t));\n    };\n};\n\n/**\n *\n *\n * @param {*} path\n * @param {*} b\n * @returns\n * @memberof ArcLayer\n */\nexport const tweenExitPie = (consecutiveExits, transition, rangeValueGetter, path) => {\n    if (consecutiveExits.length > 0) {\n        consecutiveExits.forEach((consecutiveExitArr) => {\n            const startAngle = consecutiveExitArr[0].datum.startAngle;\n            const endAngle = consecutiveExitArr[consecutiveExitArr.length - 1].datum.endAngle;\n            const mid = (Math.PI * 2 * startAngle) / ((Math.PI * 2) + startAngle - endAngle);\n\n            consecutiveExitArr.forEach((e) => {\n                const { elem, datum } = e;\n\n                elem.each(function () {\n                    const gElem = selectElement(this);\n                    gElem.selectAll('path')\n                                    .transition()\n                                    .duration(transition.duration)\n                                    .attrTween('d', () => function (t) {\n                                        const outerRadius = rangeValueGetter(datum);\n                                        datum.outerRadius = outerRadius;\n                                        return path(interpolator()(datum, {\n                                            startAngle: mid,\n                                            endAngle: mid,\n                                            outerRadius\n                                        })(t));\n                                    })\n                                    .remove();\n                    gElem.remove();\n                });\n            });\n        });\n    }\n};\n\nexport const getFieldIndices = (encoding, fieldsConfig) => {\n    const [angleField, radiusField, colorField, sizeField] = [ANGLE, RADIUS, COLOR, SIZE]\n            .map(e => encoding[e].field);\n    const [angleIndex, sizeIndex, radiusIndex] = [angleField, sizeField, radiusField]\n        .map((e) => {\n            const conf = fieldsConfig[e];\n            if (conf && conf.def.type === FieldType.MEASURE) {\n                return conf.index;\n            }\n            return null;\n        });\n    const colorIndex = getObjProp(fieldsConfig, colorField, 'index');\n    return {\n        angleIndex,\n        sizeIndex,\n        radiusIndex,\n        colorIndex\n    };\n};\n","import {\n    setAttrs,\n    setStyles,\n    selectElement,\n    makeElement,\n    getSmartComputedStyle\n} from 'muze-utils';\n\n/**\n * Draws svg text in the specified container.\n * @param {SVGElement} container Container where labels will be appended.\n * @param {Array.<Object>} data Data of the elements.\n * @return {Selection} d3 selection of the elements.\n */\nconst drawText = (container, data, config, smartLabel) => {\n    const { backgroundPadding } = config;\n\n    const selection = selectElement(container).selectAll('g').data(data);\n\n    const selectionMerge = selection.enter().append('g')\n        .each(function (dataObj) {\n            setAttrs(this, dataObj.enter);\n        })\n        .merge(selection);\n    const style = getSmartComputedStyle(selectElement(container), config.className);\n    const fontSize = parseInt(style.fontSize, 10);\n\n    smartLabel.setStyle(style);\n    selectionMerge.each(function (dataObj) {\n        const element = selectElement(this);\n        const { update, background, text, color, textanchor } = dataObj;\n        if (config.backgroundEnabled) {\n            let diff;\n            const { width, height } = smartLabel.getOriSize(dataObj.text);\n            const backgroundEl = makeElement(element, 'rect', [1]);\n\n            if (textanchor === 'end') {\n                diff = width;\n            } else if (textanchor === 'start') {\n                diff = 0;\n            } else {\n                diff = width / 2;\n            }\n\n            setAttrs(backgroundEl.node(), {\n                x: update.x - diff - backgroundPadding / 2,\n                y: update.y - fontSize - backgroundPadding / 2,\n                width: width + backgroundPadding,\n                height: height + backgroundPadding\n            });\n            background && setStyles(backgroundEl, {\n                background\n            });\n        }\n        const textEl = makeElement(element, 'text', d => [d]).text(text);\n        const textNode = textEl.node();\n        color && setStyles(textNode, {\n            fill: color\n        });\n        setAttrs(textNode, update);\n        textEl.attr('text-anchor', textanchor);\n    });\n    selection.exit().remove();\n    return selection;\n};\n\nexport default drawText;\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-text',\n    classPrefix: CLASSPREFIX,\n    className: '',\n    transform: {\n        type: 'identity'\n    },\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        color: {},\n        text: {\n            value: ''\n        },\n        background: {\n            padding: 10,\n            enabled: false\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-text-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-text-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-text-selected`\n        }\n    }\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    setStyles,\n    createElements\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport drawText from './renderer';\nimport { defaultConfig } from './default-config';\nimport { getLayerColor, positionPoints } from '../../helpers';\nimport { TEXT_ANCHOR_MIDDLE, ENCODING } from '../../enums/constants';\nimport * as PROPS from '../../enums/props';\n\nimport './styles.scss';\n\n/**\n * Text Layer creates labels. It needs to be passed a data table, axes and configuration\n * of the layer.\n * Example :-\n * const textLayer = layerFactory.getLayer('text', [dataModel, axes, config]);\n * textLayer.render(container);\n * @class\n */\nexport default class TextLayer extends BaseLayer {\n    /**\n     * Returns the default configuration of the text layer\n     * @return {Object} Default configuration of the text layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'text';\n    }\n\n    elemType () {\n        return 'text';\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, encoding, axes) {\n        let points;\n        const colorAxis = axes.color;\n        const textEncoding = encoding.text;\n        const { field: textField, value, formatter: textFormatter } = textEncoding;\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding && colorEncoding.field;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const backgroundField = encoding.background.field;\n        const backgroundFieldIndex = backgroundField ? fieldsConfig[backgroundField].index : -1;\n        const colorFieldIndex = colorField ? fieldsConfig[colorField].index : -1;\n        const textFieldIndex = textField ? fieldsConfig[textField] && fieldsConfig[textField].index : -1;\n        const xEnc = ENCODING.X;\n        const yEnc = ENCODING.Y;\n\n        points = data.map((d, i) => {\n            const row = d._data;\n            const textValue = textField ? row[textFieldIndex] : value;\n\n            const [xPx, yPx] = [xEnc, yEnc].map(type => (axes[type] ? axes[type].getScaleValue(d[type]) +\n                    axes[type].getUnitWidth() / 2 : 0));\n\n            const { color, rawColor } = getLayerColor({ datum: d, index: i },\n                { colorEncoding, colorAxis, colorFieldIndex });\n\n            return {\n                enter: {},\n                update: {\n                    x: xPx,\n                    y: yPx\n                },\n                text: textFormatter ? textFormatter(textValue) : textValue,\n                color,\n                background: colorAxis.getColor(d._data[backgroundFieldIndex]),\n                meta: {\n                    stateColor: {},\n                    originalColor: rawColor,\n                    colorTransform: {}\n                },\n                _data: row,\n                _id: d._id,\n                source: d._data,\n                rowId: d._id\n            };\n        });\n        points = positionPoints(this, points);\n\n        return points;\n    }\n\n    /**\n     * Renders the plot in the given container\n     * @param  {SVGElement} container SVGElement which will hold the plot\n     * @return {textLayer} Instance of text layer\n     */\n    render (container) {\n        let points;\n        const config = this.config();\n        const encoding = config.encoding;\n        const normalizedData = this._store.get(PROPS.NORMALIZED_DATA);\n        const className = config.className;\n        const backgroundPadding = encoding.background.padding;\n        const backgroundEnabled = encoding.background.enabled || encoding.background.field;\n        const qualifiedClassName = getQualifiedClassName(config.defClassName, this.id(), config.classPrefix);\n        const axes = this.axes();\n        const containerSelection = selectElement(container);\n\n        containerSelection.classed(`${qualifiedClassName.join(' ')} ${className}`, true);\n        createElements({\n            data: normalizedData,\n            append: 'g',\n            selector: 'g',\n            container,\n            each: (dataArr, group, i) => {\n                const node = group.node();\n                points = this.translatePoints(dataArr, encoding, axes, i);\n                setStyles(node, {\n                    'text-anchor': TEXT_ANCHOR_MIDDLE\n                });\n                drawText(node, points, {\n                    className: qualifiedClassName[0],\n                    backgroundPadding,\n                    backgroundEnabled\n                }, this._dependencies.smartLabel);\n            }\n        });\n        return this;\n    }\n}\n","/* global Element, document  */\nimport {\n    makeElement,\n    selectElement,\n    easeFns,\n    objectIterator,\n    getSymbol\n} from 'muze-utils';\n\n/**\n *\n *\n * @param {*} str\n * @returns\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, elem) {\n    const groupElement = selectElement(elem);\n    const { shape, size, update } = d;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            createShape(d, elem);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        if (newShape.nodeName === 'path' || newShape.nodeName === 'image') {\n            shapeElement.attr('transform', `scale(${size / 100})`);\n        } else {\n            shapeElement.attr('height', size);\n            shapeElement.attr('width', size);\n        }\n        shapeElement.attr('x', -size / 2);\n        shapeElement.attr('y', -size / 2);\n        selectElement(groupElement.node().appendChild(newShape));\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = getSymbol(shape).size(size)(update);\n        }\n        makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n    } else {\n        d.shape = 'circle';\n        createShape(d, elem);\n    }\n};\n\n/**\n * Draws symbols using d3 symbol api\n * @param {Object} params Contains the svg container, points and other symbol related attributes.\n */\n/* istanbul ignore next */ const drawSymbols = (params) => {\n    let mergedGroups;\n    const { container, points, transition, className } = params;\n    const { duration, effect, disabled } = transition;\n    const mount = selectElement(container);\n\n    mount.attr('class', className);\n    const symbolGroups = mount.selectAll('g').data(points, params.keyFn);\n    const symbolEnter = symbolGroups.enter().append('g').attr('transform', d => `translate(${d.enter.x},${d.enter.y})`);\n    mergedGroups = symbolGroups.merge(symbolEnter)\n                    .each(function (d) {\n                        createShape(d, this);\n                    });\n    mergedGroups = disabled ? mergedGroups : mergedGroups.transition().duration(disabled ? 0 : transition.duration);\n    mergedGroups.attr('transform', d => `translate(${d.update.x},${d.update.y})`)\n                    .each(function (d) {\n                        const style = d.style;\n                        const element = selectElement(this);\n                        objectIterator(style, key => element.style(key, style[key]));\n                        element.attr('class', `${className}`);\n                        element.classed(d.className, true);\n                    });\n\n    const exitGroups = symbolGroups.exit();\n    if (!disabled) {\n        exitGroups.transition().ease(easeFns[effect])\n                        .duration(duration)\n                        .on('end', function () {\n                            selectElement(this).remove();\n                        })\n                        .style('fill-opacity', 0)\n                        .style('stroke-opacity', 0);\n    } else {\n        exitGroups.remove();\n    }\n};\n\nexport default drawSymbols;\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-point',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    defColorStyle: 'stroke',\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -20, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }\n        ]\n    },\n    innerPadding: 0.1,\n    nearestPointThreshold: 10,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        size: {\n            value: 30\n        },\n        color: { },\n        shape: {\n            value: 'circle'\n        },\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    shapes: ['circle', 'cross', 'diamond', 'square', 'star', 'wye', 'triangle'],\n    sizes: [20, 30, 40, 50, 60, 70]\n};\n","import {\n    Voronoi,\n    selectElement,\n    getQualifiedClassName,\n    makeElement,\n    FieldType,\n    Scales\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport drawSymbols from './renderer';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport * as PROPS from '../../enums/props';\nimport { attachDataToVoronoi, getLayerColor, positionPoints, getPlotMeasurement } from '../../helpers';\n\nimport './styles.scss';\n\n/**\n * Point Layer creates point. Itt needs to be passed a data table, axes and configuration\n * of the layer.\n * Example :-\n * const pointLayer = layerFactory.getLayer('point', [data, axes, config]);\n * pointLayer.render(container);\n * @class\n */\nexport default class PointLayer extends BaseLayer {\n\n    /**\n     * Creates an instance of PointLayer.\n     * @param {*} args\n     * @memberof PointLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n        this._bandScale = Scales.band();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof PointLayer\n     */\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Returns the default configuration of the point layer\n     * @return {Object} Default configuration of the point layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof PointLayer\n     */\n    static formalName () {\n        return 'point';\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof PointLayer\n     */\n    static drawFn () {\n        return drawSymbols;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, encoding, axes, config = {}) {\n        let points = [];\n        const {\n            size: sizeEncoding,\n            shape: shapeEncoding,\n            color: colorEncoding,\n            x,\n            y\n        } = encoding;\n        const sizeField = sizeEncoding.field;\n        const shapeField = shapeEncoding.field;\n        const xField = x.field;\n        const yField = y.field;\n        const { size: sizeAxis, shape: shapeAxis } = axes;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const colorField = colorEncoding && colorEncoding.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n        const measurement = this._store.get(PROPS.MEASUREMENT);\n        const shapeFieldIndex = fieldsConfig[shapeField] && fieldsConfig[shapeField].index;\n        const sizeFieldIndex = fieldsConfig[sizeField] && fieldsConfig[sizeField].index;\n        const colorAxis = axes.color;\n        const { x: offsetX, y: offsetY } = config.offset;\n\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const row = d._data;\n            const size = sizeAxis.getSize(row[sizeFieldIndex]);\n            const shape = shapeAxis.getShape(row[shapeFieldIndex]);\n\n            let [xPx, yPx] = [ENCODING.X, ENCODING.Y].map((type) => {\n                const value = d[type] === null ? undefined : d[type];\n                const measure = type === ENCODING.X ? measurement.width : measurement.height;\n                return !encoding[type].field ? measure / 2 : axes[type].getScaleValue(value);\n            });\n\n            xPx += offsetX;\n            yPx += offsetY;\n\n            const { color, rawColor } = getLayerColor({ datum: d, index: i },\n                { colorEncoding, colorAxis, colorFieldIndex });\n\n            const style = {\n                fill: color,\n                stroke: color\n            };\n\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = {\n                    enter: {\n                        x: xPx,\n                        y: yPx\n                    },\n                    update: {\n                        x: xPx,\n                        y: yPx\n                    },\n                    shape,\n                    size: Math.abs(size),\n                    meta: {\n                        stateColor: {},\n                        originalColor: rawColor,\n                        colorTransform: {}\n                    },\n                    style,\n                    _data: row,\n                    _id: d._id,\n                    source: d._data,\n                    rowId: d._id\n                };\n                points.push(point);\n                this.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    /**\n     * Renders the plot in the given container.\n     *\n     * @param  {SVGElement} container SVGElement which will hold the plot\n     * @return {BarLayer} Instance of bar layer\n     */\n    render (container) {\n        let maxSize = 0;\n        let seriesClassName;\n        const config = this.config();\n        const keys = this._store.get(PROPS.TRANSFORMED_DATA).map(d => d.key);\n        const { transition, className, defClassName, classPrefix } = config;\n        const normalizedData = this._store.get(PROPS.NORMALIZED_DATA);\n        const containerSelection = selectElement(container);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        this._points = [];\n        this._pointMap = {};\n\n        containerSelection.classed(qualifiedClassName.join(' '), true).classed(className, true);\n\n        this._points = this.generateDataPoints(normalizedData, keys);\n\n        makeElement(container, 'g', this._points, null, {\n            update: (group, points) => {\n                maxSize = Math.max(maxSize, ...points.map(d => d.size));\n                seriesClassName = `${qualifiedClassName[0]}`;\n                this.constructor.drawFn()({\n                    container: group.node(),\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    keyFn: d => d._id\n                });\n            }\n        }, data => data[0]._id);\n        this._maxSize = Math.sqrt(maxSize / Math.PI) * 2;\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    generateDataPoints (normalizedData, keys) {\n        const encoding = this.config().encoding;\n        const axes = this.axes();\n        const [widthMetrics, heightMetrics] = getPlotMeasurement(this, keys);\n        const offsetXValues = widthMetrics.offsetValues || [];\n        const offsetYValues = heightMetrics.offsetValues || [];\n        return normalizedData.map((dataArr, i) => {\n            const measurementConf = this.getMeasurementConfig(offsetXValues[i], offsetYValues[i], widthMetrics.span,\n                heightMetrics.span);\n            return this.translatePoints(dataArr, encoding, axes, measurementConf);\n        }).filter(d => d.length);\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0) + widthSpan / 2,\n                y: (offsetY || 0) + heightSpan / 2\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n\n    /**\n     * Gets the nearest point from a position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Point details\n     */\n    getNearestPoint (x, y) {\n        const distanceLimit = Math.max(this._maxSize, this.config().nearestPointThreshold);\n\n        if (!this.data()) {\n            return null;\n        }\n\n        const point = this._voronoi.find(x, y, distanceLimit);\n        const dimensions = point && point.data.data.update;\n        const radius = point ? Math.sqrt(point.data.data.size / Math.PI) : 0;\n\n        if (point) {\n            const { _data, _id } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(_data, _id);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: radius,\n                    height: radius\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n}\n","import { makeElement, easeFns } from 'muze-utils';\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} datum\n * @param {*} index\n * @param {*} context\n */\nconst transitionBars = (elem, datum, index, context) => {\n    const { transition, classnameFn } = context;\n    const { duration, disabled, effect } = transition;\n    const selection = elem;\n    const selTransition = disabled ? selection : selection.transition().duration(duration).ease(easeFns[effect]);\n    const update = datum.update || datum;\n    const updateStyle = datum.style || {};\n    classnameFn && selection.classed(classnameFn(datum, index), true);\n    Object.entries(update).forEach(attr => (!isNaN(attr[1]) && selTransition.attr(attr[0], attr[1])));\n    Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n};\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} d\n */\nconst barEnterFn = (elem, d) => {\n    const selection = elem;\n    const enter = d.enter || {};\n    Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n};\n\n/**\n * Draws rectangles by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Bar Selection\n */\n/* istanbul ignore next */ export const drawRects = (params) => {\n    const { points, container, keyFn } = params;\n    const updateFns = {\n        enter (elem, d) { barEnterFn(elem, d); },\n        update (elem, d, i) { transitionBars(elem, d, i, params); }\n    };\n    return makeElement(container, 'rect', points, null, updateFns, keyFn);\n};\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-bar',\n    className: '',\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    transform: {\n        type: 'stack'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    innerPadding: 0.1,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        x0: {},\n        y0: {}\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-bar-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-bar-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-bar-selected`\n        }\n    }\n};\n\n","import { FieldType, DimensionSubtype } from 'muze-utils';\nimport * as PROPS from '../../enums/props';\nimport { STACK } from '../../enums/constants';\nimport { getLayerColor, positionPoints } from '../../helpers';\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fieldInfo\n * @param {*} config\n * @param {*} data\n * @returns\n */\nconst resolveDimByField = (type, axesInfo, config, data) => {\n    const spaceType = type === 'x' ? 'width' : 'height';\n    const [fieldType, axis] = [config[`${type}FieldType`], axesInfo[`${type}Axis`]];\n    const {\n        transformType,\n        sizeEncoding,\n        sizeConfig,\n        measurement\n    } = config;\n\n    const sizeValue = sizeEncoding.value;\n    let enter = 0;\n    let pos;\n    let space = 0;\n    let enterSpace = 0;\n    if (fieldType !== undefined) {\n        if (config[`${type}0Field`]) {\n            const minVal = data[type];\n            const maxVal = data[`${type}0`];\n            let min;\n            let max;\n            if (minVal === null || maxVal === null) {\n                return {\n                    enterSpace: undefined,\n                    enter: undefined,\n                    pos: undefined,\n                    space: undefined\n                };\n            } else if (fieldType === FieldType.MEASURE || fieldType === DimensionSubtype.TEMPORAL) {\n                min = Math.min(minVal, maxVal);\n                max = Math.max(minVal, maxVal);\n            } else {\n                min = minVal;\n                max = maxVal;\n            }\n            const scales = type === 'x' ? [min, max] : [max, min];\n            pos = axis.getScaleValue(scales[0]) + axis.getUnitWidth() / 2;\n            space = Math.abs(axis.getScaleValue(scales[1]) - pos) + axis.getUnitWidth() / 2;\n\n            enter = pos;\n            enterSpace = 0;\n        } else if (fieldType === DimensionSubtype.CATEGORICAL || fieldType === DimensionSubtype.TEMPORAL) {\n            pos = axis.getScaleValue(data[type]) +\n                (sizeConfig[type === 'x' ? 'barWidthOffset' : 'barHeightOffset'] || 0);\n\n            space = sizeConfig[type === 'x' ? 'barWidth' : 'barHeight'];\n            if (sizeValue !== undefined) {\n                const diffPx = sizeValue * space;\n                space -= diffPx;\n                pos += diffPx / 2;\n            }\n            enter = pos;\n            enterSpace = space;\n        } else {\n            const zeroPos = axis.getScaleValue(0);\n            const axisType = axis.getScaleValue(data[type]);\n            const axisType0 = axis.getScaleValue(data[`${type}0`]);\n\n            enterSpace = 0;\n            if (type === 'x') {\n                pos = data[type] < 0 || transformType === STACK ? axisType : zeroPos;\n                space = Math.abs(pos - (transformType === STACK ? axisType0 : (data[type] >= 0 ? axisType : zeroPos)));\n            } else {\n                pos = transformType === STACK || data[type] >= 0 ? axisType : zeroPos;\n                space = Math.abs(pos - (transformType === STACK ? axisType0 : (data[type] >= 0 ? zeroPos : axisType)));\n            }\n            enter = zeroPos;\n        }\n    } else {\n        pos = 0;\n        space = measurement[spaceType];\n    }\n\n    return {\n        enterSpace,\n        enter,\n        pos,\n        space\n    };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} config\n * @param {*} axes\n * @returns\n */\nconst resolveDimensions = (data, config, axes) => {\n    const axesInfo = {\n        xAxis: axes.x,\n        yAxis: axes.y\n    };\n    const {\n        enterSpace: enterWidth,\n        enter: enterX,\n        pos: xPos,\n        space: width\n    } = resolveDimByField('x', axesInfo, config, data);\n\n    const {\n        enterSpace: enterHeight,\n        enter: enterY,\n        pos: yPos,\n        space: height\n    } = resolveDimByField('y', axesInfo, config, data);\n    return {\n        enter: {\n            x: enterX,\n            y: enterY,\n            width: enterWidth,\n            height: enterHeight\n        },\n        update: {\n            x: xPos,\n            y: yPos,\n            width,\n            height\n        }\n    };\n};\n\n/**\n * Generates an array of objects containing x, y, width and height of the bars from the data\n * @param  {Array.<Array>} data Data Array\n * @param  {Object} encoding  Config\n * @param  {Object} axes     Axes object\n * @param {Object} conf config object for point generation\n * @return {Array.<Object>}  Array of points\n */\nexport const getTranslatedPoints = (context, data, sizeConfig) => {\n    let points = [];\n    const encoding = context.config().encoding;\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const fieldsConfig = context.data().getFieldsConfig();\n    const colorEncoding = encoding.color;\n    const colorField = colorEncoding.field;\n    const sizeEncoding = encoding.size || {};\n    const {\n            x0Field,\n            y0Field,\n            xFieldSubType,\n            yFieldSubType\n        } = context.encodingFieldsInf();\n    const measurement = context._store.get(PROPS.MEASUREMENT);\n    const isXDim = xFieldSubType === DimensionSubtype.CATEGORICAL || xFieldSubType === DimensionSubtype.TEMPORAL;\n    const isYDim = yFieldSubType === DimensionSubtype.CATEGORICAL || yFieldSubType === DimensionSubtype.TEMPORAL;\n    const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n    const transformType = context.transformType();\n    const colorFieldIndex = colorField && fieldsConfig[colorField] && fieldsConfig[colorField].index;\n\n    for (let i = 0, len = data.length; i < len; i++) {\n        const d = data[i];\n        const style = {};\n        const meta = {};\n        const dimensions = resolveDimensions(d, {\n            xFieldType: xFieldSubType,\n            yFieldType: yFieldSubType,\n            x0Field,\n            y0Field,\n            transformType,\n            measurement,\n            sizeConfig,\n            sizeEncoding\n        }, axes);\n\n        const { color, rawColor } = getLayerColor({ datum: d, index: i },\n            { colorEncoding, colorAxis, colorFieldIndex });\n\n        style.fill = color;\n        meta.stateColor = {};\n        meta.originalColor = rawColor;\n        meta.colorTransform = {};\n\n        const update = dimensions.update;\n\n        if (!isNaN(update.x) && !isNaN(update.y) && d._id !== undefined) {\n            let point = null;\n            point = {\n                enter: dimensions.enter,\n                update,\n                style,\n                _data: d._data,\n                _id: d._id,\n                source: d._data,\n                rowId: d._id,\n                meta\n            };\n            points.push(point);\n            // Store each point in a hashmap with key as the dimensional or temporal field value\n            context.cachePoint(d[key], point);\n        }\n    }\n\n    points = positionPoints(context, points);\n    return points;\n};\n","import {\n    getClosestIndexOf,\n    getQualifiedClassName,\n    selectElement,\n    createElements,\n    clipElement,\n    DimensionSubtype,\n    FieldType,\n    Scales\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { drawRects } from './renderer';\nimport { defaultConfig } from './default-config';\nimport * as PROPS from '../../enums/props';\nimport { getPlotMeasurement } from '../../helpers';\nimport './styles.scss';\nimport { getTranslatedPoints } from './bar-helper';\n\nconst MEASURE = FieldType.MEASURE;\nconst scaleBand = Scales.band;\n\n/**\n * Bar Layer creates a bar plot. It needs to be passed a data table, axes and configuration of the layer.\n *\n * @example\n * const BarLayer = layerFactory.getLayer('bar');\n * BarLayer.create()\n *  .config(config)\n *  .data(dt)\n *  .mountPoint(container);\n * @class\n */\nexport default class BarLayer extends BaseLayer {\n    /**\n     * Creates an instance of bar layer\n     */\n    constructor (...params) {\n        super(...params);\n        this._bandScale = scaleBand();\n        this._plotPadding = {\n            x: 0,\n            y: 0\n        };\n        this._plotSpan = {\n            x: 0,\n            y: 0\n        };\n        this._pointMap = {};\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BarLayer\n     */\n    elemType () {\n        return 'rect';\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof BarLayer\n     */\n    static formalName () {\n        return 'bar';\n    }\n\n    /**\n     * Returns the default configuration of the bar layer\n     * @return {Object} Default configuration of the bar layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @param {*} conf\n     * @param {*} userConf\n     * @returns\n     * @memberof BarLayer\n     */\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const colorField = encoding.color.field;\n        const transform = config.transform;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     * @param {*} fieldsConfig\n     * @returns\n     * @memberof BarLayer\n     */\n    calculateDomainFromData (data, encodingFieldInf, fieldsConfig) {\n        const domain = super.calculateDomainFromData(data, encodingFieldInf, fieldsConfig);\n        ['x', 'y'].forEach((d) => {\n            if (encodingFieldInf[`${d}FieldType`] === MEASURE && domain[d]) {\n                encodingFieldInf[`${d}0Field}`] ? domain[d] = domain[d].sort((a, b) => a - b) :\n                    (domain[d][0] = Math.min(domain[d][0], 0));\n            }\n        });\n        return domain;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the bars from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @param {Object} conf config object for point generation\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, sizeConfig) {\n        return getTranslatedPoints(this, data, sizeConfig);\n    }\n\n    /**\n     * Renders the plot in the given container\n     * @param  {SVGGroup} container SVGGroup where plot will be rendered.\n     * @return {BarLayer} Instance of bar layer.\n     */\n    render (container) {\n        const config = this.config();\n        const transition = config.transition;\n        const store = this._store;\n        const normalizedDataArr = store.get(PROPS.NORMALIZED_DATA);\n        const transformedData = store.get(PROPS.TRANSFORMED_DATA);\n        const keys = transformedData.map(d => d.key);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const height = axes.y && axes.y.scale().range()[0];\n        const width = axes.x && axes.x.scale().range()[1];\n        const defClassName = config.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const className = config.className;\n        const containerSelection = selectElement(container);\n        const dimensions = Object.values(fieldsConfig).filter(e => e.def.type === FieldType.DIMENSION)\n            .map(e => e.index);\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        clipElement(container, {\n            x: 0,\n            y: 0,\n            width,\n            height\n        }, `id-${this.id()}`);\n\n        this._points = this.generateDataPoints(normalizedDataArr, keys);\n\n        createElements({\n            data: this._points,\n            container,\n            selector: 'g',\n            append: 'g',\n            each: (points, group, i) => {\n                const seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n                group.style('display', 'block');\n                drawRects({\n                    container: group.node(),\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: {},\n                    keyFn: d => dimensions.map(key => d._data[key]).join('-'),\n                    classnameFn: config.individualClassName\n                });\n            }\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} normalizedData\n     * @param {*} keys\n     * @returns\n     * @memberof BarLayer\n     */\n    generateDataPoints (normalizedData, keys) {\n        const [barWidthMetrics, barHeightMetrics] = getPlotMeasurement(this, keys);\n        const barWidthOffsets = barWidthMetrics.offsetValues || [];\n        const barHeightOffsets = barHeightMetrics.offsetValues || [];\n        this._plotSpan = {\n            x: barWidthMetrics.groupSpan || 0,\n            y: barHeightMetrics.groupSpan || 0\n        };\n        this._plotPadding = {\n            x: barWidthMetrics.padding || 0,\n            y: barHeightMetrics.padding || 0\n        };\n\n        this._pointMap = {};\n        return normalizedData.map((data, i) => this.translatePoints(data,\n            {\n                barWidth: barWidthMetrics.span,\n                barWidthOffset: barWidthOffsets[i] || 0,\n                barHeight: barHeightMetrics.span,\n                barHeightOffset: barHeightOffsets[i] || 0\n            }));\n    }\n\n    getPlotPadding () {\n        return this._plotPadding;\n    }\n\n    /**\n     * Gets the nearest point of the position passed.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point.\n     */\n    getNearestPoint (x, y) {\n        if (!this.data()) {\n            return null;\n        }\n        let axis;\n        let value;\n        let index;\n        let points;\n        let uniqueFieldType;\n        let uniqueFieldIndex;\n        let filterData;\n        let identifiers;\n        let pointFound = null;\n        const dataModel = this.data();\n        const dataObj = dataModel.getData();\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const axes = this.axes();\n        const data = dataObj.data;\n        const pointMap = this._pointMap;\n        const {\n                xField,\n                yField,\n                xFieldSubType,\n                yFieldSubType\n            } = this.encodingFieldsInf();\n\n        if (xFieldSubType === FieldType.MEASURE) {\n            axis = axes.y;\n            value = axis.invert(y);\n            uniqueFieldIndex = fieldsConfig[yField].index;\n            uniqueFieldType = yFieldSubType;\n        } else {\n            axis = axes.x;\n            value = axis.invert(x);\n            uniqueFieldIndex = fieldsConfig[xField].index;\n            uniqueFieldType = xFieldSubType;\n        }\n\n        if (uniqueFieldType === DimensionSubtype.CATEGORICAL) {\n            points = pointMap[value];\n        }\n\n        if (uniqueFieldType === DimensionSubtype.TEMPORAL) {\n            filterData = [...new Set(data.map(d => d[uniqueFieldIndex]))];\n            index = getClosestIndexOf(filterData, value);\n            value = filterData[index];\n            points = pointMap[value];\n        }\n        const len = points && points.length;\n        points && points.sort((p1, p2) => p1.update.y - p2.update.y);\n        for (let i = 0; i < len; i++) {\n            const point = points[i];\n            const update = point.update;\n            if (x >= update.x && x <= (update.width + update.x) && y >= update.y && y <= (update.height + update.y)) {\n                pointFound = point;\n                break;\n            }\n            pointFound = null;\n        }\n\n        const values = pointFound && pointFound._data;\n        if (values) {\n            identifiers = this.getIdentifiersFromData(values, pointFound._id);\n        }\n        return pointFound ? {\n            dimensions: [pointFound.update],\n            id: identifiers,\n            layerId: this.id()\n        } : pointFound;\n    }\n\n    getPlotSpan () {\n        return this._plotSpan;\n    }\n}\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-tick',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    interaction: {\n        highlight: [{\n            type: 'stroke',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'stroke',\n            intensity: [0, 0, 15, 0]\n        }],\n        focus: [{\n            type: 'stroke',\n            intensity: [0, 0, 15, 0]\n        }]\n    },\n    innerPadding: 0.1,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        color: { },\n        x: {},\n        y: {},\n        x0: {},\n        y0: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-tick-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-tick-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-tick-selected`\n        }\n    }\n};\n","import { selectElement } from 'muze-utils';\n\n/**\n * Draws ticks by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Ticks Selection\n */\nexport default /* istanbul ignore next */ (params) => {\n    const { points, container, keyFn, className } = params;\n    const mount = selectElement(container);\n    const ticks = mount.selectAll('path').data(points, keyFn);\n    const ticksEnter = ticks.enter().append('path');\n\n    mount.attr('class', className || '');\n    ticksEnter.each(function (d) {\n        const selection = selectElement(this);\n        const enter = d.enter || {};\n        Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n    });\n\n    ticks.exit().remove();\n    return ticks.merge(ticksEnter)\n                    .each(function (d) {\n                        const selection = selectElement(this);\n                        const update = d.update;\n                        const updateStyle = d.style || {};\n                        const x0 = update.x0 !== undefined ? update.x0 : update.x;\n                        const y0 = update.y0 !== undefined ? update.y0 : update.y;\n                        const path = `M ${update.x} ${update.y} L ${x0} ${y0}`;\n                        d.className && selection.classed(d.className, true);\n                        selection.attr('d', path);\n                        Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n                    });\n};\n\n","import { FieldType } from 'muze-utils';\nimport { PointLayer } from '../point';\nimport { defaultConfig } from './default-config';\nimport * as PROPS from '../../enums/props';\nimport { ENCODING } from '../../enums/constants';\nimport drawTicks from './renderer';\nimport './styles.scss';\nimport { getAxesScales, getLayerColor, positionPoints } from '../../helpers';\n\nexport default class TickLayer extends PointLayer {\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof TickLayer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof TickLayer\n     */\n    static formalName () {\n        return 'tick';\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof TickLayer\n     */\n    static drawFn () {\n        return drawTicks;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof TickLayer\n     */\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, encoding, axes, config = {}) {\n        let points = [];\n        const {\n                xAxis,\n                yAxis\n            } = getAxesScales(axes);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const individualClassName = this.config().individualClassName;\n        const {\n                xField,\n                yField,\n                x0Field,\n                y0Field,\n                xFieldType,\n                yFieldType\n            } = this.encodingFieldsInf();\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding && colorEncoding.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n        const measurement = this._store.get(PROPS.MEASUREMENT);\n        const colorAxis = axes.color;\n        const { x: offsetX, y: offsetY } = config.offset;\n        const { x: xSpan, y: ySpan } = config.span;\n        for (let i = 0, len = data.length; i < len; i++) {\n            let xPx;\n            let x0Px;\n            let y0Px;\n            let yPx;\n            const d = data[i];\n            const row = d._data;\n            if (xField) {\n                xPx = xAxis.getScaleValue(d.x) + offsetX;\n                x0Px = xPx + xSpan;\n            }\n\n            if (yField) {\n                yPx = yAxis.getScaleValue(d.y) + offsetY;\n                y0Px = yPx !== null ? yPx + ySpan : null;\n            }\n\n            if (!xField) {\n                xPx = 0;\n                x0Px = measurement.width;\n                if (!isNaN(yPx)) {\n                    yPx += ySpan / 2;\n                    y0Px = yPx;\n                }\n            }\n\n            if (!yField) {\n                yPx = 0;\n                y0Px = measurement.height;\n                x0Px = xPx += xSpan / 2;\n            }\n\n            if (x0Field) {\n                x0Px = xAxis.getScaleValue(d.x0) + xSpan;\n                yPx += ySpan / 2;\n                y0Px -= ySpan / 2;\n            }\n\n            if (y0Field) {\n                y0Px = yAxis.getScaleValue(d.y0) + ySpan;\n                xPx += xSpan / 2;\n                x0Px -= xSpan / 2;\n            }\n            const style = {};\n            const meta = {};\n            const { color, rawColor } = getLayerColor({ datum: d, index: i },\n                { colorEncoding, colorAxis, colorFieldIndex });\n\n            style.stroke = color;\n            meta.stateColor = {};\n            meta.originalColor = rawColor;\n            meta.colorTransform = {};\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = {\n                    enter: {},\n                    update: {\n                        x: xPx,\n                        y: yPx,\n                        x0: x0Px,\n                        y0: y0Px\n                    },\n                    style,\n                    _data: row,\n                    _id: d._id,\n                    source: row,\n                    rowId: d._id,\n                    meta\n                };\n                if (individualClassName instanceof Function) {\n                    point.className = individualClassName(d, i);\n                }\n\n                points.push(point);\n                this.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0),\n                y: (offsetY || 0)\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n}\n","import { isSimpleObject, mergeRecursive, getObjProp } from 'muze-utils';\n\nconst parseLayerDefinition = (sink, definition, layerDef, layerType) => {\n    for (const key in definition) {\n        if (Object.hasOwnProperty.call(definition, key)) {\n            let strs;\n            let propValue;\n            const def = definition[key];\n            if (isSimpleObject(def)) {\n                sink[key] = {};\n                parseLayerDefinition(sink[key], def, layerDef, layerType);\n            } else if (typeof def === 'string' && (strs = def.split('.')) && strs[0] === layerType) {\n                propValue = getObjProp(layerDef, ...strs.slice(1, strs.length));\n                if (propValue !== undefined) {\n                    sink[key] = propValue;\n                }\n            } else {\n                sink[key] = def;\n            }\n        }\n    }\n};\n\nconst sanitizeEncoding = (encoding) => {\n    // Create object for each encoding value if encoding value is a string\n    for (const key in encoding) {\n        if (typeof encoding[key] === 'string') {\n            encoding[key] = {\n                field: encoding[key]\n            };\n        }\n    }\n};\n\n/**\n * Layer Factory creates layers based on the layer type. All types of layers needs to register in\n * the layer factory. For getting a layer instance, getLayer method needs to invoked with the\n * layerType and other arguments.\n */\nconst layerFactory = (() => {\n    const compositeLayers = {};\n    const factoryObj = {\n        setLayerRegistry: (reg) => {\n            factoryObj._layerRegistry = reg;\n        },\n        getSerializedConf: (mark, layerDef) => {\n            let serializedDefs;\n            const defs = compositeLayers[mark];\n            const newConf = mergeRecursive({}, layerDef);\n\n                // If it is a composite layer then resolve all the definitions of each unit layer\n            if (defs) {\n                serializedDefs = defs.map((unitLayerDef) => {\n                    const sDef = {};\n                    parseLayerDefinition(sDef, unitLayerDef, newConf, mark);\n                    sanitizeEncoding(sDef.encoding);\n                    return sDef;\n                });\n            } else {\n                const encoding = newConf.encoding;\n                // Create object for each encoding value if encoding value is a string\n                sanitizeEncoding(encoding);\n                serializedDefs = newConf;\n            }\n\n            return serializedDefs;\n        },\n        getLayerInstance: (layerDef) => {\n            const layerRegistry = factoryObj._layerRegistry;\n            layerDef = !(layerDef instanceof Array) ? [layerDef] : layerDef;\n            const instances = layerDef.map((layerObj) => {\n                const layerConstructor = layerRegistry[layerObj.mark];\n                return layerConstructor.create();\n            });\n            return instances.length === 1 ? instances[0] : instances;\n        },\n        composeLayers: (layerType, layerDefs) => {\n            compositeLayers[layerType] = layerDefs;\n        }\n    };\n    return factoryObj;\n})();\n\nexport default layerFactory;\n","import { AreaLayer } from './layers/area';\nimport { ArcLayer } from './layers/arc';\nimport { LineLayer } from './layers/line';\nimport { TextLayer } from './layers/text';\nimport { PointLayer } from './layers/point';\nimport { BarLayer } from './layers/bar';\nimport { BaseLayer } from './base-layer';\nimport * as CONSTANTS from './enums/constants';\nimport { TickLayer } from './layers/tick';\n\nexport const DEFAULT_LAYERS = {\n    [CONSTANTS.AREA_LAYER]: AreaLayer,\n    [CONSTANTS.ARC_LAYER]: ArcLayer,\n    [CONSTANTS.LINE_LAYER]: LineLayer,\n    [CONSTANTS.TEXT_LAYER]: TextLayer,\n    [CONSTANTS.POINT_LAYER]: PointLayer,\n    [CONSTANTS.TICK_LAYER]: TickLayer,\n    [CONSTANTS.BAR_LAYER]: BarLayer,\n    [CONSTANTS.BASE_LAYER]: BaseLayer\n};\n","/**\n * This file exports constants that are used as enums in the\n *  crosstab group implementation.\n */\n/**\n * Width of the crosstab.\n */\nexport const X = 'x';\n/**\n * Width of the crosstab.\n */\nexport const Y = 'y';\n/**\n * Width of the crosstab.\n */\nexport const WIDTH = 'width';\n\n/**\n * Height of the crosstab.\n */\nexport const HEIGHT = 'height';\n\n/**\n * Field referring to object storing measurement configuration.\n */\nexport const MEASUREMENT = 'measurement';\n\n/**\n * Field referring to object storing configuration properties.\n */\nexport const CONFIG = 'config';\n\n/**\n * Width of visual unit in crosstab.\n */\nexport const MIN_UNIT_WIDTH = 'minUnitWidth';\n\n/**\n * Height of visual unit.\n */\nexport const MIN_UNIT_HEIGHT = 'minUnitHeight';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSIONS = 'dimensions';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURES = 'measures';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSION = 'dimension';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURE = 'measure';\n\n/**\n * Flag to specify if model should be pivoted.\n */\nexport const PIVOT = 'pivot';\n\n/**\n * Flag to specify format\n */\nexport const FORMAT = 'format';\n\n/**\n * Mount point where the variable will be hosted\n */\nexport const MOUNT = 'mount';\n\n/**\n * Data update flag\n */\nexport const HAS_DATA_UPDATED = 'hasDataUpdated';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROWS = 'rows';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMNS = 'columns';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COL = 'col';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROW = 'row';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMN = 'column';\n\n/**\n * Field referring to object storing color field\n */\nexport const COLOR = 'color';\n\n/**\n * Field referring to object storing shape field\n */\nexport const SHAPE = 'shape';\n\n/**\n * Field referring to object storing size field\n */\nexport const SIZE = 'size';\n\n/**\n * Field referring to object storing detail field\n */\nexport const DETAIL = 'detail';\n\n/**\n * Field referring to object storing set of layers\n */\nexport const LAYERS = 'layers';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const TRANSFORM = 'transform';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const ORDINAL = 'ordinal';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const LINEAR = 'linear';\n/**\n * Field referring to object storing the transforms\n */\nexport const LEFT = 'left';\n/**\n * Field referring to object storing the transforms\n */\nexport const RIGHT = 'right';\n/**\n * Field referring to object storing the transforms\n */\nexport const TOP = 'top';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTTOM = 'bottom';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const RETINAL = 'retinal';\n/**\n * Field referring to object storing the transforms\n */\nexport const CELL = 'cell';\n/**\n * Field referring to object storing the transforms\n */\nexport const X_AXES = 'xAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const Y_AXES = 'yAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const ENTRY_CELLS = 'entryCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const INITIALIZED = 'initialized';\n/**\n * Field referring to object storing the transforms\n */\nexport const EXIT_CELLS = 'exitCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const AXIS = 'axis';\n/**\n * Field referring to object storing the transforms\n */\nexport const UNIT = 'unit';\n/**\n * Field referring to object storing the transforms\n */\nexport const UPDATED = 'updated';\n/**\n * Field referring to object storing the transforms\n */\nexport const BEFORE_UPDATE = 'beforeupdate';\n/**\n * Field referring to object storing the transforms\n */\nexport const VALUE_MATRIX = 'valueMatrix';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET_HEADERS = 'facet-headers';\n/**\n * Field referring to object storing the transforms\n */\nexport const RADIUS = 'radius';\n/**\n * Field referring to object storing the transforms\n */\nexport const ANGLE = 'angle';\n/**\n * Field referring to object storing the transforms\n */\nexport const ARC = 'arc';\n/**\n * Field referring to object storing the transforms\n */\nexport const CARTESIAN = 'cartesian';\n/**\n * Field referring to object storing the transforms\n */\nexport const POLAR = 'polar';\n/**\n * Field referring to object storing the transforms\n */\nexport const CATEGORICAL = 'categorical';\n/**\n * Field referring to object storing the transforms\n */\nexport const TEMPORAL = 'temporal';\n/**\n * Field referring to object storing the transforms\n */\nexport const BAR = 'bar';\n/**\n * Field referring to object storing the transforms\n */\nexport const LINE = 'line';\n/**\n * Field referring to object storing the transforms\n */\nexport const POINT = 'point';\n/**\n * Field referring to object storing the transforms\n */\nexport const PRIMARY = 'Primary';\n/**\n * Field referring to object storing the transforms\n */\nexport const SECONDARY = 'Secondary';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTH = 'both';\n/**\n * Field referring to object storing the transforms\n */\nexport const INTERACTION = 'interaction';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_LINES = 'gridLines';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_BANDS = 'gridBands';\n/**\n * Field referring to object storing the transforms\n */\nexport const HEADER = 'header';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET = 'facet';\n\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\n/**\n * @module\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Artboard.\n * Artboard merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n */\n\nexport default {\n    [CONFIG]: {},\n    [ROWS]: [],\n    [COLUMNS]: [],\n    [COLOR]: '',\n    [SHAPE]: '',\n    [SIZE]: '',\n    [DETAIL]: '',\n    [LAYERS]: '',\n    [TRANSFORM]: []\n};\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * Interfaces for VisualGroup. Any new VisualGroup has to implement this class.\n * @class  SimpleGroup\n */\nclass SimpleGroup {\n\n    /**\n     * This method is used to set or get the DataModel instance.\n     *\n     * @param {DataModel | undefined} dataModel Instance of datamodel.\n\n     * @memberof  SimpleGroup\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to set or get the group specific configuration\n     * properties\n     *\n     * @param {Object | undefined} configObj The input configuration.\n     *                                or instance of visual group.\n     * @memberof  SimpleGroup\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to return a serialized representation of the\n     * instance's properties.\n     *\n     * @memberof  SimpleGroup\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to get or set the measurement object which houses\n     * layout properties like width and height.\n     *\n     * @param {Object  | undefined} mObj The measurement properties.\n     * @memberof  SimpleGroup\n     */\n    measurement () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n\nexport default SimpleGroup;\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n *\n *\n * @export\n * @class Variable\n */\nexport default class Variable {\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    type () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    toString () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n}\n","import Variable from './variable';\n\n/**\n *\n *\n * @class ComposeVars\n * @extends {Variable}\n */\nclass ComposedVars extends Variable {\n\n    /**\n     *Creates an instance of ComposeVars.\n     * @param {*} texts\n     * @memberof ComposeVars\n     */\n    constructor (...texts) {\n        super(...texts);\n        this.vars(texts);\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof ComposeVars\n     */\n    vars (...params) {\n        if (params.length) {\n            this._vars = params[0];\n            return this;\n        }\n        return this._vars;\n    }\n\n    /**\n     *\n     *\n     * @param {*} dm\n     * @returns\n     * @memberof ComposeVars\n     */\n    data (...dm) {\n        if (dm.length) {\n            this.vars().forEach(d => d.data(dm[0]));\n            return this;\n        }\n        return this._data;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ComposeVars\n     */\n    getMembers () {\n        const vars = this.vars();\n        return vars.map(member => member.getMembers()[0]);\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ComposeVars\n     */\n    type () {\n        return this.vars()[0].type();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ComposeVars\n     */\n    toString () {\n        return this.vars().map(d => d.toString()).join(',');\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ComposeVars\n     */\n    numberFormat () {\n        return this.vars()[0].numberFormat();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ComposedVars\n     */\n    subtype () {\n        return this.vars()[0].subtype();\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ComposedVars\n     */\n    getMinDiff () {\n        return this.vars()[0].getMinDiff();\n    }\n}\n\nexport default ComposedVars;\n","import Variable from './variable';\n\n/**\n *\n *\n * @export\n * @class Vars\n * @extends {Variable}\n */\nexport default class SimpleVariable extends Variable {\n\n    /**\n     *Creates an instance of Vars.\n     * @param {*} text\n     * @memberof Vars\n     */\n    constructor (text) {\n        super();\n        this.oneVar(text);\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof Vars\n     */\n    oneVar (...oneV) {\n        if (oneV.length) {\n            this._oneVar = oneV[0];\n            return this;\n        }\n        return this._oneVar;\n    }\n\n    /**\n     *\n     *\n     * @param {*} dm\n     * @returns\n     * @memberof Vars\n     */\n    data (...dm) {\n        if (dm.length) {\n            this._data = dm[0];\n            return this;\n        }\n        return this._data;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Vars\n     */\n    toString () {\n        return this.oneVar();\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleVariable\n     */\n    numberFormat () {\n        const uid = this.data().getFieldsConfig()[this.oneVar()].index;\n        const formatter = this.data().getFieldspace().fields[uid]._ref;\n\n        return this.type() === 'measure' ? formatter.numberFormat() : val => val;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Vars\n     */\n    getMembers () {\n        return [this.oneVar()];\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Vars\n     */\n    type () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.type;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Vars\n     */\n    subtype () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.subtype || fieldDef.type;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleVariable\n     */\n    getMinDiff () {\n        const fieldSpace = this.data().getFieldspace();\n        return fieldSpace.fieldsObj()[this.oneVar()].getMinDiff();\n    }\n\n    equals (varInst) {\n        return this.oneVar() === varInst.oneVar();\n    }\n}\n","import { ComposedVars, SimpleVariable } from '../variable';\nimport { DIMENSION, COLUMNS, ROWS, TEMPORAL } from '../enums/constants';\n\n/**\n * Gets the list of fields in a sorted order by measurement and dimension\n *\n * @param {Array} fieldList List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields sorted by measurement and dimensions\n */\nconst orderFields = (fieldArray, type) => {\n    const dimensionArr = [[], []];\n    const measureArr = [[], []];\n    const temporalArr = [[], []];\n    const categoricalArr = [[], []];\n\n    fieldArray.forEach((fieldList, index) => {\n        fieldList.forEach((field) => {\n            if (field.type() === DIMENSION) {\n                dimensionArr[index].push(field);\n                field.subtype() === TEMPORAL ? temporalArr[index].push(field) : categoricalArr[index].push(field);\n            } else {\n                measureArr[index].push(field);\n            }\n        });\n    });\n\n    const numOfMeasures = measureArr[0].length + (measureArr[1] ? measureArr[1].length : 0);\n\n    // Single array of fields\n    if (!fieldArray[1]) {\n        // Push measures to bottom\n        measureArr[1] = type === COLUMNS ? measureArr[0] : [];\n        // Push measures to left\n        measureArr[0] = type !== COLUMNS ? measureArr[0] : [];\n        // Bottom and right dimensions empty\n        dimensionArr[1] = [];\n        // Left and top filled with dimensions\n        dimensionArr[0] = dimensionArr[0];\n        if (numOfMeasures === 0) {\n            const allDimensions = [...dimensionArr[0], ...dimensionArr[1]];\n            if (type === COLUMNS) {\n                dimensionArr[1] = allDimensions[allDimensions.length - 1] ? [allDimensions[allDimensions.length - 1]]\n                        : [];\n                allDimensions.splice(-1, 1);\n            } else {\n                dimensionArr[1] = [];\n            }\n            dimensionArr[0] = [...allDimensions];\n        }\n    }\n\n    if (dimensionArr[0].length && dimensionArr[1].length && numOfMeasures > 0) {\n        dimensionArr[0] = [...dimensionArr[0], ...dimensionArr[1]];\n        dimensionArr[1] = [];\n    }\n    return {\n        fields: dimensionArr.map((list, i) => (i === 1 ?\n            measureArr[i].concat(dimensionArr[i]) : dimensionArr[i].concat(measureArr[i]))),\n        dimensions: [...dimensionArr[0], ...dimensionArr[1]],\n        measures: [...measureArr[0], ...measureArr[1]],\n        temporal: [...temporalArr[0], ...temporalArr[1]],\n        categorical: [...categoricalArr[0], ...categoricalArr[1]]\n    };\n};\n\n/**\n * Gets the list of normalized fields\n *\n * @param {Array} fields List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields normalized by measurement and dimensions\n */\nconst normalizeFields = (config, type) => {\n    const fieldsArr = [];\n    const fields = config[type];\n\n    if (!(fields[0] instanceof Array)) {\n        fieldsArr[0] = fields;\n    } else {\n        fieldsArr[0] = fields[0] || [];\n        fieldsArr[1] = fields[1] || [];\n    }\n    return fieldsArr;\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} datamodel\n * @return\n */\nconst convertToVar = (datamodel, fields) => {\n    const vars = [];\n\n    fields && fields.forEach((field) => {\n        if (field instanceof ComposedVars) {\n            vars.push(field);\n            field.data(datamodel);\n        } else {\n            vars.push(new SimpleVariable(field).data(datamodel));\n        }\n    });\n    return vars;\n};\n\n/**\n *\n *\n * @param {*} rows\n * @param {*} columns\n * @param {*} datamodel\n * @return\n */\nexport const transformFields = (datamodel, config) => {\n    const [rowsInfo, columnsInfo] = [ROWS, COLUMNS].map((fields) => {\n        const normalizedFields = normalizeFields(config, fields);\n        const norFields = [convertToVar(datamodel, normalizedFields[0])];\n\n        if (normalizedFields[1]) {\n            norFields[1] = convertToVar(datamodel, normalizedFields[1]);\n        }\n        return orderFields(norFields, fields);\n    });\n    const {\n        fields: rows,\n        dimensions: rowDimensions,\n        measures: rowMeasures,\n        temporal: rowTemporalFields,\n        categorical: rowCategoricalFields\n    } = rowsInfo;\n    const {\n        fields: columns,\n        dimensions: columnDimensions,\n        measures: columnMeasures,\n        temporal: columnTemporalFields,\n        categorical: columnCategoricalFields\n    } = columnsInfo;\n    return {\n        rows,\n        rowDimensions,\n        rowMeasures,\n        rowTemporalFields,\n        rowCategoricalFields,\n        columns,\n        columnTemporalFields,\n        columnCategoricalFields,\n        columnDimensions,\n        columnMeasures\n    };\n};\n","import { ERROR_MSG, mergeRecursive } from 'muze-utils';\nimport { transformFields } from './field-sanitizer';\nimport { getHeaderAxisFrom } from '../group-helper/group-utils';\nimport { ROW, COLUMN } from '../enums/constants';\n\n/**\n *\n *\n * @export\n * @class VisualEncoder\n */\nexport default class VisualEncoder {\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    createAxis () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    setCommonDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    getLayerConfig () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    fieldInfo (...info) {\n        if (info.length) {\n            this._fieldInfo = mergeRecursive(this._fieldInfo || {}, info[0]);\n            return this;\n        }\n        return this._fieldInfo;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @return\n     * @memberof VisualEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        this.fieldInfo(transformFields(datamodel, config));\n        return this.fieldInfo();\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @return\n     * @memberof VisualEncoder\n     */\n    axisFrom (...params) {\n        if (params.length) {\n            this._axisFrom = params[0];\n            return this;\n        }\n        return this._axisFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @return\n     * @memberof VisualEncoder\n     */\n    headerFrom (...params) {\n        if (params.length) {\n            this._headerFrom = params[0];\n            return this;\n        }\n        return this.__headerFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axisFrom\n     * @return\n     * @memberof CartesianEncoder\n     */\n    setAxisAndHeaders (axisFrom = {}, fields) {\n        const [rowHeader, rowAxis] = getHeaderAxisFrom(ROW, fields.rows, axisFrom);\n        const [colHeader, colAxis] = getHeaderAxisFrom(COLUMN, fields.columns, axisFrom);\n\n        this.axisFrom({\n            row: rowAxis,\n            column: colAxis\n        });\n        this.headerFrom({\n            row: rowHeader,\n            column: colHeader\n        });\n        return this;\n    }\n}\n","import { ContinousAxis, BandAxis, TimeAxis, ColorAxis, SizeAxis, ShapeAxis } from '@chartshq/muze-axis';\n\nexport const scaleMaps = {\n    linear: ContinousAxis,\n    band: BandAxis,\n    temporal: TimeAxis,\n    size: SizeAxis,\n    color: ColorAxis,\n    shape: ShapeAxis\n};\n","import { ScaleType } from '@chartshq/muze-axis';\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    dimension: ScaleType.BAND,\n    categorical: ScaleType.BAND,\n    measure: ScaleType.LINEAR,\n    temporal: ScaleType.TIME\n};\n\n","import { mergeRecursive } from 'muze-utils';\nimport { AxisOrientation } from '@chartshq/muze-axis';\nimport { scaleMaps } from '../enums/scale-maps';\nimport { getAxisType, getAxisKey } from '../group-helper';\nimport { dataTypeScaleMap } from '../data-type-scale-map';\nimport { CATEGORICAL, TEMPORAL, BAR, LINE, POINT, BOTH, Y } from '../enums/constants';\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n * @return\n */\nconst getAxisConfig = (axisInfo, field, axesCreators) => {\n    let axisOrientation;\n    const { index, axisIndex, axisType } = axisInfo;\n    const { config, position } = axesCreators;\n    const userAxisConfig = config.axes ? (config.axes[axisType] || {}) : {};\n    const {\n        LEFT,\n        RIGHT,\n        TOP,\n        BOTTOM\n    } = AxisOrientation;\n    const allOrientations = axisType === Y ? [LEFT, RIGHT] : [TOP, BOTTOM];\n\n    if (position === BOTH) {\n        axisOrientation = allOrientations[axisIndex];\n    } else {\n        axisOrientation = position;\n    }\n    const axisConfig = {\n        id: `${axisType}-${index}-${axisIndex}`,\n        name: field.toString(),\n        field: field.toString(),\n        labels: { rotation: 0 },\n        numberFormat: field.numberFormat(),\n        orientation: axisOrientation,\n        type: dataTypeScaleMap[field.subtype()]\n    };\n    return mergeRecursive(axisConfig, userAxisConfig);\n};\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n * @return\n */\nconst createSimpleAxis = (axisConfig, field, axesCreators) => {\n    const { labelManager } = axesCreators;\n    const Cls = scaleMaps[dataTypeScaleMap[field.subtype()]];\n    const simpleAxis = new Cls(axisConfig, { labelManager });\n    return simpleAxis;\n};\n\n/**\n *\n *\n * @param {*} axisType\n * @param {*} fieldInfo\n * @param {*} axesCreators\n * @param {*} groupAxes\n * @return\n */\nexport const generateAxisFromMap = (axisType, fieldInfo, axesCreators, groupAxes) => {\n    let axisKey;\n    const currentAxes = [];\n    const { fields, index } = fieldInfo;\n    const { cacheMaps } = axesCreators;\n    const map = cacheMaps[`${axisType}AxesMap`];\n\n    fields.forEach((field, axisIndex) => {\n        axisKey = getAxisKey(axisType, index, dataTypeScaleMap[field.subtype()]);\n        const axisConfig = getAxisConfig({ index, axisIndex, axisType }, field, axesCreators);\n\n        if (!map.has(axisKey)) {\n            const xAxis = createSimpleAxis(axisConfig, field, axesCreators);\n            currentAxes.push(xAxis);\n        } else {\n            const axes = map.get(axisKey);\n            axes[axisIndex] = axes[axisIndex] ? axes[axisIndex] : createSimpleAxis(axisConfig, field, axesCreators);\n            axes[axisIndex]._rotationLock = false;\n            axes[axisIndex] && axes[axisIndex].config(axisConfig).domain(axisConfig.domain || []);\n        }\n    });\n\n    if (currentAxes.length) {\n        map.set(axisKey, currentAxes);\n    }\n\n    for (const [key] of map.entries()) {\n        if (key === axisKey) {\n            groupAxes.add(axisKey);\n        }\n    }\n    return map.get(axisKey);\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n    const xAxes = [];\n    const yAxes = [];\n\n    xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes.push(xAxis);\n    });\n    yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes.push(yAxis);\n    });\n    return {\n        xAxes, yAxes\n    };\n};\n\n/**\n * return a default mark based on predefined set of rules of type and subtype of the fields\n *\n * @param {string} colFieldType dimension/measure - temporal/ordinal/nominal\n * @param {string} rowFieldType dimension/measure - temporal/ordinal/nominal\n * @return {Object} return mark type\n */\nexport const getDefaultMark = (colFieldType, rowFieldType) => {\n    let mark;\n\n    if (colFieldType === CATEGORICAL || rowFieldType === CATEGORICAL) {\n        mark = BAR;\n    } else if (colFieldType === TEMPORAL || rowFieldType === TEMPORAL) {\n        mark = LINE;\n    } else {\n        mark = POINT;\n    }\n\n    return mark;\n};\n\n/**\n *\n *\n * @param {*} axesCreators\n * @param {*} [fieldInfo=[]]\n * @return\n */\nexport const createRetinalAxis = (axesCreators, fieldProps = {}) => {\n    const { axisType, fieldsConfig } = axesCreators;\n    const field = fieldProps.field;\n    const axis = [];\n    const Cls = scaleMaps[axisType];\n\n    fieldProps.type = fieldProps.type ? fieldProps.type : getAxisType(fieldsConfig, field || null);\n    axis.push(new Cls(fieldProps));\n    return axis;\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} val\n * @return\n */\nexport const getIndex = (arr, val) => {\n    let i = 0;\n    let arrIndex = -1;\n\n    while (arrIndex === -1 && i < arr.length) {\n        if (arr[i].toString() === val.toString()) {\n            arrIndex = i;\n        }\n        i++;\n    }\n    return arrIndex;\n};\n\n/**\n *\n *\n * @param {*} colFields\n * @param {*} rowFields\n * @param {*} userLayerConfig\n * @return\n * @memberof CartesianEncoder\n */\nexport const getLayerConfFromFields = (colFields, rowFields, userLayerConfig) => userLayerConfig.filter((conf) => {\n    const userConf = conf instanceof Array ? conf : [conf];\n    const encodingArr = [].concat(...userConf.map((d) => {\n        if (d.def instanceof Array) {\n            return d.def.map(def => (def.axis ? {\n                y: { field: def.axis.y },\n                x: { field: def.axis.x }\n            } : def.encoding));\n        }\n        return d.def.encoding;\n    })).filter(d => d !== undefined);\n\n    if (!encodingArr.length) {\n        return true;\n    }\n\n    const xFields = [].concat(...encodingArr.map(d => [d.x && d.x.field, d.x0 && d.x0.field]))\n                .filter(d => d !== undefined && d !== null);\n    const yFields = [].concat(...encodingArr.map(d => [d.y && d.y.field, d.y0 && d.y0.field]))\n                .filter(d => d !== undefined && d !== null);\n\n    if (!xFields.length && !yFields.length) {\n        return true;\n    }\n\n    const colFieldExist = xFields.length ? xFields.every(d => colFields.indexOf(d) !== -1) : false;\n    const rowFieldExist = yFields.length ? yFields.every(d => rowFields.indexOf(d) !== -1) : false;\n    if (xFields.length && yFields.length) {\n        return colFieldExist && rowFieldExist;\n    }\n    return colFieldExist || rowFieldExist;\n});\n","import { layerFactory } from '@chartshq/visual-layer';\nimport { mergeRecursive } from 'muze-utils';\nimport { generateAxisFromMap, getDefaultMark, getIndex, getLayerConfFromFields } from './encoder-helper';\nimport { retriveDomainFromData } from '../group-helper';\n\nimport { ROW, COLUMN, COL, LEFT, TOP, CARTESIAN, MEASURE, BOTH, X, Y } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\n/**\n *\n *\n * @export\n * @class CartesianEncoder\n * @extends {VisualEncoder}\n */\nexport default class CartesianEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @return\n     * @memberof CartesianEncoder\n     */\n    static type () {\n        return CARTESIAN;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     * @return\n     * @memberof CartesianEncoder\n     */\n    createAxis (axesCreators, fieldInfo) {\n        const geomCellAxes = {};\n        const {\n            axes\n        } = axesCreators;\n        const {\n            projections,\n            indices\n        } = fieldInfo;\n        const {\n            rowFields,\n            columnFields\n        } = projections;\n        const {\n             rowIndex,\n             columnIndex\n        } = indices;\n        const axisFields = [{\n            fields: rowFields,\n            index: rowIndex\n        }, {\n            fields: columnFields,\n            index: columnIndex\n        }];\n        const xAxes = axes.x || [];\n        const yAxes = axes.y || [];\n\n        [rowFields, columnFields].forEach((fields, i) => {\n            const type = i === 0 ? ROW : COLUMN;\n            const axis = i === 0 ? Y : X;\n\n            if (fields.length > 1) {\n                axesCreators.position = BOTH;\n            } else {\n                axesCreators.position = this.axisFrom()[type];\n            }\n            geomCellAxes[axis] = generateAxisFromMap(axis, axisFields[i], axesCreators, axis === X ? xAxes : yAxes);\n        });\n        return geomCellAxes;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @return\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields, type) {\n        let facets = [];\n        let projections = [];\n        let counter = 0;\n        const primaryFacets = [];\n        const secondaryFacets = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n        const axisFrom = this.axisFrom();\n\n        for (let i = 0; i < primaryLen; i++) {\n            let projArr = [primaryFields[i]];\n            const primaryField = primaryFields[i];\n\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter];\n                if (secondaryField && secondaryField.type() === MEASURE) {\n                    counter++;\n                    projArr = [primaryField, secondaryField];\n                }\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n                primaryFacets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                    secondaryFacets.push(secondaryField);\n                }\n            }\n        }\n        if ((primaryFacets.length || secondaryFacets.length) && !projections.length) {\n            type = type === COL ? COLUMN : type;\n            if ((axisFrom[type] === LEFT || axisFrom[type] === TOP) && primaryFacets.length) {\n                const axisFromIndex = primaryFacets.length - 1;\n                const facet = primaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(secondaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    secondaryFacets.splice(existIndex, 1);\n                }\n                primaryFacets.splice(axisFromIndex, 1);\n            } else {\n                const axisFromIndex = 0;\n                const facet = secondaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(primaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    primaryFacets.splice(existIndex, 1);\n                }\n                secondaryFacets.splice(axisFromIndex, 1);\n            }\n        }\n\n        facets = [...primaryFacets, ...secondaryFacets];\n        facets = facets.filter((el, index, self) => index === self.findIndex(t => (t.toString() === el.toString())));\n        return {\n            facets,\n            projections\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @return\n     * @memberof CartesianEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        return super.fieldSanitizer(datamodel, config);\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @return\n     * @memberof CartesianEncoder\n     */\n    getRetinalFieldsDomain (dataModels, encoding) {\n        const groupedModel = dataModels.groupedModel;\n        const domains = {};\n        for (const key in encoding) {\n            if ({}.hasOwnProperty.call(encoding, key)) {\n                const encodingObj = encoding[key];\n                const field = encodingObj.field;\n                if (!encodingObj.domain && field) {\n                    const domain = retriveDomainFromData(groupedModel, field);\n                    domains[field] = domain;\n                }\n            }\n        }\n        return domains;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     * @memberof CartesianEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n\n        layerArray.length && layerArray.forEach((layer, i) => {\n            const def = layerFactory.getSerializedConf(layer.mark, layer);\n            // Set the default drawing order of the layer if not defined.\n            def.order === undefined && (def.order = i);\n            serializedLayers.push({\n                mark: layer.mark,\n                def\n            });\n        });\n        return serializedLayers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     * @return\n     * @memberof CartesianEncoder\n     */\n    getLayerConfig (fields, userLayerConfig) {\n        const layerConfig = [];\n        const {\n            columnFields,\n            rowFields\n        } = fields;\n\n        columnFields.forEach((colField) => {\n            const colFieldName = colField.toString();\n            rowFields.forEach((rowField) => {\n                let configs = [];\n                const rowFieldName = rowField.toString();\n                const encoding = {\n                    x: {\n                        field: colFieldName\n                    },\n                    y: {\n                        field: rowFieldName\n                    }\n                };\n                const rowFieldType = rowField.subtype();\n                const colFieldType = colField.subtype();\n                const mark = getDefaultMark(colFieldType, rowFieldType);\n\n                configs = [{\n                    mark,\n                    def: {\n                        mark,\n                        encoding\n                    }\n                }];\n\n                const layerConfigs = getLayerConfFromFields(colField.getMembers(),\n                    rowField.getMembers(), userLayerConfig || []);\n\n                if (layerConfigs.length) {\n                    configs = layerConfigs.map((layerConf) => {\n                        const def = layerConf.def;\n                        if (def instanceof Array) {\n                            configs[0].def.mark = mark;\n                            return {\n                                mark: layerConf.mark,\n                                def: def.map(conf => mergeRecursive(mergeRecursive({}, configs[0].def), conf))\n                            };\n                        }\n                        return mergeRecursive(mergeRecursive({}, configs[0]), layerConf);\n                    });\n                }\n\n                layerConfig.push(...configs);\n            });\n        });\n        return layerConfig;\n    }\n}\n\n","import { layerFactory } from '@chartshq/visual-layer';\nimport { mergeRecursive } from 'muze-utils';\nimport VisualEncoder from './visual-encoder';\nimport { RADIUS, ANGLE, SIZE, MEASURE, ARC, POLAR, COLOR } from '../enums/constants';\n/**\n *\n *\n * @export\n * @class PolarEncoder\n * @extends {VisualEncoder}\n */\nexport default class PolarEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     * @return\n     * @memberof PolarEncoder\n     */\n    createAxis (axesCreators, fieldInfo) {\n        const {\n            axes\n        } = axesCreators;\n        const geomCellAxes = axes;\n        const {\n            indices\n        } = fieldInfo;\n        const {\n            rowIndex,\n            columnIndex\n        } = indices;\n        // Dummy axes for polar, to create blank cells\n        const pieAxes = geomCellAxes.pie || [];\n\n        pieAxes[rowIndex] = pieAxes[rowIndex] || [];\n        pieAxes[rowIndex][columnIndex] = [];\n\n        geomCellAxes.pie = pieAxes;\n        geomCellAxes.x = null;\n        geomCellAxes.y = null;\n\n        return geomCellAxes;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @return\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields) {\n        let counter = 0;\n        const facets = [];\n        const projections = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n\n        for (let i = 0; i < primaryLen; i++) {\n            const primaryField = primaryFields[i];\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter++];\n                const projArr = secondaryField ? [primaryField, secondaryField] : [primaryField];\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                }\n            }\n        }\n        return {\n            facets,\n            projections\n        };\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof PolarEncoder\n     */\n    setCommonDomain () {\n        // No domain to be set\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof PolarEncoder\n     */\n    static type () {\n        return POLAR;\n    }\n\n    layers (...layers) {\n        if (layers.length) {\n            this._layers = layers[0];\n            return this;\n        }\n        return this._layers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @memberof PolarEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        let sanitizedRows = [[], []];\n        let sanitizedColumns = [[], []];\n        const fields = super.fieldSanitizer(datamodel, config);\n        const {\n            layers\n        } = config;\n        const {\n            rows,\n            columns\n        } = fields;\n        const layer = layers[0];\n        const encoding = layer.encoding;\n        const radius = encoding && encoding.radius ? encoding.radius.field : null;\n        const angle = encoding && encoding.angle ? encoding.angle.field : null;\n        const sanitizedFields = [sanitizedRows, sanitizedColumns];\n\n        [rows, columns].forEach((fieldType, typeIndex) => {\n            fieldType.forEach((fieldSet, i) => fieldSet.forEach((field) => {\n                if (field.toString() !== radius && field.toString() !== angle && field.type() !== MEASURE) {\n                    sanitizedFields[typeIndex][i].push(field);\n                }\n            }));\n        });\n        sanitizedColumns = [...new Set(sanitizedColumns)];\n        sanitizedRows = [...new Set(sanitizedRows)];\n        this.fieldInfo({ rows: sanitizedRows, columns: sanitizedColumns });\n        return this.fieldInfo();\n    }\n\n    getRetinalFieldsDomain (dataModels, encoding, facetFields, groupBy) {\n        let sizeField;\n        let colorField;\n        const fields = [];\n        const layers = this.layers();\n        const dataModel = dataModels.parentModel;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const domains = {};\n        if (layers && layers[0]) {\n            const layer = layers[0];\n            const layerEncoding = layer.def.encoding || {};\n\n            [RADIUS, ANGLE, SIZE, COLOR].forEach((encType) => {\n                const field = layerEncoding[encType] ? layerEncoding[encType].field : '';\n                const measureField = fieldsConfig[field] && fieldsConfig[field].def.type === MEASURE;\n                if (encType === SIZE && measureField) {\n                    sizeField = field;\n                }\n                if (encType === COLOR) {\n                    colorField = field;\n                }\n                fieldsConfig[field] && !measureField && fields.push(field);\n            });\n        }\n\n        if (sizeField) {\n            domains[sizeField] = dataModel.groupBy(facetFields, {\n                [sizeField]: 'sum'\n            }).getFieldspace().fieldsObj()[sizeField].domain();\n        }\n\n        if (colorField) {\n            const dm = dataModel.groupBy([...facetFields, ...fields], groupBy.measures);\n            domains[colorField] = dm.getFieldspace().fieldsObj()[colorField].domain();\n        }\n        return domains;\n    }\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     * @return\n     * @memberof PolarEncoder\n     */\n    getLayerConfig (fields, userLayerConfig) {\n        let layerConfig = [];\n        const {\n                columnFields,\n                rowFields\n            } = fields;\n        const allFields = [...columnFields, ...rowFields];\n\n        allFields.forEach(() => {\n            const encoding = {};\n            let config = {\n                mark: ARC,\n                def: {\n                    encoding\n                }\n            };\n            if (userLayerConfig && userLayerConfig.length > 0) {\n                config = mergeRecursive(config, userLayerConfig[0]);\n            }\n            layerConfig.push(config);\n        });\n        if (layerConfig.length === 0) {\n            layerConfig = userLayerConfig;\n        }\n\n        this.layers(layerConfig);\n        return layerConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     * @returns\n     * @memberof PolarEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n\n        layerArray.length && layerArray.forEach((layer) => {\n            const def = layerFactory.getSerializedConf(layer.mark, layer);\n            serializedLayers.push({\n                mark: layer.mark,\n                def\n            });\n        });\n        return serializedLayers;\n    }\n}\n","import { createRetinalAxis } from './encoder-helper';\nimport { COLOR, SHAPE, SIZE } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\n/**\n *\n *\n * @export\n * @class RetinalEncoder\n * @extends {VisualEncoder}\n */\nexport default class RetinalEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @return\n     * @memberof RetinalEncoder\n     */\n    createAxis (axesCreators) {\n        const { fieldsConfig, config } = axesCreators;\n        const newAxes = {};\n\n        [COLOR, SHAPE, SIZE].forEach((axisType) => {\n            newAxes[`${axisType}`] = createRetinalAxis({ axisType, fieldsConfig }, config[axisType]);\n        });\n        return newAxes;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @return\n     * @memberof RetinalEncoder\n     */\n    static type () {\n        return 'retinal';\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     * @return\n     * @memberof RetinalEncoder\n     */\n    getLayerConfig (encodingConfigs, userLayerConfig) {\n        const layerConfig = [];\n        userLayerConfig.forEach((e) => {\n            const config = e;\n            [COLOR, SHAPE, SIZE].forEach((axis) => {\n                if (encodingConfigs[axis] && encodingConfigs[axis].field) {\n                    const def = config.def;\n                    if (config.def instanceof Array) {\n                        def.forEach((conf) => {\n                            conf.encoding = conf.encoding || {};\n                            !conf.encoding[axis] && (conf.encoding[axis] = {});\n                            conf.encoding[axis].field = encodingConfigs[axis].field;\n                        });\n                    } else {\n                        def.encoding = def.encoding || {};\n                        !def.encoding[axis] && (def.encoding[axis] = {});\n                        def.encoding[axis].field = encodingConfigs[axis].field;\n                    }\n                }\n            });\n            layerConfig.push(config);\n        });\n        return layerConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} context\n     * @return\n     * @memberof RetinalEncoder\n     */\n    setCommonDomain (context) {\n        const { domains, axes, encoding } = context;\n\n        Object.entries(encoding).forEach((enc) => {\n            if (enc[1] && enc[1].field) {\n                const encType = enc[0];\n                const field = enc[1].field;\n\n                if (field) {\n                    axes[encType].forEach((axis) => {\n                        const domain = domains[field];\n                        axis.updateDomain(domain);\n                    });\n                }\n            }\n        });\n        return axes;\n    }\n}\n","import { Store, dataSelect, FieldType } from 'muze-utils';\nimport { DATA_UPDATE_COUNTER } from '../enums/defaults';\nimport { Variable } from '../variable';\nimport { PolarEncoder, CartesianEncoder } from '../encoder';\nimport {\n    DIMENSION,\n    MEASURE,\n    ORDINAL,\n    LINEAR,\n    ROW,\n    COLUMN,\n    COL,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM,\n    COLOR,\n    SIZE,\n    TEMPORAL,\n    SHAPE,\n    INTERACTION,\n    GRID_LINES,\n    GRID_BANDS,\n    HEADER,\n    FACET,\n    X,\n    Y,\n    POLAR\n} from '../enums/constants';\n\n/**\n * Creates an instance of a store which contains the arguments to make the class reactive\n *\n * @return {Object} instance of store\n * @memberof VisualGroup\n */\nexport const initStore = () => new Store({\n    [DATA_UPDATE_COUNTER]: DATA_UPDATE_COUNTER\n});\n\n/**\n *\n *\n * @param {*} arr\n */\nexport const isDistributionEqual = arr => [...arr[0], ...arr[1]].reduce((isEqual, row) => {\n    const rowType = row.type();\n\n    if (rowType === MEASURE || rowType === TEMPORAL) {\n        isEqual = true;\n    }\n    return isEqual;\n}, false);\n\n/**\n *\n *\n */\nexport const initializeCacheMaps = () => ({\n    cellMap: new Map(),\n    xAxesMap: new Map(),\n    yAxesMap: new Map(),\n    entryCellMap: new Map(),\n    exitCellMap: new Map()\n});\n\n/**\n *\n *\n * @param {*} axisName\n * @param {*} id\n */\nexport const getAxisKey = (axisName, id, scaleType) => `${axisName}-axis-${id}-${scaleType}`;\n\n/**\n *\n *\n * @param {*} rowId\n * @param {*} columnId\n */\nexport const getCellKey = (rowId, columnId) => `cell-${rowId}-${columnId}`;\n\n/**\n *\n *\n * @param {*} config\n * @return\n */\nexport const extractUnitConfig = (config) => {\n    const unitConfig = {};\n    const attrNames = [INTERACTION, GRID_LINES, GRID_BANDS];\n\n    attrNames.forEach((attr) => {\n        if (config[attr] !== undefined) {\n            unitConfig[attr] = config[attr];\n        }\n    });\n    return unitConfig;\n};\n\n/**\n *\n *\n * @param {*} headers\n * @param {*} index\n * @param {*} rowLength\n * @return\n * @memberof MatrixResolver\n */\nexport const getHeaderText = (headers, index, rowLength) => {\n    let header = '';\n\n    if (index === rowLength - 1 && headers.length > rowLength) {\n        for (let i = index; i < headers.length - 1; i++) {\n            header += `${headers[i].toString()} / `;\n        }\n        header += headers[headers.length - 1].toString();\n        return header;\n    } else if (headers[index]) {\n        return headers[index].toString();\n    }\n    return '';\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} fieldHeaders\n * @param {*} TextCell\n * @param {*} labelManager\n * @return\n */\nexport const headerCreator = (fields, fieldHeaders, TextCell, labelManager) => {\n    const headers = fields.length > 0 ? fields[0].map((label, i) => new TextCell({ type: HEADER }, { labelManager })\n                    .source(getHeaderText(fieldHeaders, i, fields[0].length))) : [];\n    return headers;\n};\n\n/**\n *\n *\n * @param {*} variable\n * @param {*} allFields\n * @return\n */\nexport const findInGroup = (variable, allFields) => {\n    let channel = null;\n\n    [COLOR, SIZE, SHAPE].forEach((e) => {\n        if (this.store.get(e) && variable === this.store.get(e)[0]) {\n            channel = e;\n        }\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    [ROW, COL].forEach((facetType) => {\n        allFields[`${facetType}Facets`].forEach((e) => {\n            if (e.toString() === variable) {\n                channel = { channel: FACET, type: facetType === COL ? COLUMN : ROW };\n            }\n        });\n    });\n\n    if (channel) {\n        return channel;\n    }\n\n    [ROW, COL].forEach((projType) => {\n        allFields[`${projType}Projections`].forEach((e) => {\n            e.forEach((m) => {\n                if (m.toString() === variable) {\n                    channel = projType === COL ? X : Y;\n                }\n            });\n        });\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    return null;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} field\n */\nexport const getAxisType = (fieldsConfig, field) => {\n    let fieldType = ORDINAL;\n\n    if (field && fieldsConfig[field].def.type !== DIMENSION) {\n        fieldType = LINEAR;\n    }\n    return fieldType;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} fieldName\n * @return\n */\nexport const retriveDomainFromData = (datamodel, fieldName) => {\n    const field = datamodel.getFieldspace().fields.find(d => d._ref.name === fieldName.toString());\n    return field.domain();\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    let xAxes = null;\n    let yAxes = null;\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n\n    xAxisSet && xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes = xAxes || [];\n        xAxes.push(xAxis);\n    });\n\n    yAxisSet && yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes = yAxes || [];\n        yAxes.push(yAxis);\n    });\n\n    return {\n        xAxes, yAxes\n    };\n};\n\n/**\n *\n *\n * @param {*} layers\n * @return\n */\nexport const getEncoder = (layers) => {\n    let encoder = new CartesianEncoder();\n\n    if (layers) {\n        // Figuring out the kind of layers the group will have\n        encoder = layers.every(e => e.mark === 'arc') ? new PolarEncoder() : encoder;\n    }\n    return encoder;\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} userAxisFromConfig\n * @return\n */\nexport const getHeaderAxisFrom = (type, fields, userAxisFromConfig) => {\n    let axisFrom = userAxisFromConfig[type];\n    let headerFrom = '';\n    const options = type === ROW ? [LEFT, RIGHT] : [BOTTOM, TOP];\n    const [firstField, secondField] = fields;\n    const firstFieldType = i => (firstField.length ? firstField[i].type() : null);\n    const secondFieldType = i => (secondField.length ? secondField[i].type() : null);\n\n    if (firstFieldType(firstField.length - 1) === DIMENSION && secondFieldType(0) === DIMENSION) {\n        headerFrom = axisFrom ? options[1 - options.indexOf(axisFrom)] : options[1];\n\n        if (type === COLUMN && (firstField[firstField.length - 1].toString() === secondField[0].toString())) {\n            axisFrom = TOP;\n        } else {\n            axisFrom = axisFrom || options[0];\n        }\n    } else if (secondFieldType(secondField.length - 1) === DIMENSION) {\n        headerFrom = type === ROW ? RIGHT : BOTTOM;\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else {\n        headerFrom = type === ROW ? LEFT : TOP;\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    if (firstFieldType(firstField.length - 1) === MEASURE && secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    } else if (secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else if (firstFieldType(firstField.length - 1) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    return [headerFrom, axisFrom];\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} layers\n * @return\n * @memberof MatrixResolver\n */\nexport const setFacetsAndProjections = (context, fieldInfo, encoder) => {\n    const {\n        fields,\n        type\n    } = fieldInfo;\n    const { facets, projections } = encoder.simpleEncoder.getFacetsAndProjections(fields, type);\n\n    context.facets({ [`${type}Facets`]: facets });\n    context.projections({ [`${type}Projections`]: projections });\n\n    return { facets, projections, fields };\n};\n\n/**\n * Creates a selection set from a data set with corresponding attributes\n *\n * @export\n * @param {Selection} sel contains previous selection\n * @param {Object} appendObj Object to be appended\n * @param {Array} data Data based on which the selection is entered/updated/removed\n * @param {Object} [attrs={}] Attributes to be set on the data\n * @return {Selection} Merged selection\n */\nexport const createSelection = (sel, appendObj, data, idFn) => {\n    let selection = sel || dataSelect([]);\n\n    selection = selection.data(data, idFn);\n\n    const enter = selection.enter().append(appendObj);\n    const mergedSelection = enter.merge(selection);\n\n    selection.exit() && selection.exit().remove();\n    return mergedSelection;\n};\n\nconst getRowBorders = (left, right) => {\n    const borders = {};\n    borders.top = false;\n    borders.bottom = false;\n    if (left.length > 1 || right.length > 1) {\n        borders.top = true;\n        borders.bottom = true;\n    }\n    return borders;\n};\n\nconst getColumnsBorders = (top, bottom) => {\n    const borders = {};\n    borders.left = false;\n    borders.right = false;\n    if (top.length || bottom.length) {\n        if ((top[0] && top[0].length > 1) || (bottom[0] && bottom[0].length > 1)) {\n            borders.left = true;\n            borders.right = true;\n        }\n    }\n    return borders;\n};\n\nconst getValueBorders = (rows, columns) => {\n    const borders = { top: true, left: true, bottom: true, right: true };\n    const borderTypeRow = [LEFT, RIGHT];\n    const borderTypeCol = [TOP, BOTTOM];\n    rows.forEach((e, i) => {\n        if (e[0] && e[0].length) {\n            borders[borderTypeRow[i]] = true;\n        } else {\n            borders[borderTypeRow[i]] = false;\n        }\n    });\n    columns.forEach((e, i) => {\n        if (e.length) {\n            borders[borderTypeCol[i]] = true;\n        } else {\n            borders[borderTypeCol[i]] = false;\n        }\n    });\n\n    return borders;\n};\n\nexport const getBorders = (matrices, encoder) => {\n    let showRowBorders = { top: false, bottom: false };\n    let showColBorders = { left: false, right: false };\n    let showValueBorders = { top: false, bottom: false, left: false, right: false };\n    const {\n        rows,\n        columns,\n        values: valueMatrix\n    } = matrices;\n    const [leftRows, rightRows] = rows;\n    const [topColumns, bottomColumns] = columns;\n    const {\n        rowDimensions,\n        columnDimensions,\n        rowTemporalFields,\n        columnTemporalFields,\n        columnMeasures,\n        rowMeasures\n    } = encoder.fieldInfo();\n    const allDimensionLength = rowDimensions.length + columnDimensions.length;\n    const allMeasuresLength = rowMeasures.length + columnMeasures.length;\n    const allTemporalFieldsLength = rowTemporalFields.length + columnTemporalFields.length;\n\n    if (encoder.constructor.type() === POLAR) {\n        if (!allDimensionLength) {\n            return { showRowBorders, showColBorders, showValueBorders };\n        }\n    } else if (!allMeasuresLength && !allTemporalFieldsLength && allDimensionLength <= 2) {\n        return { showRowBorders, showColBorders, showValueBorders };\n    }\n\n    showRowBorders = getRowBorders(leftRows, rightRows);\n    showColBorders = getColumnsBorders(topColumns, bottomColumns);\n    showValueBorders = getValueBorders([leftRows, rightRows], [topColumns, bottomColumns]);\n\n    if (valueMatrix.length > 1) {\n        showValueBorders.top = true;\n        showValueBorders.bottom = true;\n    }\n    if (valueMatrix.length && valueMatrix[0].length > 1) {\n        showValueBorders.left = true;\n        showValueBorders.right = true;\n    }\n    return { showRowBorders, showColBorders, showValueBorders };\n};\n\nexport const getFieldsFromSuppliedLayers = (suppliedLayerConfig, fieldsConfig) => {\n    let fields = [];\n    const encodingArr = suppliedLayerConfig.map((conf) => {\n        if (conf.def instanceof Array) {\n            return conf.def.map(def => def.encoding);\n        }\n        return conf.def.encoding || {};\n    });\n    fields = [...fields, [].concat(...encodingArr.map(enc => Object.values(enc).map(d => d.field)))];\n    fields = fields.filter(field => fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION);\n    return fields;\n};\n\nexport const extractFields = (facetsAndProjections, layerFields) => {\n    const fields = Object.values(facetsAndProjections).map((arr) => {\n        const flattenArray = [].concat(...arr);\n        return [].concat(...flattenArray.map((field) => {\n            if (field instanceof Variable) {\n                return field.getMembers();\n            }\n            return field;\n        }));\n    });\n    return [].concat(...fields, ...layerFields);\n};\n","/**\n * This file exports variables that are used as defaults for the crosstab group.\n */\nexport const DATA_UPDATE_COUNTER = 0;\n\nexport const DEFAULT_LAYER_TYPE = 'cartesian';\n\n","import Selection from './selection';\n/**\n * This function applies a selection operation on a data array.\n *\n * @export\n * @param {Array} [data=[]] The data array to be observed.\n * @return {Selection} Instance of a selection.\n */\nexport default function dataSelect (data = []) {\n    return new Selection(data);\n}\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: false\n    },\n    [ACTIONS.HOVER]: {\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.LONGTOUCH]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: true\n    },\n    [ACTIONS.TOUCHDRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: true\n    },\n    [ACTIONS.CLICK]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: false\n    }\n};\n\n","export const CONFIG = 'config';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const MOUNT = 'mount';\nexport const primaryXAxisUpdated = 'primaryXAxisUpdated';\nexport const primaryYAxisUpdated = 'primaryYAxisUpdated';\nexport const secondaryXAxisUpdated = 'secondaryXAxisUpdated';\nexport const secondaryYAxisUpdated = 'secondaryYAxisUpdated';\nexport const TRANSFORM = 'transform';\nexport const DATADOMAIN = 'dataDomain';\nexport const LAYERSCREATED = 'layersCreated';\nexport const FIELDS = 'fields';\nexport const TIMEDIFFS = 'timeDiffs';\nexport const LAYERAXISINDEX = 'layerAxisIndex';\n\n","import { FieldType, getDependencyOrder, getObjProp,\n    defaultValue, objectIterator, unionDomain, makeElement,\n    DimensionSubtype, getClosestIndexOf, toArray } from 'muze-utils';\nimport { layerFactory } from '@chartshq/visual-layer';\nimport { TIMEDIFFS } from '../enums/reactive-props';\n\nexport const getDimensionMeasureMap = (layers, fieldsConfig) => {\n    const retinalEncodingsAndMeasures = {};\n\n    layers.forEach((layer) => {\n        const {\n            colorField,\n            sizeField,\n            shapeField,\n            xField,\n            yField\n        } = layer.encodingFieldsInf();\n        const measures = [xField, yField].filter(field => fieldsConfig[field] && fieldsConfig[field].def.type ===\n            FieldType.MEASURE);\n        [colorField, sizeField, shapeField].forEach((field) => {\n            if (fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                !retinalEncodingsAndMeasures[field] && (retinalEncodingsAndMeasures[field] = []);\n                retinalEncodingsAndMeasures[field].push(...measures);\n            }\n        });\n    });\n\n    for (const key in retinalEncodingsAndMeasures) {\n        if ({}.hasOwnProperty.call(retinalEncodingsAndMeasures, key)) {\n            retinalEncodingsAndMeasures[key] = [...new Set(retinalEncodingsAndMeasures[key])];\n        }\n    }\n    return retinalEncodingsAndMeasures;\n};\n\nexport const transformDataModels = (transform, dataModel) => {\n    const dataModels = {};\n    for (const key in transform) {\n        if ({}.hasOwnProperty.call(transform, key)) {\n            const transformVal = transform[key];\n            dataModels[key] = transformVal(dataModel);\n        }\n    }\n\n    return dataModels;\n};\n\nexport const getLayerFromDef = (context, definition, existingLayer) => {\n    let instances = existingLayer;\n    const dependencies = context._layerDeps;\n    if (!existingLayer) {\n        instances = layerFactory.getLayerInstance(definition);\n    }\n    const layers = {};\n    const instanceArr = toArray(instances);\n    definition = toArray(definition);\n    definition.reduce((acc, def, idx) => {\n        const instance = instanceArr[idx];\n        instance.config(def);\n        instance.dependencies(dependencies);\n        if (def.name) {\n            instance.alias(def.name);\n        }\n        layers[instance.alias()] = instance;\n        return acc;\n    }, {});\n    return layers;\n};\n\nexport const createLayers = (context, layerDefinitions) => {\n    const layersMap = context._layersMap;\n    const markSet = {};\n    const store = {\n        layers: {},\n        components: {\n            unit: context\n        }\n    };\n    let layers = layerDefinitions.reduce((layersArr, layerDef, i) => {\n        const mark = layerDef.mark;\n        const definition = layerDef.def;\n        const markId = `${mark}-${i}`;\n        const instances = getLayerFromDef(context, definition, layersMap[markId]);\n        store.layers = Object.assign(store.layers, instances);\n        const instanceValues = Object.values(instances);\n        layersArr = layersArr.concat(...instanceValues);\n        layersMap[markId] = instanceValues;\n        markSet[markId] = markId;\n        return layersArr;\n    }, []);\n    store.unit = context;\n    const layerdeps = {};\n    layers.forEach((layer) => {\n        const encodingTransform = layer.config().encodingTransform || {};\n        const resolvable = encodingTransform.resolvable;\n\n        layerdeps[layer.alias()] = [];\n        if (resolvable) {\n            const resolved = resolvable(store);\n            const depArr = resolved.depArr;\n            layerdeps[layer.alias()] = depArr;\n            layer.encodingTransform(resolved.fn);\n        } else if (encodingTransform instanceof Function) {\n            layer.encodingTransform(encodingTransform);\n        }\n    });\n\n    const order = getDependencyOrder(layerdeps);\n    layers = order.map(name => store.layers[name]);\n    for (const key in layersMap) {\n        if (!(key in markSet)) {\n            layersMap[key].forEach(layer => layer.remove());\n            delete layersMap[key];\n        }\n    }\n    return layers;\n};\n\nexport const attachDataToLayers = (layers, dm, transformedDataModels) => {\n    layers.forEach((layer) => {\n        const dataSource = layer.config().source;\n        const dataModel = dataSource instanceof Function ? dataSource(dm) : (transformedDataModels[dataSource] || dm);\n        layer.data(dataModel);\n    });\n};\n\nexport const attachAxisToLayers = (axes, layers, layerAxisIndex) => {\n    layers.forEach((layer) => {\n        const layerId = layer.id();\n        const axesObj = {};\n\n        objectIterator(axes, (key) => {\n            const axisInf = layerAxisIndex[layerId];\n            if (axisInf) {\n                axes[key] && (axesObj[key] = axes[key][axisInf[key] || 0]);\n            }\n        });\n        Object.keys(axesObj).length && layer.axes(axesObj);\n    });\n};\n\nexport const getLayerAxisIndex = (layers, fields) => {\n    const layerAxisIndex = {};\n    layers.forEach((layer) => {\n        const { axis, encoding } = layer.config();\n        const id = layer.id();\n        ['x', 'y'].forEach((type) => {\n            let index;\n            const field = defaultValue(getObjProp(axis, type), encoding[type] && encoding[type].field);\n            if (fields[type]) {\n                index = fields[type].findIndex(fieldInst => fieldInst.getMembers().indexOf(field) !== -1);\n            } else {\n                index = 0;\n            }\n            !layerAxisIndex[id] && (layerAxisIndex[id] = {});\n            layerAxisIndex[id][type] = index;\n        });\n    });\n    return layerAxisIndex;\n};\n\nexport const unionDomainFromLayers = (layers, axisFields, layerAxisIndex, fieldsConfig) => {\n    let domains = {};\n    layers = layers.filter(layer => layer.getDataDomain() !== null);\n    layers.forEach((layer) => {\n        let domainValues = {};\n        const config = layer.config();\n        const encoding = config.encoding;\n        const layerDomain = layer.getDataDomain();\n        const layerId = layer.id();\n\n        if (layerDomain !== null && config.calculateDomain !== false) {\n            domainValues = Object.entries(layerDomain);\n            if (layerDomain.x || layerDomain.y) {\n                domains = domainValues.reduce((fieldDomain, domain) => {\n                    const encodingType = domain[0];\n                    const field = encoding[encodingType].field;\n                    const axisIndex = layerAxisIndex[layerId][encodingType];\n                    const fieldStr = `${axisFields[encodingType][axisIndex]}`;\n                    fieldDomain[fieldStr] = fieldDomain[fieldStr] || [];\n                    fieldDomain[fieldStr] = unionDomain(([fieldDomain[fieldStr], domain[1]]),\n                        fieldsConfig[field].def.subtype ? fieldsConfig[field].def.subtype :\n                                fieldsConfig[field].def.type);\n\n                    return fieldDomain;\n                }, domains);\n            } else { domains = domainValues; }\n        }\n    });\n    return domains;\n};\n\nexport const renderLayers = (context, container, layers, measurement) => {\n    context._lifeCycleManager.notify({ client: layers, action: 'beforedraw', formalName: 'layer' });\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n    const orderedLayers = context.layers().sort((a, b) => a.config().order - b.config().order);\n    const layerParentGroup = makeElement(container, 'g', [1], `${classPrefix}-layer-group`);\n    makeElement(layerParentGroup, 'g', orderedLayers, null, {\n        update: (group, layer) => {\n            layer.measurement(measurement);\n            layer.dataProps({\n                timeDiffs: context.store().get(TIMEDIFFS)\n            });\n            layer.config().render !== false && layer.mount(group.node());\n        }\n    });\n    return this;\n};\n\nexport const getNearestDimensionalValue = (context, position) => {\n    const fields = context.fields();\n    if (!fields.x.length || !fields.y.length) {\n        return null;\n    }\n    const data = context.data();\n    const axes = context.axes();\n    const fieldsConfig = data.getFieldsConfig();\n    const xField = getObjProp(fields, 'x', 0).getMembers()[0];\n    const yField = getObjProp(fields, 'y', 0).getMembers()[0];\n    const xFieldType = fieldsConfig[xField] && (fieldsConfig[xField].def.subtype ? fieldsConfig[xField].def.subtype :\n        fieldsConfig[xField].def.type);\n    const yFieldType = fieldsConfig[yField] && (fieldsConfig[yField].def.subtype ? fieldsConfig[yField].def.subtype :\n                fieldsConfig[yField].def.type);\n\n    const entryVal = [['x', xFieldType, xField], ['y', yFieldType, yField]].find(entry =>\n        entry[1] === DimensionSubtype.CATEGORICAL || entry[1] === DimensionSubtype.TEMPORAL);\n\n    if (!entryVal || (xFieldType !== FieldType.MEASURE && yFieldType !== FieldType.MEASURE)) {\n        return null;\n    }\n    const field = entryVal[2];\n    const index = fieldsConfig[field].index;\n    let key = axes[entryVal[0]][0].invert(position[entryVal[0]]);\n    if (entryVal[1] === DimensionSubtype.TEMPORAL) {\n        const filterData = [...new Set(data.getData().data.map(d => d[index]))];\n        key = filterData[getClosestIndexOf(filterData, key)];\n    }\n\n    return key !== undefined ? [[field], [key]] : null;\n};\n\nexport const getLayersBy = (layers, searchBy, value) => layers.filter((layer) => {\n    const name = searchBy === 'type' ? layer.constructor.formalName() : layer.alias();\n    return name === value;\n});\n\nexport const removeLayersBy = (layers, searchBy, value) => {\n    layers.filter((inst) => {\n        const name = searchBy === 'type' ? inst.config().mark : inst.alias();\n        if (name === value) {\n            inst.remove();\n            return false;\n        }\n        return true;\n    });\n};\n\nexport const createSideEffectGroup = (container, className) => makeElement(container, 'g', [1], className).node();\n\nexport const getAdjustedDomain = (max, min) => {\n    const y1ratio = max[0] / (max[0] - min[0]);\n    const y2ratio = max[1] / (max[1] - min[1]);\n\n    // adjust min/max values for positive negative values zero line etc\n    let allSameSign = false;\n\n    // if all numbers are positive set floor to zero\n    if (min[0] > 0 && min[1] > 0 && min[1] > 0 && max[1] > 0) {\n        allSameSign = true;\n        min[0] = 0;\n        min[1] = 0;\n    }\n\n    // if all numbers are negative set ceiling to zero\n    if (min[0] < 0 && min[1] < 0 && min[1] < 0 && max[1] < 0) {\n        allSameSign = true;\n        max[0] = 0;\n        max[1] = 0;\n    }\n\n    // align zero line if necessary\n    if (!allSameSign && y1ratio !== y2ratio) {\n        if (y1ratio < y2ratio) {\n                    // adjust min[1]\n            min[1] = min[0] / max[0] * max[1];\n        } else {\n                    // adjust min[0]\n            min[0] = min[1] / max[1] * max[0];\n        }\n    }\n    return {\n        max,\n        min\n    };\n};\n","import { getObjProp, defaultValue, makeElement, DimensionSubtype, DataModel } from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { layerFactory } from '@chartshq/visual-layer';\nimport { GRIDLINEPARENTGROUPCLASS, GRIDBANDPARENTGROUPCLASS } from '../enums/constants';\nimport { TIMEDIFFS } from '../enums/reactive-props';\n\nconst LINEAR = ScaleType.LINEAR;\n\nconst getLayerDefinition = (context, axes, type, orientation) => {\n    let encoding;\n    const config = context.config();\n    const { classPrefix, gridLines, gridBands } = config;\n    const gridLineColor = gridLines.color;\n    const zeroLineColor = gridLines.zeroLineColor;\n    const defClassName = type === 'band' ? gridBands.defClassName : gridLines.defClassName;\n    const gridBandColor = gridBands[orientation].color;\n    const axis = axes[orientation][0];\n    const isLinearScale = axis.constructor.type() === LINEAR;\n\n    if (type === 'band' && isLinearScale) {\n        encoding = {\n            [orientation]: `${orientation}value`,\n            [`${orientation}0`]: `${orientation}value0`\n        };\n    } else {\n        encoding = {\n            [orientation]: isLinearScale ? `${orientation}value` : `${orientation}dim`\n        };\n    }\n    encoding.color = {\n        value: (data, i) => {\n            const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n            if (type === 'band') {\n                return gridBandColor[i % 2];\n            }\n            return isNegativeDomain && data[orientation] === 0 ? zeroLineColor : gridLineColor;\n        }\n    };\n\n    return {\n        definition: {\n            defClassName: `${defClassName}-${orientation}`,\n            className: config.className,\n            individualClassName: (data, i) => {\n                let className;\n                const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n                if (isNegativeDomain && data.y === 0 && type !== 'band') {\n                    className = `${classPrefix}-axis-zero-line`;\n                } else {\n                    className = `${classPrefix}-grid-${type}-${orientation}-${i % 2}`;\n                }\n                return className;\n            },\n            [`pad${orientation.toUpperCase()}`]: type === 'band' ? 0 : undefined,\n            encoding\n        },\n        axes: {\n            [orientation]: axis\n        },\n        interactive: false\n    };\n};\n\nconst getDefaultVisibilty = (show, axis) => {\n    if (axis.constructor.type() === LINEAR) {\n        return show;\n    }\n    return false;\n};\n\nexport const getGridLayerDefinitions = (context, config, type) => ['x', 'y'].map((axisType) => {\n    const show = defaultValue(config[axisType] && config[axisType].show,\n        getDefaultVisibilty(config.show, context.axes()[axisType][0]));\n\n    return show ? getLayerDefinition(context, context.axes(), type, axisType) : undefined;\n}).filter(d => d !== undefined);\n\nexport const getGridLayerData = (axes, fields, fieldsConfig) => {\n    const gridData = {};\n    ['x', 'y'].forEach((type) => {\n        let ticks = axes[type][0].getTickValues();\n        const subtype = getObjProp(fieldsConfig, getObjProp(fields, type, 0).getMembers()[0], 'def', 'subtype');\n        const jsonData = [];\n        const schema = [\n            {\n                name: 'yvalue',\n                type: 'measure'\n            }, {\n                name: 'xvalue',\n                type: 'measure'\n            },\n            {\n                name: 'yvalue0',\n                type: 'measure'\n            }, {\n                name: 'xvalue0',\n                type: 'measure'\n            }, {\n                name: 'xdim',\n                type: 'dimension',\n                subtype\n            }, {\n                name: 'ydim',\n                type: 'dimension',\n                subtype\n            }\n        ];\n        const len = Math.max(ticks.length);\n        ticks = subtype === DimensionSubtype.TEMPORAL ? ticks.map(d => d.getTime()) : ticks;\n        for (let i = 0; i < len; i += 1) {\n            jsonData.push({\n                [`${type}value`]: ticks[i],\n                [`${type}value0`]: ticks[i + 1],\n                [`${type}dim`]: ticks[i],\n                [`${type}dim`]: ticks[i]\n            });\n        }\n        gridData[type] = new DataModel(jsonData, schema);\n    });\n    return gridData;\n};\n\nexport const createGridLineLayer = (context, data) => {\n    const vuConf = context.config();\n    const dependencies = context._layerDeps;\n    const measurement = {\n        width: context.width(),\n        height: context.height()\n    };\n\n    ['band', 'line'].forEach((type) => {\n        let mark;\n        let config;\n        let instances;\n        if (type === 'band') {\n            mark = 'bar';\n            config = vuConf.gridBands;\n            instances = context._gridbands;\n        } else {\n            mark = 'tick';\n            config = vuConf.gridLines;\n            instances = context._gridlines;\n        }\n        const definitions = getGridLayerDefinitions(context, config, type);\n\n        definitions.forEach((atomicDef, i) => {\n            let layer;\n            const definition = atomicDef.definition;\n            const axesObj = atomicDef.axes;\n            const sConf = layerFactory.getSerializedConf(mark, definition);\n            sConf.mark = mark;\n            if (!instances[i]) {\n                layer = layerFactory.getLayerInstance(sConf);\n                layer.dependencies(dependencies);\n            } else {\n                layer = instances[i];\n            }\n\n            layer.config(sConf)\n                            .measurement(measurement)\n                            .data(axesObj.y ? data.y : data.x)\n                            .dataProps({\n                                timeDiffs: context.store().get(TIMEDIFFS)\n                            })\n                            .axes(axesObj);\n            instances[i] = layer;\n        });\n    });\n};\n\nexport const renderGridLineLayers = (context, container) => {\n    const axes = context.axes();\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n\n    if (axes && ((axes.x && axes.x.length) || (axes.y && axes.y.length))) {\n        const gridBandData = getGridLayerData(axes, context.fields(), context.data().getFieldsConfig());\n        createGridLineLayer(context, gridBandData);\n        [[context._gridlines, `${classPrefix}-${GRIDLINEPARENTGROUPCLASS}`],\n            [context._gridbands, `${classPrefix}-${GRIDBANDPARENTGROUPCLASS}`]].forEach((entry) => {\n                const [instances, parentGroupClass] = entry;\n                const mountPoint = makeElement(container, 'g', [1], `.${parentGroupClass}`);\n                const className = `${parentGroupClass}-group`;\n                makeElement(mountPoint, 'g', instances, `.${className}`, {\n                    update: (group, instance) => {\n                        instance.mount(group.node());\n                    }\n                });\n            });\n    }\n};\n","import { CLASSPREFIX, CONSOLIDATED } from './enums/constants';\n\n/**\n * Returns the default configuration of the visual unit\n * @return {Object} Default configuration of visual unit\n */\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'visual-unit',\n    className: '',\n    trackerClassName: 'visual-unit-tracker',\n    gridLines: {\n        defClassName: 'axis-grid-lines',\n        className: '',\n        show: true,\n        color: '#efefef',\n        zeroLineColor: '#b6b6b6'\n    },\n    gridBands: {\n        defClassName: 'axis-grid-bands',\n        className: '',\n        show: false,\n        y: {\n            color: ['#fff', '#fbfbfb']\n        },\n        x: {\n            color: ['#fff', '#f9f9f9']\n        }\n    },\n    arcLayerClassName: 'layer-arc',\n    interaction: {\n        tooltip: {\n            mode: CONSOLIDATED\n        }\n    },\n    sideEffectClassName: 'side-effect-container'\n};\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const GRIDLINEPARENTGROUPCLASS = 'grid-lines';\nexport const GRIDBANDPARENTGROUPCLASS = 'grid-bands';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const RETINAL_FIELDS = 'retinalFields';\nexport const PARENT_ALIAS = 'parentAlias';\nexport const LAYERS = 'layers';\nexport const CACHED_DATA = 'cachedData';\nexport const STORE = 'store';\n\n","import { mergeRecursive } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { CONFIG, LAYERDEFS, AXES, WIDTH, HEIGHT, MOUNT, TRANSFORM, FIELDS, DATA } from './enums/reactive-props';\n\nexport default {\n    [CONFIG]: {\n        value: null,\n        meta: {\n            sanitization: (config, oldConfig) => (\n                mergeRecursive(oldConfig || mergeRecursive({}, defaultConfig), config)\n            )\n        }\n    },\n    [LAYERDEFS]: {\n        value: null\n    },\n    [AXES]: {\n        value: null,\n        meta: {\n            sanitization: (axes, prevAxes) => Object.assign(prevAxes || {}, axes)\n        }\n    },\n    [WIDTH]: {\n        value: null\n    },\n    [HEIGHT]: {\n        value: null\n    },\n    [MOUNT]: {\n        value: null\n    },\n    [TRANSFORM]: {\n        value: null\n    },\n    [FIELDS]: {\n        value: null\n    },\n    [DATA]: {\n        value: null,\n        meta: {\n            preset: (data, context) => {\n                if (context._cache) {\n                    const cachedData = context.cachedData();\n                    context.cachedData([...cachedData, data]);\n                } else {\n                    const oldData = context.data();\n                    oldData && oldData.unsubscribe('propagation');\n                    context.cachedData([data]);\n                }\n            }\n        }\n    }\n};\n","import { DimensionSubtype } from 'muze-utils';\nimport * as PROPS from './enums/reactive-props';\nimport {\n    transformDataModels,\n    getDimensionMeasureMap,\n    createLayers,\n    attachDataToLayers,\n    attachAxisToLayers,\n    unionDomainFromLayers,\n    getLayerAxisIndex\n} from './helper';\n\nconst axisMap = {\n    0: 'primary',\n    1: 'secondary'\n};\nconst axisProps = [PROPS.primaryXAxisUpdated, PROPS.secondaryXAxisUpdated, PROPS.primaryYAxisUpdated,\n    PROPS.secondaryYAxisUpdated];\n\nexport const listenerMap = context => ([\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.AXES],\n        listener: ([, axes]) => {\n            ['x', 'y'].forEach((type) => {\n                const axesArr = axes[type] || [];\n                axesArr.forEach((axis, i) => {\n                    axis.on('update', () => {\n                        context.store().commit(PROPS[`${axisMap[i]}${axis.isReverse() ? 'Y' : 'X'}AxisUpdated`], true);\n                    });\n                });\n            });\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.CONFIG],\n        listener: ([, config]) => {\n            config && context.firebolt().config(config.interaction);\n        }\n    },\n    {\n        type: 'computed',\n        props: [PROPS.LAYERSCREATED],\n        listener: fetch => fetch(PROPS.LAYERDEFS, PROPS.FIELDS, (layerDefs, fields) => {\n            const layerDefsValue = layerDefs.value;\n            const fieldsVal = fields.value;\n            if (layerDefsValue && fieldsVal) {\n                const layers = createLayers(context, layerDefs.value);\n                context.layers(layers);\n                context._layerAxisIndex = getLayerAxisIndex(context.layers(), fieldsVal);\n                context._lifeCycleManager.notify({ client: layers, action: 'initialized', formalName: 'layer' });\n                return true;\n            }\n            return null;\n        })\n    },\n    {\n        type: 'computed',\n        props: [PROPS.TIMEDIFFS],\n        listener: fetch => fetch(PROPS.DATA, PROPS.FIELDS, PROPS.AXES, (data, fields, axes) => {\n            const dataModel = data.value;\n            const axisFields = fields.value;\n            const axesObj = axes.value;\n            if (dataModel && axisFields && axesObj) {\n                const timeDiffs = {};\n                ['x', 'y'].forEach((type) => {\n                    const field = axisFields[type][0];\n                    if (field && field.subtype() === DimensionSubtype.TEMPORAL) {\n                        timeDiffs[type] = field.getMinDiff();\n                        axesObj[type].forEach(axis => axis.minDiff(timeDiffs[type]));\n                    }\n                });\n                return timeDiffs;\n            }\n            return null;\n        })\n    },\n    {\n        type: 'computed',\n        props: [PROPS.DATADOMAIN],\n        listener: fetch => fetch(PROPS.DATA, PROPS.LAYERSCREATED, PROPS.AXES, PROPS.TRANSFORM,\n            (dataModel, layersCreated, axes, transform) => {\n                const dataModelVal = dataModel.value;\n                const layerAxisIndexVal = context._layerAxisIndex;\n                const axesVal = axes.value;\n                if (dataModelVal && layersCreated.value && axesVal && layerAxisIndexVal) {\n                    const layers = context.layers();\n                    const dataModels = transformDataModels(transform.value, dataModelVal);\n                    context._transformedDataModels = dataModels;\n                    context._lifeCycleManager.notify({ client: layers, action: 'beforeupdate', formalName: 'layer' });\n                    attachDataToLayers(layers, dataModelVal, context._transformedDataModels);\n                    context._dimensionMeasureMap = getDimensionMeasureMap(layers,\n                        dataModelVal.getFieldsConfig(), context.retinalFields());\n                    attachAxisToLayers(axesVal, layers, layerAxisIndexVal);\n                    context._lifeCycleManager.notify({ client: layers, action: 'updated', formalName: 'layer' });\n                    return unionDomainFromLayers(layers, context.fields(),\n                        layerAxisIndexVal, dataModelVal.getFieldsConfig());\n                }\n                return null;\n            })\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.DATADOMAIN],\n        listener: ([, dataDomain]) => {\n            dataDomain !== null && context.updateAxisDomain(dataDomain);\n        }\n    },\n    {\n        type: 'registerChangeListener',\n        props: [PROPS.MOUNT, PROPS.DATA, ...axisProps],\n        listener: (mount, data) => {\n            const container = mount[1];\n            if (container && data[1]) {\n                context.render(container);\n            }\n        }\n    }\n]);\n","import { FACET_BY_FIELDS, RETINAL_FIELDS, PARENT_ALIAS, LAYERS, STORE, CACHED_DATA } from './enums/constants';\n\nexport const PROPS = {\n    [FACET_BY_FIELDS]: {},\n    [RETINAL_FIELDS]: {},\n    [PARENT_ALIAS]: {},\n    [LAYERS]: {},\n    [STORE]: {},\n    [CACHED_DATA]: {}\n};\n","import { CommonProps } from 'muze-utils';\nimport { DATA, MOUNT } from '../enums/reactive-props';\n\nexport const clearActionHistory = (context) => {\n    const actionHistory = context._actionHistory;\n    for (const key in actionHistory) {\n        if (actionHistory[key].isMutableAction) {\n            delete context._actionHistory[key];\n        }\n    }\n};\n\nexport const dispatchQueuedSideEffects = (context) => {\n    const queuedSideEffects = context._queuedSideEffects;\n    queuedSideEffects.forEach((sideEffect) => {\n        context.dispatchSideEffect(sideEffect.name, ...sideEffect.params);\n    });\n    context._queuedSideEffects = [];\n};\n\nexport const registerListeners = (firebolt) => {\n    const context = firebolt.context;\n    const store = context.store();\n\n    store.registerImmediateListener([DATA, MOUNT], (dataModel, mount) => {\n        const dm = dataModel[1];\n\n        if (dm && mount[1]) {\n            const originalData = firebolt.context.cachedData()[0];\n            firebolt.createSelectionSet(firebolt.context.data().getData().uids);\n            firebolt.attachPropagationListener(originalData);\n        }\n    }, true);\n\n    context._layerDeps.throwback.registerChangeListener([CommonProps.ON_LAYER_DRAW],\n        ([, onlayerdraw]) => {\n            if (onlayerdraw) {\n                firebolt.initializeSideEffects();\n                firebolt.config(context.config().interaction);\n                firebolt.mapActionsAndBehaviour();\n                dispatchQueuedSideEffects(firebolt);\n                clearActionHistory(firebolt);\n            }\n        });\n};\n\n","import { DimensionSubtype } from 'muze-utils';\n\nconst getRangeFromData = (instance, selectionDataModel, propConfig) => {\n    let criteria;\n    const dataObj = selectionDataModel[0].getData();\n    const propCriteria = propConfig.payload.criteria;\n    const sourceIdentifiers = propConfig.sourceIdentifiers;\n    const schema = dataObj.schema;\n    const fieldMap = instance.data().getFieldsConfig();\n    const data = dataObj.data;\n    const isActionSourceSame = instance.id() === propConfig.sourceId;\n\n    if (isActionSourceSame) {\n        criteria = propCriteria;\n    } else {\n        criteria = (sourceIdentifiers !== null) ? schema.reduce((acc, obj, index) => {\n            let range;\n            const field = obj.name;\n            const fieldObj = fieldMap[field];\n            const type = fieldObj && (fieldObj.def.subtype ? fieldObj.def.subtype : fieldObj.def.type);\n            const isDimension = type === DimensionSubtype.CATEGORICAL;\n\n            if (!fieldObj) {\n                return acc;\n            }\n\n            if (!isDimension) {\n                range = [Math.min(...data.map(d => d[index])), Math.max(...data.map(d => d[index]))];\n            } else {\n                range = data.map(d => d[index]);\n            }\n            acc[field] = range;\n            return acc;\n        }, {}) : null;\n    }\n    return criteria;\n};\n\nexport const payloadGenerator = {\n    brush: (instance, selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const criteria = getRangeFromData(instance, selectionDataModel, propConfig);\n        const payload = Object.assign({}, propPayload);\n        payload.criteria = criteria;\n        return payload;\n    },\n\n    __default: (instance, selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const sourceIdentifiers = propConfig.sourceIdentifiers;\n        const dataObj = selectionDataModel[0].getData();\n        let schema = dataObj.schema;\n        const payload = Object.assign({}, propPayload);\n        schema = dataObj.schema;\n        const data = dataObj.data;\n        payload.criteria = !sourceIdentifiers ? null : [schema.map(d => d.name), ...data];\n        return payload;\n    }\n};\n\n","import { isSimpleObject, FieldType, DataModel } from 'muze-utils';\n\nconst getModelWithFacetData = (dm, data) => {\n    const dataObj = dm.getData();\n    const schema1 = dataObj.schema;\n    const data1 = dataObj.data;\n    const jsonData = [];\n    const schema2 = data[0].map(d => ({\n        name: `${d}`,\n        type: FieldType.DIMENSION\n    }));\n    const data2 = data[1];\n\n    data1.forEach((d) => {\n        const tuple = {};\n        schema1.forEach((obj, i) => {\n            tuple[obj.name] = d[i];\n        });\n        schema2.forEach((obj, i) => {\n            tuple[obj.name] = data2[i];\n        });\n        jsonData.push(tuple);\n    });\n\n    return new DataModel(jsonData, [...schema1, ...schema2]);\n};\n\nexport const propagateValues = (instance, action, config = {}) => {\n    let propagationData;\n    const payload = config.payload;\n    const selectionSet = config.selectionSet;\n    const propagationFieldInf = config.propagationFields[action] || {};\n    const propagationFields = propagationFieldInf.fields || [];\n    const append = propagationFieldInf.append;\n    const criteria = payload.criteria;\n    const context = instance.context;\n    const dataModel = context.cachedData()[0];\n    const sourceId = context.id();\n    const sideEffects = config.sideEffects;\n    const mutableEffect = [].concat(...Object.values(sideEffects).map(d => d.effects)).find(sideEffect =>\n        instance._sideEffects[sideEffect.name || sideEffect].constructor.mutates(true) &&\n        sideEffect.applyOnSource !== false);\n    const mergedModel = selectionSet.mergedEnter.model;\n\n    payload.sourceUnit = sourceId;\n    payload.action = action;\n    payload.sourceCanvas = context.parentAlias();\n\n    if (criteria === null) {\n        propagationData = null;\n    } else if (isSimpleObject(criteria)) {\n        const fields = Object.keys(criteria || {});\n        propagationData = mergedModel ? mergedModel.project(fields) : null;\n    } else {\n        const criteriaFields = criteria[0];\n        propagationData = mergedModel ? mergedModel.project(criteriaFields) : null;\n    }\n\n    if (propagationData !== null && propagationFields.length) {\n        const fields = propagationData.getData().schema.map(d => d.name);\n        propagationData = getModelWithFacetData(propagationData, context.facetByFields());\n        propagationData = propagationData.project(append ? [...fields, ...propagationFields] : propagationFields);\n    }\n\n    dataModel.addToPropNamespace(sourceId, {\n        payload,\n        criteria: propagationData,\n        isMutableAction: mutableEffect,\n        actionName: mutableEffect ? (mutableEffect.name || mutableEffect) : action\n    });\n    dataModel.propagate(propagationData, payload, {\n        isMutableAction: mutableEffect,\n        sourceId\n    });\n};\n","import { FieldType } from 'muze-utils';\nimport { Firebolt, SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { registerListeners } from './helper';\nimport { payloadGenerator } from './payload-generator';\nimport { propagateValues } from './data-propagator';\n\n/**\n * This class manages the interactions of visual unit. It associates physical actions with\n * behavioural actions. It also propagates the behavioural actions to other datamodels.\n */\nexport default class UnitFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        registerListeners(this);\n    }\n\n    propagate (behaviour, payload, selectionSet, sideEffects) {\n        propagateValues(this, behaviour, {\n            payload,\n            selectionSet,\n            sideEffects,\n            propagationFields: this._propagationFields\n        });\n    }\n\n    getApplicableSideEffects (sideEffects, payload, propagationInf) {\n        const context = this.context;\n        const unitId = context.id();\n        const aliasName = context.parentAlias();\n        const propagationSourceCanvas = propagationInf.propPayload && propagationInf.propPayload.sourceCanvas;\n        const sourceUnitId = propagationInf.propPayload && propagationInf.propPayload.sourceUnit;\n        const sourceSideEffects = this._sourceSideEffects;\n        const actionOnSource = sourceUnitId ? sourceUnitId === unitId : true;\n\n        const applicableSideEffects = payload.sideEffects ? [{\n            effects: payload.sideEffects,\n            behaviours: [payload.action]\n        }] : sideEffects;\n        applicableSideEffects.forEach((d) => {\n            let mappedEffects = d.effects;\n            mappedEffects = mappedEffects.filter((se) => {\n                if (!actionOnSource && payload.criteria !== null) {\n                    const sideEffectChecker = sourceSideEffects[se.name || se];\n                    return sideEffectChecker ? sideEffectChecker(propagationInf.propPayload, context) : true;\n                }\n                if (propagationSourceCanvas === aliasName) {\n                    return se.applyOnSource !== false;\n                }\n                return true;\n            });\n            d.effects = mappedEffects;\n        });\n        return applicableSideEffects;\n    }\n\n    shouldApplySideEffects (propagate) {\n        return propagate === false;\n    }\n\n    onDataModelPropagation () {\n        return (propValue) => {\n            let isSourceFieldPresent = true;\n            let isMutableAction = false;\n            const data = propValue.data;\n            const propPayload = propValue.payload;\n            const sourceIdentifiers = propValue.sourceIdentifiers;\n            const action = propPayload.action;\n            const unitId = this.context.id();\n            const payloadFn = payloadGenerator[action] || payloadGenerator.__default;\n\n            if (sourceIdentifiers) {\n                const fieldsConfig = sourceIdentifiers.getFieldsConfig();\n                const sourceIdentifierFields = Object.keys(fieldsConfig);\n                const propFields = Object.keys(data[0].getFieldsConfig());\n                if (!Object.values(fieldsConfig).some(d => d.def.type === FieldType.MEASURE)) {\n                    isSourceFieldPresent = sourceIdentifierFields.some(d => propFields.indexOf(d) !== -1);\n                }\n            }\n\n            const sourceUnitId = propPayload.sourceUnit;\n            const actionOnSource = sourceUnitId ? sourceUnitId === unitId : true;\n            const payload = payloadFn(this.context, data, propValue);\n            const sideEffects = this._behaviourEffectMap[action];\n            const sourceBehaviours = this._sourceBehaviours;\n            const filterFn = sourceBehaviours[action] || sourceBehaviours['*'];\n            let enabled = true;\n\n            if (filterFn) {\n                enabled = filterFn(propPayload || {}, this.context);\n            }\n\n            if (enabled) {\n                const mutableEffect = sideEffects.find(sideEffect =>\n                    this._sideEffects[sideEffect.name || sideEffect].constructor.mutates(true));\n\n                isMutableAction = !!mutableEffect;\n\n                if (actionOnSource && mutableEffect && mutableEffect.applyOnSource === false) {\n                    isMutableAction = false;\n                }\n\n                const propagationInf = {\n                    propagate: false,\n                    data,\n                    propPayload,\n                    sourceIdentifiers,\n                    persistent: false,\n                    isSourceFieldPresent,\n                    sourceId: propValue.sourceId\n                };\n                this._actionHistory[action] = {\n                    payload,\n                    propagationInf,\n                    isMutableAction\n                };\n                this.dispatchBehaviour(action, payload, propagationInf);\n            }\n        };\n    }\n\n    initializeSideEffects () {\n        super.initializeSideEffects();\n        const sideEffects = this.sideEffects();\n        for (const key in sideEffects) {\n            if ({}.hasOwnProperty.call(sideEffects, key)) {\n                sideEffects[key] instanceof SpawnableSideEffect && sideEffects[key].drawingContext(() => {\n                    const context = this.context;\n                    return context.getDrawingContext();\n                });\n            }\n        }\n    }\n\n    prepareSelectionSets (behaviours) {\n        const data = this.context.data();\n        if (data) {\n            this.createSelectionSet(data.getData().uids, behaviours);\n        }\n        return this;\n    }\n\n    remove () {\n        this.context.cachedData()[0].unsubscribe('propagation');\n        return this;\n    }\n}\n","import { layerFactory } from '@chartshq/visual-layer';\nimport {\n    setAttrs,\n    CommonProps,\n    getUniqueId,\n    getQualifiedClassName,\n    selectElement,\n    transactor,\n    Store,\n    makeElement,\n    registerListeners,\n    generateGetterSetters,\n    getDataModelFromIdentifiers,\n    isSimpleObject,\n    transposeArray,\n    FieldType\n} from 'muze-utils';\nimport { physicalActions, sideEffects, behaviouralActions, behaviourEffectMap } from '@chartshq/muze-firebolt';\nimport { actionBehaviourMap } from './firebolt/action-behaviour-map';\nimport {\n    renderLayers,\n    getNearestDimensionalValue,\n    removeLayersBy,\n    getLayersBy,\n    getLayerFromDef,\n    attachAxisToLayers,\n    getLayerAxisIndex,\n    createSideEffectGroup,\n    getAdjustedDomain\n} from './helper';\nimport { renderGridLineLayers } from './helper/grid-lines';\nimport localOptions from './local-options';\nimport { listenerMap } from './listener-map';\nimport {\n    primaryYAxisUpdated,\n    primaryXAxisUpdated,\n    secondaryXAxisUpdated,\n    secondaryYAxisUpdated,\n    DATADOMAIN,\n    TIMEDIFFS\n} from './enums/reactive-props';\nimport { PROPS } from './props';\nimport UnitFireBolt from './firebolt';\nimport './styles.scss';\n\nconst FORMAL_NAME = 'unit';\n\n/**\n * @module VisualUnit\n * A hierarchical component of renderer which manages multiple layers. This logical\n * module is responsible for layouting layers, attach axis with them, resolving conflicts of layers.\n */\n\n/**\n * Basic unit implementaiton\n * @class VisualUnit\n */\nexport default class VisualUnit {\n\n    /**\n     * Creates instance of visualization unit\n     * @param registry {Object} Component registry\n     * @param dependencies {Object} Dependencies required by visual unit.\n     */\n    constructor (registry, dependencies) {\n        this._id = getUniqueId();\n        this._dependencies = dependencies;\n        this._layerDeps = {\n            throwback: new Store({\n                onlayerdraw: false\n            }),\n            smartLabel: dependencies.smartLabel\n        };\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        this._layerDeps.throwback.registerChangeListener([CommonProps.ON_LAYER_DRAW], () => {\n            this._renderedResolve();\n            this._lifeCycleManager.notify({ client: this.layers(), action: 'drawn', formalName: 'layer' });\n        });\n\n        this._lifeCycleManager = dependencies.lifeCycleManager;\n        this._layersMap = {};\n        this._gridlines = [];\n        this._gridbands = [];\n        this._layerAxisIndex = {};\n        this._transformedDataModels = {};\n\n        layerFactory.setLayerRegistry(registry.layerRegistry);\n        generateGetterSetters(this, PROPS);\n        this.cachedData([]);\n        this.store(new Store({\n            [primaryXAxisUpdated]: null,\n            [primaryYAxisUpdated]: null,\n            [secondaryXAxisUpdated]: null,\n            [secondaryYAxisUpdated]: null\n        }));\n        transactor(this, localOptions, this.store().model);\n        this.firebolt(new UnitFireBolt(this, {\n            physical: physicalActions,\n            behavioural: behaviouralActions,\n            physicalBehaviouralMap: actionBehaviourMap\n        }, sideEffects, behaviourEffectMap));\n        registerListeners(this, listenerMap);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof VisualUnit\n     */\n    static formalName () {\n        return FORMAL_NAME;\n    }\n\n    /**\n     * Static helper for creates a unit instance\n     *\n     * @param {Object} [id] optional unique identifier for a unit; , id is calculated internally\n     * @param {DataModel} data instance of datamodel\n     * @param {Array.<Layer>} layers layer configuration\n     * @param {Object} config configurtion for the visual unit\n     * @return {VisualUnit} Instance of a unit\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof VisualUnit\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Gets the domain for all axes of this visual unit.\n     * @return {Object} Domains of each data field.\n     */\n    getDataDomain () {\n        return this.store().get(DATADOMAIN);\n    }\n\n    /**\n     * Retrieves the id created for this instance of visual unit\n     * @return {string} id associated with the instance\n     */\n    id () {\n        return this._id;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    lockModel () {\n        this._store.model.lock();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    unlockModel () {\n        this._store.model.unlock();\n        return this;\n    }\n\n    /**\n     * Renders the visual unit. It creates the layout and renders the axes and layers.\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    render (container) {\n        const config = this.config();\n        const { className, defClassName, sideEffectClassName, classPrefix } = config;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const width = this.width();\n        const height = this.height();\n        const containerSelection = selectElement(container).style('position', 'relative');\n\n        this._rootSvg = makeElement(containerSelection, 'svg', [null], className)\n                        .style('width', `${width}px`).style('height', `${height}px`);\n\n        const node = this._rootSvg.node();\n        setAttrs(node, {\n            width,\n            height,\n            class: qualifiedClassName.join(' ')\n        });\n        renderGridLineLayers(this, node);\n        renderLayers(this, node, this.layers(), {\n            width,\n            height\n        });\n        this._sideEffectGroup = createSideEffectGroup(node, `${classPrefix}-${sideEffectClassName}`);\n        return this;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    enableCaching () {\n        this._cache = true;\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    clearCaching () {\n        this._cache = false;\n        this.cachedData([this.cachedData()[0]]);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    getDrawingContext () {\n        const rootSvg = this._rootSvg && this._rootSvg.node();\n        const width = this.width();\n        const height = this.height();\n        return {\n            htmlContainer: this.mount(),\n            svgContainer: rootSvg,\n            width,\n            height,\n            sideEffectGroup: this._sideEffectGroup,\n            parentContainer: this.parentContainer(),\n            xOffset: 0,\n            yOffset: 0\n        };\n    }\n\n    /**\n     * Returns the serialized configuration of visual unit.\n     * @return {Object} serialized configuration\n     */\n    serialize () {\n        return {\n            layers: this.layers().map(layer => layer.serialize()),\n            config: this.config(),\n            axes: this.store().get('axes').map(axis => axis.serialize())\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerDef\n     * @returns\n     * @memberof VisualUnit\n     */\n    addLayer (layerDef) {\n        const layerName = layerDef.name;\n        const layer = this.getLayerByName(layerName);\n        const measurement = {\n            width: this.width(),\n            height: this.height()\n        };\n\n        if (layer) {\n            return [layer];\n        }\n        const serializedDef = layerFactory.getSerializedConf(layerDef.mark, layerDef);\n        const instances = Object.values(getLayerFromDef(this, serializedDef));\n        this.layers().push(...instances);\n        const layerAxisIndex = getLayerAxisIndex(instances, this.fields());\n        this._layerAxisIndex = Object.assign(this._layerAxisIndex, layerAxisIndex);\n        attachAxisToLayers(this.axes(), instances, layerAxisIndex);\n        this.layers().forEach((lyr) => {\n            lyr.measurement(measurement);\n            lyr.dataProps({\n                timeDiffs: this.store().get(TIMEDIFFS)\n            });\n        });\n        return instances;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    remove () {\n        const lifeCycleManager = this._dependencies.lifeCycleManager;\n        lifeCycleManager.notify({ client: this, action: 'beforeremove', formalName: 'unit' });\n        this.store().unsubscribeAll();\n        selectElement(this.mount()).remove();\n        this.firebolt().remove();\n        // Remove layers\n        lifeCycleManager.notify({ client: this.layers(), action: 'beforeremove', formalName: 'layer' });\n        this.layers().forEach(layer => layer.remove());\n        lifeCycleManager.notify({ client: this.layers(), action: 'removed', formalName: 'layer' });\n        lifeCycleManager.notify({ client: this, action: 'removed', formalName: 'unit' });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     * @returns\n     * @memberof VisualUnit\n     */\n    getDataModelFromIdentifiers (identifiers, mode, parentModel) {\n        if (identifiers === null) {\n            return null;\n        }\n        const dataModel = parentModel || this.data();\n        return getDataModelFromIdentifiers(dataModel, identifiers, mode);\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    resetData () {\n        this.data(this.cachedData()[0]);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    getSourceInfo () {\n        return {\n            dimensionMeasureMap: this._dimensionMeasureMap,\n            fields: this.fields(),\n            data: this.data(),\n            axes: this.axes()\n        };\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof VisualUnit\n     */\n    getDefaultTargetContainer () {\n        const { classPrefix, defClassName } = this.config();\n        return [`.${classPrefix}-${defClassName}`];\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     * @returns\n     * @memberof VisualUnit\n     */\n    getLayersByType (type) {\n        const layers = getLayersBy(this.layers(), 'type', type);\n        return layers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} name\n     * @returns\n     * @memberof VisualUnit\n     */\n    getLayerByName (name) {\n        const layers = getLayersBy(this.layers(), 'name', name);\n        return layers[0];\n    }\n\n    /**\n     *\n     *\n     * @param {*} domain\n     * @returns\n     * @memberof VisualUnit\n     */\n    updateAxisDomain (domain) {\n        ['x', 'y'].forEach((type) => {\n            const axes = this.axes()[type];\n            let min = [];\n            let max = [];\n            let dom;\n            axes && axes.forEach((axis, i) => {\n                const field = this.fields()[type][i];\n                dom = domain[`${this.fields()[type][i]}`];\n\n                if (field.type() !== FieldType.DIMENSION && dom) {\n                    min[i] = dom[0];\n                    max[i] = dom[1];\n                }\n            });\n            if (axes) {\n                if (axes.length > 1) {\n                    const axisConf = axes[0].config();\n                    if (axes[0].constructor.type() === 'linear') {\n                        if (axisConf.alignZeroLine) {\n                            axes.forEach(axis => axis.config({\n                                nice: false\n                            }));\n                            const adjustedDomain = getAdjustedDomain(max, min);\n                            min = adjustedDomain.min;\n                            max = adjustedDomain.max;\n                        }\n\n                        axes[0].updateDomainCache([min[0], max[0]]);\n                        axes[1].updateDomainCache([min[1], max[1]]);\n                    } else {\n                        axes[0].updateDomainCache(dom);\n                        axes[1].updateDomainCache(dom);\n                    }\n                } else {\n                    axes[0].updateDomainCache(dom);\n                }\n            }\n        });\n        return this;\n    }\n\n    /**\n     * Finds the nearest point closest to the x and y position.\n     * @param {number} x x position.\n     * @param {number} y y position.\n     * @return {Object} Nearest point.\n     */\n    getNearestPoint (x, y, args) {\n        let pointObj = {\n            id: null\n        };\n        const dimValue = getNearestDimensionalValue(this, {\n            x,\n            y\n        });\n\n        if (dimValue !== null && args.getAllPoints) {\n            pointObj.id = dimValue;\n            const pointInf = this.getMarkInfFromLayers(x, y, args);\n            pointObj.target = pointInf && pointInf.id ? pointInf.id : pointObj.id;\n            return pointObj;\n        }\n\n        const markInf = this.getMarkInfFromLayers(x, y, args) || { id: null };\n        pointObj = Object.assign({}, markInf);\n\n        pointObj.target = markInf.id;\n        return pointObj;\n    }\n\n    getMarkInfFromLayers (x, y, args) {\n        const layers = this.layers();\n        const len = layers.length;\n        let point = null;\n        // Iterate through the layers array and fetch the nearest point from each layer. If a valid\n        // nearest point is found from any layer, then return that point.\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            const config = layer.config();\n            if (config.interactive !== false) {\n                point = layer.getNearestPoint(x, y, args);\n            }\n            if (point) {\n                return point;\n            }\n        }\n        return point;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     * @returns\n     * @memberof VisualUnit\n     */\n    getPlotPointsFromIdentifiers (identifiers, config = {}) {\n        let points = [];\n        let parsedIdentifiers = identifiers;\n        if (identifiers === null) {\n            return [];\n        }\n        const layers = this.layers();\n        const len = layers.length;\n        if (isSimpleObject(identifiers)) {\n            parsedIdentifiers = [Object.keys(identifiers)];\n            parsedIdentifiers = [...parsedIdentifiers, ...transposeArray(Object.values(identifiers))];\n        }\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            if (layer.config().interactive !== false) {\n                points = [...points, ...layer.getPointsFromIdentifiers(parsedIdentifiers, config)];\n            }\n        }\n        return points;\n    }\n\n    /**\n     *\n     *\n     * @param {*} name\n     * @returns\n     * @memberof VisualUnit\n     */\n    removeLayerByName (name) {\n        removeLayersBy('name', name);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     * @returns\n     * @memberof VisualUnit\n     */\n    removeLayersByType (type) {\n        removeLayersBy('type', type);\n        return this;\n    }\n\n    parentContainer (...container) {\n        if (container.length) {\n            this._parentContainer = container[0];\n\n            return this;\n        }\n        return this._parentContainer;\n    }\n}\n","import { DataModel } from 'muze-utils';\n\nimport { retriveDomainFromData } from './group-utils';\n\n/**\n * Gets name of fields form the variables\n *\n * @param {*} fields1\n * @param {*} [fields2=[]]\n * @return\n */\nconst getFieldNames = (fields1, fields2 = []) => [fields1, fields2].map(fields => fields.reduce((acc, d) => {\n    acc = [...acc, ...d.getMembers()];\n    return acc;\n}, []));\n\n/**\n * Creates a selected datamodel from a parent datamodel and a set of field names\n *\n * @param {Object} datamodel provided as input\n * @param {Array} fieldNames schema  names\n * @param {Array} fieldValues values of those schema names to be selected\n * @return {Object} creates a new selected datamodel\n */\nconst createSelectedDataModel = (datamodel, fieldNames, fieldValues) =>\n    datamodel.select(fields => fieldNames.every((field, k) => fields[field].value === fieldValues[k]));\n\n/**\n *\n *\n * @param {*} facets\n * @param {*} keyArray\n * @return\n */\nconst uniqueKeyGenerator = (keyArray, context, depth = 0, val = []) => {\n    const {\n        facets,\n        dataModel,\n        uniqueValues\n    } = context;\n\n    // Get unique keys for the next depth recursively if required\n    if (facets[depth + 1]) {\n        const field = facets[depth];\n        uniqueValues.forEach((value) => {\n            const newDm = dataModel.select(fields => fields[field].value === value);\n            const nextDepthUniqueValues = retriveDomainFromData(newDm, facets[depth + 1]);\n            const newContext = {\n                facets,\n                dataModel: newDm,\n                uniqueValues: nextDepthUniqueValues\n            };\n\n            uniqueKeyGenerator(keyArray, newContext, depth + 1, [...val, value]);\n        });\n    } else {\n        uniqueValues.forEach((value) => {\n            keyArray.push([...val, value]);\n        });\n    }\n};\n\n/**\n * projects row model based on the set of row and/or column and other projection fields\n *\n * @param {Object} datamodel provided as input\n * @return {Object} Projected datamodel\n */\nconst projectRows = (datamodel, projections) => {\n    const {\n        allColumnProjections,\n        rowProjections,\n        optionalProjections\n    } = projections;\n\n    if (rowProjections.length > 0) {\n        return rowProjections.map((projectFields) => {\n            const [projFieldNames, colProjFieldNames] = getFieldNames(projectFields, allColumnProjections);\n            return datamodel.project([...projFieldNames, ...colProjFieldNames, ...optionalProjections]);\n        });\n    }\n    return [datamodel];\n};\n\n/**\n * Adds the datamodels to current row index based on column fields\n *\n * @param {Array} context current context\n * @param {Array} callback List of facets applied to the current datamodel\n */\nconst pushToMatrix = (context, callback) => {\n    let cells = [];\n    const {\n        matrix,\n        datamodel,\n        facetInfo,\n        fieldInfo\n    } = context;\n    // Get projected fields for current row\n    const {\n        rowProjections,\n        colProjections,\n        optionalProjections\n    } = fieldInfo;\n    const {\n        rowIndex,\n        columnIndex\n    } = facetInfo;\n    const rowProj = rowProjections[(rowIndex) % rowProjections.length] || [];\n\n    // Get the cells for the matrix from the return function of the callback on the datamodel.\n    // callback function -> (datamodel, {projections, indices}, facets)\n    if (colProjections.length > 0) {\n        cells = colProjections.map((projectFields, projIdx) => {\n            const [colProjFieldNames, rowProjFieldNames] = getFieldNames(projectFields, rowProj);\n            const projectedDm = datamodel.project([...colProjFieldNames, ...rowProjFieldNames, ...optionalProjections]);\n            const projections = { rowFields: rowProj, columnFields: projectFields };\n            const indices = { rowIndex, columnIndex: columnIndex * colProjections.length + projIdx };\n\n            return callback(projectedDm, { projections, indices }, facetInfo);\n        });\n    } else {\n        const projections = { rowFields: rowProj, columnFields: [] };\n        const indices = { rowIndex, columnIndex };\n\n        cells = [callback(datamodel, { projections, indices }, facetInfo)];\n    }\n\n    matrix[rowIndex] = matrix[rowIndex] || [];\n    matrix[rowIndex].push(...cells);\n};\n\n/**\n * Gets Matrixes for corresponding datamodel, facets and projections\n *\n * @param {Object} dataModel input datamodel\n * @param {Object} fieldMap corresponding fieldmap\n * @param {Array} facetsAndProjections contains the set of facets and projections for the matrices\n * @param {Function} callback Callback executed after datamodels are prepared after sel/proj\n * @return {Object} set of matrices with the corresponding row and column keys\n */\nexport const getMatrixModel = (dataModel, fieldInfo, callback) => {\n    let rowDataModels = [];\n    const rowKeys = [];\n    const columnKeys = [];\n    const allColumnProjections = [];\n    const matrix = [];\n    const facetInfo = [];\n    const {\n        rowFacets,\n        colFacets,\n        colProjections\n    } = fieldInfo;\n\n    colProjections.forEach((colProj) => {\n        allColumnProjections.push(...colProj);\n    });\n    fieldInfo.allColumnProjections = allColumnProjections;\n\n    // Performing row selection and projection\n    if (rowFacets.length > 0) {\n        // Get unique values for the root level of facet\n        const field = rowFacets[0].toString();\n        const firstLevelRowKeys = retriveDomainFromData(dataModel, field);\n\n        // Get unique keys in the form of an array of arrays for each row\n        uniqueKeyGenerator(rowKeys, { facets: rowFacets, dataModel, uniqueValues: firstLevelRowKeys });\n\n        // Apply selection -> projection -> row datamodels\n        rowKeys.forEach((val) => {\n            // Create faceted datamodel\n            const [rowFacetFieldNames] = getFieldNames(rowFacets);\n            const selectedDataModel = createSelectedDataModel(dataModel, rowFacetFieldNames, val);\n\n            // Project the datamodel based on the number of projections (based on last levels)\n            facetInfo.push([rowFacets, val]);\n            rowDataModels.push(...projectRows(selectedDataModel, fieldInfo));\n        });\n    } else {\n        // No row facets, hence only row projection\n        rowDataModels.push(...projectRows(dataModel, fieldInfo));\n    }\n\n    // Maintaining set of row datamodels for column resolution\n    rowDataModels = rowDataModels.length > 0 ? rowDataModels : [[]];\n\n    // Performing column selection and projection\n    if (colFacets.length > 0) {\n        const colFacetNames = colFacets.map(d => `${d}`);\n        // Get unique values for the root level of facet\n        const field = colFacetNames[0];\n        const firstLevelColumnKeys = retriveDomainFromData(dataModel, field);\n\n        // Get unique keys to create faceted datamodels: this time for columns\n        uniqueKeyGenerator(columnKeys, {\n            facets: colFacetNames,\n            dataModel,\n            uniqueValues: firstLevelColumnKeys\n        });\n\n        // For each row in the datamodel, apply selection -> projection -> push the projection to matri\n        rowDataModels.forEach((dme, rIndex) => {\n            facetInfo[rIndex] = facetInfo[rIndex] || [[], []];\n            columnKeys.forEach((val, cIndex) => {\n                matrix[rIndex] = matrix[rIndex] || [];\n\n                // If datamodel is not present in current row, choose parent datamodel\n                const datamodel = dme instanceof DataModel ? dme : dataModel;\n\n                // Selection is made on the datamodel for the current row\n                const selectedDataModel = createSelectedDataModel(datamodel, colFacetNames, val);\n                const context = {\n                    matrix,\n                    datamodel: selectedDataModel,\n                    facetInfo: {\n                        rowFacets: facetInfo[rIndex],\n                        colFacets: [colFacets, val],\n                        rowIndex: rIndex,\n                        columnIndex: cIndex\n                    },\n                    fieldInfo\n                };\n                pushToMatrix(context, callback);\n            });\n        });\n    } else {\n        // No column facets, hence only row projection\n        rowDataModels.forEach((dme, rIndex) => {\n            facetInfo[rIndex] = facetInfo[rIndex] || [[], []];\n            const context = {\n                matrix,\n                datamodel: dme || dataModel,\n                facetInfo: {\n                    rowFacets: facetInfo[rIndex],\n                    colFacets: [[], []],\n                    rowIndex: rIndex,\n                    columnIndex: 0\n                },\n                fieldInfo\n            };\n\n            pushToMatrix(context, callback);\n        });\n    }\n\n    // Getting column keys\n    const transposedColKeys = columnKeys.length > 0 ? columnKeys[0].map((col, i) =>\n                    columnKeys.map(row => row[i])) : columnKeys;\n\n    return { matrix, rowKeys, columnKeys: transposedColKeys };\n};\n","import { AxisOrientation } from '@chartshq/muze-axis';\nimport { getObjProp, FieldType } from 'muze-utils';\nimport { getMatrixModel } from './matrix-model';\nimport {\n    getCellKey,\n    isDistributionEqual,\n    mutateAxesFromMap,\n    createSelection,\n    getFieldsFromSuppliedLayers,\n    extractFields\n} from './group-utils';\nimport { ROW, ROWS, COLUMNS, COL, LEFT, RIGHT, TOP, BOTTOM, PRIMARY, SECONDARY, X, Y } from '../enums/constants';\n\n/**\n * Updates row and column cells with the geom cell corresponding to the facet keys\n *\n * @param {*} resolver\n * @param {*} facets\n */\nconst updateCells = (resolver, facets, geomCell) => {\n    [ROW, COL].forEach((field) => {\n        const cells = resolver[`${field}Cells`]();\n        const facetKey = facets[`${field}Facets`][1].join();\n\n        !cells[facetKey] && (cells[facetKey] = []);\n        cells[facetKey].push(geomCell);\n        resolver[`${field}Cells`](cells);\n    });\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} datamodel\n * @param {*} fieldInfo\n * @param {*} facets\n * @return\n */\nexport const createValueCells = (context, datamodel, fieldInfo, facets) => {\n    const {\n        projections,\n        indices\n    } = fieldInfo;\n    const {\n        rowFields,\n        columnFields\n    } = projections;\n    const {\n         rowIndex,\n         columnIndex\n    } = indices;\n    const {\n        suppliedLayers,\n        cell: GeomCell,\n        resolver,\n        config,\n        encoder\n    } = context;\n    const axes = resolver.axes();\n    const cacheMaps = resolver.cacheMaps();\n    const matrixLayers = resolver.matrixLayers();\n    const labelManager = resolver.dependencies().smartlabel;\n    const horizontalAxis = resolver.horizontalAxis();\n    const verticalAxis = resolver.verticalAxis();\n    const datamodelTransform = resolver.datamodelTransform();\n    const {\n        entryCellMap,\n        exitCellMap\n    } = cacheMaps;\n    const layerConfigArr = encoder.getLayerConfig({ columnFields, rowFields }, suppliedLayers || []);\n    const axesCreators = { config, labelManager, axes, cacheMaps };\n\n    fieldInfo.normalizedColumns = verticalAxis.fields;\n    fieldInfo.normalizedRows = horizontalAxis.fields;\n\n    const groupAxes = encoder.createAxis(axesCreators, fieldInfo);\n\n    matrixLayers[rowIndex] = matrixLayers[rowIndex] ? matrixLayers[rowIndex] : [];\n    matrixLayers[rowIndex][columnIndex] = layerConfigArr;\n\n    // return from map if already there otherwise create and put in map\n    const geomCellKey = getCellKey(rowIndex, columnIndex);\n    const fields = {\n        y: rowFields,\n        x: columnFields\n    };\n    const allFacets = [\n        [...facets.rowFacets[0], ...facets.colFacets[0]],\n        [...facets.rowFacets[1], ...facets.colFacets[1]]\n    ];\n    const geomCell = !exitCellMap.has(geomCellKey) ? new GeomCell() : exitCellMap.get(geomCellKey);\n\n    geomCell.data(datamodel)\n                    .axes(groupAxes)\n                    .fields(fields)\n                    .transform(datamodelTransform)\n                    .facetByFields(allFacets);\n    entryCellMap.set(geomCellKey, geomCell);\n    exitCellMap.delete(geomCellKey);\n\n    updateCells(resolver, facets, geomCell);\n\n    return entryCellMap.get(geomCellKey);\n};\n\n/**\n * Creates axis cells based on the set of axes\n *\n * @param {Selection} selection Contains a selection of the axis units\n * @param {Array} axes Actual axis units\n * @param {number} axisIndex 0-> primary axis, 1-> secondary axis(when dual axis is made)\n * @param {Object} cells Contains a collection of the cells\n * @return {Object} return either set of axis/blank cells depending on the config\n */\n\nconst createAxisCells = (selection, axes, axisIndex, cells) =>\n    createSelection(selection, axis => axis, axes, (item, i) => i + item.reduce((e, n) => {\n        const id = n.id + axisIndex;\n        return e + id;\n    }, '')).map((axis) => {\n        if (axis && axis[axisIndex]) {\n            const axisInst = axis[axisIndex];\n            const { orientation } = axisInst.config();\n\n            return new cells.AxisCell().source(axisInst).config({\n                isOffset: orientation === AxisOrientation.LEFT || orientation === AxisOrientation.TOP\n            });\n        }\n        return new cells.BlankCell();\n    });\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @retur\n */\nconst axisPlaceholderGn = (context, selObj, cells) => {\n    const {\n        matrices\n    } = context;\n    const {\n        axesMatrix\n    } = matrices;\n\n    return (type, axisFrom) => {\n        const axes = axesMatrix[`${type}`];\n\n        if (axes && axes.length) {\n            if (type === X || type === Y) {\n                const fieldNames = type === Y ? ROWS : COLUMNS;\n\n                [PRIMARY, SECONDARY].forEach((fieldType, index) => {\n                    const selObjProp = `${fieldNames}${fieldType}`;\n                    let axisIndex = index;\n                    let axesForDraw = axes;\n                    if (axisFrom === RIGHT || axisFrom === BOTTOM) {\n                        axisIndex = 1 - axisIndex;\n                    }\n                    if (!getObjProp(axes, 0, axisIndex)) {\n                        axesForDraw = [];\n                    }\n                    selObj[selObjProp] = createAxisCells(selObj[selObjProp], axesForDraw, axisIndex, cells);\n                });\n            } else {\n                selObj.rowsPrimary = createAxisCells(selObj.rowPrime, axes.map(() => []), 0, cells);\n                selObj.columnsPrimary = createAxisCells(selObj.colPrime, axes[0], 0, cells);\n            }\n        }\n        return selObj;\n    };\n};\n\n/**\n * Creates header cells based on the set of headers\n *\n * @param {Object} selection Contains a selection of the header units\n * @param {string} headers Contains a list of the headers\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} return either set of header cells depending on the config\n */\nconst createTextCells = (selection, headers, cells, labelManager) => createSelection(selection,\n    label => new cells.TextCell({}, { labelManager }).source(label), headers, (key, i) => key + i);\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @param {*} labelManager\n * @return\n */\nconst headerPlaceholderGn = (context, selectionObj, cells, labelManager) => {\n    const {\n        axis,\n        keys,\n        type,\n        facetConfig\n    } = context;\n    const counter = axis.length / keys.length;\n    const selectionKeys = keys.length ? axis.map((d, i) => keys[Math.floor(i / counter)]) : [];\n    return createSelection(selectionObj[`${type}Headers`], keySet => keySet, selectionKeys, (keySet, i) =>\n        `${keySet.join(',')}-${i}`).map(keySet => createTextCells(null, keySet, cells, labelManager)\n                        .map((cell, k, i) => cell.source(keySet[i]).config(facetConfig || {})));\n};\n\n/**\n * Creates a set of placeholders as a part of selection object\n *\n * @param {Array} normalizedOptions contains normalized rows and columns\n * @param {Array} matrices contains axis and value matrices\n * @param {aArrayny} projections contains set of row and column projections\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} Creates a set of placeholders as a part of selections\n */\nconst generatePlaceholders = (context, cells, labelManager) => {\n    let selectionObj;\n    const {\n        matrices,\n        fields,\n        facetsAndProjections,\n        selection,\n        facetConfig,\n        encoders\n    } = context;\n    const {\n        rows,\n        columns\n    } = fields;\n    const {\n        valuesMatrix\n    } = matrices;\n    const {\n        rowProjections,\n        colProjections\n    } = facetsAndProjections;\n    const {\n        rowKeys,\n        columnKeys\n    } = valuesMatrix;\n    const takeAxisFrom = encoders.simpleEncoder._axisFrom;\n    const takeHeaderFrom = encoders.simpleEncoder._headerFrom;\n\n    selectionObj = selection || {};\n\n    ['pie', X, Y].forEach((axis) => {\n        const axisFrom = axis === X ? takeAxisFrom.column : takeAxisFrom.row;\n        selectionObj = axisPlaceholderGn(context, selectionObj, cells)(axis, axisFrom);\n    });\n\n    const {\n        rowsPrimary,\n        rowsSecondary,\n        columnsPrimary,\n        columnsSecondary\n    } = selectionObj;\n\n    const rowAxis = rowsPrimary && rowsPrimary.getObjects().length ? rowsPrimary.getObjects() :\n        (rowsSecondary && rowsSecondary.getObjects().length ? rowsSecondary.getObjects() : []);\n    const colAxis = columnsPrimary && columnsPrimary.getObjects().length ? columnsPrimary.getObjects() :\n        (columnsSecondary && columnsSecondary.getObjects().length ? columnsSecondary.getObjects() : []);\n\n    const headerConfig = [\n        { type: LEFT, section: rows[0], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: RIGHT, section: rows[1], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: TOP, section: columns[0], axis: colAxis, headerFrom: takeHeaderFrom.column },\n        { type: BOTTOM, section: columns[1], axis: colAxis, headerFrom: takeHeaderFrom.column }\n    ];\n\n    headerConfig.forEach((config, index) => {\n        let keys;\n        let length;\n        const {\n            type,\n            section,\n            axis,\n            headerFrom\n        } = config;\n\n        if (index < 2) {\n            keys = rowKeys;\n            length = rowProjections.length > 0 ? rowProjections.length : 1;\n        } else {\n            keys = columnKeys;\n            length = colProjections.length > 0 ? colProjections.length : 1;\n        }\n\n        if (section.length && headerFrom === type && axis && keys.length) {\n            const hContext = { axis, length, type };\n            let headers = [];\n            if (index < 2) {\n                hContext.keys = keys;\n                hContext.facetConfig = facetConfig.rows;\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            } else {\n                hContext.facetConfig = facetConfig.columns;\n                hContext.keys = keys[0].map((key, i) => keys.map(e => e[i]));\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            }\n            selectionObj[`${type}Headers`] = headers;\n        } else {\n            selectionObj[`${type}Headers`] = null;\n        }\n    });\n    return selectionObj;\n};\n\n/**\n * Generates matrices\n *\n * @param {Object} config Configuration to generate matrices\n * @param {Array} matrices Matrices containing the set of visual units and axes units\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} contains a collection of matrices\n */\nexport const generateMatrices = (context, matrices, cells, labelManager) => {\n    const {\n        unitHeight,\n        unitWidth,\n        facetsAndProjections,\n        normalizedRows,\n        normalizedColumns,\n        selection,\n        axisFrom,\n        facetConfig,\n        encoders\n     } = context;\n    const placeholderContext = {\n        fields: {\n            rows: normalizedRows,\n            columns: normalizedColumns\n        },\n        matrices,\n        facetsAndProjections,\n        selection,\n        axisFrom,\n        facetConfig,\n        encoders\n    };\n    // Generate placeholders for all matrices\n    const selectionObj = generatePlaceholders(placeholderContext, cells, labelManager);\n    const {\n        columnsPrimary,\n        columnsSecondary,\n        rowsPrimary,\n        rowsSecondary,\n        leftHeaders,\n        topHeaders,\n        bottomHeaders,\n        rightHeaders\n    } = selectionObj;\n    const [rowPrime, rowSec, colPrime, colSec] = [rowsPrimary, rowsSecondary, columnsPrimary, columnsSecondary]\n        .map(d => (d ? d.getObjects() : []));\n    const [leftFacets, rightFacets] = [leftHeaders, rightHeaders].map(e => (e ? e.getObjects()\n                    .map(f => f.getObjects()) : []));\n\n    // Compute left matrix using left headers and the axes on the rows\n    let leftMatrix = leftFacets.length ? leftFacets.map((d, i) => {\n        rowPrime[i] = rowPrime[i] ? [rowPrime[i]] : [];\n        return [...d, ...rowPrime[i]];\n    }) : (rowPrime ? rowPrime.map(d => [d]) : []);\n\n    // Compute right matrix using right headers and the axes on the rows\n    const rightMatrix = rowSec.length ? rowSec.map((d, i) => [d, ...(rightFacets[i] || [])]) : (rightFacets.length ?\n        rightFacets.map(d => [...d]) : []);\n\n    const topMatrix = [];\n    if (topHeaders) {\n        const headers = topHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                topMatrix[i] = topMatrix[i] || [];\n                topMatrix[i].push(x);\n            });\n        });\n    }\n    // Compute top matrix using the top headers and axes on the columns\n    if (colPrime.length) {\n        topMatrix.push(colPrime);\n    }\n\n    // Bottom and right matrices are prepared using the user config.\n    let bottomMatrix = [];\n    if (colSec.length) {\n        bottomMatrix.push(colSec);\n    }\n    const currentBottomLength = bottomMatrix.length;\n    if (bottomHeaders) {\n        const headers = bottomHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                bottomMatrix[i + currentBottomLength] = bottomMatrix[i + currentBottomLength] || [];\n                bottomMatrix[i + currentBottomLength].push(x);\n            });\n        });\n    }\n\n    if (!leftMatrix.length && !rightMatrix.length) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        leftMatrix = [[cell]];\n    }\n\n    if (!topMatrix.length && (!bottomMatrix.length || !bottomMatrix[0].length)) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        bottomMatrix = [[cell]];\n    }\n\n    return {\n        rows: [leftMatrix, rightMatrix],\n        columns: [topMatrix, bottomMatrix],\n        selectionObj\n    };\n};\n\n/**\n * Computes matrices for a group\n *\n * @param {Object} datamodel on which the matrices are to be computed\n * @param {Object} config configuration of the matrices\n * @param {Object} layerRegistry contains the registered layers\n * @return {Object} conputed matrices\n * @memberof MatrixResolver\n */\nexport const computeMatrices = (context, config) => {\n    const {\n        resolver,\n        datamodel,\n        componentRegistry,\n        encoders\n    } = context;\n    const {\n            globalConfig,\n            selection,\n            transform\n        } = config;\n    const groupBy = globalConfig.autoGroupBy;\n    const { smartlabel: labelManager } = resolver.dependencies();\n    const fieldMap = datamodel.getFieldsConfig();\n    const layerConfig = resolver.layerConfig();\n    const registry = resolver.registry();\n    const { fields: normalizedRows } = resolver.horizontalAxis();\n    const { fields: normalizedColumns } = resolver.verticalAxis();\n    const otherEncodings = resolver.optionalProjections(config, layerConfig);\n    const facetsAndProjections = resolver.getAllFields();\n    const matrixGnContext = {\n        // Configuration to be passed to generate the  different matrices.\n        // A common config is used for both value matrices and other matrices\n        normalizedColumns,\n        normalizedRows,\n        facetsAndProjections,\n        layers: layerConfig,\n        fieldMap,\n        otherEncodings,\n        encoders,\n        facetConfig: globalConfig.facetConfig || {},\n        axisFrom: globalConfig.axisFrom || {},\n        selection\n    };\n    const cells = {\n        GeomCell: resolver.getCellDef(registry.GeomCell),\n        AxisCell: resolver.getCellDef(registry.AxisCell),\n        BlankCell: resolver.getCellDef(registry.BlankCell),\n        TextCell: resolver.getCellDef(registry.TextCell)\n    };\n    const isRowSizeEqual = isDistributionEqual(normalizedRows);\n    const isColumnSizeEqual = isDistributionEqual(normalizedColumns);\n\n    resolver.colCells({});\n    resolver.rowCells({});\n    resolver.datamodelTransform(transform || {});\n\n    // Cell creation begins here\n    resolver.resetSimpleAxes();\n\n    const {\n            entryCellMap\n        } = resolver.cacheMaps();\n    const newCacheMap = {\n        exitCellMap: entryCellMap,\n        entryCellMap: new Map()\n    };\n\n    resolver.cacheMaps(newCacheMap);\n\n    const valueCellContext = {\n        config: globalConfig,\n        suppliedLayers: encoders.simpleEncoder.serializeLayerConfig(resolver.layerConfig()),\n        resolver,\n        cell: cells.GeomCell,\n        encoder: encoders.simpleEncoder,\n        newCacheMap\n    };\n    const fieldsConfig = datamodel.getFieldsConfig();\n    let groupedModel = datamodel;\n    if (!groupBy.disabled) {\n        const fields = getFieldsFromSuppliedLayers(valueCellContext.suppliedLayers, datamodel.getFieldsConfig());\n        const allFields = extractFields(facetsAndProjections, fields);\n\n        const dimensions = allFields.filter(field =>\n            fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION);\n        const aggregationFns = groupBy.measures;\n\n        groupedModel = datamodel.groupBy(dimensions.length ? dimensions : [''], aggregationFns).project(allFields);\n    }\n\n    // return a callback function to create the cells from the matrix\n    const cellCreator = resolver.valueCellsCreator(valueCellContext);\n    // Creates value matrices from the datamodel and configs\n    const valueMatrixInfo = getMatrixModel(groupedModel, facetsAndProjections, cellCreator);\n\n    resolver.cacheMaps().exitCellMap.forEach((placeholder) => {\n        placeholder.remove();\n    });\n    resolver.cacheMaps().exitCellMap.clear();\n    resolver.valueMatrix(valueMatrixInfo.matrix);\n    resolver.createUnits(componentRegistry, config);\n\n    const { xAxes, yAxes } = mutateAxesFromMap(resolver.cacheMaps(), resolver.axes());\n\n    resolver.axes({\n        x: xAxes,\n        y: yAxes\n    });\n\n    const matrices = {\n        valuesMatrix: valueMatrixInfo,\n        axesMatrix: resolver.axes()\n    };\n    // Create all matrices\n    const { rows, columns, selectionObj } = generateMatrices(matrixGnContext, matrices, cells, labelManager);\n\n    resolver.rowMatrix(rows);\n    resolver.columnMatrix(columns);\n\n    return {\n        rows: resolver.rowMatrix(),\n        columns: resolver.columnMatrix(),\n        values: resolver.valueMatrix(),\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        selection: selectionObj,\n        dataModels: {\n            groupedModel,\n            parentModel: datamodel\n        }\n    };\n};\n","import { VisualUnit } from '@chartshq/visual-unit';\nimport {\n     initializeCacheMaps,\n     headerCreator,\n     extractUnitConfig,\n     setFacetsAndProjections\n} from './group-utils';\nimport {\n     ROW, COL, LEFT, RIGHT, COLOR, SIZE, SHAPE, DETAIL, CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS, INITIALIZED,\n     AXIS, UNIT, BEFORE_UPDATE, UPDATED, VALUE_MATRIX, FACET_HEADERS\n} from '../enums/constants';\nimport { createValueCells, computeMatrices } from './cell-creator';\n/**\n * Resolves the matrices from configuration provided\n *\n * @export\n * @class MatrixResolver\n */\nexport default class MatrixResolver {\n\n    /**\n     * Creates an instance of MatrixResolver.\n     * @param {Object} dependencies needed to run the resolver\n     * @memberof MatrixResolver\n     */\n    constructor (dependencies) {\n        this._registry = {};\n        this._layerConfig = [];\n        this._matrixLayers = [];\n        this._dependencies = dependencies;\n        this._rowMatrix = [];\n        this._columnMatrix = [];\n        this._valueMatrix = [];\n        this._facets = {};\n        this._projections = {};\n        this._datamodelTransform = {};\n        this._units = [];\n        this._cacheMaps = {};\n        this._axes = {\n            x: {},\n            y: {},\n            color: [],\n            size: [],\n            shape: []\n        };\n\n        this.cacheMaps(initializeCacheMaps());\n    }\n\n    /**\n     * Set:  Registers placeholders, Get: return {Object} those placeholders\n     *\n     * @param {Object} placeholders cells that will construct the group\n     * @return {Object} Either current instance or the set of placeholders\n     * @memberof MatrixResolver\n     */\n    registry (...placeholders) {\n        if (placeholders.length) {\n            Object.entries(placeholders[0]).forEach((val) => {\n                this._registry[val[0]] = val[1];\n            });\n            return this;\n        }\n        return this._registry;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    dependencies (...dep) {\n        if (dep.length) {\n            this._dependencies = dep[0];\n            return this;\n        }\n        return this._dependencies;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    units (...unitArr) {\n        if (unitArr.length) {\n            this._units = unitArr[0];\n            return this;\n        }\n        return this._units;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} layer configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    layerConfig (...config) {\n        if (config.length) {\n            this._layerConfig = config[0];\n            return this;\n        }\n        return this._layerConfig;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    matrixLayers (...layers) {\n        if (layers.length) {\n            this._matrixLayers = layers[0];\n            return this;\n        }\n        return this._matrixLayers;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    datamodelTransform (...transform) {\n        if (transform.length) {\n            this._datamodelTransform = transform[0];\n            return this;\n        }\n        return this._datamodelTransform;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    cacheMaps (...maps) {\n        if (maps.length) {\n            [CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS].forEach((e) => {\n                this._cacheMaps[`${e}Map`] = maps[0][`${e}Map`] || this._cacheMaps[`${e}Map`];\n            });\n            return this;\n        }\n        return this._cacheMaps;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    rowCells (...cells) {\n        if (cells.length) {\n            this._rowCells = cells[0];\n            return this;\n        }\n        return this._rowCells;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    colCells (...cells) {\n        if (cells.length) {\n            this._colCells = cells[0];\n            return this;\n        }\n        return this._colCells;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    axes (...axes) {\n        if (axes.length) {\n            this._axes = Object.assign({}, this._axes, axes[0]);\n            return this;\n        }\n        return this._axes;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    rowMatrix (...rowMat) {\n        if (rowMat.length) {\n            this._rowMatrix = rowMat[0];\n            return this;\n        }\n        return this._rowMatrix;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    columnMatrix (...colMat) {\n        if (colMat.length) {\n            this._columnMatrix = colMat[0];\n            return this;\n        }\n        return this._columnMatrix;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    valueMatrix (...valMat) {\n        if (valMat.length) {\n            this._valueMatrix = valMat[0];\n            return this;\n        }\n        return this._valueMatrix;\n    }\n\n    /**\n     *\n     *\n     * @param {*} facets\n     * @return\n     * @memberof MatrixResolver\n     */\n    facets (...facets) {\n        if (facets.length) {\n            Object.entries(facets[0]).forEach((e) => {\n                this._facets[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._facets;\n    }\n\n    /**\n     *\n     *\n     * @param {*} projections\n     * @return\n     * @memberof MatrixResolver\n     */\n    projections (...projections) {\n        if (projections.length) {\n            Object.entries(projections[0]).forEach((e) => {\n                this._projections[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._projections;\n    }\n\n    /**\n     *\n     *\n     * @param {*} config\n     * @param {*} layerConfig\n     * @return\n     * @memberof MatrixResolver\n     */\n    optionalProjections (config, layerConfig) {\n        const otherEncodings = {};\n        const optionalProjections = [];\n        const otherEncodingTypes = [SIZE, COLOR, SHAPE];\n\n        otherEncodingTypes.forEach((type) => {\n            if (config[type] && config[type].field) {\n                const enc = config[type];\n                otherEncodings[type] = enc.field;\n                optionalProjections.push(enc.field);\n            }\n        });\n\n        if (config[DETAIL]) {\n            optionalProjections.push(...config.detail);\n        }\n\n        if (layerConfig.length) {\n            layerConfig.forEach((layer) => {\n                if (layer.encoding) {\n                    Object.values(layer.encoding).forEach((enc) => {\n                        if (enc && optionalProjections.indexOf(enc.field) === -1) {\n                            optionalProjections.push(enc.field ? enc.field : enc);\n                        }\n                    });\n                }\n            });\n        }\n        this.projections({ optionalProjections });\n        return otherEncodings;\n    }\n\n    /**\n     * return the normalized set of rows and facets and projections\n     *\n     * @param {Object} rows parameters needed to set horizontal axis consisiting of rows\n     * @return {Object} facets, projections and normalized rows\n     * @memberof MatrixResolver\n     */\n    horizontalAxis (rows, encoder) {\n        if (rows) {\n            this._horizontalAxis = setFacetsAndProjections(this, { type: ROW, fields: rows }, encoder);\n            return this;\n        }\n        return this._horizontalAxis;\n    }\n\n    /**\n     * return the normalized set of columns and facets and projections\n     *\n     * @param {Object} columns parameters needed to set vertical axis consisiting of columns\n     * @return {Object} facets, projections and normalized columns\n     * @memberof MatrixResolver\n     */\n    verticalAxis (columns, encoder) {\n        if (columns) {\n            this._verticalAxis = setFacetsAndProjections(this, { type: COL, fields: columns }, encoder);\n            return this;\n        }\n        return this._verticalAxis;\n    }\n\n    /**\n     * Gets the class definition of a particular cell type(if the particular type has been extended, that particular\n     * definition is returned)\n     *\n     * @param {Object} cell cell whose class definition is to be retrieved\n     * @return {Object} cell definition\n     * @memberof MatrixResolver\n     */\n    getCellDef (cell) {\n        const registry = this.registry();\n\n        Object.values(registry).forEach((e) => {\n            if (e.prototype instanceof cell) {\n                cell = e;\n            }\n        });\n        return cell;\n    }\n\n    /**\n     * return a visual cell creator along with its axis information to be injected to the datamodel creation\n     * function\n     *\n     * @param {Object} GeomCell Type of cell to be created\n     * @return {Object} Created cell\n     * @memberof MatrixResolver\n     */\n    valueCellsCreator (context) {\n        // reset matrix layers\n        this.matrixLayers([]);\n\n        return (datamodel, fieldInfo, facets) => createValueCells(context, datamodel, fieldInfo, facets);\n    }\n\n    /**\n     * Callback to be applied on each cell of a matrix of a particular type\n     *\n     * @param {string} matrixType type of matrix on which callback is to be applied\n     * @param {Function} callback function to be applied to each cell\n     * @memberof MatrixResolver\n     */\n    forEach (matrixType, callback) {\n        this[matrixType]().forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                callback(rIndex, cIndex, col);\n            });\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof MatrixResolver\n     */\n    getAllFields () {\n        const retObj = this.projections();\n\n        Object.entries(this.facets()).forEach((e) => {\n            retObj[e[0]] = e[1];\n        });\n        return retObj;\n    }\n\n    /**\n     *\n     *\n     * @memberof MatrixResolver\n     */\n    resetSimpleAxes () {\n        return this.axes({\n            x: new Set(),\n            y: new Set()\n        });\n    }\n\n    /**\n     *\n     *\n     * @param {*} componentRegistry\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    createUnits (componentRegistry, config) {\n        const {\n            globalConfig,\n            alias\n        } = config;\n        const {\n            layerRegistry,\n            sideEffectRegistry\n        } = componentRegistry;\n        const {\n            smartlabel: smartLabel,\n            lifeCycleManager\n        } = this.dependencies();\n        // Provide the source for the matrix\n        const units = [];\n        // Setting unit configuration\n        const unitConfig = extractUnitConfig(globalConfig || {});\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            let unit = el.source();\n            if (!unit) {\n                unit = VisualUnit.create({\n                    layerRegistry,\n                    sideEffectRegistry\n                }, {\n                    smartLabel,\n                    lifeCycleManager\n                });\n                el.source(unit);\n                units.push(unit);\n            }\n            unit.parentAlias(alias);\n            el.config(unitConfig);\n        });\n\n        lifeCycleManager.notify({ client: units, action: INITIALIZED, formalName: UNIT });\n        return this.units(units);\n    }\n\n    /**\n     *\n     *\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    setDomains (config, datamodel, encoders) {\n        const {\n            color,\n            shape,\n            size,\n            globalConfig\n        } = config;\n        const groupBy = globalConfig.autoGroupBy;\n        const {\n            rowFacets,\n            colFacets\n        } = this.getAllFields();\n        const encoding = {\n            color,\n            shape,\n            size\n        };\n        const facetFields = [...rowFacets.map(e => e.toString()), ...colFacets.map(e => e.toString())];\n        const retContext = {\n            domains: encoders.simpleEncoder.getRetinalFieldsDomain(datamodel, encoding, facetFields, groupBy),\n            axes: this.axes(),\n            encoding\n        };\n        encoders.retinalEncoder.setCommonDomain(retContext);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof MatrixResolver\n     */\n    getRetinalAxes () {\n        const {\n            color,\n            shape,\n            size\n        } = this.axes();\n\n        return {\n            color: [...color],\n            shape: [...shape],\n            size: [...size]\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     * @return\n     * @memberof MatrixResolver\n     */\n    getSimpleAxes (type) {\n        return this.axes()[`${type}`];\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    createRetinalAxes (fieldsConfig, config, encoders) {\n        const layerConfig = this.layerConfig();\n        this.optionalProjections(config, layerConfig);\n        const retinalAxes = encoders.retinalEncoder.createAxis({\n            fieldsConfig,\n            config,\n            axes: this.axes()\n        });\n        const {\n            lifeCycleManager\n        } = this.dependencies();\n\n        [COLOR, SHAPE, SIZE].forEach((e) => {\n            this.axes()[e] = retinalAxes[e];\n        });\n\n        lifeCycleManager.notify({ client: this.axes(), action: INITIALIZED, formalName: AXIS });\n        lifeCycleManager.notify({ client: this.units(), action: BEFORE_UPDATE, formalName: UNIT });\n\n        const units = [];\n        const matrixLayers = this.matrixLayers();\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            el.axes(retinalAxes);\n            el.source() && el.source().retinalFields(config);\n            el.layerDef(encoders.retinalEncoder.getLayerConfig(config, matrixLayers[i][j]));\n            el.updateModel();\n\n            units.push(el.source());\n        });\n\n        lifeCycleManager.notify({ client: units, action: UPDATED, formalName: UNIT });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} placeholders\n     * @param {*} fieldNames\n     * @return\n     * @memberof MatrixResolver\n     */\n    createHeaders (placeholders, fieldNames) {\n        let bottomLeft = [];\n        let bottomRight = [];\n        const {\n            rows,\n            columns\n        } = placeholders;\n        const {\n            smartlabel: labelManager,\n            lifeCycleManager\n        } = this.dependencies();\n        const TextCell = this.getCellDef(this.registry().TextCell);\n        const BlankCell = this.getCellDef(this.registry().BlankCell);\n        const [leftRows, rightRows] = rows;\n        const [topCols, bottomCols] = columns;\n        const rowHeaders = fieldNames.rows;\n        // Headers and footers are created based on the rows. Thereafter, using the column information\n        // they are tabularized into the current structure\n        const headers = {\n            left: headerCreator(leftRows, rowHeaders[0], TextCell, labelManager),\n            right: headerCreator(rightRows, rowHeaders[1], TextCell, labelManager)\n        };\n        const footers = {\n            left: leftRows.length > 0 ? leftRows[0].map(() => new BlankCell()) : [],\n            right: rightRows.length > 0 ? rightRows[0].map(() => new BlankCell()) : []\n        };\n        const [topLeft, topRight] = [LEFT, RIGHT].map(type => topCols.map((col, i) => {\n            if (i === topCols.length - 1) {\n                return headers[type];\n            }\n            return footers[type];\n        }));\n\n        // Creating only bottom matrices if there is no information on the top\n        if (topCols.length === 0) {\n            [bottomLeft, bottomRight] = [LEFT, RIGHT].map(type => bottomCols.map((col, i) => {\n                if (i === 0) {\n                    return headers[type];\n                }\n                return footers[type];\n            }));\n        } else {\n            bottomLeft = bottomCols.map(() => (leftRows.length > 0 ? leftRows[0].map(() => new BlankCell()) : []));\n            bottomRight = bottomCols.map(() => (rightRows.length > 0 ? rightRows[0].map(() => new BlankCell()) : []));\n        }\n\n        lifeCycleManager.notify({\n            client: [topLeft, topRight, bottomLeft, bottomRight],\n            action: INITIALIZED,\n            formalName: FACET_HEADERS\n        });\n\n        return { topLeft, topRight, bottomLeft, bottomRight };\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @param {*} componentRegistry\n     * @param {*} encoders\n     * @return\n     * @memberof MatrixResolver\n     */\n    getMatrices (datamodel, config, componentRegistry, encoders) {\n        const context = {\n            datamodel,\n            componentRegistry,\n            encoders,\n            resolver: this\n        };\n\n        return computeMatrices(context, config);\n    }\n}\n","/**\n *\n *\n * @export\n * @class ValueMatrix\n */\nclass ValueMatrix {\n\n    /**\n     *Creates an instance of ValueMatrix.\n     * @param {*} matrixArr\n     * @memberof ValueMatrix\n     */\n    constructor (matrixArr) {\n        const instancesById = {};\n\n        this.matrix(matrixArr);\n        this.filter(() => true);\n\n        this.each((el, rIdx, cIdx) => {\n            const cellValue = el.valueOf();\n            if (cellValue && cellValue.id) {\n                const id = cellValue.id();\n                instancesById[id] = {\n                    instance: cellValue,\n                    rowIndex: rIdx,\n                    colIndex: cIdx\n                };\n            }\n        });\n\n        this.instancesById(instancesById);\n    }\n\n    /**\n     *\n     *\n     * @param {*} id\n     * @return\n     * @memberof ValueMatrix\n     */\n    instancesById (...id) {\n        if (id.length) {\n            this._instancesById = id[0];\n            return this;\n        }\n        return this._instancesById;\n    }\n\n    /**\n     *\n     *\n     * @param {*} m\n     * @return\n     * @memberof ValueMatrix\n     */\n    matrix (...matrix) {\n        if (matrix.length) {\n            this._matrix = matrix[0];\n            return this;\n        }\n        return this._matrix;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fn\n     * @return\n     * @memberof ValueMatrix\n     */\n    filter (...fn) {\n        if (fn.length) {\n            this._filterFn = fn[0];\n            return this;\n        }\n        return this._filterFn;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof ValueMatrix\n     */\n    width () {\n        let rowWidth = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowWidth = 0;\n            row.forEach((cell) => {\n                currentRowWidth += cell.getLogicalSpace().width;\n            });\n            rowWidth = Math.max(rowWidth, currentRowWidth);\n        });\n        return rowWidth;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof ValueMatrix\n     */\n    height () {\n        let rowHeight = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowHeight = 0;\n            row.forEach((cell) => {\n                currentRowHeight = Math.max(currentRowHeight, cell.getLogicalSpace().height);\n            });\n            rowHeight += currentRowHeight;\n        });\n        return rowHeight;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fn\n     * @return\n     * @memberof ValueMatrix\n     */\n    each (fn) {\n        const matrix = this.matrix();\n        const filterFn = this.filter();\n\n        matrix.forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                if (filterFn(col)) {\n                    fn(col, rIndex, cIndex, matrix);\n                }\n            });\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} id\n     * @return\n     * @memberof ValueMatrix\n     */\n    findPlaceHolderById (id) {\n        return this.instancesById()[id];\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof ValueMatrix\n     */\n    getMatrixArray () {\n        return this.matrix();\n    }\n}\n\nexport default ValueMatrix;\n","import { RetinalEncoder } from '../encoder';\nimport { DATA_UPDATE_COUNTER } from '../enums/defaults';\nimport { getEncoder, getBorders } from '../group-helper';\nimport ValueMatrix from './value-matrix';\nimport localOptions from './local-options';\n\nconst sanitizeRetinalConfig = (retinalConf) => {\n    const conf = {};\n    for (const key in retinalConf) {\n        const confValue = retinalConf[key];\n        if (typeof confValue === 'string' || !confValue) {\n            conf[key] = {\n                field: retinalConf[key]\n            };\n        } else {\n            conf[key] = confValue;\n        }\n    }\n    return conf;\n};\n\n/**\n *\n *\n * @param {*} placeholder\n * @memberof VisualGroup\n */\nconst setMatrixInstances = (context, placeholder) => {\n    context._composition.matrices = {\n        value: new ValueMatrix(placeholder.values),\n        left: new ValueMatrix(placeholder.rows[0]),\n        right: new ValueMatrix(placeholder.rows[1]),\n        top: new ValueMatrix(placeholder.columns[0]),\n        bottom: new ValueMatrix(placeholder.columns[1])\n    };\n    return context;\n};\n\n/**\n *\n *\n * @param {*} context\n * @returns\n */\nexport const setupChangeListeners = (context) => {\n    context.store().registerImmediateListener([...Object.keys(localOptions), DATA_UPDATE_COUNTER], (...params) => {\n        const datamodel = context.data();\n        const [config, rows, columns, color, shape, size, detail, layers, transform] = params;\n\n        if (datamodel && rows[1] && columns[1]) {\n            // Get the resolver for the matrices\n            const resolver = context.resolver();\n            // Prepare configuration for matrix preparation\n            let matrixConfig = {\n                selection: context.selection(),\n                alias: context.alias(),\n                globalConfig: config[1] || {},\n                rows: rows[1],\n                columns: columns[1],\n                detail: detail[1],\n                layers: layers[1],\n                transform: transform[1]\n            };\n\n            const retinalConfig = sanitizeRetinalConfig({\n                color: color[1],\n                shape: shape[1],\n                size: size[1]\n            });\n\n            matrixConfig = Object.assign(matrixConfig, retinalConfig);\n            // Create the encoders for the group\n            const encoders = {};\n            encoders.retinalEncoder = new RetinalEncoder();\n            encoders.simpleEncoder = getEncoder(layers[1]);\n\n            // Set the group type\n            context.groupType(encoders.simpleEncoder.constructor.type());\n\n            // Get sanitized fields as instances of the Vars Class\n            const fields = encoders.simpleEncoder.fieldSanitizer(datamodel, matrixConfig);\n            encoders.simpleEncoder.setAxisAndHeaders(config[1] ? config[1].axisFrom : {}, fields);\n            // Setting layers for the code\n            layers[1] && resolver.layerConfig(layers[1]);\n            // Set the row and column axes\n            resolver.horizontalAxis(fields.rows, encoders).verticalAxis(fields.columns, encoders);\n            // Getting the placeholders\n            const placeholderInfo = resolver.getMatrices(datamodel, matrixConfig, context.registry(), encoders);\n            context._groupedDataModel = placeholderInfo.dataModels.groupedModel;\n            // Set the selection object\n            context.selection(placeholderInfo.selection);\n\n            // Create retinal axes\n            resolver.createRetinalAxes(placeholderInfo.dataModels.parentModel.getFieldsConfig(), retinalConfig,\n                encoders);\n\n            // Domains are evaluated for each of the axes for commonality\n            resolver.setDomains(matrixConfig, placeholderInfo.dataModels, encoders);\n\n            // Create matrix instances\n            setMatrixInstances(context, placeholderInfo);\n\n            // Prepare corner matrices\n            context.cornerMatrices(resolver.createHeaders(placeholderInfo, fields));\n\n             // Set placeholder information\n            context.placeholderInfo(placeholderInfo);\n\n            context._composition.axes = resolver.axes();\n            context.metaData({\n                border: getBorders(placeholderInfo, encoders.simpleEncoder)\n            });\n        }\n        return context;\n    });\n    return context;\n};\n","import { DATA_UPDATE_COUNTER } from '../enums/defaults';\n\nexport const PROPS = {\n    alias: {},\n    data: {\n        sanitization: (context, value) => {\n            if (context._data !== value) {\n                const store = context.store();\n                let hasDataUpdated = store.get(DATA_UPDATE_COUNTER);\n                store.commit(DATA_UPDATE_COUNTER, ++hasDataUpdated);\n            }\n            return value;\n        }\n    },\n    cornerMatrices: {},\n    groupType: {},\n    matrixInstance: {},\n    metaData: {},\n    placeholderInfo: {},\n    resolver: {},\n    registry: {\n        sanitization: (context, value) => {\n            if (context.resolver) {\n                context.resolver().registry(value.cellRegistry);\n            }\n            return value;\n        }\n    },\n    selection: {},\n    store: {}\n};\n","import { transactor, generateGetterSetters } from 'muze-utils';\nimport localOptions from './local-options';\nimport { SimpleGroup } from '../simple-group';\nimport {\n    MatrixResolver,\n    initStore,\n    findInGroup\n} from '../group-helper';\nimport { setupChangeListeners } from './change-listener';\nimport { PROPS } from './props';\nimport {\n    CONFIG,\n    MOUNT,\n    RETINAL,\n    Y\n} from '../enums/constants';\n\n/**\n * This class is used to create an instance of a visual group.\n * It extends the SimpleGroup (which is an interface). The visual group takes in a datamodel,\n * and a set of rows and columns, alongwith optional paramters (like color, size, shape).\n *\n * @class VisualGroup\n */\nclass VisualGroup extends SimpleGroup {\n\n    /**\n     * Creates an instance of VisualGroup. Requires dependencies and other registry options for placeholders\n     * and layers that create individual units\n     * @param {Object} registry Key value pair of compostions for the group\n     * @param {Object} dependencies Dependencies needed to run the group\n     * @memberof VisualGroup\n     */\n    constructor (registry, dependencies) {\n        super();\n\n        const {\n            componentSubRegistry\n        } = registry;\n\n        this._dependencies = dependencies;\n        // Generate getter/setter methods for all properties of the class\n        // One can get each property by calling the method and can set it\n        // by passing paramaters for the same. Thus, one can chain setter\n        // getter methods.\n        generateGetterSetters(this, PROPS);\n        // Populate the store with default values\n        this.store(initStore());\n\n        // initialize group compositions\n        this._composition = {};\n        // store reference to data\n        this._data = [];\n        // matrix instance store each of the matrices\n        this._matrixInstance = {};\n        // store reference to mountpoint\n        this._mount = null;\n        // selection object that takes care of updating of components\n        this._selection = {};\n        // stores info about the placeholders generated after creation of matrices\n        this._placeholderInfo = {};\n        // corner matrices are the headers/footers for the application\n        this._cornerMatrices = {};\n        // Create instance of matrix resolver\n        this.resolver(new MatrixResolver(this._dependencies));\n\n         // Getting indiviual registered items\n        this.registry({\n            layerRegistry: componentSubRegistry.layerRegistry.get(),\n            cellRegistry: componentSubRegistry.cellRegistry.get()\n        });\n        // Add local options to the store\n        transactor(this, localOptions, this.store().model);\n        // Register listeners\n        setupChangeListeners(this);\n    }\n\n    matrixInstance (...matrices) {\n        if (matrices.length) {\n            return this;\n        }\n        return this.composition().matrices;\n    }\n\n    /**\n     * Returns the composition of the Group\n     *\n     * @readonly\n     * @memberof VisualGroup\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    /**\n     * Locks the model to prevent change listeners to be triggered until unlocked\n     *\n     * @return {Object} Instance of class VisualGroup\n     * @memberof VisualGroup\n     */\n    lockModel () {\n        this.store().model.lock();\n        return this;\n    }\n\n    /**\n     * Unlocks the model so that all change listeners can be triggered\n     *\n     * @return {Object} Instance of class VisualGroup\n     * @memberof VisualGroup\n     */\n    unlockModel () {\n        this.store().model.unlock();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} variable\n     * @return\n     * @memberof VisualGroup\n     */\n    where (variable) {\n        return findInGroup(variable, this.resolver().getAllFields());\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     * @return\n     * @memberof VisualGroup\n     */\n    getAxes (type) {\n        if (type === RETINAL) {\n            return this.resolver().getRetinalAxes();\n        }\n        return this.resolver().getSimpleAxes(type);\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualGroup\n     */\n    getCells (type) {\n        return this.resolver()[`${type}Cells`]();\n    }\n\n    /**\n     *\n     *\n     * @param {*} channel\n     * @return\n     * @memberof VisualGroup\n     */\n    getFieldsFromChannel (channel) {\n        const {\n            rowProjections,\n            colProjections\n        } = this.resolver().getAllFields();\n\n        return channel === Y ? rowProjections : colProjections;\n    }\n\n    /**\n     *\n     *\n     * @param {*} facetKey\n     * @return\n     * @memberof VisualGroup\n     */\n    getCellsByFacetKey (facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey] || [];\n        return cells;\n    }\n\n    /**\n     *\n     *\n     * @param {*} facetKey\n     * @return\n     * @memberof VisualGroup\n     */\n    getAxesByFacetKey (axisType, facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey];\n        const axes = cells[0].valueOf().axes()[axisType] || [];\n\n        return axes;\n    }\n\n    /**\n     * This method is used to return a serialized representation of the instance's properties.\n     *\n     * @return {Object} Object with config proprties.\n     * @memberof VisualGroup\n     */\n    serialize () {\n        const store = this.store();\n\n        return {\n            [CONFIG]: store.get(CONFIG),\n            [MOUNT]: store.get(MOUNT)\n        };\n    }\n\n    getGroupByData () {\n        return this._groupedDataModel;\n    }\n}\n\nexport default VisualGroup;\n","import { PersistentBehaviour, SELECTION } from '@chartshq/muze-firebolt';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return 'select';\n    }\n\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            // new add set\n            const existingRemoveSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_OLD_EXIT\n                || selectionSet._set[d] === SELECTION.SELECTION_NEW_EXIT);\n                // existing add set\n            if (existingRemoveSet.length) {\n                selectionSet.updateEntry();\n                selectionSet.add(existingRemoveSet);\n            } else {\n                selectionSet.updateExit();\n                selectionSet.remove(addSet);\n            }\n            const { exitSet } = selectionSet.getSets();\n            const mergedExitSet = [...new Set(exitSet[1]), ...new Set(exitSet[0])];\n            const completeSetCount = selectionSet.getCompleteSet().length;\n            if (exitSet[1].length !== completeSetCount && mergedExitSet.length === completeSetCount) {\n                selectionSet.reset();\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n        return this;\n    }\n}\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nconst CLASSPREFIX = 'muze';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        target: `.${CLASSPREFIX}-gradient-rect`,\n        behaviours: [BEHAVIOURS.BRUSH]\n    },\n    [ACTIONS.HOVER]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.CLICK]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.SELECT]\n    }\n};\n\nexport const propagationBehaviourMap = {\n    [BEHAVIOURS.SELECT]: BEHAVIOURS.FILTER,\n    [BEHAVIOURS.BRUSH]: BEHAVIOURS.HIGHLIGHT\n};\n","import * as BEHAVIOURS from '../enums/behaviours';\nimport * as sideEffects from '../enums/side-effects';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: [sideEffects.SELECTIONBOX, {\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [sideEffects.Highlighter],\n    select: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }]\n};\n\nexport const propagationSideEffects = {\n    [BEHAVIOURS.BRUSH]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }]\n};\n\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n\n","export const SELECTIONBOX = 'selectionBox';\nexport const Highlighter = 'highlighter';\n\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const CONFIG = 'config';\nexport const DATAMODEL = 'dataModel';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const MOUNTPOINT = 'mountPoint';\nexport const GRIDLINEPARENTGROUPCLASS = 'grid-lines';\nexport const TRANSFORM = 'transform';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const DEFAULTCOLOR = '#F44336';\nexport const DEFAULTSIZE = 50;\nexport const DEFAULTSHAPE = 'circle';\nexport const STEP = 'step';\nexport const GRADIENT = 'gradient';\nexport const ORDINAL = 'ordinal';\nexport const SCALE_FUNCTIONS = {\n    size: 'getSize',\n    shape: 'getShape',\n    color: 'getColor'\n};\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const HORIZONTAL = 'horizontal';\nexport const VERTICAL = 'vertical';\nexport const CENTER = 'center';\nexport const VALUE = 'value';\nexport const PATH = 'path';\nexport const SHAPE = 'shape';\nexport const ICON = 'icon';\nexport const RECT = 'rect';\nexport const START = 'start';\nexport const UPPER = 'upper';\nexport const LOWER = 'lower';\nexport const END = 'end';\nexport const SIZE = 'size';\nexport const DISCRETE = 'discrete';\nexport const MEASURE = 'measure';\n\n","import { assembleModelFromIdentifiers, getDataModelFromRange } from 'muze-utils';\nimport { propagationBehaviourMap } from './action-behaviour-map';\nimport { propagationSideEffects } from './behaviour-effect-map';\nimport { STEP, GRADIENT, DISCRETE, MEASURE } from '../enums/constants';\n\nexport const propagate = (firebolt, action, selectionSet, config = {}) => {\n    let propagationData;\n    const type = firebolt.context.constructor.type();\n    const payload = config.payload;\n    const data = firebolt.context.data();\n    const metaData = firebolt.context.metaData();\n    const fieldType = metaData.getData().schema[0].type;\n\n    const propPayload = {};\n    const sourceId = firebolt.context._id;\n    propPayload.action = propagationBehaviourMap[action] || action;\n    propPayload.sideEffects = propagationSideEffects[action];\n    propPayload.sourceCanvas = firebolt.context.canvasAlias();\n    const isMutableAction = firebolt._actions.behavioural[propPayload.action].constructor.mutates();\n    if (payload.criteria === null) {\n        propagationData = null;\n    } else {\n        const entrySet = selectionSet.mergedEnter;\n        let values = data.filter(d => entrySet.uids.indexOf(d.id) !== -1).map(d => d.value);\n        if (type === STEP || (type === DISCRETE && fieldType === MEASURE)) {\n            const field = Object.keys(payload.criteria || {})[0];\n            values = data.filter(d => entrySet.uids.indexOf(d.id) !== -1).map(d => d.range);\n            propagationData = values.length ? metaData.select((fields) => {\n                let check = false;\n                for (let i = 0; i < values.length; i++) {\n                    check = fields[field].value >= values[i][0] && fields[field].value <= values[i][1];\n                    if (check === true) {\n                        break;\n                    }\n                }\n                return check;\n            }, {\n                saveChild: false\n            }) : null;\n        } else if (type === GRADIENT) {\n            propagationData = getDataModelFromRange(metaData, payload.criteria);\n        } else if (values.length) {\n            propagationData = assembleModelFromIdentifiers(metaData, [payload.criteria[0], ...values.map(d => [d])]);\n        } else {\n            propPayload.criteria = null;\n            propagationData = metaData.select(() => true, {\n                saveChild: false\n            });\n        }\n    }\n\n    metaData.addToPropNamespace(`legend-${sourceId}`, {\n        payload: propPayload,\n        criteria: propPayload.criteria === null ? null : propagationData,\n        isMutableAction,\n        actionName: propPayload.action\n    });\n    metaData.propagate(propagationData, propPayload, {\n        isMutableAction,\n        sourceId\n    });\n};\n","import { Firebolt } from '@chartshq/muze-firebolt';\nimport { propagate } from './helper';\nimport { STEP, GRADIENT } from '../enums/constants';\n\n/**\n * This class manages the interactions of legend.\n * @export\n * @class LegendFireBolt\n * @extends {Firebolt}\n */\nexport class LegendFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        this.initializeSideEffects();\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet[0];\n    }\n\n    propagate (behaviourName, payload, selectionSet) {\n        propagate(this, behaviourName, selectionSet, {\n            payload\n        });\n    }\n    getAddSetFromCriteria (criteria) {\n        let values;\n        let uniqueIds;\n        const type = this.context.constructor.type();\n\n        if (criteria === null) {\n            uniqueIds = null;\n        } else if (type === STEP) {\n            values = Object.values(criteria);\n            uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n        } else if (type === GRADIENT) {\n            uniqueIds = [];\n        } else {\n            values = criteria[1];\n            if (values) {\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.value) !== -1).map(d => d.id);\n            } else {\n                values = Object.values(criteria);\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n            }\n        }\n        return {\n            uids: uniqueIds,\n            model: null\n        };\n    }\n\n    getFullData () {\n        return null;\n    }\n}\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\n/**\n * Adds dragging action to the target element.\n * @param {firebolt} firebolt firebolt\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let endPos = {};\n    let payload;\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const boundingBox = context.measurement().gradientDimensions;\n    const axisType = context.config().align === 'horizontal' ? 'x' : 'y';\n    const axisScale = context.axis().source().scale();\n    const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n    }).on('drag', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                    axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n            }\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }).on('end', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n        if (startPos[axisType] === endPos[axisType]) {\n            payload = {\n                criteria: {}\n            };\n        } else {\n            payload = {\n                criteria: {\n                    [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                        axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n                }\n            };\n        }\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }));\n};\n\nexport default drag;\n","/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} Firebolt instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, {\n                            criteria: null\n                        }));\n                        event.stopPropagation();\n                    });\n};\n\nexport default hover;\n","/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nconst click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\n\nexport default click;\n","import drag from './drag';\nimport hover from './hover';\nimport click from './click';\nimport * as ACTIONNAMES from '../../enums/actions';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click\n};\n\n","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\n","import {\n    getMousePos,\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\nimport { HEIGHT, WIDTH, HORIZONTAL } from '../../enums/constants';\n\nconst getSelectionCriteria = (subject, axis, measures) => {\n    let criteria = [];\n    const {\n        axisScale,\n        axisType\n    } = axis;\n    const {\n        startPos,\n        endPos,\n        selectionBoxMeasure,\n        drawingInfMeasure,\n        offset\n    } = measures;\n    const subjectStartPoint = subject[axisType];\n\n    if (startPos[axisType] === endPos[axisType]) {\n        criteria = [];\n    } else if (subjectStartPoint + selectionBoxMeasure >= drawingInfMeasure + offset) {\n        criteria = [axisScale.invert(drawingInfMeasure + offset - selectionBoxMeasure),\n            axisScale.invert(drawingInfMeasure + offset)];\n    } else if (subjectStartPoint - offset < offset) {\n        criteria = [axisScale.invert(offset * 2), axisScale.invert(selectionBoxMeasure + offset * 2)];\n    } else {\n        criteria = [axisScale.invert(subjectStartPoint), axisScale.invert(subjectStartPoint + selectionBoxMeasure)];\n    }\n    axisType === 'x' ? criteria : criteria.reverse();\n    return criteria;\n};\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let payload;\n    const endPos = {};\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const axisScale = context.axis().source().scale();\n    const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n    const drawingInfMeasure = context.measurement().gradientDimensions[axisType === 'x' ?\n        WIDTH : HEIGHT];\n    const offset = axisScale.range()[axisType === 'x' ? 0 : 1];\n    const measures = {\n        drawingInfMeasure,\n        offset\n    };\n    let subject = {};\n\n    targetEl.call(d3Drag().on('start', function () {\n        const event = getEvent();\n        startPos = getMousePos(this, event.sourceEvent);\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n\n        subject.x += event.dx;\n        subject.y += event.dy;\n\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(subject, { axisScale, axisType }, measures);\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }).on('end', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(event, { axisScale, axisType }, measures);\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true,\n            config: {\n                transition: {\n                    duration: 200\n                }\n            }\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }));\n};\n\n","import { makeElement } from 'muze-utils';\nimport { SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { CLASSPREFIX, HEIGHT, WIDTH, HORIZONTAL, RECT } from '../../../enums/constants';\nimport { SELECTIONBOX } from '../../../enums/side-effects';\nimport { selectionBoxDrag } from '../../physical/selection-box-drag';\nimport './styles.scss';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\n/* istanbul ignore next */ class SelectionBox extends SpawnableSideEffect {\n    static formalName () {\n        return SELECTIONBOX;\n    }\n\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            className: 'legend-selection-box',\n            classPrefix: CLASSPREFIX\n        };\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     */\n    /* istanbul ignore next */ apply (selectionSet, payload) {\n        let x;\n        let y;\n        let width;\n        let height;\n        const firebolt = this.firebolt;\n        const context = firebolt.context;\n        const config = this.config();\n        const axis = context.axis().source();\n        const className = `${config.classPrefix}-${config.className}`;\n\n        const domain = payload.criteria[firebolt.context.fieldName()];\n        const axisScale = axis.scale();\n        const range = domain ? [axis.getScaleValue(domain[0]), axis.getScaleValue(domain[1])] : [];\n\n        const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n\n        const gradientDimension = firebolt.context.measurement().gradientDimensions[axisType === 'x' ?\n            HEIGHT : WIDTH];\n\n        const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n        const legendGradContainer = context.getDrawingContext().svgContainer;\n        const legendSelGroup = makeElement(legendGradContainer, 'g', [1], `${config.classPrefix}-selection-box-group`);\n\n        if (firebolt.context.config().align === HORIZONTAL) {\n            x = range[0] - rangeShifter || 0;\n            y = 0;\n            width = range[1] - range[0] || 0;\n            height = gradientDimension;\n        } else {\n            x = 0;\n            y = range[1] - rangeShifter || 0;\n            height = range[0] - range[1] || 0;\n            width = gradientDimension;\n        }\n        const enterFn = function (el) {\n            selectionBoxDrag(firebolt)(el, ['brush']);\n        };\n        const selBox = makeElement(legendSelGroup, RECT, [{ domain, x, y, width, height }], className,\n            { enter: enterFn });\n        selBox.attr('y', y)\n                        .attr('x', x)\n                        .attr(WIDTH, width)\n                        .attr(HEIGHT, height);\n    }\n}\n\nexport default SelectionBox;\n\n","import { selectElement } from 'muze-utils';\n\nexport const strategies = (firebolt) => {\n    const context = firebolt.context;\n    const classed = (set, className, change) => {\n        const classPrefix = context.config().classPrefix;\n        selectElement(context.mount())\n                        .selectAll(`.${classPrefix}-legend-columns`)\n                        .filter(d => set.uids.indexOf(d.id) !== -1)\n                        .selectAll('div')\n                        .classed(className, change);\n    };\n\n    return {\n        fade: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-fadeout`, false);\n            } else {\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-fadeout`, true);\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-fadeout`, false);\n            }\n        },\n        brighten: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-brighten`, false);\n            } else {\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-brighten`, true);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n            }\n        }\n    };\n};\n","import { GenericSideEffect } from '@chartshq/muze-firebolt';\nimport { strategies } from './strategies';\nimport { Highlighter } from '../../../enums/side-effects';\n\nexport default class LegendHighlighter extends GenericSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategies = strategies(this.firebolt);\n        this._strategy = 'brighten';\n    }\n\n    static formalName () {\n        return Highlighter;\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        strategy(selectionSet, this);\n    }\n}\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    data: {},\n    fieldName: {},\n    legendContainer: {},\n    measurement: {\n        sanitization: (context, value) => {\n            const measurement = mergeRecursive(context._measurement, value);\n            ['padding', 'border', 'margin'].forEach((space) => {\n                measurement[space] = Math.min(measurement[space] > 0 ? measurement[space] : 0,\n                     measurement.maxWidth * 0.1, measurement.maxHeight * 0.1);\n            });\n            return measurement;\n        }\n    },\n    logicalSpace: {},\n    metaData: {},\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.resetLogicalSpace();\n            context.store().commit('range', value);\n            return value;\n        }\n    },\n    scale: {},\n    smartTicks: {},\n    store: {},\n    title: {\n        sanitization: (context, value) => mergeRecursive(context._title || {}, value)\n    }\n};\n","import { getSymbol } from 'muze-utils';\nimport {\n    CENTER,\n    LEFT,\n    RIGHT\n} from '../enums/constants';\n\nexport const ALIGN = {\n    HORIZONTAL: 'horizontal',\n    VERTICAL: 'vertical'\n};\n\nexport const DEFAULT_MEASUREMENT = {\n    height: 30,\n    width: 30,\n    maxWidth: Infinity,\n    maxHeight: Infinity,\n    padding: 2,\n    margin: 2,\n    border: 1\n};\n\nexport const LEGEND_TITLE = {\n    text: '',\n    orientation: (pos) => {\n        if (pos === LEFT || pos === RIGHT) {\n            return LEFT;\n        } return CENTER;\n    }\n};\n\nexport const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n\n    formatter: {\n        bounds: {\n            lower: 'less than',\n            upper: 'more than'\n        }\n    },\n    item: {\n        text: {\n            orientation: 'right',\n            width: 10\n        },\n        icon: {\n            className: 'legend-icon',\n            height: 20,\n            width: 20,\n            color: 'rgba(0,0,0,.5)',\n            type: 'square'\n        }\n    }\n};\n\n/**\n * Creates a map of pre defined icons\n *\n * @param {string} icon Accepts a icon name like 'square', 'cross', 'diamond' etc\n * @return {Object} icon object which can be used to draw the icons\n */\nexport const ICON_MAP = icon => icon && getSymbol(icon);\n","import { makeElement, numberInterpolator } from 'muze-utils';\n\nimport {\n    SCALE_FUNCTIONS,\n    WIDTH,\n    HEIGHT,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} scale\n * @returns\n */\nexport const getScaleInfo = (scale) => {\n    const scaleType = scale.constructor.type();\n    const domain = scale.uniqueValues();\n    const steps = scale.config().stops || 1;\n    const scaleFn = SCALE_FUNCTIONS[scaleType];\n\n    return { scaleType, domain, steps, scaleFn };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} steps\n * @returns\n */\nexport const getInterpolatedData = (domain, steps) => {\n    const domainForLegend = [];\n    const interpolatedFn = numberInterpolator()(domain[0], domain[1]);\n\n    for (let i = 0; i <= steps; i++) {\n        domainForLegend[i] = interpolatedFn(i / steps);\n    }\n    return domainForLegend;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} text\n * @param {*} measurement\n * @param {*} classPrefix\n */\nexport const titleCreator = (container, title, measurement, config) =>\n                makeElement(container, 'div', [1], `${config.classPrefix}-legend-title`)\n                                .style(WIDTH, '100%')\n                                .style(HEIGHT, `${measurement.height}px`)\n                                .style('padding-left', `${measurement.padding}px`)\n                                .style('padding-right', `${measurement.padding}px`)\n                                .style('border-bottom-width', `${measurement.border}px`)\n                                .style('text-align', title.orientation instanceof Function ?\n                                        title.orientation(config.position) : title.orientation)\n                                .text(title.text)\n                                .node();\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n * @return\n */\nexport const getMaxMeasures = (data, prop, labelManager) => {\n    let maxHeight = -Infinity;\n    let maxWidth = -Infinity;\n\n    data.forEach((item) => {\n        const value = prop ? item[prop] : item;\n        const space = labelManager.getOriSize(value);\n        maxHeight = Math.max(space.height + 2, maxHeight);\n        maxWidth = Math.max(space.width + 2, maxWidth);\n    });\n\n    return { height: maxHeight, width: maxWidth };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n * @return\n */\nexport const getItemMeasures = (data, prop, labelManager) => {\n    const space = [];\n\n    data.forEach((item, index) => {\n        const value = prop ? item[prop] : item;\n        const { height, width } = labelManager.getOriSize(value);\n        space[index] = { height: height + 1, width: width + 1 };\n    });\n    return space;\n};\n\n/**\n *\n *\n * @param {*} textOrientation\n * @param {*} effPadding\n * @param {*} titleSpace\n * @return\n * @memberof Legend\n */\nexport const computeItemSpaces = (config, measures, data) => {\n    let totalHeight = 0;\n    let totalWidth = 0;\n    let maxItemSpaces = {\n        width: 0, height: 0\n    };\n    const {\n        effPadding,\n        titleWidth,\n        labelSpaces,\n        titleHeight,\n        maxWidth\n    } = measures;\n    const {\n        item,\n        align\n    } = config;\n    const {\n        icon,\n        text\n    } = item;\n    const textOrientation = text.orientation;\n    const itemSpaces = [];\n    const iconSpaces = [];\n    let maxIconWidth = 0;\n    labelSpaces.forEach((labelSpace, i) => {\n        const itemSpace = { width: 0, height: 0 };\n        const iconSpace = { width: 0, height: 0 };\n        const datum = data[i] || {};\n            // Compute each legend item height/width\n        if (textOrientation === LEFT || textOrientation === RIGHT) {\n            // Get label, icon and item widths\n            labelSpace.width += effPadding;\n            iconSpace.width = (datum.size ? 2 * Math.sqrt(datum.size / Math.PI) : icon.width) + effPadding;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n            itemSpace.width = labelSpace.width + maxIconWidth;\n\n            // Get label, icon and item heights\n            labelSpace.height = Math.max(labelSpace.height, icon.height) + effPadding;\n            iconSpace.height = labelSpace.height;\n            itemSpace.height = labelSpace.height;\n        } else {\n            // Get label, icon and item widths\n            labelSpace.width = Math.max(labelSpace.width, datum.size ? 2 * Math.sqrt(datum.size / Math.PI)\n            : icon.width) + effPadding;\n            iconSpace.width = labelSpace.width;\n            itemSpace.width = labelSpace.width;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n\n            // Get label, icon and item heights\n            labelSpace.height += effPadding;\n            iconSpace.height = icon.height + effPadding;\n            itemSpace.height = labelSpace.height + iconSpace.height;\n        }\n        // Compute height and width of legend for each alignment\n        if (align === 'horizontal') {\n            totalHeight = Math.max(totalHeight, itemSpace.height);\n        } else {\n            totalHeight += itemSpace.height;\n            totalWidth = Math.max(totalWidth, itemSpace.width, titleWidth);\n        }\n        maxItemSpaces = {\n            width: Math.max(itemSpace.width, maxItemSpaces.width),\n            height: Math.max(itemSpace.height, maxItemSpaces.height)\n        };\n        itemSpaces.push(itemSpace);\n        iconSpaces.push(iconSpace);\n    });\n\n    itemSpaces.forEach((itemSpace, i) => {\n        if (align === 'horizontal') {\n            itemSpace.height = totalHeight;\n            iconSpaces[i].width = maxIconWidth;\n            if (textOrientation === LEFT || textOrientation === RIGHT) {\n                labelSpaces[i].height = totalHeight;\n                iconSpaces[i].height = totalHeight;\n                itemSpaces[i].width = labelSpaces[i].width + maxIconWidth;\n            } else {\n                labelSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = maxIconWidth;\n                labelSpaces[i].width = maxIconWidth;\n            }\n            totalWidth = Math.max(totalWidth + itemSpaces[i].width, titleWidth);\n        } else {\n            itemSpace.width = Math.max(totalWidth, maxWidth);\n            if (textOrientation === TOP || textOrientation === BOTTOM) {\n                labelSpaces[i].width = totalWidth;\n                iconSpaces[i].width = totalWidth;\n                maxIconWidth = totalWidth;\n            } else {\n                iconSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = labelSpaces[i].width + maxIconWidth;\n                labelSpaces[i].width = maxItemSpaces.width - maxIconWidth;\n                totalWidth = Math.max(totalWidth, itemSpace.width, titleWidth);\n            }\n        }\n    });\n    totalHeight += titleHeight + effPadding;\n\n    return { totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth };\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} scaleInfo\n * @param {*} domainInfo\n * @returns\n */\nexport const getDomainBounds = (type, scaleInfo, domainInfo) => {\n    const {\n        scaleFn,\n        scaleType,\n        scale\n    } = scaleInfo;\n    const {\n        domain,\n        domainBounds,\n        domainLeg,\n        steps\n    } = domainInfo;\n    const ele = domain[type === 'lower' ? 0 : domain.length - 1];\n    const step = steps[type === 'lower' ? 0 : steps.length - 1];\n\n    return {\n        [scaleType]: scaleType === 'size' ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n        value: domainBounds[type],\n        id: type === 'lower' ? 0 : domainLeg.length + 2,\n        range: [ele, step]\n    };\n};\n","import {\n    makeElement,\n    selectElement,\n    getUniqueId,\n    getSmartComputedStyle,\n    generateGetterSetters,\n    mergeRecursive\n} from 'muze-utils';\nimport { behaviouralActions } from '@chartshq/muze-firebolt';\nimport * as legendBehaviours from '../firebolt/behavioural';\n\nimport { LegendFireBolt } from '../firebolt/legend-firebolt';\nimport { actionBehaviourMap } from '../firebolt/action-behaviour-map';\nimport { physicalActions } from '../firebolt/physical';\nimport * as sideEffects from '../firebolt/side-effects';\nimport { behaviourEffectMap } from '../firebolt/behaviour-effect-map';\nimport { VALUE, PATH } from '../enums/constants';\nimport { PROPS } from './props';\nimport { DEFAULT_MEASUREMENT, DEFAULT_CONFIG, LEGEND_TITLE } from './defaults';\nimport { getItemMeasures, titleCreator, computeItemSpaces } from './legend-helper';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class SimpleLegend\n */\nexport default class SimpleLegend {\n\n    /**\n     * Creates an instance of Legend.\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @memberof Legend\n     */\n    constructor (dependencies) {\n        this._data = [];\n        this._metaData = [];\n        this._mount = null;\n        this._fieldName = null;\n        this._title = Object.assign({}, LEGEND_TITLE);\n        this._metaData = null;\n        this._labelManager = dependencies.labelManager;\n        this._cells = dependencies.cells;\n        this._id = getUniqueId();\n        this._measurement = Object.assign({}, this.constructor.defaultMeasurement());\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n\n        generateGetterSetters(this, PROPS);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'),\n            `${this.config().classPrefix}-legend-item-info`);\n\n        this._firebolt = new LegendFireBolt(this, {\n            behavioural: Object.assign({}, behaviouralActions, legendBehaviours),\n            physical: physicalActions,\n            physicalBehaviouralMap: actionBehaviourMap\n        }, sideEffects, behaviourEffectMap);\n    }\n\n    id () {\n        return this._id;\n    }\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new SimpleLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof SimpleLegend\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof SimpleLegend\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENT;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleLegend\n     */\n    firebolt (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof Legend\n     */\n    elemType () {\n        return PATH;\n    }\n\n    canvasAlias (...alias) {\n        if (alias.length) {\n            this._canvasAlias = alias[0];\n            return this;\n        }\n        return this._canvasAlias;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof Legend\n     */\n    mount (...params) {\n        if (params.length) {\n            this._mount = params[0];\n            this.render();\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     * @return\n     * @memberof Legend\n     */\n    getLabelSpaces () {\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n            `${this.config().classPrefix}-legend-item-info`));\n        return getItemMeasures(this.data(), VALUE, this._labelManager);\n    }\n\n    /**\n     * Sets the height and width of a legend based on provided max\n     * height and width and based on its contents\n     *\n     * @return {Instance} Current instance\n     * @memberof Legend\n     */\n    setLegendMeasures () {\n        const {\n           width,\n           height,\n           maxWidth,\n           maxHeight,\n           padding,\n           margin,\n           border\n       } = this.measurement();\n        const {\n            align\n        } = this.config();\n\n        // Effective padding, margin and padding\n        const effPadding = padding * 2;\n        const effBorder = border * 2;\n        const effMargin = margin * 2;\n\n        this.data(this.dataFromScale(this.scale()));\n        // Get space occupied by title\n        const titleSpace = this.getTitleSpace();\n        const titleHeight = titleSpace.height > 0 ? titleSpace.height * 1.25 : 0;\n        const titleWidth = titleSpace.width;\n\n        // Get space occupied by labels\n        const labelSpaces = this.getLabelSpaces(effPadding, align);\n\n        const {\n            totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth\n        } = computeItemSpaces(this.config(),\n        { effPadding, titleWidth, labelSpaces, titleHeight, maxWidth, maxHeight }, this.data());\n\n        this.measurement({\n            width: Math.max(totalWidth, width) + effMargin + effBorder,\n            height: Math.max(totalHeight, height) + effMargin + effBorder,\n            labelSpaces,\n            iconSpaces,\n            itemSpaces,\n            maxItemSpaces,\n            maxIconWidth,\n            titleSpaces: {\n                width: Math.min(maxWidth, this.measurement().width) - effMargin - effBorder,\n                height: titleHeight\n            }\n        });\n        return this;\n    }\n\n    /**\n     * Returns the space occupied by the legend title\n     *\n     * @return {Object} Space occupied by title\n     * @memberof Legend\n     */\n    getTitleSpace () {\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n                                                 `${this.config().classPrefix}-legend-title`));\n        return this._labelManager.getOriSize(this.title().text ? this.title().text : '');\n    }\n\n    /**\n     * Creates the title for the legend\n     *\n     * @param {DOM} container Container made for the title\n     * @return {Selection} Title and it's node\n     * @memberof Legend\n     */\n    renderTitle (container) {\n        const { titleSpaces, border, padding } = this.measurement();\n        return titleCreator(container, this.title(), {\n            height: titleSpaces.height,\n            border,\n            padding\n        }, this.config());\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const {\n            classPrefix\n        } = this.config();\n        const {\n           maxWidth,\n           maxHeight,\n           width,\n           height,\n           margin,\n           border\n       } = this.measurement();\n        const legendContainer = makeElement(selectElement(this.mount()), 'div', [1], `${classPrefix}-legend-box`);\n\n        legendContainer.classed(`${classPrefix}-legend-box-${this._id}`, true);\n        legendContainer.style('float', 'left');\n        // set height and width\n        legendContainer.style('width', `${Math.min(maxWidth, width) - margin * 2}px`)\n                        .style('height', `${Math.min(maxHeight, height) - margin * 2}px`)\n                        .style('margin', `${margin}px`)\n                        .style('border-width', `${border}px`);\n        this.legendContainer(legendContainer.node());\n\n        // create title\n        this.renderTitle(legendContainer);\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n  /**\n     *\n     *\n     * @param {*} data\n     * @returns\n     * @memberof StepLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        const type = this.metaData().getData().schema[0].type;\n        if (type === 'measure') {\n            return {\n                [fieldName]: data.range\n            };\n        }\n        return [[fieldName], [data.value]];\n    }\n}\n","import {\n    LEFT,\n    RIGHT,\n    START,\n    END,\n    TOP,\n    BOTTOM,\n    HORIZONTAL,\n    VERTICAL,\n    CENTER,\n    SHAPE,\n    VALUE\n} from '../enums/constants';\n\nconst legendOrientation = {\n    [HORIZONTAL]: {\n        datasets: data => ({\n            row: [1],\n            column: data\n        }),\n        itemContainerMeasures: (measurement) => {\n            const {\n                itemSpaces,\n                width\n            } = measurement;\n            return {\n                row: {\n                    width: `${width}px`,\n                    padding: `${0}px`\n                },\n                column: {\n                    width: (d, i) => `${itemSpaces[i].width}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, height } = measurement;\n            return {\n                iconHeight: height,\n                iconWidth: maxItemSpaces.width,\n                stepPadding: {\n                    horizontal: true,\n                    vertical: false\n                }\n            };\n        }\n    },\n    [VERTICAL]: {\n        datasets: data => ({\n            row: data,\n            column: d => [d]\n        }),\n        itemContainerMeasures: (measurement, config) => {\n            const {\n                maxItemSpaces,\n                width\n            } = measurement;\n            const { padding } = config;\n            return {\n                row: {\n                    width: `${maxItemSpaces.width}px`,\n                    padding: `${padding}px`\n                },\n                column: {\n                    width: `${width}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, width } = measurement;\n            return {\n                iconHeight: maxItemSpaces.height,\n                iconWidth: width,\n                stepPadding: {\n                    horizontal: false,\n                    vertical: true\n                }\n            };\n        }\n    }\n};\n\nexport const positionConfig = {\n    [LEFT]: legendOrientation[VERTICAL],\n    [RIGHT]: legendOrientation[VERTICAL],\n    [TOP]: legendOrientation[HORIZONTAL],\n    [BOTTOM]: legendOrientation[HORIZONTAL]\n};\n\nexport const alignmentMap = {\n    [LEFT]: END,\n    [RIGHT]: START,\n    [TOP]: CENTER,\n    [BOTTOM]: CENTER\n};\n\n// Reverses data for step legend\nexport const stepData = data => ({\n    [LEFT]: data.reverse(),\n    [RIGHT]: data.reverse(),\n    [TOP]: data,\n    [BOTTOM]: data\n});\n\n// Changes the item layout based on the position of the text\nexport const itemStack = {\n    [LEFT]: [VALUE, SHAPE],\n    [RIGHT]: [SHAPE, VALUE],\n    [TOP]: [VALUE, SHAPE],\n    [BOTTOM]: [SHAPE, VALUE]\n};\n","import { makeElement, selectElement, applyStyle } from 'muze-utils';\nimport { ICON_MAP } from './defaults';\nimport { positionConfig, alignmentMap, itemStack } from './position-config';\nimport {\n    WIDTH,\n    HEIGHT,\n    CENTER,\n    VALUE,\n    RECT,\n    LEFT,\n    RIGHT\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} measureType\n * @param {*} stepColorCheck\n */\nexport const applyItemStyle = (item, measureType, stepColorCheck, context) => {\n    const {\n        padding,\n        labelSpaces,\n        iconSpaces,\n        maxIconWidth\n    } = context.measurement();\n    const diff = stepColorCheck ? -padding * 2 : 0;\n\n    if (item[0] === VALUE) {\n        return `${labelSpaces[item[6]][measureType]}px`;\n    }\n    return `${measureType === 'width' && !stepColorCheck ? maxIconWidth : iconSpaces[item[6]][measureType] - diff}px`;\n};\n\n /**\n * Returns the icon of the legend item\n *\n * @param {Object} datum Data property attached to the item\n * @param {number} width width of the item\n * @param {number} height height of the item\n * @return {Object|string} returns the path string or the string name of the icon\n * @memberof Legend\n */\nexport const getLegendIcon = (datum, width, height, defaultIcon) => {\n    const icon = ICON_MAP(datum[1]);\n\n    if (icon) {\n        return icon.size(datum[3] || Math.min(width, height) * Math.PI);\n    }\n    return ICON_MAP(datum[3] ? 'circle' : defaultIcon).size(datum[3] || Math.min(width, height) * Math.PI);\n};\n\n/**\n *\n *\n */\nexport const renderIcon = (icon, container, datum, context) => {\n    const {\n        classPrefix,\n        iconHeight,\n        maxIconWidth,\n        padding,\n        color\n    } = context;\n    const svg = makeElement(container, 'svg', f => [f], `${classPrefix}-legend-icon-svg`)\n    .attr(WIDTH, maxIconWidth)\n    .attr(HEIGHT, iconHeight)\n    .style(WIDTH, `${maxIconWidth}px`)\n    .style(HEIGHT, `${iconHeight}px`);\n\n    if (icon !== RECT) {\n        makeElement(svg, 'path', [datum[1]], `${classPrefix}-legend-icon`)\n                        .attr('d', icon)\n                        .attr('transform', `translate(${maxIconWidth / 2 - padding} ${iconHeight / 2})`)\n                        .attr('fill', datum[2] || color);\n    } else {\n        makeElement(svg, RECT, [datum[1]], `${classPrefix}-legend-icon`)\n                        .attr('x', 0)\n                        .attr('y', 0)\n                        .attr(WIDTH, maxIconWidth)\n                        .attr(HEIGHT, iconHeight)\n                        .attr('fill', datum[2] || color);\n    }\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} legendInstance\n * @param {*} align\n * @return\n */\nexport const getItemContainers = (container, data, legendInstance) => {\n    const measurement = legendInstance.measurement();\n    const config = legendInstance.config();\n    const {\n        itemSpaces\n    } = measurement;\n    const {\n        classPrefix,\n        position\n    } = config;\n    const positionObj = positionConfig[position];\n    const datasets = positionObj.datasets(data);\n    const measures = positionObj.itemContainerMeasures(measurement, config);\n\n    const rows = makeElement(container, 'div', datasets.row, `${classPrefix}-legend-row`);\n    rows.style(HEIGHT, (d, i) => `${itemSpaces[i].height}px`);\n    rows.style(WIDTH, measures.row.width);\n    rows.style('padding', measures.row.padding);\n\n    const columns = makeElement(rows, 'div', datasets.column, `${classPrefix}-legend-columns`);\n    columns.style(WIDTH, measures.column.width);\n    columns.style('padding', measures.column.padding);\n\n    return columns;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} classPrefix\n * @param {*} data\n * @returns\n * @memberof DiscreteLegend\n */\nexport const createLegendSkeleton = (context, container, classPrefix, data) => {\n    let gradWidth = 0;\n    let gradHeight = 0;\n    let maxGradHeight = 0;\n    let maxGradWidth = 0;\n    const measurement = context.measurement();\n    const {\n            margin,\n            border,\n            titleSpaces,\n            width,\n            height,\n            maxWidth,\n            maxHeight\n        } = measurement;\n\n    gradHeight = height - (titleSpaces.height + 2 * margin + 2 * border);\n    gradWidth = width - (margin * 2 + border * 2);\n\n    maxGradHeight = maxHeight - (titleSpaces.height + margin * 2 + border * 2);\n    maxGradWidth = maxWidth - (margin * 2 + border * 2);\n\n    let legendBody = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    legendBody.select(`.${classPrefix}-legend-overflow`).remove();\n        // Create a div with scroll when overflow\n    if (maxGradWidth && maxGradWidth < gradWidth) {\n        legendBody = legendBody.style(WIDTH, `${maxGradWidth}px`).style('overflow-x', 'scroll');\n    }\n        // Create a div with scroll when overflow\n    if (maxGradHeight && maxGradHeight < gradHeight) {\n        legendBody.style(HEIGHT, `${maxGradHeight}px`).style('overflow-y', 'scroll');\n    }\n\n    legendBody = makeElement(legendBody, 'div', [1], `${classPrefix}-legend-overflow`);\n\n    legendBody.style(WIDTH, `${gradWidth}px`);\n    legendBody.style(HEIGHT, `${gradHeight}px`);\n\n    const legendItem = getItemContainers(legendBody, data, context);\n    return { legendItem };\n};\n\n/**\n * Creates legend item based on alignment and text orientation\n *\n * @param {Selection} container Point where items are to be mounted\n * @return {Instance} Current instance\n * @memberof Legend\n */\nexport const createItemSkeleton = (context, container) => {\n    const {\n        classPrefix,\n        item\n    } = context.config();\n    const textOrientation = item.text.orientation;\n\n    const stack = itemStack[textOrientation];\n    const itemSkeleton = makeElement(container, 'div', (d, i) => stack.map(e => [e, d[e], d.color, d.size,\n        d.value, context.fieldName(), i]), `${classPrefix}-legend-item-info`);\n\n    const alignClass = alignmentMap[textOrientation];\n\n    itemSkeleton.classed(alignClass, true);\n    return { itemSkeleton };\n};\n\n/**\n * Renders the items in the legend i.e, icon and text\n *\n * @param {DOM} container Point where item is to be mounted\n * @memberof Legend\n */\nexport const renderDiscreteItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n           item,\n           classPrefix\n    } = context.config();\n    const {\n        maxIconWidth,\n        padding\n    } = context.measurement();\n    const {\n            width: iconWidth,\n            height: iconHeight,\n            color,\n            type,\n            className\n        } = item.icon;\n\n    const textOrientation = item.text.orientation;\n\n    labelManager.useEllipsesOnOverflow(true);\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, false, context),\n        height: d => applyItemStyle(d, HEIGHT, false, context),\n        'text-align': CENTER,\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    container.each(function (d, i) {\n        if (d[0] === VALUE) {\n            selectElement(this).text(d[1])\n                            .style(`padding-${textOrientation === RIGHT ? LEFT : RIGHT}`, '0px');\n        } else {\n            const icon = getLegendIcon(d, iconWidth, iconHeight, type);\n            selectElement(this).classed(`${classPrefix}-${className}`, true);\n            selectElement(this).classed(`${classPrefix}-${className}-${i}`, true);\n            renderIcon(icon, selectElement(this), d, {\n                classPrefix,\n                iconWidth: 2 * Math.sqrt(d[3] / Math.PI) || iconWidth,\n                iconHeight,\n                maxIconWidth,\n                padding,\n                color\n            });\n        }\n    });\n};\n\n/**\n* Renders the items in the legend i.e, icon and text\n*\n* @param {DOM} container Point where item is to be mounted\n* @memberof Legend\n*/\nexport const renderStepItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n      item,\n      position,\n      classPrefix\n   } = context.config();\n    const {\n      maxItemSpaces,\n      maxIconWidth,\n      padding\n   } = context.measurement();\n    const {\n       width,\n       height,\n       color\n   } = item.icon;\n\n    labelManager.useEllipsesOnOverflow(true);\n    const { iconHeight, iconWidth, stepPadding } = positionConfig[position].getStepSpacesInfo({\n        maxItemSpaces, height, width\n    });\n\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, stepPadding.horizontal, context),\n        height: d => applyItemStyle(d, HEIGHT, stepPadding.vertical, context),\n        'text-align': 'center',\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    container.each(function (d) {\n        if (d[0] === VALUE) {\n            selectElement(this).text(d[1]);\n        } else {\n            renderIcon(RECT, selectElement(this), d, {\n                classPrefix,\n                iconWidth,\n                iconHeight,\n                maxIconWidth,\n                color\n            });\n        }\n    });\n};\n","import SimpleLegend from './simple-legend';\nimport { DISCRETE, LEFT, SIZE } from '../enums/constants';\nimport { getScaleInfo } from './legend-helper';\nimport { createLegendSkeleton, createItemSkeleton, renderDiscreteItem } from './renderer';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class DiscreteLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new DiscreteLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof DiscreteLegend\n     */\n    static type () {\n        return DISCRETE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     * @returns\n     * @memberof DiscreteLegend\n     */\n    dataFromScale (scale) {\n        const { scaleType, domain, scaleFn } = getScaleInfo(scale);\n        let domainForLegend = [...new Set(domain)];\n        const type = this.metaData().getData().schema[0].type;\n\n        domainForLegend = domainForLegend.map((ele, i) => {\n            let value = 0;\n            let range = 0;\n            if (type === 'measure') {\n                value = (+domainForLegend[i]).toFixed(0);\n                const nextVal = domainForLegend[i + 1] ? +domainForLegend[i + 1] : +value;\n                range = [value, nextVal.toFixed(0)];\n            } else {\n                value = domainForLegend[i];\n                range = [domainForLegend[i]];\n            }\n            return {\n                [scaleType]: scale[scaleFn](ele),\n                value,\n                id: i,\n                range\n            };\n        }).filter(d => d.value !== null);\n\n        domainForLegend = scaleType === SIZE ? domainForLegend.sort((a, b) => a[scaleType] - b[scaleType])\n            : domainForLegend;\n        return domainForLegend;\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const data = this.data();\n        const { classPrefix } = this.config();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n        renderDiscreteItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n}\n","import { makeElement, applyStyle } from 'muze-utils';\nimport { ContinousAxis } from '@chartshq/muze-axis';\nimport { BOTTOM, RIGHT } from '../enums/constants';\nimport { ALIGN } from './defaults';\nimport '../styles.scss';\n\n/**\n *\n *\n * @param {*} data\n * @returns\n */\nexport const getGradientDomain = (data) => {\n    if (typeof data[0].value === 'number') {\n        return data.reduce((accumulator, currentValue) =>\n            [Math.min(currentValue.value, accumulator[0]), Math.max(currentValue.value, accumulator[1])],\n                [Number.MAX_VALUE, Number.MIN_VALUE]);\n    }\n    return data.map(e => e.value);\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} domain\n * @returns\n */\nexport const makeLinearGradient = (container, data, domain) => {\n    const defs = makeElement(container, 'defs', [1]);\n    const linearGradient = makeElement(defs, 'linearGradient', [1])\n                .attr('id', 'linear-gradient')\n                .attr('x1', '0%')\n                .attr('y2', '0%');\n    makeElement(linearGradient, 'stop', data, 'stop-gradient')\n                    .attr('offset', d => `${(d.value - domain[0]) * 100 / (domain[1] - domain[0])}%`)\n                    .attr('stop-color', d => d.color);\n    return linearGradient;\n};\n\n/**\n * Creates an axis cell with a linear axis for computing space and\n * creating gradient legend\n *\n * @return {AxisCell} Instance of Axis Cell for the gradient axis\n * @memberof Legend\n */\nexport const createAxis = (context) => {\n    const data = context.data();\n    const { align } = context.config();\n    const AxisCell = context._cells.AxisCell;\n    const newAxis = new ContinousAxis({\n        id: `legend-${context._id}`,\n        orientation: align === ALIGN.VERTICAL ? RIGHT : BOTTOM,\n        style: context._computedStyle,\n        nice: false,\n        showAxisName: false,\n        tickValues: data.map(d => d.value),\n        fixedBaseline: false\n    }, { labelManager: context._labelManager });\n\n    newAxis.domain(getGradientDomain(data));\n    newAxis.range([1, 1]);\n    return new AxisCell().source(newAxis).config({\n        margin: { left: 0, bottom: 0, top: 0, right: 0 }\n    });\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} classPrefix\n * @returns\n * @memberof GradientLegend\n */\nconst createLegendSkeleton = (container, classPrefix, data) => {\n    const domain = getGradientDomain(data);\n    const legendContainer = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    const legendGradSvg = makeElement(legendContainer, 'svg', [1], `${classPrefix}-gradient`);\n    const legendGradCont = makeElement(legendGradSvg, 'g', [1], `${classPrefix}-gradient-group`);\n    const linearGradient = makeLinearGradient(legendGradSvg, data, domain);\n    const legendRect = makeElement(legendGradCont, 'rect', [1], `${classPrefix}-gradient-rect`);\n\n    return {\n        legendContainer,\n        legendGradCont,\n        legendGradSvg,\n        linearGradient,\n        legendRect\n    };\n};\n\n/**\n * Renders the axis for the gradient\n *\n * @param {Selection} container Point where axis is to be mounted\n * @param {number} height Height for axis\n * @param {number} width Width for axis\n * @memberof Legend\n */\nexport const renderAxis = (context, container, height, width) => {\n    const axis = context.axis();\n\n    axis.setAvailableSpace(width, height);\n    axis.render(container.node());\n};\n\n/**\n * Renders gradient legends\n *\n * @param {Selection} container Point where the legend is to be appended\n * @memberof GradientLegend\n */\nexport const renderGradient = (context, container) => {\n    let gradHeight = 0;\n    let gradWidth = 0;\n    const {\n        align,\n        classPrefix,\n        item\n    } = context.config();\n    const data = context.data();\n    // Create the skeleton for the legend\n    const {\n        legendContainer,\n        legendGradSvg,\n        legendGradCont,\n        linearGradient,\n        legendRect\n    } = createLegendSkeleton(container, classPrefix, data);\n    const labelDim = context.axis().source().getAxisDimensions().tickLabelDim;\n    const {\n        padding,\n        margin,\n        border,\n        titleSpaces,\n        maxHeight,\n        maxWidth,\n        height,\n        width\n    } = context.measurement();\n    const gradientDimensions = {};\n\n    gradHeight = Math.floor(height - (titleSpaces.height + 2 * margin + 2 * border));\n    gradWidth = Math.floor(width - (margin * 2 + border * 2));\n\n    if (align === ALIGN.HORIZONTAL) {\n        gradientDimensions.height = item.icon.height;\n        gradientDimensions.width = gradWidth - 2 * padding - labelDim.width / 2;\n        linearGradient.attr('x2', '100%').attr('y1', '0%');\n        legendGradCont.attr('transform', `translate( ${labelDim.width / 2} 0)`);\n        renderAxis(context, legendContainer, gradHeight - item.icon.height - padding, gradWidth - 2 * padding - 1);\n        legendContainer.classed(`${classPrefix}-overflow-x`, width > maxWidth);\n\n        applyStyle(legendContainer, {\n            height: `${height}px`,\n            width: `${Math.min(width, maxWidth)}px`,\n            padding: `${padding}px`\n        });\n\n        legendRect.attr('height', gradientDimensions.height);\n        legendRect.attr('width', gradientDimensions.width - labelDim.width / 2);\n    } else {\n        gradientDimensions.height = gradHeight - 2 * padding - labelDim.height / 2;\n        gradientDimensions.width = item.icon.width;\n        linearGradient.attr('x2', '0%').attr('y1', '100%');\n        legendGradCont.attr('transform', `translate(0 ${labelDim.height / 2})`);\n        renderAxis(context, legendContainer, gradHeight - 2 * padding - 1, gradWidth - item.icon.width - padding * 2);\n        legendContainer.classed(`${classPrefix}-overflow-y`, height > maxHeight);\n        applyStyle(legendContainer, {\n            height: `${Math.min(height, maxHeight)}px`,\n            width: `${width}px`,\n            padding: `${padding}px`\n        });\n        legendRect.attr('height', gradientDimensions.height - labelDim.height / 2);\n        legendRect.attr('width', gradientDimensions.width);\n    }\n\n    // Apply Styles to the legend plot area\n    applyStyle(legendGradSvg, {\n        height: `${gradientDimensions.height}px`,\n        width: `${gradientDimensions.width}px`\n    });\n\n        // Apply styles to the legend rect\n    applyStyle(legendRect, {\n        fill: 'url(#linear-gradient)'\n    });\n    legendGradSvg.attr('height', gradientDimensions.height);\n    legendGradSvg.attr('width', gradientDimensions.width);\n\n    context.measurement({\n        gradientDimensions\n    });\n    context._legendGradientSvg = legendGradSvg;\n    return context;\n};\n","import SimpleLegend from './simple-legend';\nimport { getScaleInfo, getInterpolatedData } from './legend-helper';\nimport { GRADIENT, LEFT, SIZE } from '../enums/constants';\nimport { renderGradient, createAxis } from './gradient-helper';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class GradientLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new GradientLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof GradientLegend\n     */\n    static type () {\n        return GRADIENT;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axis\n     * @returns\n     * @memberof GradientLegend\n     */\n    axis (...axis) {\n        if (axis.length) {\n            this._axis = axis[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     * @returns\n     * @memberof GradientLegend\n     */\n    dataFromScale (scale) {\n        let domainForLegend = [];\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainForLegend[0] = domain[0];\n            }\n            domainForLegend = [...domainForLegend, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainForLegend.push(domain[1]);\n            }\n        } else {\n            domainForLegend = getInterpolatedData(domain, steps - 1);\n        }\n        domainForLegend = [...new Set(domainForLegend)].sort((a, b) => a - b);\n\n        return domainForLegend.map((ele, i) => {\n            const value = domainForLegend[i];\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor()\n                    : scale[scaleFn](Math.floor(ele)),\n                value: +value.toFixed(2),\n                id: i\n            };\n        }).filter(d => d.value !== null);\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     * @return\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        const axis = createAxis(this);\n        const axisSpace = axis.getLogicalSpace();\n        const space = { width: axisSpace.width - effPadding, height: axisSpace.height - effPadding };\n        const axisDomainLength = axis.source().domain().length;\n        const labelSpaces = new Array(axisDomainLength).fill(space);\n\n        this.axis(axis);\n        return labelSpaces;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof GradientLegend\n     */\n    getDrawingContext () {\n        return {\n            svgContainer: this._legendGradientSvg\n        };\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        renderGradient(this, legendContainer);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n /**\n     *\n     *\n     * @param {*} data\n     * @returns\n     * @memberof SimpleLegend\n     */\n    getCriteriaFromData (data) {\n        return [[this.fieldName()], [data.value]];\n    }\n}\n","import SimpleLegend from './simple-legend';\nimport {\n    getScaleInfo,\n    getInterpolatedData,\n    getDomainBounds\n} from './legend-helper';\nimport {\n    createLegendSkeleton,\n    createItemSkeleton,\n    renderStepItem\n} from './renderer';\nimport { STEP, RECT, LEFT, SIZE, UPPER, LOWER } from '../enums/constants';\nimport { stepData } from './position-config';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class StepLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new StepLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof StepLegend\n     */\n    static type () {\n        return STEP;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     * @returns\n     * @memberof StepLegend\n     */\n    dataFromScale (scale) {\n        let domainLeg = [];\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        const { formatter } = this.config();\n        const domainBounds = {\n            lower: null, upper: null\n        };\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainBounds.lower = [`${formatter.bounds.lower} ${steps[0]}`];\n            }\n            domainLeg = [...domainLeg, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainBounds.upper = [`${formatter.bounds.upper} ${steps[steps.length - 1]}`];\n            }\n        } else {\n            domainLeg = getInterpolatedData(domain, steps);\n        }\n\n        domainLeg = [...new Set(domainLeg)].sort((a, b) => a - b);\n        domainLeg = domainLeg.map((ele, i) => {\n            let value = null;\n            if (i < domainLeg.length - 1) {\n                value = `${(ele.toFixed(1))} - ${(+domainLeg[i + 1].toFixed(1))}`;\n            }\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n                value,\n                id: i + 1,\n                range: [ele, domainLeg[i + 1]]\n            };\n        }).filter(d => d.value !== null);\n\n        if (domainBounds.lower) {\n            const lowerBounds = getDomainBounds(LOWER, { scale, scaleFn, scaleType },\n                { domain, steps, domainBounds });\n            domainLeg = [lowerBounds, ...domainLeg];\n        }\n        if (domainBounds.upper) {\n            const upperBounds = getDomainBounds(UPPER, { scale, scaleFn, scaleType },\n            { domain, steps, domainBounds, domainLeg });\n            domainLeg = [...domainLeg, upperBounds];\n        }\n        return domainLeg;\n    }\n\n     /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     * @return\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding, align) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        return super.getLabelSpaces(effPadding, align);\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof Legend\n     */\n    elemType () {\n        return RECT;\n    }\n\n     /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const { classPrefix, position } = this.config();\n        const data = stepData(this.data())[position];\n\n        const legendContainer = super.render(this.mount());\n\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n\n        renderStepItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     * @returns\n     * @memberof StepLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        return {\n            [fieldName]: data.range\n        };\n    }\n}\n","import { GradientLegend, DiscreteLegend, StepLegend } from '@chartshq/muze-legend';\n\n/**\n * Contants to be used as attr\n */\nexport const ROWS = 'rows';\nexport const COLUMNS = 'columns';\nexport const DATA = 'data';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\nexport const DETAIL = 'detail';\nexport const LAYERS = 'layers';\nexport const TRANSFORM = 'transform';\nexport const INITIALIZED = 'isInitialized';\nexport const SOURCE = 'source';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const PADDING = 'padding';\nexport const BORDER = 'border';\nexport const CONFIG = 'config';\nexport const MOUNT = 'mount';\nexport const CANVAS_UPDATED = 'canvasUpdated';\nexport const CLASSPREFIX = 'classPrefix';\nexport const POLICIES = '_policies';\nexport const LEGEND = 'legend';\nexport const TITLE = 'title';\nexport const SUB_TITLE = 'subtitle';\nexport const RESOLVE = 'resolve';\nexport const DISCRETE = 'discrete';\nexport const STEP_COLOR = 'step-color';\nexport const GRADIENT = 'gradient';\nexport const LINEAR = 'linear';\nexport const ORDINAL = 'ordinal';\n\nexport const TITLE_TEMPLATE_NOT_ALLOWED_TAGS = [\n    'script',\n    'style'\n];\n\nexport const LEGEND_TYPE_MAP = {\n    [`${ORDINAL}-${true}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${COLOR}`]: StepLegend,\n    [`${LINEAR}-${false}-${COLOR}`]: GradientLegend\n};\n\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const GROUP = 'group';\nexport const LAYOUT = 'layout';\nexport const RETINAL = 'retinal';\nexport const DIMENSION = 'dimension';\nexport const MEASURE = 'measure';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\n\n","import { ComposedVars, SimpleVariable } from '@chartshq/visual-group';\nimport { TITLE_TEMPLATE_NOT_ALLOWED_TAGS } from './constants';\n\n/**\n * This method creates a new composed variable instance from multiple variables.\n * @param {Array} vars Variable names\n * @return {ComposedVars} Instance of composed variable\n */\nexport const share = (...vars) => new ComposedVars(...vars.map(variable => new SimpleVariable(variable)));\n\n/**\n *\n *\n * @param {*} node\n * @returns\n */\nfunction treeShakeNode (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) { return; }\n\n    if (TITLE_TEMPLATE_NOT_ALLOWED_TAGS.indexOf(node.tagName.toLowerCase()) !== -1) {\n        node.parentNode.removeChild(node);\n    } else {\n        for (const childNode of node.childNodes) {\n            treeShakeNode(childNode);\n        }\n    }\n}\n\n/**\n * A string template tagged function which sanitizes input html formatted\n * string according to the allowed html tags.\n *\n * @param {Array.<string>} strings - The string parts of the template.\n * @param {Array} exps - The list of evaluated expression values.\n * @return {Function} Returns a function which returns the sanitized html string.\n */\nexport function html (strings, ...exps) {\n    let htmlCode = '';\n    const expLn = exps.length;\n    let i = 0;\n\n    for (; i < expLn; ++i) {\n        htmlCode += strings[i] + exps[i];\n    }\n    htmlCode += strings[i];\n\n    const frag = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n\n    frag.appendChild(wrapper);\n    wrapper.innerHTML = htmlCode;\n\n    treeShakeNode(wrapper);\n    const { innerHTML } = wrapper;\n\n    return () => innerHTML;\n}\n","import { mergeRecursive } from 'muze-utils';\n\nconst defaultPolicy = (registrableComponents) => {\n    const aliases = registrableComponents.map(comp => comp.alias());\n    return {\n        behaviours: {\n            '*': (propagationPayload) => {\n                const propagationCanvas = propagationPayload.sourceCanvas;\n                return propagationCanvas ? aliases.indexOf(propagationCanvas) !== -1 : true;\n            }\n        }\n    };\n};\n\nclass ActionModel {\n    constructor () {\n        this._registrableComponents = [];\n    }\n\n    registerPhysicalActions (action) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerPhysicalActions(action));\n            });\n        });\n        return this;\n    }\n\n    registerBehaviouralActions (...actions) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then(() => {\n                const matrix = canvas.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerBehaviouralActions(...actions));\n            });\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} map\n     * @returns\n     * @memberof ActionModel\n     */\n    registerPhysicalBehaviouralMap (map) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerPhysicalBehaviouralMap(map));\n            });\n        });\n        return this;\n    }\n\n    mapSideEffects (map) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then(() => {\n                const matrix = canvas.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().mapSideEffects(map));\n            });\n        });\n        return this;\n    }\n\n    for (...components) {\n        this._registrableComponents = components;\n        return this;\n    }\n\n    registerSideEffects (...sideEffects) {\n        const registrableComponents = this._registrableComponents;\n\n        registrableComponents.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerSideEffects(sideEffects));\n            });\n        });\n\n        return this;\n    }\n\n    dissociateBehaviour (...maps) {\n        const registrableComponents = this._registrableComponents;\n\n        registrableComponents.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each((cell) => {\n                    maps.forEach(val => cell.valueOf().firebolt().dissociateBehaviour(val[0], val[1]));\n                });\n            });\n        });\n\n        return this;\n    }\n\n    dissociateSideEffect (...maps) {\n        const registrableComponents = this._registrableComponents;\n\n        registrableComponents.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each((cell) => {\n                    maps.forEach(val => cell.valueOf().firebolt().dissociateSideEffect(val[0], val[1]));\n                });\n            });\n        });\n\n        return this;\n    }\n\n    enableCrossInteractivity (policy = {}) {\n        const registrableComponents = this._registrableComponents;\n        const mergedPolicy = mergeRecursive(mergeRecursive({}, defaultPolicy(registrableComponents)), policy);\n\n        registrableComponents.forEach((canvas) => {\n            canvas.firebolt().crossInteractionPolicy(mergedPolicy);\n        });\n\n        return this;\n    }\n}\n\nexport const actionModel = (() => new ActionModel())();\n","export const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n    interaction: {\n        sideEffect: 'individual'\n    },\n    legend: {\n        position: 'right',\n        color: {\n            show: true,\n            padding: 2,\n            margin: 2,\n            border: 1,\n            height: 30,\n            width: 30\n        },\n        shape: {\n            show: true,\n            padding: 2,\n            margin: 2,\n            border: 1,\n            height: 30,\n            width: 30\n        },\n        size: {\n            show: true,\n            padding: 2,\n            margin: 2,\n            border: 1,\n            height: 30,\n            width: 30\n        }\n    },\n    showHeaders: false,\n    minWidth: 100,\n    minHeight: 100,\n    border: {\n        style: 'solid',\n        color: '#d6d6d6',\n        width: 2,\n        collapse: true,\n        spacing: 0\n    },\n    autoGroupBy: {\n        disabled: false\n    }\n};\n","/**\n * @module\n * This is the global options semantics based on which setters getters are created and reactivity is initiated.\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n */\n\nimport { intSanitizer, mergeRecursive, DataModel } from 'muze-utils';\nimport { DEFAULT_CONFIG } from './defaults';\n\nexport default {\n    data: {\n        value: null,\n        meta: {\n            typeCheck: d => d instanceof DataModel\n        }\n    },\n    width: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    height: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitWidth: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitHeight: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    config: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config, oldConfig) => {\n                const oldConf = mergeRecursive({}, oldConfig);\n                const defConfig = mergeRecursive(oldConf, DEFAULT_CONFIG);\n                const newConf = mergeRecursive(defConfig, config);\n                return newConf;\n            }\n\n        }\n    }\n};\n","/**\n * This file exports constants that will be used to\n * create the state store of the table layout.\n */\n/**\n * The index of top, bottom and center in the matrix\n */\nexport const VIEW_INDEX = {\n    top: 0,\n    center: 1,\n    bottom: 2\n};\n\n/**\n * The width of the grid suppied by the user.\n */\nexport const GRID_WIDTH = 'width';\n\n/**\n * The height of the grid supplied by the user.\n */\nexport const GRID_HEIGHT = 'height';\n\n/**\n  * The border for the grid\n  */\nexport const BORDER = 'border';\n\n /**\n  *  The index of the first visible row in view matrix.\n  */\nexport const ROW_POINTER = 'rowPointer';\n\n/**\n * The index of the first visible column in the view matrix.\n */\nexport const COLUMN_POINTER = 'columnPointer';\n\n/**\n * Flag to specify whether row sizes should be equal.\n */\nexport const ROW_SIZE_IS_EQUAL = 'isRowSizeEqual';\n\n/**\n * Flag to specify whether column sizes are equal.\n */\nexport const COLUMN_SIZE_IS_EQUAL = 'isColumnSizeEqual';\n\n/**\n * Field to store an array an of the widths of visible columns.\n * @computed\n */\nexport const COLUMN_WIDTHS = 'visibleColumnWidths';\n\n/**\n * Field to store an array of heights of visible rows.\n * @computed\n */\nexport const ROW_HEIGHTS = 'visibleRowHeights';\n\n/**\n * Field to store the width of the left matrix.\n * @computed\n */\nexport const LEFT_MATRIX_WIDTH = 'leftMatrixWidth';\n\n/**\n * Field to store the width of the right matrix.\n * @computed\n */\nexport const RIGHT_MATRIX_WIDTH = 'rightMatrixWidth';\n\n/**\n * Field to store the height of the top matrix.\n * @computed\n */\nexport const TOP_MATRIX_HEIGHT = 'topMatrixHeight';\n\n/**\n * Field to store the height of the bottom matrix.\n * @computed\n */\nexport const BOTTOM_MATRIX_HEIGHT = 'bottomMatrixHeight';\n\n/**\n * The dom element to render the layout inside.\n */\nexport const MOUNT_POINT = 'mount';\n\n/**\n * The id attribute of the left table element.\n */\nexport const LEFT_TABLE_ID = 'grid-left';\n\n/**\n * The id attribute of the right table element.\n */\nexport const RIGHT_TABLE_ID = 'grid-right';\n\n/**\n * The id attribute of the top table.\n */\nexport const TOP_TABLE_ID = 'grid-top';\n\n/**\n * The id attribute of the bottom table.\n */\nexport const BOTTOM_TABLE_ID = 'grid-bottom';\n\n/**\n * The id attribute of the center table.\n */\nexport const CENTER_TABLE_ID = 'grid-center';\n\n/**\n * The id attribute of the top div.\n */\nexport const TOP_DIV_ID = 'muze-div-top';\n\n/**\n * The id attribute of the bottom div.\n */\nexport const BOTTOM_DIV_ID = 'muze-div-bottom';\n\n/**\n * The id attribute of the center div.\n */\nexport const CENTER_DIV_ID = 'muze-div-center';\n\n/**\n * Field that indicates if the row configuration has changed\n */\nexport const HAVE_ROWS_CHANGED = 'haveRowsChanged';\n\n/**\n * Field that indicates if the column configuration has changed\n */\nexport const HAVE_COLUMNS_CHANGED = 'haveColumnsChanged';\n\n/**\n * Field that indicates if the values configuration for the center matrix has changed\n */\nexport const HAVE_VALUES_CHANGED = 'haveValuesChanged';\n\n/**\n * Field that indicates the width of row matrix\n */\nexport const ROW_MATRIX_WIDTH = 'rowMatrixWidth';\n\n/**\n * Field that indicates the height of row matrix\n */\nexport const COLUMN_MATRIX_HEIGHT = 'columnMatrixHeight';\n\n/**\n * Field that indicates the unit width of layout\n */\nexport const UNIT_WIDTH = 'unitWidth';\n\n/**\n * Field that indicates the unit height of layout\n */\nexport const UNIT_HEIGHT = 'unitHeight';\n\n/**\n * Field that indicates the style object\n */\nexport const STYLE = 'style';\n\n/**\n * Field that indicates the color configuration\n */\nexport const COLOR = 'color';\n\n/**\n * Field that indicates width\n */\nexport const WIDTH = 'width';\n\n/**\n * Field that indicates collpase property for border\n */\nexport const COLLAPSE = 'collapse';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SPACING = 'spacing';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const DISTRIBUTION = 'distribution';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const GUTTERSPACE = 'gutterSpace';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const BREAK_PAGE = 'breakPage';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_ROW_BORDERS = 'showRowBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_COL_BORDERS = 'showColBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_VALUE_BORDERS = 'showValueBorders';\n\nexport const HEIGHT = 'height';\nexport const COLUMN = 'column';\nexport const ROW = 'row';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const CENTER = 'center';\nexport const CLICK = 'click';\nexport const ROW_LEFT = 'rowLeft';\nexport const ROW_RIGHT = 'rowRight';\nexport const COLUMN_BOTTOM = 'colBottom';\nexport const COLUMN_TOP = 'colTop';\nexport const AUTO = 'auto';\nexport const ROW_SPAN = 'rowSpan';\nexport const COL_SPAN = 'colSpan';\nexport const ROW_ROOT = 'rowRoot';\nexport const COLUMN_ROOT = 'columnRoot';\nexport const PRIMARY = 'primary';\nexport const SECONDARY = 'secondary';\n","import { sanitizeIP, mergeRecursive } from 'muze-utils';\nimport { TOP, CENTER, BOTTOM } from '../enums/constants';\n\n/*\n * This is the abstract implementation of the root layout. This takes care of common work which all the layouts\n * has to handle. The common work includes sanitizaion of inputs, update, rerender, dispose etc. This class can't be\n * used directly (as ofcourse this is an abstract implementaiton), the class which is implementing it has to implement\n * the necessary methods and gives its on visual.\n */\n\n/**\n * This class is used to create a generic layout. It can be extended to create layouts\n * of different types\n * @class GenericLayout\n */\nexport default class GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config configuration to be given for the layout\n     * @param {Object} dependencies external dependencies.\n     * @memberof GenericLayout\n     *\n     * measurement : {\n     *      width : number => width of the container\n     *      height : number => height of the container\n     *      unitHeight : number => height of unit of the cells\n     *      unitWidth : number => width of unit of the cells\n     * }\n     *\n     */\n    constructor (mountPoint, measurement, config, dependencies) {\n        this._config = {};\n        this._measurement = {};\n        this._matrices = [];\n        // External dependencies to be included for the layout. This includes the ext global dependencies like\n        // smartlabel which has one single implementation of throughout the page or per isntance\n        this._dependencies = dependencies;\n\n        this.measurement(measurement);\n        this.mountPoint(mountPoint);\n        this.config(config);\n    }\n\n    /**\n     * Returns an object which is used to recreate the layout.\n     * @return {Object} the serialized components\n     */\n    serialize () {\n        return {\n            measurement: this.measurement(),\n            config: this.config(),\n            matrices: this.matrices()\n        };\n    }\n\n     /**\n     * Sets/Gets the config for the layout\n     * @param {Object} config configuration for the layout\n     * @return {Layout|Object} Gets the Config/ Returns this instance when set\n     */\n    config (config) {\n        if (config) {\n            this._config = mergeRecursive(this._config || {}, config);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Sets/Gets the measurement for the layout\n     * @param {Object} measurement measurement for the layout\n     * @return {Layout|Object} Gets the measurement/ Returns this instance when set\n     */\n    measurement (measurement) {\n        if (measurement) {\n            this._measurement = mergeRecursive(this._measurement || {}, measurement);\n\n            return this;\n        }\n        return this._measurement;\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     * @param {Object} matrices matrices for the layout\n     * @return {Layout|Object} Gets the matrices/ Returns this instance when set\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = sanitizeIP.typeObj([TOP, CENTER, BOTTOM], matrices);\n\n            return this;\n        }\n        return this._matrices;\n    }\n\n    /**\n     * Sets/Gets the matrix for row\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    rowMatrix (matrix) {\n        if (matrix) {\n            this._rowMatrix = matrix;\n            return this;\n        }\n        return this._rowMatrix;\n    }\n\n    /**\n     * Sets/Gets the matrix for columns\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    columnMatrix (matrix) {\n        if (matrix) {\n            this._columnMatrix = matrix;\n            return this;\n        }\n        return this._columnMatrix;\n    }\n\n   /**\n     * Sets/Gets the matrix for value\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    centerMatrix (matrix) {\n        if (matrix) {\n            this._centerMatrix = matrix;\n            return this;\n        }\n        return this._centerMatrix;\n    }\n\n    /**\n     * Sets/Gets the mountPoint for the layout\n     * @param {Object} mountPoint mountPoint for the layout\n     * @return {Layout|Object} Gets the mountPoint/ Returns this instance when set\n     */\n    mountPoint (mountPoint) {\n        if (mountPoint) {\n            this._mountPoint = mountPoint;\n\n            return this;\n        }\n        return this._mountPoint;\n    }\n}\n","import * as FieldNames from '../enums/constants';\n\n/**\n * Default configuration of the layout\n * @return {Object} returns the default configuration\n */\nexport const DEFAULT_CONFIGURATION = {\n    [FieldNames.BORDER]: {\n        [FieldNames.STYLE]: 'solid',\n        [FieldNames.COLOR]: '#d6d6d6',\n        [FieldNames.WIDTH]: 2,\n        [FieldNames.COLLAPSE]: true,\n        [FieldNames.SPACING]: 0\n    },\n    [FieldNames.GUTTERSPACE]: { rows: [], columns: [] },\n    [FieldNames.DISTRIBUTION]: { rows: [], columns: [] },\n    [FieldNames.BREAK_PAGE]: { rows: [], columns: [] },\n    [FieldNames.ROW_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_POINTER]: 0,\n    [FieldNames.ROW_POINTER]: 0\n};\n\n/**\n * Default measurements for the layout\n * @return {Object} returns the default measurements\n */\nexport const DEFAULT_MEASUREMENTS = {\n    [FieldNames.GRID_WIDTH]: 100,\n    [FieldNames.GRID_HEIGHT]: 100,\n    [FieldNames.UNIT_WIDTH]: 100,\n    [FieldNames.UNIT_HEIGHT]: 100\n};\n\nexport const BLANK_BORDERS = 'rgba(0,0,0,0)';\n","import { ROW_LEFT, ROW_RIGHT, COLUMN_BOTTOM, COLUMN_TOP, TOP, BOTTOM } from '../enums/constants';\n/**\n * This callback is used to filter the array of\n * placeholder cells and filter out cells which have\n * appeared in a previous row.\n *\n * @param {Placeholder} colData Instance of placeholder.\n * @param {number} colIdx The index of the placeholder in array.\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {number} rIdx The index of the row of the placeholder in array.\n * @param {string} type The type of matrix it is (rowLeft, rowRight, colTop, colBottom)\n * @return {boolean} flag to keep/remove element.\n */\nconst columnFilter = (colData, colIdx, matrix, rIdx, type) => {\n    const previousRow = matrix[rIdx - 1];\n    const currentRow = matrix[rIdx];\n\n    // Row Span for left\n    if (type === ROW_LEFT) {\n        if (!previousRow) {\n            return colData;\n        }\n        let i = 0;\n        for (;i <= colIdx; i += 1) {\n            if (currentRow[i].valueOf() !== previousRow[i].valueOf()) {\n                break;\n            }\n        }\n        return (i - 1 === colIdx) ? null : colData;\n    } else if (type === ROW_RIGHT) {\n        if (!previousRow || colIdx === 0) {\n            return colData;\n        }\n        let j = colIdx;\n        for (; j < currentRow.length; j += 1) {\n            if (previousRow[j].valueOf() !== currentRow[j].valueOf()) {\n                break;\n            }\n        }\n        return (j === currentRow.length) ? null : colData;\n    } else if (type === COLUMN_BOTTOM) {\n        if (rIdx === 0) {\n            return colData;\n        }\n        const prevCell = currentRow[colIdx - 1];\n        if (prevCell) {\n            if (prevCell.valueOf() === colData.valueOf()) {\n                const nextRow = matrix[rIdx + 1];\n                if (!nextRow) {\n                    return null;\n                }\n                if (nextRow[colIdx].valueOf() === nextRow[colIdx - 1].valueOf()) {\n                    return null;\n                }\n                return colData;\n            }\n            return colData;\n        }\n        return colData;\n    } else if (type === COLUMN_TOP) {\n        if (rIdx === matrix.length - 1 && matrix.length > 1) {\n            return colData;\n        }\n        const prevCell = currentRow[colIdx - 1];\n        if (prevCell && (prevCell.valueOf() === colData.valueOf())) {\n            const prevRow = matrix[rIdx - 1];\n            if (prevRow) {\n                if (prevRow[colIdx].valueOf() === prevRow[colIdx - 1].valueOf()) {\n                    return null;\n                }\n                return colData;\n            }\n            return null;\n        }\n        return colData;\n    }\n    return colData;\n};\n\n/**\n * This callback is used to calculate the rowspan\n * by checking for repeating entries in subsequent rows\n * at the specified column.\n *\n * @param {Placeholder} colData Instance of placeholder.\n * @param {number} colIdx The index of the placeholder in the array.\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {number} rIdx The index of the row of the placeholder in array.\n * @return {number} The row span.\n */\nconst calcRowSpan = (colData, colIdx, matrix, rIdx) => {\n    let count = 1;\n    // if data is not header cell then rowspan\n    // has to be 1\n    if (!colData || typeof colData.valueOf() !== 'string') {\n        return 1;\n    }\n    let isNull = false;\n    while (!isNull) {\n        if (matrix[rIdx + count] && matrix[rIdx + count][colIdx] === null) {\n            count += 1;\n        } else {\n            isNull = true;\n        }\n    }\n    return count;\n};\n/**\n * This callback is used to calculate the rowspan\n * by checking for repeating entries in subsequent rows\n * at the specified column.\n *\n * @param {Placeholder} colData Instance of placeholder.\n * @param {number} colIdx The index of the placeholder in the array.\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {number} rIdx The index of the row of the placeholder in array.\n * @return {number} The row span.\n */\nconst calcColSpan = (colData, colIdx, matrix, rIdx) => {\n    let count = 1;\n    // if data is not header cell then rowspan\n    // has to be 1\n    if (!colData || typeof colData.valueOf() !== 'string') {\n        return 1;\n    }\n    let isNull = false;\n    while (!isNull) {\n        if (matrix[rIdx][colIdx + count] === null) {\n            count += 1;\n        } else {\n            isNull = true;\n        }\n    }\n    return count;\n};\n\n// create a masking matrix to strip out repeating columns\n// and calculate rowspan.\nconst mask = function (matrix, type) {\n    return matrix.map((row, rIdx) => {\n        if (type === ROW_LEFT || type === ROW_RIGHT) {\n            const filteredRow = row.map((col, colIndex) => columnFilter(col, colIndex, matrix, rIdx, type));\n            const temp = [];\n            const diff = row.length - filteredRow.length;\n            for (let i = 0; i < diff; i += 1) {\n                temp.push(null);\n            }\n            if (type === ROW_RIGHT) {\n                temp.unshift(...filteredRow);\n                return temp;\n            }\n            temp.push(...filteredRow);\n            return temp;\n        }\n\n        const filteredRow = row.map((col, colIndex) => columnFilter(col, colIndex, matrix, rIdx, type));\n        const temp = [];\n        temp.push(...filteredRow);\n        return temp;\n    });\n};\n\n/**\n * This function is used to set the col and row spans\n * for the matrices based on repeated/hierarchichal data\n *\n * @export\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {string} type Type of array (center, top, bottom)\n * @param {number} index Index of array in the row\n * @return {Object} containing the view matrix and their spans\n */\nexport function cellSpanMaker (matrix, type, index) {\n    let span = '';\n    if (type === TOP || type === BOTTOM) {\n        span = type === TOP ? COLUMN_TOP : COLUMN_BOTTOM;\n        const viewMatrix = mask(matrix, span);\n        const spans = viewMatrix.map((row, ridx) => row.map((col, i) => calcColSpan(col, i, viewMatrix, ridx))\n                        .filter(col => col !== 1));\n        return { viewMatrix, spans };\n    } else if (index === 0 || index === 2) {\n        span = index === 0 ? ROW_LEFT : ROW_RIGHT;\n        const viewMatrix = mask(matrix, span);\n        const spans = [];\n        viewMatrix.forEach((row, ridx) => {\n            spans[ridx] = spans[ridx] || [];\n            row.forEach((col, i) => {\n                if (viewMatrix[ridx][i]) {\n                    const currSpan = calcRowSpan(col, i, viewMatrix, ridx);\n                    currSpan && spans[ridx].push(currSpan);\n                }\n            });\n        });\n        return { viewMatrix, spans };\n    }\n    return { viewMatrix: matrix };\n}\n","import { makeElement, selectElement } from 'muze-utils';\nimport { cellSpanMaker } from './span-maker';\nimport {\n    VIEW_INDEX, TOP, LEFT, RIGHT, BOTTOM, CENTER, HEIGHT, WIDTH, ROW_SPAN, COL_SPAN\n} from '../enums/constants';\nimport { BLANK_BORDERS } from './defaults';\n\n/**\n * Creates a table element of the layout\n *\n * @param {Object} mount Mount point for table elements\n * @param {string} className defines class name\n * @param {Array} rowData set of rows for the table\n * @return {Selection} set of selections for the table\n */\nfunction renderTable (mount, className, rowData) {\n    const table = makeElement(mount, 'table', ['layout'], `${className}-table`);\n    const body = makeElement(table, 'tbody', ['layout'], `${className}-body`);\n    const rows = makeElement(body, 'tr', rowData, `${className}-tr`);\n    const cells = makeElement(rows, 'td', (d, i) => d.filter(e => e !== null).map(e =>\n                                ({ placeholder: e, rowIndex: i })), `${className}-td`, {}, key => key.placeholder.id);\n\n    return { table, body, rows, cells };\n}\n\nfunction applyRowBorders (cells, borderStyle, showBorders, color) {\n    [TOP, BOTTOM].forEach((borderType) => {\n        const style = `${borderStyle} ${showBorders[borderType] ? color : BLANK_BORDERS}`;\n        cells.style(`border-${borderType}`, style);\n    });\n}\n\nfunction applyColBorders (cells, borderStyle, showBorders, color) {\n    [LEFT, RIGHT].forEach((borderType) => {\n        const style = `${borderStyle} ${showBorders[borderType] ? color : BLANK_BORDERS}`;\n        cells.style(`border-${borderType}`, style);\n    });\n}\n\n/**\n * Applies borders to the cells in a matrix\n *\n * @param {Selection} cells Set of cells made from the matrix\n * @param {Object} border Border info for layout\n * @param {string} type Type of matrix(top/center/bottom)\n * @param {number} index Column index of matrix in the row\n */\nfunction applyBorders (cells, border, type, index) {\n    const {\n        width,\n        style,\n        color,\n        showRowBorders,\n        showColBorders,\n        showValueBorders\n    } = border;\n    const borderStyle = `${width}px ${style}`;\n\n    if (type === CENTER && index === 1) {\n        [TOP, BOTTOM, LEFT, RIGHT].forEach((borderType) => {\n            cells.style(`border-${borderType}`, `${borderStyle} ${showValueBorders[borderType] ?\n                color : BLANK_BORDERS}`);\n        });\n    } else if (type === CENTER) {\n        applyRowBorders(cells, borderStyle, showRowBorders, color);\n    } else if (index === 1) {\n        applyColBorders(cells, borderStyle, showColBorders, color);\n    }\n}\n\n/**\n * Renders a set of matrices in a row\n *\n * @param {Array} matrices Set of matrices in a row\n * @param {Selection} mountPoint Mount point for the row\n * @param {string} type top/center/bottom\n * @param {Object} dimensions dimensions of the matrix\n */\nfunction renderMatrix (matrices, mountPoint, type, dimensions, classPrefix) {\n    matrices.forEach((matrix, index) => {\n        // Creating containers for each matrix individually\n        const containerForMatrix = makeElement(mountPoint, 'div', [1], `${classPrefix}-grid-${type}-${index + 1}`)\n        .classed(`${classPrefix}-grid-${type}`, true)\n        .classed(`${classPrefix}-grid`, true);\n\n        const {\n            viewMatrix,\n            spans\n        } = cellSpanMaker(matrix, type, index);\n        if (type !== CENTER) {\n            containerForMatrix.style(WIDTH, `${dimensions.viewWidth[index]}px`);\n            containerForMatrix.style(HEIGHT, `${dimensions.viewHeight[VIEW_INDEX[type]]}px`);\n        }\n\n        // Rendering the table components\n        const { cells } = renderTable(containerForMatrix, `${classPrefix}-grid`, viewMatrix);\n\n        if (type === CENTER && spans) {\n            cells.attr(ROW_SPAN, function (cell, colIndex) {\n                const placeholder = cell.placeholder;\n                selectElement(this).style('height', `${placeholder.availHeight() + dimensions.border.width}px`);\n                return spans[cell.rowIndex][colIndex];\n            });\n        } else if ((type === TOP || type === BOTTOM) && index === 1) {\n            cells.attr(COL_SPAN, function (cell, colIndex) {\n                const span = spans[cell.rowIndex][colIndex];\n                const placeholder = cell.placeholder;\n                if (span > 1) {\n                    placeholder.setAvailableSpace(0, placeholder.availHeight());\n                }\n                selectElement(this).style('height', `${placeholder.availHeight()}px`);\n                return span;\n            });\n        }\n        // Rendering content within placeholders\n        cells.each(function (cell) {\n            cell.placeholder && cell.placeholder.render(this);\n        }).exit().each((cell) => {\n            cell.placeholder && cell.placeholder.remove();\n        });\n\n        applyBorders(cells, dimensions.border, type, index);\n    });\n}\n\n/**\n *\n *\n * @param {*} matrix\n * @param {*} start\n * @param {*} end\n */\nconst splitMatrices = (matrix, start, end) => matrix.map(arr => arr.slice(start, end));\n\n/**\n * Renders all the matrices of the layout\n *\n * @export\n * @param {Array} matrices Set of matrices in the layout\n * @param {Array} mountPoints Mount points for each row of matrix\n * @param {Array} layoutDimensions Dimensions(height/width) of all the matrices\n */\nexport function renderMatrices (context, matrices, layoutDimensions) {\n    const {\n        top,\n        center,\n        bottom\n    } = matrices;\n    const {\n        breakPage,\n        gutterSpace,\n        classPrefix\n    } = context.config();\n    const {\n        width\n    } = context.measurement();\n    const mount = context.mountPoint();\n\n    let newCenter = [];\n    let newBottom = [];\n    let newTop = [];\n\n    const gutter = layoutDimensions.viewHeight[1] * gutterSpace.rows[breakPage.rows[0] - 1];\n    const breakLength = breakPage.rows.length;\n\n    if (breakPage.rows.length > 0 && Math.max(center[0].length, center[2].length) <= breakPage.rows[breakLength - 1]) {\n        let prev = 0;\n        const topBreak = top[1].length / breakLength;\n        const bottomBreak = bottom[1].length / breakLength;\n        breakPage.rows.forEach((e, i) => {\n            newTop[i] = splitMatrices(top, i * topBreak, (i + 1) * topBreak);\n            newCenter[i] = splitMatrices(center, prev, e);\n            newBottom[i] = splitMatrices(bottom, i * bottomBreak, (i + 1) * bottomBreak);\n            prev = e;\n        });\n    } else {\n        newTop = [top];\n        newCenter = [center];\n        newBottom = [bottom];\n    }\n    // makeElement(mount, 'div', newCenter, `${classPrefix}-grid-layout`)\n    mount.each(function (d, i) {\n        renderMatrix(newTop[i], selectElement(this), TOP, layoutDimensions, classPrefix);\n        renderMatrix(newCenter[i], selectElement(this), CENTER, layoutDimensions, classPrefix);\n        renderMatrix(newBottom[i], selectElement(this), BOTTOM, layoutDimensions, classPrefix);\n    })\n                    .style(WIDTH, `${Math.ceil(width)}px`)\n                    .style('margin-bottom', (d, i) => {\n                        if (i !== newBottom.length - 1) { return `${Math.floor(gutter)}px`; }\n                        return 0;\n                    });\n}\n","/**\n * This file exports utility functions that are used across the layout module\n */\nimport { Symbols } from 'muze-utils';\nimport { PRIMARY, SECONDARY, HEIGHT, WIDTH } from '../enums/constants';\n\nconst nest = Symbols.nest;\n/**\n *\n *\n * @param {*} isTransposed\n * @returns\n */\nconst getMeasureInfo = (isTransposed) => {\n    if (isTransposed) {\n        return {\n            firstMeasure: HEIGHT,\n            secondMeasure: WIDTH\n        };\n    }\n    return {\n        firstMeasure: WIDTH,\n        secondMeasure: HEIGHT\n    };\n};\n\n/**\n *\n *\n * @param {*} i\n * @param {*} page\n * @returns\n */\nconst findInPage = (i, page) => {\n    let count = 0;\n    for (const x in page) {\n        if (i < page[x]) {\n            count = x;\n            break;\n        }\n    }\n    return count;\n};\n\n/**\n * Creates a single matrix from two matrices\n *\n * @param {Array<Array>} matrix Input matrix\n * @return {Array<Array>} Joined matrix\n * @memberof VisualMatrix\n */\nexport const combineMatrices = (matrix, config) => {\n    const { isTransposed } = config;\n    let joinedMatrix = matrix[0].length > 0 ? matrix[0] : matrix[1];\n    if (isTransposed) {\n        joinedMatrix = matrix[0].length > 0 ? [...matrix[0]] : [];\n        joinedMatrix = matrix[1].length > 0 ? [...joinedMatrix, ...matrix[1]] : joinedMatrix;\n    } else {\n        joinedMatrix = joinedMatrix.map((row, rowIndex) => {\n            let rowData = [];\n            if (matrix[0].length > 0) {\n                rowData = [...matrix[0][rowIndex]];\n            }\n            if (matrix[1].length > 0) {\n                rowData = [...rowData, ...matrix[1][rowIndex]];\n            }\n            return rowData;\n        });\n    }\n    return joinedMatrix;\n};\n\n/**\n * Creates a hirachical tree from the context\n *\n * @param {Object} context context for creating tree\n * @return {Object} nested tree\n */\nexport const createTree = (context) => {\n    let matrixTree = {};\n    let lastLevelKey = 0;\n    let facet = PRIMARY;\n    const nestFn = nest();\n    const keys = [];\n    const layoutMatrix = context._layoutMatrix;\n    const primaryMatrix = context.primaryMatrix();\n    const secondaryMatrix = context.secondaryMatrix();\n    const { isTransposed, breakPage } = context.config();\n\n    if (!isTransposed) {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix[0].length - 1; i++) {\n                keys.push(i);\n            }\n            keys.push(primaryMatrix[0].length - 1);\n            if (facet === SECONDARY || secondaryMatrix.length === 0) {\n                lastLevelKey = primaryMatrix[0].length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const keyLength = primaryMatrix.length > 0 ? primaryMatrix[0].length : 0;\n            for (let i = secondaryMatrix[0].length - 1; i > 0; i--) {\n                keys.push(i + keyLength);\n            }\n            keys.push(keyLength);\n\n            if (facet === PRIMARY) {\n                lastLevelKey = keyLength;\n            }\n        } else {\n            lastLevelKey = primaryMatrix.length > 0 ? primaryMatrix[0].length - 1 : 0;\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        matrixTree = nestFn.entries(layoutMatrix);\n    } else {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix.length - 1; i++) {\n                keys.push(i);\n            }\n            // if (facet === PRIMARY) {\n            keys.push(primaryMatrix.length - 1);\n            // } else {\n            if (facet === SECONDARY) {\n                lastLevelKey = primaryMatrix.length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const primaryMatrixLength = primaryMatrix.length;\n            for (let i = secondaryMatrix.length - 1; i > 0; i--) {\n                keys.push(i + primaryMatrixLength);\n            }\n            // if (facet === SECONDARY) {\n            keys.push(primaryMatrixLength);\n            // }\n            if (facet === PRIMARY) {\n                lastLevelKey = primaryMatrixLength;\n            }\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        let newMatrix = [];\n        newMatrix = layoutMatrix[0].map((col, colIndex) => layoutMatrix.map(row => row[colIndex]));\n        matrixTree = nestFn.entries(newMatrix);\n    }\n    return { tree: matrixTree, lastLevelKey };\n};\n\n/**\n * Gives the min measues\n *\n * @param {boolean} isTransposed is column matrix\n * @param {Object} unitMeasures min measures to be given to cells\n * @return {Object} dimension min cell\n */\nexport const getMinMeasures = (isTransposed, unitMeasures) => {\n    if (!isTransposed) {\n        return {\n            height: unitMeasures.height,\n            width: 0\n        };\n    }\n    return {\n        height: 0,\n        width: unitMeasures.width\n    };\n};\n\n/**\n * Get the logical space from the tree\n *\n * @param {Node} item tree to be calculated\n * @param {number} measures width and height\n * @param {Array} minMeasures min measures for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} dimension\n */\nexport const getLogicalSpace = (item, measures, minMeasures, maxMeasure = []) => {\n    const { firstMeasure, secondMeasure } = measures;\n    let firstMeasureValue = 0;\n    let secondMeasureValue = 0;\n    item.values.forEach((valueArray) => {\n        let fMeasure = 0;\n        let sMeasure = 0;\n        valueArray.forEach((placeholder, colIndex) => {\n            placeholder.logicalSpace(null);\n            const space = placeholder.getLogicalSpace();\n            sMeasure = Math.max(sMeasure, +space[secondMeasure], minMeasures[secondMeasure]);\n            maxMeasure[colIndex] = Math.max(maxMeasure[colIndex] || 0, space[firstMeasure]);\n            fMeasure += +maxMeasure[colIndex];\n        });\n        secondMeasureValue += sMeasure;\n        firstMeasureValue = Math.max(firstMeasureValue, fMeasure);\n        item.space = {\n            [secondMeasure]: Math.ceil(secondMeasureValue),\n            [firstMeasure]: Math.ceil(firstMeasureValue)\n        };\n    });\n    return {\n        [secondMeasure]: secondMeasureValue,\n        [firstMeasure]: firstMeasureValue\n    };\n};\n\n/**\n * Computes the logical spcae taken by the matrix tree\n *\n * @param {*} [item={}] tree to be viewed\n * @param {boolean} [isTransposed=false] is column matrix\n * @param {*} unitMeasures min measues for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} logical space taken\n */\nexport const computeLogicalSpace = (item = {}, config, maxMeasures) => {\n    const { isTransposed = false, unitMeasures } = config;\n    const { firstMeasure, secondMeasure } = getMeasureInfo(isTransposed);\n    const { values } = item;\n    const minMeasures = getMinMeasures(isTransposed, unitMeasures);\n    if (values[0].key) {\n        const logicalSpace = { [firstMeasure]: 0, [secondMeasure]: 0 };\n\n        values.forEach((valueItem) => {\n            // Compute logical space for lowest level\n            const space = computeLogicalSpace(valueItem, config, maxMeasures);\n            // Set logical space for first measure\n            logicalSpace[firstMeasure] = Math.max(logicalSpace[firstMeasure], space[firstMeasure],\n                minMeasures[firstMeasure]);\n            // Set logical space for second measure\n            logicalSpace[secondMeasure] += +space[secondMeasure];\n        });\n        item.space = logicalSpace;\n        return logicalSpace;\n    }\n    return getLogicalSpace(item, { firstMeasure, secondMeasure }, minMeasures, maxMeasures);\n};\n\n/**\n * Gives the space taken by a row\n *\n * @param {Array} row matrix array of rows\n * @return {Object} dimension of the row\n */\nexport const spaceTakenByRow = (row) => {\n    let height = 0;\n    let width = 0;\n    row.forEach((col) => {\n        const spaces = col.getLogicalSpace();\n        height = Math.max(height, spaces.height);\n        width += spaces.width;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Gives the space taken by a column\n *\n * @param {Array<Array>} matrix column matrix\n * @param {number} colIndex column index\n * @return {Object} dimension of the column\n */\nexport const spaceTakenByColumn = (matrix, colIndex) => {\n    let height = 0;\n    let width = 0;\n    matrix.forEach((row) => {\n        const col = row[colIndex];\n        const spaces = col.getLogicalSpace();\n        width = Math.max(width, spaces.width);\n        height += spaces.height;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Creates different level matrices\n *\n * @param {Object} item matrix tree\n * @param {boolean} isTransposed is column matrix\n * @return {Object} matrix of each level\n */\nexport const createMatrixEachLevel = (item, isTransposed) => {\n    if (item.values[0].key) {\n        const arr = [];\n        item.values.forEach((child) => {\n            if (!isTransposed) {\n                arr.push(...createMatrixEachLevel(child, isTransposed));\n            } else {\n                const eachLevel = createMatrixEachLevel(child, isTransposed);\n                eachLevel.forEach((e, i) => {\n                    arr[i] = arr[i] || [];\n                    arr[i].push(...e);\n                });\n            }\n        });\n        item.matrix = arr;\n        return arr;\n    }\n    if (!isTransposed) {\n        item.matrix = item.values;\n    } else {\n        item.matrix = item.values[0].map((col, colIndex) => item.values.map(row => row[colIndex]));\n    }\n    return item.matrix;\n};\n\n/**\n * Breaks the matrix into two part\n *\n * @param {Array<Array>} matrix input matrix\n * @param {boolean} isTransposed is column matrix\n * @param {number} breakPointer point in matrix where it is to be broken\n * @return {Array} two broken matrix\n */\nexport const breakMatrix = (matrix, isTransposed, breakPointer) => {\n    const primaryMatrix = [];\n    const secondaryMatrix = [];\n    if (isTransposed) {\n        matrix.forEach((row, rowIndex) => {\n            if (rowIndex >= breakPointer) {\n                secondaryMatrix.push(row);\n            } else {\n                primaryMatrix.push(row);\n            }\n        });\n    } else {\n        matrix.forEach((row, rowIndex) => {\n            row.forEach((column, columnIndex) => {\n                if (columnIndex >= breakPointer) {\n                    secondaryMatrix[rowIndex] = secondaryMatrix[rowIndex] || [];\n                    secondaryMatrix[rowIndex].push(column);\n                } else {\n                    primaryMatrix[rowIndex] = primaryMatrix[rowIndex] || [];\n                    primaryMatrix[rowIndex].push(column);\n                }\n            });\n        });\n    }\n    return [primaryMatrix, secondaryMatrix];\n};\n\n/**\n * Distributed width returned\n *\n * @param {Object} context context for the width distibution\n * @return {number} distributed widths\n */\nexport const getDistributedWidth = (context, layoutConfig) => {\n    const {\n        availableWidth,\n        width,\n        row\n    } = context;\n    const {\n        isDistributionEqual,\n        isTransposed,\n        distribution\n    } = layoutConfig;\n    let distSum = 0;\n    if (distribution && distribution[0]) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    return row.map((col, colIndex) => {\n        const space = col.getLogicalSpace().width;\n        if (isTransposed) {\n            if (distribution.length > 0) {\n                return (availableWidth * distribution[colIndex] / distSum) - 2;\n            } else if (isDistributionEqual || width === 0) {\n                const rowLen = row.length;\n                return (availableWidth / rowLen) - 2;\n            }\n        }\n        return (space + (availableWidth - width) * (space / width)) - 2;\n    });\n};\n\n/**\n * Distributeed heights returned\n *\n * @param {Object} context input for the height distribution\n * @return {Object} distribured heights\n */\nexport const getDistributedHeight = (context) => {\n    let distSum = 0;\n    let gutterSum = 0;\n    let heightWithoutGutter = 0;\n    const {\n        isTransposed,\n        distribution,\n        availableHeight,\n        height,\n        isDistributionEqual,\n        gutter,\n        matrix,\n        cIdx\n    } = context;\n\n    if (distribution && distribution[0] !== undefined) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    if (gutter && gutter[0] !== undefined) {\n        gutterSum = gutter.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    heightWithoutGutter = availableHeight - Math.floor(availableHeight * gutterSum);\n\n    const colLen = matrix.length;\n    return matrix.map((row, rIdx) => {\n        const col = row[cIdx];\n        const space = col.getLogicalSpace().height;\n\n        if (!isTransposed) {\n            if (distribution.length > 0 && colLen === distribution.length) {\n                return (heightWithoutGutter * distribution[rIdx] / distSum) - 2;\n            } else if (isDistributionEqual || context.height === 0) {\n                return (heightWithoutGutter / colLen) - 2;\n            }\n        }\n        return (space + (heightWithoutGutter - height) * (space / height)) - 2;\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} beg\n * @param {*} end\n */\nexport const extraCellsRemover = (arr, beg, end) => arr.slice(beg, -end);\n\n/**\n * Creates matrix instancess\n *\n * @param {Array} [arr=[]] mutated arry\n * @param {number} depth depth of the tree\n * @param {Array} matrixInfo Details about the matrix(tree, etc) to be inserted\n * @param {boolean} layout Instance of layout\n */\nexport const createMatrixInstances = (arr = [], depth, matrixInfo, layout) => {\n    const breakPointer = layout._breakPointer;\n    const config = layout.config();\n    const {\n        isTransposed\n    } = config;\n    const {\n        tree,\n        layoutMatrix\n    } = matrixInfo;\n\n    if (depth === 0) {\n        const brokenMatrix = breakMatrix(tree.matrix, isTransposed, breakPointer);\n        arr.push({\n            matrix: tree.matrix,\n            primaryMatrix: brokenMatrix[0],\n            secondaryMatrix: brokenMatrix[1],\n            space: tree.space\n        });\n        return arr;\n    }\n    const nextLevel = depth - 1;\n    tree.values.forEach((e) => {\n        createMatrixInstances(arr, nextLevel, {\n            tree: e,\n            layoutMatrix\n        }, layout);\n    });\n    return arr;\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    maxMeasures: {},\n    availableSpace: {},\n    logicalSpace: {}\n};\n","import { PRIMARY } from '../enums/constants';\n/**\n *\n *\n */\nexport const defaultConfig = {\n    distribution: [],\n    classPrefix: 'muze',\n    isDistributionEqual: true,\n    unitMeasures: {\n        height: 100,\n        width: 100,\n        border: 1\n    },\n    isTransposed: false,\n    facet: PRIMARY,\n    extraCellLengths: []\n};\n","import { mergeRecursive, generateGetterSetters } from 'muze-utils';\nimport {\n    createTree,\n    extraCellsRemover,\n    combineMatrices,\n    spaceTakenByColumn,\n    getDistributedHeight,\n    getDistributedWidth,\n    spaceTakenByRow,\n    computeLogicalSpace,\n    createMatrixEachLevel,\n    createMatrixInstances\n  } from '../utils';\nimport { PROPS } from './props';\nimport { COLUMN_ROOT, ROW_ROOT, HEIGHT, WIDTH } from '../enums/constants';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        // Prepare matrices\n        this._lastLevelKey = 0;\n        this._primaryMatrix = matrix[0] || [];\n        this._secondaryMatrix = matrix[1] || [];\n        this._maxMeasures = [];\n        this._availableSpace = {};\n\n        // Store the config\n        generateGetterSetters(this, PROPS);\n        const defCon = Object.assign({}, this.constructor.defaultConfig());\n        this.config(mergeRecursive(defCon, config));\n\n        this._breakPointer = this.config().isTransposed ? matrix[0].length :\n            (matrix[0].length > 0 ? matrix[0][0].length : 0);\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n\n        // Create Tree\n        this._tree = {\n            key: this.config().isTransposed ? COLUMN_ROOT : ROW_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.setLogicalSpace();\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof VisualMatrix\n     */\n    primaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._primaryMatrix;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof VisualMatrix\n     */\n    secondaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._secondaryMatrix;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof VisualMatrix\n     */\n    tree (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._tree;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @return\n     * @memberof VisualMatrix\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    createTree () {\n        const { tree, lastLevelKey } = createTree(this);\n        this._lastLevelKey = lastLevelKey;\n        return tree;\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    setLogicalSpace () {\n        const {\n            isTransposed\n        } = this.config();\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, isTransposed);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    /**\n     * Returns the space taken by visual matrix\n     *\n     * @return {Object} space taken by the matrix\n     * @memberof VisualMatrix\n     */\n    getLogicalSpace () {\n        return this.logicalSpace();\n    }\n\n    /**\n     * Sets the provied space to the visual matrix\n     *\n     * @param {number} width width provided\n     * @param {number} height height provided\n     * @memberof VisualMatrix\n     */\n    setAvailableSpace (width, height) {\n        this.availableSpace({ width, height });\n        const tree = this.tree();\n        const heightMeasures = this.populateMaxMeasures(HEIGHT, tree);\n        const widthMeasures = this.populateMaxMeasures(WIDTH, tree);\n        const depth = this.calculateDepth(widthMeasures, heightMeasures);\n\n        this.viewableMatrix = this.createViewPortMatrix(depth);\n        this.viewableMeasures = this.redistribute(this.viewableMatrix, width, height);\n        return this;\n    }\n\n    /**\n     * Populate the max measures in the array\n     *\n     * @param {Array} measures array to be filled with max measures\n     * @param {Object} matrixTree matrix tree of visual matrix\n     * @param {number} measure width or height\n     * @param {number} [depth=0] depth of the tree that to be calculated\n     * @memberof VisualMatrix\n     */\n    populateMaxMeasures (type, matrixTree, depth = 0, measures = []) {\n        measures[depth] = Math.max(measures[depth] || 0, matrixTree.space[type]);\n        if (matrixTree.values) {\n            const childDepth = depth + 1;\n            matrixTree.values.forEach((child) => {\n                if (child.space) {\n                    measures = this.populateMaxMeasures(type, child, childDepth, measures);\n                }\n            });\n        }\n        return measures;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures, heightMeasures) {\n        let i;\n        let j;\n        const { height, width } = this.availableSpace();\n\n        for (i = 0; i < heightMeasures.length; i++) {\n            if (heightMeasures[i] <= height) break;\n        }\n        for (j = 0; j < widthMeasures.length; j++) {\n            if (widthMeasures[j] <= width) break;\n        }\n        return Math.min(widthMeasures.length - 1, Math.max(i, j));\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistribute (viewableMatrix, width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n        const {\n            isTransposed\n        } = this.config();\n\n        viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths };\n            const maxMeasures = isTransposed ? this.redistributeColumnWise(options) : this.redistributeRowWise(options);\n            maxWidths = maxMeasures.maxWidths;\n            maxHeights = maxMeasures.maxHeights;\n        });\n\n        const measurements = viewableMatrix.map((matrixInst, i) => {\n            let heightMeasures;\n            let columnMeasures;\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i };\n            const { heights, widths, rowHeights, columnWidths } = this.getCellDimensions(cellDimOptions);\n\n            if (!isTransposed) {\n                heightMeasures = [height, height];\n                columnMeasures = widths;\n            } else {\n                heightMeasures = heights;\n                columnMeasures = [width, width];\n            }\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n\n        return measurements;\n    }\n\n    /**\n     * Gets the viewable measures for the current viewable matrix\n     *\n     * @return {Object} Set of viewable measures\n     * @memberof VisualMatrix\n     */\n    getViewableSpaces () {\n        return this.viewableMeasures;\n    }\n\n    /**\n     * Returns the matrix that can be viewed in the current viewport\n     *\n     * @return {Array} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    getViewableData () {\n        return this.viewableMatrix;\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n        if (!isTransposed) {\n            tree.matrix = extraCellsRemover(tree.matrix, begCellLen, endCellLen);\n        } else {\n            tree.matrix = tree.matrix.map(e => extraCellsRemover(e, begCellLen, endCellLen));\n        }\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    /**\n     * Creates the viewport that can be viewed together\n     *\n     * @param {number} depth maxDepth that can be viewed in the viewport\n     * @return {Array<Object>} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    createViewPortMatrix (depth) {\n        const arr = [];\n        createMatrixInstances(arr, depth, this.removeExtraCells(), this);\n        return arr;\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} options Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeRowWise (options) {\n        let cWidths = [];\n        let rHeights = [];\n        let mHeight = 0;\n        const maxMeasures = this.maxMeasures();\n        const {\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        } = this.config();\n        const { matrix, width, height, maxHeights, maxWidths } = options;\n\n        mHeight = spaceTakenByColumn(matrix, this._lastLevelKey).height;\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        if (maxWidth > 0) {\n            cWidths = maxMeasures.map(space => space + (width - maxWidth) * (space / maxWidth));\n        } else {\n            cWidths = maxMeasures.map(() => 0);\n        }\n        rHeights = getDistributedHeight({\n            matrix,\n            cIdx: this._lastLevelKey,\n            height: mHeight,\n            availableHeight: height,\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        });\n        maxWidths.push(cWidths);\n        maxHeights.push(rHeights);\n        return { maxWidths, maxHeights };\n    }\n\n    /**\n     * Distibutes the given space column wisely\n     *\n     * @param {Object} options Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeColumnWise (options) {\n        let rHeights = [];\n        const { matrix, width, maxHeights, maxWidths } = options;\n        const borderWidth = this.config().unitMeasures.border;\n        const mWidth = spaceTakenByRow(matrix[this._lastLevelKey]).width;\n        const cWidths = getDistributedWidth({\n            row: matrix[this._lastLevelKey],\n            width: mWidth,\n            availableWidth: width\n        }, this.config());\n\n        matrix.forEach((row, rIdx) => row.forEach((col, cIdx) => {\n            const oldLogicalSpace = col.getLogicalSpace().height;\n            col.setAvailableSpace(cWidths[cIdx] - borderWidth, oldLogicalSpace);\n            rHeights[rIdx] = Math.max(rHeights[rIdx] || 0, col.getLogicalSpace().height);\n        }));\n\n        if (maxHeights.length > 0) {\n            rHeights = rHeights.map((e, i) => Math.max(e, maxHeights[0][i]));\n        }\n\n        maxHeights.push(rHeights);\n\n        for (let x = 0; x < maxHeights.length; x++) {\n            maxHeights[x] = rHeights;\n        }\n        maxWidths.push(cWidths);\n        return { maxHeights, maxWidths };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} options cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (options) {\n        let indices = [];\n        let unitMeasures = [];\n        let mainMeasures = [];\n        let computedMeasures = [];\n        const {\n            isTransposed,\n            unitMeasures: measures\n        } = this.config();\n        const borderWidth = measures.border;\n        const { matrixInst, maxWidths, maxHeights, matrixIndex } = options;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = maxHeights[matrixIndex][rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                if (!isTransposed) {\n                    cell.setAvailableSpace(colWidth, colHeight - borderWidth);\n                    indices = [rIdx, cIdx];\n                    unitMeasures = [columnWidths, rowHeights];\n                    mainMeasures = [widths, heights];\n                    computedMeasures = [colWidth, colHeight];\n                } else {\n                    cell.setAvailableSpace(colWidth - borderWidth, colHeight);\n                    indices = [cIdx, rIdx];\n                    unitMeasures = [rowHeights, columnWidths];\n                    mainMeasures = [heights, widths];\n                    computedMeasures = [colHeight, colWidth];\n                }\n\n                if (indices[0] === 0 && indices[1] < breakPointer) {\n                    unitMeasures[0][0][indices[1]] = computedMeasures[0];\n                    mainMeasures[0][0] = (mainMeasures[0][0] || 0) + computedMeasures[0];\n                } else if (indices[0] === 0 && indices[1] >= breakPointer) {\n                    unitMeasures[0][1][indices[1] - breakPointer] = computedMeasures[0];\n                    mainMeasures[0][1] = (mainMeasures[0][1] || 0) + computedMeasures[0];\n                }\n                if (indices[1] === this._lastLevelKey) {\n                    unitMeasures[1][0][indices[0]] = computedMeasures[1];\n                    unitMeasures[1][1][indices[0]] = computedMeasures[1];\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { HEIGHT, WIDTH, COLUMN, ROW } from '../enums/constants';\n\n/**\n * Gets measurement for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @return {Object} Logical height/width of the matrix\n */\nexport function getMatrixMeasurement (matrix, type) {\n    if (matrix) {\n        return matrix.getLogicalSpace()[type];\n    }\n    return 0;\n}\n\n/**\n * Sets available space for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @param {number} value Value of measurement\n */\nexport function setMatrixMeasurement (matrix, type, value) {\n    if (matrix) {\n        const spaces = matrix.getLogicalSpace();\n        if (value && spaces[type] !== value) {\n            type === HEIGHT ? matrix.setAvailableSpace(spaces.width, value) :\n                matrix.setAvailableSpace(value, spaces.height);\n        }\n    }\n}\n\n/**\n *\n *\n * @param {*} matrix\n * @param {*} widths\n * @param {*} heights\n */\nconst setAvailableSpace = (matrix, widths, heights) => {\n    matrix.forEach((row, rIdx) => {\n        row.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(widths[cIdx], heights[rIdx]);\n        });\n    });\n};\n\n/**\n *\n *\n * @param {*} layout\n * @param {*} matrix\n * @param {*} pointer\n * @returns\n */\nconst setViewSpaces = (layout, pointerType, viewSpaces) => {\n    let pointer = layout.config()[`${pointerType}Pointer`];\n    if (viewSpaces.length - 1 < pointer) {\n        pointer = 0;\n        layout.config({ [`${pointerType}Pointer`]: pointer });\n    }\n    return pointer;\n};\n\n/**\n * Computes the measurements of space for all matrices in the\n * layout\n *\n * @param {Object} layout Instance of grid layout\n * @return {Object} set of measurements for the layout\n */\nexport const computeLayoutMeasurements = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const centerMatrix = layout.centerMatrix();\n    const {\n        width,\n        height\n    } = layout.measurement();\n    const {\n        border\n    } = layout.config();\n    const matrices = layout.matrices();\n    const {\n        top,\n        bottom\n    } = matrices;\n\n    // Get width of row matrix\n    const rowMatrixWidth = getMatrixMeasurement(rowMatrix, WIDTH);\n\n    // Set width for column matrix\n\n    const columnMatrixWidth = width - rowMatrixWidth;\n    setMatrixMeasurement(columnMatrix, WIDTH, columnMatrixWidth);\n    const columnViewPages = columnMatrix.getViewableSpaces();\n    setViewSpaces(layout, COLUMN, columnViewPages);\n\n    // Figuring out total space needed by current view space\n    const columnViewSpace = columnViewPages[layout.config().columnPointer];\n\n    // Getting height of column matrix\n    const columnMatrixHeight = columnViewSpace.height.primary + columnViewSpace.height.secondary;\n\n    // Set height for row matrix\n    const rowMatrixHeight = height - columnMatrixHeight;\n\n    setMatrixMeasurement(rowMatrix, HEIGHT, rowMatrixHeight);\n\n    // Get heights of each cell of row matrix\n    const rowViewableSpaces = rowMatrix.getViewableSpaces();\n    setViewSpaces(layout, ROW, rowViewableSpaces);\n    const rowHeights = [].concat(...rowViewableSpaces.map(e => e.rowHeights.primary));\n    const rowWidthsPrimary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.primary));\n    const rowWidthsSecondary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.secondary));\n    const columnViewableSpaces = columnMatrix.getViewableSpaces();\n    // Get widths of each cell of column matrix\n    const columnWidths = [].concat(...columnViewableSpaces.map(e => e.columnWidths.primary));\n    const columnHeightsPrimary = columnViewableSpaces[0].rowHeights.primary;\n\n    const columnHeightsSecondary = [].concat(...columnViewableSpaces.map(e => e.rowHeights.secondary));\n\n    // Border adjustment for each cell in the central matrix\n    const borderWidth = border.width;\n    // Setting the available space for each cell in the centre matrix\n    centerMatrix.forEach((matrix, rIdx) => {\n        matrix.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(columnWidths[cIdx] - borderWidth, rowHeights[rIdx] - borderWidth);\n        });\n    });\n    setAvailableSpace(top[0], rowWidthsPrimary, columnHeightsPrimary);\n    setAvailableSpace(top[2], rowWidthsSecondary, columnHeightsPrimary);\n    setAvailableSpace(bottom[0], rowWidthsPrimary, columnHeightsSecondary);\n    setAvailableSpace(bottom[2], rowWidthsSecondary, columnHeightsSecondary);\n\n    return {\n        rowMatrixHeight,\n        rowMatrixWidth,\n        columnMatrixHeight,\n        columnMatrixWidth\n    };\n};\n\n/**\n * Gets view matrices based on current pointers for row and column\n *\n * @param {Object} layout instance of layout\n * @param {number} rowPointer current row pointer\n * @param {number} columnPointer current column pointer\n * @return {Object} returns the view matrix and its relevant information\n */\nexport const getViewMatrices = (layout, rowPointer, columnPointer) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const centerMatrix = layout.centerMatrix();\n    const matrices = layout.matrices();\n    const rowMatrices = rowMatrix.getViewableData();\n    const columnMatrices = columnMatrix.getViewableData();\n    const centralMatrixPointer = {\n        row: 0,\n        column: 0\n    };\n\n    for (let i = rowPointer - 1; i >= 0; i--) {\n        const length = Math.max(rowMatrices[i].primaryMatrix.length,\n            rowMatrices[i].secondaryMatrix.length);\n        centralMatrixPointer.row += length;\n    }\n     /* istanbul ignore next */\n    for (let i = columnPointer - 1; i >= 0; i--) {\n        const matrix = columnMatrices[i];\n        const { primaryMatrix, secondaryMatrix } = matrix;\n        const length = Math.max(primaryMatrix[0] ? primaryMatrix[0].length : 0,\n            secondaryMatrix[0] ? secondaryMatrix[0].length : 0);\n        centralMatrixPointer.column += length;\n    }\n\n    matrices.top[1] = columnMatrices[columnPointer].primaryMatrix;\n    matrices.bottom[1] = columnMatrices[columnPointer].secondaryMatrix;\n\n    matrices.center[0] = rowMatrices[rowPointer].primaryMatrix;\n    matrices.center[2] = rowMatrices[rowPointer].secondaryMatrix;\n\n    const rowMatrixLen = Math.max(matrices.center[0].length, matrices.center[2].length);\n     /* istanbul ignore next */\n    const columnMatrixLen = Math.max(matrices.top[1][0] ? matrices.top[1][0].length : 0, matrices.bottom[1][0] ?\n            matrices.bottom[1][0].length : 0);\n    matrices.center[1] = centerMatrix.slice(centralMatrixPointer.row, centralMatrixPointer.row + rowMatrixLen)\n        .map(matrix => matrix.slice(centralMatrixPointer.column, centralMatrixPointer.column + columnMatrixLen));\n\n    return {\n        matrices,\n        rowPages: rowMatrices.length,\n        columnPages: columnMatrices.length\n    };\n};\n/**\n * Returns measurements of the cells of the current matrix\n *\n * @param {Object} layout instance of layout\n * @return {Object} returns the measurements for current view matrix\n */\nexport const getViewMeasurements = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const {\n        width,\n        height\n    } = layout.measurement();\n    const {\n        columnPointer,\n        rowPointer\n    } = layout.config();\n\n    const rowMatrixWidth = rowMatrix.getViewableSpaces()[rowPointer].width;\n    const { primary: leftWidth, secondary: rightWidth } = rowMatrixWidth;\n\n    const columnMatrixHeight = columnMatrix.getViewableSpaces()[columnPointer].height;\n    const { primary: topHeight, secondary: bottomHeight } = columnMatrixHeight;\n\n    const centerHeight = height - (topHeight + bottomHeight);\n    const centerWidth = width - (leftWidth + rightWidth);\n\n    return {\n        viewWidth: [leftWidth, centerWidth, rightWidth],\n        viewHeight: [topHeight, centerHeight, bottomHeight]\n    };\n};\n","/**\n * This file declares a table that can be extended to create a Datagrid, crosstab\n * and man other visualzations that require a tabular structure.\n */\n\nimport { getUniqueId } from 'muze-utils';\nimport GenericLayout from '../generic-layout';\nimport { DEFAULT_CONFIGURATION, DEFAULT_MEASUREMENTS } from './defaults';\nimport {\n    renderMatrices\n} from './renderer';\nimport { generateVisualMatrices } from './layout-helper';\nimport { computeLayoutMeasurements, getViewMeasurements, getViewMatrices } from './computations';\n/**\n * This class is used to create a tabular structure that\n * can house charts and values.\n *\n * @class GridLayout\n */\nexport default class GridLayout extends GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} matrices Set of upto 9 matrices containing the cells to be rendered\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config external configurations.\n     * @memberof GenericLayout\n     *\n     * measurement : {\n     *      width : number => width of the container\n     *      height : number => height of the container\n     *      unitHeight : number => height of unit of the cells\n     *      unitWidth : number => width of unit of the cells\n     * }\n     *\n     */\n    constructor (matrices, mountPoint, measurement, config) {\n        super(mountPoint, measurement, config);\n        this.matrices(matrices);\n        this.config(this.constructor.defaultConfig());\n        this._layoutId = getUniqueId();\n    }\n\n    /**\n     * Returns initial set of measurements for the grid layout\n     *\n     * @static\n     * @return {Object} Returns initial set of measurements\n     * @memberof GridLayout\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENTS;\n    }\n\n    /**\n     * Returns initialconfiguration for grid layout\n     *\n     * @static\n     * @return {Object} Returns initial configuration for grid layout\n     * @memberof GridLayout\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIGURATION;\n    }\n\n    /**\n     * This function is used to return an instance of GridLayout\n     *\n     * @return {GridLayout} Instance of grid layout.\n     * @static\n     * @memberof GridLayout\n     */\n    static create () {\n        return new GridLayout(null, null, this.defaultMeasurement(), this.defaultConfig());\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     *\n     * @param {Array} matrices Set of matrices\n     * @return {Object} Getter/Setter\n     * @memberof GridLayout\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = generateVisualMatrices(this, matrices);\n            return this;\n        }\n        return super.matrices(matrices);\n    }\n\n    /**\n     * Triggers the computations for the layout based on the matrices available\n     * This causes a reflow in the entire layout system.\n     *\n     * @return {Object} Layout instance\n     * @memberof GridLayout\n     */\n    triggerReflow () {\n        computeLayoutMeasurements(this);\n        this.setViewInformation();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     * @param {*} pageNumber\n     * @returns\n     * @memberof GridLayout\n     */\n    gotoPage (type, pageNumber) {\n        const pageType = type.toLowerCase();\n        const { viewMatricesInfo } = this.getViewInformation();\n        const totalPages = viewMatricesInfo[`${pageType}Pages`];\n        const pointer = Math.min(Math.max(1, pageNumber), totalPages);\n        this.config({\n            [`${pageType}Pointer`]: pointer - 1\n        });\n        this.setViewInformation();\n        this.renderGrid();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     * @returns\n     * @memberof GridLayout\n     */\n    pages (type) {\n        const { viewMatricesInfo } = this.getViewInformation();\n        const pageType = type.toLowerCase();\n        return {\n            totalPages: viewMatricesInfo[`${pageType}Pages`],\n            currentPage: this.config()[`${pageType}Pointer`] + 1\n        };\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof GridLayout\n     */\n    setViewInformation () {\n        const {\n            rowPointer,\n            columnPointer,\n            border\n        } = this.config();\n        const viewMatricesInfo = getViewMatrices(this, rowPointer, columnPointer);\n        const layoutDimensions = getViewMeasurements(this);\n        layoutDimensions.border = border;\n        this.viewInfo = {\n            viewMatricesInfo,\n            layoutDimensions\n        };\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof GridLayout\n     */\n    getViewInformation () {\n        return this.viewInfo;\n    }\n\n    /**\n     * Renders the layout\n     *\n     * @return {Object} current instance\n     * @memberof GridLayout\n     */\n    renderGrid (mountPoint) {\n        this.mountPoint(mountPoint);\n        if (!this.mountPoint()) {\n            return this;\n        }\n        const {\n            viewMatricesInfo,\n            layoutDimensions\n        } = this.getViewInformation();\n        // Render matrices\n        renderMatrices(this, viewMatricesInfo.matrices, layoutDimensions);\n        return this;\n    }\n}\n","import VisualMatrix from '../visual-matrix/visual-matrix';\n\n/**\n * Generates the set of visual matrices for pagination and layouting algorithms\n *\n * @param {*} context\n * @param {*} matrices\n * @returns\n */\nexport const generateVisualMatrices = (context, matrices) => {\n    // Set of matrices for layout is generated starting with the left matrix\n    let leftMatrix = [];\n    let rightMatrix = [];\n    let topMatrix = [];\n    let bottomMatrix = [];\n    let begColCells;\n    let endColCells;\n    const {\n        isRowSizeEqual,\n        isColumnSizeEqual,\n        gutterSpace,\n        distribution,\n        border,\n        breakPage\n    } = context.config();\n    const {\n        minUnitHeight,\n        minUnitWidth\n    } = context.measurement();\n    const { top, center, bottom } = matrices;\n    const [topLeft, topColumns, topRight] = top;\n    const [leftRows, valueMatrix, rightRows] = center;\n    const [bottomLeft, bottomColumns, bottomRight] = bottom;\n\n    if (leftRows.length > 0) {\n        // If no left matrix is present, context will be empty\n        leftMatrix = [...topLeft, ...leftRows, ...bottomLeft];\n    }\n    if (rightRows.length > 0) {\n        // If no right matrix is present, context will be empty\n        rightMatrix = [...topRight, ...rightRows, ...bottomRight];\n    }\n    if (topColumns.length > 0 && topColumns[0].length > 0) {\n        // If no top matrix is present, context will be empty\n        topMatrix = topColumns.map((d, i) => [...topLeft[i], ...d, ...topRight[i]]);\n    }\n    if (bottomColumns.length > 0 && bottomColumns[0].length > 0) {\n        // If no bottom matrix is present, context will be empty\n        bottomMatrix = bottomColumns.map((d, i) => [...bottomLeft[i], ...d, ...bottomRight[i]]);\n    }\n    context.rowMatrix(new VisualMatrix([leftMatrix, rightMatrix], {\n        isDistributionEqual: isRowSizeEqual,\n        distribution: distribution.rows,\n        gutter: gutterSpace.rows,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        breakPage: breakPage.rows.map(e => e + Math.max(topLeft.length, topRight.length)),\n        extraCellLengths: [topLeft.length, bottomLeft.length]\n    }));\n\n    if (topLeft.length > 0) {\n        begColCells = topLeft[0].length;\n    } else {\n        begColCells = bottomLeft.length > 0 ? bottomLeft[0].length : 0;\n    }\n\n    if (topRight.length > 0) {\n        endColCells = topRight[0].length;\n    } else {\n        endColCells = bottomRight.length > 0 ? bottomRight[0].length : 0;\n    }\n\n    context.columnMatrix(new VisualMatrix([topMatrix, bottomMatrix], {\n        isDistributionEqual: isColumnSizeEqual,\n        distribution: distribution.columns,\n        gutter: gutterSpace.columns,\n        isTransposed: true,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        breakPage: breakPage.columns,\n        extraCellLengths: [begColCells, endColCells]\n    }));\n    context.centerMatrix(valueMatrix);\n\n    return matrices;\n};\n","import { ERROR_MSG } from 'muze-utils';\n/**\n * An Interface to be implemented if the transaction support is necessary. This class ensures reactivity to\n * global properties.\n */\nexport default class TransactionSupport {\n    /**\n     * Property accessor for data member of the class. Data is passed to the system by calling this method.\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for width of the class. Width is passed as an integer.\n     */\n    width () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for height of the class. Height is passed as an integer.\n     */\n    height () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for config of the class. Config is passed as an object.\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n}\n","/**\n * Flag to specify whether direction is vertical.\n */\nexport const MARGIN = 'margin';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const SPACE_FIXER = 'spaceFixer';\nexport const CLASSPREFIX = 'muze';\nexport const VERTICAL_ALIGN = 'verticalAlign';\nexport const TEXT_ALIGN = 'textAlign';\nexport const IS_OFFSET = 'isOffset';\nexport const MIDDLE = 'middle';\nexport const BASELINE = 'baseline';\nexport const SHOW = 'show';\nexport const CENTER = 'center';\nexport const TEXT = 'text';\nexport const HEADER = 'header';\nexport const HEIGHT = 'height';\nexport const WIDTH = 'width';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const FIELDS = 'fields';\nexport const TRANSFORM = 'transform';\nexport const LAYER_DEF = 'layerDef';\nexport const CONFIG = 'config';\n\nexport const TEXT_CELL = 'text-cell';\nexport const AXIS_CELL = 'axis-cell';\nexport const GEOM_CELL = 'geom-cell';\nexport const BLANK_CELL = 'blank-cell';\n","// eneum to refer to simple cell\nexport const SIMPLE = 'simple';\n// eneum to refer to header cell\nexport const TEXT = 'text';\n// enum to refer to axis cell\nexport const AXIS = 'axis';\n// enum to refer to visual cell\nexport const GEOM = 'geom';\n// enum to refer blank cell\nexport const BLANK = 'blank';\n","import {\n    ERROR_MSG,\n    getUniqueId,\n    mergeRecursive\n} from 'muze-utils';\nimport { SIMPLE } from './enums/cell-type';\n\n/**\n * This file declares a class that is used as an interface to create new\n * SimpleCell elements.\n * @module SimpleCell\n */\n/**\n * Base class for all table cells.\n *\n * @interface\n * @class SimpleCell\n */\nclass SimpleCell {\n\n    /**\n     * Creates an instance of SimpleCell.\n     *\n     * @param {*} config The input configuration.\n     * @memberof SimpleCell\n     */\n    constructor (config) {\n        this._id = getUniqueId();\n\n        const defConfig = mergeRecursive({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(defConfig, config || {});\n\n        this._mount = null;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     */\n    get type () {\n        return SIMPLE;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     * @return {Object} Default config for the placeholder\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the value contained by the SimpleCell.\n     *\n     * @memberof SimpleCell\n     */\n    valueOf () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a unique identifier for the instance used\n     * to control selective rendering.\n     *\n     * @memberof SimpleCell\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized representation of the instance.\n     *\n     * @memberof SimpleCell\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns an object with width and height fields\n     * specifying the space taken up by this metod.\n     *\n     * @memberof SimpleCell\n     */\n    getLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Method used to set the space available to render the SimpleCell\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @memberof SimpleCell\n     */\n    setAvailableSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    remove () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n}\n\nexport default SimpleCell;\n","/**\n * This file exports variables that are used as defaults for\n * the placeholders\n */\nimport * as CONSTANTS from './constants';\n\n /**\n * Default Configuration for the cells\n * @return {Object} Default configuration\n */\nexport const DEFAULT_CONFIG = {\n    [CONSTANTS.MARGIN]: {\n        [CONSTANTS.LEFT]: 0,\n        [CONSTANTS.RIGHT]: 0,\n        [CONSTANTS.TOP]: 0,\n        [CONSTANTS.BOTTOM]: 0\n    },\n    [CONSTANTS.SPACE_FIXER]: 2,\n    [CONSTANTS.IS_OFFSET]: false,\n    [CONSTANTS.VERTICAL_ALIGN]: CONSTANTS.TOP,\n    [CONSTANTS.TEXT_ALIGN]: CONSTANTS.CENTER,\n    [CONSTANTS.SHOW]: true\n};\n","import { mergeRecursive } from 'muze-utils';\nimport { GEOM, TEXT, AXIS, BLANK } from './enums/cell-type';\n\nconst DEFAULT_PROPS = {\n    mount: {},\n    availHeight: {},\n    availWidth: {},\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config, value)\n    },\n    logicalSpace: {},\n    source: {}\n};\n\nconst geomProps = {\n    data: {},\n    caption: {},\n    config: {},\n    axes: {\n        sanitization: (context, value) => Object.assign(context._axes, value)\n    },\n    facetByFields: {},\n    fields: {},\n    transform: {},\n    layerDef: {}\n};\n\nexport const PROPS = {\n    [TEXT]: DEFAULT_PROPS,\n    [GEOM]: mergeRecursive(geomProps, DEFAULT_PROPS),\n    [AXIS]: DEFAULT_PROPS,\n    [BLANK]: DEFAULT_PROPS\n};\n","/**\n * This file declares a class that represents a table cell\n * used to house an axis.\n * @module VisualCell\n */\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport { CLASSPREFIX, HEIGHT, WIDTH, AXIS_CELL } from './enums/constants';\nimport SimpleCell from './simple-cell';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { AXIS } from './enums/cell-type';\nimport { PROPS } from './props';\n\n/**\n * Computes the logical space of the an axis instance within an axis cell\n *\n * @param {Object} context Required to get the needed parameters to compute axis space\n * @return {Object} Returns the logical space for axis\n */\nconst computeAxisSpace = (context) => {\n    let logicalWidth;\n    let logicalHeight;\n    const axis = context.source();\n    const {\n        spaceFixer,\n        margin\n    } = context.config();\n    const {\n        width,\n        height\n    } = axis.getLogicalSpace();\n    const {\n            show\n        } = axis.config();\n    if (show === true) {\n        logicalHeight = Math.floor(height + margin.top + margin.bottom + spaceFixer);\n        logicalWidth = Math.floor(width + margin.left + margin.right + spaceFixer);\n    } else {\n        [logicalWidth, logicalHeight] = [width, height];\n    }\n    return {\n        width: logicalWidth,\n        height: logicalHeight\n    };\n};\n\n/**\n * Represents an axis cell.\n *\n * @class Axis\n */\nclass AxisCell extends SimpleCell {\n\n    /**\n     * Creates an instance of AxisCell.\n     *\n     * @param {Object} config The input config.\n     * @memberof AxisCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._axis = null;\n        this._availHeight = null;\n        this._availWidth = null;\n        this._logicalSpace = null;\n\n        generateGetterSetters(this, PROPS[AXIS]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof AxisCell\n     */\n    get type () {\n        return AXIS;\n    }\n\n    /**\n     * This method return the value conatined by this SimpleCell.\n     *\n     * @return {SimpleAxis | ColorAxis} Instance of SimpleAxis or ColorAxis.\n     * @memberof AxisCell\n     */\n    valueOf () {\n        return this.source().id;\n    }\n\n    /**\n     * This method return the unique identififer of the axis\n     *\n     * @return {string} Id of the axis.\n     * @memberof AxisCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Retrns the serialized representation of this cell.\n     *\n     * @return {Object}Object with serializable props.\n     * @memberof AxisCell\n     */\n    serialize () {\n        return {\n            type: AXIS,\n            axis: this.source().serialize()\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof AxisCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * return the space taken up by an axis element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof AxisCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeAxisSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @return {Instance} Returns current Instance\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        const {\n            margin,\n            isOffset\n        } = this.config();\n        this.source().setAvailableSpace(width, height, margin, isOffset);\n        this.logicalSpace(null);\n        this.source().logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the axis inside the axis cell.\n     *\n     * @param {HTMLElement} mount The mount point.\n     * @return {Selection} node where axis mounted\n     * @memberof AxisCell\n     */\n    /* istanbul ignore next */render (mount) {\n        if (!mount) {\n            return this;\n        }\n        const axis = this.source();\n        const availHeight = this.availHeight();\n        const availWidth = this.availWidth();\n        const {\n            margin\n        } = this.config();\n        const {\n            top,\n            bottom,\n            left,\n            right\n        } = margin;\n        const {\n            show\n        } = axis.config();\n        const wrapperDiv = makeElement(selectElement(mount), 'div', [this], `${CLASSPREFIX}-${AXIS_CELL}`);\n        const selection = makeElement(wrapperDiv, 'svg', [1], `${CLASSPREFIX}-axis-container`);\n\n        this.mount(mount);\n        if (availWidth === 0 || !availWidth) {\n            selection.attr(WIDTH, `${0}px`);\n        }\n        if (availHeight === 0 || !availHeight) {\n            selection.attr(HEIGHT, `${0}px`);\n        }\n        wrapperDiv.style(WIDTH, `${show ? availWidth : 0}px`)\n                        .style(HEIGHT, `${show ? availHeight : 0}px`)\n                        .style('margin-top', top)\n                        .style('margin-bottom', bottom)\n                        .style('margin-left', left)\n                        .style('margin-right', right);\n\n        axis.mount(selection.node());\n        return selection;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Current instance of AxisCell\n     * @memberof AxisCell\n     */\n    remove () {\n        this.source() && this.source().remove();\n        this.mount() && this.mount().remove();\n        return this;\n    }\n}\n\nexport default AxisCell;\n\n","/**\n * This file declares a class that represents a BLANK element in a  table.\n * @module VisualCell\n */\nimport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    generateGetterSetters\n    } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { CLASSPREFIX, BLANK_CELL } from './enums/constants';\nimport { BLANK } from './enums/cell-type';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { PROPS } from './props';\n\n/**\n * Represents a table haeder.\n *\n * @class BLANK\n */\nclass BlankCell extends SimpleCell {\n\n    /**\n     * Creates an instance of BLANK.\n     * @param {Object} config The input configuration.\n     * @memberof BLANK\n     */\n    constructor (config) {\n        super(config);\n\n        generateGetterSetters(this, PROPS[BLANK]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof BlankCell\n     */\n    get type () {\n        return BLANK;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof BlankCell\n     */\n    valueOf () {\n        return this.id;\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof BlankCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the BLANK cell.\n     *\n     * @return {string} The unique identifier for the BLANK.\n     * @memberof BlankCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof BLANK\n     */\n    serialize () {\n        return {\n            type: BLANK\n        };\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof BLANK\n     */\n    getLogicalSpace () {\n        const {\n            spaceFixer\n        } = this.config();\n        if (!this.logicalSpace()) {\n            return {\n                width: this.width || spaceFixer,\n                height: this.height || spaceFixer\n            };\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the BLANK cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof BLANK\n     */\n    /* istanbul ignore next */render (mount) {\n        if (mount) {\n            const { style } = this.config();\n            // append span element to mount point\n            this.mount(mount);\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id]);\n            elem.classed(`${CLASSPREFIX}-${BLANK_CELL}`, true);\n            elem.style('width', `${this.availWidth()}px`);\n            elem.style('height', `${this.availHeight()}px`);\n            elem.html('');\n            // apply style on the returned element\n            if (style) {\n                applyStyle(elem, style);\n            }\n        } return this;\n    }\n\n    /**\n     * Removes the cell(Disposal)\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n }\nexport default BlankCell;\n","/**\n * This file declares a class that represents a Text element in a  table.\n * @module VisualCell\n */\n\nimport {\n    selectElement,\n    makeElement,\n    getSmartComputedStyle,\n    generateGetterSetters\n} from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { TEXT } from './enums/cell-type';\nimport { PROPS } from './props';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { CLASSPREFIX, TOP, BOTTOM, LEFT, RIGHT, HEADER, WIDTH, TEXT_CELL } from './enums/constants';\nimport './text-cell.scss';\n\n/**\n* Computes the Logical Space for the text\n*\n* @param {Object} context Required to get the needed parameters to compute text space\n* @return {Object} Logical space taken up by text\n* @memberof TextCell\n*/\nconst computeTextSpace = (context) => {\n    const { labelManager } = context.dependencies();\n    const space = labelManager.getOriSize(context.source());\n    const {\n       margin,\n        show\n   } = context.config();\n\n    labelManager.setStyle(context._computedStyle);\n    if (show) {\n        return {\n            width: space.width + margin.left + margin.right + context._minTickDiff.width,\n            height: space.height + margin.top + margin.bottom + context._minTickDiff.height\n        };\n    } return {\n        width: 0,\n        height: 0\n    };\n};\n\n/**\n * Represents a table haeder.\n *\n * @class Text\n */\nclass TextCell extends SimpleCell {\n\n    /**\n     * Creates an instance of Text.\n     * @param {Object} config The input configuration.\n     * @param {string} dependencies Dependencies for the class(labelManager)\n     * @memberof Text\n     */\n    constructor (config, dependencies) {\n        super(config);\n\n        this._dependencies = dependencies;\n        this._className = this._config.className ||\n                    (this._config.type === HEADER ? `${CLASSPREFIX}-${HEADER}-cell` : `${CLASSPREFIX}-${TEXT}-cell`);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'), this._className);\n        this._dependencies.labelManager.setStyle(this._computedStyle);\n        this._minTickDiff = this._dependencies.labelManager.getOriSize('WW');\n\n        generateGetterSetters(this, PROPS[TEXT]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof TextCell\n     */\n    get type () {\n        return TEXT;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof TextCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the Text cell.\n     *\n     * @return {string} The unique identifier for the Text.\n     * @memberof TextCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the dependencies of the instance\n     *\n     * @return {Object} Dependencies needed by the class\n     * @memberof TextCell\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof TextCell\n     */\n    serialize () {\n        return {\n            text: this.source(),\n            type: TEXT\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof TextCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof Text\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeTextSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the Text cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof Text\n     */\n    render (mount) {\n        const availWidth = this.availWidth();\n        const {\n            margin,\n            show,\n            verticalAlign,\n            textAlign\n        } = this.config();\n\n        this.mount(mount);\n        if (show) {\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id], `${CLASSPREFIX}-${TEXT_CELL}`);\n\n            container.style('vertical-align', verticalAlign);\n            elem.classed(this._className, true);\n            // apply style on the returned element\n            elem.style(WIDTH, availWidth ? `${availWidth}px` : '100%');\n            [TOP, BOTTOM, LEFT, RIGHT].forEach((type) => {\n                elem.style(`padding-${type}`, `${margin[type]}px`);\n            });\n            elem.style('text-align', textAlign);\n            elem.style('display', 'inline');\n            // set the text as the innerHTML\n            elem.html(this.source());\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n }\n\nexport default TextCell;\n","/**\n * This file declares a class that is used to represent a table cell\n * that houses a visual unit.\n * @module VisualCell\n */\n\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { GEOM } from './enums/cell-type';\nimport { PROPS } from './props';\nimport {\n    CLASSPREFIX, HEIGHT, WIDTH, DATA, AXES, FACET_BY_FIELDS, FIELDS, TRANSFORM, LAYER_DEF, CONFIG, GEOM_CELL\n} from './enums/constants';\nimport { DEFAULT_CONFIG } from './enums/defaults';\n\n/**\n * Calculates the logical space of the cell\n *\n * @param {Object} context Required to get the needed parameters to compute unit space\n * @return {Object} Logical space taken up by the unit\n * @memberof GeomCell\n */\nconst computeGeomSpace = (context) => {\n    const config = context.source().config();\n    const { width, height } = config;\n    return {\n        width: Math.ceil(width),\n        height: Math.ceil(height + context.getCaptionSpace().height)\n    };\n};\n\n /**\n * This class represents a SimpleCell for visual unit.\n *\n * @class GeomCell\n */\nclass GeomCell extends SimpleCell {\n\n    /**\n     * Creates an instance of GeomCell.\n     * @param {Object} config The input configuration.\n     * @memberof GeomCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._unit = null;\n        this._layers = null;\n        this._axes = {};\n        this._datamodel = {};\n        this._facetByFields = {};\n        this._fields = null;\n        this._transform = null;\n        this._caption = null;\n\n        generateGetterSetters(this, PROPS[GEOM]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof GeomCell\n     */\n    get type () {\n        return GEOM;\n    }\n\n    /**\n     * This method return the value contained by this cell.\n     *\n     * @return {VisualUnit} Instance of visual unit contained by visual unit.\n     * @memberof GeomCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return the id of the\n     * visual unit housed by this cell.\n     *\n     * @return {string} The unique id of the visual unit.\n     * @memberof GeomCell\n     */\n    get id () {\n        return this.source().id();\n    }\n\n    /**\n     * This method return a serialized representation of\n     * this instance.\n     *\n     * @return {Object} Object with serializable props.\n     * @memberof GeomCell\n     */\n    serialize () {\n        return {\n            type: GEOM,\n            unit: this.source().serialize(),\n            caption: this.caption()\n        };\n    }\n\n    /**\n     * return the default configuration for the geom cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof GeomCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * Updates the model based on the changed parameters\n     *\n     * @return {Instance} return instance\n     * @memberof GeomCell\n     */\n    updateModel () {\n        const unit = this.source();\n        unit.lockModel();\n        [DATA, AXES, FACET_BY_FIELDS, FIELDS, TRANSFORM, LAYER_DEF, CONFIG].forEach((prop) => {\n            this[prop]() && unit[prop](this[prop]());\n        });\n        unit.unlockModel();\n        return this;\n    }\n\n    /**\n     * It gives the space taken by the caption of the unit\n     *\n     * @return {Object} return the space taken by caption\n     * @memberof GeomCell\n     */\n    getCaptionSpace () {\n        const caption = this.caption();\n\n        let captionSpace = { width: 0, height: 0 };\n        if (caption) {\n            captionSpace = caption.getLogicalSpace();\n        }\n        return captionSpace;\n    }\n\n    /**\n     * return the space taken up by the element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof GeomCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeGeomSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space available to\n     * render the SimpleCell.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    setAvailableSpace (width, height) {\n        const unit = this.source();\n\n        this.availWidth(width);\n        this.availHeight(height);\n        unit.lockModel();\n        unit.width(width).height(height - this.getCaptionSpace().height);\n        unit.unlockModel();\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * his method is used to render the visual unit inside the provided cell.\n     *\n     * @param {HTMLElement} mount The mountpoint in the table.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    render (mount) {\n        if (mount) {\n            this.mount(mount);\n            const availHeight = this.availHeight();\n            const availWidth = this.availWidth();\n            const caption = this.caption();\n            const wrapperDiv = makeElement(selectElement(mount), 'div', [1], `${CLASSPREFIX}-${GEOM_CELL}`);\n\n            if (caption) {\n                const captionDom = makeElement(wrapperDiv, 'div', [caption], `${CLASSPREFIX}-unit-caption`).node();\n                caption.render(captionDom);\n            }\n            const selection = makeElement(wrapperDiv, 'div', [1], `${CLASSPREFIX}-unit`);\n            wrapperDiv.style(WIDTH, `${availWidth}px`).style(HEIGHT, `${availHeight}px`);\n            selection.style(WIDTH, `${availWidth}px`)\n                            .style(HEIGHT, `${availHeight - this.getCaptionSpace().height}px`);\n            this.source().mount(selection.node());\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Object} Current instance\n     * @memberof GeomCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        this.source().remove();\n        return this;\n    }\n}\n\nexport default GeomCell;\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\n\nimport * as CONSTANTS from './constants';\n\nexport const DEFAULT_PLACEHOLDERS = {\n    [CONSTANTS.SIMPLE_CELL]: SimpleCell,\n    [CONSTANTS.TEXT_CELL]: TextCell,\n    [CONSTANTS.AXIS_CELL]: AxisCell,\n    [CONSTANTS.GEOM_CELL]: GeomCell,\n    [CONSTANTS.BLANK_CELL]: BlankCell\n};\n\n","export const SIMPLE_CELL = 'SimpleCell';\nexport const TEXT_CELL = 'TextCell';\nexport const AXIS_CELL = 'AxisCell';\nexport const BLANK_CELL = 'BlankCell';\nexport const GEOM_CELL = 'GeomCell';\n\n","import { DEFAULT_PLACEHOLDERS } from './defaults';\n\n/**\n * Creates a registry for the cells, which can be used for\n * setting a new cell or getting the registered cells\n *\n * @return {Object} Setters and getters for registered cells\n */\nconst cellRegistry = () => {\n    const reg = DEFAULT_PLACEHOLDERS;\n    return {\n        set: (key, def) => {\n            if (key in reg) {\n                reg[key] = def;\n            }\n            return cellRegistry;\n        },\n        get: () => reg\n    };\n};\nexport default cellRegistry;\n","import { TOP, BOTTOM, LEFT, TITLE, SUB_TITLE, GROUP, LAYOUT, LEGEND } from '../constants';\n\n/**\n *\n *\n * @param {*} context\n * @returns\n */\nexport const arrangeComponents = (context) => {\n    const legendConfig = context.config().legend;\n    const titleConfig = context.title()[1];\n    const subtitleConfig = context.subtitle()[1];\n    const titleLayouts = {\n        [`${TOP}-${TOP}`]: [TITLE, SUB_TITLE, GROUP],\n        [`${BOTTOM}-${BOTTOM}`]: [GROUP, SUB_TITLE, TITLE],\n        [`${TOP}-${BOTTOM}`]: [TITLE, GROUP, SUB_TITLE],\n        [`${BOTTOM}-${TOP}`]: [SUB_TITLE, GROUP, TITLE]\n    };\n    const legendLayouts = [\n        [LEGEND, LAYOUT],\n        [LAYOUT, LEGEND]\n    ];\n    const titlePosition = titleConfig.position || TOP;\n    const subtitlePosition = subtitleConfig.position || TOP;\n\n    return {\n        headers: titleLayouts[`${titlePosition}-${subtitlePosition}`],\n        legends: legendConfig.position === LEFT || legendConfig.position === TOP ?\n        legendLayouts[0] : legendLayouts[1]\n    };\n};\n","import { TextCell } from '@chartshq/visual-cell';\nimport { escapeHTML } from 'muze-utils';\n\n/**\n *\n *\n * @param {*} rawContent\n * @returns\n */\nconst resolveTitleSubTitleContent = (rawContent) => {\n    if (typeof rawContent === 'function' && !rawContent._sanitize) {\n        return rawContent();\n    }\n    return escapeHTML(rawContent());\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} cellType\n * @param {*} labelManager\n * @param {*} prevCell\n * @returns\n */\nconst headerCreator = (config, cellType, labelManager, prevCell) => {\n    const {\n        content\n    } = config;\n    const cell = prevCell || new TextCell({ type: cellType }, { labelManager });\n\n    cell.source(content);\n\n    return {\n        height: cell.getLogicalSpace().height,\n        cell\n    };\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} type\n * @param {*} labelManager\n * @param {*} cell\n * @returns\n */\nconst createHeading = (config, type, labelManager, prevCell) => {\n    if (!config) { return ''; }\n\n    return headerCreator(\n        config,\n        type === 'title' ? 'header' : 'text',\n        labelManager,\n        prevCell\n    );\n};\n\n/**\n *\n *\n * @param {*} context\n */\nexport const createHeaders = (context, canvasHeight, canvasWidth) => {\n    let headerHeight = 0;\n    const headers = {};\n\n    canvasHeight > 200 && canvasWidth > 200 && ['title', 'subtitle'].forEach((type) => {\n        const headerOptions = context[type]();\n        const content = resolveTitleSubTitleContent(headerOptions[0]);\n        if (content.length) {\n            const config = headerOptions[1];\n\n            config.width = context.width();\n            config.content = content;\n\n            const { height, cell } = createHeading(config, type, context.dependencies().smartlabel,\n                context[`${type}Cell`]);\n\n            headers[`${type}Cell`] = cell;\n            context._composition[type] = cell;\n            headerHeight += height + config.padding;\n        }\n    });\n    return { headerHeight, headers };\n};\n\n","import { TextCell, AxisCell } from '@chartshq/visual-cell';\nimport {\n    VERTICAL, HORIZONTAL, LEFT, RIGHT, LEGEND_TYPE_MAP, PADDING, BORDER, CONFIG\n} from '../constants';\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n * @returns\n */\nexport const legendCreator = (canvas) => {\n    let LegendCls;\n    const dataset = [];\n    const axes = canvas.getRetinalAxes();\n\n    Object.entries(axes).forEach((axisInfo) => {\n        const scale = axisInfo[1][0];\n        const scaleType = axisInfo[0];\n        const scaleProps = canvas[scaleType]();\n\n        if (scaleProps.field) {\n            const {\n                type,\n                step\n            } = scale.config();\n\n            const stepMapper = typeof step === 'boolean' ? step : false;\n            LegendCls = LEGEND_TYPE_MAP[`${type}-${stepMapper}-${scaleType}`];\n            dataset.push({ scale, canvas, fieldName: scaleProps.field, LegendCls, scaleType });\n        }\n    });\n\n    return dataset;\n};\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n * @param {*} measurement\n * @param {*} prevLegends\n * @returns\n */\nexport const legendInitializer = (legendConfig, canvas, measurement, prevLegends) => {\n    const legends = [];\n    const {\n        height,\n        width,\n        headerHeight\n    } = measurement;\n    const {\n        position,\n        align\n    } = legendConfig;\n\n    const legendInfo = legendCreator(canvas);\n\n    legendInfo.forEach((dataInfo, index) => {\n        let legend = {};\n\n        const legendMeasures = {};\n        const {\n                LegendCls,\n                scale,\n                fieldName,\n                scaleType\n            } = dataInfo;\n        const config = legendConfig[scaleType] || {};\n        const title = config.title || {};\n        title.text = title.text || fieldName;\n        if (config.show) {\n            config.position = position;\n            config.align = align;\n\n            if (prevLegends[index]) {\n                legend = prevLegends[index].legend;\n            } else {\n                legend = LegendCls.create({\n                    labelManager: canvas._dependencies.smartlabel,\n                    cells: {\n                        AxisCell, TextCell\n                    }\n                });\n            }\n            legendMeasures.maxHeight = align === VERTICAL ? (height - headerHeight) : height * 0.2;\n            legendMeasures.maxWidth = align === HORIZONTAL ? width : width * 0.2;\n            legendMeasures.width = Math.min(legendMeasures.maxWidth, config.width);\n            legendMeasures.height = Math.min(legendMeasures.maxHeight, config.height);\n\n            [PADDING, BORDER, CONFIG].forEach((e) => {\n                legendMeasures[e] = config[e];\n            });\n            legend.scale(scale)\n                            .title(title)\n                            .fieldName(fieldName)\n                            .config(config)\n                            .metaData(canvas.composition().visualGroup.getGroupByData().project([fieldName]))\n                            .measurement(legendMeasures)\n                            .canvasAlias(canvas.alias())\n                            .setLegendMeasures();\n\n            legends.push({ canvas, legend, scaleType });\n        }\n    });\n    return legends;\n};\n\n/**\n *\n *\n * @param {*} legends\n * @param {*} legendConfig\n * @param {*} availableHeight\n * @param {*} availableWidth\n * @returns\n */\nexport const getLegendSpace = (legends, legendConfig, availableHeight, availableWidth) => {\n    const legendMeasures = legends.map(legendInfo => legendInfo.legend.measurement());\n    const legendSpace = { width: 0, height: 0 };\n\n    legendMeasures.forEach((space) => {\n        let height = 0;\n        let width = 0;\n        width = Math.min(space.width, space.maxWidth);\n        height = Math.min(space.height, space.maxHeight);\n\n        if (legendConfig.align === HORIZONTAL) {\n            if (legendSpace.width + width > availableWidth) {\n                legendSpace.width = availableWidth;\n                legendSpace.height += height;\n            } else {\n                legendSpace.width += width;\n                legendSpace.height = Math.max(legendSpace.height, height);\n            }\n        } else if (legendSpace.height + height > availableHeight) {\n            legendSpace.height = height;\n            legendSpace.width += width;\n        } else {\n            legendSpace.height += height;\n            legendSpace.width = Math.max(legendSpace.width, width);\n        }\n    });\n    if (legendConfig.align === HORIZONTAL) {\n        legendSpace.width = availableWidth;\n    }\n    return legendSpace;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} headerHeight\n * @returns\n */\nexport const createLegend = (context, headerHeight, height, width) => {\n    const measurement = {\n        height,\n        width,\n        headerHeight\n    };\n    const { legend } = context.config();\n    const { show, position } = legend;\n\n    legend.classPrefix = context.config().classPrefix;\n    const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n\n    legend.show = show ? ((align === VERTICAL && width > 200) || (align === HORIZONTAL && height > 200)) : show;\n    legend.align = align;\n    return legendInitializer(legend, context, measurement, context.legends || []);\n};\n","import { cellRegistry } from '@chartshq/visual-cell';\nimport { mergeRecursive } from 'muze-utils';\nimport { arrangeComponents } from './component-resolver';\nimport { createHeaders } from './title-maker';\nimport { createLegend, getLegendSpace } from './legend-maker';\nimport { TOP, BOTTOM, LEFT, RIGHT } from '../constants';\n\nconst BlankCell = cellRegistry().get().BlankCell;\n\nconst createBlankCell = () => new BlankCell();\n\n/**\n *\n *\n * @param {*} canvases\n * @returns\n */\nconst getMaxRows = (rows) => {\n    const maxRows = [0, 0];\n\n    maxRows[0] = Math.max(maxRows[0], rows[0].length ? rows[0][0].length : 0);\n    maxRows[1] = Math.max(maxRows[1], rows[1].length ? rows[1][0].length : 0);\n    return maxRows;\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} value\n */\nconst fillArray = (arr, value) => arr.map(() => value());\n\n/**\n *\n *\n * @param {*} rows\n * @param {*} columns\n * @param {*} blankCellCreator\n * @returns\n */\nconst blankMatrixCreator = (rows, columns, blankCellCreator) => {\n    const arr = [];\n\n    for (let i = 0; i < rows; i++) {\n        let array = new Array(columns).fill([]);\n        array = fillArray(array, blankCellCreator);\n        arr.push(array);\n    }\n    return arr;\n};\n\n/**\n *\n *\n * @param {*} rowMatrices\n * @param {*} maxRows\n */\nconst blankCellCreator = (rowMatrices, maxRows) => rowMatrices.map((rowMatrix, rowMatrixIndex) => {\n    if (rowMatrix.length === 0 && maxRows[rowMatrixIndex] > 0) {\n        const numberOfRows = Math.max(rowMatrices[0].length, rowMatrices[1].length);\n        return blankMatrixCreator(numberOfRows, maxRows[rowMatrixIndex], createBlankCell);\n    }\n    if (rowMatrix.length > 0) {\n        if (rowMatrix[0] && rowMatrix[0].length <= maxRows[rowMatrixIndex]) {\n            return rowMatrix.map((row) => {\n                let arr = new Array(maxRows[rowMatrixIndex] - rowMatrix[0].length).fill(1);\n                arr = fillArray(arr, createBlankCell);\n                return [...arr, ...row];\n            });\n        }\n        return blankMatrixCreator(rowMatrix.length, maxRows[rowMatrixIndex], createBlankCell);\n    }\n    return rowMatrix;\n});\n\n/**\n *\n *\n * @param {*} context\n * @returns\n */\nexport const prepareLayout = (layout, components, config, measurement) => {\n    let topL;\n    let topR;\n    let bottomL;\n    let bottomR;\n    const {\n        rows,\n        columns,\n        values,\n        cornerMatrices\n    } = components;\n    const {\n        showHeaders\n    } = config;\n    const maxRows = getMaxRows(rows);\n    const {\n        topLeft,\n        topRight,\n        bottomLeft,\n        bottomRight\n    } = cornerMatrices;\n\n    if (!showHeaders) {\n        const colLengths = [columns[0].length, columns[1].length];\n        // Create blank cells for corener matrices\n        [topL, topR] = blankCellCreator([new Array(colLengths[0]), new Array(colLengths[0])], maxRows);\n        [bottomL, bottomR] = blankCellCreator([new Array(colLengths[1]), new Array(colLengths[1])], maxRows);\n    } else {\n        [topL, topR, bottomL, bottomR] = [topLeft, topRight, bottomLeft, bottomRight];\n    }\n\n    layout.measurement(measurement)\n                    .config(config)\n                    .matrices({\n                        top: [topL, columns[0], topR],\n                        center: [rows[0], values, rows[1]],\n                        bottom: [bottomL, columns[1], bottomR]\n                    })\n                    .triggerReflow();\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} mount\n * @returns\n */\nexport const getRenderDetails = (context, mount) => {\n    let layoutConfig = mergeRecursive({}, context.config());\n    const heightAttr = context.height();\n    const widthAttr = context.width();\n    const visGroup = context.composition().visualGroup;\n    const {\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        rows,\n        columns,\n        values\n    } = visGroup.placeholderInfo();\n    const {\n        minWidth,\n        minHeight,\n        classPrefix,\n        showHeaders,\n        legend\n    } = context.config();\n    // Get title configuration\n    const titleConfig = context.title()[1];\n     // Get subtitle configuration\n    const subtitleConfig = context.subtitle()[1];\n    // Get legend position\n    const legendPosition = legend.position;\n    // Arrange components according to config\n    const layoutArrangement = arrangeComponents(context);\n\n    // Get height width of the mount point\n    const { height, width } = mount.getBoundingClientRect();\n\n    const availableHeightForCanvas = Math.max(heightAttr > 0 ? heightAttr : height, minHeight);\n    const availableWidthForCanvas = Math.max(widthAttr > 0 ? widthAttr : width, minWidth);\n\n    // Create headers and determine header height\n    const { headers, headerHeight } = createHeaders(context, availableHeightForCanvas, availableWidthForCanvas);\n\n    // Create legends and determine legend space\n    const legends = createLegend(context, headerHeight, availableHeightForCanvas, availableWidthForCanvas);\n    context._composition.legend = {};\n    legends.forEach((e) => {\n        context._composition.legend[e.scaleType] = e.legend;\n    });\n\n    const legendSpace = getLegendSpace(legends, legend, availableHeightForCanvas, availableWidthForCanvas);\n    const legendWidth = (legendPosition === LEFT || legendPosition === RIGHT) ? legendSpace.width : 0;\n    const legendHeight = (legendPosition === TOP || legendPosition === BOTTOM) ? legendSpace.height : 0;\n\n    // Set components for layouting\n    const components = {\n        headers,\n        legends,\n        canvases: [context],\n        rows,\n        columns,\n        values,\n        cornerMatrices: visGroup.cornerMatrices()\n    };\n    const measurement = {\n        mountSpace: {\n            height,\n            width\n        },\n        headerHeight,\n        legendSpace,\n        canvasWidth: availableWidthForCanvas,\n        canvasHeight: availableHeightForCanvas,\n        width: availableWidthForCanvas - legendWidth,\n        height: availableHeightForCanvas - headerHeight - legendHeight,\n        minUnitHeight: context.minUnitHeight(),\n        minUnitWidth: context.minUnitWidth()\n    };\n    layoutConfig = mergeRecursive(layoutConfig, {\n        classPrefix,\n        showHeaders,\n        border: mergeRecursive(visGroup.metaData().border, context.config().border),\n        layoutArrangement,\n        legend,\n        title: titleConfig,\n        subtitle: subtitleConfig,\n        isColumnSizeEqual,\n        isRowSizeEqual\n    });\n    return {\n        layoutConfig,\n        components,\n        measurement\n    };\n};\n","export const TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 8\n};\n\nexport const SUB_TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 16\n};\n","import { mergeRecursive, selectElement } from 'muze-utils';\nimport {\n    ROWS,\n    COLUMNS,\n    COLOR,\n    SHAPE,\n    SIZE,\n    DETAIL,\n    LAYERS,\n    TRANSFORM,\n    MOUNT,\n    TITLE,\n    SUB_TITLE\n} from '../constants';\nimport { TITLE_CONFIG, SUB_TITLE_CONFIG } from './defaults';\n/**\n * @module\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Canvas.\n * Canvas merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n */\n\nexport const localOptions = {\n    [ROWS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLUMNS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLOR]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string') {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SHAPE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string') {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SIZE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string') {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [DETAIL]: {\n        value: [],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n\n    [LAYERS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [TRANSFORM]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object'\n        }\n    },\n    [MOUNT]: {\n        value: null,\n        meta: {\n            sanitization: (value) => {\n                if (typeof value === 'string') {\n                    return selectElement(value).node();\n                }\n                return value;\n            }\n        }\n    }\n};\n\nexport const canvasOptions = {\n    [TITLE]: {\n        value: [null, null],\n        meta: {\n            typeCheck: ['constructor', 'constructor'],\n            typeExpected: ['Function', 'Object'],\n            spreadParams: true,\n            sanitization: [(title) => {\n                if (typeof title === 'string') {\n                    const t = () => title;\n                    t._sanitized = true;\n                    return t;\n                }\n                return title;\n            }, (titleConfig) => {\n                const defConfig = mergeRecursive({}, TITLE_CONFIG);\n                return mergeRecursive(defConfig, titleConfig);\n            }]\n        }\n    },\n    [SUB_TITLE]: {\n        value: [null, null],\n        meta: {\n            typeCheck: ['constructor', 'constructor'],\n            typeExpected: ['Function', 'Object'],\n            spreadParams: true,\n            sanitization: [(subtitle) => {\n                if (typeof subtitle === 'string') {\n                    const sub = () => subtitle;\n                    sub._sanitized = true;\n                    return sub;\n                }\n                return subtitle;\n            }, (subtitleConfig) => {\n                const defConfig = mergeRecursive({}, SUB_TITLE_CONFIG);\n                return mergeRecursive(defConfig, subtitleConfig);\n            }]\n        }\n    }\n};\n","import { makeElement, selectElement } from 'muze-utils';\nimport { VERTICAL, HORIZONTAL, TOP, LEFT, RIGHT, BOTTOM } from '../constants';\n\n/**\n * Sets the rotation for all x axes if any axis has the rotation config set in the\n * entire view\n *\n * @param {Array} columns Column cells that contain the axes cells\n */\nconst setLabelRotationForAxes = (context) => {\n    let rotation = 0;\n\n    const xAxes = context.xAxes() || [];\n\n    (() => {\n        for (let i = 0; i < xAxes.length; i++) {\n            for (let j = 0; j < xAxes[i].length; j++) {\n                if (xAxes[i][j].config().labels.rotation !== 0) {\n                    rotation = xAxes[i][j].config().labels.rotation;\n                    return;\n                }\n            }\n        }\n    })();\n\n    if (rotation) {\n        xAxes.forEach((axes) => {\n            axes.forEach((axis) => {\n                axis.config({ labels: { rotation, smartTicks: false } });\n            });\n        });\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} mount\n * @returns\n */\nconst getSkeletons = (mount, layoutConfig, measurement) => {\n    const {\n        layoutArrangement,\n        classPrefix\n    } = layoutConfig;\n    const {\n        headers,\n        legends\n    } = layoutArrangement;\n    const {\n        canvasWidth,\n        canvasHeight\n    } = measurement;\n    const container = selectElement(mount);\n    const components = {};\n    const mountPoint = makeElement(container, 'div', [1], `${classPrefix}-viz`)\n        .style('width', `${canvasWidth}px`)\n        .style('height', `${canvasHeight}px`);\n    const containers = mountPoint\n        .selectAll(`.${classPrefix}-container`)\n        .data(headers);\n    containers.exit().remove();\n    const containersEnter = containers.enter().append('div');\n\n    const mergedContainer = containersEnter.merge(containers)\n                    .attr('class', `${classPrefix}-container`)\n                    .style('width', `${canvasWidth}px`)\n                    .style('padding', `${null}px`)\n                    .style('margin', null)\n                    .each(function (type) {\n                        components[type] = selectElement(this).classed(`${classPrefix}-${type}-container`, true);\n                    });\n    const innerContainer = mergedContainer\n                    .selectAll(`.${classPrefix}-inner-container`)\n                    .data((d) => {\n                        if (d === 'group') {\n                            return legends;\n                        } return [];\n                    });\n    innerContainer.exit().remove();\n    const innerContainerEnter = innerContainer.enter().append('div');\n\n    innerContainerEnter\n                    .merge(innerContainer)\n                    .attr('class', `${classPrefix}-inner-container`)\n                    .style('width', 'auto')\n                    .style('height', 'auto')\n                    .each(function (layoutType) {\n                        components[layoutType] = selectElement(this)\n                             .classed(`${classPrefix}-${layoutType}-container`, true);\n                    });\n    return components;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} container\n * @param {*} legendComponents\n */\nconst renderLegend = (legendConfig, container, legendComponents, measurement) => {\n    const sectionComponents = [];\n    const { legendSpace, headerHeight, height, width } = measurement;\n    const { legend, classPrefix } = legendConfig;\n    const { position } = legend;\n    const legendMount = makeElement(container, 'div', [legendComponents], `${classPrefix}-inner-content`, {}, d => d);\n    legendMount.classed(`${classPrefix}-legend`, true);\n    const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n    const legWidth = align === VERTICAL ? legendSpace.width : width;\n    const legHeight = align === VERTICAL ? height - headerHeight : legendSpace.height;\n\n    [container, legendMount].forEach((elem) => {\n        elem.style('width', `${Math.floor(legWidth)}px`)\n                        .style('height', `${legHeight}px`)\n                        .style('float', LEFT);\n    });\n\n    if (align === VERTICAL) {\n        let sections = -1;\n        let currHeight = legHeight;\n        let currWidth = 0;\n\n        legendComponents.forEach((legendInfo) => {\n            const leg = legendInfo.legend;\n            if (leg.measurement().height > currHeight) {\n                sections++;\n                currWidth = 0;\n                currHeight = legHeight;\n            } else {\n                sections < 0 && sections++;\n            }\n            sectionComponents[sections] = sectionComponents[sections] || [];\n            currHeight -= Math.min(leg.measurement().height, currHeight);\n            currWidth = Math.max(Math.min(leg.measurement().width, leg.measurement().maxWidth), currWidth);\n            sectionComponents[sections].push({\n                legend: leg,\n                legendHeight: legHeight,\n                legendWidth: currWidth\n            });\n        });\n\n        const mount = makeElement(legendMount, ['div'], sectionComponents, `${classPrefix}-legend-section`)\n            .each((d, i) => selectElement(this).classed(`${classPrefix}-legend-section-${i}`, true))\n            .classed(`${classPrefix}-legend-vertical-section`, true)\n            .style('width', d => `${d[0].legendWidth}px`);\n        makeElement(mount, ['div'], d => d, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                        .each(function (d) {\n                            d.legend.mount(this);\n                        })\n                        .style('width', d => `${d.legendWidth}px`);\n    } else {\n        const mount = makeElement(legendMount, 'div', [1], `${classPrefix}-legend-section`)\n            .classed(`${classPrefix}-legend-horizontal-section`, true)\n            .classed(`${classPrefix}-legend-section-${0}`, true)\n            .style('width', `${legWidth}px`);\n\n        makeElement(mount, 'div', legendComponents, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                        .each(function (d) { d.legend.mount(this); })\n                        .style('width', d => `${d.legend.measurement().width}px`);\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} container\n * @param {*} type\n * @param {*} headers\n */\nconst renderHeader = (layoutConfig, container, type, headers) => {\n    const headerCell = headers[`${type}Cell`];\n    const config = layoutConfig[`${type}`];\n    const { position, align, padding } = config;\n    const sel = container\n        .selectAll(`.${layoutConfig.classPrefix}-inner-container`)\n        .data([type]);\n    sel.exit().remove();\n    const selEnter = sel.enter().append('div');\n\n    const cont = selEnter.merge(sel);\n    cont.classed(`${layoutConfig.classPrefix}-inner-container`, true);\n\n    headerCell && headerCell.render(cont.node());\n\n    cont.selectAll('div').classed(`${layoutConfig.classPrefix}-inner-content`, true);\n    cont.style('width', `${100}%`);\n\n    if (config && headerCell) {\n        cont.style('float', LEFT)\n                        .style('text-align', align)\n                        .style(`padding-${position === TOP ? BOTTOM : TOP}`, `${padding}px`);\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} shifter\n */\nconst shiftHeaders = (config, shifter, measurement) => {\n    const { classPrefix, title, subtitle, legend } = config;\n    const { legendSpace } = measurement;\n    const { position } = legend;\n\n    shifter += position === LEFT ? legendSpace.width : 0;\n    title && selectElement(`.${classPrefix}-title-container`)\n                    .style('width', title.align === LEFT ? `calc(100% - ${shifter}px` : '100%')\n                    .style('margin-left', title.align === LEFT ? `${shifter}px` : 0);\n    subtitle && selectElement(`.${classPrefix}-subtitle-container`)\n                    .style('width', subtitle.align === LEFT ? `calc(100% - ${shifter}px` : '100%')\n                    .style('margin-left', subtitle.align === LEFT ? `${shifter}px` : 0);\n\n    selectElement(`.${classPrefix}-legend-horizontal-section`)\n                    .style('margin-left', `${shifter}px`)\n                    .style('width', `${legendSpace.width - shifter}px`)\n                    .selectAll(`.${classPrefix}-legend-body, .${classPrefix}-legend-title`)\n                    .style('max-width', `${legendSpace.width - shifter}px`);\n    selectElement(`.${classPrefix}-legend-vertical-section`)\n                    .style('margin-left', null)\n                    .selectAll(`.${classPrefix}-legend-body, .${classPrefix}-legend-title`)\n                    .style('max-width', null);\n};\n\n/**\n *\n *\n * @param {*} mountPoint\n * @param {*} measurement\n * @param {*} classPrefix\n * @returns\n */\nconst prepareGridContainer = (mountPoint, measurement, classPrefix, alias) => {\n    if (!mountPoint) {\n        return this;\n    }\n\n    const {\n        height,\n        width\n    } = measurement;\n    // Create container for the layout\n\n    const sel = selectElement(mountPoint)\n         .selectAll(`.${classPrefix}-inner-content`)\n         .data(['layout'], d => d);\n    sel.exit().remove();\n    const selEnter = sel.enter().append('div');\n\n    const container = selEnter.merge(sel)\n    .attr('class', `${classPrefix}-inner-content`)\n                    .classed(`${classPrefix}-grid-layout`, true)\n                    .attr('id', `${classPrefix}-grid-layout-${alias}`)\n                    .style('height', `${height}px`)\n                    .style('padding', null)\n                    .style('width', `${Math.ceil(width)}px`);\n    // Mount for matrices\n    const innerSel = container.selectAll(`.${classPrefix}-layout-grid-container`)\n         .data(['layout2']);\n    innerSel.exit().remove();\n    const innerSelEnter = innerSel.enter().append('div');\n\n    const mount = innerSelEnter.merge(innerSel);\n    mount.classed(`${classPrefix}-layout-grid-container`, true)\n                    .attr('id', `${classPrefix}-layout-grid-container-${alias}`)\n                    .style('height', `${height}px`)\n                    .style('width', `${Math.ceil(width)}px`);\n\n    return {\n        mount,\n        container\n    };\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} components\n * @param {*} layoutConfig\n * @param {*} measurement\n */\nexport const renderComponents = (context, components, layoutConfig, measurement) => {\n    const {\n        headers,\n        legends\n    } = components;\n    const {\n        classPrefix\n    } = layoutConfig;\n    const {\n        title,\n        legend,\n        subtitle,\n        layout\n    } = getSkeletons(context.mount(), layoutConfig, measurement);\n    const {\n        mount\n    } = prepareGridContainer(layout.node(), measurement, classPrefix, context.alias());\n    const padding = context.layout().getViewInformation().layoutDimensions.viewWidth[0];\n    measurement.padding = padding;\n    setLabelRotationForAxes(context);\n\n    // Render layout\n    context.layout().renderGrid(mount);\n    context.once('layer.drawn').then(() => {\n        renderHeader(layoutConfig, title, 'title', headers);\n        renderHeader(layoutConfig, subtitle, 'subtitle', headers);\n        renderLegend(layoutConfig, legend, legends, measurement);\n        shiftHeaders(layoutConfig, padding, measurement);\n    });\n    context.composition().visualGroup.matrixInstance().value.each((el) => {\n        el.valueOf().parentContainer(layout.node());\n    });\n};\n","import { isEqual } from 'muze-utils';\nimport { ROWS, COLUMNS, COLOR, SHAPE, SIZE, MOUNT, DETAIL, DATA, CONFIG } from '../constants';\nimport { canvasOptions } from './local-options';\n\n/**\n * Instantiate high level components. Canvas knows what all high level component it has.\n * @nice-to-have dynamic high level components.\n *  - Is it even required ?\n *  - Reactive to source (canvas) streaming ?\n * @param {*} context Canvas instance\n * @return {Object.fArray>} Arrays of Title, visualGroup, Legend\n */\nexport const initCanvas = (context) => {\n    const reg = context._registry.components;\n\n    return [new reg.VisualGroup(context._registry, context.dependencies())];\n};\n\n/**\n *\n *\n * @memberof Canvas\n */\nexport const dispatchProps = (context) => {\n    const lifeCycleManager = context.dependencies().lifeCycleManager;\n    lifeCycleManager.notify({ client: context, action: 'beforeupdate' });\n    const visualGroup = context.composition().visualGroup;\n\n    visualGroup.lockModel();\n    const allOptions = context._allOptions;\n    for (const key in allOptions) {\n        const value = context[key]();\n        if (value !== null) {\n            visualGroup[key] && visualGroup[key](value);\n        }\n    }\n    visualGroup.unlockModel();\n\n    context._cachedProps = {};\n    lifeCycleManager.notify({ client: context, action: 'initialized' });\n    lifeCycleManager.notify({ client: context, action: 'updated' });\n};\n\n/**\n *\n *\n */\nexport const setupChangeListener = (context) => {\n    const store = context._store;\n\n    store.registerImmediateListener(MOUNT, () => {\n        const allOptions = Object.keys(context._allOptions);\n        const props = [...allOptions, ...Object.keys(canvasOptions)];\n        let equalityChecker = () => false;\n        store.registerChangeListener(props, (...params) => {\n            const updateProps = props.every((option, i) => {\n                switch (option) {\n                case ROWS:\n                case COLUMNS:\n                case DETAIL:\n                    equalityChecker = isEqual('Array');\n                    break;\n\n                case SHAPE:\n                case SIZE:\n                case COLOR:\n                case DATA:\n                case CONFIG:\n                    equalityChecker = isEqual('Object');\n                    break;\n                default:\n                    equalityChecker = () => true;\n                    break;\n                }\n                const oldVal = params[i][0];\n                const newVal = params[i][1];\n\n                return equalityChecker(oldVal, newVal);\n            });\n            // inform attached board to rerender\n            !updateProps && dispatchProps(context);\n            context.render();\n        }, true);\n    });\n};\n\nexport const applyInteractionPolicy = (policies, firebolt) => {\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    const valueMatrix = visualGroup.composition().matrices.value;\n    policies.forEach(policy => policy(valueMatrix, firebolt));\n};\n","import {\n    getDataModelFromIdentifiers,\n    FieldType,\n    mergeRecursive\n} from 'muze-utils';\n\nimport { applyInteractionPolicy } from './helper';\n\nconst defaultInteractionPolicy = (valueMatrix, firebolt) => {\n    const isMeasure = field => field.type() === FieldType.MEASURE;\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    const xFields = [].concat(...visualGroup.getFieldsFromChannel('x'));\n    const yFields = [].concat(...visualGroup.getFieldsFromChannel('y'));\n    const colDim = xFields.every(field => field.type() === FieldType.DIMENSION);\n    const fieldInf = visualGroup.resolver().getAllFields();\n    const rowFacets = fieldInf.rowFacets;\n    const colFacets = fieldInf.colFacets;\n    valueMatrix.each((cell) => {\n        const unitFireBolt = cell.valueOf().firebolt();\n\n        if (!(xFields.every(isMeasure) && yFields.every(isMeasure))) {\n            const facetFields = cell.valueOf().facetByFields()[0];\n            const unitColFacets = facetFields.filter(d => colFacets.findIndex(v => v.equals(d)) !== -1);\n            const unitRowFacets = facetFields.filter(d => rowFacets.findIndex(v => v.equals(d)) !== -1);\n            let propFields;\n            if (colDim) {\n                propFields = unitColFacets.map(d => `${d}`);\n            } else {\n                propFields = unitRowFacets.map(d => `${d}`);\n            }\n\n            unitFireBolt.propagateWith('*', propFields, true);\n        }\n    });\n};\n\nconst defaultCrossInteractionPolicy = {\n    behaviours: {\n        '*': (propagationPayload, context) => {\n            const propagationCanvasAlias = propagationPayload.sourceCanvas;\n            const canvasAlias = context.parentAlias();\n            return propagationCanvasAlias ? canvasAlias === propagationCanvasAlias : true;\n        }\n    },\n    sideEffects: {\n        tooltip: (propagationPayload, context) => {\n            const propagationUnit = propagationPayload.sourceUnit;\n            const propagationCanvas = propagationPayload.sourceCanvas;\n            const unitId = context.id();\n            const canvasAlias = context.parentAlias();\n            if (propagationCanvas) {\n                return propagationCanvas !== canvasAlias ? true : unitId === propagationUnit;\n            }\n            return true;\n        }\n    }\n};\n\nexport default class GroupFireBolt {\n    constructor (context) {\n        this.context = context;\n        this._interactionPolicy = this.constructor.defaultInteractionPolicy();\n        this._crossInteractionPolicy = this.constructor.defaultCrossInteractionPolicy();\n        this.context.once('canvas.updated').then(() => {\n            applyInteractionPolicy([this._interactionPolicy], this);\n            const crossInteractionPolicy = this._crossInteractionPolicy;\n            const behaviours = crossInteractionPolicy.behaviours;\n            const sideEffects = crossInteractionPolicy.sideEffects;\n            const visualGroup = context.composition().visualGroup;\n            const valueMatrix = visualGroup.composition().matrices.value;\n            valueMatrix.each((cell) => {\n                const unitFireBolt = cell.valueOf().firebolt();\n                for (const key in behaviours) {\n                    unitFireBolt.changeBehaviourStateOnPropagation(key, behaviours[key]);\n                }\n                for (const key in sideEffects) {\n                    unitFireBolt.changeSideEffectStateOnPropagation(key, sideEffects[key]);\n                }\n            });\n        });\n    }\n\n    static defaultInteractionPolicy () {\n        return defaultInteractionPolicy;\n    }\n\n    static defaultCrossInteractionPolicy () {\n        return defaultCrossInteractionPolicy;\n    }\n\n    interactionPolicy (...policy) {\n        if (policy.length) {\n            this._interactionPolicy = policy[0] || this.constructor.defaultInteractionPolicy();\n            return this;\n        }\n        return this._interactionPolicy;\n    }\n\n    crossInteractionPolicy (...policy) {\n        if (policy.length) {\n            this._crossInteractionPolicy = mergeRecursive(mergeRecursive({},\n                this.constructor.defaultCrossInteractionPolicy()), policy[0] || {});\n            return this;\n        }\n        return this._crossInteractionPolicy;\n    }\n\n    dispatchBehaviour (behaviour, payload) {\n        const propPayload = Object.assign(payload);\n        const criteria = propPayload.criteria;\n        const data = this.context.data();\n\n        propPayload.action = behaviour;\n        const model = getDataModelFromIdentifiers(data, criteria);\n        data.propagate(model, propPayload, {\n            sourceId: this.context.alias()\n        });\n        return this;\n    }\n}\n","import { GridLayout } from '@chartshq/layout';\nimport { transactor, Store, getUniqueId } from 'muze-utils';\nimport { RETINAL } from '../constants';\nimport TransactionSupport from '../transaction-support';\nimport { getRenderDetails, prepareLayout } from './layout-maker';\nimport { localOptions, canvasOptions } from './local-options';\nimport { renderComponents } from './renderer';\nimport GroupFireBolt from './firebolt';\nimport options from '../options';\nimport { initCanvas, setupChangeListener } from './helper';\n\n/**\n * This is the primary class which manages highlevel components like visualGroup, Titles, Legend, Extensions\n * (in future). Global level Muze functionality is subset this. Every time user works with an instance of\n * canvas in dom which provides instance level settings.\n *\n */\nexport default class Canvas extends TransactionSupport {\n\n    /**\n     * Creates reactive property accessors.\n     * - data\n     * - height\n     * - width\n     * - config\n     * This configs are retrieved from options.\n     */\n    constructor (globalDependencies) {\n        super();\n\n        this._allOptions = Object.assign({}, options, localOptions);\n        this._registry = {};\n        this._composition = {};\n        this._cachedProps = {};\n        this._alias = null;\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        this._composition.layout = new GridLayout();\n        this._store = new Store({});\n\n        // Setters and getters will be mounted on this. The object will be mutated.\n        const [, store] = transactor(this, options, this._store.model);\n        transactor(this, localOptions, store);\n        transactor(this, canvasOptions, store);\n        this.dependencies(Object.assign({}, globalDependencies, this._dependencies));\n        this.firebolt(new GroupFireBolt(this));\n        this.alias(`canvas-${getUniqueId()}`);\n        this.title('', {});\n        this.subtitle('', {});\n        this.legend({});\n        this.color({});\n        this.shape({});\n        this.size({});\n        setupChangeListener(this);\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    layout (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().layout;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof Canvas\n     */\n    alias (...params) {\n        if (params.length) {\n            const visualGroup = this.composition().visualGroup;\n            this._alias = params[0];\n            visualGroup && visualGroup.alias(this.alias());\n            return this;\n        }\n        return this._alias;\n    }\n\n    /**\n     * Creates an instance initiated with given settings.\n     *\n     * @param {Object} initialSettings Initial settings to be populated in the model\n     * @param {Object} regEntry newly created instance with the initial settings\n     * @param {Object} globalDependencies dependencies which will be created only once in the page\n     *\n     * @return {Object} newly created instance with the initial settings\n     */\n    static withSettings (initialSettings, regEntry, globalDependencies) {\n        const instance = new Canvas(globalDependencies);\n\n        for (const key in initialSettings) {\n            instance[key](initialSettings[key]);\n        }\n        // set registry for instance\n        instance.registry(regEntry);\n        return instance;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @returns\n     * @memberof Canvas\n     */\n    static formalName () {\n        return 'canvas';\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Registry peoperty accessor\n     *\n     * @param {Object} reg plain old javascript object keyvalue pairs. Key containing module name and value contains\n     * module definition class. The reg object has to be flat object of level 1.\n     */\n    registry (...params) {\n        if (params.length) {\n            const components = Object.assign({}, params[0].components);\n            const componentSubRegistry = Object.assign({}, params[0].componentSubRegistry);\n\n            this._registry = { components, componentSubRegistry };\n            const initedComponents = initCanvas(this);\n            // @todo is it okay to continue this tight behaviour? If not use a resolver to resolve diff component type.\n            this._composition.visualGroup = initedComponents[0];\n\n            this.composition().visualGroup.alias(this.alias());\n            return this;\n        }\n        return this._registry;\n    }\n\n    /*\n     * Prepare dependencies for top level elements\n     */\n    dependencies (...param) {\n        if (param.length) {\n            this._dependencies = param[0];\n            return this;\n        }\n        // @todo prepare dependencies here.\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     * @param {*} lifeCycles\n     * @returns\n     * @memberof Canvas\n     */\n    lifeCycle (lifeCycles) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        if (lifeCycles) {\n            lifeCycleManager.register(lifeCycles);\n            return this;\n        }\n        return lifeCycleManager;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    legend (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().legend;\n    }\n\n    /**\n     *\n     *\n     * @param {*} eventName\n     * @returns\n     * @memberof Canvas\n     */\n    once (eventName) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        return lifeCycleManager.retrieve(eventName);\n    }\n\n    /**\n     * Internal function to trigger render, this method is cognizant of all the properties of the core modules and\n     * establish a passive reactivity. Passive reactivity is not always a bad thing :)\n     * @internal\n     */\n    render () {\n        const mount = this.mount();\n        const visGroup = this.composition().visualGroup;\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        // Get render details including arrangement and measurement\n        const { components, layoutConfig, measurement } = getRenderDetails(this, mount);\n\n        lifeCycleManager.notify({ client: this, action: 'beforedraw' });\n        // Prepare the layout by triggering the matrix calculation\n        prepareLayout(this.layout(), components, layoutConfig, measurement);\n        // Render each component\n        renderComponents(this, components, layoutConfig, measurement);\n        // Update life cycle\n        lifeCycleManager.notify({ client: this, action: 'drawn' });\n        const promises = [];\n        visGroup.matrixInstance().value.each((el) => {\n            promises.push(el.valueOf().done());\n        });\n        Promise.all(promises).then(() => {\n            this._renderedResolve();\n        });\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Canvas\n     */\n    xAxes () {\n        return this.composition().visualGroup.getAxes('x');\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Canvas\n     */\n    yAxes () {\n        return this.composition().visualGroup.getAxes('y');\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Canvas\n     */\n    getRetinalAxes () {\n        const visualGroup = this.composition().visualGroup;\n        return visualGroup.getAxes(RETINAL);\n    }\n}\n","import { cellRegistry, SimpleCell } from '@chartshq/visual-cell';\nimport { VisualUnit } from '@chartshq/visual-unit';\nimport { layerRegistry } from '@chartshq/visual-layer';\nimport { SimpleGroup, VisualGroup } from '@chartshq/visual-group';\n\nexport const COMPONENTS = {\n    VisualGroup,\n    VisualUnit\n};\nexport const SUBREGISTRIES = {\n    cellRegistry,\n    layerRegistry\n};\nexport const INTERFACES = {\n    SimpleGroup,\n    SimpleCell\n};\n\n","import { DEFAULT_LAYERS } from './defaults';\n\nexport default () => {\n    const reg = DEFAULT_LAYERS;\n    const regObj = {\n        set: (key, def) => {\n            reg[key] = def;\n            return regObj;\n        },\n        get: () => reg\n    };\n    return regObj;\n};\n","import {\n    transactor,\n    Smartlabel,\n    enableChainedTransaction,\n    LifeCycleManager,\n    DataModel,\n    makeElement,\n    getClientPoint,\n    selectElement,\n    getEvent,\n    require,\n    DateTimeFormatter\n} from 'muze-utils';\n\nimport {\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    sideEffects,\n    PersistentBehaviour,\n    GenericBehaviour,\n    VolatileBehaviour,\n    behaviouralActions,\n    GenericSideEffect\n} from '@chartshq/muze-firebolt';\nimport { layerFactory } from '@chartshq/visual-layer';\nimport pkg from '../package.json';\nimport * as operators from './operators';\nimport { actionModel as ActionModel } from './action-model';\nimport options from './options';\nimport { Canvas } from './canvas';\nimport { COMPONENTS, SUBREGISTRIES } from './default-registry';\nimport './muze.scss';\n\n// Cache singleton instances which should be included only once in a page\nconst globalCache = {};\nconst defaultRegistry = COMPONENTS;\n\nconst overrideRegistryDefinitions = (overrideRegistry, registry) => {\n    for (const prop in overrideRegistry) {\n        registry.set(prop, overrideRegistry[prop]);\n    }\n};\n\n/**\n * Entry point to renderer. Initializes an environment with settings and registries for canvas. This is a simple wrapper\n * over {@link Canvas} which enables common configuration passing to multiple such canvases.\n *\n * Everytime `muze()` is called it creates an environment. These environment supports subset of APIs of Canvas. If\n * common configuration is used to render multiple canvases then it can be set directly in the env. Like if data is\n * common across all the visulization then its better to set the data in env. When a canvas is created it receives all\n * those configuration from env.\n *\n * ```\n *  // Creates an environment\n *  const env = muze()\n *  // Set data property in environment, so that all the canvas created from the same environment gets this data\n *  // automatically\n *  env.data(dm);\n *  // Creates canvas, by default env pushes data to canvas instance\n *  const canvas = env.canvas();\n * ```\n *\n * If a property is set on both environment and canvas instance, property set on canvas instance gets more priority.\n *\n * @public\n * @module muze\n * @namespace Muze\n *\n * @return {Env} Instance of an environment\n */\nconst muze = () => {\n    // Setters and getters will be mounted on this. Object will be mutated.\n    const [env, globalStore] = transactor({}, options);\n    const components = Object.assign({}, COMPONENTS);\n    const componentSubRegistryDef = Object.assign(SUBREGISTRIES);\n    const componentSubRegistry = {};\n\n    for (const prop in componentSubRegistryDef) {\n        componentSubRegistry[prop] = componentSubRegistryDef[prop]();\n    }\n\n    // Apart form the setter getter, an instance method is injected to create real renderer instances\n    env.canvas = () => {\n        // Create a canvas instance with this settings\n        const settings = globalStore.serialize();\n        const canvas = Canvas.withSettings(settings, { /* registry */\n            components,\n            componentSubRegistry\n        }, env.globalDependencies());\n\n        // Whenever settings is changed canvas is updated\n        enableChainedTransaction(globalStore, canvas, Object.keys(settings));\n\n        return canvas;\n    };\n\n    // Global dependencies for for compositions. Only one copy of the same should be in the page\n    env.globalDependencies = () => {\n        if (!globalCache.smartlabel) {\n            globalCache.smartlabel = new Smartlabel(1, 'body');\n        }\n        return {\n            smartlabel: globalCache.smartlabel,\n            lifeCycleManager: new LifeCycleManager()\n        };\n    };\n\n    // Retrieves global settings. This getter is readonly so that user can't change this as change should happen\n    // only from setter to avoid unwanted sync issues.\n    env.settings = () => globalStore.serialize();\n\n    env.registry = (...overrideRegistry) => {\n        // Selectively copy the properties from COMPONENTS\n        if (overrideRegistry.length) {\n            for (const prop in overrideRegistry) {\n                if (prop in defaultRegistry) {\n                    components[prop] = overrideRegistry[prop];\n                }\n            }\n            return env;\n        }\n        return components;\n    };\n\n    env.cellRegistry = (...overrideRegistry) => {\n        const cellRegistry = componentSubRegistry.cellRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry[0], cellRegistry);\n            return env;\n        }\n        return cellRegistry.get();\n    };\n\n    env.layerRegistry = (...overrideRegistry) => {\n        const layerRegistry = componentSubRegistry.layerRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry[0], layerRegistry);\n            return env;\n        }\n        return layerRegistry.get();\n    };\n\n    return env;\n};\n\nconst SideEffects = {\n    sideEffects,\n    standards: {\n        SurrogateSideEffect,\n        SpawnableSideEffect,\n        GenericSideEffect\n    }\n};\n\nconst Behaviours = {\n    behaviouralActions,\n    standards: {\n        GenericBehaviour,\n        PersistentBehaviour,\n        VolatileBehaviour\n    }\n};\n\nmuze.DataModel = DataModel;\nmuze.pkg = pkg;\nmuze.SideEffects = SideEffects;\nmuze.ActionModel = ActionModel;\nmuze.layerFactory = layerFactory;\nmuze.Operators = operators;\nmuze.Behaviours = Behaviours;\nmuze.utils = {\n    getClientPoint,\n    getEvent,\n    makeElement,\n    selectElement,\n    DateTimeFormatter,\n    require\n};\n\nexport default muze;\n"],"sourceRoot":""}