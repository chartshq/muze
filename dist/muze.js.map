{"version":3,"sources":["webpack://muze/webpack/universalModuleDefinition","webpack://muze/webpack/bootstrap","webpack://muze//Users/adarsh/fusioncharts/charts.com/datamodel/dist/datamodel.js","webpack://muze/(webpack)/buildin/module.js","webpack://muze/./packages/layout/src/enums/constants.js","webpack://muze/./packages/layout/src/generic-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/border-helper.js","webpack://muze/./packages/layout/src/grid-layout/computations.js","webpack://muze/./packages/layout/src/grid-layout/defaults.js","webpack://muze/./packages/layout/src/grid-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/layout-helper.js","webpack://muze/./packages/layout/src/grid-layout/layout.js","webpack://muze/./packages/layout/src/grid-layout/span-maker.js","webpack://muze/./packages/layout/src/grid-layout/view-info-getter.js","webpack://muze/./packages/layout/src/index.js","webpack://muze/./packages/layout/src/tree-layout/constants/defaults.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/data-parser.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/data-point.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/helper.js","webpack://muze/./packages/layout/src/tree-layout/data-adapters/html-data.js","webpack://muze/./packages/layout/src/tree-layout/drawing-manager/helper.js","webpack://muze/./packages/layout/src/tree-layout/drawing-manager/index.js","webpack://muze/./packages/layout/src/tree-layout/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-component/dummy-component.js","webpack://muze/./packages/layout/src/tree-layout/layout-component/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-component/layoutComponent.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/definition-manager/definitionModel.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/definition-manager/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/helper/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/layout-model/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-definition/tree/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-manager/helper.js","webpack://muze/./packages/layout/src/tree-layout/layout-manager/index.js","webpack://muze/./packages/layout/src/tree-layout/layout-manager/layout-def.js","webpack://muze/./packages/layout/src/tree-layout/renderers/html-renderer.js","webpack://muze/./packages/layout/src/tree-layout/renderers/renderer.js","webpack://muze/./packages/layout/src/tree-layout/utils/index.js","webpack://muze/./packages/layout/src/utils/index.js","webpack://muze/./packages/layout/src/visual-matrix/column-matrix.js","webpack://muze/./packages/layout/src/visual-matrix/default-config.js","webpack://muze/./packages/layout/src/visual-matrix/props.js","webpack://muze/./packages/layout/src/visual-matrix/row-matrix.js","webpack://muze/./packages/layout/src/visual-matrix/visual-matrix.js","webpack://muze/./packages/muze-axis/src/axis-renderer.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/band-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/continous-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/default-config.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/helper.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/index.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/index.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/linear.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/log.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/pow.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/props.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/simple-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/skip-ticks.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/space-setter.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/time-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-maps.js","webpack://muze/./packages/muze-axis/src/color-axis/color-strategy.js","webpack://muze/./packages/muze-axis/src/color-axis/defaults.js","webpack://muze/./packages/muze-axis/src/color-axis/index.js","webpack://muze/./packages/muze-axis/src/color-axis/props.js","webpack://muze/./packages/muze-axis/src/data-type-scale-map.js","webpack://muze/./packages/muze-axis/src/enums/axis-orientation.js","webpack://muze/./packages/muze-axis/src/enums/constants.js","webpack://muze/./packages/muze-axis/src/enums/scale-type.js","webpack://muze/./packages/muze-axis/src/helper.js","webpack://muze/./packages/muze-axis/src/index.js","webpack://muze/./packages/muze-axis/src/polar-axis/angle-axis.js","webpack://muze/./packages/muze-axis/src/polar-axis/index.js","webpack://muze/./packages/muze-axis/src/polar-axis/props.js","webpack://muze/./packages/muze-axis/src/polar-axis/radius-axis.js","webpack://muze/./packages/muze-axis/src/scale-creator.js","webpack://muze/./packages/muze-axis/src/shape-axis/defaults.js","webpack://muze/./packages/muze-axis/src/shape-axis/helper.js","webpack://muze/./packages/muze-axis/src/shape-axis/index.js","webpack://muze/./packages/muze-axis/src/shape-axis/props.js","webpack://muze/./packages/muze-axis/src/shape-axis/shape-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/defaults.js","webpack://muze/./packages/muze-axis/src/size-axis/index.js","webpack://muze/./packages/muze-axis/src/size-axis/props.js","webpack://muze/./packages/muze-axis/src/size-axis/size-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/size-strategy.js","webpack://muze/./packages/muze-axis/src/styles.scss?b0fa","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/brush.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/filter.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/generic.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/highlight.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/index.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/persistent.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/select.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/volatile.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/click.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-action-config.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-event.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/hover.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/longtouch.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/selection-box-drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/touch-drag.js","webpack://muze/./packages/muze-firebolt/src/behaviour-effect-map.js","webpack://muze/./packages/muze-firebolt/src/enums/actions.js","webpack://muze/./packages/muze-firebolt/src/enums/behaviours.js","webpack://muze/./packages/muze-firebolt/src/enums/constants.js","webpack://muze/./packages/muze-firebolt/src/enums/selection.js","webpack://muze/./packages/muze-firebolt/src/enums/side-effects.js","webpack://muze/./packages/muze-firebolt/src/enums/tooltip-strategies.js","webpack://muze/./packages/muze-firebolt/src/firebolt.js","webpack://muze/./packages/muze-firebolt/src/helper/index.js","webpack://muze/./packages/muze-firebolt/src/index.js","webpack://muze/./packages/muze-firebolt/src/registry.js","webpack://muze/./packages/muze-firebolt/src/selection-set/index.js","webpack://muze/./packages/muze-firebolt/src/selection-set/selection-set.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/styles.scss?6800","webpack://muze/./packages/muze-firebolt/src/side-effects/axis-labels-highlighter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/axis-labels-highlighter/styles.scss?cc45","webpack://muze/./packages/muze-firebolt/src/side-effects/brush-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/styles.scss?095f","webpack://muze/./packages/muze-firebolt/src/side-effects/filter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/fragmented-tooltip/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/generic-sideeffect.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/props.js","webpack://muze/./packages/muze-firebolt/src/side-effects/helper/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/persistent-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/helper.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/strategy.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/helper.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/styles.scss?349c","webpack://muze/./packages/muze-firebolt/src/side-effects/spawnable.js","webpack://muze/./packages/muze-firebolt/src/side-effects/surrogate.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/strategies.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/styles.scss?85a3","webpack://muze/./packages/muze-legend/src/enums/actions.js","webpack://muze/./packages/muze-legend/src/enums/behaviours.js","webpack://muze/./packages/muze-legend/src/enums/constants.js","webpack://muze/./packages/muze-legend/src/enums/side-effects.js","webpack://muze/./packages/muze-legend/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behaviour-effect-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/index.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/select.js","webpack://muze/./packages/muze-legend/src/firebolt/helper.js","webpack://muze/./packages/muze-legend/src/firebolt/legend-firebolt.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/click.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/drag.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/hover.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/index.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/selection-box-drag.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/strategies.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-marker/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-marker/styles.scss?4683","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/styles.scss?7269","webpack://muze/./packages/muze-legend/src/index.js","webpack://muze/./packages/muze-legend/src/legend/defaults.js","webpack://muze/./packages/muze-legend/src/legend/discrete-legend.js","webpack://muze/./packages/muze-legend/src/legend/gradient-helper.js","webpack://muze/./packages/muze-legend/src/legend/gradient-legend.js","webpack://muze/./packages/muze-legend/src/legend/index.js","webpack://muze/./packages/muze-legend/src/legend/legend-helper.js","webpack://muze/./packages/muze-legend/src/legend/position-config.js","webpack://muze/./packages/muze-legend/src/legend/props.js","webpack://muze/./packages/muze-legend/src/legend/renderer.js","webpack://muze/./packages/muze-legend/src/legend/simple-legend.js","webpack://muze/./packages/muze-legend/src/legend/step-legend.js","webpack://muze/./packages/muze-legend/src/styles.scss?316f","webpack://muze/./packages/muze-tooltip/src/constants.js","webpack://muze/./packages/muze-tooltip/src/content.js","webpack://muze/./packages/muze-tooltip/src/default-config.js","webpack://muze/./packages/muze-tooltip/src/helper.js","webpack://muze/./packages/muze-tooltip/src/index.js","webpack://muze/./packages/muze-tooltip/src/styles.scss?0a01","webpack://muze/./packages/muze-tooltip/src/tooltip.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisect.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisector.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/deviation.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/extent.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/histogram.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/max.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/mean.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/median.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/min.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/pairs.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/permute.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/range.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/scan.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/shuffle.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/sum.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/freedmanDiaconis.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/scott.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/sturges.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ticks.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/transpose.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/variance.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/zip.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/axis.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/entries.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/keys.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/map.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/nest.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/set.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/values.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/define.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/drag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/event.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/nodrag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/noevent.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/back.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/bounce.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/cubic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/elastic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/exp.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/poly.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/quad.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/sin.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/exponent.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatDecimal.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatGroup.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatNumerals.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatPrefixAuto.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatRounded.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatSpecifier.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTrim.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTypes.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionFixed.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionPrefix.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionRound.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/date.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/discrete.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hcl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hsl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hue.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/object.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/piecewise.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/rgb.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/round.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/string.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/decompose.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/parse.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/value.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/zoom.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/path.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/ramp.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/band.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20b.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20c.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/continuous.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/log.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/nice.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/ordinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/pow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/sequential.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/threshold.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/tickFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/time.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/utcTime.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/create.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/creator.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/local.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/matcher.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/mouse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespace.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespaces.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/append.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/call.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/classed.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/clone.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/data.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/datum.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/each.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/empty.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/enter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/exit.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/html.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/insert.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/join.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/lower.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/node.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/nodes.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/order.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/property.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/raise.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/size.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sort.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sparse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selector.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectorAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/sourceEvent.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touches.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/window.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/arc.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/area.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/areaRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/bundle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRom.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linearClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/monotone.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/natural.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/radial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/step.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/line.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/lineRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/link/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/noop.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/diverging.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/expand.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/silhouette.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/wiggle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/appearance.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/insideOut.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/reverse.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pie.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pointRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/stack.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/diamond.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/square.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/star.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/triangle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/wye.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoParse.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/day.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/hour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/millisecond.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/minute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/month.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/second.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcDay.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcHour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMinute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMonth.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcWeek.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcYear.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/week.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/year.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timeout.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timer.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/active.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attrTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/delay.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/ease.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/end.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/interpolate.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/schedule.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selection.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/styleTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/tween.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Beach.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Cell.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Diagram.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Edge.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/RedBlackTree.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/voronoi.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/SmartlabelManager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/container-manager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/lib.js","webpack://muze/./packages/muze-utils/node_modules/hyperdis/dist/hyperdis.js","webpack://muze/./packages/muze-utils/src/DataSystem/dataSelect.js","webpack://muze/./packages/muze-utils/src/DataSystem/index.js","webpack://muze/./packages/muze-utils/src/DataSystem/selection.js","webpack://muze/./packages/muze-utils/src/color-schemes.js","webpack://muze/./packages/muze-utils/src/common-utils.js","webpack://muze/./packages/muze-utils/src/enums/common-props.js","webpack://muze/./packages/muze-utils/src/enums/constants.js","webpack://muze/./packages/muze-utils/src/enums/index.js","webpack://muze/./packages/muze-utils/src/enums/namespace.js","webpack://muze/./packages/muze-utils/src/enums/reserved-fields.js","webpack://muze/./packages/muze-utils/src/enums/stack-config.js","webpack://muze/./packages/muze-utils/src/index.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/event-list.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/helper.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/index.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/lifecycle-manager.js","webpack://muze/./packages/muze-utils/src/quick-select.js","webpack://muze/./packages/muze-utils/src/r-tree.js","webpack://muze/./packages/muze-utils/src/renderer-utils.js","webpack://muze/./packages/muze-utils/src/scales.js","webpack://muze/./packages/muze-utils/src/store.js","webpack://muze/./packages/muze/src/action-model.js","webpack://muze/./packages/muze/src/border-applier.scss?09b3","webpack://muze/./packages/muze/src/canvas/app-state.js","webpack://muze/./packages/muze/src/canvas/canvas.js","webpack://muze/./packages/muze/src/canvas/component-resolver.js","webpack://muze/./packages/muze/src/canvas/component-wrapper-maker.js","webpack://muze/./packages/muze/src/canvas/components/grid-component.js","webpack://muze/./packages/muze/src/canvas/components/headerComponent.js","webpack://muze/./packages/muze/src/canvas/components/legendComponent.js","webpack://muze/./packages/muze/src/canvas/components/matrix-component.js","webpack://muze/./packages/muze/src/canvas/components/message-component.js","webpack://muze/./packages/muze/src/canvas/components/message-icon.js","webpack://muze/./packages/muze/src/canvas/components/muze-chart-component.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/helper.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/horizontal-scroll-maker.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/props.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/scroll-bar.scss?30e7","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/scroll-maker.js","webpack://muze/./packages/muze/src/canvas/components/scroll-bar-maker/vertical-scroll-maker.js","webpack://muze/./packages/muze/src/canvas/components/scroll-component.js","webpack://muze/./packages/muze/src/canvas/defaults.js","webpack://muze/./packages/muze/src/canvas/firebolt/group-firebolt.js","webpack://muze/./packages/muze/src/canvas/firebolt/helper.js","webpack://muze/./packages/muze/src/canvas/firebolt/index.js","webpack://muze/./packages/muze/src/canvas/helper.js","webpack://muze/./packages/muze/src/canvas/index.js","webpack://muze/./packages/muze/src/canvas/layout-maker.js","webpack://muze/./packages/muze/src/canvas/legend-maker.js","webpack://muze/./packages/muze/src/canvas/local-options.js","webpack://muze/./packages/muze/src/canvas/scroll-manager.js","webpack://muze/./packages/muze/src/canvas/title-maker.js","webpack://muze/./packages/muze/src/constants.js","webpack://muze/./packages/muze/src/default-registry.js","webpack://muze/./packages/muze/src/defaults.js","webpack://muze/./packages/muze/src/enums/constants.js","webpack://muze/./packages/muze/src/index.js","webpack://muze/./packages/muze/src/muze.js","webpack://muze/./packages/muze/src/muze.scss?77df","webpack://muze/./packages/muze/src/operators.js","webpack://muze/./packages/muze/src/options.js","webpack://muze/./packages/muze/src/transaction-support.js","webpack://muze/./packages/transform/src/enums/transform-type.js","webpack://muze/./packages/transform/src/group-transform/index.js","webpack://muze/./packages/transform/src/identity-transform/index.js","webpack://muze/./packages/transform/src/index.js","webpack://muze/./packages/transform/src/stack-transform/index.js","webpack://muze/./packages/transform/src/transform-factory/index.js","webpack://muze/./packages/visual-cell/src/axis-cell.js","webpack://muze/./packages/visual-cell/src/blank-cell.js","webpack://muze/./packages/visual-cell/src/cell-registry.js","webpack://muze/./packages/visual-cell/src/constants.js","webpack://muze/./packages/visual-cell/src/defaults.js","webpack://muze/./packages/visual-cell/src/enums/cell-type.js","webpack://muze/./packages/visual-cell/src/enums/constants.js","webpack://muze/./packages/visual-cell/src/enums/defaults.js","webpack://muze/./packages/visual-cell/src/geom-cell.js","webpack://muze/./packages/visual-cell/src/index.js","webpack://muze/./packages/visual-cell/src/props.js","webpack://muze/./packages/visual-cell/src/simple-cell.js","webpack://muze/./packages/visual-cell/src/text-cell-helper.js","webpack://muze/./packages/visual-cell/src/text-cell.js","webpack://muze/./packages/visual-cell/src/text-cell.scss?3bbc","webpack://muze/./packages/visual-group/src/data-type-scale-map.js","webpack://muze/./packages/visual-group/src/encoder/cartesian-encoder.js","webpack://muze/./packages/visual-group/src/encoder/encoder-helper.js","webpack://muze/./packages/visual-group/src/encoder/field-sanitizer.js","webpack://muze/./packages/visual-group/src/encoder/index.js","webpack://muze/./packages/visual-group/src/encoder/polar-encoder.js","webpack://muze/./packages/visual-group/src/encoder/props.js","webpack://muze/./packages/visual-group/src/encoder/retinal-encoder.js","webpack://muze/./packages/visual-group/src/encoder/visual-encoder.js","webpack://muze/./packages/visual-group/src/enums/constants.js","webpack://muze/./packages/visual-group/src/enums/defaults.js","webpack://muze/./packages/visual-group/src/enums/scale-maps.js","webpack://muze/./packages/visual-group/src/group-helper/cell-border-applier.js","webpack://muze/./packages/visual-group/src/group-helper/cell-creator.js","webpack://muze/./packages/visual-group/src/group-helper/group-utils.js","webpack://muze/./packages/visual-group/src/group-helper/index.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-model.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-resolver.js","webpack://muze/./packages/visual-group/src/group-helper/resolver-props.js","webpack://muze/./packages/visual-group/src/index.js","webpack://muze/./packages/visual-group/src/simple-group/index.js","webpack://muze/./packages/visual-group/src/simple-group/simple-group.js","webpack://muze/./packages/visual-group/src/variable/composed-vars.js","webpack://muze/./packages/visual-group/src/variable/index.js","webpack://muze/./packages/visual-group/src/variable/simple-var.js","webpack://muze/./packages/visual-group/src/variable/variable.js","webpack://muze/./packages/visual-group/src/visual-group/change-listener.js","webpack://muze/./packages/visual-group/src/visual-group/helper.js","webpack://muze/./packages/visual-group/src/visual-group/index.js","webpack://muze/./packages/visual-group/src/visual-group/local-options.js","webpack://muze/./packages/visual-group/src/visual-group/props.js","webpack://muze/./packages/visual-group/src/visual-group/value-matrix.js","webpack://muze/./packages/visual-group/src/visual-group/visual-group.js","webpack://muze/./packages/visual-layer/src/base-layer/base-layer.js","webpack://muze/./packages/visual-layer/src/base-layer/base-mixin.js","webpack://muze/./packages/visual-layer/src/base-layer/helper.js","webpack://muze/./packages/visual-layer/src/base-layer/index.js","webpack://muze/./packages/visual-layer/src/base-layer/listener-map.js","webpack://muze/./packages/visual-layer/src/base-layer/local-options.js","webpack://muze/./packages/visual-layer/src/base-layer/props.js","webpack://muze/./packages/visual-layer/src/defaults.js","webpack://muze/./packages/visual-layer/src/enums/constants.js","webpack://muze/./packages/visual-layer/src/enums/index.js","webpack://muze/./packages/visual-layer/src/enums/layer-types.js","webpack://muze/./packages/visual-layer/src/enums/props.js","webpack://muze/./packages/visual-layer/src/helpers/index.js","webpack://muze/./packages/visual-layer/src/index.js","webpack://muze/./packages/visual-layer/src/layer-factory/index.js","webpack://muze/./packages/visual-layer/src/layer-factory/layer-factory.js","webpack://muze/./packages/visual-layer/src/layer-registry.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc-helper.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc-mixin.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc.js","webpack://muze/./packages/visual-layer/src/layers/arc/default-config.js","webpack://muze/./packages/visual-layer/src/layers/arc/index.js","webpack://muze/./packages/visual-layer/src/layers/arc/styles.scss?52c5","webpack://muze/./packages/visual-layer/src/layers/area/area-mixin.js","webpack://muze/./packages/visual-layer/src/layers/area/area.js","webpack://muze/./packages/visual-layer/src/layers/area/default-config.js","webpack://muze/./packages/visual-layer/src/layers/area/index.js","webpack://muze/./packages/visual-layer/src/layers/area/renderer.js","webpack://muze/./packages/visual-layer/src/layers/area/styles.scss?f319","webpack://muze/./packages/visual-layer/src/layers/bar/bar-helper.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar-mixin.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar.js","webpack://muze/./packages/visual-layer/src/layers/bar/default-config.js","webpack://muze/./packages/visual-layer/src/layers/bar/index.js","webpack://muze/./packages/visual-layer/src/layers/bar/renderer.js","webpack://muze/./packages/visual-layer/src/layers/bar/styles.scss?cbaf","webpack://muze/./packages/visual-layer/src/layers/line/default-config.js","webpack://muze/./packages/visual-layer/src/layers/line/index.js","webpack://muze/./packages/visual-layer/src/layers/line/line-mixin.js","webpack://muze/./packages/visual-layer/src/layers/line/line.js","webpack://muze/./packages/visual-layer/src/layers/line/renderer.js","webpack://muze/./packages/visual-layer/src/layers/line/styles.scss?44e7","webpack://muze/./packages/visual-layer/src/layers/point/default-config.js","webpack://muze/./packages/visual-layer/src/layers/point/helper.js","webpack://muze/./packages/visual-layer/src/layers/point/index.js","webpack://muze/./packages/visual-layer/src/layers/point/point-mixin.js","webpack://muze/./packages/visual-layer/src/layers/point/point.js","webpack://muze/./packages/visual-layer/src/layers/point/renderer.js","webpack://muze/./packages/visual-layer/src/layers/point/styles.scss?9e1b","webpack://muze/./packages/visual-layer/src/layers/text/default-config.js","webpack://muze/./packages/visual-layer/src/layers/text/index.js","webpack://muze/./packages/visual-layer/src/layers/text/renderer.js","webpack://muze/./packages/visual-layer/src/layers/text/styles.scss?3671","webpack://muze/./packages/visual-layer/src/layers/text/text-mixin.js","webpack://muze/./packages/visual-layer/src/layers/text/text.js","webpack://muze/./packages/visual-layer/src/layers/tick/default-config.js","webpack://muze/./packages/visual-layer/src/layers/tick/helper.js","webpack://muze/./packages/visual-layer/src/layers/tick/index.js","webpack://muze/./packages/visual-layer/src/layers/tick/renderer.js","webpack://muze/./packages/visual-layer/src/layers/tick/styles.scss?dba8","webpack://muze/./packages/visual-layer/src/layers/tick/tick-mixin.js","webpack://muze/./packages/visual-layer/src/layers/tick/tick.js","webpack://muze/./packages/visual-layer/src/simple-layer/index.js","webpack://muze/./packages/visual-layer/src/simple-layer/simple-layer.js","webpack://muze/./packages/visual-unit/src/default-config.js","webpack://muze/./packages/visual-unit/src/enums/behaviours.js","webpack://muze/./packages/visual-unit/src/enums/constants.js","webpack://muze/./packages/visual-unit/src/enums/index.js","webpack://muze/./packages/visual-unit/src/enums/reactive-props.js","webpack://muze/./packages/visual-unit/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/visual-unit/src/firebolt/behaviours/brush.js","webpack://muze/./packages/visual-unit/src/firebolt/behaviours/pseudo-select.js","webpack://muze/./packages/visual-unit/src/firebolt/helper.js","webpack://muze/./packages/visual-unit/src/firebolt/index.js","webpack://muze/./packages/visual-unit/src/firebolt/payload-generator.js","webpack://muze/./packages/visual-unit/src/helper/grid-lines.js","webpack://muze/./packages/visual-unit/src/helper/index.js","webpack://muze/./packages/visual-unit/src/index.js","webpack://muze/./packages/visual-unit/src/listener-map.js","webpack://muze/./packages/visual-unit/src/local-options.js","webpack://muze/./packages/visual-unit/src/props.js","webpack://muze/./packages/visual-unit/src/styles.scss?509e","webpack://muze/./packages/visual-unit/src/visual-unit.js"],"names":["e","t","exports","module","define","window","n","r","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","prototype","hasOwnProperty","p","s","JSON","parse","u","f","Me","xe","Le","ot","v","a","kn","Dn","Tn","Fn","Nn","Rn","Pn","Cn","FLAT_JSON","DSV_STR","DSV_ARR","AUTO","CATEGORICAL","TEMPORAL","BINNED","CONTINUOUS","MEASURE","DIMENSION","NORMAL","INVERSE","ALL","SUM","AVG","MIN","MAX","FIRST","LAST","COUNT","STD","Date","h","format","dtParams","nativeDate","RegExp","escape","replace","TOKEN_PREFIX","DATETIME_PARAM_SEQUENCE","YEAR","MONTH","DAY","HOUR","MINUTE","SECOND","MILLISECOND","defaultNumberParser","isFinite","parseInt","defaultRangeParser","toLowerCase","length","getTokenDefinitions","H","name","index","extract","parser","formatter","getHours","toString","P","M","getMinutes","S","getSeconds","K","getMilliseconds","join","getDay","A","getDate","b","getMonth","B","y","substring","Math","trunc","getFullYear","Y","getTokenFormalNames","HOUR_12","AMPM_UPPERCASE","AMPM_LOWERCASE","SHORT_DAY","LONG_DAY","DAY_OF_MONTH","DAY_OF_MONTH_CONSTANT_WIDTH","SHORT_MONTH","LONG_MONTH","MONTH_OF_YEAR","SHORT_YEAR","LONG_YEAR","tokenResolver","arguments","findTokens","keys","indexOf","push","token","formatAs","String","extractTokenValue","noBreak","splice","apply","checkIfOnlyYear","unshift","map","match","shift","getNativeDate","Number","Function","concat","Array","isArray","from","forEach","iterator","constructor","g","_","w","O","E","j","getTime","round","random","k","D","data","createNamespace","fields","fieldsObj","_cachedFieldsObj","getMeasure","_cachedMeasure","schema","type","getDimension","_cachedDimension","T","configurable","writable","key","F","TypeError","_n","defineProperties","_value","_formattedValue","_internalValue","field","N","split","R","assign","_invalidAwareValsMap","invalidAwareVals","NULL","NA","NIL","invalid","nil","undefined","C","next","done","I","x","floor","start","end","U","L","SELECT","PROJECT","GROUPBY","COMPOSE","CAL_VAR","BIN","SORT","V","CROSS","LEFTOUTER","RIGHTOUTER","NATURAL","FULLOUTER","J","G","getFieldspace","Error","_rowDiffset","partialField","rawValue","formattedValue","formattedData","Bt","detachedRoot","Sn","z","W","X","q","Z","Map","has","set","$","label","reduce","Q","sn","slice","ee","te","ne","filter","findIndex","uids","pop","re","addUid","columnWise","ie","_colIdentifier","sort","ae","oe","ue","ce","fe","le","se","pe","de","he","ve","ye","me","isNaN","be","min","max","sqrt","pow","ge","_e","we","Oe","store","entries","__unregister","Ee","je","Ae","defaultReducer","defAggFn","resolve","__calculateFieldspace","xn","Se","internalValue","ke","De","Te","Fe","Ne","_sanitize","Re","Pe","rowDiffset","subtype","description","displayName","_params","_context","fieldName","build","Ce","ReferenceError","__proto__","getPrototypeOf","setPrototypeOf","_cachedDomain","calculateDataDomain","Ie","unit","numberFormat","Ue","Ve","Be","isInvalid","getInvalidType","trim","Ye","He","Set","add","Je","Ge","_dtf","ze","POSITIVE_INFINITY","NEGATIVE_INFINITY","Ke","We","_cachedMinDiff","Xe","qe","parseFloat","Ze","$e","bins","Qe","et","tt","nt","rt","it","_fieldType","at","registerFieldType","ut","BUILDER","ct","dataFormat","ft","lt","_type","st","pt","dt","ht","vt","yt","stringify","mt","bt","gt","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","_t","charCodeAt","test","columns","parseRows","formatBody","formatRows","formatRow","formatValue","wt","firstRowHeader","Ot","fieldSeparator","Et","jt","At","St","kt","Dt","Tt","Ft","FlatJSON","DSVStr","DSVArr","Nt","Rt","Pt","Ct","Mt","It","converters","_getDefaultConverters","xt","Ut","Lt","Vt","Yt","Ht","_derivation","op","meta","criteria","Jt","_ancestorDerivation","Gt","zt","diffIndex","calcDiff","Kt","Wt","rejectRowDiffset","Xt","splitRowDiffset","dimensionMap","qt","mode","_partialFieldspace","_cachedValueObjects","Zt","clone","getPartialFieldspace","calculateFieldsConfig","$t","Qt","en","some","tn","nn","rn","operation","filterByDim","filterByMeasure","getFieldsConfig","identifiers","range","def","every","select","saveChild","an","config","on","projField","actualProjField","un","cn","fn","ln","convert","as","_dataFormat","pn","getDerivations","groupByString","params","dn","_parent","find","hn","vn","yn","propagationNameSpace","propagateToSource","sourceId","model","groupedModel","values","mutableActions","filterFn","applyOnSource","action","models","path","propagationSource","excludeModels","sourceIdentifiers","propagationSourceId","reverse","handlePropagation","_children","mn","immutableActions","propConfig","filterImmutableAction","groupByModel","bn","isMutableAction","gn","search","wn","On","_fieldStoreName","_propagationNameSpace","_fieldspace","setParent","_fieldConfig","removeChild","En","jn","An","_onPropagation","order","withUid","getAllFields","fill","fieldsArr","getData","replaceVar","addField","payload","buckets","binsCount","binSize","domain","ceil","abs","binnedData","measureFieldName","binFieldName","serialize","getSchema","sum","avg","first","last","count","std","Mn","compose","dispose","bin","project","groupBy","calculateVariable","crossProduct","difference","naturalJoin","leftOuterJoin","rightOuterJoin","fullOuterJoin","union","rowDiffsetIterator","In","version","Operators","Stats","DM_DERIVATIVES","DateTimeFormatter","DataFormat","FilteringMode","InvalidAwareTypes","DataConverter","FieldsUtility","webpackPolyfill","deprecate","paths","children","VIEW_INDEX","top","center","bottom","ROW_MATRIX_INDEX","COLUMN_MATRIX_INDEX","GRID_WIDTH","GRID_HEIGHT","BORDER","ROW_POINTER","COLUMN_POINTER","ROW_SIZE_IS_EQUAL","COLUMN_SIZE_IS_EQUAL","COLUMN_WIDTHS","ROW_HEIGHTS","LEFT_MATRIX_WIDTH","RIGHT_MATRIX_WIDTH","TOP_MATRIX_HEIGHT","BOTTOM_MATRIX_HEIGHT","MOUNT_POINT","LEFT_TABLE_ID","RIGHT_TABLE_ID","TOP_TABLE_ID","BOTTOM_TABLE_ID","CENTER_TABLE_ID","TOP_DIV_ID","BOTTOM_DIV_ID","CENTER_DIV_ID","HAVE_ROWS_CHANGED","HAVE_COLUMNS_CHANGED","HAVE_VALUES_CHANGED","ROW_MATRIX_WIDTH","COLUMN_MATRIX_HEIGHT","UNIT_WIDTH","UNIT_HEIGHT","STYLE","COLOR","WIDTH","COLLAPSE","SPACING","DISTRIBUTION","GUTTERSPACE","BREAK_PAGE","SHOW_ROW_BORDERS","SHOW_COL_BORDERS","SHOW_VALUE_BORDERS","HEIGHT","COLUMN","ROW","TOP","LEFT","RIGHT","BOTTOM","CENTER","CLICK","ROW_LEFT","ROW_RIGHT","COLUMN_BOTTOM","COLUMN_TOP","ROW_SPAN","COL_SPAN","ROW_ROOT","COLUMN_ROOT","PRIMARY","SECONDARY","VERTICAL","HORIZONTAL","GRID","BLANK_BORDERS","PAGINATION","BUFFER","HOLISTIC","SCROLL","MIDDLE","NO_BORDERS","MAX_WIDTH_AVAIL_FOR_COL_MATRIX","COLUMN_MATRIX","MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX","ROW_MATRIX","GenericLayout","mountPoint","measurement","dependencies","_config","_measurement","_matrices","_dependencies","matrices","mergeRecursive","border","width","sanitizeIP","typeObj","matrix","_rowMatrix","_columnMatrix","_centerMatrix","_mountPoint","borderMap","isFacet","showHeaders","applySpecificBorder","borderWidth","borderStyle","cells","color","style","specificBorderApplier","borderTypes","showBorders","borderInfo","borderType","borderApplier","showRowBorders","showColBorders","showValueBorders","applyBorders","row","column","borderApplierFn","borderMapVal","getMatrixMeasurement","getLogicalSpace","setMatrixMeasurement","spaces","setAvailableSpace","height","widths","heights","rIdx","placeholder","cIdx","setViewSpaces","layout","pointerType","viewSpaces","pointer","paginationDetailsMap","maxMeasure","measureType","scrollType","getMatrixMeasureForPagination","measureDetails","buffer","pagination","actualMeasure","scrollInfo","paginationMeasureGetter","matrixType","relatedMaxMeasure","getMatrixWidthDetails","rowMatrix","rowMatrixWidth","maxRowMatrixWidth","maxWidthAvailableForColumnMatrix","columnMatrixWidth","getHeightRequiredByColMatrix","columnMatrix","maxColumnMatrixHeight","columnViewPages","getViewableSpaces","columnViewSpace","columnPointer","columnMatrixHeight","primary","secondary","getMatrixHeightDetails","maxHeightAvailableForRowMatrix","rowMatrixHeight","setValueMatrixMeasurements","rowViewableSpaces","columnViewableSpaces","centerMatrix","rowHeights","rowWidthsPrimary","columnWidths","rowWidthsSecondary","columnHeightsPrimary","columnHeightsSecondary","bufferCondition","isScroll","getBufferFromCondition","currentBufferType","getActualBufferFromConfig","horizontalBuffer","verticalBuffer","computeLayoutMeasurements","DEFAULT_CONFIGURATION","FieldNames","rows","DEFAULT_MEASUREMENTS","generateVisualMatrices","context","leftMatrix","rightMatrix","topMatrix","bottomMatrix","begColCells","endColCells","isRowSizeEqual","isColumnSizeEqual","gutterSpace","distribution","breakPage","priority","minUnitHeight","minUnitWidth","topLeft","topColumns","topRight","leftRows","valueMatrix","rightRows","bottomLeft","bottomColumns","bottomRight","RowMatrix","isDistributionEqual","gutter","unitMeasures","extraCellLengths","ColumnMatrix","isTransposed","col","GridLayout","defaultConfig","_layoutId","getUniqueId","_scrollInfo","horizontal","vertical","setViewInformation","pageNumber","pageType","viewInfo","viewMatricesInfo","totalPages","renderGrid","currentPage","_viewInfo","maxRowHeight","maxColWidth","rowPointer","getViewMatrices","layoutDimensions","getViewMeasurements","viewHeight","viewWidth","columnPages","rowPages","defaultMeasurement","orderMaker","arr","nestByStack","stack","updateArr","optionalParams","keyFn","currStack","prevStack","newArr","arrVal","stackVal","currElemIndex","newElem","arrElem","returnArr","spanCalculator","colData","colIdx","conditions","isNull","maskCreator","val","valueOf","viewMatrix","cell","colIndex","hierarchy","rowIndex","spanGenerator","spans","ridx","currSpan","getOrder","matrixSpanGeneratorMap","orderGetter","viewMatrixMaker","spanMaker","matrixSpanGenerator","generator","cellSpanMaker","spaceAllocationDueToSpan","span","availHeight","availWidth","unitWidths","dimensions","selectElement","primaryUnitWidth","cumulativeWidth","spanApplier","cellCounter","attr","spanApplierMap","applySpans","applier","rowMatrices","getViewableMatrices","columnMatrices","centralMatrixPointer","primaryMatrix","secondaryMatrix","rowMatrixLen","columnMatrixLen","measureSum","measureArr","total","measure","rowSpaces","colSpaces","leftWidth","rightWidth","topHeight","bottomHeight","centerHeight","centerWidth","actualCenterMeasures","totalMeasures","unitHeights","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_CLASS_NAME","DEFAULT_CONFIG","classPrefix","NODE_PREFIX","DataParser","_data","nodepoints","getnodePoints","DataPoint","node","_node","_className","host","LayoutComponent","className","datapoint","child","HTMLDataAdapter","getChildNode","renderer","createAndPositionDiv","findNode","nodeID","coordinates","point","id","renderHTML","HTMLRenderer","createhtml","mount","drawLayout","drawComponent","componentData","draw","removeElement","elemID","remove","setAlignConfig","alignment","newNodeConfig","refNode","left","resolveAligment","component","alignWith","componentToAlign","componentMap","boundBox","renderAt","setSpatialConfig","DrawingManager","container","tree","_componentMap","_layoutClassName","layoutClassName","_renderer","_mount","Utils","isDOMElement","getElement","param","DummyComponent","conf","newDimensions","componentName","document","getElementById","seed","_seed","_boundBox","_renderAt","_alignWith","_alignment","_target","_position","_componentName","DefinitionModel","_host","_cut","cut","_ratioWeight","ratioWeight","_preferred","preferred","_lanes","lanes","_remainingHeight","_remainingWidth","remainingHeight","remainingWidth","DefinitionManager","sequence","totalHeight","totalWidth","_prioritySequence","_totalHeight","_totalWidth","_targetComponentMap","prepareTargetComponentMap","canvasComponent","definitionModel","tempDefModel","componentRef","getComponent","placeComponent","second","placeGridComponent","isEqual","compareTo","getNodeId","_uid","yExtraSpace","smallestHeight","getCutType","smallestExtraHeightHorizontally","containerHeight","hostHeight","MAX_SAFE_INTEGER","xExtraSpace","smallestWidth","smallestExtraWidthVertically","containerWidth","hostWidth","determineBoundBox","bb","instance","lastSibling","_top","_left","_height","_width","parentCut","parent","targetComponentMap","target","temp","comp","createPlaceHolderComponent","position","isPreferred","isGridComponent","componentRatioWidth","leftOvercomponentRationWidth","leftHeight","componentHeight","componentWidth","firstLaneConfig","firstLane","secondLaneConfig","secondLane","gridComponents","acc","iscolumnPreffered","columnPlaceHolderComponent","rowpreffred","negotiateDimension","cumultiveExtraSpaceAmt","alteredDim","nonAlteredDim","childrenLength","extraSpaceAmt","computePosition","allocateBoundingBox","totalWeight","carry","ratio","LayoutModel","measurements","_measurements","_root","createTree","setBoundBox","Node","addChildren","lane","setHostSpatialConfig","setHostPosition","_model","_parentCut","_id","bound","nodeconfig","searchNode","childNode","nodeId","deleteSearchNode","sanitizeConfig","hostObj","hostID","childHost","calLayOutDef","dimension","defManager","layoutDef","prioritySequence","genLayoutdef","generateConfigModel","LayoutManager","_dimension","_skeletonType","skeletonType","_layoutDefinition","_layoutDef","LayoutDef","_drawingManager","_rootNodeID","addComponent","componentArray","addMultipleComponent","con","resetNode","updateNode","compute","_layout","layoutDefinition","sanitizedDefinition","negotiate","broadcast","layoutComponents","resetComponentMap","componentArr","compo","elementName","deleteElementId","co","deleteElement","clear","_coordinates","getCoordinates","mainDiv","parentDiv","createAndCustomiseParent","hasHost","appendChild","existingDiv","div","createElement","findContainer","Renderer","__logicalTree","element","Element","coordinate","divId","nest","Symbols","getMeasureInfo","firstMeasure","secondMeasure","findInPage","page","combineMatrices","joinedMatrix","rowData","matrixTree","lastLevelKey","facet","nestFn","layoutMatrix","_layoutMatrix","keyLength","counter","primaryMatrixLength","newMatrix","getMinMeasures","item","measures","minMeasures","firstMeasureValue","secondMeasureValue","valueArray","fMeasure","sMeasure","space","minSecondMeasure","computeLogicalSpace","maxMeasures","logicalSpace","valueItem","spaceTakenByRow","spaceTakenByColumn","createMatrixEachLevel","eachLevel","breakMatrix","breakPointer","columnIndex","getDistributedWidth","layoutConfig","availableWidth","distSum","distWidth","rowLen","getDistributedHeight","gutterSum","heightWithoutGutter","availableHeight","colLen","distHeight","extraCellsRemover","beg","createMatrixInstances","depth","matrixInfo","_breakPointer","brokenMatrix","nextLevel","ColumnVisualMatrix","_tree","_logicalSpace","maxHeights","maxWidths","viewableMatrix","matrixInst","cellDimOptions","matrixIndex","getCellDimensions","heightMeasures","columnMeasures","begCellLen","endCellLen","heightDist","divider","condition","widthMeasures","availableSpace","mWidth","mHeight","options","redistributeViewSpaces","computeViewableSpaces","rHeights","_lastLevelKey","cWidths","oldLogicalSpace","heightDistribution","getPriorityDistribution","colHeight","colWidth","VisualMatrix","PROPS","sanitization","RowVisualMatrix","remainingAvailWidth","maxPrioritySpace","currentWidth","maxWidth","dist","prioritySpace","logicalWidths","_primaryMatrix","_secondaryMatrix","_maxMeasures","_availableSpace","generateGetterSetters","defCon","ERROR_MSG","INTERFACE_IMPL","populateMaxMeasures","calculateDepth","createViewPortMatrix","viewableMeasures","redistributeSpaces","childDepth","removeExtraCells","rotateAxis","tickText","labelManager","rotation","axis","renderConfig","smartTicks","scale","labelFunc","ticks","quantile","orientation","fixedBaseline","labels","tickSize","getTickSize","each","yShift","xShift","datum","text","tickLabelDim","getOriSize","quadrant","rotationNormalizer","sin","angleToRadian","AxisOrientation","LINEAR","changeTickOrientation","selectContainer","axisInstance","_smartTicks","isSmartTicks","selectAll","tspan","makeElement","lines","transition","duration","registerAnimationDoneHook","oriTextHeight","setFixedBaseline","showInnerTicks","setAxisNamePos","textNode","axisNameHeight","renderAxis","show","xOffset","yOffset","showAxisName","smartAxisName","axisNamePadding","labelProps","tickLabelStyle","_tickLabelStyle","axisTickFormatter","_tickFormatter","setStyle","tickValues","tickFormat","axisComponentDimensions","largestTickDimensions","classed","HIDDEN","labelOffset","BandAxis","smartlabel","padding","maxTickSpaces","noWrap","getRotatedSpaces","paddingNormalized","tickFormatter","useEllipsesOnOverflow","getSmartText","textToLines","calculateBandSpace","setOffset","valueParser","formatTickValue","bandwidth","showOuterTicks","tickSizeInner","tickSizeOuter","v1","v2","invertExtent","extent","p1","p2","BAND","SimpleAxis","interpolatorMap","LOG","LogInterpolator","POW","PowInterpolator","LinearInterpolator","ContinousAxis","base","interpolator","exponent","InterpolatorCls","_interpolator","createScale","nice","domainVal","getScaleValue","sanitizeDomain","getValidDomain","setContinousAxisDomain","setAxisComponentDimensions","_domain","newTickValues","getTickValues","smartLabel","tickSpace","labelDim","getNumberOfTicks","getSmallestDiff","tickTransform","adjustRange","axisName","defClassName","CLASSPREFIX","numberOfTicks","rotate","defaultSort","rotatedHeight","rotatedWidth","angle","PI","cos","numberOfValues","tickLength","minTickDistance","_minTickDistance","MIN_NO_OF_TICKS","DEFAULT_NO_OF_TICKS","getAxisComponentDimensions","largestTick","smartTick","axisTicks","allTickDimensions","originalLabel","getFormattedText","tickDimensions","_axisNameStyle","axisNameDimensions","computeAxisDimensions","labelHeight","labelWidth","getHorizontalAxisSpace","axisDimensions","axisDimHeight","tickDimHeight","tickDimWidth","minTickDiff","getMinTickDifference","getVerticalAxisSpace","getAxisDimensions","largestDimHeight","minTickWidth","calculateContinousSpace","axisNameWidth","axisWidth","effHeight","userDom","defaultValue","hasAxesConfigChanged","obj","obj1","properties","resetTickInterval","isOffset","minDiff","_minDiff","applyTickSkipping","noOfTicks","right","tickInterval","adjustedRange","getAdjustedRange","setAxisRange","setTickConfig","getSmartAxisName","oriSize","scaleFactory","scaleMap","linear","_scale","sanitizeDomainWhenEqual","log","oldConfig","mockedOldConfig","shouldAxesScaleUpdate","sanitizeTickFormatter","_axis","createAxis","resetRenderConfig","_renderConfig","_maxTickSpaces","_range","_domainLock","_axisDimensions","simpleConfig","bodyElem","getSmartComputedStyle","_minTickSpace","_animationDonePromises","domainValue","axisClass","axisOrientationMap","labelConfig","spaceSetter","setSmartAxisName","dimType","widthDim","invert","Promise","all","resolveFn","promise","tickData","allTicks","elementToBeModified","elementNotToBeModified","tickValue","_getRawTickValue","selectionSet","rejectionSet","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","longestWord","month","quarter","halfYearly","year","day","hour","mintues","seconds","week","tickIntervals","timeMillisecond","timeSecond","timeMinute","timeHour","timeDay","timeWeek","timeMonth","timeYear","getActualTickInterval","minWidthBetweenTicks","actualTickInterval","getTickIntervalBasedOnCurrentLevel","longestWordType","getTickIntervalFnBasedOnNumberOfTicks","interval","possibleTickLevelIndex","maxPossibleTicks","tickIntervalLevelInfo","tickIntervalInfo","numOfPossibleTicks","maxTickInterval","getSkippedTicks","actualNumberOfTicks","millisecondInterval","numOfTicksAccordingToMinDiff","minTickSpace","maxTicks","adjustHorizontalRange","diff","adjustVerticalRange","rangeAdjustmentMap","rangeBounds","offset","getAxisOffset","timeDiff","avWidth","pvr","bars","barWidth","spaceConfig","heightForTicks","namePadding","minTickHeight","TIME","tickShifter","widthForTicks","baseline","totalTickWidth","TimeAxis","Infinity","rawTicks","ColorAxis","_domainType","CONTINOUS","DISCRETE","_rangeType","step","_schemeType","getSchemeType","_colorStrategy","setColorStrategy","updateDomain","colorStrategy","getScheme","domainType","rangeType","schemeType","strategyGetter","hslColorArray","getHslString","getRawColor","uniqueValues","lastIndexOf","rgbToHsv","domainRangeFn","domainRange","scaleType","scaleInfo","stops","originalDomain","originalRange","uniqueVals","scaleDomain","ORDINAL","newRange","_linearScale","len","rangeVal","transformationArr","newH","newS","newL","newA","hsla","getActualHslColor","x11Colors","Pink","hex","rgb","LightPink","HotPink","DeepPink","PaleVioletRed","MediumVioletRed","LightSalmon","Salmon","DarkSalmon","LightCoral","IndianRed","Crimson","FireBrick","DarkRed","Red","OrangeRed","Tomato","Coral","DarkOrange","Orange","Gold","Yellow","LightYellow","LemonChiffon","LightGoldenrodYellow","PapayaWhip","Moccasin","PeachPuff","PaleGoldenrod","Khaki","DarkKhaki","Cornsilk","BlanchedAlmond","Bisque","NavajoWhite","Wheat","BurlyWood","Tan","RosyBrown","SandyBrown","Goldenrod","DarkGoldenrod","Peru","Chocolate","SaddleBrown","Sienna","Brown","Maroon","DarkOliveGreen","Olive","OliveDrab","YellowGreen","LimeGreen","Lime","LawnGreen","Chartreuse","GreenYellow","SpringGreen","MediumSpringGreen","LightGreen","PaleGreen","DarkSeaGreen","MediumSeaGreen","SeaGreen","ForestGreen","Green","DarkGreen","MediumAquamarine","Aqua","Cyan","LightCyan","PaleTurquoise","Aquamarine","Turquoise","MediumTurquoise","DarkTurquoise","LightSeaGreen","CadetBlue","DarkCyan","Teal","LightSteelBlue","PowderBlue","LightBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","CornflowerBlue","SteelBlue","RoyalBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","Lavender","Thistle","Plum","Violet","Orchid","Fuchsia","Magenta","MediumOrchid","MediumPurple","BlueViolet","DarkViolet","DarkOrchid","DarkMagenta","Purple","Indigo","DarkSlateBlue","SlateBlue","MediumSlateBlue","White","Snow","Honeydew","MintCream","Azure","AliceBlue","GhostWhite","WhiteSmoke","Seashell","Beige","OldLace","FloralWhite","Ivory","AntiqueWhite","Linen","LavenderBlush","MistyRose","Gainsboro","LightGray","Silver","DarkGrey","Grey","DimGrey","LightSlateGrey","SlateGrey","DarkSlateGrey","Black","getStops","newStops","getReadableTicks","rangeStops","newStopsLength","maxRangeLength","piecewiseInterpolator","hslInterpolator","indexedDomain","retDomain","indexedDomainMeasure","normalDomain","steppedDomain","continousSteppedDomain","hslRange","uniqueRange","numVal","indexedRange","treatNullMeasures","normalRange","strategies","SEQUENTIAL","QUANTILE","palette","DEFAULT_GRADIENT_COLOR","hslArr","convertToXllString","baseString","charAt","toUpperCase","paletteColor","detectColor","HSL","HSLA","HEX","hexToHsv","RGB","newConfig","DATA_TYPES","dataTypeScaleMap","ScaleType","axisLeft","axisBottom","axisRight","axisTop","THRESHOLD","QUANTIZE","SHAPE","SIZE","DOMAIN","NUMBER","DEFAULT_ANGLE_DOMAIN","IDENTITY","scaledVal","minDomainScaledVal","resolveAxisConfig","propVal","defaultVal","getObjProp","sanitiseConfigIntervals","intervals","pie","createAngleValues","angleData","_angleFn","startAngle","endAngle","_angleValues","AngleAxis","sortValues","strategy","padAngle","customDomain","customRange","preset","adjustDomain","minOuterRadius","RadiusAxis","_radiusFactor","radius","sanitizedRange","scaleLinear","scales","scaleThreshold","scaleLog","scalePow","scaleIdentity","scaleOrdinal","scaleSequential","scaleQuantize","scaleQuantile","schemeCategory10","schemeCategory20","schemeCategory20b","scaleBand","scaleTime","SCHEMES","SCHEME1","SCHEME2","SCHEME3","scheme","colorSchemes","updateScaleRange","getScaleType","steps","shapeGenerator","generatorFn","generatedShapes","ShapeAxis","_generatedShapes","shapeType","getSymbol","_userRange","SizeAxis","_sizeStrategy","setStrategy","sizeVal","domainFn","domainInfo","newIntervals","discreteRange","numberInterpolator","pieceWiseRange","BrushBehaviour","BEHAVIOURNAMES","VolatileBehaviour","FilterBehaviour","FILTER","getIdentifiersFromSet","GenericBehaviour","firebolt","_enabled","formalName","selectionSets","getSelectionSets","getAddSetFromCriteria","getPropagationInf","filteredDataModel","_payload","setSelectionSet","_volatile","propagationIdentifiers","entryExitSet","getSets","entrySet","exitSet","completeSet","propagationInf","_entryExitSet","getSetInfo","mergedEnter","getMergedSet","_fields","mergedExit","getSourceFields","setFields","setKeys","ReservedFields","ROW_ID","aggFns","retrieveNearestGroupByReducers","propData","fieldsConfig","propagationFields","_propagationFields","resetted","isSimpleObject","partition","DimensionSubtype","MEASURE_NAMES","otherFields","allFields","keepDims","getRangeFromIdentifiers","_propagationIdentifiers","HighlightBehaviour","HIGHLIGHT","PersistentBehaviour","addSet","reset","existingAddSet","_set","SELECTION","updateExit","update","updateEntry","SelectBehaviour","SELECTION_NEW_ENTRY","SELECTION_OLD_ENTRY","mergedExitSet","completeSetCount","getCompleteSet","click","targetEl","dispatchBehaviour","args","event","getEvent","generatePayloadFromEvent","triggerPhysicalAction","ACTION_NAMES","stopPropagation","drag","attachDragEvent","dragCriteriaRetriever","COORD_TYPES","CARTESIAN","sourceInfo","startPos","endPos","ranges","getRangeFromPositions","POLAR","getDragActionConfig","getSourceInfo","coordType","coord","touch","drawingInf","d3Drag","getD3Drag","touchStart","getDrawingContext","newStartPos","newEndPos","dragging","dragDiff","dragEnd","hideSelBox","pos","getClientPoint","svgContainer","touches","nearestPoint","getNearestPoint","showInPosition","hover","tooltipConf","interaction","tooltip","getAllPoints","physicalActions","longtouch","touchdrag","selectionBoxDrag","touchEnd","setTimeout","subject","onDrag","ACTIONS","SELECTIONDRAG","dx","dy","y2","x2","behaviours","nullDataTooltipMap","area","arc","line","bar","tick","applySideEffectOnEmptyTarget","sideEffect","layers","showTooltipOnEmptyTarget","layerName","behaviourEffectMap","BEHAVIOURS","setTransform","_actions","behavioural","brush","active","selectEntrySet","getEntryExitSet","brushEntrySet","unionedSet","unionSets","highlightUids","intersect","SIDE_EFFECTS","DRAG","HOVER","LONGTOUCH","TOUCHDRAG","ALL_ACTIONS","BRUSH","TOOLTIP","CONSOLIDATED","FRAGMENTED","UNDEFINED","SELECTION_NEW_EXIT","SELECTION_NULL","SELECTION_OLD_EXIT","ANCHORS","BRUSH_ANCHORS","PERSISTENT_ANCHORS","HIGHLIGHTER","CROSSLINE","FRAGMENTED_TOOLTIP","AXIS_LABEL_HIGHLIGHTER","SELECTION_SUMMARY","HIGHLIGHT_SUMMARY","cloneObj","cloned","clonedVal","getKeysFromCriteria","_metaData","dimensionsMap","dimArr","dm","getDataModelFromRange","FieldType","dimKey","Firebolt","actions","sideEffects","_sideEffectDefinitions","_sideEffects","_propagationInf","_sourceSelectionSet","physical","_selectionSet","_volatileSelectionSet","_sideEffectPolicies","_propagationBehaviourMap","_behaviourPolicies","_actionBehaviourMap","_behaviourEffectMap","_actionHistory","_queuedSideEffects","_handlers","_payloadGenerators","_payloads","mapSideEffects","registerBehaviouralActions","registerSideEffects","registerPhysicalBehaviouralMap","physicalBehaviouralMap","registerPhysicalActions","setSideEffectConfig","behEffectMap","preventDefaultActions","effectNames","effects","effect","initializeBehaviouralActions","prepareSelectionSets","initializeSideEffects","sideEffectStore","actionHistory","queuedSideEffects","combinedSet","mergeSelectionSets","sideEffectInstance","isEnabled","mutates","dispatchSideEffect","behaviour","propagationInfo","sanitizePayload","propagate","behaviouralActions","getSideEffects","dispatch","shouldApplySideEffects","applicableSideEffects","getApplicableSideEffects","applySideEffects","sourceSelectionSet","behaviourConditions","sideEffectConditions","changeSideEffectAvailability","physicalAction","actionBehaviourMap","behaviourMap","mapActionsAndBehaviour","dataModel","handler","onDataModelPropagation","unsubscribe","propValue","uniqueIds","volatileSelectionSet","SelectionSet","sideEffectDefinitions","initedActions","initializePhysicalActions","append","phyAction","initedPhysicalActions","mapObj","getDefaultTargetContainer","hasTouch","bindActionWithBehaviour","registerPhysicalActionHandlers","targets","behaviourList","nodes","empty","applicableSelectionSets","_resetted","handlers","genericHandlers","allHandlers","namespace","onPhysicalAction","beh","defaultFn","__default","sideEffectsMap","SideEffect","sideEffectConf","dispatchableBehaviours","Action","toEnable","change","enable","disable","sourceFields","found","uidSet","existingModel","unique","isEmpty","intersectSets","commonSet","convertToObj","comps","registry","componentRegistry","_uidMap","_measureNames","_dimVals","uid","measureNames","dims","_completeSetCount","_lockedSelection","_fieldIndices","ids","uidMap","retObj","dimVals","fieldIndices","measureNamesArr","removeSet","updateSet","raw","addLayer","layerRegistry","layerDefs","layerDef","mark","layerCls","shouldDrawAnchors","depLayerEncoding","encoding","size","defaultSizeValue","commonName","layerOwner","defaultClassName","groupId","transform","calculateDomain","getTransitionConfig","source","interactive","owner","AnchorEffect","_layersMap","addAnchorLayers","disabled","upperAnchors","layer","lowerAnchors","targetObj","layerConfig","linkedLayer","getLayerByName","linkedLayerName","isUpperAnchor","transformedData","getTransformedDataFromIdentifiers","dmMultipleSelection","dmFromPayload","transformedDataModel","DataModel","anchorSizeConfig","getAnchorSizeOnInteraction","getAnchorStroke","dataObj","matchingData","SpawnableSideEffect","AxisLabelHighLighter","selectedData","selectedDataValues","axes","fieldMeta","selData","getTicksBasedOnData","selectedElements","SurrogateSideEffect","BrushAnchors","anchorLayers","anchor","getUids","defaultInteractionLayerEncoding","applyInteractionStyle","Crossline","bandWidth","px","bandClass","lineClass","drawingContext","isEmptyDataModel","hide","sourceInf","axisFields","sideEffectGroup","elemData","fieldIndex","dataArr","axisIndex","fieldInst","getMembers","getUnitWidth","crossline","plotWidth","getPlotSpan","pad","getPlotPadding","startPx","endPx","dataPoint","parentGroup","elem","FilterEffect","entryModel","clearCaching","resetData","enableCaching","FragmentedTooltip","props","tooltips","_tooltips","dataModels","xFieldDim","showVertically","boxes","enter","plotDim","getPlotPointsFromIdentifiers","getBBox","tooltipInst","tooltipBoundBox","_tooltipContainer","getBoundingClientRect","content","getContents","spaceOutBoxes","box","repositionArrow","_strategy","Tooltip","GenericSideEffect","_strategies","plotPointsFromIdentifiers","_sourceInfo","_layers","_plotPointsFromIdentifiers","spaceOutIfOverlap","firstBox","secondBox","opposite","PersistentAnchors","getFormattedSet","selectedPointsId","intersection","formattedSet","highlightSelectIntersection","highlightEntrySet","intersectSet","PlotHighlighter","excludeSet","selectedPoints","selectedPointsIds","currentStrategy","excludeSetIds","getExcludeSetIds","totalSet","fadeFn","interactionType","fadeOnBrushFn","fade","fadeOnBrush","focus","getPayload","actualPoint","getUidsFromPayload","highlight","currentHighlightedSet","diffSet","pseudoFocus","getBoxDimensionsFromPayload","x1","y1","xRange","yRange","xDim","yDim","xAxis","yAxis","xLinear","yLinear","xField","yField","xCriteria","yCriteria","bandScale","x1Val","x2Val","x1DomainIndex","x2DomainIndex","y1Val","y2Val","y1DomainIndex","y2DomainIndex","direction","changeVisibility","visible","SelectionBox","boxConf","unitWidth","unitHeight","selectionGroupClassName","persistent","points","selectionGroup","selection","selectionBox","merge","attrs","isValidValue","boxClassName","getQualifiedClassName","elemType","callbacks","_drawingContext","allLayers","layerFields","filteredUids","styles","configResolvers","specificConf","strategyObj","sanitizedConf","createTooltip","_contents","positionRelativeTo","targetFields","indices","tooltipPos","projectFields","dataTransform","strategyFn","layoutContainer","parentContainer","parentContainerDimensions","layoutBoundBox","unitBoundBox","htmlContainer","offsetLeft","offsetTop","TooltipRenderer","detailFields","timeDiffs","highlightSummary","selectionSummary","GROUP_BY_FUNCTIONS","FIRST_VALUE_MARGIN","STACK","SINGLE_DATA_MARGIN","defNumberFormat","toFixed","formatters","formatTemporal","MeasureSubtype","getTabularData","fieldInf","fieldObj","isSingleValue","dataLen","stackedSum","getStackedKeyValue","getKeyValue","margin","isSelected","removeKey","isStackedBar","stackedValue","keyObj","valueObj","stackedValueObj","getStackedSum","isStackedChart","transformType","isStackedBarChart","BAR","generateRetinalFieldsValues","valueArr","retinalFields","dimensionMeasureMap","separator","colorAxis","shapeAxis","shape","sizeAxis","REF_VALUES_INDEX","REF_KEYS_INDEX","retField","retIndex","retinalFieldValue","measuresArr","icon","getColor","getShape","formattedRetinalValue","hasMultipleMeasures","selectedContext","measureIndex","dName","formatterFn","currentMeasureValue","keyValue","getFieldInf","defFormatter","inf","nf","retrieveFieldDisplayName","buildTooltipData","nestedDataObj","fieldValues","fieldspace","showStackSum","selectedMeasures","containsDetailField","displayFormat","TABLE_FORMAT","filteredDimensions","dim","allMeasures","isStacked","filteredMeasures","nestCollection","generateTooltipContent","nestedData","len2","getAggregatedValues","dimsMap","aggMeasures","aggregatedValues","groupedDm","dmFields","showMultipleMeasures","entryUids","fieldsConf","rowValues","IDFIELD","CONFIG","DATAMODEL","AXES","LAYERDEFS","MAXWIDTH","MOUNTPOINT","GRIDLINEPARENTGROUPCLASS","TRANSFORM","DEFAULTCOLOR","DEFAULTSIZE","VERTICAL_BUFFER","HORIZONTAL_BUFFER","DEFAULTICONSIZE","circle","square","DEFAULTSHAPE","STEP","GRADIENT","SCALE_FUNCTIONS","VALUE","PATH","ICON","RECT","START","UPPER","LOWER","END","DEFAULT","POSITION_ALIGNMENT_MAP","OPPOSITE_POSITION","SELECTIONBOX","Highlighter","Marker","propagationBehaviourMap","propagationSideEffects","existingRemoveSet","metaData","propPayload","sourceCanvas","canvasAlias","payloadGenerator","selectionDataModel","LegendFireBolt","behaviourName","payloadFn","isActionSourceSame","getCriteriaFromData","boundingBox","gradientDimensions","axisType","align","axisScale","rangeShifter","ACTIONNAMES","getSelectionCriteria","selectionBoxMeasure","drawingInfMeasure","subjectStartPoint","getMousePos","sourceEvent","fadeOut","LegendHighlighter","brighten","SYMBOL_PADDING","AXIS_STROKE","MARKER_BUFFER","createTextCell","labelManagerRef","TextCell","maxLines","_minTickDiff","getRelativePosition","canvas","legendContainer","LegendMarker","_graphicElements","markerElement","legendmarkerTextContainer","legendmarkerText","legendConfig","legendScale","pointerTextFormatter","marker","legendGradContainer","isFractional","lableConfig","labelText","_canvasMount","oriTextWidth","rotateAngle","LEGEND_MARKER_PROPS","ROTATE_HORIZONTAL","ROTATE_VERTICAL","legendmarkerGroup","textElement","_cells","render","_graphicElems","rect","gradientDimension","legendSelGroup","enterFn","el","selBox","ALIGN","DEFAULT_MEASUREMENT","maxHeight","marginHorizontal","paddingRight","LEGEND_TITLE","borderColor","bounds","lower","upper","tempConfig","ITEM_FORMATTER","STEP_DEFAULT_CONFIG","ICON_MAP","DiscreteLegend","getScaleInfo","scaleFn","domainForLegend","ele","rawVal","nextVal","minimumConsecutiveDifference","localeCompare","createLegendSkeleton","legendItem","createItemSkeleton","itemSkeleton","renderDiscreteItem","allSelections","classList","contains","SimpleLegend","getGradientDomain","accumulator","currentValue","MAX_VALUE","MIN_VALUE","makeLinearGradient","defs","linearGradient","AxisCell","newAxis","_computedStyle","_labelManager","legendGradSvg","legendGradCont","legendRect","renderGradient","gradHeight","gradWidth","titleSpaces","maxItemSpaces","markerSize","markerWithBuffer","applyStyle","_legendGradientSvg","GradientLegend","scaleParams","getInterpolatedArrayData","getInterpolatedData","getScaleFactor","effPadding","axisSpace","axisDomainLength","labelSpaces","getcomputedArray","computationhelper","requiredMeasure","availableMeasure","currentTickValue","nextTickValue","upperBound","measureParam","smartLabelCalc","pixelPerTick","requiredWidth","requiredHeight","maxTickDiff","minimumTickSize","isInteger","recomputeSteps","getTickMeasure","titleCreator","title","textAlign","titleWidth","titleContainer","getMaxMeasures","prop","getItemMeasures","computeItemSpaces","titleHeight","textOrientation","itemSpaces","iconSpaces","maxIconWidth","labelSpace","itemSpace","iconSpace","newLabelWidth","getDomainBounds","domainBounds","domainLeg","prepareSelectionSetData","fieldType","calculateTitleWidth","localBuffer","cur","legendOrientation","datasets","itemContainerMeasures","getStepSpacesInfo","iconHeight","iconWidth","stepPadding","positionConfig","alignmentMap","stepData","itemStack","onset","attachPropagationListener","resetLogicalSpace","commit","_title","getItemContainers","legendInstance","positionObj","maxGradHeight","maxGradWidth","legendBody","alignClass","applyItemStyle","stepColorCheck","checkPath","str","createShape","defaultIcon","groupElement","defaultIconSize","then","res","newShape","cloneNode","nodeName","src","href","createElementNS","setAttribute","shapeElement","pathStr","getLegendIcon","renderIcon","svg","transalate","group","marginHorizontalBuffer","marginVerticalBuffer","renderStepItem","interactions","_fieldName","_firebolt","legendBehaviours","_canvasAlias","effBorder","effMargin","dataFromScale","titleSpace","getTitleSpace","getLabelSpaces","marginPosition","widthBox","renderTitle","createSelectionSet","idRangeMap","info","canvasRoot","StepLegend","isFraction","numRight","stepItemBuffer","ARROW_RIGHT","ARROW_TOP","ARROW_BOTTOM","ARROW_LEFT","TOOLTIP_LEFT","TOOLTIP_RIGHT","TOOLTIP_BOTTOM","TOOLTIP_TOP","INITIAL_STYLE","Content","_formatter","ctx","iconContainerSize","rowMargin","mountHtmlTooltip","html","body","table","tbody","setStyles","display","setAttrs","parentClassName","connectorClassName","spacing","iconScale","iconShape","iconColor","arrow","reorderContainers","connectorContainer","contentClass","_container","_contentContainer","_tooltipConnectorContainer","qualifiedClassName","addClass","defConf","contentConfig","specificClass","contentConf","_orientation","outsidePlot","offsetHeight","offsetWidth","connector","_offset","_extent","contentContainer","topSpace","dimX","rightSpace","leftSpace","bottomSpace","arrowSize","tooltipHeight","tooltipWidth","positionHorizontal","positionVal","positionVertical","hMax","getMaxPoint","vMax","array","NaN","ascendingBisect","bisector","ascending","bisectRight","bisectLeft","compare","ascendingComparator","lo","hi","mid","values0","values1","n0","n1","i0","i1","value0","pair","variance","valueof","identity","threshold","sturges","histogram","xz","x0","tz","tickStep","bisect","constant","thresholds","number","numbers","arrays","merged","pairs","indexes","permutes","value1","stop","xi","xj","deviation","LN2","e10","e5","e2","tickIncrement","power","LN10","error","step0","step1","transpose","mean","delta","epsilon","translateX","translateY","entering","__axis","orient","tickArguments","tickPadding","range0","range1","copy","tickExit","exit","tickEnter","insert","getAttribute","parentNode","prefix","property","object","sortKeys","rollup","createResult","setResult","valuesByKey","result","sortKey","createObject","setObject","createMap","setMap","proto","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","channels","displayable","color_formatHex","formatHex","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","exec","Rgb","rgbn","rgba","rgbConvert","opacity","extend","rgb_formatHex","rgb_formatRgb","Hsl","hsl","m2","m1","hsl2rgb","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","atan2","rad2deg","cubehelix","deg2rad","cosh","sinh","factory","definition","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","noop","Dispatch","parseTypenames","typenames","types","typename","callback","that","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","touchable","gestures","listeners","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","view","mousemoved","mouseupped","nodrag","nopropagation","clientX","clientY","noevent","yesdrag","changedTouches","identifier","clearTimeout","sublisteners","customEvent","DragEvent","p0","clickDistance","root","documentElement","__noselect","MozUserSelect","noclick","stopImmediatePropagation","preventDefault","overshoot","backIn","custom","backOut","backInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","circleIn","circleOut","circleInOut","cubicIn","cubicOut","cubicInOut","tau","amplitude","period","elasticIn","asin","elasticOut","elasticInOut","expIn","expOut","expInOut","polyIn","polyOut","polyInOut","quadIn","quadOut","quadInOut","pi","halfPi","sinIn","sinOut","sinInOut","locale","formatPrefix","defaultLocale","decimal","thousands","grouping","currency","minus","formatLocale","formatDecimal","toExponential","coefficient","numerals","prefixExponent","formatSpecifier","specifier","FormatSpecifier","sign","symbol","zero","comma","precision","out","toPrecision","formatRounded","formatPrefixAuto","prefixes","formatGroup","currencyPrefix","currencySuffix","formatNumerals","percent","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","nb","na","basis","v0","v3","exponential","hue","gamma","nogamma","cubehelixGamma","colorCubehelix","cubehelixLong","setTime","colorHcl","hclLong","colorHsl","hslLong","colorLab","piecewise","interpolate","samples","rgbGamma","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","reA","reB","one","bi","lastIndex","am","bm","bs","degrees","skewX","scaleX","scaleY","atan","interpolateTransform","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","interpolateTransformCss","parseCss","interpolateTransformSvg","parseSvg","cssNode","cssRoot","cssView","svgNode","defaultView","getComputedStyle","getPropertyValue","decompose","baseVal","consolidate","string","date","rho","SQRT2","rho2","rho4","epsilon2","exp","tanh","ux0","uy0","w0","ux1","uy1","w1","d2","d1","r0","r1","coshr0","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","a0","a1","ccw","cw","da","ramp","interpolateRgbBasis","interpolateCubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","band","ordinal","unknown","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","hiIndex","getClosestIndexOf","pointish","side","low","arrLen","high","highVal","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","polymap","clamp","continuous","interpolateValue","output","input","interpolateRound","linearish","pow10","powp","logp","log10","log2","reflect","logs","pows","implicit","raise","quantiles","quantize","rainbow","sequential","precisionPrefix","precisionRound","precisionFixed","calendar","minute","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","timeFormat","utcYear","utcMonth","utcWeek","utcDay","utcHour","utcMinute","utcSecond","utcMillisecond","utcFormat","UTC","creator","creatorInherit","ownerDocument","uri","namespaceURI","xhtml","creatorFixed","fullname","local","nextId","Local","selector","matches","namespaces","xlink","xml","xmlns","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","Selection","querySelector","querySelectorAll","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","classArray","ClassList","_names","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_cloneShallow","insertBefore","nextSibling","selection_cloneDeep","deep","keyPrefix","bindIndex","groupLength","dataLength","__data__","EnterNode","bindKey","nodeByKeyValue","keyValues","parents","_parents","groups","_groups","enterGroup","updateGroup","exitGroup","previous","_next","_enter","_exit","dispatchEvent","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","sparse","matcher","subgroups","subgroup","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","selection_dispatch","constantNull","before","onenter","onupdate","onexit","previousSibling","firstChild","groups0","groups1","m0","merges","group0","group1","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","propertyRemove","propertyConstant","propertyFunction","subnode","selectorAll","compareNode","sortgroups","sortgroup","styleRemove","removeProperty","styleConstant","setProperty","styleFunction","styleValue","textRemove","textContent","textConstant","textFunction","none","current","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","pointX","pointY","defined","curve","curveLinear","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","curveRadialLinear","lineStartAngle","lineRadial","lineEndAngle","lineInnerRadius","lineOuterRadius","curveRadial","_curve","Basis","_line","_point","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","Linear","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","py","Radial","radial","Step","stepBefore","stepAfter","linkSource","linkTarget","link","argv","curveHorizontal","curveVertical","pointRadial","p3","linkHorizontal","linkVertical","linkRadial","series","yp","s2","si","sij0","sij1","s3","sk","skj0","skj1","peaks","peak","vi","vj","sums","appearance","tops","bottoms","descending","arcs","pa","stackValue","orderNone","offsetNone","kz","sz","oz","ki","sij","symbols","cross","diamond","star","triangle","wye","tan30","tan30_2","ka","kr","kx","ky","sqrt3","timeParse","utcParse","dateTime","time","periods","days","shortDays","months","shortMonths","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","localDate","setFullYear","utcDate","setUTCFullYear","newYear","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","pads","newParse","newDate","parseSpecifier","getUTCDay","utcMonday","timeMonday","numberRe","percentRe","requoteRe","requote","timeSunday","timeThursday","getTimezoneOffset","dow","utcSunday","utcThursday","setHours","setDate","hours","newInterval","floori","offseti","milliseconds","minutes","setMonth","setUTCHours","setUTCDate","utcDays","setUTCMinutes","utcHours","setUTCSeconds","utcMinutes","setUTCMonth","utcMonths","utcWeekday","utcTuesday","utcWednesday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcYears","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","years","delay","Timer","restart","now","elapsed","frame","timeout","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","_call","_time","timer","sleep","timerFlush","wake","nap","poke","clearInterval","setInterval","schedules","__transition","schedule","state","SCHEDULED","Transition","STARTING","ENDING","ENDED","interrupt","selection_interrupt","selection_transition","defaultTiming","ease","easeCubicInOut","inherit","timing","_name","newId","string00","string1","interpolate0","string0","string10","attrTween","tweenValue","attrInterpolate","attrInterpolateNS","attrTweenNS","tween","delayFunction","init","delayConstant","durationFunction","durationConstant","easeConstant","on0","on1","reject","cancel","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","styleTween","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","transition_end","interpolateNumber","interpolateRgb","interpolateString","onFunction","sit","removeFunction","emptyOn","emptyTween","CREATED","STARTED","RUNNING","self","styleNull","styleMaybeRemove","listener0","styleInterpolate","id0","id1","tweenRemove","tween0","tween1","tweenFunction","beachPool","Beach","RedBlackNode","edge","site","createBeach","beach","detachBeach","detachCircle","beaches","removeBeach","vertex","disappearing","lArc","rArc","nArcs","iArc","setEdgeEnd","createEdge","attachCircle","addBeach","directrix","dxl","dxr","leftBreakPoint","rightBreakPoint","createCell","newArc","lSite","rSite","hb","hc","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","halfedges","cellHalfedgeAngle","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","edges","clipCells","nCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","cover","createBorderEdge","dc","v00","v01","v11","v10","circlePool","firstCircle","Circle","cSite","ha","circles","triangleArea","lexicographic","Diagram","sites","RedBlackTree","clipEdges","polygons","polygon","triangles","e1","links","_found","vx","vy","clipEdge","connectEdge","lx","ly","rx","ry","fx","fy","fm","fb","after","grandpa","uncle","RedBlackFirst","RedBlackRotateLeft","RedBlackRotateRight","sibling","voronoi","_interopRequireDefault","_lib","require","_lib2","_containerManager","_containerManager2","slLib","doc","win","BLANK","htmlSplCharSpace","documentSupport","getDocumentSupport","SVG_BBOX_CORRECTION","isWebKit","SmartLabelManager","useEllipses","wrapper","prevInstance","isBrowserLess","maxCacheLimit","maxDefaultCacheLimit","createContainer","testStrAvg","isHeadLess","isIE","parentContainerStyle","_showNoEllipses","_init","_calCharDimWithCache","calculateDifference","csArr","tw","twi","cachedStyle","asymmetricDifference","maxAdvancedCacheLimit","cache","_advancedCache","advancedCacheKey","_advancedCacheKey","cacheName","fontSize","fontFamily","fontWeight","fontStyle","cacheInitName","repeat","_getWidthFn","contObj","_containerObj","svgText","bbox","sCont","_styleNotSet","setLineHeight","_cache","charCache","_lineHeight","lineHeight","trimStr","tempArr","tmpText","maxWidthWithEll","toolText","oriWidth","oriHeight","newCharIndex","nearestChar","tempChar","getWidth","initialLeft","initialTop","getOriSizeImproveObj","spanArr","minWidth","chr","elemRightMostPoint","elemLowestPoint","lastBR","removeFromIndex","removeFromIndexForEllipses","hasHTMLTag","maxStrWidth","lastDash","lastSpace","lastIndexBroken","strWidth","strHeight","oriTextArr","ellipsesStr","ellipsesWidth","dotWidth","characterArr","dashIndex","spaceIndex","lastLineBreak","fastTrim","ws","oriText","isTruncated","xmlTagRegEx","ltgtRegex","substr","getNearestBreakIndex","detailObj","tooltext","spanAdditionRegx","spanAdditionReplacer","classNameWithTag","classNameWithTagBR","childRetriverFn","childRetriverString","noClassTesting","classNameReg","spaceIdx","dashIdx","classNameBrReg","spanRemovalRegx","detailedCalculationFlag","textArr","letter","lSize","cumulativeSize","indiSizeStore","ContainerManager","maxContainers","containers","rootNode","svgRoot","containerObj","keyStr","supportedStyle","prev","removeContainer","addContainer","avgCharWidth","hasSVG","cObj","lib","nav","userAgent","DIV","containerInstanceCount","clsNameSpace","containerClass","brReplaceRegex","whiteSpace","overflow","font","getElementsByClassName","opera","Boolean","SVGAngle","implementation","hasFeature","containerParent","getElementsByTagName","sl","charLen","increment","avgWidth","styleObj","fSize","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","__lastTime","__id","qualifiedName","outgoingEdges","accumulate","dep","requireResolve","retriever","history","resolver","electricEdges","retrieveDetails","nextFrame","currentFrame","qualifiedNodeMap","_wholeSet","_propagate","propagationOverride","currentFrameListeners","nextFrameListeners","_schedule","flushTarget","flush","perv","addDependencies","getDependencies","getResolvedList","addEdges","addElectricNode","__execUniqueElectricEdges","toArray","repeatHead","resetPropagationOverride","isRoot","_graph","_lockFlag","_reqQ","_addPropInModel","createNodesFrom","createElectricNodeOf","setPropagationOverride","resetNodeValue","setProp","getNodeValue","getNodeFromQualifiedName","dataSelect","idFn","sortSelection","dataObjects","updateData","sortFn","kA","kB","idGetter","_dataObjects","_updateData","_enterData","_exitData","_idGetter","newData","entryData","exitdata","tempMap","duplicateData","updatedData","newSelection","_mode","currentData","mergedObjects","mergedData","newdata","sortSel","objects","STRING","DATA_TYPE","FUNCTION","HTMLElement","checkExistence","nonExistentKeys","htmlElem","getMax","getMin","getDomainFromData","domArr","field0","field1","arr0","arr1","firstMin","secondMin","firstMax","secondMax","unionDomain","domains","dom","symbolFns","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolStar","symbolWye","symbolTriangle","easeFns","cubic","easeCubic","bounce","easeBounce","easeLinear","elastic","easeElastic","back","easeBack","poly","easePoly","easeCircle","getExtremePoint","compareValue","minOrMax","extremePoint","minOrMaxVal","getMinPoint","getNearestValue","filterData","getWindow","reqAnimFrame","cancelAnimFrame","cancelAnimationFrame","capitalizeFirst","txt","vals","getMinDiff","cls","getDependencyOrder","graph","dependencyOrder","visited","visit","objectIterator","Voronoi","_voronoi","_voronoiFn","intSanitizer","propInfo","typeChecker","defVal","getArraySum","arraysEqual","arr2","oldVal","newVal","is","enableChainedTransaction","transactionModel","transactionEndpoint","transactionItems","registerImmediateListener","isHTMLElem","sink","createSelection","sel","appendObj","mergedSelection","exitSelection","getObjects","inst","interpolateArray","fitCount","linearInterpolate","atPoint","springFactor","tmp","replaceCSSPrefix","colorInterpolator","interpolateHslLong","transformColors","hue2rgb","hslToRgb","hsvToRgb","shorthandRegex","RGBAtoRGB","r2","g2","r3","g3","hslaToRgb","matchRgb","matchHsl","matchRgba","matchHsla","matchHex","RGBAToHexA","sep","transformToHex","datumStyle","colorType","aa","rgbaString","assembleModelFromIdentifiers","fieldMap","header","fieldVal","criteriaFields","selFields","selFn","fieldValue","getArrayIndexMap","getDataModelFromIdentifiers","hasBarLayer","filteredSchema","rowId","include","propField","idx","registerListeners","listenerMap","propListenerMap","ns","propType","listenerFn","escapeHTML","htmlEscapes","htmlEscaper","transposeArray","extendsClass","extendsFrom","concatModels","dm1","dm2","dataObj1","dataObj2","data1","data2","schema1","schema2","tuples1","tuples2","commonTuples","ii","row1","row2","dim1Values","dim2Values","allDimSame","dm1Key","dm2Key","commonSchema","stackOrders","STACK_CONFIG","stackOrderNone","stackOrderAscending","stackOrderDescending","stackOffsets","stackOffsetDiverging","stackOffsetNone","stackOffsetExpand","stackOffsetWiggle","d3Stack","getArrayDiff","pathInterpolators","curveStepAfter","curveStepBefore","curveStep","curveCatmullRom","Scales","timeFormats","timeDurations","getNearestInterval","nearestInterval","temporalFields","filteredFields","lookupWhat","lookupDetails","resolvable","lookupTarget","depArr","deps","nextAnimFrame","getValueParser","measureFieldNames","filteredReducers","derivations","getAncestorDerivations","nearestReducers","derv","measureName","measureField","nearestSortingDetails","allDerivations","nearestSortDerivation","derivation","sortingOrder","sortOrder","sortOrderMap","SORT_ORDER_ASCENDING","firstVal","secondVal","SORT_ORDER_DESCENDING","sortCategoricalField","sortOrderType","accessors","fn1","fn2","pass","mix","superclass","mixins","mixin","reg","regObj","register","customKey","orderedDomain","tempScale","tempAxis","legendTicks","RGBAToHSLA","cmin","cmax","code","transformColor","rgbaValues","origH","origS","origL","origA","sanitizedA","finalcolor","pointWithinCircle","targetData","targetVals","payloadMap","currentField","isFieldInvalid","CommonProps","ACTION_INF","ON_LAYER_DRAW","MATRIX_CREATED","BOOLEAN","UNIT_GLOBAL_NAMESPACE","UNIT_LOCAL_NAMESPACE","LAYER_LOCAL_NAMESPACE","LAYER_GLOBAL_NAMESPACE","GROUP_GLOBAL_NAMESPACE","GROUP_LOCAL_NAMESPACE","CANVAS_LOCAL_NAMESPACE","CANVAS_GLOBAL_NAMESPACE","ORDER_ASCENDING","ORDER_DESCENDING","ORDER_NONE","OFFSET_DIVERGING","OFFSET_NONE","OFFSET_EXPAND","OFFSET_WIGGLE","events","compositions","EVENT_LIST","composition","createPromise","eventName","prm","_makeNotifierPromise","_promises","LifeCycleManager","notification","hasOwn","_eventList","_notifiers","_lifeCycles","_unreleasedLifeCycles","_boot","_preparePromises","client","_releasePromisesFromCache","_notify","stage","_resolvePromise","retrieve","_callLifeCycleCallback","_cachePromise","_resetTargetPromise","stages","lifeCycles","swap","defaultCompare","quickselectStep","sd","newLeft","newRight","quickselect","createNode","leaf","minX","minY","maxX","maxY","distBBox","toBBox","destNode","calcBBox","compareNodeMinX","compareNodeMinY","bboxArea","bboxMargin","enlargedArea","intersectionArea","intersects","findItem","items","equalsFn","multiSelect","nodesToSearch","RTree","maxEntries","_maxEntries","_minEntries","childBBox","splitRoot","tmpNode","insertSingleItem","goingUp","condense","N2","N1","compareMinX","right2","compareMinY","right3","level","minArea","minEnlargement","targetNode","enlargement","isNode","insertPath","chooseSubtree","adjustParentBoxes","chooseSplitAxis","splitIndex","chooseSplitIndex","newNode","minOverlap","bbox1","bbox2","overlap","xMargin","allDistMargin","yMargin","leftBBox","rightBBox","siblings","SVGElement","selectorVal","selectorType","actualSelector","enterSel","mergeSel","exitSel","appendElement","element1","element2","setElementAttrs","removeClass","createElements","selectionMerge","clipElement","clipPathElement","clipPathRect","boundingClientRect","clientPoint","tag","d3event","d3drag","css","textEl","testText","mandatoryStyle","computedStyle","styleForSmartLabel","initProp","fetchPropValues","propNames","addListenerToNamespace","namespaceInf","_listeners","namespaceListeners","setContexts","contexts","propObj","contextMap","depProps","registerPropInMaps","registeredListeners","_registeredListeners","_propListenerMap","subNamespace","subNamespaces","fns","allProps","_fnCount","registerListener","propList","callBack","instantCall","callbackFn","namespaceVal","commits","_savedCommits","listenersObj","_contextMap","contextsObj","commitsObj","propDeps","nm","fnInf","retrieveNamespaces","listenerTypes","removePropValue","propInf","sns","Store","Model","_commits","_queuedProps","_locked","lock","unlock","locked","queue","lockModel","queuedProps","propName","unlockModel","propFns","snsArr","nsObj","disableListener","sanitizedVal","savedCommits","calculatedProp","listenersMap","snsMap","transactor","holder","stateProps","nameSpaceProp","nsProp","paramsLen","takesMultipleParams","prevVal","typeCheck","typeExpected","typeCheckResult","oldValues","defaultPolicy","registrableComponents","aliases","alias","propagationPayload","propagationCanvas","visualGroup","matrixInstance","canvasIterator","canvases","iteratorFn","cFn","throwback","_throwback","registerActions","fnName","_registrableComponents","vGroup","setFireboltDependencies","ActionModel","components","registerPropagationBehaviourMap","maps","dissociateBehaviour","dissociateSideEffect","policy","mergedPolicy","crossInteractionPolicy","actionModel","APP_INITIAL_STATE","app","units","Canvas","globalDependencies","_allOptions","localOptions","_registry","_composition","_cachedProps","_alias","_renderedResolve","_renderedPromise","_store","STATE_NAMESPACES","allOptions","canvasOptions","GroupFireBolt","UnitBrushBehaviour","subtitle","legend","setupChangeListener","_layoutManager","createLayoutManager","componentSubRegistry","interactionRegistry","initedComponents","initCanvas","createGroupState","lifeCycleManager","renderDetails","getRenderDetails","notify","prepareLayout","canvasHeight","canvasWidth","renderLayout","setLayoutInfForUnits","setLabelRotationForAxes","getAxes","RETINAL","initialSettings","regEntry","TransactionSupport","arrangeComponents","titleConfig","subtitleConfig","titleLayouts","TITLE","SUB_TITLE","GROUP","legendLayouts","LEGEND","LAYOUT","titlePosition","subtitlePosition","headers","legends","headerMap","headerCell","configType","TITLE_CONFIG","SUB_TITLE_CONFIG","headerAlignmentMap","HORIZONTAL_CENTER","checkParamsValidation","isGridPresent","createHeaderWrapper","headerType","layoutManager","CANVAS","headerConfig","wrapperParams","existingComponent","updateWrapper","HeaderComponent","createMessageWrapper","headerValues","messageWrapper","defaultDimensions","gridComponent","getBoundBox","message","ERROR_MESSAGE","MESSAGE_CONFIG","MESSAGE","MessageComponent","scrollBarMap","layoutBasedMeasure","viewMeasure","rowAlign","colAlign","createScrollBarWrapper","scrollBarType","grid","scrollBarWrapper","scrollBar","thickness","totalLength","viewLength","scrollConfig","scrollBarComponentConfig","ScrollComponent","createLegendWrapper","legendWrapper","LegendComponent","gridLayoutWrapper","gridWrapper","GridComponent","componentWrapperMaker","verticalScrollBar","horizontalScrollBar","applyScrollAction","scollDistance","scrollActionApplier","movement","setParams","matrixDim","matrixName","matrixConfig","MuzeComponent","matrixWrapper","MatrixComponent","allComponents","_scrollBarManager","scrollBarManager","wheelDeltaX","wheelDeltaY","preventBrowserScroll","triggerScrollBarAction","WHEEL_DELTA_MODIFIER","movedView","sanitizeGrid","attachScrollListener","selEnter","cont","renderHeader","defaultAlignmentHelper","VERTICAL_CENTER","legendSpace","sectionComponents","legendMount","legWidth","legHeight","sections","currHeight","currWidth","legendInfo","leg","legendHeight","legendWidth","renderLegend","setParentInfo","renderPlaceholders","OVERFLOW","VISIBLE","containerForMatrix","applyScroll","renderTable","externalClassname","renderMatrix","formatFontSize","baseFontLimit","upperFontLimit","baseSizeLimit","upperSizeLimit","fractionFont","childHeight","fractionChild","imageNode","messageNode","fractionImage","incorrectMessageIcon","arrowSizeMap","getUnitPositions","currentLen","unitPosition","createScrollBarArrow","chevron","createScrollBarRect","mover","applyRectClick","scrollMaker","moverRect","emptyScrollAreaClick","applyMoverDrag","moverStartPos","rectStartPos","distanceMoved","actualPosition","pageXOffset","pageYOffset","changeMoverPosition","applyScrollMouseDownAction","speed","rectX","rectY","registerListenerOnArrow","arrowType","_components","isTouchDevice","scrollContainerHelper","scrollBarContainer","HorizontalScrollMaker","prevArrow","nextArrow","scrollBarWithouArrowLength","_scrollBarWithouArrowLength","unitPositions","positionAdjuster","newPosition","currentPos","moverPos","totalDistance","movedViewLength","manager","performAttachedScrollFunction","scrollPercentage","ScrollMaker","_attachedScrollAction","_unitPositions","externalScrollAction","VerticalScrollMaker","scrollMakerMap","scrollDeltaTo","scrollTo","unitIndex","sanitizedUnitIndex","createScroll","externalAction","attachScrollAction","detachScrollAction","MUZE_PREFIX","tooltipSideEffect","isCrosstab","hasMeasures","unitDimsMap","unitDims","facetFields","facetFieldsMap","groupDataMap","facetMap","unitFieldsConfig","linkedRows","linkedRow","prepareSelectionSetMap","dimensionFields","defaultCrossInteractionPolicy","propagationCanvasAlias","payloadGenerators","_interactionPolicy","defaultInteractionPolicy","_crossInteractionPolicy","applyInteractionPolicy","getGroupByData","handleDataModelPropagation","attachBehaviours","propagationData","enabledFn","enabled","behaviourConfs","COMMON_INTERACTION","getPayloadGeneratorFor","behaviourPolicies","filterFns","sideEffectInstances","findPlaceHolderById","sourceUnit","addSelectedMeasuresInPayload","unitMatrix","handlePhysicalAction","dispatchBehaviours","resetSelectAction","sanitizePayloadCriteria","dimsMapGetter","_dimsMapGetter","createMapByDimensions","applySideEffect","auxConfig","propagateValues","sourceCanvasId","propagationDataSource","mappedEffects","isSideEffectEnabled","addFacetDataAndMeasureNames","facetData","facets","facetVals","hasMeasureNameField","fieldsWithFacets","dataWithFacets","measureNameArr","sourceUnitId","sideEfffects","propagationBehaviour","entry","propagationConf","sourceBehaviour","propConf","behaviourInstance","actionInf","isDimension","rowFacets","colFacets","rowProjections","colProjections","colProj","flat","rowProj","groupFields","measureFields","unitFirebolt","targetFirebolt","getPropagationSource","crosstab","PSEUDO_SELECT","_connectedBehaviours","VisualGroup","fixFacetConfig","isGridLinePresent","gridLines","facetsUserConfig","isBorderPresent","fixScrollBarConfig","excludeKeys","emptyValueKeyObject","gridLayout","getRootNodeId","setComponentInfo","parentContainerInf","dispatchProps","invalidValues","sanitizedData","getMandatoryFields","shouldRender","createMatrices","equalityChecker","checker","option","ROWS","COLUMNS","DETAIL","DATA","notifyAnimationEnd","promises","cellArr","lifeCycle","animDonePromises","animationDone","xAxes","yAxes","axisArr","axisInst","nameSpaceProps","registerChangeListener","equalityProps","applyPropagationPolicy","changeBehaviourStateOnPropagation","changeSideEffectStateOnPropagation","isMeasure","isSplom","splom","interactionPolicy","unitFireBolt","includeMeasures","rotationVal","getState","globalState","localState","cornerMatrices","triggerReflow","heightAttr","widthAttr","visGroup","placeholderInfo","minHeight","legendPosition","layoutArrangement","availableHeightForCanvas","availableWidthForCanvas","createHeaders","headerHeight","createLegend","getLegendSpace","mountSpace","componentIndexes","componentNames","VERTICAL_SCROLL_BAR","HORIZONTAL_SCROLL_BAR","attachListeners","componentWrappers","componentWrapper","attachListener","createScrollManager","horizontalScrollWrapper","verticalScrollWrapper","ScrollManager","scrollBarComponents","attachedComponents","hScrollBar","vScrollBar","compWrappers","deleteElementName","removeComponent","registerComponents","legendCreator","LegendCls","dataset","getRetinalAxes","axisInfo","scaleProps","stepMapper","LEGEND_TYPE_MAP","legendIconShapeMapper","layerMarks","IS_POINT_MAP","includes","POINT","legendInitializer","prevLegends","dataInfo","legendMeasures","titleText","PADDING","MARGIN","matrixLayers","setLegendMeasures","LAYERS","arg1","arg2","defConfig","sub","_scrollBarComponents","_attachedComponents","performScrollAction","resolveTitleSubTitleContent","rawContent","headerCreator","cellType","prevCell","subType","minSpacing","createHeading","isSubtitle","headerOptions","INITIALIZED","SOURCE","MOUNT","CANVAS_UPDATED","POLICIES","RESOLVE","STEP_COLOR","TITLE_TEMPLATE_NOT_ALLOWED_TAGS","ICON_SHAPES","SQUARE","CIRCLE","OVERFLOW_X","OVERFLOW_Y","INDIVIDUAL_INTERACTION","COMPONENTS","VisualUnit","SUBREGISTRIES","cellRegistry","INTERFACES","SimpleGroup","SimpleCell","minCharacters","verticalAlign","collapse","autoGroupBy","EXCLUDE_CONFIG_KEYS","SIDE_EFFECT_COMMON","SIDE_EFFECT_INDIVIDUAL","TOOLTIP_CONSOLIDATED","TOOLTIP_FRAGMENTED","Muze","utils","Smartlabel","globalCache","defaultRegistry","globalRegistry","overrideRegistryDefinitions","overrideRegistry","muze","env","globalStore","componentSubRegistryDef","settings","withSettings","Components","VisualLayer","BaseLayer","LineLayer","TextLayer","TickLayer","PointLayer","SimpleLayer","AreaLayer","ArcLayer","helpers","enums","layerMixins","unitHelpers","unitEnums","UnitFireBolt","Encoders","encoderHelpers","groupUtils","groupEnums","SideEffects","standards","Behaviours","pkg","layerFactory","operators","share","vars","ComposedVars","variable","SimpleVariable","treeShakeNode","nodeType","ELEMENT_NODE","tagName","childNodes","strings","htmlCode","expLn","frag","createDocumentFragment","oldConf","facetDefaultConfig","newConf","INTERFACE_IMPl","FRACTURE","groupByIndices","groupedData","identityTransform","normalizeData","valueField","uniqueField","uniqueFieldIndex","valueFieldIndex","seriesKeyIndex","seriesKeys","fieldNames","tuples","rowObj","_tuple","seriesKey","normalizedData","orderBy","orderIndex","groupByIndex","stackData","seriesData","transformMap","TransformType","transformFactory","computeAxisSpace","logicalWidth","logicalHeight","spaceFixer","_availHeight","_availWidth","AXIS","actualWidth","actualHeight","wrapperDiv","AXIS_CELL","CONSTANTS","BlankCell","BLANK_CELL","DEFAULT_PLACEHOLDERS","SIMPLE_CELL","TEXT_CELL","GEOM_CELL","GeomCell","SIMPLE","TEXT","GEOM","SPACE_FIXER","VERTICAL_ALIGN","TEXT_ALIGN","IS_OFFSET","BASELINE","SHOW","HEADER","FACET_BY_FIELDS","FIELDS","LAYER_DEF","DETAIL_FIELDS","MAX_LINES","MIN_CHARS","ROTATION","HEADER_PADDING","TITLE_PADDING","SUBTITLE","computeGeomSpace","getCaptionSpace","_unit","_axes","_datamodel","_facetByFields","_transform","_caption","caption","captionSpace","captionDom","DEFAULT_PROPS","geomProps","facetByFields","textProps","smartText","providedMinMeasure","setSmartText","minHeightSpace","minWidthSpace","paddedHeight","paddedWidth","isTitleSubtitle","returnVal","computeTextSpace","minText","_minTextSpace","smartSpace","smHeight","smWidth","headerPadding","setPadding","titlePadding","localPadding","vAlign","translation","middle","CartesianEncoder","axesCreators","fieldInfo","geomCellAxes","projections","rowFields","columnFields","geomCell","BOTH","axisFrom","generateAxisFromMap","groupAxes","unitsArr","encodingDomains","dataDomain","axisTypeIndex","fieldArr","typeOfField","axesArr","adjustedDomain","typeOfAxis","alignZeroLine","getAdjustedDomain","currentFieldName","oneVar","getSortingConfig","primaryFacets","secondaryFacets","primaryFields","secondaryFields","primaryLen","secondaryLen","projArr","primaryField","secondaryField","COL","axisFromIndex","existIndex","getIndex","datamodel","encodingObj","retriveDomainFromData","fieldInstance","isTemporalField","layerArray","serializedLayers","sanitizeLayerConfig","encodingConfigs","userLayerConfig","sanitizeIndividualLayerConfig","retinalConfig","colField","colFieldName","rowField","configs","rowFieldName","rowFieldType","colFieldType","getDefaultMark","defConfigs","layerConfigs","getLayerConfFromFields","layerConf","mergedLayerConf","serializedLayerConfig","getSerializedConf","colFields","VisualEncoder","getAxisConfig","axisOrientation","rawUserAxisConfig","userAxisConfigFn","userAxisConfig","allOrientations","axisConfig","createSimpleAxis","Cls","scaleMaps","simpleAxis","y1ratio","y2ratio","allSameSign","axesInfo","axisKey","currentAxes","cacheMaps","commonAxisKey","getAxisKey","_rotationLock","mutateAxesFromMap","xAxesMap","yAxesMap","xAxisSet","yAxisSet","axisId","LINE","createRetinalAxis","fieldProps","getAxisType","arrIndex","userConf","encodingArr","xFields","yFields","colFieldExist","rowFieldExist","axesObj","resolverAxes","RADIUS","ENCODING","ANGLE","ANGLE0","enc","userConfig","axesConfig","lastSortConfig","operations","orderFields","fieldArray","dimensionArr","temporalArr","categoricalArr","fieldList","numOfMeasures","allDimensions","temporal","categorical","normalizeFields","convertToVar","transformFields","normalizedFields","norFields","rowsInfo","columnsInfo","rowDimensions","rowMeasures","rowTemporalFields","rowCategoricalFields","columnDimensions","columnTemporalFields","columnCategoricalFields","axesCls","getSizeMultiplier","sizeAxisDomain","sizeMultiplier","getSize","setRadiusFactor","sizeField","sizeFieldIndex","PolarEncoder","pieAxes","cellLayers","angle0","varInstances","encType","domainProps","unitDomains","encodingFields","specificAxes","sanitizedRows","sanitizedColumns","sanitizedFields","typeIndex","fieldSet","colorField","layerEncoding","ARC","sanitizedConfig","angleField","angle0Field","optionalProjections","globalConfig","RetinalEncoder","newAxes","_fieldInfo","_axisFrom","_headerFrom","__headerFrom","getHeaderAxisFrom","rowHeader","rowAxis","colHeader","colAxis","headerFrom","getFieldsFromSuppliedLayers","hasOneField","MEASUREMENT","MIN_UNIT_WIDTH","MIN_UNIT_HEIGHT","DIMENSIONS","MEASURES","PIVOT","FORMAT","HAS_DATA_UPDATED","CELL","X_AXES","Y_AXES","ENTRY_CELLS","EXIT_CELLS","UNIT","UPDATED","BEFORE_UPDATE","VALUE_MATRIX","FACET_HEADERS","INTERACTION","GRID_LINES","GRID_BANDS","FACET","ASCENDING","DESCENDING","DARK","NONE","DARKER","DATA_UPDATE_COUNTER","DEFAULT_LAYER_TYPE","BORDER_WIDTH","handleBlankCell","sanitiseHeaderMatrix","sanitiseGeomMatrix","sanitiseFacetValues","blankCell","normal","latestSource","lastSource","sanitiseBorderMatrix","bottomBorderObj","updateCells","facetKey","createValueCells","suppliedLayers","encoder","horizontalAxis","verticalAxis","datamodelTransform","sortedFields","entryCellMap","exitCellMap","layerConfigArr","getLayerConfig","normalizedColumns","normalizedRows","allFacets","facetField","geomCellKey","getCellKey","sortConfig","extractAxisIndex","createAxisCells","currObj","axisPlaceholderGn","selObj","axesMatrix","selObjProp","axesForDraw","rowsPrimary","rowPrime","rowsSecondary","rowSec","columnsPrimary","colPrime","columnsSecondary","colSec","createTextCells","textCell","extractFacetIndex","headerPlaceholderGn","selectionObj","selectionKeys","selObjUpdater","keySet","textCells","generatePlaceholders","facetsAndProjections","encoders","valuesMatrix","rowKeys","columnKeys","takeAxisFrom","simpleEncoder","takeHeaderFrom","section","hContext","generateMatrices","placeholderContext","leftHeaders","topHeaders","bottomHeaders","rightHeaders","leftFacets","rightFacets","rowPriority","colPriority","innerHeaders","currentBottomLength","getAxisFields","fieldHolder","ac","sortDmTemporalFields","fieldConfig","transformDataModel","resolvedData","extractFields","newFieldsConfig","aggregationFns","nearestAggFns","resolvedAggFns","computeMatrices","resolverConfig","otherEncodings","matrixGnContext","getCellDef","colCells","rowCells","resetSimpleAxes","newCacheMap","valueCellContext","serializeLayerConfig","cellCreator","valueCellsCreator","valueMatrixInfo","getMatrixModel","removeExitCells","createUnits","sanitizeCheckBorder","sanitizeCheck","parentModel","initStore","rowType","initializeCacheMaps","cellMap","columnId","extractUnitConfig","unitConfig","attrNames","hasField","getHeaderText","rowLength","fieldHeaders","facetConfig","updateBorderMap","findInGroup","channel","facetType","projType","hasPolarEncodings","getEncoder","userAxisFromConfig","firstField","secondField","firstFieldType","secondFieldType","setFacetsAndProjections","getFacetsAndProjections","getRowBorders","borders","getColumnsBorders","getValueBorders","borderTypeRow","borderTypeCol","getBorders","allDimensionLength","allMeasuresLength","allTemporalFieldsLength","suppliedLayerConfig","flattenArray","Variable","sortFacetFields","facetNames","sortInfo","facetSortConfig","getSchemaDef","exitCells","qualifiedStateProps","getQualifiedStateProps","lockCommits","unlockCommits","getFieldNames","fieldVar","prepareProjectionInfo","uniqueFields","rIndex","newRIndex","cIndex","newCIndex","newRowProj","newColProj","prepareFacetInfo","rowFacetNames","colFacetNames","prepareHashMaps","hashMap","rowKey","joinedRowKey","createJoinedKeys","keyArr","joinedKey","setDefaultConfigForFacet","facetInfo","projectionInfo","gridLinesShowLength","borderConf","getSplitModelHashMap","splitModels","rowKeyHashMap","colKeyHashMap","colKeys","splitModelsHashMap","splitContext","colKey","formatKeys","formatterList","formattedKeys","rKeys","splitByColumn","geomCellCreator","commonFields","projectionIndexObject","createColumnDataModels","colContext","sourceDM","rowKeyArr","colKeyObj","newRowIndex","currentColumnIndex","colKeyArr","hashMapKey","emptyDm","createRowDataModels","rowContext","rowIndexForCurrentKey","rowKeyObj","currentRowIndex","allSplitModels","splitByRow","generalContext","formattedColKeys","rawFormat","formattedRowKeys","transposedColKeys","MatrixResolver","_layerConfig","_matrixLayers","_valueMatrix","_facets","_projections","_datamodelTransform","_units","_cacheMaps","_fireboltDeps","_placeholderInfo","getterSetters","otherEncodingTypes","getProjectionFields","_horizontalAxis","_verticalAxis","fireboltDeps","metaInf","parentAlias","retContext","getRetinalFieldsDomain","retinalEncoder","setCommonDomain","retinalAxes","updateVisualUnit","placeholders","topCols","bottomCols","rowHeaders","blankCellCreator","footers","updateModel","RESOLVER_PROPS","_vars","member","_oneVar","dtFormat","dateFormat","fieldDef","fieldSpace","varInst","setupChangeListeners","stores","getListeners","storeInst","listenerInf","registerDomainChangeListener","unionUnitDomains","unsubscribeChangeListeners","createUnitState","initializeGlobalState","createLayerState","sanitizeRetinalConfig","retinalConf","confValue","setMatrixInstances","ValueMatrix","hasValue","hasOneValue","updateChecker","initializeFields","createEncoderInstance","groupType","fieldSanitizer","setAxisAndHeaders","groupConfig","getMatrices","_groupedDataModel","createRetinalAxes","setRetinalAxisDomain","initializeResolverFields","hasMandatoryFields","matrixArr","instancesById","cellValue","_instancesById","_matrix","_filterFn","rowWidth","currentRowWidth","rowHeight","currentRowHeight","_selection","createMatrixResolver","getSimpleAxes","updateProps","sanitizedValue","localFields","resolverFields","BASE_LAYER","BaseLayerMixin","layerNs","groupNs","_points","_cachedData","_customConfig","addSubNamespace","parentNamespace","_cacheEnabled","encodingFieldsInf","transformData","domainCalculator","encodingType","currentSetIds","getNormalizedData","interactionConfig","interactionStyles","_transformType","getValidTransform","removeSubNamespace","layersDomain","unitDom","pointMap","_pointMap","applyStylesOnInteraction","interactionFn","getInteractionStyles","getAllAttrs","filteredPoints","identifierData","identifierSchema","_normalizedData","yFieldType","xFieldType","AREA_LAYER","tupleArr","exist","transformedVal","tuple","graphicElems","elems","encodingValue","retrieveEncodingFields","resolveTransformType","_transformedData","getTransformedData","calculateDomainFromData","encodingFieldInfRetriever","strokeStyles","otherStyles","applicableStrokePos","addOverlayPath","applyElementStyles","getRenderProps","renderLayer","unitRowIndex","unitColIndex","layerState","getLastItemInMap","getPreviousStyle","originalStyle","currentState","stylesForCurrentLevel","strokeProps","stroke","parseStyle","numValue","applicableStyles","strokePosition","sanitizedStyles","parsedStyleVal","currentStyle","styleKeys","applyStyles","prevData","dataDidSet","DEFAULT_LAYERS","LAYER_TYPES","BarLayer","OUTER_RADIUS_VALUE","TEXT_ANCHOR_MIDDLE","X0","Y0","RADIUS0","STROKE_DASHARRAY","AGG_FN_SUM","ARC_LAYER","LINE_LAYER","TEXT_LAYER","POINT_LAYER","BAR_LAYER","TICK_LAYER","SIMPLE_LAYER","styleType","intensity","stateColor","originalState","colorInfo","elements","getPlotElementsFromSet","applyLayerStyle","retrieveEncodingInf","encodingNames","encodingInf","setNullsInStack","setNulls","encodingFieldInf","setNullData","connectNullData","getIndividualClassName","individualClassName","classNameStr","dataNormalizers","radiusFieldIndex","angleFieldIndex","radius0FieldIndex","angle0FieldIndex","fieldsLen","pointObj","radius0","xFieldIndex","yFieldIndex","x0FieldIndex","y0FieldIndex","transformedDataArr","layerInst","angleValues","radius0Field","radiusDomain","xFieldSubType","yFieldSubType","x0Field","y0Field","yEnc","xEnc","defFn","attachDataToVoronoi","accessor","updateStyle","animateGroup","groupTransition","groupAnimateStyle","positionPoints","positioner","encodingTransform","getGroupSpan","groupSpan","getPlotMeasurement","dimensionalValues","_bandScale","offsetValues","actualGroupWidth","isTemporal","dataProps","innerPadding","isAxisBandScale","axisPadding","groupPadding","transformResolverPredicates","groupByField","dimensionField","resolveInvalidTransformType","getValidTransformForAggFn","resolvedInvalidTransformType","isCustomTransformTypeProvided","aggFn","getMarkId","resolveEncodingValues","transformedValues","getColorMetaInf","initialStyle","getCoordValue","trig","coordValueGetter","toCartesianCoordinates","rangePlot","sortData","getBoundBoxes","getDataFromEvent","getIdentifiersFromData","layerId","commonHelpers","pointLayerHelpers","BarLayerMixin","LineLayerMixin","AreaLayerMixin","PointLayerMixin","TextLayerMixin","TickLayerMixin","ArcLayerMixin","parseLayerDefinition","layerType","strs","sanitizeEncoding","compositeLayers","factoryObj","setLayerRegistry","_layerRegistry","serializedDefs","unitLayerDef","sDef","getLayerInstance","instances","layerObj","layerConstructor","getLayerClass","composeLayers","getPreviousPoint","currIndex","prevArc","nextArc","tweenPie","_previousInfo","tweenExitPie","consecutiveExits","consecutiveExitArr","gElem","getFieldIndices","radiusField","angleIndex","sizeIndex","radiusIndex","colorIndex","_prevPieData","radiusAxis","pieIndex","angleV","angles","resolvedEncodings","getOuterRadius","getInnerRadius","startAngle0","endAngle0","qualClassName","_arcFn","translatePoints","individualClass","exitCounter","tweenExit","exitArr","oldExitCounter","pieSlices","filteredPies","tData","pieSliceInf","states","fadeout","selected","drawArea","searchRadius","nearestPointThreshold","dimValue","pointArr","pointY0","classNameFn","isXDim","isYDim","minYVal","basePos","xPx","yPx","y0Px","invalidY","invalidY0","resolvedValues","fillOpacity","cachePoint","brushStroke","strokeOpacity","easeEffect","curveInterpolatorFn","enterAreaPath","updateAreaPath","selectionEnter","dd","positionRetriever","isNegativeVal","barBasePos","resolveDimByField","spaceType","sizeEncoding","sizeConfig","sizeValue","enterSpace","minVal","maxVal","diffPx","minDomVal","resolveDimensions","enterWidth","enterX","xPos","enterHeight","enterY","yPos","strokeWidthPositionMap","strokeWidthWithOffsetMap","L1","L2","L3","inside","outside","getTranslatedPoints","strokeWidth","_plotPadding","_plotSpan","_overlayPath","normalizedDataArr","containerSelection","generateDataPoints","barContainer","seriesClassName","drawRects","barWidthMetrics","barHeightMetrics","barWidthOffsets","barHeightOffsets","barWidthOffset","barHeight","barHeightOffset","refElement","pathElement","pathGroup","styleVal","currentPath","focusStroke","doubleStroke","commonDoubleStroke","transitionBars","selTransition","barEnterFn","updateFns","nullDataLineStyle","nullDataLineClass","drawLine","colorValFn","colorFieldIndex","colorVal","getPathStyle","translatedPoints","getTranslatedData","getDrawFn","containsNull","settIndexPrevOrNext","indexesObj","prevContainsNull","nextContainsNull","prevOfNull","nextOfNull","getborderIndexes","makeStartEndPair","borderIndexes","pairArray","prevValue","nextValue","sanitizeNullConfig","getElementsForLine","strokeStyle","linepath","elementWithNullData","sanitizedPoints","defColorStyle","anchors","shapes","sizes","prepareDrawingInf","pointTranslators","offsetX","offsetY","getStrokeWidthByPosition","formattedUids","maxSize","drawFn","_maxSize","widthMetrics","heightMetrics","offsetXValues","offsetYValues","measurementConf","getMeasurementConfig","widthSpan","heightSpan","distanceLimit","insideShape","parentElement","drawSymbols","pathEl","background","drawText","textanchor","textStyle","backgroundVal","backgroundPadding","backgroundEl","defaultEncoding","alignmentBaseLine","defRotation","polar","textEncoding","angleAxis","textFormatter","backgroundEncoding","backgroundValue","resolvedVal","cartesian","textField","textFieldIndex","textValue","pathElem","angle0Axis","angle0V","angles0","xSpan","ySpan","x0Px","offsetM","offsetL","drawTicks","trackerClassName","zeroLineColor","gridBands","arcLayerClassName","sideEffectClassName","GRID_LINE_PARENT_GROUP_CLASS","GRID_BAND_PARENT_GROUP_CLASS","GRID_PARENT_GROUP","TICK","GRID_BAND","GRID_LINE","RETINAL_FIELDS","PARENT_ALIAS","CACHED_DATA","STORE","TRANSFORMEDDATA","DATADOMAIN","LAYERAXISINDEX","dragStart","PseudoSelectBehaviour","initSideEffects","clearActionHistory","dispatchQueuedSideEffects","sideEffectPolicies","sideEffectCheckers","getUniqueKeys","mKey","propFields","fieldIndexMap","measureNameField","propDims","origRow","rowVal","newRowVal","dispatchSecondaryActions","secondaryActions","secAction","payloadGeneratorFn","generatedPayload","cacheMap","_cacheMap","sideEffectPolicy","sourceIdentifierFields","hasCommonCanvas","disabledSideEffects","unitId","aliasName","propagationSourceCanvas","actionOnSource","cachedData","getRangeFromData","selectionDataFields","measureNamesIdx","excludeSelectedMeasures","selectionSetFields","facetValues","facetIndices","identifierIdxMap","identifierMap","diffMeasures","pseudoSelect","getPayloadGenerator","getLayerDefinition","gridLineColor","gridBandColor","isLinearScale","isNegativeDomain","getDefaultVisibilty","getGridLayerDefinitions","dimensionSubTypes","getValidSubtype","getGridLayerData","gridData","jsonData","createGridLineLayer","vuConf","_timeDiffs","definitions","atomicDef","sConf","attachDataToGridLineLayers","_gridLines","_gridBands","gridLayerData","renderGridLineLayers","gridLineParentGroup","parentGroupClass","getDimensionMeasureMap","retinalEncodingsAndMeasures","shapeField","transformDataModels","transformVal","getLayerFromDef","existingLayer","instanceArr","resolveEncodingTransform","resolved","sanitizeLayerDef","sanitizedDefs","attachDataToLayers","transformedDataModels","dataSource","attachAxisToLayers","layerAxisIndex","axisInf","getLayerAxisIndex","specificField","encodingField","domain1","unionDomainFromLayers","getDataDomain","domainValues","layerDomain","fieldDomain","encodingDomain","fieldStr","renderLayers","_lifeCycleManager","orderedLayers","layerParentGroup","layerDepOrder","_layerDepOrder","layerSeq","getNearestDimensionalValue","entryVal","getLayersBy","searchBy","removeLayersBy","createSideEffectGroup","createRenderPromise","renderedPromise","getRadiusRange","radiusAxes","isXandYMeasures","xMeasures","yMeasures","getKey","getValuesMap","idValuesMap","valuesIdMap","getSelectionRejectionModel","propModel","propValuesMap","rejectionModel","entryRowIds","exitRowIds","rowIdsObj","createRTree","rtree","load","removeExitLayers","layersMap","markSet","fieldsVal","queuedLayerDefs","_queuedLayerDefs","layerDefArr","hasPlotSpan","timeDiffsByField","_timeDiffsByField","originalData","layerAxisIndexVal","_layerAxisIndex","axesVal","_dimensionMeasureMap","_cachedValuesMap","valuesMap","oldData","facetKeys","FORMAL_NAME","unitNs","_gridLinesSelection","_gridBandsSelection","createFireboltInstance","getFireboltCls","getActionBehaviourMap","getBehaviourEffectMap","createRootContainers","_rootSvg","_sideEffectGroup","rootSvg","layerDefinition","layerDefinitions","layerIndex","layersArr","markId","defArr","instanceValues","layerdeps","REACTIVE_PROPS","pointInf","getMarkInfFromLayers","markInf","parsedIdentifiers","getPointsFromIdentifiers","filteredRow","xdom","ydom","_rtree","unitState","localNs","drawn"],"mappings":"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","file":"muze.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"muze\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"muze\"] = factory();\n\telse\n\t\troot[\"muze\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/muze/src/index.js\");\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"DataModel\",[],t):\"object\"==typeof exports?exports.DataModel=t():e.DataModel=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e){e.exports=JSON.parse('{\"name\":\"datamodel\",\"description\":\"Relational algebra compliant in-memory tabular data store\",\"homepage\":\"https://github.com/chartshq/datamodel\",\"version\":\"2.2.1-alpha\",\"license\":\"MIT\",\"main\":\"dist/datamodel.js\",\"keywords\":[\"datamodel\",\"data\",\"relational\",\"algebra\",\"model\",\"muze\",\"fusioncharts\",\"table\",\"tabular\",\"operation\"],\"author\":\"Muzejs.org (https://muzejs.org/)\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/chartshq/datamodel.git\"},\"contributors\":[{\"name\":\"Akash Goswami\",\"email\":\"akashgoswami90s@gmail.com\"},{\"name\":\"Subhash Haldar\"},{\"name\":\"Rousan Ali\",\"email\":\"rousanali786@gmail.com\",\"url\":\"https://rousan.io\"},{\"name\":\"Ujjal Kumar Dutta\",\"email\":\"duttaujjalkumar@live.com\"}],\"dependencies\":{\"d3-dsv\":\"^1.0.8\"},\"devDependencies\":{\"babel-cli\":\"6.26.0\",\"babel-core\":\"^6.26.3\",\"babel-eslint\":\"6.1.2\",\"babel-loader\":\"^7.1.4\",\"babel-plugin-transform-runtime\":\"^6.23.0\",\"babel-preset-env\":\"^1.7.0\",\"babel-preset-es2015\":\"^6.24.1\",\"babel-preset-flow\":\"^6.23.0\",\"chai\":\"3.5.0\",\"cross-env\":\"^5.0.5\",\"eslint\":\"3.19.0\",\"eslint-config-airbnb\":\"15.1.0\",\"eslint-plugin-import\":\"2.7.0\",\"eslint-plugin-jsx-a11y\":\"5.1.1\",\"eslint-plugin-react\":\"7.3.0\",\"istanbul-instrumenter-loader\":\"^3.0.0\",\"jsdoc\":\"3.5.5\",\"json2yaml\":\"^1.1.0\",\"karma\":\"1.7.1\",\"karma-chai\":\"0.1.0\",\"karma-chrome-launcher\":\"2.1.1\",\"karma-coverage-istanbul-reporter\":\"^1.3.0\",\"karma-mocha\":\"1.3.0\",\"karma-spec-reporter\":\"0.0.31\",\"karma-webpack\":\"2.0.3\",\"marked\":\"^0.5.0\",\"mocha\":\"3.4.2\",\"mocha-webpack\":\"0.7.0\",\"transform-runtime\":\"0.0.0\",\"webpack\":\"^4.12.0\",\"webpack-cli\":\"^3.0.7\",\"webpack-dev-server\":\"^3.1.4\"},\"scripts\":{\"test\":\"npm run lint && npm run ut\",\"ut\":\"karma start karma.conf.js\",\"utd\":\"karma start --single-run false --browsers Chrome karma.conf.js \",\"build\":\"npm run build:prod\",\"build:dev\":\"webpack --mode development\",\"build:prod\":\"webpack --mode production\",\"start\":\"webpack-dev-server --config webpack.config.dev.js --mode development --open\",\"lint\":\"eslint ./src\",\"lint-errors\":\"eslint --quiet ./src\",\"docs\":\"rm -rf yaml && mkdir yaml && jsdoc -c jsdoc.conf.json\"}}')},function(e,t,n){var r=n(2);e.exports=r.default?r.default:r},function(e,t,n){\"use strict\";n.r(t);var r={};n.r(r),n.d(r,\"DataFormat\",(function(){return o})),n.d(r,\"DimensionSubtype\",(function(){return u})),n.d(r,\"MeasureSubtype\",(function(){return c})),n.d(r,\"FieldType\",(function(){return f})),n.d(r,\"FilteringMode\",(function(){return l})),n.d(r,\"GROUP_BY_FUNCTIONS\",(function(){return s}));var i={};n.r(i),n.d(i,\"Dimension\",(function(){return Me})),n.d(i,\"Measure\",(function(){return xe})),n.d(i,\"FieldParser\",(function(){return Le})),n.d(i,\"fieldRegistry\",(function(){return ot})),n.d(i,\"columnMajor\",(function(){return v}));var a={};n.r(a),n.d(a,\"sum\",(function(){return kn})),n.d(a,\"avg\",(function(){return Dn})),n.d(a,\"min\",(function(){return Tn})),n.d(a,\"max\",(function(){return Fn})),n.d(a,\"first\",(function(){return Nn})),n.d(a,\"last\",(function(){return Rn})),n.d(a,\"count\",(function(){return Pn})),n.d(a,\"sd\",(function(){return Cn}));var o={FLAT_JSON:\"FlatJSON\",DSV_STR:\"DSVStr\",DSV_ARR:\"DSVArr\",AUTO:\"Auto\"},u={CATEGORICAL:\"categorical\",TEMPORAL:\"temporal\",BINNED:\"binned\"},c={CONTINUOUS:\"continuous\"},f={MEASURE:\"measure\",DIMENSION:\"dimension\"},l={NORMAL:\"normal\",INVERSE:\"inverse\",ALL:\"all\"},s={SUM:\"sum\",AVG:\"avg\",MIN:\"min\",MAX:\"max\",FIRST:\"first\",LAST:\"last\",COUNT:\"count\",STD:\"std\"};function p(e){return e instanceof Date?e:new Date(e)}function d(e){return e<10?\"0\"+e:e}function h(e){this.format=e,this.dtParams=void 0,this.nativeDate=void 0}RegExp.escape=function(e){return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")},h.TOKEN_PREFIX=\"%\",h.DATETIME_PARAM_SEQUENCE={YEAR:0,MONTH:1,DAY:2,HOUR:3,MINUTE:4,SECOND:5,MILLISECOND:6},h.defaultNumberParser=function(e){return function(t){var n;return isFinite(n=parseInt(t,10))?n:e}},h.defaultRangeParser=function(e,t){return function(n){var r,i=void 0;if(!n)return t;var a=n.toLowerCase();for(i=0,r=e.length;i<r;i++)if(e[i].toLowerCase()===a)return i;return void 0===i?t:null}},h.getTokenDefinitions=function(){var e={short:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],long:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},t={short:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],long:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]};return{H:{name:\"H\",index:3,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){return p(e).getHours().toString()}},l:{name:\"l\",index:3,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){var t=p(e).getHours()%12;return(0===t?12:t).toString()}},p:{name:\"p\",index:3,extract:function(){return\"(AM|PM)\"},parser:function(e){return e?e.toLowerCase():null},formatter:function(e){return p(e).getHours()<12?\"AM\":\"PM\"}},P:{name:\"P\",index:3,extract:function(){return\"(am|pm)\"},parser:function(e){return e?e.toLowerCase():null},formatter:function(e){return p(e).getHours()<12?\"am\":\"pm\"}},M:{name:\"M\",index:4,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){return d(p(e).getMinutes())}},S:{name:\"S\",index:5,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){return d(p(e).getSeconds())}},K:{name:\"K\",index:6,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){return p(e).getMilliseconds().toString()}},a:{name:\"a\",index:2,extract:function(){return\"(\"+e.short.join(\"|\")+\")\"},parser:h.defaultRangeParser(e.short),formatter:function(t){var n=p(t).getDay();return e.short[n].toString()}},A:{name:\"A\",index:2,extract:function(){return\"(\"+e.long.join(\"|\")+\")\"},parser:h.defaultRangeParser(e.long),formatter:function(t){var n=p(t).getDay();return e.long[n].toString()}},e:{name:\"e\",index:2,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){return p(e).getDate().toString()}},d:{name:\"d\",index:2,extract:function(){return\"(\\\\d+)\"},parser:h.defaultNumberParser(),formatter:function(e){return d(p(e).getDate())}},b:{name:\"b\",index:1,extract:function(){return\"(\"+t.short.join(\"|\")+\")\"},parser:h.defaultRangeParser(t.short),formatter:function(e){var n=p(e).getMonth();return t.short[n].toString()}},B:{name:\"B\",index:1,extract:function(){return\"(\"+t.long.join(\"|\")+\")\"},parser:h.defaultRangeParser(t.long),formatter:function(e){var n=p(e).getMonth();return t.long[n].toString()}},m:{name:\"m\",index:1,extract:function(){return\"(\\\\d+)\"},parser:function(e){return h.defaultNumberParser()(e)-1},formatter:function(e){return d(p(e).getMonth()+1)}},y:{name:\"y\",index:0,extract:function(){return\"(\\\\d{2})\"},parser:function(e){var t=void 0;if(e){var n=e.length;e=e.substring(n-2,n)}var r=h.defaultNumberParser()(e),i=new Date,a=Math.trunc(i.getFullYear()/100);return p(t=\"\"+a+r).getFullYear()>i.getFullYear()&&(t=\"\"+(a-1)+r),p(t).getFullYear()},formatter:function(e){var t=p(e).getFullYear().toString(),n=void 0;return t&&(n=t.length,t=t.substring(n-2,n)),t}},Y:{name:\"Y\",index:0,extract:function(){return\"(\\\\d{4})\"},parser:h.defaultNumberParser(),formatter:function(e){return p(e).getFullYear().toString()}}}},h.getTokenFormalNames=function(){var e=h.getTokenDefinitions();return{HOUR:e.H,HOUR_12:e.l,AMPM_UPPERCASE:e.p,AMPM_LOWERCASE:e.P,MINUTE:e.M,SECOND:e.S,SHORT_DAY:e.a,LONG_DAY:e.A,DAY_OF_MONTH:e.e,DAY_OF_MONTH_CONSTANT_WIDTH:e.d,SHORT_MONTH:e.b,LONG_MONTH:e.B,MONTH_OF_YEAR:e.m,SHORT_YEAR:e.y,LONG_YEAR:e.Y}},h.tokenResolver=function(){var e=h.getTokenDefinitions(),t=function(){for(var e=0,t=void 0,n=void 0,r=arguments.length;e<r;e++)t=arguments.length<=e?void 0:arguments[e],(arguments.length<=e?void 0:arguments[e])&&(n=t);return n?n[0].parser(n[1]):null};return{YEAR:[e.y,e.Y,t],MONTH:[e.b,e.B,e.m,t],DAY:[e.a,e.A,e.e,e.d,t],HOUR:[e.H,e.l,e.p,e.P,function(e,t,n,r){var i=void 0,a=void 0,o=void 0,u=void 0;return t&&(a=n||r)?(\"pm\"===a[0].parser(a[1])&&(o=!0),i=t):i=t||e,i?(u=i[0].parser(i[1]),o&&(u+=12),u):null}],MINUTE:[e.M,t],SECOND:[e.S,t]}},h.findTokens=function(e){for(var t=h.TOKEN_PREFIX,n=h.getTokenDefinitions(),r=Object.keys(n),i=[],a=void 0,o=void 0;(a=e.indexOf(t,a+1))>=0;)o=e[a+1],-1!==r.indexOf(o)&&i.push({index:a,token:o});return i},h.formatAs=function(e,t){var n,r=p(e),i=h.findTokens(t),a=h.getTokenDefinitions(),o=String(t),u=h.TOKEN_PREFIX,c=void 0,f=void 0,l=void 0;for(l=0,n=i.length;l<n;l++)f=a[c=i[l].token].formatter(r),o=o.replace(new RegExp(u+c,\"g\"),f);return o},h.prototype.parse=function(e,t){var n=h.tokenResolver(),r=this.extractTokenValue(e),i=h.DATETIME_PARAM_SEQUENCE,a=t&&t.noBreak,o=[],u=[],c=void 0,f=void 0,l=void 0,s=void 0,p=void 0,d=void 0,v=void 0,y=void 0,m=[];for(c in n)if({}.hasOwnProperty.call(n,c)){for(u.length=0,l=(f=n[c]).splice(f.length-1,1)[0],p=0,y=f.length;p<y;p++)void 0===(s=r[(d=f[p]).name])?u.push(null):u.push([d,s]);if(null==(v=l.apply(this,u))&&!a)break;o[i[c]]=v}return o.length&&this.checkIfOnlyYear(o.length)?m.unshift(o[0],0,1):m.unshift.apply(m,o),m},h.prototype.extractTokenValue=function(e){var t,n=this.format,r=h.getTokenDefinitions(),i=h.TOKEN_PREFIX,a=h.findTokens(n),o={},u=void 0,c=void 0,f=void 0,l=void 0,s=void 0,p=void 0;s=String(n);var d=a.map((function(e){return e.token})),v=a.length;for(p=v-1;p>=0;p--)(f=a[p].index)+1!==s.length-1?(void 0===u&&(u=s.length),l=s.substring(f+2,u),s=s.substring(0,f+2)+RegExp.escape(l)+s.substring(u,s.length),u=f):u=f;for(p=0;p<v;p++)c=a[p],s=s.replace(i+c.token,r[c.token].extract());var y=e.match(new RegExp(s))||[];for(y.shift(),p=0,t=d.length;p<t;p++)o[d[p]]=y[p];return o},h.prototype.getNativeDate=function(e){var t=null;if(Number.isFinite(e))t=new Date(e);else if(!this.format&&Date.parse(e))t=new Date(e);else{var n=this.dtParams=this.parse(e);n.length&&(this.nativeDate=new(Function.prototype.bind.apply(Date,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))),t=this.nativeDate)}return t},h.prototype.checkIfOnlyYear=function(e){return 1===e&&this.format.match(/y|Y/g).length},h.prototype.formatAs=function(e,t){var n=void 0;return t?n=this.nativeDate=this.getNativeDate(t):(n=this.nativeDate)||(n=this.getNativeDate(t)),h.formatAs(n,e)};var v=function(e){var t=0;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(n,r){e[r]instanceof Array||(e[r]=Array.from({length:t})),e[r].push(n)})),t++}},y=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},m=\"object\",b=Object.prototype.toString,g=\"[object Object]\",_=\"[object Array]\";function w(e,t){for(var n=t.length,r=-1;n;){if(e===t[n])return r=n;n-=1}return r}function O(e,t,n){return(void 0===e?\"undefined\":y(e))!==m&&(void 0===t?\"undefined\":y(t))!==m?null:(void 0===t?\"undefined\":y(t))!==m||null===t?e:((void 0===e?\"undefined\":y(e))!==m&&(e=t instanceof Array?[]:{}),function e(t,n,r,i,a){var o,u,c,f,l;if(a?(i.push(t),a.push(n)):(i=[t],a=[n]),n instanceof Array)for(o=0;o<n.length;o+=1){try{u=t[o],c=n[o]}catch(e){continue}(void 0===c?\"undefined\":y(c))!==m?r&&void 0===c||(t[o]=c):(null!==u&&(void 0===u?\"undefined\":y(u))===m||(u=t[o]=c instanceof Array?[]:{}),-1!==(l=w(c,a))?u=t[o]=i[l]:e(u,c,r,i,a))}else for(o in n){try{u=t[o],c=n[o]}catch(e){continue}if(null!==c&&(void 0===c?\"undefined\":y(c))===m)(f=b.call(c))===g?(null!==u&&(void 0===u?\"undefined\":y(u))===m||(u=t[o]={}),-1!==(l=w(c,a))?u=t[o]=i[l]:e(u,c,r,i,a)):f===_?(null!==u&&u instanceof Array||(u=t[o]=[]),-1!==(l=w(c,a))?u=t[o]=i[l]:e(u,c,r,i,a)):t[o]=c;else{if(r&&void 0===c)continue;t[o]=c}}return t}(e,t,n),e)}function E(e){return Array.isArray(e)}var j=function(){return\"id-\"+(new Date).getTime()+Math.round(1e4*Math.random())};function A(e,t){if(!E(e)||!E(t))return e===t;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function S(e){return e}var k=function(e){return\"string\"==typeof e?o.DSV_STR:E(e)&&E(e[0])?o.DSV_ARR:E(e)&&(0===e.length||function(e){return e===Object(e)}(e[0]))?o.FLAT_JSON:null},D={data:{},createNamespace:function(e,t){var n=t||j();return this.data[n]={name:n,fields:e,fieldsObj:function(){var e=this._cachedFieldsObj;return e||(e=this._cachedFieldsObj={},this.fields.forEach((function(t){e[t.name()]=t}))),e},getMeasure:function(){var e=this._cachedMeasure;return e||(e=this._cachedMeasure={},this.fields.forEach((function(t){t.schema().type===f.MEASURE&&(e[t.name()]=t)}))),e},getDimension:function(){var e=this._cachedDimension;return this._cachedDimension||(e=this._cachedDimension={},this.fields.forEach((function(t){t.schema().type===f.DIMENSION&&(e[t.name()]=t)}))),e}},this.data[n]}},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var F=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=_n(r,t);Object.defineProperties(this,{_value:{enumerable:!1,configurable:!1,writable:!1,value:t},_formattedValue:{enumerable:!1,configurable:!1,writable:!1,value:i},_internalValue:{enumerable:!1,configurable:!1,writable:!1,value:n}}),this.field=r}return T(e,[{key:\"toString\",value:function(){return String(this.value)}},{key:\"valueOf\",value:function(){return this.value}},{key:\"value\",get:function(){return this._value}},{key:\"formattedValue\",get:function(){return this._formattedValue}},{key:\"internalValue\",get:function(){return this._internalValue}}]),e}();function N(e,t){e.length>0&&e.split(\",\").forEach((function(e){var n=e.split(\"-\"),r=+n[0],i=+(n[1]||n[0]);if(i>=r)for(var a=r;a<=i;a+=1)t(a)}))}var R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._value=t}return R(e,null,[{key:\"invalidAwareVals\",value:function(t){return t?Object.assign(e._invalidAwareValsMap,t):e._invalidAwareValsMap}}]),R(e,[{key:\"value\",value:function(){return this._value}},{key:\"toString\",value:function(){return String(this._value)}}],[{key:\"isInvalid\",value:function(t){return t instanceof e||!!e.invalidAwareVals()[t]}},{key:\"getInvalidType\",value:function(t){return t instanceof e?t:e.invalidAwareVals()[t]}}]),e}();P.NULL=new P(\"null\"),P.NA=new P(\"na\"),P.NIL=new P(\"nil\"),P._invalidAwareValsMap={invalid:P.NA,nil:P.NIL,null:P.NULL,undefined:P.NA};var C=P,M=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},I=function(e,t,n){for(var r=[],i=t;i<n;)r.push(i),i+=e;return r.push(i),r},x=function(e,t){for(var n=0,r=e.length-1,i=void 0,a=void 0;n<=r;){if(t>=(a=e[i=n+Math.floor((r-n)/2)]).start&&t<a.end)return a;t>=a.end?n=i+1:t<a.start&&(r=i-1)}return null};var U=\"__id__\",L={SELECT:\"select\",PROJECT:\"project\",GROUPBY:\"group\",COMPOSE:\"compose\",CAL_VAR:\"calculatedVariable\",BIN:\"bin\",SORT:\"sort\"},V={CROSS:\"cross\",LEFTOUTER:\"leftOuter\",RIGHTOUTER:\"rightOuter\",NATURAL:\"natural\",FULLOUTER:\"fullOuter\"},B=\"and\";function Y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function H(e,t){var n=[],r=[];return e.fields.forEach((function(e){r.push(e.schema().name)})),t.fields.forEach((function(e){-1!==r.indexOf(e.schema().name)&&n.push(e.schema().name)})),n}function J(){return!0}function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:V.CROSS,a=[],o=[],u=n||J,c=e.getFieldspace(),f=t.getFieldspace(),l=c.name,s=f.name,p=c.name+\".\"+f.name,d=H(c,f);if(l===s)throw new Error(\"DataModels must have different alias names\");return c.fields.forEach((function(e){var t=O({},e.schema());-1===d.indexOf(t.name)||r||(t.name=c.name+\".\"+t.name),a.push(t)})),f.fields.forEach((function(e){var t=O({},e.schema());-1!==d.indexOf(t.name)?r||(t.name=f.name+\".\"+t.name,a.push(t)):a.push(t)})),N(e._rowDiffset,(function(n){var p=!1,h=void 0;N(t._rowDiffset,(function(v){var y=[],m={};m[l]={},m[s]={},c.fields.forEach((function(e){y.push(e.partialField.data[n]),m[l][e.name()]={rawValue:e.partialField.data[n],formattedValue:e.formattedData()[n]}})),f.fields.forEach((function(e){-1!==d.indexOf(e.schema().name)&&r||y.push(e.partialField.data[v]),m[s][e.name()]={rawValue:e.partialField.data[v],formattedValue:e.formattedData()[v]}}));var b=Bt(m[l]),g=Bt(m[s]);if(u(b,g,(function(){return e.detachedRoot()}),(function(){return t.detachedRoot()}),{})){var _={};y.forEach((function(e,t){_[a[t].name]=e})),p&&V.CROSS!==i?o[h]=_:(o.push(_),p=!0,h=n)}else if((i===V.LEFTOUTER||i===V.RIGHTOUTER)&&!p){var w={},O=c.fields.length-1;y.forEach((function(e,t){w[a[t].name]=t<=O?e:null})),p=!0,h=n,o.push(w)}}))})),new Sn(o,a,{name:p})}function z(e,t){var n=\"\"+e,r=\"\"+t;return n<r?-1:n>r?1:0}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;return e.length>1&&function e(t,n,r,i){if(r===n)return t;var a=n+Math.floor((r-n)/2);return e(t,n,a,i),e(t,a+1,r,i),function(e,t,n,r,i){for(var a=e,o=[],u=t;u<=r;u+=1)o[u]=a[u];for(var c=t,f=n+1,l=t;l<=r;l+=1)c>n?(a[l]=o[f],f+=1):f>r?(a[l]=o[c],c+=1):i(o[c],o[f])<=0?(a[l]=o[c],c+=1):(a[l]=o[f],f+=1)}(t,n,a,r,i),t}(e,0,e.length-1,t),e}var W=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};function X(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function q(e,t){var n=\"desc\"===String(t).toLowerCase()?\"desc\":\"asc\";return function(e,t){var n=void 0;switch(e){case c.CONTINUOUS:case u.TEMPORAL:n=\"asc\"===t?function(e,t){return e-t}:function(e,t){return t-e};break;default:n=\"asc\"===t?function(e,t){return(e=\"\"+e)===(t=\"\"+t)?0:e>t?1:-1}:function(e,t){return(e=\"\"+e)===(t=\"\"+t)?0:e>t?-1:1}}return n}(e.type,n)}function Z(e,t){var n=new Map,r=[];return e.forEach((function(e){var i=e[t];n.has(i)?r[n.get(i)][1].push(e):(r.push([i,[e]]),n.set(i,r.length-1))})),r}function $(e,t,n){var r={label:e[0]};return t.reduce((function(t,r,i){return t[r]=e[1].map((function(e){return e[n[i].index]})),t}),r),r}function Q(e,t,n){for(var r=void 0,i=void 0,a=void 0,o=n.length-1;o>=0;o--)r=n[o][0],i=n[o][1],(a=sn(t,r))&&(\"function\"==typeof i?K(e,(function(e,t){return i(e[a.index],t[a.index])})):E(i)?function(){var n=Z(e,a.index),r=i[i.length-1],o=i.slice(0,i.length-1),u=o.map((function(e){return sn(t,e)}));n.forEach((function(e){e.push($(e,o,u))})),K(n,(function(e,t){var n=e[2],i=t[2];return r(n,i)})),e.length=0,n.forEach((function(t){e.push.apply(e,X(t[1]))}))}():function(){var t=q(a,i);K(e,(function(e,n){return t(e[a.index],n[a.index])}))}())}var ee,te=function e(t,n,r,i){if(0===t.length)return n;var a=t[0],o=new Map;n.reduce((function(e,t){var n=t[a.index];return e.has(n)?e.get(n).push(t):e.set(n,[t]),e}),o);var u=!0,c=!1,f=void 0;try{for(var l,s=o[Symbol.iterator]();!(u=(l=s.next()).done);u=!0){var p=l.value,d=W(p,2),h=d[0],v=d[1],y=e(t.slice(1),v,r,i);o.set(h,y),Array.isArray(y)&&Q(y,r,i)}}catch(e){c=!0,f=e}finally{try{!u&&s.return&&s.return()}finally{if(c)throw f}}return o};function ne(e,t){var n=e.schema,r=e.data;if(0!==(t=t.filter((function(e){return!!sn(n,e[0])}))).length){var i=t.findIndex((function(e){return null===e[1]}));i=-1!==i?i:t.length;var a=t.slice(0,i),o=t.slice(i);Q(r,n,a),r=function(e,t,n,r){if(0===(n=n.filter((function(e){return null!==e[1]||(r.push(e[0]),!1)}))).length)return e;r=r.map((function(e){return sn(t,e)}));var i=te(r,e,t,n);return e.map((function(e){for(var t=0,n=i;!Array.isArray(n);)n=n.get(e[r[t++].index]);return n.shift()}))}(r,n,o,a.map((function(e){return e[0]}))),e.uids=r.map((function(e){return e.pop()})),e.data=r}}function re(e,t,n,r,i){i=Object.assign({},{addUid:!1,columnWise:!1},i);var a={schema:[],data:[],uids:[]},o=i.addUid,u=r&&r.length>0,c=[];if(n.split(\",\").forEach((function(t){for(var n=0;n<e.length;n+=1)if(e[n].name()===t){c.push(e[n]);break}})),c.forEach((function(e){a.schema.push(e.schema())})),o&&a.schema.push({name:U,type:f.DIMENSION}),N(t,(function(e){a.data.push([]);var t=a.data.length-1;c.forEach((function(n,r){a.data[t][r+0]=n.partialField.data[e]})),o&&(a.data[t][c.length]=e),a.uids.push(e),u&&a.data[t].push(e)})),u&&ne(a,r),i.columnWise){var l=Array.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(a.schema.length))).map((function(){return[]}));a.data.forEach((function(e){e.forEach((function(e,t){l[t].push(e)}))})),a.data=l}return a}function ie(e,t){var n={},r=[],i=[],a=[],o=e.getFieldspace(),u=t.getFieldspace(),c=o.fieldsObj(),f=u.fieldsObj(),l=o.name+\" union \"+u.name;if(!A(e._colIdentifier.split(\",\").sort(),t._colIdentifier.split(\",\").sort()))return null;function s(e,t,r){N(e._rowDiffset,(function(e){var o={},u=\"\";i.forEach((function(n){var r=t[n].partialField.data[e];u+=\"-\"+r,o[n]=r})),n[u]||(r&&a.push(o),n[u]=!0)}))}return e._colIdentifier.split(\",\").forEach((function(e){var t=c[e];r.push(O({},t.schema())),i.push(t.schema().name)})),s(t,f,!1),s(e,c,!0),new Sn(a,r,{name:l})}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ue=s.SUM,ce=s.AVG,fe=s.FIRST,le=s.LAST,se=s.COUNT,pe=s.STD,de=s.MIN,he=s.MAX;function ve(e){return e.filter((function(e){return!(e instanceof C)}))}function ye(e){if(E(e)&&!(e[0]instanceof Array)){var t=ve(e);return t.length?t.reduce((function(e,t){return e+t}),0):C.NULL}return C.NULL}function me(e){if(E(e)&&!(e[0]instanceof Array)){var t=ye(e),n=e.length||1;return Number.isNaN(t)||t instanceof C?C.NULL:t/n}return C.NULL}var be=(ae(ee={},ue,ye),ae(ee,ce,me),ae(ee,de,(function(e){if(E(e)&&!(e[0]instanceof Array)){var t=ve(e);return t.length?Math.min.apply(Math,oe(t)):C.NULL}return C.NULL})),ae(ee,he,(function(e){if(E(e)&&!(e[0]instanceof Array)){var t=ve(e);return t.length?Math.max.apply(Math,oe(t)):C.NULL}return C.NULL})),ae(ee,fe,(function(e){return e[0]})),ae(ee,le,(function(e){return e[e.length-1]})),ae(ee,se,(function(e){return E(e)?e.length:C.NULL})),ae(ee,pe,(function(e){return Math.sqrt(function(e){var t=me(e);return me(e.map((function(e){return Math.pow(e-t,2)})))}(e))})),ee),ge=ue,_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var we,Oe=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store=new Map,this.store.set(\"defReducer\",ye),Object.entries(be).forEach((function(e){t.store.set(e[0],e[1])}))}return _e(e,[{key:\"defaultReducer\",value:function(){if(!arguments.length)return this.store.get(\"defReducer\");var e=arguments.length<=0?void 0:arguments[0];if(\"function\"==typeof e)this.store.set(\"defReducer\",e);else{if(e=String(e),-1===Object.keys(be).indexOf(e))throw new Error(\"Reducer \"+e+\" not found in registry\");this.store.set(\"defReducer\",be[e])}return this}},{key:\"register\",value:function(e,t){var n=this;if(\"function\"!=typeof t)throw new Error(\"Reducer should be a function\");return e=String(e),this.store.set(e,t),function(){n.__unregister(e)}}},{key:\"__unregister\",value:function(e){this.store.has(e)&&this.store.delete(e)}},{key:\"resolve\",value:function(e){return e instanceof Function?e:this.store.get(e)}}]),e}(),Ee=(null===(we=null)&&(we=new Oe),we),je=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};function Ae(e,t,n,r){var i=function(e,t){var n=[],r=e.getFieldspace().getDimension();return Object.entries(r).forEach((function(e){var r=je(e,1)[0];t&&t.length?-1!==t.indexOf(r)&&n.push(r):n.push(r)})),n}(e,t),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=e.getFieldspace().getMeasure(),i=Ee.defaultReducer();return Object.keys(r).forEach((function(e){\"string\"!=typeof t[e]&&(t[e]=r[e].defAggFn());var a=Ee.resolve(t[e]);a?n[e]=a:(n[e]=i,t[e]=ge)})),n}(e,n),o=e.getFieldspace(),u=o.fieldsObj(),c=o.name,l=[],s=[],p=[],d={},h=[],v=void 0;Object.entries(u).forEach((function(e){var t=je(e,2),n=t[0],r=t[1];if(-1!==i.indexOf(n)||a[n])switch(p.push(O({},r.schema())),r.schema().type){case f.MEASURE:s.push(n);break;default:case f.DIMENSION:l.push(n)}}));var y=0;N(e._rowDiffset,(function(e){var t=\"\";l.forEach((function(n){t=t+\"-\"+u[n].partialField.data[e]})),void 0===d[t]?(d[t]=y,h.push({}),l.forEach((function(t){h[y][t]=u[t].partialField.data[e]})),s.forEach((function(t){h[y][t]=[u[t].partialField.data[e]]})),y+=1):s.forEach((function(n){h[d[t]][n].push(u[n].partialField.data[e])}))}));var m={},b=function(){return e.detachedRoot()};return h.forEach((function(e){var t=e;s.forEach((function(n){t[n]=a[n](e[n],b,m)}))})),r?(r.__calculateFieldspace(),v=r):v=new xn(h,p,{name:c}),v}function Se(e,t){var n=H(e.getFieldspace(),t.getFieldspace());return function(e,t){var r=!0;return n.forEach((function(n){r=!(e[n].internalValue!==t[n].internalValue||!r)})),r}}function ke(e,t){var n={},r=[],i=[],a=[],o=e.getFieldspace(),u=t.getFieldspace(),c=o.fieldsObj(),f=u.fieldsObj(),l=o.name+\" union \"+u.name;if(!A(e._colIdentifier.split(\",\").sort(),t._colIdentifier.split(\",\").sort()))return null;function s(e,t){N(e._rowDiffset,(function(e){var r={},o=\"\";i.forEach((function(n){var i=t[n].partialField.data[e];o+=\"-\"+i,r[n]=i})),n[o]||(a.push(r),n[o]=!0)}))}return e._colIdentifier.split(\",\").forEach((function(e){var t=c[e];r.push(O({},t.schema())),i.push(t.schema().name)})),s(e,c),s(t,f),new xn(a,r,{name:l})}function De(e,t,n){return G(e,t,n,!1,V.LEFTOUTER)}function Te(e,t,n){return G(t,e,n,!1,V.RIGHTOUTER)}var Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ne=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.name=t,this.schema=r,this.parser=i,this.data=this._sanitize(n)}return Fe(e,[{key:\"_sanitize\",value:function(e){var t=this;return e.map((function(e){return t.parser.parse(e,{format:t.schema.format})}))}}]),e}(),Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.partialField=t,this.rowDiffset=n}return Re(e,[{key:\"domain\",value:function(){throw new Error(\"Not yet implemented\")}},{key:\"schema\",value:function(){return this.partialField.schema}},{key:\"name\",value:function(){return this.partialField.name}},{key:\"type\",value:function(){return this.partialField.schema.type}},{key:\"subtype\",value:function(){return this.partialField.schema.subtype}},{key:\"description\",value:function(){return this.partialField.schema.description}},{key:\"displayName\",value:function(){return this.partialField.schema.displayName||this.partialField.schema.name}},{key:\"data\",value:function(){var e=this,t=[];return N(this.rowDiffset,(function(n){t.push(e.partialField.data[n])})),t}},{key:\"formattedData\",value:function(){throw new Error(\"Not yet implemented\")}}],[{key:\"parser\",value:function(){throw new Error(\"Not yet implemented\")}},{key:\"BUILDER\",get:function(){return{_params:{},_context:this,fieldName:function(e){return this._params.name=e,this},schema:function(e){return this._params.schema=e,this},data:function(e){return this._params.data=e,this},partialField:function(e){return this._params.partialField=e,this},rowDiffset:function(e){return this._params.rowDiffset=e,this},build:function(){var e=null;if(this._params.partialField instanceof Ne)e=this._params.partialField;else{if(!this._params.schema||!this._params.data)throw new Error(\"Invalid Field parameters\");e=new Ne(this._params.name,this._params.data,this._params.schema,this._context.parser())}return new this._context(e,this._params.rowDiffset)}}}}]),e}(),Ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ce(t,[{key:\"domain\",value:function(){return this._cachedDomain||(this._cachedDomain=this.calculateDataDomain()),this._cachedDomain}},{key:\"calculateDataDomain\",value:function(){throw new Error(\"Not yet implemented\")}},{key:\"formattedData\",value:function(){return this.data()}}]),t}(Pe),Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ie(t,[{key:\"domain\",value:function(){return this._cachedDomain||(this._cachedDomain=this.calculateDataDomain()),this._cachedDomain}},{key:\"unit\",value:function(){return this.partialField.schema.unit}},{key:\"defAggFn\",value:function(){return this.partialField.schema.defAggFn||ge}},{key:\"numberFormat\",value:function(){var e=this.partialField.schema.numberFormat;return e instanceof Function?e:S}},{key:\"calculateDataDomain\",value:function(){throw new Error(\"Not yet implemented\")}},{key:\"formattedData\",value:function(){return this.data()}}]),t}(Pe),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return Ue(e,[{key:\"parse\",value:function(){throw new Error(\"Not yet implemented\")}}]),e}(),Ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ve(t,[{key:\"parse\",value:function(e){return C.isInvalid(e)?C.getInvalidType(e):String(e).trim()}}]),t}(Le),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ye(t,[{key:\"subtype\",value:function(){return u.CATEGORICAL}},{key:\"calculateDataDomain\",value:function(){var e=this,t=new Set,n=[];return N(this.rowDiffset,(function(r){var i=e.partialField.data[r];t.has(i)||(t.add(i),n.push(i))})),n}}],[{key:\"parser\",value:function(){return new Be}}]),t}(Me),Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Je(t,[{key:\"parse\",value:function(e,t){var n=t.format,r=void 0;if(this._dtf||(this._dtf=new h(n)),C.isInvalid(e))r=C.getInvalidType(e);else{var i=this._dtf.getNativeDate(e);r=i?i.getTime():C.NA}return r}}]),t}(Le),ze=function(e,t){var n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return N(t,(function(t){var i=e[t];i instanceof C||(i<n&&(n=i),i>r&&(r=i))})),[n,r]},Ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var We=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._cachedMinDiff=null,r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ke(t,[{key:\"calculateDataDomain\",value:function(){return ze(this.partialField.data,this.rowDiffset)}},{key:\"minimumConsecutiveDifference\",value:function(){if(this._cachedMinDiff)return this._cachedMinDiff;for(var e=this.data().filter((function(e){return!(e instanceof C)})).sort((function(e,t){return e-t})),t=e.length,n=Number.POSITIVE_INFINITY,r=void 0,i=void 0,a=0,o=1;o<t;o++)r=e[o-1],(i=e[o])!==r&&(n=Math.min(n,i-e[o-1]),a++);return a||(n=null),this._cachedMinDiff=n,this._cachedMinDiff}},{key:\"format\",value:function(){return this.partialField.schema.format}},{key:\"formattedData\",value:function(){var e=this,t=[],n=this.format();return N(this.rowDiffset,(function(r){var i=e.partialField.data[r];if(C.isInvalid(i)||!n&&Number.isFinite(i)){var a=C.getInvalidType(i)||i;t.push(a)}else t.push(h.formatAs(i,n))})),t}}],[{key:\"parser\",value:function(){return new Ge}}]),t}(Me),Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xe(t,[{key:\"parse\",value:function(e){e=String(e);var t=void 0;if(C.isInvalid(e))t=C.getInvalidType(e);else{var n=e.match(/^\\s*([+-]?\\d+(?:\\.\\d+)?)\\s*-\\s*([+-]?\\d+(?:\\.\\d+)?)\\s*$/);t=n?Number.parseFloat(n[1])+\"-\"+Number.parseFloat(n[2]):C.NA}return t}}]),t}(Le),Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ze(t,[{key:\"calculateDataDomain\",value:function(){var e=this.partialField.schema.bins;return[e[0],e[e.length-1]]}},{key:\"bins\",value:function(){return this.partialField.schema.bins}}],[{key:\"parser\",value:function(){return new qe}}]),t}(Me),Qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qe(t,[{key:\"parse\",value:function(e){var t=void 0;if(C.isInvalid(e))t=C.getInvalidType(e);else{var n=parseFloat(e,10);t=Number.isNaN(n)?C.NA:n}return t}}]),t}(Le),tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tt(t,[{key:\"subtype\",value:function(){return c.CONTINUOUS}},{key:\"calculateDataDomain\",value:function(){return ze(this.partialField.data,this.rowDiffset)}}],[{key:\"parser\",value:function(){return new et}}]),t}(xe),rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var it=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._fieldType=new Map}return rt(e,[{key:\"registerFieldType\",value:function(e,t){return this._fieldType.set(e,t),this}},{key:\"has\",value:function(e){return this._fieldType.has(e)}},{key:\"get\",value:function(e){return this._fieldType.get(e)}}]),e}(),at=function(e){e.registerFieldType(u.CATEGORICAL,He).registerFieldType(u.TEMPORAL,We).registerFieldType(u.BINNED,$e).registerFieldType(c.CONTINUOUS,nt)},ot=function(){var e=null;return e||(e=new it,at(e),e)}();function ut(e,t,n){var r={};return n&&n.length||(n=t.map((function(e){return e.name}))),n.forEach((function(e,t){r[e]=t})),t.map((function(t){return function(e,t){return e=e||[],ot.has(t.subtype)?ot.get(t.subtype).BUILDER.fieldName(t.name).schema(t).data(e).rowDiffset(\"0-\"+(e.length-1)).build():ot.get(t.type===f.MEASURE?c.CONTINUOUS:u.CATEGORICAL).BUILDER.fieldName(t.name).schema(t).data(e).rowDiffset(\"0-\"+(e.length-1)).build()}(e[r[t.name]],t)}))}var ct={dataFormat:o.AUTO},ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._type=t}return ft(e,[{key:\"convert\",value:function(){throw new Error(\"Convert method not implemented.\")}},{key:\"type\",get:function(){return this._type}}]),e}(),st={},pt={},dt=34,ht=10,vt=13;function yt(e){return new Function(\"d\",\"return {\"+e.map((function(e,t){return JSON.stringify(e)+\": d[\"+t+'] || \"\"'})).join(\",\")+\"}\")}function mt(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function bt(e,t){var n=e+\"\",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function gt(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?\"Invalid Date\":((t=e.getUTCFullYear())<0?\"-\"+bt(-t,6):t>9999?\"+\"+bt(t,6):bt(t,4))+\"-\"+bt(e.getUTCMonth()+1,2)+\"-\"+bt(e.getUTCDate(),2)+(a?\"T\"+bt(n,2)+\":\"+bt(r,2)+\":\"+bt(i,2)+\".\"+bt(a,3)+\"Z\":i?\"T\"+bt(n,2)+\":\"+bt(r,2)+\":\"+bt(i,2)+\"Z\":r||n?\"T\"+bt(n,2)+\":\"+bt(r,2)+\"Z\":\"\")}var _t=function(e){var t=new RegExp('[\"'+e+\"\\n\\r]\"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,u=0,c=a<=0,f=!1;function l(){if(c)return pt;if(f)return f=!1,st;var t,r,i=o;if(e.charCodeAt(i)===dt){for(;o++<a&&e.charCodeAt(o)!==dt||e.charCodeAt(++o)===dt;);return(t=o)>=a?c=!0:(r=e.charCodeAt(o++))===ht?f=!0:r===vt&&(f=!0,e.charCodeAt(o)===ht&&++o),e.slice(i+1,t-1).replace(/\"\"/g,'\"')}for(;o<a;){if((r=e.charCodeAt(t=o++))===ht)f=!0;else if(r===vt)f=!0,e.charCodeAt(o)===ht&&++o;else if(r!==n)continue;return e.slice(i,t)}return c=!0,e.slice(i,a)}for(e.charCodeAt(a-1)===ht&&--a,e.charCodeAt(a-1)===vt&&--a;(r=l())!==pt;){for(var s=[];r!==st&&r!==pt;)s.push(r),r=l();t&&null==(s=t(s,u++))||i.push(s)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?\"\":e instanceof Date?gt(e):t.test(e+=\"\")?'\"'+e.replace(/\"/g,'\"\"')+'\"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=yt(e);return function(r,i){return t(n(r),i,e)}}(e,t):yt(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=mt(t)),[n.map(o).join(e)].concat(i(t,n)).join(\"\\n\")},formatBody:function(e,t){return null==t&&(t=mt(e)),i(e,t).join(\"\\n\")},formatRows:function(e){return e.map(a).join(\"\\n\")},formatRow:a,formatValue:o}};var wt=function(e,t,n){if(!Array.isArray(t))throw new Error(\"Schema missing or is in an unsupported format\");var r=t.map((function(e){return e.name}));n=Object.assign({},{firstRowHeader:!0},n);var i=[],a=v(i),o=r;n.firstRowHeader&&(o=e.splice(0,1)[0]);var u=o.reduce((function(e,t,n){return Object.assign(e,(a=n,(i=t)in(r={})?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r));var r,i,a}),{});return e.forEach((function(e){var t=[];return r.forEach((function(n){var r=u[n];t.push(e[r])})),a.apply(void 0,t)})),[r,i]};var Ot=function(e,t,n){n=Object.assign({},{firstRowHeader:!0,fieldSeparator:\",\"},n);var r=_t(n.fieldSeparator);return wt(r.parseRows(e),t,n)},Et=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var jt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.DSV_STR))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Et(t,[{key:\"convert\",value:function(e,t,n){return Ot(e,t,n)}}]),t}(lt);var At=function(e,t){if(!Array.isArray(t))throw new Error(\"Schema missing or is in an unsupported format\");var n={},r=0,i=void 0,a=[],o=v(a),u=t.map((function(e){return e.name}));return e.forEach((function(e){var t=[];u.forEach((function(a){a in n?i=n[a]:(n[a]=r++,i=r-1),t[i]=e[a]})),o.apply(void 0,t)})),[Object.keys(n),a]},St=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.FLAT_JSON))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),St(t,[{key:\"convert\",value:function(e,t,n){return At(e,t,n)}}]),t}(lt),Dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.DSV_ARR))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Dt(t,[{key:\"convert\",value:function(e,t,n){return wt(e,t,n)}}]),t}(lt);var Ft=function(e,t,n){var r={FlatJSON:At,DSVStr:Ot,DSVArr:wt},i=k(e);if(!i)throw new Error(\"Couldn't detect the data format\");return r[i](e,t,n)},Nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.AUTO))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Nt(t,[{key:\"convert\",value:function(e,t,n){return Ft(e,t,n)}}]),t}(lt),Pt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ct,Mt,It=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store=new Map,this.converters(this._getDefaultConverters())}return Pt(e,[{key:\"_getDefaultConverters\",value:function(){return[new jt,new Tt,new kt,new Rt]}},{key:\"converters\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.forEach((function(t){return e.store.set(t.type,t)})),this.store}},{key:\"register\",value:function(e){return e instanceof lt?(this.store.set(e.type,e),this):null}},{key:\"unregister\",value:function(e){return this.store.delete(e.type),this}},{key:\"get\",value:function(e){return this.store.has(e)?this.store.get(e):null}}]),e}(),xt=function(){var e=null;return e||(e=new It)}(),Ut=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Bt(e){var t={};for(var n in e)t[n]=new F(e[n].formattedValue,e[n].rawValue,n);return t}var Yt=function(e,t,n){var r=Ut(e,2),i=r[0],a=r[1],o=a.length?a.split(\",\"):[],l=t.fieldsObj(),s=o.map((function(e){return function(e,t){var n=e.schema;return ot.has(n.subtype)?ot.get(n.subtype).BUILDER.partialField(e).rowDiffset(t).build():ot.get(n.type===f.MEASURE?c.CONTINUOUS:u.CATEGORICAL).BUILDER.partialField(e).rowDiffset(t).build()}(l[e].partialField,i)}));return D.createNamespace(s,n)},Ht=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];t===L.COMPOSE?(e._derivation.length=0,(n=e._derivation).push.apply(n,Vt(i))):e._derivation.push({op:t,meta:r,criteria:i})},Jt=function(e,t){var n;(n=t._ancestorDerivation).push.apply(n,Vt(e._ancestorDerivation).concat(Vt(e._derivation)))},Gt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments[4];Ht(t,n,r,i),Jt(e,t)},zt=(Lt(Ct={},l.NORMAL,{diffIndex:[\"rowDiffset\"],calcDiff:[!0,!1]}),Lt(Ct,l.INVERSE,{diffIndex:[\"rejectRowDiffset\"],calcDiff:[!1,!0]}),Lt(Ct,l.ALL,{diffIndex:[\"rowDiffset\",\"rejectRowDiffset\"],calcDiff:[!0,!0]}),Ct),Kt=function(e,t,n){if(-1!==n&&t===n+1){var r=e.length-1;e[r]=e[r].split(\"-\")[0]+\"-\"+t}else e.push(\"\"+t)},Wt=function(e,t,n){var r=[],i=[],a=Ut(zt[n].calcDiff,2),o=a[0],u=a[1];return N(e,(function(e){var n=t(e);n&&o&&Kt(r,e,-1),!n&&u&&Kt(i,e,-1)})),{rowDiffset:r.join(\",\"),rejectRowDiffset:i.join(\",\")}},Xt=function(e,t,n,r,i){var a={},o={},u={};return N(e,(function(e){if(t(e)){var n=\"\",c={keys:{}};r.forEach((function(t){var r=i[t].partialField.data[e];n=n+\"-\"+r,c.keys[t]=r})),void 0===o[n]&&(o[n]=[],a[n]=-1,u[n]=c),Kt(o[n],e,a[n]),a[n]=e}})),{splitRowDiffset:o,dimensionMap:u}},qt=function(e,t,n,r,i){var a={},o=function(){return r.detachedRoot()},u=n.mode,c=e._rowDiffset,f=e._partialFieldspace._cachedValueObjects;return i(c,(function(e){return t(f[e],e,o,a)}),u)},Zt=function(e){var t=e.clone(!1),n=e.getPartialFieldspace();return t._colIdentifier=n.fields.map((function(e){return e.name()})).join(\",\"),n._cachedFieldsObj=null,n._cachedDimension=null,n._cachedMeasure=null,t.__calculateFieldspace().calculateFieldsConfig(),t},$t=function(e,t,n,r){for(var i=n(e,t,0,r),a=1,o=e.length;a<o;a++)i=i+\",\"+n(e,t,a,r);return i},Qt=function(e,t,n,r){var i=e[n];return i===U?r:t[i].internalValue},en=function(e,t){return(t[0]instanceof Array?t:[t]).some((function(t){return e>=t[0]&&e<=t[1]}))},tn=(Lt(Mt={},c.CONTINUOUS,en),Lt(Mt,u.TEMPORAL,en),Mt),nn=function(e,t,n){return tn[n](e,t)},rn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=n.operation||B,a=n.filterByDim,o=void 0===a||a,u=n.filterByMeasure,c=void 0!==u&&u,l=n.clone,s=void 0===l||l,p=s?Zt(e):e,d=p.getFieldsConfig();r=t.length?t.map((function(e){return function(e){var t=e.criteria,n=void 0===t?{}:t,r=n.identifiers,i=void 0===r?[[],[]]:r,a=n.range,u=Ut(i,2),l=u[0],s=void 0===l?[]:l,p=u[1],h=void 0===p?[]:p,v=s.reduce((function(e,t,n){return e[t]=n,e}),{}),y=(s=s.filter((function(e){return e in d&&d[e].def.type===f.DIMENSION||e===U}))).length,m={};if(y)for(var b=function(e,t){var n=i[e],r=\"\"+s.map((function(e){var t=v[e];return n[t]}));m[r]=1},g=1,_=i.length;g<_;g++)b(g);var w=Object.keys(a||{}).filter((function(e){return e in d})),O=h.length||w.length;return c||(w=w.filter((function(e){return d[e].def.type!==f.MEASURE}))),o||(w=w.filter((function(e){return d[e].def.type!==f.DIMENSION}))),O?function(e,t){var n=!0;return o&&(n=!y||m[$t(s,e,Qt,t)]),w.every((function(t){var n=e[t].internalValue;return nn(n,a[t],d[t].def.subtype)}))&&n}:function(){return!1}}(e)})):[function(){return!1}];return i===B?p.select((function(e,t){return r.every((function(n){return n(e,t)}))}),{saveChild:!1}):p.select((function(e,t){return r.some((function(n){return n(e,t)}))}),{saveChild:!1})},an=function(e,t,n,r,i){e._rowDiffset=t,e.__calculateFieldspace().calculateFieldsConfig(),Gt(n,e,L.SELECT,{config:r},i)},on=function(e,t,n,r){var i=e.clone(n.saveChild),a=t;return n.mode===l.INVERSE&&(a=r.filter((function(e){return-1===t.indexOf(e)}))),i._colIdentifier=a.join(\",\"),i.__calculateFieldspace().calculateFieldsConfig(),Gt(e,i,L.PROJECT,{projField:t,config:n,actualProjField:a},null),i},un=function(e,t,n,r){return t.map((function(t){return on(e,t,n,r)}))},cn=function(e){if((e=O({},e)).type||(e.type=f.DIMENSION),!e.subtype)switch(e.type){case f.MEASURE:e.subtype=c.CONTINUOUS;break;default:case f.DIMENSION:e.subtype=u.CATEGORICAL}return e},fn=function(e){return e.map((function(e){return function(e){var t=e.type,n=e.subtype,r=e.name;if(t!==f.DIMENSION&&t!==f.MEASURE)throw new Error(\"DataModel doesn't support field type \"+t+\" used for \"+r+\" field\");if(!ot.has(n))throw new Error(\"DataModel doesn't support measure field subtype \"+n+\" used for \"+r+\" field\")}(e=cn(e)),e}))},ln=function(e,t,n,r){n=fn(n),r=Object.assign(Object.assign({},ct),r);var i=xt.get(r.dataFormat);if(!i)throw new Error(\"No converter function found for \"+r.dataFormat+\" format\");var a=i.convert(t,n,r),u=Ut(a,2),c=u[0],f=u[1];!function(e,t){e.forEach((function(e){var n=e.as;if(n){var r=t.indexOf(e.name);t[r]=n,e.name=n,delete e.as}}))}(n,c);var l=ut(f,n,c),s=D.createNamespace(l,r.name);e._partialFieldspace=s,e._rowDiffset=f.length&&f[0].length?\"0-\"+(f[0].length-1):\"\";var p=[],d=s.fields,h=d.map((function(e){return e.data()})),v=d.map((function(e){return e.formattedData()}));return N(e._rowDiffset,(function(e){p[e]=function(e,t,n,r){var i={},a=!0,o=!1,u=void 0;try{for(var c,f=e.entries()[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var l=c.value,s=Ut(l,2),p=s[0],d=s[1];i[d.name()]=new F(t[p][r],n[p][r],d)}}catch(e){o=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw u}}return i}(d,v,h,e)})),s._cachedValueObjects=p,e._colIdentifier=n.map((function(e){return e.name})).join(),e._dataFormat=r.dataFormat===o.AUTO?k(t):r.dataFormat,e},sn=function(e,t){for(var n=0;n<e.length;++n)if(t===e[n].name)return{name:t,type:e[n].subtype||e[n].type,index:n};return null},pn=function(e,t){var n=t.getDerivations(),r=e;return n.forEach((function(e){if(e){var t,n=function(e){var t=[],n=void 0;switch(n=e.op){case L.SELECT:t=[e.criteria];break;case L.PROJECT:t=[e.meta.actualProjField];break;case L.SORT:t=[e.criteria];break;case L.GROUPBY:n=\"groupBy\",t=[e.meta.groupByString.split(\",\"),e.criteria];break;default:n=null}return{operation:n,params:t}}(e),i=n.operation,a=n.params;if(i)r=(t=r)[i].apply(t,Vt(a).concat([{saveChild:!1}]))}})),r},dn=function(e){for(;e._parent&&e._derivation.find((function(e){return e.op!==L.GROUPBY}));)e=e._parent;return e},hn=function(e){for(;e._parent;)e=e._parent;return e},vn=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e._parent;)t.push(e),e=e._parent;return t},yn=function(e,t,n,r){var i=void 0,a=n.propagationNameSpace,o=n.propagateToSource,u=n.sourceId,c=function(e){var t=e.config,n=e.model,r=t.criteria,i=void 0;return null!==r&&r.fields.some((function(e){return e.type===f.MEASURE}))&&(i=dn(n)),Object.assign({},t,{groupedModel:i})},l=[];if(null===e)l=[{criteria:[]}],i=[];else{var s,p=Object.values(a.mutableActions);!1!==o&&(p=p.filter((function(e){return e.config.sourceId!==u})));var d=p.filter((function(e){return(r.filterFn||function(){return!0})(e,r)})),h=[];if(!1!==o){var v=Object.values(a.mutableActions);v.forEach((function(e){var t=e.config;!1===t.applyOnSource&&t.action===r.action&&t.sourceId!==u&&(h.push(e.model),(i=v.filter((function(t){return t!==e})).map(c)).length&&l.push({criteria:i,models:e.model,path:vn(e.model)}))}))}i=(s=[]).concat.apply(s,[].concat(Vt(d.map(c)),[{criteria:e,groupedModel:null!==e&&e.fields.some((function(e){return e.type===f.MEASURE}))?dn(n.propagationSource):null}])).filter((function(e){return null!==e})),l.push({criteria:i,excludeModels:[].concat(h,Vt(r.excludeModels||[]))})}var y=t.model,m=Object.assign({sourceIdentifiers:e,propagationSourceId:u},r);l.forEach((function(e){var t=e.criteria,n=rn(y,t,{filterByMeasure:!!t.find((function(e){return e.groupedModel===y}))}),r=e.path;if(r){var i=function(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n];e=pn(e,i)}return e}(n,r.reverse());e.models.handlePropagation(i,m)}else!function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.excludeModels||[],o=i.criteria,u=!a.length||-1===a.indexOf(t);u&&t.handlePropagation(n,r);var c=t._children;c.forEach((function(t){var a=o.filter((function(e){return e.groupedModel===t})),u=pn(n,t);a.length&&(u=rn(u,a,{filterByDim:!1,filterByMeasure:!0,clone:!1})),e(t,u,r,i)}))}(y,n,m,{excludeModels:e.excludeModels,criteria:t})}))},mn=function(e,t,n){var r=e.immutableActions;for(var i in r){var a=r[i],o=a.config,u=n.config.sourceId,c=!n.propConfig.filterImmutableAction||n.propConfig.filterImmutableAction(o,n.config);if(o.sourceId!==u&&c){var f=o.criteria;yn(f,{model:t,groupByModel:dn(a.model)},{propagationNameSpace:e,propagateToSource:!1,sourceId:u,propagationSource:a.model},o)}}},bn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=void 0,i=t.isMutableAction,a=t.criteria,o=t.action+\"-\"+t.sourceId;r=i?e.mutableActions:e.immutableActions,null===a?delete r[o]:r[o]={model:n,config:t}},gn=function(e,t,n){var r=e.reduce((function(e,r){return\"RegExp\"===r.constructor.name?e.push.apply(e,Vt(t.filter((function(e){return-1!==e.search(r)})))):r in n&&e.push(r),e}),[]);return Array.from(new Set(r)).map((function(e){return e.trim()}))},_n=function(e,t){return e.numberFormat?e.numberFormat()(t):t},wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var On=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var t=void 0;this._parent=null,this._derivation=[],this._ancestorDerivation=[],this._children=[];for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];1===r.length&&(t=r[0])instanceof e?(this._colIdentifier=t._colIdentifier,this._rowDiffset=t._rowDiffset,this._dataFormat=t._dataFormat,this._parent=t,this._partialFieldspace=this._parent._partialFieldspace,this._fieldStoreName=j(),this.__calculateFieldspace().calculateFieldsConfig()):(ln.apply(void 0,[this].concat(r)),this._fieldStoreName=this._partialFieldspace.name,this.__calculateFieldspace().calculateFieldsConfig(),this._propagationNameSpace={mutableActions:{},immutableActions:{}})}return wn(e,[{key:\"getSchema\",value:function(){return this.getFieldspace().fields.map((function(e){return e.schema()}))}},{key:\"getName\",value:function(){return this._fieldStoreName}},{key:\"getFieldspace\",value:function(){return this._fieldspace}},{key:\"__calculateFieldspace\",value:function(){return this._fieldspace=Yt([this._rowDiffset,this._colIdentifier],this.getPartialFieldspace(),this._fieldStoreName),this}},{key:\"getPartialFieldspace\",value:function(){return this._partialFieldspace}},{key:\"join\",value:function(e,t){return G(this,e,t)}},{key:\"naturalJoin\",value:function(e){return G(this,e,Se(this,e),!0)}},{key:\"union\",value:function(e){return ke(this,e)}},{key:\"difference\",value:function(e){return ie(this,e)}},{key:\"select\",value:function(e,t){var n={mode:l.NORMAL,saveChild:!0};return(t=Object.assign({},n,t)).mode=t.mode||n.mode,function(e,t,n,r){var i={},a=n.mode,o=e.clone(r.saveChild),u=qt(o,t,n,e,Wt),c=zt[a].diffIndex;return an(o,u[c[0]],e,n,t),c.length>1?(i=e.clone(r.saveChild),an(i,u[c[1]],e,n,t),[o,i]):o}(this,e,t,{saveChild:t.saveChild})}},{key:\"isEmpty\",value:function(){return!this._rowDiffset.length||!this._colIdentifier.length}},{key:\"clone\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new this.constructor(this);return e?t.setParent(this):t.setParent(null),t}},{key:\"project\",value:function(e,t){var n={mode:l.NORMAL,saveChild:!0};t=Object.assign({},n,t);var r=this.getFieldsConfig(),i=Object.keys(r),a=t.mode,o=gn(e,i,r),u=void 0;a===l.ALL?u=[on(this,o,{mode:l.NORMAL,saveChild:t.saveChild},i),on(this,o,{mode:l.INVERSE,saveChild:t.saveChild},i)]:u=on(this,o,t,i);return u}},{key:\"getFieldsConfig\",value:function(){return this._fieldConfig}},{key:\"calculateFieldsConfig\",value:function(){return this._fieldConfig=this._fieldspace.fields.reduce((function(e,t,n){return e[t.name()]={index:n,def:t.schema()},e}),{}),this}},{key:\"dispose\",value:function(){this._parent&&this._parent.removeChild(this),this._parent=null,this._children.forEach((function(e){e._parent=null})),this._children=[]}},{key:\"removeChild\",value:function(e){var t=this._children.findIndex((function(t){return t===e}));-1===t||this._children.splice(t,1)}},{key:\"setParent\",value:function(e){this._parent&&this._parent.removeChild(this),this._parent=e,e&&e._children.push(this)}},{key:\"getParent\",value:function(){return this._parent}},{key:\"getChildren\",value:function(){return this._children}},{key:\"getDerivations\",value:function(){return this._derivation}},{key:\"getAncestorDerivations\",value:function(){return this._ancestorDerivation}}]),e}(),En=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},jn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function An(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Sn=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a._onPropagation=[],a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),jn(t,[{key:\"getData\",value:function(e){e=Object.assign({},{order:\"row\",formatter:null,withUid:!1,getAllFields:!1,sort:[]},e);var t=this.getPartialFieldspace().fields,n=re.call(this,this.getPartialFieldspace().fields,this._rowDiffset,e.getAllFields?t.map((function(e){return e.name()})).join():this._colIdentifier,e.sort,{columnWise:\"column\"===e.order,addUid:!!e.withUid});if(!e.formatter)return n;var r=e.formatter,i=n.data,a=n.schema,o=n.uids,u=a.map((function(e){return e.name})),c=Object.keys(r).reduce((function(e,t){var n=u.indexOf(t);return-1!==n&&e.push([n,r[t]]),e}),[]);return\"column\"===e.order?c.forEach((function(e){var t=e[0],n=e[1];i[t].forEach((function(e,r){i[t][r]=n.call(void 0,e,o[r],a[t])}))})):i.forEach((function(e,t){c.forEach((function(n){var r=n[0],i=n[1];e[r]=i.call(void 0,e[r],o[t],a[r])}))})),n}},{key:\"getUids\",value:function(){var e=this._rowDiffset,t=[];e.length&&e.split(\",\").forEach((function(e){var n=e.split(\"-\").map(Number),r=En(n,2),i=r[0],a=r[1];a=void 0!==a?a:i,t.push.apply(t,An(Array(a-i+1).fill().map((function(e,t){return i+t}))))}));return t}},{key:\"groupBy\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{saveChild:!0},r=\"\"+e.join(),i=[this,e,t],a=Ae.apply(void 0,i);return Gt(this,a,L.GROUPBY,{fieldsArr:e,groupByString:r,defaultReducer:Ee.defaultReducer()},t),n.saveChild?a.setParent(this):a.setParent(null),a}},{key:\"sort\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{saveChild:!1},n=this.getData({order:\"row\",sort:e}),r=n.schema.map((function(e){return e.name})),i=[r].concat(n.data),a=new this.constructor(i,n.schema,{dataFormat:\"DSVArr\"});return Gt(this,a,L.SORT,t,e),t.saveChild?a.setParent(this):a.setParent(null),a}},{key:\"serialize\",value:function(e,t){e=e||this._dataFormat,t=Object.assign({},{fieldSeparator:\",\"},t);var n=this.getFieldspace().fields,r=n.map((function(e){return e.formattedData()})),i=r[0].length,a=void 0,u=void 0,c=void 0;if(e===o.FLAT_JSON)for(a=[],u=0;u<i;u++){var f={};for(c=0;c<n.length;c++)f[n[c].name()]=r[c][u];a.push(f)}else if(e===o.DSV_STR){for(a=[n.map((function(e){return e.name()})).join(t.fieldSeparator)],u=0;u<i;u++){var l=[];for(c=0;c<n.length;c++)l.push(r[c][u]);a.push(l.join(t.fieldSeparator))}a=a.join(\"\\n\")}else{if(e!==o.DSV_ARR)throw new Error(\"Data type \"+e+\" is not supported\");for(a=[n.map((function(e){return e.name()}))],u=0;u<i;u++){var s=[];for(c=0;c<n.length;c++)s.push(r[c][u]);a.push(s)}}return a}},{key:\"addField\",value:function(e){var t=e.name();this._colIdentifier+=\",\"+t;var n=this._partialFieldspace,r=n._cachedValueObjects,i=e.formattedData(),a=e.partialField.data;if(n.fieldsObj()[e.name()]){var o=n.fields.findIndex((function(e){return e.name()===t}));o>=0&&(n.fields[o]=e)}else n.fields.push(e),r.forEach((function(t,n){t[e.name()]=new F(i[n],a[n],e)}));return n._cachedFieldsObj=null,n._cachedDimension=null,n._cachedMeasure=null,this.__calculateFieldspace().calculateFieldsConfig(),this}},{key:\"calculateVariable\",value:function(e,t,n){var r=this;e=cn(e),n=Object.assign({},{saveChild:!0,replaceVar:!1},n);var i=this.getFieldsConfig(),a=t.slice(0,t.length-1),o=t[t.length-1];if(i[e.name]&&!n.replaceVar)throw new Error(e.name+\" field already exists in datamodel\");var u=a.map((function(e){var t=i[e];if(!t)throw new Error(e+\" is not a valid column name.\");return t.index})),c=this.clone(n.saveChild),f=c.getFieldspace().fields,l=u.map((function(e){return f[e]})),s={},p=function(){return r.detachedRoot()},d=[];N(c._rowDiffset,(function(e){var t=l.map((function(t){return t.partialField.data[e]}));d[e]=o.apply(void 0,An(t).concat([e,p,s]))}));var h=ut([d],[e],[e.name]),v=En(h,1)[0];return c.addField(v),Gt(this,c,L.CAL_VAR,{config:e,fields:a},o),c}},{key:\"propagate\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.isMutableAction,a=t.sourceId,o=t.payload,u=hn(this),c=u._propagationNameSpace,f=dn(this),l={groupByModel:f,model:u};return n&&bn(c,t,this),yn(e,l,{propagationNameSpace:c,sourceId:a,propagationSource:this},Object.assign({payload:o},t)),i&&mn(c,u,{config:t,propConfig:r}),this}},{key:\"on\",value:function(e,t){switch(e){case\"propagation\":this._onPropagation.push(t)}return this}},{key:\"unsubscribe\",value:function(e){switch(e){case\"propagation\":this._onPropagation=[]}return this}},{key:\"handlePropagation\",value:function(e,t){var n=this;this._onPropagation.forEach((function(r){return r.call(n,e,t)}))}},{key:\"bin\",value:function(e,t){var n=this.getFieldsConfig();if(!n[e])throw new Error(\"Field \"+e+\" doesn't exist\");var r=t.name||e+\"_binned\";if(n[r])throw new Error(\"Field \"+r+\" already exists\");var i=function(e,t,n){var r=n.buckets,i=n.binsCount,a=n.binSize,o=n.start,u=n.end,c=e.domain(),f=M(c,2),l=f[0],s=f[1];r||(o=0!==o&&(!o||o>l)?l:o,u=0!==u&&(!u||u<s)?s+1:u,i&&(a=Math.ceil(Math.abs(u-o)/i)),r=I(a,o,u)),r[0]>l&&r.unshift(l),r[r.length-1]<=s&&r.push(s+1);for(var p=[],d=0;d<r.length-1;d++)p.push({start:r[d],end:r[d+1]});var h=[];return N(t,(function(t){var n=e.partialField.data[t];if(n instanceof C)h.push(n);else{var r=x(p,n);h.push(r.start+\"-\"+r.end)}})),{binnedData:h,bins:r}}(this.getFieldspace().fieldsObj()[e],this._rowDiffset,t),a=i.binnedData,o=i.bins,c=ut([a],[{name:r,type:f.DIMENSION,subtype:u.BINNED,bins:o}],[r])[0],l=this.clone(t.saveChild);return l.addField(c),Gt(this,l,L.BIN,{measureFieldName:e,config:t,binFieldName:r},null),l}},{key:\"detachedRoot\",value:function(){return new t(this.serialize(o.FLAT_JSON),this.getSchema())}},{key:\"splitByRow\",value:function(e,t,n){var r=this.getFieldsConfig();e.forEach((function(e){if(!r[e])throw new Error(\"Field \"+e+\" doesn't exist in the schema\")}));var i={mode:l.NORMAL,saveChild:!0};return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=arguments[3],i=r.saveChild,a=e.getFieldspace().fieldsObj(),o=qt(e.clone(i),n,r,e,(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return Xt.apply(void 0,n.concat([t,a]))})),u=o.splitRowDiffset,c=o.dimensionMap,f=[];return Object.keys(u).sort().forEach((function(n){if(u[n]){var a=e.clone(i),o=c[n];a._rowDiffset=u[n].join(\",\"),a.__calculateFieldspace().calculateFieldsConfig();i&&Gt(e,a,L.SELECT,r,(function(e){return t.every((function(t){return e[t].internalValue===o.keys[t]}))})),a._derivation[a._derivation.length-1].meta=c[n],f.push(a)}})),f}(this,e,t,n=Object.assign({},i,n))}},{key:\"splitByColumn\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r={mode:l.NORMAL,saveChild:!0},i=this.getFieldsConfig(),a=Object.keys(i),o=[[t]];return n=Object.assign({},r,n),(e=e.length?e:[[]]).forEach((function(e,n){o[n]=gn([].concat(An(e),An(t)),a,i)})),un(this,o,n,a)}}],[{key:\"configureInvalidAwareTypes\",value:function(e){return C.invalidAwareVals(e)}},{key:\"Reducers\",get:function(){return Ee}},{key:\"Converters\",get:function(){return xt}},{key:\"FieldTypes\",get:function(){return ot}}]),t}(On),kn=be.sum,Dn=be.avg,Tn=be.min,Fn=be.max,Nn=be.first,Rn=be.last,Pn=be.count,Cn=be.std,Mn={compose:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{saveChild:!0},r=e,i=void 0,a=[];return t.forEach((function(e){r=e(r),a.push.apply(a,Y(r._derivation)),i||(i=r)})),i&&i!==r&&i.dispose(),r._ancestorDerivation=[],Gt(e,r,L.COMPOSE,null,a),n.saveChild?r.setParent(e):r.setParent(null),r}},bin:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.bin.apply(e,t)}},select:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.select.apply(e,t)}},project:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.project.apply(e,t)}},groupBy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.groupBy.apply(e,t)}},calculateVariable:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.calculateVariable.apply(e,t)}},sort:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.sort.apply(e,t)}},crossProduct:G,difference:ie,naturalJoin:function(e,t){return G(e,t,Se(e,t),!0)},leftOuterJoin:De,rightOuterJoin:Te,fullOuterJoin:function(e,t,n){return ke(De(e,t,n),Te(e,t,n))},union:ke,rowDiffsetIterator:N},In=n(0).version;Object.assign(Sn,{Operators:Mn,Stats:a,DM_DERIVATIVES:L,DateTimeFormatter:h,DataFormat:o,FilteringMode:l,InvalidAwareTypes:C,version:In,DataConverter:lt,FieldsUtility:i},r);var xn=t.default=Sn}])}));\n//# sourceMappingURL=datamodel.js.map","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * This file exports constants that will be used to\n * create the state store of the table layout.\n */\n/**\n * The index of top, bottom and center in the matrix\n */\nexport const VIEW_INDEX = {\n    top: 0,\n    center: 1,\n    bottom: 2\n};\n\nexport const ROW_MATRIX_INDEX = {\n    0: 'top',\n    1: 'center',\n    2: 'bottom'\n};\n\nexport const COLUMN_MATRIX_INDEX = {\n    0: 'left',\n    1: 'middle',\n    2: 'right'\n};\n\n/**\n * The width of the grid suppied by the user.\n */\nexport const GRID_WIDTH = 'width';\n\n/**\n * The height of the grid supplied by the user.\n */\nexport const GRID_HEIGHT = 'height';\n\n/**\n  * The border for the grid\n  */\nexport const BORDER = 'border';\n\n /**\n  *  The index of the first visible row in view matrix.\n  */\nexport const ROW_POINTER = 'rowPointer';\n\n/**\n * The index of the first visible column in the view matrix.\n */\nexport const COLUMN_POINTER = 'columnPointer';\n\n/**\n * Flag to specify whether row sizes should be equal.\n */\nexport const ROW_SIZE_IS_EQUAL = 'isRowSizeEqual';\n\n/**\n * Flag to specify whether column sizes are equal.\n */\nexport const COLUMN_SIZE_IS_EQUAL = 'isColumnSizeEqual';\n\n/**\n * Field to store an array an of the widths of visible columns.\n * @computed\n */\nexport const COLUMN_WIDTHS = 'visibleColumnWidths';\n\n/**\n * Field to store an array of heights of visible rows.\n * @computed\n */\nexport const ROW_HEIGHTS = 'visibleRowHeights';\n\n/**\n * Field to store the width of the left matrix.\n * @computed\n */\nexport const LEFT_MATRIX_WIDTH = 'leftMatrixWidth';\n\n/**\n * Field to store the width of the right matrix.\n * @computed\n */\nexport const RIGHT_MATRIX_WIDTH = 'rightMatrixWidth';\n\n/**\n * Field to store the height of the top matrix.\n * @computed\n */\nexport const TOP_MATRIX_HEIGHT = 'topMatrixHeight';\n\n/**\n * Field to store the height of the bottom matrix.\n * @computed\n */\nexport const BOTTOM_MATRIX_HEIGHT = 'bottomMatrixHeight';\n\n/**\n * The dom element to render the layout inside.\n */\nexport const MOUNT_POINT = 'mount';\n\n/**\n * The id attribute of the left table element.\n */\nexport const LEFT_TABLE_ID = 'grid-left';\n\n/**\n * The id attribute of the right table element.\n */\nexport const RIGHT_TABLE_ID = 'grid-right';\n\n/**\n * The id attribute of the top table.\n */\nexport const TOP_TABLE_ID = 'grid-top';\n\n/**\n * The id attribute of the bottom table.\n */\nexport const BOTTOM_TABLE_ID = 'grid-bottom';\n\n/**\n * The id attribute of the center table.\n */\nexport const CENTER_TABLE_ID = 'grid-center';\n\n/**\n * The id attribute of the top div.\n */\nexport const TOP_DIV_ID = 'muze-div-top';\n\n/**\n * The id attribute of the bottom div.\n */\nexport const BOTTOM_DIV_ID = 'muze-div-bottom';\n\n/**\n * The id attribute of the center div.\n */\nexport const CENTER_DIV_ID = 'muze-div-center';\n\n/**\n * Field that indicates if the row configuration has changed\n */\nexport const HAVE_ROWS_CHANGED = 'haveRowsChanged';\n\n/**\n * Field that indicates if the column configuration has changed\n */\nexport const HAVE_COLUMNS_CHANGED = 'haveColumnsChanged';\n\n/**\n * Field that indicates if the values configuration for the center matrix has changed\n */\nexport const HAVE_VALUES_CHANGED = 'haveValuesChanged';\n\n/**\n * Field that indicates the width of row matrix\n */\nexport const ROW_MATRIX_WIDTH = 'rowMatrixWidth';\n\n/**\n * Field that indicates the height of row matrix\n */\nexport const COLUMN_MATRIX_HEIGHT = 'columnMatrixHeight';\n\n/**\n * Field that indicates the unit width of layout\n */\nexport const UNIT_WIDTH = 'unitWidth';\n\n/**\n * Field that indicates the unit height of layout\n */\nexport const UNIT_HEIGHT = 'unitHeight';\n\n/**\n * Field that indicates the style object\n */\nexport const STYLE = 'style';\n\n/**\n * Field that indicates the color configuration\n */\nexport const COLOR = 'color';\n\n/**\n * Field that indicates width\n */\nexport const WIDTH = 'width';\n\n/**\n * Field that indicates collpase property for border\n */\nexport const COLLAPSE = 'collapse';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SPACING = 'spacing';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const DISTRIBUTION = 'distribution';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const GUTTERSPACE = 'gutterSpace';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const BREAK_PAGE = 'breakPage';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_ROW_BORDERS = 'showRowBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_COL_BORDERS = 'showColBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_VALUE_BORDERS = 'showValueBorders';\n\nexport const HEIGHT = 'height';\nexport const COLUMN = 'column';\nexport const ROW = 'row';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const CENTER = 'center';\nexport const CLICK = 'click';\nexport const ROW_LEFT = 'rowLeft';\nexport const ROW_RIGHT = 'rowRight';\nexport const COLUMN_BOTTOM = 'colBottom';\nexport const COLUMN_TOP = 'colTop';\nexport const AUTO = 'auto';\nexport const ROW_SPAN = 'rowSpan';\nexport const COL_SPAN = 'colSpan';\nexport const ROW_ROOT = 'rowRoot';\nexport const COLUMN_ROOT = 'columnRoot';\nexport const PRIMARY = 'primary';\nexport const SECONDARY = 'secondary';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\nexport const GRID = 'grid';\n\nexport const BLANK_BORDERS = 'rgba(0,0,0,0)';\n\nexport const PAGINATION = 'pagination';\nexport const BUFFER = 'buffer';\nexport const HOLISTIC = 'holistic';\nexport const SCROLL = 'scroll';\nexport const MIDDLE = 'middle';\nexport const NO_BORDERS = null;\n\nexport const MAX_WIDTH_AVAIL_FOR_COL_MATRIX = 'maxWidthAvailableForColumnMatrix';\nexport const COLUMN_MATRIX = 'columnMatrix';\nexport const MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX = 'maxHeightAvailableForRowMatrix';\nexport const ROW_MATRIX = 'rowMatrix';\n","import { sanitizeIP, mergeRecursive } from 'muze-utils';\nimport { TOP, CENTER, BOTTOM } from '../enums/constants';\n\n/*\n * This is the abstract implementation of the root layout. This takes care of common work which all the layouts\n * has to handle. The common work includes sanitizaion of inputs, update, rerender, dispose etc. This class can't be\n * used directly (as ofcourse this is an abstract implementaiton), the class which is implementing it has to implement\n * the necessary methods and gives its on visual.\n */\n\n/**\n * This class is used to create a generic layout. It can be extended to create layouts\n * of different types\n * @class GenericLayout\n */\nexport default class GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config configuration to be given for the layout\n     * @param {Object} dependencies external dependencies.\n     *\n     * @memberof GenericLayout\n     *\n     */\n    constructor (mountPoint, measurement, config, dependencies) {\n        this._config = {};\n        this._measurement = {};\n        this._matrices = [];\n        // External dependencies to be included for the layout. This includes the ext global dependencies like\n        // smartlabel which has one single implementation of throughout the page or per isntance\n        this._dependencies = dependencies;\n\n        this.measurement(measurement);\n        this.mountPoint(mountPoint);\n        this.config(config);\n    }\n\n    /**\n     * Returns an object which is used to recreate the layout.\n     * @return {Object} the serialized components\n     */\n    serialize () {\n        return {\n            measurement: this.measurement(),\n            config: this.config(),\n            matrices: this.matrices()\n        };\n    }\n\n     /**\n     * Sets/Gets the config for the layout\n     * @param {Object} config configuration for the layout\n     * @return {Layout|Object} Gets the Config/ Returns this instance when set\n     */\n    config (config) {\n        if (config) {\n            this._config = mergeRecursive(this._config || {}, config);\n            this._config.border.width = Math.max(0, this._config.border.width);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Sets/Gets the measurement for the layout\n     * @param {Object} measurement measurement for the layout\n     * @return {Layout|Object} Gets the measurement/ Returns this instance when set\n     */\n    measurement (measurement) {\n        if (measurement) {\n            this._measurement = mergeRecursive(this._measurement || {}, measurement);\n\n            return this;\n        }\n        return this._measurement;\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     * @param {Object} matrices matrices for the layout\n     * @return {Layout|Object} Gets the matrices/ Returns this instance when set\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = sanitizeIP.typeObj([TOP, CENTER, BOTTOM], matrices);\n\n            return this;\n        }\n        return this._matrices;\n    }\n\n    /**\n     * Sets/Gets the matrix for row\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    rowMatrix (matrix) {\n        if (matrix) {\n            this._rowMatrix = matrix;\n            return this;\n        }\n        return this._rowMatrix;\n    }\n\n    /**\n     * Sets/Gets the matrix for columns\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    columnMatrix (matrix) {\n        if (matrix) {\n            this._columnMatrix = matrix;\n            return this;\n        }\n        return this._columnMatrix;\n    }\n\n   /**\n     * Sets/Gets the matrix for value\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    centerMatrix (matrix) {\n        if (matrix) {\n            this._centerMatrix = matrix;\n            return this;\n        }\n        return this._centerMatrix;\n    }\n\n    /**\n     * Sets/Gets the mountPoint for the layout\n     * @param {Object} mountPoint mountPoint for the layout\n     * @return {Layout|Object} Gets the mountPoint/ Returns this instance when set\n     */\n    mountPoint (mountPoint) {\n        if (mountPoint) {\n            this._mountPoint = mountPoint;\n\n            return this;\n        }\n        return this._mountPoint;\n    }\n}\n","import {\n    TOP, BOTTOM, LEFT, RIGHT, CENTER, COLUMN, ROW,\n    VIEW_INDEX, ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX, MIDDLE, NO_BORDERS\n} from '../enums/constants';\n\nconst borderMap = (isFacet, showHeaders) => ({\n    [`${TOP}-${LEFT}`]: isFacet && showHeaders ? LEFT : NO_BORDERS,\n    [`${TOP}-${MIDDLE}`]: COLUMN,\n    [`${TOP}-${RIGHT}`]: isFacet && showHeaders ? RIGHT : NO_BORDERS,\n    [`${CENTER}-${LEFT}`]: isFacet ? `${CENTER}${LEFT}` : ROW,\n    [`${CENTER}-${MIDDLE}`]: CENTER,\n    [`${CENTER}-${RIGHT}`]: isFacet ? `${CENTER}${RIGHT}` : ROW,\n    [`${BOTTOM}-${LEFT}`]: NO_BORDERS,\n    [`${BOTTOM}-${MIDDLE}`]: COLUMN,\n    [`${BOTTOM}-${RIGHT}`]: NO_BORDERS\n});\n\nconst applySpecificBorder = (params) => {\n    const { type, borderWidth, borderStyle, cells, color } = params;\n    cells.style(`border-${type}`, `${borderWidth}px ${borderStyle} ${color}`);\n};\n\nconst specificBorderApplier = (params) => {\n    const { borderTypes, showBorders, cells, borderInfo, name, isFacet } = params;\n    const {\n        color,\n        style,\n        width\n    } = borderInfo;\n\n    borderTypes.forEach((borderType) => {\n        applySpecificBorder({\n            cells,\n            color: showBorders[borderType] ? color : 'transparent',\n            type: borderType,\n            borderWidth: width,\n            borderStyle: style,\n            name,\n            isFacet\n        });\n    });\n};\n\nconst borderApplier = (cells, borderInfo, name, isFacet) => {\n    const {\n        showRowBorders,\n        showColBorders,\n        showValueBorders\n    } = borderInfo;\n    return {\n        [ROW]: () => specificBorderApplier({\n            borderTypes: [TOP, BOTTOM],\n            showBorders: showRowBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        }),\n        [COLUMN]: () => specificBorderApplier({\n            borderTypes: [LEFT, RIGHT],\n            showBorders: showColBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        }),\n        [CENTER]: () => specificBorderApplier({\n            borderTypes: [LEFT, RIGHT, TOP, BOTTOM],\n            showBorders: showValueBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        }),\n        [LEFT]: () => specificBorderApplier({\n            borderTypes: [LEFT],\n            showBorders: showRowBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        }),\n        [RIGHT]: () => specificBorderApplier({\n            borderTypes: [RIGHT],\n            showBorders: showRowBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        }),\n        [`${CENTER}${LEFT}`]: () => specificBorderApplier({\n            borderTypes: [LEFT, TOP, BOTTOM],\n            showBorders: showRowBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        }),\n        [`${CENTER}${RIGHT}`]: () => specificBorderApplier({\n            borderTypes: [RIGHT, TOP, BOTTOM],\n            showBorders: showRowBorders,\n            cells,\n            borderInfo,\n            name,\n            isFacet\n        })\n    };\n};\n\nexport const applyBorders = (params) => {\n    const { cells, border, row, column, isFacet, showHeaders } = params;\n    const name = `${ROW_MATRIX_INDEX[VIEW_INDEX[row]]}-${COLUMN_MATRIX_INDEX[column]}`;\n    const borderApplierFn = borderApplier(cells, border, name, isFacet);\n    const borderMapVal = borderMap(isFacet, showHeaders)[name];\n    if (borderMapVal) {\n        borderApplierFn[borderMapVal]();\n    }\n};\n","import {\n    HEIGHT, WIDTH, COLUMN, ROW, HORIZONTAL, VERTICAL, HOLISTIC,\n    MAX_WIDTH_AVAIL_FOR_COL_MATRIX, COLUMN_MATRIX, MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX, ROW_MATRIX, SCROLL\n} from '../enums/constants';\n\n/**\n * Gets measurement for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @return {Object} Logical height/width of the matrix\n */\nexport function getMatrixMeasurement (matrix, type) {\n    if (matrix) {\n        return matrix.getLogicalSpace()[type];\n    }\n    return 0;\n}\n\n/**\n * Sets available space for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @param {number} value Value of measurement\n */\nexport function setMatrixMeasurement (matrix, type, value) {\n    if (matrix) {\n        const spaces = matrix.getLogicalSpace();\n        if (value && spaces[type] !== value) {\n            type === HEIGHT ? matrix.setAvailableSpace(spaces.width, value) :\n                matrix.setAvailableSpace(value, spaces.height);\n        }\n    }\n}\n\nconst setAvailableSpace = (matrix, widths, heights) => {\n    matrix.forEach((row, rIdx) => {\n        row.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(widths[cIdx], heights[rIdx]);\n        });\n    });\n};\n\nconst setViewSpaces = (layout, pointerType, viewSpaces) => {\n    let pointer = layout.config()[`${pointerType}Pointer`];\n    if (viewSpaces.length - 1 < pointer) {\n        pointer = 0;\n        layout.config({ [`${pointerType}Pointer`]: pointer });\n    }\n    return pointer;\n};\n\nconst paginationDetailsMap = {\n    column: {\n        maxMeasure: MAX_WIDTH_AVAIL_FOR_COL_MATRIX,\n        matrix: COLUMN_MATRIX,\n        measureType: WIDTH,\n        scrollType: HORIZONTAL\n    },\n    row: {\n        maxMeasure: MAX_HEIGHT_AVAIL_FOR_ROW_MATRIX,\n        matrix: ROW_MATRIX,\n        measureType: HEIGHT,\n        scrollType: VERTICAL\n    }\n};\n\n/**\n * This method provides the required width/height in the different pagination stages.\n * If the pagination is holistic, then only the max width/height will be provided for layouting\n * If scroll is enabled, then the entire width/height shall be provided for layouting\n * Note: width is required for scrolling the columns while height is required for scrolling rows\n *\n *\n * @param {Layout} layout Layout instance required for configuration details\n * @param {Object} measureDetails different measure details for row/column\n * @param {number} maxMeasure maximum width/height present for column/row respectively\n * @return {number} Provides the width/height based on which further calculation can occur\n */\nconst getMatrixMeasureForPagination = (layout, measureDetails, maxMeasure, buffer) => {\n    const {\n        pagination\n    } = layout.config();\n    const {\n        matrix,\n        measureType,\n        scrollType\n    } = measureDetails;\n\n    switch (pagination) {\n    case HOLISTIC:\n        return maxMeasure;\n    default: {\n        const actualMeasure = getMatrixMeasurement(layout[matrix](), measureType) + buffer;\n\n        if (actualMeasure > maxMeasure) {\n            layout.scrollInfo({ [scrollType]: true });\n        }\n        return Math.max(maxMeasure, actualMeasure);\n    }\n    }\n};\n\n/**\n * This method uses the getMatrixMeasureForPagination function to calculate maximum measure\n * depending on the layouting algorithm used\n *\n *\n * @param {Layout} layout Layout instance required for configuration details\n * @param {string} matrixType row/column\n * @param {number} relatedMaxMeasure maximum width/height present for column/row respectively\n * @return {number} Provides the width/height based on which further calculation can occur\n */\nconst paginationMeasureGetter = (layout, matrixType, relatedMaxMeasure, buffer) =>\n    getMatrixMeasureForPagination(layout, paginationDetailsMap[matrixType], relatedMaxMeasure, buffer);\n\nconst getMatrixWidthDetails = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const {\n        width\n    } = layout.measurement();\n    const {\n        border,\n        buffer\n    } = layout.config();\n\n    // Border adjustment for each cell in the central matrix\n    const borderWidth = border.width;\n\n    // Get width of row matrix\n    const rowMatrixWidth = getMatrixMeasurement(rowMatrix, WIDTH);\n\n    // Get maximum width allowed for the row matrix\n    const maxRowMatrixWidth = Math.min(rowMatrixWidth + buffer, width / 2);\n\n    // Get maximum width available for the column matrix\n    const maxWidthAvailableForColumnMatrix = width - maxRowMatrixWidth - borderWidth;\n\n    // Set width for column matrix\n    const columnMatrixWidth = paginationMeasureGetter(layout, COLUMN, maxWidthAvailableForColumnMatrix, 0);\n\n    return {\n        rowMatrixWidth,\n        maxRowMatrixWidth,\n        columnMatrixWidth,\n        maxWidthAvailableForColumnMatrix\n    };\n};\n\nconst getHeightRequiredByColMatrix = (layout, columnMatrixWidth) => {\n    const {\n        height\n    } = layout.measurement();\n    const columnMatrix = layout.columnMatrix();\n\n    // Get maximum allowed height for colum matrix\n    const maxColumnMatrixHeight = Math.min(columnMatrix.getLogicalSpace().height, height / 2);\n\n    // Set the computed width and max height to column matrix to determine the actual height\n    // that will be taken by the column matrix\n    columnMatrix.setAvailableSpace(columnMatrixWidth, maxColumnMatrixHeight);\n\n    // Get the set of pages column view\n    const columnViewPages = columnMatrix.getViewableSpaces();\n\n    // Figuring out total space needed by current view space\n    const columnViewSpace = columnViewPages[layout.config().columnPointer];\n\n    // Getting height of column matrix\n    const columnMatrixHeight = columnViewSpace.height.primary + columnViewSpace.height.secondary;\n\n    return {\n        columnMatrixHeight,\n        maxColumnMatrixHeight\n    };\n};\n\nconst getMatrixHeightDetails = (layout, columnMatrixWidth) => {\n    const {\n        height\n    } = layout.measurement();\n    const {\n        buffer\n    } = layout.config();\n\n    // Get actual height required by column matrix\n    const { columnMatrixHeight, maxColumnMatrixHeight } = getHeightRequiredByColMatrix(layout, columnMatrixWidth);\n\n    // Based on column height, compute max height available for row matrix\n    const maxHeightAvailableForRowMatrix = height - Math.min(maxColumnMatrixHeight, columnMatrixHeight);\n\n    // Get height for row matrix\n    const rowMatrixHeight = paginationMeasureGetter(layout, ROW, maxHeightAvailableForRowMatrix, buffer);\n\n    return {\n        columnMatrixHeight,\n        maxColumnMatrixHeight,\n        rowMatrixHeight,\n        maxHeightAvailableForRowMatrix\n    };\n};\n\nconst setValueMatrixMeasurements = (layout, rowViewableSpaces, columnViewableSpaces) => {\n    const centerMatrix = layout.centerMatrix();\n\n    const {\n        border\n    } = layout.config();\n    const matrices = layout.matrices();\n    const {\n        top,\n        bottom\n    } = matrices;\n\n    // Border adjustment for each cell in the central matrix\n    const borderWidth = border.width;\n\n    // Get the heights for each cell in the row matrix\n    const rowHeights = [].concat(...rowViewableSpaces.map(e => e.rowHeights.primary));\n\n    // Get the widths for each of the row matrix cells(primary and secondary)\n    const rowWidthsPrimary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.primary));\n    const rowWidthsSecondary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.secondary));\n\n    // Get the widths for each cell in the column matrix\n    const columnWidths = [].concat(...columnViewableSpaces.map(e => e.columnWidths.primary));\n\n    // Get the widths for each of the column matrix cells(primary and secondary)\n    const columnHeightsPrimary = columnViewableSpaces[0].rowHeights.primary;\n    const columnHeightsSecondary = [].concat(...columnViewableSpaces.map(e => e.rowHeights.secondary));\n\n    // Setting the available space for each cell in the centre matrix computed throught the row and\n    // column matrices\n    centerMatrix.forEach((matrix, rIdx) => {\n        matrix.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(columnWidths[cIdx] - borderWidth, rowHeights[rIdx] - borderWidth);\n        });\n    });\n\n    // Set the heights and widths for the corner matrices namely:\n    // TOP_LEFT\n    setAvailableSpace(top[0], rowWidthsPrimary, columnHeightsPrimary);\n    // TOP_RIGHT\n    setAvailableSpace(top[2], rowWidthsSecondary, columnHeightsPrimary);\n    // BOTTOM_LEFT\n    setAvailableSpace(bottom[0], rowWidthsPrimary, columnHeightsSecondary);\n     // BOTTOM_RIGHT\n    setAvailableSpace(bottom[2], rowWidthsSecondary, columnHeightsSecondary);\n};\n\nconst bufferCondition = {\n    isScroll: true,\n    pagination: SCROLL\n};\n\nconst getBufferFromCondition = (layout, type) => {\n    const scrollInfo = layout.scrollInfo();\n    const {\n        pagination\n    } = layout.config();\n\n    const currentBufferType = {\n        pagination,\n        isScroll: scrollInfo[type]\n    };\n\n    return Object.keys(bufferCondition).every(e => bufferCondition[e] === currentBufferType[e]);\n};\n\nconst getActualBufferFromConfig = (layout) => {\n    const {\n        buffer\n    } = layout.config();\n    const [horizontalBuffer, verticalBuffer] = [HORIZONTAL, VERTICAL].map((type) => {\n        if (getBufferFromCondition(layout, type)) {\n            return buffer;\n        }\n        return 0;\n    });\n\n    return {\n        horizontalBuffer,\n        verticalBuffer\n    };\n};\n/**\n * Computes the measurements of space for all matrices in the\n * layout\n *\n * @param {Object} layout Instance of grid layout\n * @return {Object} set of measurements for the layout\n */\nexport const computeLayoutMeasurements = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n\n    // Compute the widths of the row and column matrices\n    const {\n        rowMatrixWidth,\n        maxRowMatrixWidth,\n        maxWidthAvailableForColumnMatrix,\n        columnMatrixWidth\n    } = getMatrixWidthDetails(layout);\n\n    // Compute the heights of the row and column matrices\n    const {\n        columnMatrixHeight,\n        rowMatrixHeight,\n        maxHeightAvailableForRowMatrix\n    } = getMatrixHeightDetails(layout, columnMatrixWidth);\n\n    const {\n        horizontalBuffer,\n        verticalBuffer\n    } = getActualBufferFromConfig(layout);\n    rowMatrix.setAvailableSpace(maxRowMatrixWidth - verticalBuffer, rowMatrixHeight - horizontalBuffer);\n\n    // Get row and columns viewable spaces\n    const rowViewableSpaces = rowMatrix.getViewableSpaces();\n    const columnViewableSpaces = columnMatrix.getViewableSpaces();\n\n    // Set view spaces for row and columns\n    setViewSpaces(layout, ROW, rowViewableSpaces);\n    setViewSpaces(layout, COLUMN, columnViewableSpaces);\n\n    // Set measures for each cell of the value matrix\n    setValueMatrixMeasurements(layout, rowViewableSpaces, columnViewableSpaces);\n\n    return {\n        rowMatrixHeight: rowMatrixHeight - horizontalBuffer,\n        rowMatrixWidth: rowMatrixWidth - verticalBuffer,\n        maxHeightAvailableForRowMatrix: maxHeightAvailableForRowMatrix - horizontalBuffer,\n\n        columnMatrixHeight,\n        columnMatrixWidth,\n        maxWidthAvailableForColumnMatrix\n    };\n};\n","import * as FieldNames from '../enums/constants';\n\n/**\n * Default configuration of the layout\n * @return {Object} returns the default configuration\n */\nexport const DEFAULT_CONFIGURATION = {\n    [FieldNames.BORDER]: {\n        [FieldNames.STYLE]: 'solid',\n        [FieldNames.COLOR]: '#d6d6d6',\n        [FieldNames.WIDTH]: 2,\n        [FieldNames.COLLAPSE]: true,\n        [FieldNames.SPACING]: 0\n    },\n    [FieldNames.PAGINATION]: 'scroll',\n    [FieldNames.BUFFER]: 20,\n    [FieldNames.GUTTERSPACE]: { rows: [], columns: [] },\n    [FieldNames.DISTRIBUTION]: { rows: [], columns: [] },\n    [FieldNames.BREAK_PAGE]: { rows: [], columns: [] },\n    [FieldNames.ROW_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_POINTER]: 0,\n    [FieldNames.ROW_POINTER]: 0\n};\n\n/**\n * Default measurements for the layout\n * @return {Object} returns the default measurements\n */\nexport const DEFAULT_MEASUREMENTS = {\n    [FieldNames.GRID_WIDTH]: 100,\n    [FieldNames.GRID_HEIGHT]: 100,\n    [FieldNames.UNIT_WIDTH]: 100,\n    [FieldNames.UNIT_HEIGHT]: 100\n};\n\nexport const BLANK_BORDERS = 'rgba(0,0,0,0)';\n","export { default as GridLayout } from './layout';\n\nexport {\n    applyBorders\n} from './border-helper';\n\nexport {\n    cellSpanMaker,\n    applySpans\n} from './span-maker';\n","import RowMatrix from '../visual-matrix/row-matrix';\nimport ColumnMatrix from '../visual-matrix/column-matrix';\n\nexport const generateVisualMatrices = (context, matrices) => {\n    // Set of matrices for layout is generated starting with the left matrix\n    let leftMatrix = [];\n    let rightMatrix = [];\n    let topMatrix = [];\n    let bottomMatrix = [];\n    let begColCells;\n    let endColCells;\n    const {\n        isRowSizeEqual,\n        isColumnSizeEqual,\n        gutterSpace,\n        distribution,\n        border,\n        breakPage,\n        priority\n    } = context.config();\n    const {\n        minUnitHeight,\n        minUnitWidth\n    } = context.measurement();\n    const { top, center, bottom } = matrices;\n    const [topLeft, topColumns, topRight] = top;\n    const [leftRows, valueMatrix, rightRows] = center;\n    const [bottomLeft, bottomColumns, bottomRight] = bottom;\n\n    if (leftRows.length > 0) {\n        // If no left matrix is present, context will be empty\n        leftMatrix = [...topLeft, ...leftRows, ...bottomLeft];\n    }\n    if (rightRows.length > 0) {\n        // If no right matrix is present, context will be empty\n        rightMatrix = [...topRight, ...rightRows, ...bottomRight];\n    }\n    if (topColumns.length > 0 && topColumns[0].length > 0) {\n        // If no top matrix is present, context will be empty\n        topMatrix = topColumns.map((d, i) => [...topLeft[i], ...d, ...topRight[i]]);\n    }\n    if (bottomColumns.length > 0 && bottomColumns[0].length > 0) {\n        // If no bottom matrix is present, context will be empty\n        bottomMatrix = bottomColumns.map((d, i) => [...bottomLeft[i], ...d, ...bottomRight[i]]);\n    }\n\n    context.rowMatrix(new RowMatrix([leftMatrix, rightMatrix], {\n        isDistributionEqual: isRowSizeEqual,\n        distribution: distribution.rows,\n        gutter: gutterSpace.rows,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        priority: priority.row,\n        breakPage: breakPage.rows.map(e => e + Math.max(topLeft.length, topRight.length)),\n        extraCellLengths: [topLeft.length, bottomLeft.length]\n    }));\n\n    if (topLeft.length > 0) {\n        begColCells = topLeft[0].length;\n    } else {\n        begColCells = bottomLeft.length > 0 ? bottomLeft[0].length : 0;\n    }\n\n    if (topRight.length > 0) {\n        endColCells = topRight[0].length;\n    } else {\n        endColCells = bottomRight.length > 0 ? bottomRight[0].length : 0;\n    }\n\n    context.columnMatrix(new ColumnMatrix([topMatrix, bottomMatrix], {\n        isDistributionEqual: isColumnSizeEqual,\n        distribution: distribution.columns,\n        gutter: gutterSpace.columns,\n        isTransposed: true,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        priority: priority.col,\n        breakPage: breakPage.columns,\n        extraCellLengths: [begColCells, endColCells]\n    }));\n    context.centerMatrix(valueMatrix);\n\n    return matrices;\n};\n","/**\n * This file declares a table that can be extended to create a Datagrid, crosstab\n * and man other visualzations that require a tabular structure.\n */\n\nimport { getUniqueId, mergeRecursive } from 'muze-utils';\nimport GenericLayout from '../generic-layout';\nimport { DEFAULT_CONFIGURATION, DEFAULT_MEASUREMENTS } from './defaults';\nimport { generateVisualMatrices } from './layout-helper';\nimport { computeLayoutMeasurements } from './computations';\nimport { getViewMeasurements, getViewMatrices } from './view-info-getter';\n/**\n * This class is used to create a tabular structure that\n * can house charts and values.\n *\n * @class GridLayout\n */\nexport default class GridLayout extends GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} matrices Set of upto 9 matrices containing the cells to be rendered\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config external configurations.\n     * @memberof GenericLayout\n     */\n    constructor (matrices, mountPoint, measurement, config) {\n        super(mountPoint, measurement, config);\n        this.matrices(matrices);\n        this.config(this.constructor.defaultConfig());\n        this._layoutId = getUniqueId();\n        this._scrollInfo = { horizontal: false, vertical: false };\n    }\n\n    static defaultViewInfo () {\n        return Object.assign({}, {\n            layoutDimensions: {\n                border: this.defaultConfig().border,\n                viewHeight: [0, 0, 0],\n                viewWidth: [0, 0, 0]\n            },\n            viewMatricesInfo: {\n                columnPages: 0,\n                rowPages: 0,\n                matrices: { top: [], center: [], bottom: [] }\n            }\n        });\n    }\n\n    /**\n     * Returns initial set of measurements for the grid layout\n     *\n     * @static\n     * @return {Object} Returns initial set of measurements\n     * @memberof GridLayout\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENTS;\n    }\n\n    /**\n     * Returns initialconfiguration for grid layout\n     *\n     * @static\n     * @return {Object} Returns initial configuration for grid layout\n     * @memberof GridLayout\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIGURATION;\n    }\n\n    /**\n     * This function is used to return an instance of GridLayout\n     *\n     * @return {GridLayout} Instance of grid layout.\n     * @static\n     * @memberof GridLayout\n     */\n    static create () {\n        return new GridLayout(null, null, this.defaultMeasurement(), this.defaultConfig());\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     *\n     * @param {Array} matrices Set of matrices\n     * @return {Object} Getter/Setter\n     * @memberof GridLayout\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = generateVisualMatrices(this, matrices);\n            return this;\n        }\n        return super.matrices(matrices);\n    }\n\n    /**\n     * Triggers the computations for the layout based on the matrices available\n     * This causes a reflow in the entire layout system.\n     *\n     * @return {Object} Layout instance\n     * @memberof GridLayout\n     */\n    triggerReflow () {\n        this.scrollInfo({ horizontal: false, vertical: false });\n        const {\n            maxHeightAvailableForRowMatrix,\n            maxWidthAvailableForColumnMatrix\n        } = computeLayoutMeasurements(this);\n\n        this.setViewInformation(maxHeightAvailableForRowMatrix, maxWidthAvailableForColumnMatrix);\n        return this;\n    }\n\n    gotoPage (type, pageNumber) {\n        const pageType = type.toLowerCase();\n        const { viewMatricesInfo } = this.viewInfo();\n        const totalPages = viewMatricesInfo[`${pageType}Pages`];\n        const pointer = Math.min(Math.max(1, pageNumber), totalPages);\n        this.config({\n            [`${pageType}Pointer`]: pointer - 1\n        });\n        this.setViewInformation();\n        this.renderGrid();\n        return this;\n    }\n\n    pages (type) {\n        const { viewMatricesInfo } = this.viewInfo();\n        const pageType = type.toLowerCase();\n        return {\n            totalPages: viewMatricesInfo[`${pageType}Pages`],\n            currentPage: this.config()[`${pageType}Pointer`] + 1\n        };\n    }\n\n    viewInfo (...viewInfo) {\n        if (viewInfo.length) {\n            this._viewInfo = viewInfo[0];\n            return this;\n        }\n        return this._viewInfo;\n    }\n\n    scrollInfo (...scrollInfo) {\n        if (scrollInfo.length) {\n            this._scrollInfo = mergeRecursive(this._scrollInfo, scrollInfo[0]);\n            return this;\n        }\n        return this._scrollInfo;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof GridLayout\n     */\n    setViewInformation (maxRowHeight, maxColWidth) {\n        const {\n            rowPointer,\n            columnPointer,\n            border\n        } = this.config();\n        const viewMatricesInfo = getViewMatrices(this, rowPointer, columnPointer);\n        const layoutDimensions = getViewMeasurements(this, maxRowHeight, maxColWidth);\n        layoutDimensions.border = border;\n        this.viewInfo({\n            viewMatricesInfo,\n            layoutDimensions\n        });\n        return this;\n    }\n}\n","import { selectElement } from 'muze-utils';\nimport {\n     TOP, BOTTOM, ROW_SPAN, COL_SPAN, CENTER, ROW, COLUMN\n} from '../enums/constants';\n\nconst orderMaker = arr => Array.from(Array(arr.length).keys());\n\nconst nestByStack = (stack, updateArr, optionalParams = {}) => {\n    let {\n        order,\n        keyFn\n    } = optionalParams;\n    const arr = updateArr.slice();\n    const currStack = stack.slice();\n    const prevStack = currStack.slice();\n    // Order in which element are to be checked for nesting, default normal looping\n    // Order is always in the order of nest, i.e., left to right\n    order = order || Array.from(Array(arr.length).keys());\n\n    // Key function, if array of objects\n    keyFn = keyFn || (v => v);\n\n    // Return same array if stack is empty\n    if (currStack.length === 0) {\n        const newArr = [];\n        order.forEach((e) => {\n            newArr.push(arr[e]);\n        });\n        return { prevStack, currStack: arr, arr: newArr };\n    }\n\n    let arrVal = '';\n    let stackVal = '';\n    const newArr = [];\n\n    // Loop in order\n    for (let i = order.length - 1; i >= 0; i--) {\n        // Get current element index from the order given\n        const currElemIndex = order[i];\n\n        // Crete a hashmap for the hierarchy by joining strings of the array for both stack and input array\n        arrVal += keyFn(arr[currElemIndex]);\n        stackVal += keyFn(currStack[currElemIndex]);\n\n        // If the current value and value in stack is same, convert it to null\n        if (arrVal === stackVal) {\n            newArr[currElemIndex] = null;\n        } else {\n            stackVal = '';\n            // Loop from the current index in order to the last element in order to change the\n            // whole hierarchy\n            for (let j = i; j < order.length; j++) {\n                const newElem = order[j];\n                const arrElem = arr[newElem];\n\n                newArr[newElem] = arrElem;\n\n                // Reset stack to new stack\n                currStack[newElem] = arrElem;\n                stackVal = arrVal;\n            }\n        }\n    }\n    const returnArr = [];\n    order.forEach((e) => {\n        returnArr.push(newArr[e]);\n    });\n    return { prevStack, currStack, arr: returnArr };\n};\n\nconst spanCalculator = (colData, colIdx, matrix, rIdx) => {\n    // if data is not header cell then rowspan\n    // has to be 1\n    if (!colData) {\n        return () => null;\n    }\n\n    const conditions = {\n        row: count => matrix[rIdx + count] && matrix[rIdx + count][colIdx],\n        column: count => matrix[rIdx][colIdx + count]\n    };\n\n    return (type) => {\n        let count = 1;\n        let isNull = false;\n\n        while (!isNull) {\n            if (conditions[type](count) === null) {\n                count += 1;\n            } else {\n                isNull = true;\n            }\n        }\n        return count;\n    };\n};\n\nconst maskCreator = (matrix, order) => ({\n    row: () => {\n        let stack = [];\n        return matrix.map((e) => {\n            const {\n                    currStack,\n                    arr\n                } = nestByStack(stack, e, { keyFn: val => val.valueOf(), order });\n\n            stack = currStack;\n            return arr;\n        });\n    },\n    column: () => {\n        let stack = [];\n        const viewMatrix = [];\n        matrix.length && matrix[0].forEach((cell, colIndex) => {\n            const hierarchy = [];\n            matrix.forEach((row) => {\n                hierarchy.push(row[colIndex]);\n            });\n            const {\n                    currStack,\n                    arr\n                } = nestByStack(stack, hierarchy, { keyFn: val => val.valueOf(), order });\n            stack = currStack;\n\n            matrix.forEach((row, rowIndex) => {\n                viewMatrix[rowIndex] = viewMatrix[rowIndex] || [];\n                viewMatrix[rowIndex][colIndex] = arr[rowIndex];\n            });\n        });\n        return viewMatrix;\n    }\n});\n\nconst spanGenerator = viewMatrix => ({\n    row: () => {\n        const spans = [];\n        viewMatrix.forEach((row, ridx) => {\n            spans[ridx] = spans[ridx] || [];\n            row.forEach((col, i) => {\n                if (viewMatrix[ridx][i]) {\n                    const currSpan = spanCalculator(col, i, viewMatrix, ridx)('row');\n                    currSpan && spans[ridx].push(currSpan);\n                }\n            });\n        });\n        return spans;\n    },\n    column: () => viewMatrix.map((row, ridx) => row.map((col, i) => spanCalculator(col, i, viewMatrix, ridx)('column'))\n                    .filter(col => col !== null))\n});\n\nconst getOrder = () => ({\n    row: matrix => orderMaker(matrix[0]),\n    column: matrix => orderMaker(matrix)\n});\n\nconst matrixSpanGeneratorMap = {\n    [`${TOP}-1`]: {\n        orderGetter: getOrder()[COLUMN],\n        viewMatrixMaker: (...params) => maskCreator(...params)[COLUMN],\n        spanMaker: (...params) => spanGenerator(...params)[COLUMN]\n    },\n    [`${BOTTOM}-1`]: {\n        orderGetter: getOrder()[COLUMN],\n        viewMatrixMaker: (...params) => maskCreator(...params)[COLUMN],\n        spanMaker: (...params) => spanGenerator(...params)[COLUMN]\n    },\n    [`${CENTER}-0`]: {\n        orderGetter: getOrder()[ROW],\n        viewMatrixMaker: (...params) => maskCreator(...params)[ROW],\n        spanMaker: (...params) => spanGenerator(...params)[ROW]\n    },\n    [`${CENTER}-2`]: {\n        orderGetter: getOrder()[ROW],\n        viewMatrixMaker: (...params) => maskCreator(...params)[ROW],\n        spanMaker: (...params) => spanGenerator(...params)[ROW]\n    }\n};\n\nconst matrixSpanGenerator = (type) => {\n    const generator = matrixSpanGeneratorMap[type];\n    if (generator) {\n        return generator;\n    }\n    return {\n        orderGetter: () => null,\n        viewMatrixMaker: matrix => () => matrix,\n        spanMaker: () => () => null\n    };\n};\n\n/**\n * This function is used to set the col and row spans\n * for the matrices based on repeated/hierarchichal data\n *\n * @export\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {string} type Type of array (center, top, bottom)\n * @param {number} index Index of array in the row\n * @return {Object} containing the view matrix and their spans\n */\nexport function cellSpanMaker (matrix, type, index) {\n    let spans = null;\n    let viewMatrix = matrix;\n    const {\n        orderGetter,\n        viewMatrixMaker,\n        spanMaker\n    } = matrixSpanGenerator(`${type}-${index}`);\n\n    if (matrix.length) {\n        const order = orderGetter(matrix);\n        viewMatrix = viewMatrixMaker(matrix, order)();\n        spans = spanMaker(viewMatrix)();\n    }\n    return { viewMatrix, spans };\n}\n\nconst spaceAllocationDueToSpan = (span = 1, placeholder, config, index) => {\n    const height = placeholder.availHeight();\n    const width = placeholder.availWidth();\n    const borderWidth = config.border.width;\n    const { unitWidths } = config.dimensions;\n    const { col } = index;\n\n    return {\n        [ROW_SPAN] () {\n            placeholder.setAvailableSpace(width, height * span);\n            if (span === 1) {\n                selectElement(this).style('height', `${height * span + borderWidth}px`);\n            }\n        },\n        [COL_SPAN] () {\n            const primaryUnitWidth = unitWidths.primary[col];\n            if (span > 1) {\n                let cumulativeWidth = 0;\n                for (let i = col; i < col + span; i++) {\n                    cumulativeWidth += unitWidths.primary[i] - borderWidth;\n                }\n                placeholder.setAvailableSpace(cumulativeWidth + borderWidth, height);\n            } else if (primaryUnitWidth) {\n                placeholder.setAvailableSpace(primaryUnitWidth - borderWidth, height);\n            }\n            selectElement(this).style('height', `${height}px`);\n        }\n    };\n};\n\nconst spanApplier = (cells, spans, config, type) => {\n    let cellCounter = 0;\n    cells.attr(type, function (cell, colIndex) {\n        if (colIndex === 0) {\n            cellCounter = 0;\n        }\n        const span = spans[cell.rowIndex][colIndex];\n        const placeholder = cell.placeholder;\n        const index = {\n            row: cell.rowIndex,\n            col: cellCounter\n        };\n\n        spaceAllocationDueToSpan(span, placeholder, config, index)[type].bind(this)();\n        cellCounter += span;\n        return span;\n    });\n};\n\nconst spanApplierMap = {\n    [`${TOP}-0`]: null,\n    [`${TOP}-1`]: (...params) => spanApplier(...params, COL_SPAN),\n    [`${TOP}-2`]: null,\n    [`${CENTER}-0`]: (...params) => spanApplier(...params, ROW_SPAN),\n    [`${CENTER}-1`]: null,\n    [`${CENTER}-2`]: (...params) => spanApplier(...params, ROW_SPAN),\n    [`${BOTTOM}-0`]: null,\n    [`${BOTTOM}-1`]: (...params) => spanApplier(...params, COL_SPAN),\n    [`${BOTTOM}-2`]: null\n};\n\nexport const applySpans = (cells, spans, config, type) => {\n    const applier = spanApplierMap[type];\n    if (applier) {\n        applier(cells, spans, config);\n    }\n};\n","/**\n * Gets view matrices based on current pointers for row and column\n *\n * @param {Object} layout instance of layout\n * @param {number} rowPointer current row pointer\n * @param {number} columnPointer current column pointer\n * @return {Object} returns the view matrix and its relevant information\n */\nexport const getViewMatrices = (layout, rowPointer, columnPointer) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const centerMatrix = layout.centerMatrix();\n    const matrices = layout.matrices();\n    const rowMatrices = rowMatrix.getViewableMatrices();\n    const columnMatrices = columnMatrix.getViewableMatrices();\n    const centralMatrixPointer = {\n        row: 0,\n        column: 0\n    };\n\n    for (let i = rowPointer - 1; i >= 0; i--) {\n        const length = Math.max(rowMatrices[i].primaryMatrix.length,\n            rowMatrices[i].secondaryMatrix.length);\n        centralMatrixPointer.row += length;\n    }\n     /* istanbul ignore next */\n    for (let i = columnPointer - 1; i >= 0; i--) {\n        const matrix = columnMatrices[i];\n        const { primaryMatrix, secondaryMatrix } = matrix;\n        const length = Math.max(primaryMatrix[0] ? primaryMatrix[0].length : 0,\n            secondaryMatrix[0] ? secondaryMatrix[0].length : 0);\n        centralMatrixPointer.column += length;\n    }\n\n    matrices.top[1] = columnMatrices[columnPointer].primaryMatrix;\n    matrices.bottom[1] = columnMatrices[columnPointer].secondaryMatrix;\n\n    matrices.center[0] = rowMatrices[rowPointer].primaryMatrix;\n    matrices.center[2] = rowMatrices[rowPointer].secondaryMatrix;\n\n    const rowMatrixLen = Math.max(matrices.center[0].length, matrices.center[2].length);\n     /* istanbul ignore next */\n    const columnMatrixLen = Math.max(matrices.top[1][0] ? matrices.top[1][0].length : 0, matrices.bottom[1][0] ?\n            matrices.bottom[1][0].length : 0);\n    matrices.center[1] = centerMatrix.slice(centralMatrixPointer.row, centralMatrixPointer.row + rowMatrixLen)\n        .map(matrix => matrix.slice(centralMatrixPointer.column, centralMatrixPointer.column + columnMatrixLen));\n\n    return {\n        matrices,\n        rowPages: rowMatrices.length,\n        columnPages: columnMatrices.length\n    };\n};\n\nconst measureSum = measureArr => measureArr.reduce((total, measure) => total + measure, 0);\n/**\n * Returns measurements of the cells of the current matrix\n *\n * @param {Object} layout instance of layout\n * @return {Object} returns the measurements for current view matrix\n */\nexport const getViewMeasurements = (layout, maxRowHeight, maxColWidth) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const {\n        columnPointer,\n        rowPointer\n    } = layout.config();\n\n    const rowSpaces = rowMatrix.getViewableSpaces()[rowPointer];\n    const colSpaces = columnMatrix.getViewableSpaces()[columnPointer];\n\n    const {\n        rowHeights,\n        width: rowMatrixWidth\n    } = rowSpaces;\n    const {\n        columnWidths,\n        height: columnMatrixHeight\n    } = colSpaces;\n\n    const { primary: leftWidth, secondary: rightWidth } = rowMatrixWidth;\n    const { primary: topHeight, secondary: bottomHeight } = columnMatrixHeight;\n\n    const centerHeight = measureSum(rowHeights.primary);\n    const centerWidth = measureSum(columnWidths.primary);\n    const viewWidth = [leftWidth, Math.min(centerWidth, maxColWidth), rightWidth];\n    const viewHeight = [topHeight, Math.min(centerHeight, maxRowHeight), bottomHeight];\n\n    return {\n        viewWidth,\n        viewHeight,\n        actualCenterMeasures: {\n            height: centerHeight,\n            width: centerWidth\n        },\n        totalMeasures: {\n            width: measureSum(viewWidth),\n            height: measureSum(viewHeight)\n        },\n        unitHeights: rowHeights,\n        unitWidths: columnWidths\n    };\n};\n","/**\n * This file is used to export all the public classes in this module.\n * @module Layout\n */\n\nexport {\n    GridLayout,\n    cellSpanMaker,\n    applySpans,\n    applyBorders\n} from './grid-layout';\n","import { DEFAULT_CONFIG } from '../../../../muze/src/defaults';\n\nconst DEFAULT_WIDTH = 600;\nconst DEFAULT_HEIGHT = 400;\nconst DEFAULT_CLASS_NAME = `${DEFAULT_CONFIG.classPrefix}-layout-container-component`;\nconst NODE_PREFIX = `${DEFAULT_CONFIG.classPrefix}-layout-container`;\n\nexport {\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT,\n  DEFAULT_CLASS_NAME,\n  NODE_PREFIX\n};\n","import { getnodePoints } from './helper';\n\nexport class DataParser {\n    constructor (data) {\n        this._data = data;\n    }\n\n    defaultDataPointLogic () {\n        const nodepoints = [];\n        getnodePoints(this._data, nodepoints);\n        return nodepoints;\n    }\n\n}\n","import { DEFAULT_CLASS_NAME } from '../constants/defaults';\nimport { LayoutComponent } from '../layout-component';\n\nexport default class DataPoint {\n    constructor (node) {\n        this._node = node;\n        this._className = node.model().host() instanceof LayoutComponent ?\n                            node.model().host().className() : DEFAULT_CLASS_NAME;\n    }\n\n    node () {\n        return this._node;\n    }\n\n    hasHost () {\n        return this._node.model().host() instanceof LayoutComponent;\n    }\n\n    className () {\n        return this._className || DEFAULT_CLASS_NAME;\n    }\n}\n","import DataPoint from './data-point';\n\nexport const getnodePoints = (node, nodepoints) => {\n    const datapoint = new DataPoint(node);\n    nodepoints.push(datapoint);\n    node.children().forEach((child) => {\n        getnodePoints(child, nodepoints);\n    });\n};\n","import { DataParser } from './data-parser';\n\nexport class HTMLDataAdapter extends DataParser {\n    getCoordinates () {\n        return super.defaultDataPointLogic();\n    }\n}\n","import { selectElement } from 'muze-utils';\nimport { HTMLRenderer } from '../renderers/html-renderer';\nimport { LayoutComponent } from '../layout-component';\n\nexport const getChildNode = (context, config) =>\n    context.renderer().createAndPositionDiv(config);\n\nexport const findNode = (context, nodeID) =>\n    context.renderer().coordinates().find(point => point.node().id() === nodeID);\n\nexport const renderHTML = (context) => {\n    context.renderer(new HTMLRenderer(context.data()));\n    context.renderer().createhtml(context.mount(), context.className());\n};\n\nexport const drawLayout = context => renderHTML(context);\n\nexport const drawComponent = (componentData) => {\n    componentData.children().forEach((node) => {\n        const host = node.model().host();\n        if (host instanceof LayoutComponent) {\n            host.draw();\n        }\n        drawComponent(node);\n    });\n};\n\nexport const removeElement = (elemID) => {\n    if (elemID) {\n        selectElement(`#${elemID}`).remove();\n    }\n};\n\nconst setAlignConfig = (alignment, params) => {\n    let newNodeConfig = {};\n    const { node, refNode } = params;\n    switch (alignment) {\n    case 'left':\n        newNodeConfig = {\n            top: node.top,\n            left: refNode.left,\n            height: node.height,\n            width: Math.abs(node.width - Math.abs(refNode.left - node.left))\n        };\n        break;\n\n    case 'right':\n        newNodeConfig = {\n            top: node.top,\n            left: node.left,\n            height: node.height,\n            width: Math.abs(node.width - Math.abs(node.left + node.width - (refNode.left + refNode.width)))\n        };\n        break;\n\n    case 'top':\n        newNodeConfig = {\n            top: refNode.top,\n            left: node.left,\n            height: Math.abs(node.height - Math.abs(refNode.top - node.top)),\n            width: node.width\n        };\n        break;\n\n    case 'bottom':\n        newNodeConfig = {\n            top: node.top,\n            left: node.left,\n            height: Math.abs(node.top - refNode.top + refNode.height),\n            width: node.width\n        };\n        break;\n\n    case 'h-center':\n        newNodeConfig = {\n            top: node.top,\n            left: refNode.left,\n            height: node.height,\n            width: refNode.width\n        };\n        break;\n\n    case 'v-center':\n        newNodeConfig = {\n            top: refNode.top,\n            left: node.left,\n            height: refNode.top,\n            width: node.width\n        };\n        break;\n    default:\n        break;\n    }\n    return newNodeConfig;\n};\n\nexport const resolveAligment = (context, componentData) => {\n    componentData.children().forEach((component) => {\n        const host = component.model().host();\n\n        if (host instanceof LayoutComponent && host.alignWith()) {\n            const componentToAlign = context.componentMap().get(host.alignWith());\n\n            if (componentToAlign) {\n                const point = findNode(context, component.id()).node();\n                const node = point.boundBox();\n                const refNode = findNode(context, componentToAlign.renderAt())\n                    .node()\n                    .boundBox();\n                const newNodeConfig = setAlignConfig(host.alignment(), { node, refNode });\n\n                // check if model in parent component\n                Object.assign(newNodeConfig, { id: point.id(), className: host.className() });\n                context.renderer().createAndPositionDiv(newNodeConfig);\n                context.componentMap().get(host.name()).setSpatialConfig({\n                    x: newNodeConfig.left,\n                    y: newNodeConfig.top,\n                    height: newNodeConfig.height,\n                    width: newNodeConfig.width\n\n                });\n            }\n        }\n\n        resolveAligment(context, component);\n    });\n};\n","import { Utils } from '../utils';\nimport { drawLayout, resolveAligment, drawComponent } from './helper';\n\nexport class DrawingManager {\n    constructor (data, renderer, container) {\n        this._data = data.tree;\n        this._componentMap = data.componentMap;\n        this._layoutClassName = data.layoutClassName;\n        this._renderer = renderer;\n        this._mount = Utils.isDOMElement(container) ? container : Utils.getElement(container);\n    }\n\n    draw () {\n        drawLayout(this);\n        resolveAligment(this, this._data);\n        drawComponent(this._data);\n        return this;\n    }\n\n    data (data) {\n        if (data) {\n            this._data = data;\n        }\n        return this._data;\n    }\n\n    componentMap (param) {\n        if (param) {\n            this._componentMap = param;\n        }\n        return this._componentMap;\n    }\n\n    className (param) {\n        if (param) {\n            this._layoutClassName = param;\n        }\n        return this._layoutClassName;\n    }\n\n    renderer (param) {\n        if (param) {\n            this._renderer = param;\n        }\n        return this._renderer;\n    }\n\n    mount (param) {\n        if (param) {\n            this._mount = param;\n        }\n        return this._mount;\n    }\n}\n","import { DummyComponent, LayoutComponent } from './layout-component';\nimport LayoutManager from './layout-manager/';\n\nexport { LayoutManager, DummyComponent, LayoutComponent };\n","import LayoutComponent from './layoutComponent';\n\nclass DummyComponent extends LayoutComponent {\n    getLogicalSpace () {\n        return {\n            width: this.boundBox().width,\n            height: this.boundBox().height\n        };\n    }\n\n    setSpatialConfig (conf) {\n        this.boundBox({ top: conf.y, left: conf.x });\n        this.newDimensions = {\n            width: conf.width,\n            height: conf.height\n        };\n        this.renderAt(conf.renderAt);\n        return this;\n    }\n\n    draw () {\n        if (!this.component) {\n            throw new Error(`Component not set for ${this.componentName}`);\n        }\n        this.component.mount(document.getElementById(this.renderAt)); // Change the draw method to component draw\n        return this;\n    }\n}\n\nexport default DummyComponent;\n","import DummyComponent from './dummy-component';\nimport LayoutComponent from './layoutComponent';\n\nexport { DummyComponent, LayoutComponent };\n","export default class LayoutComponent {\n    constructor (name, dimensions, seed) {\n        this._seed = seed;\n        this._boundBox = {\n            height: dimensions.height,\n            width: dimensions.width,\n            top: null,\n            left: null\n        };\n        this._renderAt = null;\n        this._alignWith = null;\n        this._alignment = null;\n        this._target = null;\n        this._position = null;\n        this._componentName = name;\n        this._className = null;\n    }\n\n    getLogicalSpace () {\n        throw new Error('getLogicalSpace is not defined');\n    }\n\n    setSpatialConfig () {\n        throw new Error('setSpatialSpace is not defined');\n    }\n\n    name (param) {\n        if (param) {\n            this._componentName = param;\n        }\n        return this._componentName;\n    }\n\n    target (param) {\n        if (param) {\n            this._target = param;\n        }\n        return this._target;\n    }\n\n    position (param) {\n        if (param) {\n            this._position = param;\n        }\n        return this._position;\n    }\n\n    alignment (param) {\n        if (param) {\n            this._alignment = param;\n        }\n        return this._alignment;\n    }\n\n    alignWith (param) {\n        if (param) {\n            this._alignWith = param;\n        }\n        return this._alignWith;\n    }\n\n    renderAt (param) {\n        if (param) {\n            this._renderAt = param;\n        }\n        return this._renderAt;\n    }\n\n    boundBox (param) {\n        if (param) {\n            Object.assign(this._boundBox, param);\n        }\n        return this._boundBox;\n    }\n\n    className (param) {\n        if (param) {\n            this._className = param;\n        }\n        return this._className;\n    }\n\n    draw () {\n        throw new Error('draw is not defined');\n    }\n\n    attachListener () {\n        return this;\n    }\n  }\n\n","export default class DefinitionModel {\n    constructor (config) {\n        this._host = config.host || null;\n        this._cut = config.cut || null;\n        this._ratioWeight = config.ratioWeight === 0 ? 0 : config.ratioWeight || 1;\n        this._preferred = config.preferred || false;\n        this._lanes = config.lanes || [];\n        this._remainingHeight = 0;\n        this._remainingWidth = 0;\n    }\n\n    host (host) {\n        if (host) {\n            this._host = host;\n        }\n        return this._host;\n    }\n\n    preferred (preferred) {\n        if (preferred) {\n            this._preferred = preferred;\n        }\n        return this._preferred;\n    }\n\n    cut (cut) {\n        if (cut) {\n            this._cut = cut;\n        }\n        return this._cut;\n    }\n\n    ratioWeight (ratioWeight) {\n        if (ratioWeight) {\n            this._ratioWeight = ratioWeight;\n        }\n        return this._ratioWeight;\n    }\n\n    lanes (lanes) {\n        if (lanes) {\n            this._lanes = lanes;\n        }\n        return this._lanes;\n    }\n\n    remainingHeight (remainingHeight) {\n        if (remainingHeight) {\n            this._remainingHeight = remainingHeight;\n        }\n        return this._remainingHeight;\n    }\n\n    remainingWidth (remainingWidth) {\n        if (remainingWidth) {\n            this._remainingWidth = remainingWidth;\n        }\n        return this._remainingWidth;\n    }\n}\n","import DefinitionModel from './definitionModel';\nimport { prepareTargetComponentMap, getComponent, placeComponent, placeGridComponent } from '../helper';\n\nexport default class DefinitionManager {\n    constructor (componentMap, sequence, totalHeight, totalWidth) {\n        this._componentMap = componentMap;\n        this._prioritySequence = sequence;\n        this._totalHeight = totalHeight;\n        this._totalWidth = totalWidth;\n        this._targetComponentMap = null;\n    }\n\n    // create the config model\n    generateConfigModel () {\n        prepareTargetComponentMap(this);\n        const canvasComponent = this._targetComponentMap.get('canvas');\n        const definitionModel = new DefinitionModel({});\n        let tempDefModel = definitionModel;\n        definitionModel.remainingHeight(this._totalHeight);\n        definitionModel.remainingWidth(this._totalWidth);\n\n        let componentRef = null;\n\n        this._prioritySequence.forEach((name) => {\n            componentRef = getComponent(canvasComponent, name);\n            if (name !== 'grid') {\n                tempDefModel = placeComponent(tempDefModel, componentRef).second;\n            } else {\n                tempDefModel = placeGridComponent(tempDefModel, componentRef.component);\n            }\n        });\n        return definitionModel;\n    }\n\n    componentMap (param) {\n        if (param) {\n            this._componentMap = param;\n        }\n        return this._componentMap;\n    }\n\n    targetComponentMap (param) {\n        if (param) {\n            this._targetComponentMap = param;\n        }\n        return this._targetComponentMap;\n    }\n}\n","import { NODE_PREFIX } from '../../constants/defaults';\nimport DefinitionModel from '../definition-manager/definitionModel';\nimport DummyComponent from '../../layout-component/dummy-component';\n/**\n * Compares two strings in lowercase\n *\n * @export\n * @param {string} value the value to be compared\n * @param {string} compareTo whom the value would be compared\n * @return {boolean} true if values are equal\n */\nexport function isEqual (value, compareTo) {\n    if (typeof value !== 'string' || typeof compareTo !== 'string') {\n        throw new TypeError('value and compareTo must be string');\n    }\n    return value.toLowerCase() === compareTo.toLowerCase();\n}\n\nexport const getNodeId = (() => {\n    let _uid = 0;\n    return () => `${NODE_PREFIX}-${++_uid}`;\n})();\n\nexport function yExtraSpace (node) {\n    let smallestHeight = 0;\n    if (node.getCutType() === 'v') {\n        smallestHeight = smallestExtraHeightHorizontally(node); // eslint-disable-line no-use-before-define\n    } else if (node.getCutType() === 'h') {\n        node.children().forEach((child) => {\n            smallestHeight += yExtraSpace(child);\n        });\n    } else if (node.model().host() && node.model().host().getLogicalSpace) {\n        const containerHeight = node.boundBox().height;\n        const hostHeight = node.model().host().getLogicalSpace().height;\n\n        smallestHeight = containerHeight - hostHeight;\n        if (smallestHeight < 0) {\n            smallestHeight = 0;\n        }\n    } else {\n        smallestHeight = 0;\n    }\n    return smallestHeight;\n}\n\nexport function smallestExtraHeightHorizontally (node) {\n    let smallestHeight = Number.MAX_SAFE_INTEGER;\n    node.children().forEach((child) => {\n        const h = yExtraSpace(child);\n        if (h < smallestHeight) {\n            smallestHeight = h;\n        }\n    });\n    return smallestHeight;\n}\n\nexport function xExtraSpace (node) {\n    let smallestWidth = 0;\n    if (node.getCutType() === 'h') {\n        smallestWidth = smallestExtraWidthVertically(node); // eslint-disable-line no-use-before-define\n    } else if (node.getCutType() === 'v') {\n        node.children().forEach((child) => {\n            smallestWidth += xExtraSpace(child);\n        });\n    } else if (node.model().host() && node.model().host().getLogicalSpace) {\n        const containerWidth = node.boundBox().width;\n        const hostWidth = node.model().host().getLogicalSpace().width;\n        smallestWidth = containerWidth - hostWidth;\n        if (smallestWidth < 0) {\n            smallestWidth = 0;\n        }\n    } else {\n        smallestWidth = 0;\n    }\n    return smallestWidth;\n}\n\nexport function smallestExtraWidthVertically (node) {\n    let smallestWidth = Number.MAX_SAFE_INTEGER;\n    node.children().forEach((child) => {\n        const w = xExtraSpace(child);\n        if (w < smallestWidth) {\n            smallestWidth = w;\n        }\n    });\n    return smallestWidth;\n}\n\nexport function determineBoundBox (bb, i, arr, instance) {\n    if (i) {\n    // if not first sibling, take boundbox from previous sibling\n        const lastSibling = arr[i - 1];\n        const { top: _top, left: _left, height: _height, width: _width } = lastSibling.boundBox();\n        return {\n            width: bb.width,\n            height: bb.height,\n\n            top: instance.parentCut() === 'h'\n        ? _top + _height : _top,\n\n            left: instance.parentCut() === 'h'\n        ? _left : _left + _width\n        };\n    }\n  // if first sibling, take boundbox from parent\n    const { top: _top, left: _left } = instance.parent().boundBox();\n    return {\n        width: bb.width,\n        height: bb.height,\n        top: _top,\n        left: _left\n    };\n}\n\n// prepares the targetComponent Map for target Mapping ie. where a component should lie\nexport function prepareTargetComponentMap (context) {\n    context.targetComponentMap(new Map());\n    context.componentMap().forEach((value) => {\n        if (context.targetComponentMap().has(value.target())) {\n            context.targetComponentMap().get(value.target()).push(value);\n        } else {\n            const temp = [];\n            temp.push(value);\n            context.targetComponentMap().set(value.target(), temp);\n        }\n    });\n}\n\nexport function getComponent (canvasComponent, componentName) {\n    const comp = canvasComponent.find(component => component.name() === componentName);\n    return (comp && comp !== -1) ? comp : null;\n}\nexport function createPlaceHolderComponent (height, width, position) {\n    const comp = new DummyComponent(0, { height, width });\n    comp.name('placeHolder');\n    comp.position(position);\n    return comp;\n}\n\nexport function placeComponent (definitionModel, component, isPreferred = false, isGridComponent = false) {\n    let cut = '';\n    let componentRatioWidth = 1;\n    let leftOvercomponentRationWidth = 1;\n    let leftHeight = 0;\n    let leftWidth = 0;\n\n    if (!component) {\n        return { first: definitionModel, second: definitionModel };\n    }\n\n    const { height: componentHeight, width: componentWidth } = component.getLogicalSpace();\n    const position = component.position();\n    if (position === 'top' || position === 'bottom') {\n        cut = 'h';\n        componentRatioWidth = componentHeight / definitionModel.remainingHeight();\n        leftHeight = definitionModel.remainingHeight() - componentHeight;\n        leftWidth = definitionModel.remainingWidth();\n    } else {\n        cut = 'v';\n        componentRatioWidth = componentWidth / definitionModel.remainingWidth();\n        leftWidth = definitionModel.remainingWidth() - componentWidth;\n        leftHeight = definitionModel.remainingHeight();\n    }\n    leftOvercomponentRationWidth = 1 - componentRatioWidth;\n\n// update parentModel\n    definitionModel.cut(cut);\n    const firstLaneConfig = {\n        host: component.name(),\n        cut: null,\n        ratioWeight: componentRatioWidth,\n        preferred: isGridComponent ? false : isPreferred,\n        lanes: []\n    };\n    const firstLane = new DefinitionModel(firstLaneConfig);\n    firstLane.remainingHeight(componentHeight);\n    firstLane.remainingWidth(componentWidth);\n\n    const secondLaneConfig = {\n        host: null,\n        cut: null,\n        ratioWeight: leftOvercomponentRationWidth,\n        preferred: isGridComponent ? false : !isPreferred,\n        lanes: []\n    };\n    const secondLane = new DefinitionModel(secondLaneConfig);\n    secondLane.remainingHeight(leftHeight);\n    secondLane.remainingWidth(leftWidth);\n    if (isPreferred) {\n        definitionModel.lanes([firstLane]);\n    } else if (position === 'top' || position === 'left') {\n        definitionModel.lanes([firstLane, secondLane]);\n    } else {\n        definitionModel.lanes([secondLane, firstLane]);\n    }\n    return { first: firstLane, second: secondLane };\n}\n\nexport function placeGridComponent (definitionModel, gridComponents) {\n    let tempDefModel = definitionModel;\n    const rows = gridComponents.length;\n    const column = rows ? gridComponents[0].length : 0;\n    const height = gridComponents.reduce((acc, val) => (acc + val[0].getLogicalSpace().height), 0);\n\n    for (let i = 0; i < column; i++) {\n        const iscolumnPreffered = i === column - 1;\n        const columnPlaceHolderComponent = createPlaceHolderComponent(height,\n                                                    gridComponents[0][i].getLogicalSpace().width, 'left');\n        const { first, second } = placeComponent(tempDefModel, columnPlaceHolderComponent, iscolumnPreffered);\n        tempDefModel = first;\n        for (let j = 0; j < rows; j++) {\n            const rowpreffred = j === (rows - 1);\n            tempDefModel = placeComponent(tempDefModel, gridComponents[j][i], rowpreffred, true).second;\n        }\n        tempDefModel = second;\n    }\n    return tempDefModel;\n}\n\nexport function negotiateDimension (node) {\n    let preferred;\n    let cumultiveExtraSpaceAmt = 0;\n    let alteredDim;\n    let nonAlteredDim;\n\n    const childrenLength = node.children().length;\n\n    for (let index = 0; index < childrenLength; index++) {\n        let fn;\n        let extraSpaceAmt;\n        const child = node.children()[index];\n\n        if (child.parentCut() === 'h') {\n            fn = yExtraSpace;\n            alteredDim = 'height';\n            nonAlteredDim = 'width';\n        } else {\n            fn = xExtraSpace;\n            alteredDim = 'width';\n            nonAlteredDim = 'height';\n        }\n  // if vertical then get extra height from other node and push it to the preferred node.\n  // for horizontal cut the same thing is to be done with width\n        if (child.isPreferred()) {\n    // push extra space in sink. Execute it when all non preferred space are computed.\n            preferred = child;\n\n            continue; // eslint-disable-line no-continue\n        }\n  // reduce own height and save it in a var\n        cumultiveExtraSpaceAmt += (extraSpaceAmt = fn(child));\n        child.boundBox()[alteredDim] -= extraSpaceAmt;\n  // update nonaltered dim from parent for any change which happened during negotiation\n        child.boundBox()[nonAlteredDim] = child.parent().boundBox()[nonAlteredDim];\n\n        negotiateDimension(child);\n    }\n\n    if (preferred) {\n        preferred.boundBox()[alteredDim] += cumultiveExtraSpaceAmt;\n        preferred.boundBox()[nonAlteredDim] = preferred.parent().boundBox()[nonAlteredDim];\n        negotiateDimension(preferred);\n    }\n}\n\nexport function computePosition (node) {\n    node.children().forEach((child, i, children) => {\n        const boundBox = determineBoundBox(child.boundBox(), i, children, child);\n        child.boundBox(boundBox);\n        computePosition(child);\n    });\n}\n\nexport function allocateBoundingBox (node) {\n    const totalWeight = node.children()\n                            .map(child => child.model().ratioWeight())\n                            .reduce((carry, val) => carry + val, 0);\n\n    node.children().forEach((child, i, children) => {\n        const lastSibling = children[i - 1];\n        const ratio = child.model().ratioWeight() / totalWeight;\n\n        if (child.parentCut() === 'h') {\n            child.boundBox({\n                top: i ? lastSibling.boundBox().top + lastSibling.boundBox().height : 0,\n                left: child.parent().boundBox().left,\n                height: child.parent().boundBox().height * ratio,\n                width: child.parent().boundBox().width\n            });\n        } else {\n            child.boundBox({\n                top: child.parent().boundBox().top,\n                left: i ? lastSibling.boundBox().left + lastSibling.boundBox().width : 0,\n                height: child.parent().boundBox().height,\n                width: child.parent().boundBox().width * ratio\n            });\n        }\n        allocateBoundingBox(child);\n    });\n}\n\n","import LayoutModel from './layout-model';\n\nexport { LayoutModel };\n","import Node from '../tree';\nimport {\n    allocateBoundingBox,\n    negotiateDimension,\n    computePosition\n} from '../helper';\n\nexport default class LayoutModel {\n    constructor (measurements, config) {\n        this._measurements = measurements;\n        this._config = config;\n        this._root = this.createTree(this._config, null);\n        this.setBoundBox();\n    }\n\n    createTree (config, parent) {\n        const node = new Node(config);\n        if (parent) {\n            node.parentCut(parent.getCutType());\n            parent.addChildren([node]);\n        } else {\n            this._root = node;\n        }\n        for (const lane of config.lanes()) {\n            this.createTree(lane, node);\n        }\n\n        return this._root;\n    }\n\n    setBoundBox () {\n        this._root.boundBox({\n            top: 0,\n            left: 0,\n            width: this._measurements.width,\n            height: this._measurements.height\n        });\n        allocateBoundingBox(this._root);\n    }\n\n    setHostPosition (node) {\n        node.children().forEach((child) => {\n            LayoutModel.setHostSpatialConfig(child);\n            this.setHostPosition(child);\n        });\n    }\n\n    static setHostSpatialConfig (node) {\n        const bb = node.boundBox();\n        const host = node.model().host();\n        if (host && host.setSpatialConfig) {\n            const conf = {\n                x: bb.left,\n                y: bb.top,\n                width: bb.width,\n                height: bb.height,\n                renderAt: node.id()\n            };\n            host.setSpatialConfig(conf);\n        }\n    }\n\n    negotiate () {\n        negotiateDimension(this._root);\n        computePosition(this._root);\n        return this;\n    }\n\n    broadcast () {\n        this.setHostPosition(this._root);\n        return this;\n    }\n\n    tree () {\n        return this._root;\n    }\n}\n","import { getNodeId } from '../helper';\nimport { LayoutComponent } from '../../layout-component';\n\nclass Node {\n    constructor (data) {\n        this._model = data;\n        this._parent = null;\n        this._children = [];\n        this._parentCut = null;\n        this._boundBox = {\n            top: null,\n            left: null,\n            height: null,\n            width: null\n        };\n\n        this._id = this._model.host() instanceof LayoutComponent && this._model.host().renderAt() ?\n                    this._model.host().renderAt() :\n                    getNodeId();\n    }\n\n    addChildren (entries) {\n        this._children.push(...entries);\n        entries.forEach((e) => { e.parent(this); });\n    }\n\n    isRoot () {\n        return this._parent === null;\n    }\n\n    isLeaf () {\n        return !this._children.length;\n    }\n\n    getCutType () {\n        return this._model.cut();\n    }\n\n    isPreferred () {\n        return !!this._model.preferred();\n    }\n\n    children (children) {\n        if (children) {\n            this._children = children;\n        }\n        return this._children;\n    }\n\n    parent (parent) {\n        if (parent) {\n            this._parent = parent;\n        }\n        return this._parent;\n    }\n\n    parentCut (parentCut) {\n        if (parentCut) {\n            this._parentCut = parentCut;\n        }\n        return this._parentCut;\n    }\n\n    id (id) {\n        if (id) {\n            this._id = id;\n        }\n        return this._id;\n    }\n\n    model (model) {\n        if (model) {\n            this._model = model;\n        }\n        return this._model;\n    }\n\n    boundBox (bound) {\n        if (bound) {\n            this._boundBox = {\n                top: bound.top,\n                left: bound.left,\n                height: bound.height,\n                width: bound.width\n            };\n        }\n        return this._boundBox;\n    }\n  /**\n     * function to search a node and update it with the config provided.\n     * @param  {Object} nodeconfig\n     */\n    updateNode (nodeconfig) {\n        if (this._id === nodeconfig._id) {\n            this._model.cut(nodeconfig.cut);\n            this._model.ratioWeight(nodeconfig.ratioWeight);\n        } else {\n            this._children.forEach((node) => {\n                if (node._id === nodeconfig._id) {\n                    node.model.cut(nodeconfig.cut);\n                    node.model.ratioWeight(nodeconfig.ratioWeight);\n                    return;\n                }\n                this.searchNode(node, nodeconfig);\n            });\n        }\n    }\n\n  // Recursive function to search a node\n    searchNode (node, nodeconfig) {\n        node.children().forEach((childNode) => {\n            if (childNode.id() === nodeconfig._id) {\n                childNode.model().cut(nodeconfig.cut);\n                childNode.model().ratioWeight(nodeconfig.ratioWeight);\n            } else {\n                this.searchNode(childNode, nodeconfig);\n            }\n        });\n    }\n\n  /**\n     * function to delete a node from tree Structure.\n     * @param  {String} nodeId - node Id of the Node\n     */\n    delete (nodeId) {\n        this._children.forEach((node) => {\n            if (node.id() === nodeId) {\n                const index = this._children.indexOf(node);\n                this._model.lanes().splice(index, 1);\n            }\n            this.deleteSearchNode(node, nodeId);\n        });\n    }\n\n  // Recursive function to search a node\n    deleteSearchNode (node, nodeId) {\n        node.children().forEach((childNode) => {\n            if (childNode.id() === nodeId) {\n                const index = node.children().indexOf(childNode);\n                node.model().lanes().splice(index, 1);\n            } else {\n                this.deleteSearchNode(childNode, nodeId);\n            }\n        });\n    }\n}\n\nexport default Node;\n","import DefinitionManager from '../layout-definition/definition-manager';\n\nexport function sanitizeConfig (context, hostObj) {\n    const hostID = hostObj.host();\n    if (hostObj.lanes() && hostObj.lanes().length) {\n        hostObj.lanes().forEach(childHost => sanitizeConfig(context, childHost));\n    }\n    if (hostID != null && typeof (hostID) === 'string') {\n        if (context.componentMap().get(hostID) !== undefined) {\n            hostObj.host(context.componentMap().get(hostID));\n        }\n    }\n}\n\nexport function calLayOutDef (context) {\n    const { height, width } = context.dimension();\n    const defManager = new DefinitionManager(context.layoutDef().componentMap(),\n                                              context.prioritySequence(),\n                                              height,\n                                              width);\n    const genLayoutdef = defManager.generateConfigModel();\n    return genLayoutdef;\n}\n","import {\n  LayoutModel\n} from '../layout-definition';\n\nimport {\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT\n} from '../constants/defaults';\n\nimport {\n   GRID\n} from '../../enums/constants';\n\nimport { DrawingManager } from '../drawing-manager';\nimport { removeElement } from '../drawing-manager/helper';\nimport { Utils } from '../utils';\nimport { LayoutDef } from './layout-def';\nimport { calLayOutDef } from './helper';\n\nexport default class LayoutManager {\n    constructor (conf) {\n        this._renderAt = conf.renderAt;\n        this._layoutClassName = conf.className;\n        this._dimension = {\n            width: conf.width || DEFAULT_WIDTH,\n            height: conf.height || DEFAULT_HEIGHT\n        };\n\n        this._skeletonType = conf.skeletonType || 'html';\n        this._layoutDefinition = null;\n        this._layoutDef = new LayoutDef();\n        this._drawingManager = null;\n        this._prioritySequence = [];\n        this.tree = null;\n        this._rootNodeID = null;\n    }\n\n    layoutDef (param) {\n        if (param) {\n            this._layoutDef = param;\n        }\n        return this._layoutDef;\n    }\n\n    prioritySequence (param) {\n        if (param) {\n            this._prioritySequence = param;\n        }\n        return this._prioritySequence;\n    }\n\n    dimension (param) {\n        if (param) {\n            Object.assign(this._dimension, param);\n        }\n        return this._dimension;\n    }\n\n    addComponent (component) {\n        this._layoutDef.addComponent(component);\n    }\n\n    addMultipleComponent (componentArray) {\n        this._layoutDef.addMultipleComponent(componentArray);\n    }\n\n    resetNode (node) {\n        if (this.con) {\n            this.con.resetNode(node);\n        }\n    }\n\n  /**\n   * function to update the node and rerender the layout.\n   * @param  {} config - node configuration to change.\n   */\n    updateNode (config) {\n        this.tree.updateNode(config);\n        this._layoutDefinition = this.tree.model;\n        this.compute();\n    }\n\n    compute () {\n        //----\n        if (Utils.isDOMElement(this._renderAt)) {\n            this._renderAt._layout = this;\n        } else {\n            document.getElementById(this._renderAt)._layout = this;\n        }\n        //-----\n        this._layoutDefinition = calLayOutDef(this);\n        this._layoutDef.layoutDefinition(this._layoutDefinition);\n        this._layoutDefinition = this._layoutDef.sanitizedDefinition();\n        this._layout = new LayoutModel({\n            width: this._dimension.width,\n            height: this._dimension.height\n        },\n            this._layoutDefinition);\n        this.tree = this._layout.negotiate().tree();\n        this._layout.broadcast();\n        this._drawingManager = new DrawingManager({\n            tree: this.tree,\n            componentMap: this._layoutDef.componentMap(),\n            layoutClassName: this._layoutClassName\n        }, this._skeletonType, this._renderAt);\n\n        if (this._rootNodeID) {\n            this.tree.id(this._rootNodeID);\n        } else {\n            this._rootNodeID = this.tree.id();\n        }\n    // this will draw all the components by calling their draw method\n        this._drawingManager.draw();\n    }\n\n    getRootNodeId () {\n        return this._rootNodeID;\n    }\n\n  /**\n  * This function takes the LayoutComponents and Register them in component store\n  * @param {Array<LayoutComponent>} layoutComponents\n  */\n    registerComponents (layoutComponents) {\n        this._prioritySequence.length = 0;\n        this._layoutDef.resetComponentMap();\n        layoutComponents.forEach((container) => {\n            if (container) {\n                this._prioritySequence.push(container.name());\n                this.addComponent(container);\n                if (container.name() === 'grid') {\n                    container.component.forEach((componentArr) => {\n                        componentArr.forEach((compo) => {\n                            this.addComponent(compo);\n                        });\n                    });\n                }\n            }\n        });\n        return this;\n    }\n\n    getComponent (componentName) {\n        return this._layoutDef.componentMap().get(componentName);\n    }\n\n    deleteElement (component, elementName) {\n        this._layoutDef.componentMap().delete(elementName);\n        const deleteElementId = component.renderAt();\n        return removeElement(deleteElementId);\n    }\n\n    removeComponent (name) {\n        const component = this.getComponent(name);\n        if (component) {\n            if (name === GRID) {\n                return component.component.map(comp => comp.map(\n                    co => this.deleteElement(co, co.name())\n                ));\n            }\n            return this.deleteElement(component, name);\n        }\n        return this;\n    }\n\n    renderAt (mount) {\n        if (mount) {\n            this._renderAt = mount;\n        }\n        return this._renderAt;\n    }\n}\n","import { sanitizeConfig } from './helper';\n\nexport class LayoutDef {\n    constructor () {\n        this._componentMap = new Map();\n        this._layoutDefinition = null;\n    }\n\n    addComponent (component) {\n        this._componentMap.set(component.name(), component);\n    }\n\n    layoutDefinition (def) {\n        if (def) {\n            this._layoutDefinition = def;\n        }\n        return this._layoutDefinition;\n    }\n\n    addMultipleComponent (componentArray) {\n        componentArray.forEach((comp) => {\n            this.addComponent(comp);\n        });\n    }\n\n    sanitizedDefinition () {\n        sanitizeConfig(this, this._layoutDefinition);\n        return this.layoutDefinition();\n    }\n\n    componentMap () {\n        return this._componentMap;\n    }\n    resetComponentMap () {\n        this._componentMap.clear();\n    }\n}\n","import { HTMLDataAdapter } from '../data-adapters/html-data';\nimport { Utils } from '../utils';\nimport { Renderer } from './renderer';\n\nexport class HTMLRenderer extends Renderer {\n    constructor (data) {\n        super();\n        this._data = data;\n        this._coordinates = new HTMLDataAdapter(this._data).getCoordinates();\n    }\n\n    createhtml (mount, className) {\n        const mainDiv = mount;\n        super.initRenderer(mainDiv, this._data); // Initialise node with layout id\n        this.parentDiv = this.createAndCustomiseParent(className);\n        this._coordinates.forEach((node) => {\n            if (node.hasHost()) {\n                const host = node.node();\n                this.parentDiv.appendChild(this.createAndPositionDiv({ ...host.boundBox(),\n                    id: host.id(),\n                    className: node.className() }));\n            }\n        });\n        mainDiv.appendChild(this.parentDiv);\n    }\n\n    createAndPositionDiv (config) {\n        const { top, left, height, width, className, id } = config;\n        const existingDiv = document.getElementById(id);\n        const div = existingDiv || document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.left = `${left}px`;\n        div.style.top = `${top}px`;\n        div.style.height = `${height}px`;\n        div.style.width = `${width}px`;\n        div.id = id;\n        div.className = className;\n        return div;\n    }\n\n    createAndCustomiseParent (className) {\n        const container = Utils.findContainer(this._coordinates);\n        const host = container.node();\n        const parentDiv = this.createAndPositionDiv({ ...host.boundBox(),\n            id: host.id(),\n            className: container.className() });\n        parentDiv.className = className;\n        parentDiv.style.position = 'relative';\n        return parentDiv;\n    }\n\n    coordinates () {\n        return this._coordinates;\n    }\n}\n","export class Renderer {\n\n    initRenderer (node, tree) {\n        node.__logicalTree = tree;\n    }\n}\n","/* eslint no-undef: \"off\" */\n/* eslint default-case: \"off\" */\nexport class Utils {\n    static isDOMElement (element) {\n        return element instanceof Element;\n    }\n\n    static getID (element) {\n        return element.id;\n    }\n\n    static getElement (id) {\n        return document.getElementById(id);\n    }\n\n    static findContainer (data) {\n        return data.filter(coordinate => coordinate.parent == null)[0];\n    }\n  /**\n   * static method to remove the div\n   * @param  {} divId - div ID to be removed.\n   */\n    static removeDiv (divId) {\n        if (document.getElementById(divId) !== null) { document.getElementById(divId).remove(); }\n    }\n}\n","/**\n * This file exports utility functions that are used across the layout module\n */\nimport { Symbols } from 'muze-utils';\nimport { PRIMARY, SECONDARY, HEIGHT, WIDTH } from '../enums/constants';\n\nconst nest = Symbols.nest;\n/**\n *\n *\n * @param {*} isTransposed\n *\n */\nconst getMeasureInfo = (isTransposed) => {\n    if (isTransposed) {\n        return {\n            firstMeasure: HEIGHT,\n            secondMeasure: WIDTH\n        };\n    }\n    return {\n        firstMeasure: WIDTH,\n        secondMeasure: HEIGHT\n    };\n};\n\n/**\n *\n *\n * @param {*} i\n * @param {*} page\n *\n */\nconst findInPage = (i, page) => {\n    let count = 0;\n    for (const x in page) {\n        if (i < page[x]) {\n            count = x;\n            break;\n        }\n    }\n    return count;\n};\n\n/**\n * Creates a single matrix from two matrices\n *\n * @param {Array<Array>} matrix Input matrix\n * @return {Array<Array>} Joined matrix\n * @memberof VisualMatrix\n */\nexport const combineMatrices = (matrix, config) => {\n    const { isTransposed } = config;\n    let joinedMatrix = matrix[0].length > 0 ? matrix[0] : matrix[1];\n    if (isTransposed) {\n        joinedMatrix = matrix[0].length > 0 ? [...matrix[0]] : [];\n        joinedMatrix = matrix[1].length > 0 ? [...joinedMatrix, ...matrix[1]] : joinedMatrix;\n    } else {\n        joinedMatrix = joinedMatrix.map((row, rowIndex) => {\n            let rowData = [];\n            if (matrix[0].length > 0) {\n                rowData = [...matrix[0][rowIndex]];\n            }\n            if (matrix[1].length > 0) {\n                rowData = [...rowData, ...matrix[1][rowIndex]];\n            }\n            return rowData;\n        });\n    }\n    return joinedMatrix;\n};\n\n/**\n * Creates a hirachical tree from the context\n *\n * @param {Object} context context for creating tree\n * @return {Object} nested tree\n */\nexport const createTree = (context) => {\n    let matrixTree = {};\n    let lastLevelKey = 0;\n    let facet = PRIMARY;\n    const nestFn = nest();\n    const keys = [];\n    const layoutMatrix = context._layoutMatrix;\n    const primaryMatrix = context.primaryMatrix();\n    const secondaryMatrix = context.secondaryMatrix();\n    const { isTransposed, breakPage } = context.config();\n\n    if (!isTransposed) {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix[0].length - 1; i++) {\n                keys.push(i);\n            }\n            keys.push(primaryMatrix[0].length - 1);\n            if (facet === SECONDARY || secondaryMatrix.length === 0) {\n                lastLevelKey = primaryMatrix[0].length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const keyLength = primaryMatrix.length > 0 ? primaryMatrix[0].length : 0;\n            for (let i = secondaryMatrix[0].length - 1; i > 0; i--) {\n                keys.push(i + keyLength);\n            }\n            keys.push(keyLength);\n\n            if (facet === PRIMARY) {\n                lastLevelKey = keyLength;\n            }\n        } else {\n            lastLevelKey = primaryMatrix.length > 0 ? primaryMatrix[0].length - 1 : 0;\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        matrixTree = nestFn.entries(layoutMatrix);\n    } else {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix.length - 1; i++) {\n                keys.push(i);\n            }\n            // if (facet === PRIMARY) {\n            keys.push(primaryMatrix.length - 1);\n            // } else {\n            if (facet === SECONDARY) {\n                lastLevelKey = primaryMatrix.length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const primaryMatrixLength = primaryMatrix.length;\n            for (let i = secondaryMatrix.length - 1; i > 0; i--) {\n                keys.push(i + primaryMatrixLength);\n            }\n            // if (facet === SECONDARY) {\n            keys.push(primaryMatrixLength);\n            // }\n            if (facet === PRIMARY) {\n                lastLevelKey = primaryMatrixLength;\n            }\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        let newMatrix = [];\n        newMatrix = layoutMatrix[0].map((col, colIndex) => layoutMatrix.map(row => row[colIndex]));\n        matrixTree = nestFn.entries(newMatrix);\n    }\n    return { tree: matrixTree, lastLevelKey };\n};\n\n/**\n * Gives the min measues\n *\n * @param {boolean} isTransposed is column matrix\n * @param {Object} unitMeasures min measures to be given to cells\n * @return {Object} dimension min cell\n */\nexport const getMinMeasures = (isTransposed, unitMeasures) => {\n    if (!isTransposed) {\n        return {\n            height: unitMeasures.height,\n            width: 0\n        };\n    }\n    return {\n        height: 0,\n        width: unitMeasures.width\n    };\n};\n\n/**\n * Get the logical space from the tree\n *\n * @param {Node} item tree to be calculated\n * @param {number} measures width and height\n * @param {Array} minMeasures min measures for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} dimension\n */\nexport const getLogicalSpace = (item, measures, minMeasures, maxMeasure = []) => {\n    const { firstMeasure, secondMeasure } = measures;\n    let firstMeasureValue = 0;\n    let secondMeasureValue = 0;\n    item.values.forEach((valueArray) => {\n        let fMeasure = 0;\n        let sMeasure = 0;\n        valueArray.forEach((placeholder, colIndex) => {\n            placeholder.setAvailableSpace();\n            const space = placeholder.getLogicalSpace();\n            const minSecondMeasure = placeholder.getMinMeasures(minMeasures[secondMeasure]);\n\n            sMeasure = Math.max(sMeasure, +space[secondMeasure], minSecondMeasure);\n            maxMeasure[colIndex] = Math.max(maxMeasure[colIndex] || 0, space[firstMeasure]);\n            fMeasure += +maxMeasure[colIndex];\n        });\n        secondMeasureValue += sMeasure;\n        firstMeasureValue = Math.max(firstMeasureValue, fMeasure);\n        item.space = {\n            [secondMeasure]: Math.ceil(secondMeasureValue),\n            [firstMeasure]: Math.ceil(firstMeasureValue)\n        };\n    });\n    return {\n        [secondMeasure]: secondMeasureValue,\n        [firstMeasure]: firstMeasureValue\n    };\n};\n\n/**\n * Computes the logical spcae taken by the matrix tree\n *\n * @param {*} [item={}] tree to be viewed\n * @param {boolean} [isTransposed=false] is column matrix\n * @param {*} unitMeasures min measues for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} logical space taken\n */\nexport const computeLogicalSpace = (item = {}, config, maxMeasures) => {\n    const { isTransposed = false, unitMeasures } = config;\n    const { firstMeasure, secondMeasure } = getMeasureInfo(isTransposed);\n    const { values } = item;\n    const minMeasures = getMinMeasures(isTransposed, unitMeasures);\n\n    if (values[0].key) {\n        const logicalSpace = { [firstMeasure]: 0, [secondMeasure]: 0 };\n\n        values.forEach((valueItem) => {\n            // Compute logical space for lowest level\n            const space = computeLogicalSpace(valueItem, config, maxMeasures);\n            // Set logical space for first measure\n            logicalSpace[firstMeasure] = Math.max(logicalSpace[firstMeasure], space[firstMeasure],\n                minMeasures[firstMeasure]);\n\n            // Set logical space for second measure\n            logicalSpace[secondMeasure] += +space[secondMeasure];\n        });\n        item.space = logicalSpace;\n        return logicalSpace;\n    }\n\n    return getLogicalSpace(item, { firstMeasure, secondMeasure }, minMeasures, maxMeasures);\n};\n\n/**\n * Gives the space taken by a row\n *\n * @param {Array} row matrix array of rows\n * @return {Object} dimension of the row\n */\nexport const spaceTakenByRow = (row) => {\n    let height = 0;\n    let width = 0;\n    row.forEach((col) => {\n        const spaces = col.getLogicalSpace();\n        height = Math.max(height, spaces.height);\n        width += spaces.width;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Gives the space taken by a column\n *\n * @param {Array<Array>} matrix column matrix\n * @param {number} colIndex column index\n * @return {Object} dimension of the column\n */\nexport const spaceTakenByColumn = (matrix, colIndex) => {\n    let height = 0;\n    let width = 0;\n    matrix.forEach((row) => {\n        const col = row[colIndex];\n        const spaces = col.getLogicalSpace();\n        width = Math.max(width, spaces.width);\n        height += spaces.height;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Creates different level matrices\n *\n * @param {Object} item matrix tree\n * @param {boolean} isTransposed is column matrix\n * @return {Object} matrix of each level\n */\nexport const createMatrixEachLevel = (item, isTransposed) => {\n    if (item.values[0].key) {\n        const arr = [];\n        item.values.forEach((child) => {\n            if (!isTransposed) {\n                arr.push(...createMatrixEachLevel(child, isTransposed));\n            } else {\n                const eachLevel = createMatrixEachLevel(child, isTransposed);\n                eachLevel.forEach((e, i) => {\n                    arr[i] = arr[i] || [];\n                    arr[i].push(...e);\n                });\n            }\n        });\n        item.matrix = arr;\n        return arr;\n    }\n    if (!isTransposed) {\n        item.matrix = item.values;\n    } else {\n        item.matrix = item.values[0].map((col, colIndex) => item.values.map(row => row[colIndex]));\n    }\n    return item.matrix;\n};\n\n/**\n * Breaks the matrix into two part\n *\n * @param {Array<Array>} matrix input matrix\n * @param {boolean} isTransposed is column matrix\n * @param {number} breakPointer point in matrix where it is to be broken\n * @return {Array} two broken matrix\n */\nexport const breakMatrix = (matrix, isTransposed, breakPointer) => {\n    const primaryMatrix = [];\n    const secondaryMatrix = [];\n    if (isTransposed) {\n        matrix.forEach((row, rowIndex) => {\n            if (rowIndex >= breakPointer) {\n                secondaryMatrix.push(row);\n            } else {\n                primaryMatrix.push(row);\n            }\n        });\n    } else {\n        matrix.forEach((row, rowIndex) => {\n            row.forEach((column, columnIndex) => {\n                if (columnIndex >= breakPointer) {\n                    secondaryMatrix[rowIndex] = secondaryMatrix[rowIndex] || [];\n                    secondaryMatrix[rowIndex].push(column);\n                } else {\n                    primaryMatrix[rowIndex] = primaryMatrix[rowIndex] || [];\n                    primaryMatrix[rowIndex].push(column);\n                }\n            });\n        });\n    }\n    return [primaryMatrix, secondaryMatrix];\n};\n\n/**\n * Distributed width returned\n *\n * @param {Object} context context for the width distibution\n * @return {number} distributed widths\n */\nexport const getDistributedWidth = (context, layoutConfig) => {\n    const {\n        availableWidth,\n        width,\n        row\n    } = context;\n    const {\n        isDistributionEqual,\n        isTransposed,\n        distribution\n    } = layoutConfig;\n    let distSum = 0;\n    if (distribution && distribution[0]) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    return row.map((col, colIndex) => {\n        const space = col.getLogicalSpace().width;\n        let distWidth = (space + (availableWidth - width) * (space / width));\n        if (isTransposed) {\n            if (distribution.length > 0) {\n                distWidth = (availableWidth * distribution[colIndex] / distSum);\n            } else if (isDistributionEqual || width === 0) {\n                const rowLen = row.length;\n                distWidth = (availableWidth / rowLen);\n            }\n        }\n        return Math.floor(distWidth);\n    });\n};\n\n/**\n * Distributeed heights returned\n *\n * @param {Object} context input for the height distribution\n * @return {Object} distribured heights\n */\nexport const getDistributedHeight = (context) => {\n    let distSum = 0;\n    let gutterSum = 0;\n    let heightWithoutGutter = 0;\n    const {\n        isTransposed,\n        distribution,\n        availableHeight,\n        height,\n        isDistributionEqual,\n        gutter,\n        matrix,\n        cIdx\n    } = context;\n\n    if (distribution && distribution[0] !== undefined) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    if (gutter && gutter[0] !== undefined) {\n        gutterSum = gutter.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    heightWithoutGutter = availableHeight - Math.floor(availableHeight * gutterSum);\n\n    const colLen = matrix.length;\n    return matrix.map((row, rIdx) => {\n        const col = row[cIdx];\n        const space = col.getLogicalSpace().height;\n        let distHeight = (space + (heightWithoutGutter - height) * (space / height));\n\n        if (!isTransposed) {\n            if (distribution.length > 0 && colLen === distribution.length) {\n                distHeight = (heightWithoutGutter * distribution[rIdx] / distSum);\n            } else if (isDistributionEqual || context.height === 0) {\n                distHeight = (heightWithoutGutter / colLen);\n            }\n        }\n        return Math.floor(distHeight);\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} beg\n * @param {*} end\n */\nexport const extraCellsRemover = (arr, beg, end) => arr.slice(beg, -end);\n\n/**\n * Creates matrix instancess\n *\n * @param {Array} [arr=[]] mutated arry\n * @param {number} depth depth of the tree\n * @param {Array} matrixInfo Details about the matrix(tree, etc) to be inserted\n * @param {boolean} layout Instance of layout\n */\nexport const createMatrixInstances = (arr = [], depth, matrixInfo, layout) => {\n    const breakPointer = layout._breakPointer;\n    const config = layout.config();\n    const {\n        isTransposed\n    } = config;\n    const {\n        tree,\n        layoutMatrix\n    } = matrixInfo;\n\n    if (depth === 0) {\n        const brokenMatrix = breakMatrix(tree.matrix, isTransposed, breakPointer);\n        arr.push({\n            matrix: tree.matrix,\n            primaryMatrix: brokenMatrix[0],\n            secondaryMatrix: brokenMatrix[1],\n            space: tree.space\n        });\n        return arr;\n    }\n    const nextLevel = depth - 1;\n    tree.values.forEach((e) => {\n        createMatrixInstances(arr, nextLevel, {\n            tree: e,\n            layoutMatrix\n        }, layout);\n    });\n    return arr;\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    extraCellsRemover,\n    getDistributedWidth,\n    spaceTakenByRow,\n    createMatrixEachLevel,\n    computeLogicalSpace\n  } from '../utils';\nimport { COLUMN_ROOT } from '../enums/constants';\nimport VisualMatrix from './visual-matrix';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class ColumnVisualMatrix extends VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        super(matrix, config);\n\n        this._breakPointer = matrix[0].length;\n\n        // Create Tree\n        this._tree = {\n            key: COLUMN_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.computeLogicalSpace();\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, true);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    computeViewableSpaces (measures) {\n        const {\n            maxHeights,\n            maxWidths,\n            height,\n            width\n        } = measures;\n\n        return this.viewableMatrix.map((matrixInst, i) => {\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i, height };\n            const {\n                heights,\n                rowHeights,\n                columnWidths\n            } = this.getCellDimensions(cellDimOptions);\n            const heightMeasures = heights;\n            const columnMeasures = [width, width];\n\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n\n        tree.matrix = tree.matrix.map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    getPriorityDistribution (measures) {\n        const {\n            height,\n            maxHeights\n        } = measures;\n        let remainingHeight = height;\n        let heightDist = [];\n        let conditions = [];\n        let divider = 2;\n        const priority = this.config().priority;\n        const primaryMatrixLength = this.primaryMatrix().length;\n\n        if (priority === 2) {\n            conditions = [primaryMatrixLength - 1, primaryMatrixLength];\n            divider = 2;\n        } else {\n            conditions = priority === 0 ? [primaryMatrixLength - 1] : [primaryMatrixLength];\n            divider = 1;\n        }\n        maxHeights.forEach((heights, index) => {\n            if (conditions.indexOf(index) === -1) {\n                heightDist[index] = heights;\n                remainingHeight -= heights;\n            }\n        });\n        if (remainingHeight < 0) {\n            heightDist = heightDist.map(() => 0);\n        } else {\n            conditions.forEach((condition) => {\n                heightDist[condition] = Math.min(maxHeights[condition], (remainingHeight) / divider);\n            });\n        }\n        return heightDist;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures) {\n        let j;\n        const { width } = this.availableSpace();\n\n        for (j = 0; j < widthMeasures.length; j++) {\n            if (widthMeasures[j] <= width) break;\n        }\n        return Math.min(widthMeasures.length - 1, j);\n    }\n\n     /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces (width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n\n        this.viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths };\n            const maxMeasures = this.redistributeViewSpaces(options);\n            maxWidths = maxMeasures.maxWidths;\n            maxHeights = maxMeasures.maxHeights;\n        });\n\n        return this.computeViewableSpaces({ height, width, maxHeights, maxWidths });\n    }\n\n    /**\n     * Distibutes the given space column wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces (measures) {\n        let rHeights = [];\n        const {\n            matrix,\n            width,\n            maxHeights,\n            maxWidths\n        } = measures;\n        const borderWidth = this.config().unitMeasures.border;\n\n        const mWidth = spaceTakenByRow(matrix[this._lastLevelKey]).width;\n        const cWidths = getDistributedWidth({\n            row: matrix[this._lastLevelKey],\n            width: mWidth,\n            availableWidth: width\n        }, this.config());\n\n        matrix.forEach((row, rIdx) => row.forEach((col, cIdx) => {\n            const oldLogicalSpace = col.getLogicalSpace();\n\n            col.setAvailableSpace(cWidths[cIdx] - borderWidth, oldLogicalSpace.height);\n\n            rHeights[rIdx] = Math.max(rHeights[rIdx] || 0, Math.floor(col.getLogicalSpace().height));\n        }));\n        if (maxHeights.length > 0) {\n            rHeights = rHeights.map((e, i) => Math.max(e, maxHeights[0][i]));\n        }\n        maxHeights.push(rHeights);\n        for (let x = 0; x < maxHeights.length; x++) {\n            maxHeights[x] = rHeights;\n        }\n        maxWidths.push(cWidths);\n        return { maxHeights, maxWidths };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (measures) {\n        const {\n            unitMeasures\n        } = this.config();\n        const borderWidth = unitMeasures.border;\n        const { matrixInst, height, maxWidths, maxHeights, matrixIndex } = measures;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        const heightDistribution = this.getPriorityDistribution({ height, maxHeights: maxHeights[0] || [] });\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = heightDistribution[rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                cell.setAvailableSpace(colWidth - borderWidth, colHeight);\n\n                if (cIdx === 0 && rIdx < breakPointer) {\n                    rowHeights[0][rIdx] = colHeight;\n                    heights[0] = (heights[0] || 0) + colHeight;\n                } else if (cIdx === 0 && rIdx >= breakPointer) {\n                    rowHeights[1][rIdx - breakPointer] = colHeight;\n                    heights[1] = (heights[1] || 0) + colHeight;\n                }\n                if (rIdx === this._lastLevelKey) {\n                    columnWidths[0][cIdx] = colWidth;\n                    columnWidths[1][cIdx] = colWidth;\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { PRIMARY } from '../enums/constants';\n/**\n *\n *\n */\nexport const defaultConfig = {\n    distribution: [],\n    classPrefix: 'muze',\n    isDistributionEqual: true,\n    unitMeasures: {\n        height: 100,\n        width: 100,\n        border: 1\n    },\n    isTransposed: false,\n    facet: PRIMARY,\n    extraCellLengths: []\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    maxMeasures: {},\n    availableSpace: {},\n    logicalSpace: {}\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    extraCellsRemover,\n    combineMatrices,\n    spaceTakenByColumn,\n    getDistributedHeight,\n    computeLogicalSpace,\n    createMatrixEachLevel\n  } from '../utils';\nimport { ROW_ROOT } from '../enums/constants';\nimport VisualMatrix from './visual-matrix';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class RowVisualMatrix extends VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        super(matrix, config);\n\n        this._breakPointer = (matrix[0].length > 0 ? matrix[0][0].length : 0);\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n\n        // Create Tree\n        this._tree = {\n            key: ROW_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.computeLogicalSpace();\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, false);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    computeViewableSpaces (measures) {\n        const {\n            maxHeights,\n            maxWidths,\n            height\n        } = measures;\n        return this.viewableMatrix.map((matrixInst, i) => {\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i };\n            const { widths, rowHeights, columnWidths } = this.getCellDimensions(cellDimOptions);\n            const heightMeasures = [height, height];\n            const columnMeasures = widths;\n\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n        tree.matrix = extraCellsRemover(tree.matrix, begCellLen, endCellLen);\n\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    getPriorityDistribution (measures) {\n        let remainingAvailWidth;\n        let remainingWidth;\n        let cWidths = [];\n        let conditions = [];\n        let maxPrioritySpace = 0;\n        const {\n            matrix,\n            width: availableWidth,\n            maxMeasures: maxWidths,\n            maxWidth: currentWidth,\n            height\n        } = measures;\n        const priority = this.config().priority;\n        const primaryMatrixLength = this.primaryMatrix().length ? this.primaryMatrix()[0].length : 0;\n\n        const dist = [];\n\n        remainingAvailWidth = availableWidth;\n        remainingWidth = currentWidth;\n\n        if (priority === 2) {\n            conditions = [primaryMatrixLength - 1, primaryMatrixLength];\n            // divider = Math.min(2, matrixLen);\n        } else {\n            conditions = priority === 0 ? [primaryMatrixLength - 1] : [primaryMatrixLength];\n            // divider = Math.min(1, matrixLen);\n        }\n        conditions.forEach((i) => {\n            dist[i] = maxWidths[i];\n            maxPrioritySpace += maxWidths[i];\n            remainingAvailWidth -= dist[i];\n            remainingWidth -= dist[i];\n        });\n        matrix[0].forEach((e, i) => {\n            if (conditions.indexOf(i) === -1) {\n                dist[i] = remainingAvailWidth * (maxWidths[i] / remainingWidth);\n            }\n        });\n        matrix.forEach(row => row.forEach((col, cIdx) => {\n            if (conditions.indexOf(cIdx) === -1) {\n                col.setAvailableSpace(dist[cIdx], height);\n\n                cWidths[cIdx] = Math.max(cWidths[cIdx] || 0, Math.floor(col.getLogicalSpace().width));\n            } else {\n                cWidths[cIdx] = 0;\n            }\n        }));\n\n        const prioritySpace = availableWidth - cWidths.reduce((t, n) => t + n);\n        if (prioritySpace < 0) {\n            cWidths = cWidths.map(() => 0);\n        } else {\n            conditions.forEach((i) => {\n                cWidths[i] = Math.floor(prioritySpace * (dist[i] / maxPrioritySpace || 1));\n            });\n        }\n        return cWidths;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures, heightMeasures) {\n        let i;\n        const { height } = this.availableSpace();\n\n        for (i = 0; i < heightMeasures.length; i++) {\n            if (heightMeasures[i] <= height) break;\n        }\n\n        return Math.min(widthMeasures.length - 1, i);\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces (width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n        const maxMeasures = this.maxMeasures();\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        const logicalWidths = this.getPriorityDistribution({\n            matrix: this._layoutMatrix,\n            maxWidth,\n            maxMeasures,\n            width,\n            height\n        });\n\n        this.viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths, logicalWidths };\n            const measures = this.redistributeViewSpaces(options);\n            maxWidths = measures.maxWidths;\n            maxHeights = measures.maxHeights;\n        });\n        return this.computeViewableSpaces({ height, width, maxHeights, maxWidths });\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces (measures) {\n        let cWidths = [];\n        let rHeights = [];\n        let mHeight = 0;\n        const maxMeasures = this.maxMeasures();\n\n        const {\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        } = this.config();\n        const { matrix, height, maxHeights, maxWidths, logicalWidths } = measures;\n        mHeight = spaceTakenByColumn(matrix, this._lastLevelKey).height;\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        measures.maxMeasures = maxMeasures;\n        measures.maxWidth = maxWidth;\n        if (maxWidth > 0) {\n            cWidths = logicalWidths;\n        } else {\n            cWidths = maxMeasures.map(() => 0);\n        }\n        rHeights = getDistributedHeight({\n            matrix,\n            cIdx: this._lastLevelKey,\n            height: mHeight,\n            availableHeight: height,\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        });\n        if (maxWidths.length > 0) {\n            cWidths = cWidths.map((e, i) => Math.max(e, maxWidths[0][i] || 0));\n        }\n        maxWidths.push(cWidths);\n        for (let x = 0; x < maxWidths.length; x++) {\n            maxWidths[x] = cWidths;\n        }\n        maxHeights.push(rHeights);\n        return { maxWidths, maxHeights };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (measures) {\n        const {\n            unitMeasures\n        } = this.config();\n        const borderWidth = unitMeasures.border;\n        const { matrixInst, maxWidths, maxHeights, matrixIndex } = measures;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = maxHeights[matrixIndex][rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                cell.setAvailableSpace(colWidth, colHeight - borderWidth);\n\n                if (rIdx === 0 && cIdx < breakPointer) {\n                    columnWidths[0][cIdx] = colWidth;\n                    widths[0] = (widths[0] || 0) + colWidth;\n                } else if (rIdx === 0 && cIdx >= breakPointer) {\n                    columnWidths[1][cIdx - breakPointer] = colWidth;\n                    widths[1] = (widths[1] || 0) + colWidth;\n                }\n                if (cIdx === this._lastLevelKey) {\n                    rowHeights[0][rIdx] = colHeight;\n                    rowHeights[1][rIdx] = colHeight;\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { mergeRecursive, generateGetterSetters, ERROR_MSG } from 'muze-utils';\nimport {\n    createTree,\n    combineMatrices,\n    createMatrixInstances\n  } from '../utils';\nimport { PROPS } from './props';\nimport { HEIGHT, WIDTH } from '../enums/constants';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        // Prepare matrices\n        this._lastLevelKey = 0;\n        this._primaryMatrix = matrix[0] || [];\n        this._secondaryMatrix = matrix[1] || [];\n        this._maxMeasures = [];\n        this._availableSpace = {};\n\n        // Store the config\n        generateGetterSetters(this, PROPS);\n        const defCon = Object.assign({}, this.constructor.defaultConfig());\n        this.config(mergeRecursive(defCon, config));\n\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n    }\n\n     /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    computeViewableSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    getPriorityDistribution () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof VisualMatrix\n     */\n    primaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._primaryMatrix;\n    }\n\n    secondaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._secondaryMatrix;\n    }\n\n    tree (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._tree;\n    }\n\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    createTree () {\n        const { tree, lastLevelKey } = createTree(this);\n        this._lastLevelKey = lastLevelKey;\n        return tree;\n    }\n\n    /**\n     * Returns the space taken by visual matrix\n     *\n     * @return {Object} space taken by the matrix\n     * @memberof VisualMatrix\n     */\n    getLogicalSpace () {\n        return this.logicalSpace();\n    }\n\n    /**\n     * Sets the provied space to the visual matrix\n     *\n     * @param {number} width width provided\n     * @param {number} height height provided\n     * @memberof VisualMatrix\n     */\n    setAvailableSpace (width, height) {\n        this.availableSpace({ width, height });\n        const tree = this.tree();\n        const heightMeasures = this.populateMaxMeasures(HEIGHT, tree);\n        const widthMeasures = this.populateMaxMeasures(WIDTH, tree);\n        const depth = this.calculateDepth(widthMeasures, heightMeasures);\n\n        this.viewableMatrix = this.createViewPortMatrix(depth);\n        this.viewableMeasures = this.redistributeSpaces(width, height);\n        return this;\n    }\n\n    /**\n     * Populate the max measures in the array\n     *\n     * @param {Array} measures array to be filled with max measures\n     * @param {Object} matrixTree matrix tree of visual matrix\n     * @param {number} measure width or height\n     * @param {number} [depth=0] depth of the tree that to be calculated\n     * @memberof VisualMatrix\n     */\n    populateMaxMeasures (type, matrixTree, depth = 0, measures = []) {\n        measures[depth] = Math.max(measures[depth] || 0, matrixTree.space[type]);\n        if (matrixTree.values) {\n            const childDepth = depth + 1;\n            matrixTree.values.forEach((child) => {\n                if (child.space) {\n                    measures = this.populateMaxMeasures(type, child, childDepth, measures);\n                }\n            });\n        }\n        return measures;\n    }\n\n    /**\n     * Gets the viewable measures for the current viewable matrix\n     *\n     * @return {Object} Set of viewable measures\n     * @memberof VisualMatrix\n     */\n    getViewableSpaces () {\n        return this.viewableMeasures;\n    }\n\n    /**\n     * Returns the matrix that can be viewed in the current viewport\n     *\n     * @return {Array} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    getViewableMatrices () {\n        return this.viewableMatrix;\n    }\n\n    /**\n     * Creates the viewport that can be viewed together\n     *\n     * @param {number} depth maxDepth that can be viewed in the viewport\n     * @return {Array<Object>} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    createViewPortMatrix (depth) {\n        const arr = [];\n        createMatrixInstances(arr, depth, this.removeExtraCells(), this);\n        return arr;\n    }\n}\n\n","/**\n * This file exports functionality that is used to render axis.\n */\nimport { selectElement, makeElement, angleToRadian } from 'muze-utils';\nimport * as AxisOrientation from './enums/axis-orientation';\nimport { LINEAR, HIDDEN, BOTTOM, TOP } from './enums/constants';\n\n/**\n *\n *\n * @param {*} instance\n * @param {*} container\n * @param {*} labelManager\n * @param {*} config\n */\nconst rotateAxis = (instance, tickText, labelManager) => {\n    let rotation;\n    const axis = instance.axis();\n    const config = instance.config();\n    const renderConfig = instance.renderConfig();\n    const smartTicks = instance.smartTicks();\n    const scale = axis.scale();\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n    const ticks = labelFunc();\n    const {\n        orientation,\n        fixedBaseline,\n        type\n    } = config;\n    const {\n        labels\n    } = renderConfig;\n\n    rotation = labels.rotation;\n\n    const tickSize = instance.getTickSize();\n    tickText.each(function (d, index) {\n        let yShift;\n        let xShift;\n        let datum = smartTicks[index] ? smartTicks[index].text : d;\n\n        datum = datum.toString();\n\n        const tickLabelDim = labelManager.getOriSize(datum);\n\n        const width = tickLabelDim.width * 0.5;\n        const height = tickLabelDim.height * 0.5;\n\n        if (rotation < 0) {\n            rotation = 360 + rotation;\n        }\n\n        const quadrant = 4 - Math.floor(rotation / 90);\n        const rotationNormalizer = ((quadrant % 2 === 0) ? rotation : 180 * Math.ceil(rotation / 180) - rotation) % 180;\n\n        yShift = Math.sqrt(height ** 2 + width ** 2) * Math.sin(angleToRadian(rotationNormalizer));\n\n        if ((quadrant === 3 || quadrant === 2) && !(rotationNormalizer > 67.5 && rotationNormalizer <= 90)) {\n            yShift += height * 2;\n        }\n        xShift = width;\n\n        if (rotation === 90) {\n            xShift = height;\n        } else if (rotation === 270) {\n            xShift = -height;\n        } else {\n            xShift = 0;\n        }\n\n        if (orientation === AxisOrientation.TOP) {\n            xShift = (fixedBaseline && ticks[0] === d && type === LINEAR) ? xShift + xShift / 2 : xShift;\n            selectElement(this)\n                            .attr('transform', `translate(${-xShift + tickSize}\n                                ${-yShift - tickSize}) rotate(${rotation})`);\n        } else {\n            xShift = (fixedBaseline && ticks[0] === d && type === LINEAR) ? xShift - xShift / 2 : xShift;\n\n            selectElement(this)\n                            .attr('transform', `translate(${xShift - tickSize}\n                                ${yShift + tickSize}) rotate(${rotation})`);\n        }\n        // selectElement(this).transition()\n        //                 .duration(1000).text(datum);\n    });\n    return tickText;\n};\n\n/**\n *\n *\n * @param {*} tickText\n * @param {*} axisInstance\n */\nconst changeTickOrientation = (selectContainer, axisInstance, tickSize) => {\n    const {\n        _smartTicks\n    } = axisInstance;\n    const config = axisInstance.config();\n    const renderConfig = axisInstance.renderConfig();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const {\n        orientation,\n        classPrefix\n    } = config;\n    const {\n        labels\n    } = renderConfig;\n    const {\n        rotation,\n        smartTicks: isSmartTicks\n    } = labels;\n\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.selectAll('tspan').remove();\n\n    // rotate labels if not enough space is available\n    if (rotation && (orientation === TOP || orientation === BOTTOM)) {\n        rotateAxis(axisInstance, tickText, labelManager);\n    } else if (!rotation && !isSmartTicks) {\n        tickText.attr('transform', '');\n    } else {\n        tickText.text('');\n        if (orientation === TOP || orientation === BOTTOM) {\n            tickText.attr('y', 0)\n                            .attr('x', 0)\n                            .attr('transform', '')\n                            .text('');\n            const tspan = makeElement(tickText, 'tspan', (d, i) => {\n                if (_smartTicks[i]) {\n                    return _smartTicks[i].lines;\n                } return [];\n            }, `${classPrefix}-smart-text`);\n\n            tspan.attr('dy', '0')\n                            .style('opacity', '0')\n\n                            .transition()\n                            .duration(1000)\n                            .on('end', axisInstance.registerAnimationDoneHook())\n                            .attr('dy', (d, i) => {\n                                if (orientation === BOTTOM || i !== 0) {\n                                    return _smartTicks[0].oriTextHeight;\n                                }\n                                return -_smartTicks[0].oriTextHeight * (_smartTicks[0].lines.length - 1) - tickSize;\n                            })\n                            .style('opacity', 1)\n                            .text(e => e)\n                            .attr('x', 0);\n        } else {\n            const tspan = makeElement(tickText, 'tspan', (d, i) => _smartTicks[i].lines, `${classPrefix}-smart-text`);\n            tspan.text(e => e);\n        }\n    }\n\n    return tickText;\n};\n\nconst setFixedBaseline = (axisInstance) => {\n    const {\n        fixedBaseline\n    } = axisInstance.config();\n    const {\n        showInnerTicks\n    } = axisInstance.renderConfig();\n    const domain = axisInstance.domain();\n    if (fixedBaseline && domain.length && showInnerTicks) {\n        axisInstance.setFixedBaseline();\n    }\n};\n\n/**\n *\n *\n * @param {*} textNode\n * @param {*} orientation\n * @param {*} measures\n */\nconst setAxisNamePos = (textNode, orientation, measures) => {\n    const {\n        axisNameHeight,\n        availableSpace\n    } = measures;\n\n    switch (orientation) {\n    case AxisOrientation.LEFT:\n        textNode.attr('transform',\n            `translate(${-(availableSpace.width - axisNameHeight)},${availableSpace.height / 2})rotate(-90)`);\n        break;\n    case AxisOrientation.RIGHT:\n        textNode.attr('transform',\n             `translate(${(availableSpace.width - axisNameHeight)},${availableSpace.height / 2})rotate(90)`);\n        break;\n    case AxisOrientation.TOP:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${-availableSpace.height + axisNameHeight})`);\n        break;\n    case AxisOrientation.BOTTOM:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${availableSpace.height - axisNameHeight / 2})`);\n        break;\n    default:\n    }\n    return textNode;\n};\n\n/**\n * This method is used to render the axis inside an\n * svg container.\n *\n * @export\n * @param {Object} axisInstance the nput object required to render axis\n * @param {string} axisInstance.orientation the orientation of axis\n * @param {Object} axisInstance.scale instance of d3 scale\n * @param {SVGElement} axisInstance.container the container in which to render\n */\nexport function renderAxis (axisInstance) {\n    const renderConfig = axisInstance.renderConfig();\n    const config = axisInstance.config();\n\n    const {\n        show,\n        xOffset,\n        yOffset,\n        showAxisName,\n        labels,\n        smartAxisName\n    } = renderConfig;\n    const mount = axisInstance.mount();\n\n    const {\n        orientation,\n        axisNamePadding,\n        className,\n        id,\n        classPrefix\n    } = config;\n\n    if (!show) {\n        return;\n    }\n\n    const selectContainer = makeElement(selectElement(mount), 'g', [axisInstance], `${className}`, {},\n    key => key.config().id);\n    selectContainer.attr('transform', `translate(${xOffset},${yOffset})`);\n\n    let availableSpace;\n    let labelProps;\n    let tickSize;\n    if (axisInstance.domain().length > 0) {\n        const labelManager = axisInstance.dependencies().labelManager;\n        const range = axisInstance.range();\n        const axis = axisInstance.axis();\n        const scale = axisInstance.scale();\n\n        const {\n            _tickLabelStyle: tickLabelStyle,\n            _tickFormatter: axisTickFormatter\n        } = axisInstance;\n\n        tickSize = axisInstance.getTickSize();\n\n        // Set style for tick labels\n        labelManager.setStyle(tickLabelStyle);\n\n        const labelFunc = scale.ticks || scale.quantile || scale.domain;\n\n        const ticks = axis.tickValues() || labelFunc();\n\n        axis.tickFormat(axisTickFormatter(ticks));\n\n        // Get range(length of range)\n        availableSpace = Math.abs(range[0] - range[1]);\n\n        // Get width and height taken by axis labels\n        labelProps = axisInstance.axisComponentDimensions().largestTickDimensions;\n\n        // Draw axis ticks\n        setFixedBaseline(axisInstance);\n        if (!labels.rotation && labels.smartTicks === false) {\n            selectContainer.transition()\n                            .duration(1000)\n                            .on('end', axisInstance.registerAnimationDoneHook())\n                            .call(axis);\n        } else {\n            selectContainer.call(axis);\n            changeTickOrientation(selectContainer, axisInstance, tickSize);\n        }\n\n        selectContainer.selectAll('.tick').classed(`${classPrefix}-ticks`, true);\n        selectContainer.selectAll('.tick line').classed(`${classPrefix}-tick-lines`, true);\n\n        // Set classes for ticks\n        const tickText = selectContainer.selectAll('.tick text');\n        tickText.classed(`${classPrefix}-ticks`, true)\n                        .classed(`${classPrefix}-ticks-${id}`, true);\n    }\n    // Create axis name\n    const textNode = makeElement(selectContainer, 'text', [smartAxisName], `${classPrefix}-axis-name`)\n                    .attr('text-anchor', 'middle')\n                    .classed(`${classPrefix}-axis-name-${id}`, true)\n                    .text(d => d.text);\n\n    // Hide axis name if show is off\n    textNode.classed(HIDDEN, !showAxisName);\n\n    // render labels based on orientation of axis\n    const labelOffset = availableSpace / 2;\n\n    const measures = {\n        labelProps,\n        tickSize,\n        axisNamePadding,\n        axisNameHeight: smartAxisName.height,\n        yOffset,\n        xOffset,\n        labelOffset,\n        availableSpace: axisInstance.availableSpace()\n    };\n    // Set position for axis name\n    setAxisNamePos(textNode, orientation, measures);\n}\n","import SimpleAxis from './simple-axis';\nimport { BAND } from '../enums/scale-type';\nimport { calculateBandSpace, setOffset, getRotatedSpaces } from './helper';\n\nexport default class BandAxis extends SimpleAxis {\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof BandAxis\n     */\n    static type () {\n        return BAND;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks = '';\n        let smartlabel;\n        const domain = this.domain();\n        const { labelManager } = this._dependencies;\n        const { padding } = this.config();\n        const { labels, tickValues } = this.renderConfig();\n        const { height: availHeight, width: availWidth, noWrap } = this.maxTickSpaces();\n        const { width, height } = getRotatedSpaces(labels.rotation, availWidth, availHeight);\n\n        tickValues && this.axis().tickValues(tickValues);\n        smartTicks = tickValues || domain;\n\n        // set the style on the shared label manager instance\n        labelManager.setStyle(this._tickLabelStyle);\n\n        // Update padding between plots\n        if (typeof padding === 'number') {\n            const paddingNormalized = Math.min(1, Math.max(0, padding));\n            this.scale().padding(paddingNormalized);\n        }\n\n        if (domain && domain.length) {\n            const values = tickValues || domain;\n            const tickFormatter = this._tickFormatter(values);\n            smartTicks = values.map((d, i) => {\n                labelManager.useEllipsesOnOverflow(true);\n\n                smartlabel = labelManager.getSmartText(tickFormatter(d, i), width, height, noWrap);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n        this.smartTicks(smartTicks);\n        return this;\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n        }\n        setOffset(this);\n\n        return this.logicalSpace();\n    }\n\n    /**\n     *\n     *\n     * @memberof BandAxis\n     */\n    getTickValues () {\n        return this.axis().scale().domain();\n    }\n\n    formatTickValue (val) {\n        return this.valueParser()(val);\n    }\n\n    sanitizeTickFormatter (value) {\n        const { tickFormat } = value;\n\n        if (tickFormat) {\n            return ticks => (val, i) => tickFormat(this.formatTickValue(val), val, i, ticks);\n        }\n        return () => val => this.formatTickValue(val);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BandAxis\n     */\n    getUnitWidth () {\n        return this.scale().bandwidth();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n\n        axis.tickSizeInner(showInnerTicks ? 6 : 0);\n        axis.tickSizeOuter(showOuterTicks ? 6 : 0);\n        return axis.tickSize();\n    }\n\n    invertExtent (v1, v2) {\n        return this.scale().invertExtent(v1, v2);\n    }\n\n    /**\n     * Gets the nearest range value from the given range values.\n     * @param {number} v1 Start range value\n     * @param {number} v2 End range value\n     * @return {Array} range values\n     */\n    getNearestRange (v1, v2) {\n        const scale = this.scale();\n        const range = scale.range();\n        const reverse = range[0] > range[1];\n\n        const extent = this.invertExtent(v1, v2);\n        const p1 = scale(reverse ? extent[extent.length - 1] : extent[0]);\n        const p2 = scale(reverse ? extent[0] : extent[extent.length - 1]) + scale.bandwidth();\n        return [p1, p2];\n    }\n\n}\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { BOTTOM, TOP, LEFT, RIGHT } from '../enums/axis-orientation';\nimport { LINEAR, LOG, POW } from '../enums/scale-type';\nimport { LogInterpolator, PowInterpolator, LinearInterpolator } from './interpolators';\nimport {\n    getNumberOfTicks,\n    getValidDomain,\n    setContinousAxisDomain\n} from './helper';\n\nexport const interpolatorMap = {\n    [LOG]: LogInterpolator,\n    [POW]: PowInterpolator,\n    [LINEAR]: LinearInterpolator\n};\n\nexport default class ContinousAxis extends SimpleAxis {\n    constructor (config, dependencies) {\n        config.tickFormat = config.tickFormat || (val => val);\n        super(config, dependencies);\n    }\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const InterpolatorCls = interpolatorMap[interpolator];\n\n        this._interpolator = new InterpolatorCls();\n        let scale = this._interpolator.createScale({\n            padding,\n            exponent,\n            base,\n            range\n        });\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ContinousAxis\n     */\n    static type () {\n        return LINEAR;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this._interpolator.getScaleValue(domainVal);\n    }\n /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n\n        return axis.tickSize();\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            const domainVal = this._interpolator.sanitizeDomain(getValidDomain(this, domain[0]));\n            setContinousAxisDomain(this, domainVal);\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        }\n        return this._domain;\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (...params) {\n        super.setAvailableSpace(...params);\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} tickValues\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        const {\n            tickValues,\n            showInnerTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n\n        if (!showInnerTicks) {\n            axis.tickValues([]);\n            return this;\n        }\n\n        if (tickValues) {\n            tickValues instanceof Array && this.axis().tickValues(tickValues);\n        }\n        const newTickValues = this.getTickValues();\n\n        axis.tickValues(newTickValues);\n        const smartLabel = this.dependencies().labelManager;\n        smartLabel.setStyle(this._tickLabelStyle);\n        const formatter = this._tickFormatter(newTickValues);\n        const smartTicks = newTickValues.map((val, i) => {\n            const text = formatter(val, i);\n            const tickSpace = smartLabel.getOriSize(text);\n\n            tickSpace.text = text;\n            return tickSpace;\n        });\n\n        this.smartTicks(smartTicks);\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickValues () {\n        let labelDim = 0;\n        const {\n            orientation\n\n        } = this.config();\n        const {\n            tickValues\n        } = this.renderConfig();\n        const range = this.range();\n        const axis = this.axis();\n\n        const availableSpace = Math.abs(range[0] - range[1]);\n\n        const labelProps = this.axisComponentDimensions().largestTickDimensions;\n\n        if (tickValues) {\n            return tickValues;\n        }\n        labelDim = labelProps[orientation === BOTTOM || orientation === TOP ? 'width' : 'height'];\n\n        return getNumberOfTicks(availableSpace, labelDim, axis, this);\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.renderConfig().tickValues);\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline (tickText) {\n        const {\n            orientation\n        } = this.config();\n        const {\n            labels\n        } = this.renderConfig();\n\n        const {\n            rotation\n        } = labels;\n        const axis = this.axis();\n        const ticks = axis.tickValues();\n        const smartTicks = this.smartTicks();\n\n        if (smartTicks && smartTicks.length) {\n            const { width, height } = this.smartTicks()[0];\n\n            axis.tickTransform((d) => {\n                if (d === ticks[0]) {\n                    if ((orientation === LEFT || orientation === RIGHT)) {\n                        return `translate(0, -${(height) / 3}px)`;\n                    }\n\n                    if ((orientation === TOP || orientation === BOTTOM) && !rotation) {\n                        return `translate(${width / 2}px,  ${0}px)`;\n                    }\n                } return '';\n            });\n        }\n        return tickText;\n    }\n\n}\n","import { getUniqueId } from 'muze-utils';\nimport { CLASSPREFIX } from '../enums/constants';\n\n/**\n *\n *\n */\nexport const defaultConfig = {\n    id: getUniqueId(),\n    adjustRange: false,\n    axisName: {\n        defClassName: 'axis-name'\n    },\n    axisNamePadding: 7,\n    base: 10,\n    classPrefix: CLASSPREFIX,\n    className: `${CLASSPREFIX}-axis`,\n    exponent: 1,\n    interpolator: 'linear',\n    fixedBaseline: true,\n    labels: {\n        rotation: null,\n        smartTicks: null\n    },\n    orientation: 'left',\n    numberFormat: val => val,\n    padding: 0.3,\n    nice: true,\n    numberOfTicks: null,\n    rotate: false,\n    show: true,\n    showAxisName: true,\n    showInnerTicks: true,\n    showOuterTicks: true,\n    style: {},\n    type: 'linear',\n    tickFormat: null,\n    tickValues: null,\n    xOffset: 0,\n    yOffset: 0,\n    defaultSort: 'asc'\n};\n\n","import { defaultValue } from 'muze-utils';\nimport { TOP, LEFT, BOTTOM } from '../enums/axis-orientation';\nimport { MIN_NO_OF_TICKS, DEFAULT_NO_OF_TICKS } from '../enums/constants';\nimport { setAxisRange, getAdjustedRange } from './space-setter';\n\nexport const getRotatedSpaces = (rotation = 0, width, height) => {\n    let rotatedHeight = height;\n    let rotatedWidth = width;\n    if (rotation) {\n        const angle = ((rotation || 0) * Math.PI) / 180;\n        rotatedWidth = Math.abs(height * Math.sin(angle)) + Math.abs(width * Math.cos(angle));\n        rotatedHeight = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n    }\n    return { width: rotatedWidth, height: rotatedHeight };\n};\n\nexport const setOffset = (context) => {\n    let x = 0;\n    let y = 0;\n    const logicalSpace = context.logicalSpace();\n    const config = context.config();\n    const {\n        orientation,\n        xOffset,\n        yOffset\n    } = config;\n    if (orientation === LEFT) {\n        x = xOffset === undefined ? logicalSpace.width : xOffset;\n    }\n    if (orientation === TOP) {\n        y = yOffset === undefined ? logicalSpace.height : yOffset;\n    }\n\n    context.renderConfig({ xOffset: x, yOffset: y });\n};\n\nexport const getNumberOfTicks = (availableSpace, labelDim, axis, axisInstance) => {\n    let numberOfValues = 0;\n    let tickValues = [];\n    let { numberOfTicks } = axisInstance.config();\n    const ticks = axis.scale().ticks();\n    const tickLength = ticks.length;\n    const minTickDistance = axisInstance._minTickDistance.width;\n\n    numberOfValues = tickLength;\n\n    if (tickLength * (labelDim + minTickDistance) > availableSpace) {\n        numberOfValues = Math.floor(availableSpace / (labelDim + minTickDistance));\n    }\n\n    numberOfTicks = numberOfTicks || numberOfValues;\n    numberOfValues = Math.min(numberOfTicks, Math.max(MIN_NO_OF_TICKS, numberOfValues));\n\n    tickValues = axis.scale().ticks(numberOfValues);\n\n    if (tickValues.length > numberOfValues) {\n        tickValues = tickValues.filter((e, i) => i % 2 === 0);\n    }\n\n    if (numberOfValues === MIN_NO_OF_TICKS) {\n        tickValues = axis.scale().ticks(DEFAULT_NO_OF_TICKS);\n        tickValues = [tickValues[0], tickValues[tickValues.length - 1]];\n    }\n    return tickValues;\n};\n\nexport const getAxisComponentDimensions = (context) => {\n    let largestTick = '';\n    let largestTickDimensions = { width: 0, height: 0 };\n    let smartTick = {};\n    let axisTicks;\n    const allTickDimensions = [];\n    const scale = context.scale();\n    const { tickValues, showAxisName } = context.renderConfig();\n    const { name } = context.config();\n    const { labelManager } = context.dependencies();\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n\n    // set the style on the shared label manager instance\n    labelManager.setStyle(context._tickLabelStyle);\n\n    // get the values along the domain\n    axisTicks = tickValues || labelFunc();\n\n    // Get the tick labels\n    axisTicks = axisTicks.map((originalLabel, i) => {\n        const label = context.getFormattedText(originalLabel, i, axisTicks);\n\n    // convert to string for quant values\n        const tickDimensions = labelManager.getOriSize(label);\n\n    // Get spaces for all labels\n        allTickDimensions.push(tickDimensions);\n\n    // Getting largest label\n        if (tickDimensions.width > largestTickDimensions.width) {\n            largestTick = label;\n            smartTick = context.smartTicks() ? context.smartTicks()[i] : {};\n\n            largestTickDimensions = tickDimensions;\n            smartTick = smartTick || tickDimensions;\n        }\n        return label;\n    });\n\n    labelManager.setStyle(context._axisNameStyle);\n    const axisNameDimensions = showAxisName ? labelManager.getOriSize(name) : { width: 0, height: 0 };\n\n    return {\n        axisNameDimensions,\n        largestTick,\n        largestTickDimensions,\n        allTickDimensions,\n        axisTicks,\n        smartTick,\n        tickSize: context.getTickSize()\n    };\n};\n\nexport const computeAxisDimensions = (context) => {\n    let tickDimensions = {};\n    const { labels } = context.renderConfig();\n    const { smartTicks, rotation } = labels;\n\n    const {\n        largestTickDimensions,\n        axisTicks,\n        smartTick,\n        axisNameDimensions,\n        allTickDimensions,\n        tickSize\n    } = getAxisComponentDimensions(context);\n    const { height: labelHeight, width: labelWidth } = largestTickDimensions;\n\n    // get the domain of axis\n    const domain = context.domain();\n    // const angle = ((rotation || 0) * Math.PI) / 180;\n\n    if (domain.length === 0) {\n        return {\n            allTickDimensions,\n            tickSize: 0,\n            tickDimensions: { height: 0, width: 0 },\n            axisNameDimensions,\n            largestTickDimensions,\n            axisTicks\n        };\n    }\n\n    if (smartTicks) {\n        tickDimensions = smartTick;\n    } else {\n        tickDimensions = { width: labelWidth, height: labelHeight };\n    }\n    tickDimensions = getRotatedSpaces(rotation, tickDimensions.width, tickDimensions.height);\n\n    if (tickSize === 0) {\n        tickDimensions = { width: 0, height: 0 };\n    }\n\n    return {\n        allTickDimensions,\n        tickSize,\n        tickDimensions,\n        axisNameDimensions,\n        largestTickDimensions,\n        axisTicks\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n *\n */\nexport const getHorizontalAxisSpace = (context, axisDimensions, range) => {\n    let width;\n    let height;\n    const domain = context.domain();\n    const minTickDistance = context._minTickDistance.width;\n    const { tickSize, tickDimensions, axisNameDimensions } = axisDimensions;\n    const { axisNamePadding, tickValues } = context.config();\n    const { showAxisName } = context.renderConfig();\n    const { height: axisDimHeight } = axisNameDimensions;\n    const { height: tickDimHeight, width: tickDimWidth } = tickDimensions;\n\n    width = range && range.length ? range[1] - range[0] : ((tickDimWidth + minTickDistance) * 3);\n\n    height = 0;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [\n            Math.min(...tickValues, ...domain),\n            Math.max(...tickValues, ...domain)\n        ];\n\n        width = ((max - min) / Math.abs(minTickDiff)) * (tickDimWidth + context._minTickDistance.width);\n    }\n    if (!range || !range.length) {\n        height = Math.max(tickDimWidth, tickDimHeight);\n    } else {\n        height = tickDimHeight;\n    }\n\n    height += (showAxisName ? axisDimHeight + axisNamePadding : 0) + tickSize;\n\n    return {\n        width,\n        height\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n *\n */\nexport const getVerticalAxisSpace = (context, axisDimensions) => {\n    let height;\n    let width;\n    const domain = context.domain();\n    const { tickSize, tickDimensions, axisNameDimensions } = axisDimensions;\n    const { axisNamePadding, tickValues } = context.config();\n    const { showAxisName } = context.renderConfig();\n    const { height: axisDimHeight } = axisNameDimensions;\n    const { height: tickDimHeight, width: tickDimWidth } = tickDimensions;\n\n    height = 0;\n    width = tickDimWidth;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [\n            Math.min(...tickValues, ...domain),\n            Math.max(...tickValues, ...domain)\n        ];\n\n        height = ((max - min) / Math.abs(minTickDiff)) * tickDimHeight;\n    }\n    width += (showAxisName ? axisDimHeight : 0) + tickSize + (tickValues ? axisNamePadding : 0);\n\n    return {\n        height,\n        width\n    };\n};\n\n/**\n * Calculates the logical space of the axis\n * @return {Object} Width and height occupied by the axis.\n */\nexport const calculateBandSpace = (context) => {\n    const range = context.range();\n    const axisDimensions = context.getAxisDimensions();\n\n    const { orientation } = context.config();\n    const { show } = context.renderConfig();\n    const { largestTickDimensions, axisTicks, allTickDimensions } = axisDimensions;\n    const { height: largestDimHeight } = largestTickDimensions;\n    const minTickWidth = context._minTickDistance.width;\n    if (orientation === TOP || orientation === BOTTOM) {\n        let {\n            width,\n            height\n        } = getHorizontalAxisSpace(context, axisDimensions, range);\n\n        if (!range || !range.length) {\n            width = allTickDimensions.reduce((t, n) =>\n                t + Math.min(n.width, n.height) + minTickWidth, 0);\n        }\n\n        if (show === false) {\n            height = 0;\n            width = 0;\n        }\n        return {\n            width,\n            height\n        };\n    }\n\n    let {\n        width,\n        height\n    } = getVerticalAxisSpace(context, axisDimensions, range);\n\n    if (!height || height === 0) {\n        height = axisTicks.length * (largestDimHeight + context._minTickDistance.height);\n    }\n    if (show === false) {\n        width = 0;\n    }\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Calculates the logical space of the axis\n * @return {Object} Width and height occupied by the axis.\n */\nexport const calculateContinousSpace = (context) => {\n    const range = context.range();\n    const axisDimensions = context.getAxisDimensions();\n    const { orientation } = context.config();\n    const { show, showAxisName } = context.renderConfig();\n    const { axisNameDimensions } = axisDimensions;\n\n    if (show === false) {\n        return {\n            width: 0,\n            height: 0\n        };\n    }\n\n    const { width: axisNameWidth } = axisNameDimensions;\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        const {\n            width,\n            height\n        } = getHorizontalAxisSpace(context, axisDimensions, range);\n        const axisWidth = Math.max(width, axisNameWidth);\n\n        return {\n            width: axisWidth,\n            height\n        };\n    }\n    const {\n        width,\n        height\n    } = getVerticalAxisSpace(context, axisDimensions, range);\n\n    const effHeight = Math.max(height, showAxisName ? axisNameWidth : 0);\n\n    return {\n        width,\n        height: effHeight\n    };\n};\n\n/**\n * Overwrites domain with user defined domain (if present)\n * @param {Object} context reference to current axes\n * @param {Array} domain default domain\n *\n * @return {Array} domain\n */\nexport const getValidDomain = (context, domain) => {\n    const { domain: userDom } = context.config();\n\n    if (userDom) {\n        domain = userDom;\n    }\n\n    return defaultValue(domain, []);\n};\n\nexport const setContinousAxisDomain = (context, domain) => {\n    const { nice } = context.config();\n    const scale = context.scale.bind(context);\n\n    scale().domain(domain);\n    nice && scale().nice();\n    context._domain = scale().domain();\n};\n\n/**\n * Checks if any of the properties have changed between two objects\n * @param {Object} obj first object\n * @param {Object} obj1 second object\n * @param {Array} properties properties to be compared between two objects\n *\n * @return {Boolean} boolean value\n */\nexport const hasAxesConfigChanged = (obj = {}, obj1 = {}, properties) => {\n    if (!Object.keys(obj).length || !Object.keys(obj1).length) {\n        return false;\n    }\n    return properties.some(key => obj[key] !== obj1[key]);\n};\n\nexport const resetTickInterval = (context, domain) => {\n    const {\n        orientation,\n        isOffset\n    } = context.config();\n\n    const minDiff = context._minDiff;\n     // Set available space on interaction\n    if (context.range().length && (orientation === TOP || orientation === BOTTOM)) {\n        context.applyTickSkipping();\n        const {\n            largestTickDimensions\n        } = context.getAxisDimensions();\n\n        const noOfTicks = context.getTickValues().length;\n\n        const { width, height, padding } = context.availableSpace();\n        const {\n            left,\n            right\n        } = padding;\n        // Get the Tick Interval\n        const tickInterval = Math.min(largestTickDimensions.width,\n            ((width - (noOfTicks - 1) * (context._minTickDistance.width)) / noOfTicks));\n\n        context.maxTickSpaces({\n            width: tickInterval\n        });\n\n        const adjustedRange = getAdjustedRange(minDiff, [tickInterval / 2,\n            width - left - right - tickInterval / 2], domain, context.config());\n\n         // set range for axis\n        setAxisRange(context, 'y', adjustedRange, isOffset ? height : null);\n\n        context.setTickConfig();\n    }\n};\n\nexport const getSmartAxisName = (name, width, labelManager) => {\n    const oriSize = labelManager.getOriSize(name);\n\n    labelManager.useEllipsesOnOverflow(true);\n\n    return labelManager.getSmartText(name, width, oriSize.height, true);\n};\n","export { default as ContinousAxis } from './continous-axis';\nexport { default as BandAxis } from './band-axis';\nexport { default as TimeAxis } from './time-axis';\nexport { default as SimpleAxis } from './simple-axis';\n","export { default as LinearInterpolator } from './linear';\nexport { default as LogInterpolator } from './log';\nexport { default as PowInterpolator } from './pow';\n","import { sanitizeDomainWhenEqual } from 'muze-utils';\nimport { scaleMap } from '../../scale-creator';\n\nexport default class LinearInterpolator {\n\n    createScale (config) {\n        const {\n            range\n        } = config;\n        const scaleFactory = scaleMap.linear;\n        this._scale = scaleFactory().range(range);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        if (domain.length) {\n            domain = sanitizeDomainWhenEqual(domain);\n        }\n        return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class LogInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            base\n        } = config;\n        const scaleFactory = scaleMap.log;\n        this._scale = scaleFactory().range(range).base(base);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        const scale = this._scale;\n        if (domainVal <= 0) {\n            return scale(scale.domain()[0]);\n        }\n\n        return scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        if (domain[0] <= 0) {\n            domain[0] = Math.max(1, domain[0]);\n        }\n        if (domain[1] <= 0) {\n            domain[1] = Math.max(1, domain[1]);\n        }\n        return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class PowInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            exponent\n        } = config;\n        const scaleFactory = scaleMap.pow;\n        this._scale = scaleFactory().range(range).exponent(exponent);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        return domain;\n    }\n}\n","import { mergeRecursive } from 'muze-utils';\nimport { hasAxesConfigChanged } from './helper';\n\nexport const PROPS = {\n    availableSpace: {},\n    axisDimensions: {},\n    axisComponentDimensions: {},\n    config: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._config || {});\n            const mockedOldConfig = mergeRecursive({}, oldConfig);\n            value = mergeRecursive(mockedOldConfig, value);\n\n            value.axisNamePadding = Math.max(value.axisNamePadding, 0);\n            const shouldAxesScaleUpdate = hasAxesConfigChanged(\n                value, oldConfig, ['interpolator', 'exponent', 'base', 'orientation']\n            );\n            const tickFormatter = context.sanitizeTickFormatter(value);\n\n            if (shouldAxesScaleUpdate) {\n                context._scale = context.createScale(value);\n                context._axis = context.createAxis(value);\n            }\n\n            context._tickFormatter = ticks => tickFormatter(ticks);\n\n            context.resetRenderConfig(value);\n            return value;\n        }\n    },\n    renderConfig: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._renderConfig || {});\n            value = mergeRecursive(oldConfig, value);\n            return value;\n        }\n    },\n    logicalSpace: {},\n    mount: {\n    },\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.logicalSpace(null);\n            return value;\n        }\n    },\n\n    smartTicks: {},\n    tickSize: {},\n    maxTickSpaces: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._maxTickSpaces || {});\n            value = mergeRecursive(oldConfig, value);\n            return value;\n        }\n    },\n    valueParser: {\n        defaultValue: val => val\n    }\n};\n","import {\n    mergeRecursive,\n    getSmartComputedStyle,\n    selectElement,\n    generateGetterSetters,\n    getUniqueId\n} from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { axisOrientationMap, BOTTOM, TOP } from '../enums/axis-orientation';\nimport { defaultConfig } from './default-config';\nimport { renderAxis } from '../axis-renderer';\nimport { spaceSetter } from './space-setter';\nimport {\n    getAxisComponentDimensions,\n    computeAxisDimensions,\n    calculateContinousSpace,\n    setOffset,\n    getValidDomain,\n    getSmartAxisName\n} from './helper';\nimport { PROPS } from './props';\n\nexport default class SimpleAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @memberof SimpleAxis\n     */\n    constructor (config, dependencies) {\n        this._id = getUniqueId();\n\n        this._dependencies = dependencies;\n        this._mount = null;\n        this._range = [];\n        this._domain = [];\n        this._domainLock = false;\n        this._axisDimensions = {};\n        this._smartTicks = [];\n\n        const defCon = mergeRecursive({}, this.constructor.defaultConfig());\n        const simpleConfig = mergeRecursive(defCon, config);\n\n        const bodyElem = selectElement('body');\n        const classPrefix = simpleConfig.classPrefix;\n        this._tickLabelStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-ticks`);\n        this._axisNameStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-axis-name`);\n\n        dependencies.labelManager.setStyle(this._tickLabelStyle);\n        const dist = dependencies.labelManager.getOriSize('w');\n\n        this._minTickDistance = { width: dist.width * 3 / 4, height: dist.height / 2 };\n        this._minTickSpace = dependencies.labelManager.getOriSize('www...');\n\n        generateGetterSetters(this, PROPS);\n        this.config(simpleConfig);\n\n        this._scale = this.createScale(this._config);\n        this._axis = this.createAxis(this._config);\n        this._animationDonePromises = [];\n    }\n\n    /**\n     * Returns the default configuration of simple axis\n     *  @return {Object} default configurations\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    scale (...params) {\n        if (params.length) {\n            this._scale = params[0];\n            return this;\n        }\n        return this._scale;\n    }\n\n    resetDomain () {\n        this._domain = [];\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    axis (...params) {\n        if (params.length) {\n            this._axis = params[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            const domainValue = getValidDomain(this, domain[0]);\n            this.scale().domain(domainValue);\n            this._domain = this.scale().domain();\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        }\n        return this._domain;\n    }\n\n    setAxisComponentDimensions () {\n        this.axisComponentDimensions(getAxisComponentDimensions(this));\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const scale = createScale({\n            padding,\n            interpolator,\n            exponent,\n            base,\n            range,\n            type: this.constructor.type()\n        });\n\n        return scale;\n    }\n\n    sanitizeTickFormatter (value) {\n        const { tickFormat, numberFormat } = value;\n\n        if (tickFormat) {\n            return ticks => (val, i) => tickFormat(numberFormat(val), val, i, ticks);\n        }\n\n        return () => val => numberFormat(val);\n    }\n\n    resetRenderConfig (config) {\n        const {\n            labels,\n            show,\n            showInnerTicks,\n            showOuterTicks,\n            showAxisName,\n            xOffset,\n            yOffset,\n            tickValues,\n            smartAxisName\n        } = config;\n        this.renderConfig({\n            labels,\n            show,\n            showInnerTicks,\n            showOuterTicks,\n            showAxisName,\n            xOffset,\n            yOffset,\n            tickValues,\n            smartAxisName\n        });\n        return this;\n    }\n\n    resetLogicalSpace () {\n        this.logicalSpace(null);\n        this.range([]);\n\n        this.resetRenderConfig(this.config());\n    }\n\n    getFormattedText (text, index, axisTicks) {\n        const formatter = this._tickFormatter;\n\n        return formatter(axisTicks)(text, index);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createAxis (config) {\n        const { orientation } = config;\n        const axisClass = axisOrientationMap[orientation];\n\n        if (axisClass) {\n            const axis = axisClass(this.scale());\n            return axis;\n        }\n        return null;\n    }\n\n    setTickValues (tickValues) {\n        const renderConfig = this.renderConfig();\n        this.config({ ...renderConfig, tickValues });\n        this.tickValues = tickValues;\n        this.axis().tickValues(tickValues);\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        let labelConfig = {};\n        const {\n           orientation\n       } = this.config();\n\n        this.availableSpace({ width, height, padding });\n        const type = this.constructor.type();\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            labelConfig = spaceSetter(this, { isOffset })[type].x();\n        } else {\n            labelConfig = spaceSetter(this, { isOffset })[type].y();\n        }\n\n        // Set config\n        this.renderConfig({\n            labels: labelConfig\n        });\n        this.setTickConfig();\n        this.setSmartAxisName();\n        return this;\n    }\n\n    setSmartAxisName () {\n        const { orientation, name } = this.config();\n        const dimType = (orientation === TOP || orientation === BOTTOM) ? 'width' : 'height';\n        const widthDim = this.availableSpace()[dimType];\n        const labelManager = this.dependencies().labelManager;\n        labelManager.setStyle(this._axisNameStyle);\n        this.renderConfig({\n            smartAxisName: getSmartAxisName(name, widthDim, labelManager)\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        return this;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this.scale()(domainVal);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        return this.axis().tickSize();\n    }\n\n    /**\n     * Gets the space occupied by the parts of an axis\n     *\n     * @return {Object} object with details about sizes of the axis.\n     * @memberof SimpleAxis\n     */\n    getAxisDimensions (...params) {\n        this.axisDimensions(computeAxisDimensions(this, ...params));\n        return this.axisDimensions();\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateContinousSpace(this));\n        }\n        setOffset(this);\n\n        return this.logicalSpace();\n    }\n\n    /**\n     * Returns the value from the domain when given a value from the range.\n     * @param {number} value Value from the range.\n     * @return {number} Value\n     */\n    invert (value) {\n        return this.scale().invert(value);\n    }\n\n    /**\n     * Gets the nearest range value from the given range values.\n     * @param {number} v1 Start range value\n     * @param {number} v2 End range value\n     *\n     * @return {Array} range values\n     */\n    getNearestRange (v1, v2) {\n        return [v1, v2];\n    }\n\n    invertExtent (v1, v2) {\n        return [this.invert(v1), this.invert(v2)];\n    }\n\n    getMinTickDifference () {\n        return this.domain();\n    }\n\n    getFormattedTickValues (tickValues) {\n        return tickValues;\n    }\n\n    /**\n     * This method returns the width in pixels for one\n     * unit along the axis. It is only applicable to band scale\n     * and returns undefined for other scale type.\n     *\n     * @return {number} the width of one band along band scale axis\n     * @memberof SimpleAxis\n     */\n    getUnitWidth () {\n        return 0;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof SimpleAxis\n     */\n    serialize () {\n        return {\n            name: this.name,\n            type: this.type,\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * This method is used to render the axis inside\n     * the supplied svg container.\n     *\n     * @param {SVGElement} svg the svg element in which to render the path\n     * @memberof SimpleAxis\n     */\n    /* istanbul ignore next */render () {\n        if (this.mount()) {\n            this.setTickConfig();\n            renderAxis(this);\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    remove () {\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    unsubscribe () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    isReverse () {\n        const range = this.range();\n        return range[0] > range[1];\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getPixelToValueRatio () {\n        const scale = this.scale();\n        const range = scale.range();\n        const domain = scale.domain();\n\n        return Math.abs(range[1] - range[0]) / (domain[1] - domain[0]);\n    }\n\n     /**\n     * Notifies when all animations/transitions of the axis are completed.\n     *\n     * @public\n     * @return {Promise} Returns a promise to notify the animation completion.\n     */\n    animationDone () {\n        return Promise.all(this._animationDonePromises);\n    }\n\n    registerAnimationDoneHook () {\n        let resolveFn;\n        const promise = new Promise((resolve) => {\n            resolveFn = resolve;\n        });\n        this._animationDonePromises.push(promise);\n\n        return () => {\n            resolveFn();\n        };\n    }\n\n    _getRawTickValue (data) {\n        return data;\n    }\n\n    getTicksBasedOnData (tickData) {\n        const allTicks = selectElement(this.mount()).selectAll('.tick');\n        let elementToBeModified = null;\n        let elementNotToBeModified = null;\n        if (tickData) {\n            elementToBeModified = allTicks.filter(tickValue => tickData === this._getRawTickValue(tickValue));\n            elementNotToBeModified = allTicks.filter(tickValue => !(tickData === this._getRawTickValue(tickValue)));\n        }\n        return {\n            selectionSet: elementToBeModified,\n            rejectionSet: elementNotToBeModified || allTicks\n        };\n    }\n}\n","import {\n    timeMillisecond,\n    timeSecond,\n    timeMinute,\n    timeHour,\n    timeDay,\n    timeWeek,\n    timeMonth,\n    timeYear\n} from 'muze-utils';\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\n// Longest Word for each level based on which tick skipping is decided\nconst longestWord = {\n    month: 'September',\n    quarter: 'October',\n    halfYearly: 'July',\n    year: 9999,\n    day: 'September',\n    hour: '24 AM',\n    mintues: '60:60',\n    seconds: ':60',\n    week: 'Wed 31'\n};\n\n// These are the various levels of ticks that can be shown by Muze.\n// Each level is described as how frequently the ticks appear\n// The format is as follows:\n// [Frequency, Milliseconds, Name of Seconds, Tick Generator, Level Type]\nconst tickIntervals = [\n    [1, 1, 'milliseconds', timeMillisecond.every(1), 'seconds'],\n    [1, durationSecond, 'seconds', timeSecond.every(1), 'seconds'],\n    [5, 5 * durationSecond, 'five seconds', timeSecond.every(5), 'seconds'],\n    [10, 10 * durationSecond, 'ten seconds', timeSecond.every(10), 'seconds'],\n    [15, 15 * durationSecond, 'fifteen seconds', timeSecond.every(15), 'seconds'],\n    [30, 30 * durationSecond, 'thirty seconds', timeSecond.every(30), 'seconds'],\n    [1, durationMinute, 'minute', timeMinute.every(1), 'minutes'],\n    [5, 5 * durationMinute, 'five minutes', timeMinute.every(5), 'minutes'],\n    [10, 10 * durationMinute, 'ten minutes', timeMinute.every(10), 'minutes'],\n    [15, 15 * durationMinute, 'fifteen minutes', timeMinute.every(15), 'minutes'],\n    [30, 30 * durationMinute, 'thirty minutes', timeMinute.every(30), 'minutes'],\n    [1, durationHour, 'hour', timeHour.every(1), 'hour'],\n    [3, 3 * durationHour, 'three hours', timeHour.every(3), 'hour'],\n    [6, 6 * durationHour, 'six hours', timeHour.every(6), 'hour'],\n    [12, 12 * durationHour, 'twelve hours', timeHour.every(12), 'hour'],\n    [1, durationDay, 'daily', timeDay.every(1), 'day'],\n    [1, durationWeek, 'weekly', timeWeek.every(1), 'week'],\n    [1, durationMonth, 'monthly', timeMonth.every(1), 'week'],\n    [3, 3 * durationMonth, 'quaterly', timeMonth.every(3), 'quarter'],\n    [6, 6 * durationMonth, 'half yearly', timeMonth.every(6), 'halfYearly'],\n    [1, durationYear, 'yearly', timeYear.every(1), 'year'],\n    [2, 2 * durationYear, '2 year', timeYear.every(2), 'year'],\n    [3, 3 * durationYear, '3 year', timeYear.every(3), 'year'],\n    [5, 5 * durationYear, '5 year', timeYear.every(5), 'year'],\n    [10, 10 * durationYear, 'decade', timeYear.every(10), 'year'],\n    [100, 100 * durationYear, 'century', timeYear.every(100), 'year'],\n    [1000, 1000 * durationYear, 'millenium', timeYear.every(1000), 'year']\n];\n/**\n * Get the actual tick interval based on the available width, number of ticks\n * and the distance between two ticks\n *\n * @param {Object} context Axis Context\n * @param {number} noOfTicks Number of Ticks based on which interval is calculated\n * @return {number} The width for the tick interval\n */\nconst getActualTickInterval = (context, noOfTicks) => {\n    const minTickDistance = context._minTickDistance;\n    const minWidthBetweenTicks = minTickDistance.width;\n\n    const { width } = context.availableSpace();\n    const actualTickInterval = Math.floor(((width - (noOfTicks - 1) * (minWidthBetweenTicks)) / noOfTicks));\n\n    return actualTickInterval;\n};\n\n/**\n * Get the tick interval based on the current level of ticks. Levels are decided on\n * the number of ticks that are possible to show\n *\n * @param {Object} context Axis Context\n * @param {string} type Type of level (yearly, monthly, etc)\n * @return {number} The width for the tick interval\n */\nconst getTickIntervalBasedOnCurrentLevel = (context, type) => {\n    const labelManager = context._dependencies.labelManager;\n    const longestWordType = longestWord[type];\n    const measure = labelManager.getOriSize(longestWordType);\n\n    return measure.width;\n};\n\nconst getTickIntervalFnBasedOnNumberOfTicks = (interval, count, context) => {\n    let possibleTickLevelIndex = tickIntervals.length - 1;\n    let maxPossibleTicks = 1;\n    let tickIntervalLevelInfo = null;\n\n    // Decide possible tick level based on min tick width (with ellipses)\n    for (let i = tickIntervals.length - 1; i >= 0; i--) {\n        const tickIntervalInfo = tickIntervals[i];\n        const numOfPossibleTicks = Math.floor(interval / tickIntervalInfo[1]);\n        if (numOfPossibleTicks <= count) {\n            possibleTickLevelIndex = i;\n            maxPossibleTicks = numOfPossibleTicks;\n        }\n    }\n\n    tickIntervalLevelInfo = tickIntervals[possibleTickLevelIndex];\n\n    // Get actual tick interval based on the level of ticks generated\n    const actualTickInterval = getActualTickInterval(context, maxPossibleTicks);\n\n    // Maximum Possible tick Interval for a particular level based on a pre decided set of values\n    const maxTickInterval = getTickIntervalBasedOnCurrentLevel(context, tickIntervalLevelInfo[4]);\n\n    // Display the next level involving tick skipping if current level does not meet the requirement\n    // for displaying max tick\n    if (actualTickInterval < maxTickInterval && possibleTickLevelIndex < tickIntervals.length - 1) {\n        tickIntervalLevelInfo = tickIntervals[possibleTickLevelIndex + 1];\n    }\n    return tickIntervalLevelInfo[3];\n};\n\nexport const getSkippedTicks = (context, maxPossibleTicks) => {\n    let actualNumberOfTicks = maxPossibleTicks;\n    const domain = context.domain();\n    const minDiff = context._minDiff;\n    // Get the interval in ms from the domain\n    const millisecondInterval = domain[1] - domain[0];\n    // Get number of ticks based on the minimum difference in the data\n    const numOfTicksAccordingToMinDiff = Math.floor(millisecondInterval / minDiff);\n\n    // Show ticks according to min diff if possible\n    if (maxPossibleTicks >= numOfTicksAccordingToMinDiff) {\n        actualNumberOfTicks = numOfTicksAccordingToMinDiff;\n    }\n\n    return getTickIntervalFnBasedOnNumberOfTicks(millisecondInterval, actualNumberOfTicks, context);\n};\n","import { BOTTOM, TOP, LEFT, RIGHT } from '../enums/axis-orientation';\nimport { getSkippedTicks } from './skip-ticks';\nimport { TIME, LINEAR, BAND } from '../enums/scale-type';\n\nexport const applyTickSkipping = (context) => {\n    const minTickDistance = context._minTickDistance;\n    const minTickSpace = context._minTickSpace;\n    const minWidthBetweenTicks = minTickDistance.width;\n    const minTickWidth = minTickSpace.width;\n\n    const { width } = context.availableSpace();\n\n    const maxTicks = Math.floor((width + minWidthBetweenTicks) / (minTickWidth + minWidthBetweenTicks));\n\n    const ticks = context.scale().ticks(getSkippedTicks(context, maxTicks));\n\n    context.renderConfig({\n        tickValues: ticks\n    });\n};\n\nconst adjustHorizontalRange = (range, diff) => {\n    range[0] += diff;\n    range[1] -= diff;\n    return range;\n};\n\nconst adjustVerticalRange = (range, diff) => {\n    range[0] -= diff;\n    range[1] += diff;\n    return range;\n};\n\nconst rangeAdjustmentMap = {\n    [TOP]: adjustHorizontalRange,\n    [BOTTOM]: adjustHorizontalRange,\n    [LEFT]: adjustVerticalRange,\n    [RIGHT]: adjustVerticalRange\n};\n\nexport const setAxisRange = (context, type, rangeBounds, offset) => {\n    context.range(rangeBounds);\n    offset && context.renderConfig({ [`${type}Offset`]: offset });\n};\n\nconst getAxisOffset = (timeDiff, range, domain) => {\n    const avWidth = Math.abs(range[1] - range[0]);\n    const pvr = avWidth / (domain[1] - domain[0]);\n    const width = (pvr * timeDiff);\n    const bars = avWidth / width;\n    const barWidth = avWidth / (bars + 1);\n    const diff = avWidth - barWidth * bars;\n\n    return diff / 2;\n};\n\nexport const getAdjustedRange = (minDiff, range, domain, config) => {\n    const {\n        orientation,\n        adjustRange\n    } = config;\n    const diff = getAxisOffset(minDiff, range, domain);\n\n    if (adjustRange) {\n        return rangeAdjustmentMap[orientation](range, diff);\n    }\n    return range;\n};\n\nexport const spaceSetter = (context, spaceConfig) => {\n    let tickInterval;\n    let heightForTicks;\n    const config = context.config();\n    const {\n        width: availWidth,\n        height: availHeight,\n        padding\n    } = context.availableSpace();\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = padding;\n    const {\n        isOffset\n    } = spaceConfig;\n    const {\n        showAxisName,\n        labels\n    } = context.renderConfig();\n    const {\n        rotation\n    } = labels;\n    const {\n        fixedBaseline,\n        axisNamePadding,\n        tickValues\n    } = config;\n\n    const {\n        tickDimensions,\n        allTickDimensions,\n        axisNameDimensions,\n        tickSize\n    } = context.getAxisDimensions();\n\n    const {\n        height: tickDimHeight,\n        width: tickDimWidth\n    } = tickDimensions;\n\n    const namePadding = showAxisName ? axisNamePadding : 0;\n    const labelConfig = { smartTicks: true, rotation: labels.rotation };\n    const minTickDistance = context._minTickDistance;\n    const minTickSpace = context._minTickSpace;\n    const minDiff = context._minDiff;\n    const domain = context.domain();\n    const axisNameHeight = axisNameDimensions.height;\n    const minWidthBetweenTicks = minTickDistance.width;\n    const minTickWidth = Math.min(minTickSpace.width, tickDimWidth);\n    const minTickHeight = Math.min(minTickSpace.height, tickDimHeight);\n\n    return {\n        [TIME]: {\n            x: () => {\n                !tickValues && context.applyTickSkipping();\n                const noOfTicks = context.getTickValues().length;\n\n                // Get the Tick Interval\n                tickInterval = ((availWidth - (noOfTicks - 1) * (minWidthBetweenTicks)) / noOfTicks);\n\n                // Get height for ticks\n                heightForTicks = availHeight - axisNameHeight - tickSize - namePadding;\n\n                if (tickInterval < minTickWidth && rotation !== 0) {\n                    // set smart ticks and rotation config\n                    labelConfig.rotation = rotation;\n                    // Remove ticks if not enough height\n                    if (tickInterval < minTickHeight) {\n                        heightForTicks = availHeight;\n                        tickInterval = minTickHeight;\n                        context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n\n                const tickShifter = Math.min(tickInterval, tickDimWidth);\n                // set range for axis\n                setAxisRange(context, 'y', getAdjustedRange(minDiff, [tickShifter / 2,\n                    availWidth - left - right - tickShifter / 2], domain, config),\n                        isOffset ? availHeight : null);\n\n                context.maxTickSpaces({\n                    width: tickInterval,\n                    height: heightForTicks,\n                    noWrap: rotation !== null\n                });\n\n                return labelConfig;\n            },\n            y: () => {\n                let widthForTicks = availWidth;\n                const tickShifter = tickDimHeight / 2;\n\n                setAxisRange(context, 'x', getAdjustedRange(minDiff,\n                    [availHeight - top - bottom - tickShifter, tickShifter], domain, config),\n                        isOffset ? availWidth : null);\n\n                if ((availWidth - axisNameHeight - namePadding) <= minWidthBetweenTicks) {\n                    widthForTicks = 0;\n                    context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: widthForTicks,\n                    height: availHeight,\n                    noWrap: true\n                });\n                if (availWidth < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            }\n        },\n        [BAND]: {\n            x: () => {\n                setAxisRange(context, 'y', [0, availWidth - left - right], isOffset ? availHeight : null);\n                const range = context.range();\n\n                // Get Tick Interval\n                tickInterval = ((range[1] - range[0]) / (tickValues || domain).length) - minWidthBetweenTicks;\n\n                // Get height available for ticks\n                heightForTicks = availHeight - axisNameHeight - tickSize - namePadding;\n\n                if (tickInterval < minTickWidth && rotation !== 0) {\n                    // set smart ticks and rotation config\n                    labelConfig.rotation = rotation === null ? -90 : rotation;\n                    labelConfig.smartTicks = false;\n\n                    tickInterval = Math.max(heightForTicks, minTickWidth);\n\n                    if (heightForTicks < minTickWidth) {\n                        context.renderConfig({ showAxisName: false });\n                    }\n                } else if (tickValues) {\n                    const interval = (availWidth / domain.length) - minWidthBetweenTicks;\n                    if (interval < minTickWidth) {\n                        context.range([minTickHeight / 2, availWidth - minTickHeight / 2]);\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n\n                context.maxTickSpaces({\n                    width: tickInterval,\n                    height: heightForTicks,\n                    noWrap: rotation !== null\n                });\n                return labelConfig;\n            },\n            y: () => {\n                setAxisRange(context, 'x', [availHeight - bottom, top], isOffset ? availWidth : null);\n\n                let widthForTicks = availWidth - axisNameHeight - tickSize - namePadding;\n                if (widthForTicks <= minWidthBetweenTicks) {\n                    widthForTicks = 0;\n                    context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: widthForTicks,\n                    height: availHeight,\n                    noWrap: true\n                });\n                if (availWidth < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            }\n        },\n        [LINEAR]: {\n            x: () => {\n                labelConfig.smartTicks = false;\n                const tickShifter = tickDimWidth / 2;\n\n                const baseline = fixedBaseline ? 0 : tickShifter;\n\n                setAxisRange(context, 'y', [baseline + left, availWidth - right - tickShifter],\n                    isOffset ? availHeight : null);\n\n                const range = context.range();\n\n                // Get Tick widths and available space\n                const totalTickWidth = allTickDimensions.length * (tickDimWidth + minWidthBetweenTicks);\n                const availableWidth = range[1] - range[0];\n\n                 // Rotate labels if not enough width\n                if (availableWidth < totalTickWidth && labels.rotation !== null) {\n                    if (availHeight - tickDimWidth - namePadding - tickSize > axisNameHeight) {\n                        labelConfig.rotation = null;\n                        context.renderConfig({\n                            showInnerTicks: true,\n                            showAxisName: true\n                        });\n                    } else {\n                        labelConfig.rotation = -90;\n                        context.renderConfig({\n                            showInnerTicks: true,\n                            showAxisName: false\n                        });\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            },\n            y: () => {\n                labelConfig.smartTicks = false;\n                const tickShifter = tickDimHeight / 2;\n                const baseline = fixedBaseline ? 1 : tickShifter;\n\n                setAxisRange(context, 'x', [availHeight - bottom - baseline, tickShifter + top],\n                    isOffset ? availWidth : null);\n\n                // Remove display of ticks if no space is left\n                if (availWidth < tickDimWidth + axisNameHeight + namePadding) {\n                    context.renderConfig({ showInnerTicks: false });\n                    if (availWidth < axisNameHeight) {\n                        context.renderConfig({ show: false });\n                    }\n                }\n                return labelConfig;\n            }\n        }\n    };\n};\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { TIME } from '../enums/scale-type';\nimport { calculateBandSpace, getRotatedSpaces, getValidDomain, setContinousAxisDomain, setOffset,\n    resetTickInterval } from './helper';\nimport { applyTickSkipping } from './space-setter';\n\n/**\n *\n *\n * @export\n * @class TimeAxis\n * @extends {SimpleAxis}\n */\nexport default class TimeAxis extends SimpleAxis {\n\n    constructor (...params) {\n        super(...params);\n        this._minDiff = Infinity;\n    }\n\n    /**\n     *\n     *\n     * @param {*} range\n     *\n     * @memberof TimeAxis\n     */\n    createScale (range) {\n        let scale = super.createScale(range);\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof TimeAxis\n     */\n    static type () {\n        return TIME;\n    }\n\n    formatTickValue (val) {\n        return this.scale().tickFormat()(val);\n    }\n\n    sanitizeTickFormatter (value) {\n        const { tickFormat } = value;\n\n        if (tickFormat) {\n            return (ticks) => {\n                const rawTicks = ticks.map(t => t.getTime());\n                return (val, i) => tickFormat(this.formatTickValue(val), val.getTime(), i, rawTicks);\n            };\n        }\n        return () => val => this.formatTickValue(val);\n    }\n\n     /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n        return super.getTickSize();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof TimeAxis\n     */\n    getTickValues () {\n        return this.renderConfig().tickValues || this.scale().ticks();\n    }\n\n    /**\n     *\n     *\n     * @param {*} diff\n     *\n     * @memberof TimeAxis\n     */\n    minDiff (diff) {\n        this._minDiff = Math.min(this._minDiff, diff);\n        return this;\n    }\n\n    applyTickSkipping () {\n        applyTickSkipping(this);\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            const domainValue = getValidDomain(this, domain[0]);\n            setContinousAxisDomain(this, domainValue);\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n\n            resetTickInterval(this, domainValue);\n            return this;\n        }\n        return this._domain;\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n        }\n        setOffset(this);\n\n        return this.logicalSpace();\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.config().tickValues);\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (...params) {\n        super.setAvailableSpace(...params);\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks;\n        let smartlabel;\n\n        const { labels, tickValues } = this.renderConfig();\n        const { height: availHeight, width: availWidth, noWrap } = this.maxTickSpaces();\n        const { labelManager } = this._dependencies;\n        const domain = this.getTickValues();\n\n        tickValues && this.axis().tickValues(tickValues);\n\n        const { width, height } = getRotatedSpaces(labels.rotation, availWidth, availHeight);\n\n        smartTicks = tickValues || domain;\n\n        // set the style on the shared label manager instance\n        labelManager.setStyle(this._tickLabelStyle);\n\n        if (domain && domain.length) {\n            const values = tickValues || domain;\n            const tickFormatter = this._tickFormatter(values);\n            smartTicks = values.map((d, i) => {\n                labelManager.useEllipsesOnOverflow(true);\n\n                smartlabel = labelManager.getSmartText(tickFormatter(d, i), width, height, noWrap);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n\n        this.smartTicks(smartTicks);\n        return this;\n    }\n    _getRawTickValue (data) {\n        return (new Date(data)).getTime();\n    }\n}\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters, rgbToHsv, defaultValue } from 'muze-utils';\nimport { createScale, getScheme, getSchemeType, scaleMap } from '../scale-creator';\nimport { CONTINOUS, DISCRETE, ORDINAL, COLOR } from '../enums/constants';\nimport { strategyGetter } from './color-strategy';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { PROPS, getHslString, getActualHslColor } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ColorAxis {\n\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} config input parameters.\n    * @param {Object | undefined} params.range Type of color range.\n    * @param {string} params.name the label to show on axis.\n    * @param {string} params.type The type of scale to handle.\n    * @memberof ColorAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n        this.config(config);\n\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n        this._rangeType = (this._config.type === 'linear' && !this._config.step) ? CONTINOUS : DISCRETE;\n\n        this._schemeType = getSchemeType(this._config.range);\n\n        this._colorStrategy = this.setColorStrategy(this._domainType, this._rangeType, this._schemeType);\n        this._scale = this.createScale(this._colorStrategy);\n\n        this._id = getUniqueId();\n\n        this.updateDomain(config.domain);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return COLOR;\n    }\n\n    /**\n     *\n     *\n     * @param {*} colorStrategy\n     *\n     * @memberof ColorAxis\n     */\n    createScale (colorStrategy) {\n        const { range } = this.config();\n        if (range && typeof (range) === 'string') {\n            return getScheme(range);\n        }\n        return createScale({\n            type: colorStrategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     *\n     * @memberof ColorAxis\n     */\n    setColorStrategy (domainType, rangeType, schemeType) {\n        return strategyGetter(domainType, rangeType, schemeType);\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getHslString (hslColorArray) {\n        return getHslString(hslColorArray);\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getColor (domainVal) {\n        return this.getHslString(this.getRawColor(domainVal));\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getRawColor (domainVal) {\n        if (this.domain() && domainVal !== undefined) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const color = this._colorStrategy.value(range)(domainVal, scale, this.domain(), this.uniqueValues());\n\n            if (color) {\n                if (typeof color === 'string') {\n                    const col = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(/,\\s*/);\n                    return rgbToHsv(...col);\n                }\n                return [...color];\n            }\n        }\n        return [...this.config().value];\n    }\n\n    /**\n     *\n     *\n     * @param {*} [domain=[]]\n     *\n     * @memberof ColorAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const domainRangeFn = this._colorStrategy.domainRange();\n            const scaleType = this._colorStrategy.scale;\n            const scaleInfo = domainRangeFn(domain, this.config().stops, range);\n            const { domain: originalDomain, range: originalRange } = scaleInfo;\n\n            this.domain(originalDomain);\n            originalRange && this.scale().range(originalRange);\n            this.uniqueValues(scaleInfo.uniqueVals);\n            this.scale().domain(scaleInfo.scaleDomain || this.domain());\n\n            // Interpolate colors using linear scale if domain exceeds range\n            if (scaleType === ORDINAL && originalDomain.length > originalRange.length) {\n                const newRange = [];\n                this._linearScale = scaleMap.linear()\n                .range(this._config.range)\n                .domain([0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]);\n\n                for (let i = 0, len = originalDomain.length; i < len; i++) {\n                    const rangeVal = 1 / len * (i);\n                    newRange.push([...this._linearScale(rangeVal)]);\n                }\n                this.scale().range(newRange);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            config: this.config()\n        };\n    }\n\n    transformColor (color, transformationArr) {\n        const h = color[0] * 360;\n        const s = color[1] * 100;\n        const l = color[2] * 100;\n        const a = Math.min(defaultValue(color[3], 0), 1);\n        const newH = h + transformationArr[0];\n        const newS = s + transformationArr[1];\n        const newL = l + transformationArr[2];\n        const newA = Math.min(a + transformationArr[3] || 0, 1);\n\n        return { color: `hsla(${newH},${newS}%,${newL}%,${newA})`, hsla: [newH / 360, newS / 100, newL / 100, newA] };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n\n    getHslArray (color) {\n        return getActualHslColor(color);\n    }\n\n}\n","export const x11Colors = {\n    Pink: { hex: 'ffc0cb', rgb: '255,192,203' },\n    LightPink: { hex: 'ffb6c1', rgb: '255,182,193' },\n    HotPink: { hex: 'ff69b4', rgb: '255,105,180' },\n    DeepPink: { hex: 'ff1493', rgb: '255,20,147' },\n    PaleVioletRed: { hex: 'db7093', rgb: '219,112,147' },\n    MediumVioletRed: { hex: 'c71585', rgb: '199,21,133' },\n    LightSalmon: { hex: 'ffa07a', rgb: '255,160,122' },\n    Salmon: { hex: 'fa8072', rgb: '250,128,114' },\n    DarkSalmon: { hex: 'e9967a', rgb: '233,150,122' },\n    LightCoral: { hex: 'f08080', rgb: '240,128,128' },\n    IndianRed: { hex: 'cd5c5c', rgb: '205,92,92' },\n    Crimson: { hex: 'dc143c', rgb: '220,20,60' },\n    FireBrick: { hex: 'b22222', rgb: '178,34,34' },\n    DarkRed: { hex: '8b0000', rgb: '139,0,0' },\n    Red: { hex: 'ff0000', rgb: '255,0,0' },\n    OrangeRed: { hex: 'ff4500', rgb: '255,69,0' },\n    Tomato: { hex: 'ff6347', rgb: '255,99,71' },\n    Coral: { hex: 'ff7f50', rgb: '255,127,80' },\n    DarkOrange: { hex: 'ff8c00', rgb: '255,140,0' },\n    Orange: { hex: 'ffa500', rgb: '255,165,0' },\n    Gold: { hex: 'ffd700', rgb: '255,215,0' },\n    Yellow: { hex: 'ffff00', rgb: '255,255,0' },\n    LightYellow: { hex: 'ffffe0', rgb: '255,255,224' },\n    LemonChiffon: { hex: 'fffacd', rgb: '255,250,205' },\n    LightGoldenrodYellow: { hex: 'fafad2', rgb: '250,250,210' },\n    PapayaWhip: { hex: 'ffefd5', rgb: '255,239,213' },\n    Moccasin: { hex: 'ffe4b5', rgb: '255,228,181' },\n    PeachPuff: { hex: 'ffdab9', rgb: '255,218,185' },\n    PaleGoldenrod: { hex: 'eee8aa', rgb: '238,232,170' },\n    Khaki: { hex: 'f0e68c', rgb: '240,230,140' },\n    DarkKhaki: { hex: 'bdb76b', rgb: '189,183,107' },\n    Cornsilk: { hex: 'fff8dc', rgb: '255,248,220' },\n    BlanchedAlmond: { hex: 'ffebcd', rgb: '255,235,205' },\n    Bisque: { hex: 'ffe4c4', rgb: '255,228,196' },\n    NavajoWhite: { hex: 'ffdead', rgb: '255,222,173' },\n    Wheat: { hex: 'f5deb3', rgb: '245,222,179' },\n    BurlyWood: { hex: 'deb887', rgb: '222,184,135' },\n    Tan: { hex: 'd2b48c', rgb: '210,180,140' },\n    RosyBrown: { hex: 'bc8f8f', rgb: '188,143,143' },\n    SandyBrown: { hex: 'f4a460', rgb: '244,164,96' },\n    Goldenrod: { hex: 'daa520', rgb: '218,165,32' },\n    DarkGoldenrod: { hex: 'b8860b', rgb: '184,134,11' },\n    Peru: { hex: 'cd853f', rgb: '205,133,63' },\n    Chocolate: { hex: 'd2691e', rgb: '210,105,30' },\n    SaddleBrown: { hex: '8b4513', rgb: '139,69,19' },\n    Sienna: { hex: 'a0522d', rgb: '160,82,45' },\n    Brown: { hex: 'a52a2a', rgb: '165,42,42' },\n    Maroon: { hex: '800000', rgb: '128,0,0' },\n    DarkOliveGreen: { hex: '556b2f', rgb: '85,107,47' },\n    Olive: { hex: '808000', rgb: '128,128,0' },\n    OliveDrab: { hex: '6b8e23', rgb: '107,142,35' },\n    YellowGreen: { hex: '9acd32', rgb: '154,205,50' },\n    LimeGreen: { hex: '32cd32', rgb: '50,205,50' },\n    Lime: { hex: '00ff00', rgb: '0,255,0' },\n    LawnGreen: { hex: '7cfc00', rgb: '124,252,0' },\n    Chartreuse: { hex: '7fff00', rgb: '127,255,0' },\n    GreenYellow: { hex: 'adff2f', rgb: '173,255,47' },\n    SpringGreen: { hex: '00ff7f', rgb: '0,255,127' },\n    MediumSpringGreen: { hex: '00fa9a', rgb: '0,250,154' },\n    LightGreen: { hex: '90ee90', rgb: '144,238,144' },\n    PaleGreen: { hex: '98fb98', rgb: '152,251,152' },\n    DarkSeaGreen: { hex: '8fbc8f', rgb: '143,188,143' },\n    MediumSeaGreen: { hex: '3cb371', rgb: '60,179,113' },\n    SeaGreen: { hex: '2e8b57', rgb: '46,139,87' },\n    ForestGreen: { hex: '228b22', rgb: '34,139,34' },\n    Green: { hex: '008000', rgb: '0,128,0' },\n    DarkGreen: { hex: '006400', rgb: '0,100,0' },\n    MediumAquamarine: { hex: '66cdaa', rgb: '102,205,170' },\n    Aqua: { hex: '00ffff', rgb: '0,255,255' },\n    Cyan: { hex: '00ffff', rgb: '0,255,255' },\n    LightCyan: { hex: 'e0ffff', rgb: '224,255,255' },\n    PaleTurquoise: { hex: 'afeeee', rgb: '175,238,238' },\n    Aquamarine: { hex: '7fffd4', rgb: '127,255,212' },\n    Turquoise: { hex: '40e0d0', rgb: '64,224,208' },\n    MediumTurquoise: { hex: '48d1cc', rgb: '72,209,204' },\n    DarkTurquoise: { hex: '00ced1', rgb: '0,206,209' },\n    LightSeaGreen: { hex: '20b2aa', rgb: '32,178,170' },\n    CadetBlue: { hex: '5f9ea0', rgb: '95,158,160' },\n    DarkCyan: { hex: '008b8b', rgb: '0,139,139' },\n    Teal: { hex: '008080', rgb: '0,128,128' },\n    LightSteelBlue: { hex: 'b0c4de', rgb: '176,196,222' },\n    PowderBlue: { hex: 'b0e0e6', rgb: '176,224,230' },\n    LightBlue: { hex: 'add8e6', rgb: '173,216,230' },\n    SkyBlue: { hex: '87ceeb', rgb: '135,206,235' },\n    LightSkyBlue: { hex: '87cefa', rgb: '135,206,250' },\n    DeepSkyBlue: { hex: '00bfff', rgb: '0,191,255' },\n    DodgerBlue: { hex: '1e90ff', rgb: '30,144,255' },\n    CornflowerBlue: { hex: '6495ed', rgb: '100,149,237' },\n    SteelBlue: { hex: '4682b4', rgb: '70,130,180' },\n    RoyalBlue: { hex: '4169e1', rgb: '65,105,225' },\n    Blue: { hex: '0000ff', rgb: '0,0,255' },\n    MediumBlue: { hex: '0000cd', rgb: '0,0,205' },\n    DarkBlue: { hex: '00008b', rgb: '0,0,139' },\n    Navy: { hex: '000080', rgb: '0,0,128' },\n    MidnightBlue: { hex: '191970', rgb: '25,25,112' },\n    Lavender: { hex: 'e6e6fa', rgb: '230,230,250' },\n    Thistle: { hex: 'd8bfd8', rgb: '216,191,216' },\n    Plum: { hex: 'dda0dd', rgb: '221,160,221' },\n    Violet: { hex: 'ee82ee', rgb: '238,130,238' },\n    Orchid: { hex: 'da70d6', rgb: '218,112,214' },\n    Fuchsia: { hex: 'ff00ff', rgb: '255,0,255' },\n    Magenta: { hex: 'ff00ff', rgb: '255,0,255' },\n    MediumOrchid: { hex: 'ba55d3', rgb: '186,85,211' },\n    MediumPurple: { hex: '9370db', rgb: '147,112,219' },\n    BlueViolet: { hex: '8a2be2', rgb: '138,43,226' },\n    DarkViolet: { hex: '9400d3', rgb: '148,0,211' },\n    DarkOrchid: { hex: '9932cc', rgb: '153,50,204' },\n    DarkMagenta: { hex: '8b008b', rgb: '139,0,139' },\n    Purple: { hex: '800080', rgb: '128,0,128' },\n    Indigo: { hex: '4b0082', rgb: '75,0,130' },\n    DarkSlateBlue: { hex: '483d8b', rgb: '72,61,139' },\n    SlateBlue: { hex: '6a5acd', rgb: '106,90,205' },\n    MediumSlateBlue: { hex: '7b68ee', rgb: '123,104,238' },\n    White: { hex: 'ffffff', rgb: '255,255,255' },\n    Snow: { hex: 'fffafa', rgb: '255,250,250' },\n    Honeydew: { hex: 'f0fff0', rgb: '240,255,240' },\n    MintCream: { hex: 'f5fffa', rgb: '245,255,250' },\n    Azure: { hex: 'f0ffff', rgb: '240,255,255' },\n    AliceBlue: { hex: 'f0f8ff', rgb: '240,248,255' },\n    GhostWhite: { hex: 'f8f8ff', rgb: '248,248,255' },\n    WhiteSmoke: { hex: 'f5f5f5', rgb: '245,245,245' },\n    Seashell: { hex: 'fff5ee', rgb: '255,245,238' },\n    Beige: { hex: 'f5f5dc', rgb: '245,245,220' },\n    OldLace: { hex: 'fdf5e6', rgb: '253,245,230' },\n    FloralWhite: { hex: 'fffaf0', rgb: '255,250,240' },\n    Ivory: { hex: 'fffff0', rgb: '255,255,240' },\n    AntiqueWhite: { hex: 'faebd7', rgb: '250,235,215' },\n    Linen: { hex: 'faf0e6', rgb: '250,240,230' },\n    LavenderBlush: { hex: 'fff0f5', rgb: '255,240,245' },\n    MistyRose: { hex: 'ffe4e1', rgb: '255,228,225' },\n    Gainsboro: { hex: 'dcdcdc', rgb: '220,220,220' },\n    LightGray: { hex: 'd3d3d3', rgb: '211,211,211' },\n    Silver: { hex: 'c0c0c0', rgb: '192,192,192' },\n    DarkGrey: { hex: 'a9a9a9', rgb: '169,169,169' },\n    Grey: { hex: '808080', rgb: '128,128,128' },\n    DimGrey: { hex: '696969', rgb: '105,105,105' },\n    LightSlateGrey: { hex: '778899', rgb: '119,136,153' },\n    SlateGrey: { hex: '708090', rgb: '112,128,144' },\n    DarkSlateGrey: { hex: '2f4f4f', rgb: '47,79,79' },\n    Black: { hex: '000000', rgb: '0,0,0' }\n};\n","import { piecewiseInterpolator,\n        hslInterpolator,\n        sanitizeDomainWhenEqual, getReadableTicks } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, SEQUENTIAL, ORDINAL, QUANTILE } from '../enums/scale-type';\nimport { getHslString } from './props';\nimport { treatNullMeasures } from '../helper';\n\nconst getStops = (domain, stops) => {\n    let newStops = [];\n\n    if (stops instanceof Array) {\n        newStops = stops.slice().sort();\n        newStops = [...new Set([domain[0], ...stops, domain[1]])].sort();\n    } else {\n        newStops = getReadableTicks(domain, stops);\n    }\n    return { domain, newStops };\n};\n\nconst rangeStops = (newStopsLength, range) => {\n    let newRange = [];\n    const maxRangeLength = Math.min(range.length, 18);\n\n    if (newStopsLength > maxRangeLength) {\n        const interpolator = piecewiseInterpolator()(hslInterpolator(), range.map(e => getHslString(e)));\n        for (let i = 0; i < newStopsLength; i++) {\n            newRange[i] = interpolator(i / (newStopsLength - 1));\n        }\n    } else {\n        newRange = range.slice(0, newStopsLength);\n    }\n    return { newRange };\n};\n\n/**\n*\n*\n* @param {*} domain\n*\n*/\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst indexedDomainMeasure = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { domain, uniqueVals, scaleDomain: [0, 1], range };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst normalDomain = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain, nice: true, range };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} stops\n *\n */\nconst steppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(domain, stops);\n    const { newRange } = rangeStops(newStops.length - 1, range);\n\n    return { uniqueVals, domain: newStops, nice: true, range: newRange };\n};\n\nconst continousSteppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(sanitizeDomainWhenEqual(domain), range.length - 1);\n    const hslRange = range.map(e => getHslString(e));\n    return { uniqueVals, domain: newStops, nice: true, range: hslRange };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n *\n */\nconst uniqueRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    return scale(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n *\n */\nconst indexedRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n\n    return treatNullMeasures(domainValue, scale(numVal), scale(0));\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale, domain) => treatNullMeasures(domainValue, scale(domainValue),\n    scale(domain[0]));\n\n/**\n *\n *\n * @param {*} stops\n */\nconst strategies = () => ({\n    [`${CONTINOUS}-${CONTINOUS}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomain,\n        value: () => uniqueRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${ORDINAL}`]: {\n        scale: ORDINAL,\n        domainRange: () => normalDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}-${ORDINAL}`]: {\n        scale: LINEAR,\n        domainRange: () => continousSteppedDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${ORDINAL}`]: {\n        scale: QUANTILE,\n        domainRange: () => steppedDomain,\n        value: () => normalRange\n\n    }\n});\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} stops\n */\nexport const strategyGetter = (domainType, rangeType, schemeType) =>\n    strategies()[`${domainType}-${rangeType}-${schemeType || ''}`];\n","import {\n    LINEAR\n} from '../enums/constants';\n/**\n * Set of default colors\n */\nexport const palette = [\n    '#1f77b4',\n    '#ff7f0e',\n    '#2ca02c',\n    '#d62728',\n    '#9467bd',\n    '#8c564b',\n    '#e377c2',\n    '#7f7f7f',\n    '#bcbd22',\n    '#17becf'\n];\n\nexport const DEFAULT_GRADIENT_COLOR = '#eaeaea';\n\nexport const DEFAULT_CONFIG = {\n    range: palette,\n    value: palette[0],\n    step: false,\n    stops: 5,\n    type: LINEAR\n};\n","export { default as ColorAxis } from './color-axis';\n","import { mergeRecursive, detectColor, hexToHsv, rgbToHsv, defaultValue } from 'muze-utils';\nimport { x11Colors } from './color-maps';\nimport { palette, DEFAULT_GRADIENT_COLOR, DEFAULT_CONFIG } from './defaults';\nimport { LINEAR, RGB, HEX, HSL, HSLA } from '../enums/constants';\n\nexport const getHslString = hslArr => `hsla(${hslArr[0] * 360},${hslArr[1] * 100}%,${hslArr[2] * 100}%,\\\n${hslArr[3] || 1})`;\n\nexport const convertToXllString = baseString => (baseString.split(' ') || [])\n                .reduce((x, e) => `${x}${e.charAt(0).toUpperCase()}${e.slice(1)}`, '');\n\nexport const getActualHslColor = (e, paletteColor) => {\n    let color = '';\n    if (typeof e === 'string') {\n        e = e.replace(/ /g, '');\n        e = e.toLowerCase();\n        if (detectColor(e) === HSL || detectColor(e) === HSLA) {\n            color = e.match(/(\\d+(\\.\\d+)?)/g);\n            color = [color[0] / 360, color[1] / 100, color[2] / 100, defaultValue(Number(color[3]), 1)];\n        } else if (detectColor(e) === HEX) {\n            color = hexToHsv(e);\n        } else if (detectColor(e) === RGB) {\n            const col = e.substring(e.indexOf('(') + 1, e.lastIndexOf(')')).split(/,\\s*/);\n            color = rgbToHsv(...col);\n        } else if (x11Colors[convertToXllString(e)]) {\n            color = rgbToHsv(...x11Colors[convertToXllString(e)].rgb.split(','));\n        }\n    } else if (!(e instanceof Array)) {\n        color = rgbToHsv(paletteColor);\n    } else {\n        color = e;\n    }\n    return color;\n};\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, config) => {\n            const defCon = mergeRecursive({}, context.constructor.defaultConfig());\n            if (config.type === LINEAR) {\n                config.range = config.range || [defCon.range[0]];\n                config.range = config.range.length > 1 ? config.range : [DEFAULT_GRADIENT_COLOR, ...config.range];\n            }\n            const oldConfig = mergeRecursive(defCon, context.config());\n            const newConfig = mergeRecursive(oldConfig, config);\n\n            if (newConfig.range instanceof Array) {\n                newConfig.range = newConfig.range.map((e, i) => getActualHslColor(e, palette[i]));\n                newConfig.stops = config.stops ?\n                                    config.stops :\n                                    config.range && config.range.length > 2 ?\n                                             config.range.length :\n                                                DEFAULT_CONFIG.stops;\n            }\n            newConfig.value = getActualHslColor(newConfig.value, newConfig.value);\n            return newConfig;\n        }\n    },\n    domain: {},\n    scale: {},\n    uniqueValues: {}\n};\n","import * as ScaleType from './enums/scale-type';\n\nconst DATA_TYPES = {\n    DIMENSION: 'dimension',\n    CATEGORICAL: 'categorical',\n    MEASURE: 'measure',\n    TEMPORAL: 'temporal'\n};\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    [DATA_TYPES.DIMENSION]: ScaleType.BAND,\n    [DATA_TYPES.MEASURE]: ScaleType.LINEAR,\n    [DATA_TYPES.TEMPORAL]: ScaleType.TIME\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { Symbols } from 'muze-utils';\nimport * as AxisOrientation from '../enums/axis-orientation';\n\n/**\n * @module Axis\n * This file exports constants that are used to reference axis orientations\n * in a consistent manner.\n */\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\n\n/**\n  * This object is used to associate the axis orientation with the d3 class\n  * used to represent that axis.\n  */\nexport const axisOrientationMap = {\n    [AxisOrientation.LEFT]: Symbols.axisLeft,\n    [AxisOrientation.BOTTOM]: Symbols.axisBottom,\n    [AxisOrientation.RIGHT]: Symbols.axisRight,\n    [AxisOrientation.TOP]: Symbols.axisTop\n};\n","export const CLASSPREFIX = 'muze';\n\nexport const CONTINOUS = 'continous';\nexport const DISCRETE = 'discrete';\nexport const SEQUENTIAL = 'sequential';\nexport const ORDINAL = 'ordinal';\nexport const LINEAR = 'linear';\nexport const BAND = 'band';\nexport const THRESHOLD = 'threshold';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\n\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\n\nexport const DOMAIN = 'domain';\nexport const HIDDEN = 'hidden';\nexport const NUMBER = 'number';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\n\nexport const RGB = 'rgb';\nexport const HEX = 'hex';\nexport const HSLA = 'hsla';\nexport const HSL = 'hsl';\n\nexport const DEFAULT_ANGLE_DOMAIN = [1];\nexport const MIN_NO_OF_TICKS = 2;\nexport const DEFAULT_NO_OF_TICKS = 10;\n\n","/**\n * @module axis\n * This file exports constants used to reference scale type\n * consistently throughout the project.\n */\nexport const LINEAR = 'linear';\nexport const BAND = 'band';\nexport const TIME = 'temporal';\nexport const COLOR = 'color';\nexport const ORDINAL = 'ordinal';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\nexport const LOG = 'log';\nexport const POW = 'pow';\nexport const IDENTITY = 'identity';\nexport const SEQUENTIAL = 'sequential';\nexport const THRESHOLD = 'threshold';\n","import { InvalidAwareTypes, getObjProp } from 'muze-utils';\n\nexport const treatNullMeasures = (domainVal, scaledVal, minDomainScaledVal) => {\n    if (domainVal instanceof InvalidAwareTypes) {\n        return minDomainScaledVal;\n    }\n    return scaledVal;\n};\n\nexport const resolveAxisConfig = (propVal, defaultVal, context) => {\n    const constructor = getObjProp(propVal, 'constructor');\n    switch (constructor) {\n    case Function:\n        return propVal(defaultVal, context);\n    case Array:\n        return propVal;\n    default:\n        return defaultVal;\n    }\n};\n\nexport const sanitiseConfigIntervals = (intervals) => {\n    if (intervals) {\n        return intervals;\n    }\n    return 5;\n};\n","/**\n * @module Axis\n * This file exports all the public methods and classes in the axis module.\n */\nimport * as AxisOrientation from './enums/axis-orientation';\nimport * as ScaleType from './enums/scale-type';\nimport './styles.scss';\n\nexport { SimpleAxis, ContinousAxis, BandAxis, TimeAxis } from './cartesian-axis';\nexport { ColorAxis } from './color-axis';\nexport { SizeAxis } from './size-axis';\nexport { ShapeAxis } from './shape-axis';\nexport { RadiusAxis, AngleAxis } from './polar-axis';\nexport { dataTypeScaleMap } from './data-type-scale-map';\nexport { AxisOrientation, ScaleType };\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, Symbols, mergeRecursive, generateGetterSetters } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_ANGLE_DOMAIN } from '../enums/constants';\nimport { PROPS } from './props';\nimport { resolveAxisConfig } from '../helper';\n\nconst { pie } = Symbols;\n\nconst createAngleValues = (context) => {\n    const angleData = context._angleFn(context._domain);\n    angleData.forEach((v) => {\n        v.startAngle -= Math.PI / 2;\n        v.endAngle -= Math.PI / 2;\n    });\n    context._angleValues = angleData.reduce((values, d) => {\n        const key = d.data;\n        !values[key] && (values[key] = []);\n        values[key].push(d);\n        return values;\n    }, {});\n};\n\n/**\n* This class is used to instantiate a AngleAxis.\n* @class AngleAxis\n*/\nexport default class AngleAxis {\n\n    /**\n     * Creates an instance of AngleAxis.\n     * @param {Object} config input parameters.\n     * @memberof AngleAxis\n     */\n    constructor (config = {}) {\n        this._id = getUniqueId();\n        generateGetterSetters(this, PROPS);\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n        this.config(config);\n        this._range = [0, 360];\n        this._angleFn = pie()\n                .value(d => (typeof d === 'string' ? 1 : d))\n                .sortValues(null);\n        this._angleValues = {};\n    }\n\n    static defaultConfig () {\n        return {};\n    }\n\n    createScale (strategy) {\n        const {\n            range\n        } = this.config();\n        return createScale({\n            type: strategy.scale,\n            range\n        });\n    }\n\n    getScaleValue (domainVal) {\n        return this._angleValues[domainVal];\n    }\n\n    padAngle (angle) {\n        this._angleFn = this._angleFn.padAngle(angle);\n    }\n\n    domain (...domainVal) {\n        if (domainVal.length) {\n            const { domain: customDomain } = this.config();\n            const domain = domainVal[0].length ? domainVal[0] : DEFAULT_ANGLE_DOMAIN;\n            this._domain = resolveAxisConfig(customDomain, domain, this);\n            createAngleValues(this);\n            return this;\n        }\n        return this._domain;\n    }\n\n    range (...range) {\n        if (range.length) {\n            const { range: customRange } = this.config();\n            this._range = resolveAxisConfig(customRange, range[0], this);\n            const domain = this.domain();\n            const [startAngle, endAngle] = this._range;\n            this._angleFn\n                    .startAngle((startAngle / 180) * Math.PI)\n                    .endAngle(Math.PI * endAngle / 180);\n            if (domain && domain.length) {\n                createAngleValues(this);\n            }\n            return this;\n        }\n        return this._range;\n    }\n}\n","export { default as AngleAxis } from './angle-axis';\nexport { default as RadiusAxis } from './radius-axis';\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, config) => mergeRecursive(context.config(), config),\n        preset: (context, config) => {\n            const { range, domain } = config;\n            range && context.range(range);\n            domain && context.domain(domain);\n        }\n    },\n    domain: {},\n    range: {}\n};\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, mergeRecursive, generateGetterSetters, sanitizeDomainWhenEqual } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { LINEAR } from '../../../visual-group/src/enums/constants';\nimport { PROPS } from './props';\nimport { resolveAxisConfig } from '../helper';\n\nconst adjustDomain = (context) => {\n    const minOuterRadius = context.config().minOuterRadius;\n    const domain = context._domain;\n    if (context._range.length) {\n        const scale = context._scale;\n        const value = scale.invert(minOuterRadius) - scale.invert(0);\n        context._domain = [domain[0] - value, domain[1]];\n        scale.domain(context._domain);\n    }\n};\n\n/**\n* This class is used to instantiate a RadiusAxis.\n* @class RadiusAxis\n*/\nexport default class RadiusAxis {\n\n    /**\n     * Creates an instance of RadiusAxis.\n     * @param {Object} config input parameters.\n     * @memberof RadiusAxis\n     */\n    constructor (config = {}) {\n        this._id = getUniqueId();\n        generateGetterSetters(this, PROPS);\n        this._range = [];\n        this._radiusFactor = 1;\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n        this.config(config);\n        this._scale = this.createScale({\n            scale: LINEAR\n        });\n    }\n\n    static defaultConfig () {\n        return {\n            padding: [0, 1],\n            minOuterRadius: 10\n        };\n    }\n\n    config (...params) {\n        if (params.length) {\n            const config = mergeRecursive(this.config(), params[0]);\n            this._config = config;\n            return this;\n        }\n        return this._config;\n    }\n\n    createScale (strategy) {\n        return createScale({\n            type: strategy.scale,\n            range: this.range()\n        });\n    }\n\n    domain (...domainVal) {\n        if (domainVal.length) {\n            const { domain: customDomain } = this.config();\n            let domain = resolveAxisConfig(customDomain, domainVal[0], this);\n            domain = sanitizeDomainWhenEqual(domain);\n            this._scale.domain(domain);\n            this._domain = domain;\n            adjustDomain(this);\n        }\n        return this._domain;\n    }\n\n    getInnerRadius (domainVal) {\n        if (domainVal === undefined) {\n            return this.range()[0];\n        }\n        return this._scale(domainVal);\n    }\n\n    getOuterRadius (domainVal) {\n        if (domainVal === undefined) {\n            return this.range()[1];\n        }\n        const radius = this._scale(domainVal) * this._radiusFactor;\n        return radius;\n    }\n\n    range (...range) {\n        if (range.length) {\n            const { padding, range: customRange } = this.config();\n            const sanitizedRange = range[0].map((v, i) => v + (i ? -padding[i] : padding[i]));\n            const rangeVal = resolveAxisConfig(customRange, sanitizedRange, this);\n            this._range = rangeVal;\n            this._scale.range(rangeVal);\n            adjustDomain(this);\n        }\n        return this._range;\n    }\n\n    setRadiusFactor (val) {\n        this._radiusFactor = val;\n        return this;\n    }\n}\n","import { scales, colorSchemes } from 'muze-utils';\n\nimport {\n    SEQUENTIAL,\n    ORDINAL,\n    LINEAR,\n    CONTINOUS,\n    THRESHOLD,\n    QUANTIZE\n} from './enums/constants';\n\nimport * as ScaleType from './enums/scale-type';\n\nconst {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} = scales;\nexport const scaleMap = {\n    [ScaleType.LINEAR]: scaleLinear,\n    [ScaleType.BAND]: scaleBand,\n    [ScaleType.QUANTIZE]: scaleQuantize,\n    [ScaleType.QUANTILE]: scaleQuantile,\n    [ScaleType.THRESHOLD]: scaleThreshold,\n    [ScaleType.SEQUENTIAL]: scaleSequential,\n    [ScaleType.LOG]: scaleLog,\n    [ScaleType.POW]: scalePow,\n    [ScaleType.IDENTITY]: scaleIdentity,\n    [ScaleType.TIME]: scaleTime,\n    [ScaleType.COLOR]: scaleLinear,\n    [ScaleType.ORDINAL]: scaleOrdinal\n};\nexport const SCHEMES = {\n    SCHEME1: schemeCategory10,\n    SCHEME2: schemeCategory20,\n    SCHEME3: schemeCategory20b\n};\n\n/**\n * Accepts a scheme in a string format and returns the scale from d3-scale-chromatic\n *\n * @export\n * @param {string} scheme a string representing the kind of scheme for the color axis\n * @return {Object} The corresponding scale from a scheme type from d3 chromatic scale\n */\nexport function getScheme (scheme) {\n    if (scheme[0] === 'i') {\n        return scaleSequential(colorSchemes[scheme]);\n    }\n    return scaleOrdinal(colorSchemes[scheme]);\n}\n\n/**\n *\n *\n * @export\n * @param {*} scheme\n *\n */\nexport function getSchemeType (scheme) {\n    let schemeType = '';\n    if (scheme && typeof (scheme) === 'string') {\n        schemeType = scheme[0] === 'i' ? SEQUENTIAL : ORDINAL;\n    } else {\n        schemeType = ORDINAL;\n    }\n    return schemeType;\n}\n\n/**\n * This function is used to create a scale that is assigned to\n * an instance of axis.\n *\n * @export\n * @param {Object} params the input parameters to create a Scale object\n * @param {string} params.type the type of scale\n * @param {Array} params.range the range of scale\n * @return {Object} instance of scale\n */\nexport function createScale (params) {\n    if (!params.type || !scaleMap[params.type]) {\n        throw new Error(`${params.type} is not a valid scale type`);\n    }\n    if (!Array.isArray(params.range)) {\n        throw new Error('range parameter must be an array');\n    }\n    let scaleFactory = null;\n    const range = params.range;\n    // @todo: do it using scale decorator\n    if (params.type === LINEAR && params.interpolator) {\n        scaleFactory = scaleMap[params.interpolator];\n        if (params.interpolator === ScaleType.POW) {\n            return scaleFactory().range(range).exponent(params.exponent);\n        } else if (params.interpolator === ScaleType.LOG) {\n            return scaleFactory().range(range).base([params.base]);\n        }\n    } else {\n        scaleFactory = scaleMap[params.type];\n    }\n\n    if (params.type === QUANTIZE) {\n        scaleFactory().nice();\n    }\n    return scaleFactory().range(range);\n}\n\n/**\n * This method is used to update the range of a scale\n * so that the core module can remain agnostic of the d3\n * scale api.\n *\n * @export\n * @param {Scale} scale Instance of d3 Scale.\n * @param {Array} range new range of the scale.\n * @return {Scale} Updated scale.\n */\nexport function updateScaleRange (scale, range) {\n    return scale.range(range);\n}\n\n/**\n *\n *\n * @export\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} steps\n *\n */\nexport function getScaleType (domainType, rangeType, steps) {\n    if (rangeType === CONTINOUS) {\n        return LINEAR;\n    }\n    if (domainType === CONTINOUS) {\n        if (steps instanceof Array) {\n            return THRESHOLD;\n        }\n        return QUANTIZE;\n    }\n    return ORDINAL;\n}\n","export const DEFAULT_CONFIG = {\n    generator: null,\n    value: 'circle',\n    range: ['circle', 'diamond', 'star', 'cross', 'square', 'wye', 'triangle']\n};\n","/**\n *\n *\n * @param {*} domain\n * @param {*} generatorFn\n *\n */\nexport const shapeGenerator = (domain, generatorFn) => {\n    const generatedShapes = {};\n    domain.forEach((value) => {\n        generatedShapes[value] = generatorFn(value);\n    });\n    return generatedShapes;\n};\n","export { default as ShapeAxis } from './shape-axis';\n","export const PROPS = {\n    config: {},\n    domain: {},\n    scale: {},\n    uniqueValues: {},\n    generator: {}\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, getSymbol, generateGetterSetters, mergeRecursive, InvalidAwareTypes } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SHAPE } from '../enums/constants';\nimport { shapeGenerator } from './helper';\nimport { PROPS } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ShapeAxis {\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} params input parameters.\n    * @param {Object | undefined} params.range Type of color scheme.\n    * @memberof ShapeAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this._config = Object.assign({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(this._config, config);\n\n        this._scale = createScale({\n            type: 'ordinal',\n            range: this._config.range\n        });\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SHAPE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} value\n     *\n     * @memberof ShapeAxis\n     */\n    getShape (value) {\n        if (!this.scale() || !this.domain() || !value || value instanceof InvalidAwareTypes) {\n            return this.config().value;\n        }\n\n        if (this._generatedShapes) {\n            return this._generatedShapes[value];\n        }\n\n        const shapeType = this.scale()(value);\n        if (shapeType === 'string') {\n            return getSymbol(shapeType);\n        }\n\n        return shapeType;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof ShapeAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            this.uniqueValues(domain);\n            this.domain(domain);\n            this.scale().domain(domain);\n\n            if (this.config().generator) {\n                this._generatedShapes = shapeGenerator(domain, this.config().generator);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.config().range,\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","export const DEFAULT_CONFIG = {\n    value: 51,\n    range: [51, 1000]\n};\n","export { default as SizeAxis } from './size-axis';\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => {\n            context._userRange = value.range;\n            return mergeRecursive(context._config || {}, value);\n        }\n    },\n    domain: {\n        sanitization: (context, value) => {\n            context.scale().domain(value);\n            return value;\n        }\n    },\n    range: {},\n    scale: {},\n    uniqueValues: {}\n};\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SIZE, CONTINOUS, DISCRETE } from '../enums/constants';\nimport { strategyGetter } from './size-strategy';\nimport { PROPS } from './props';\nimport { sanitiseConfigIntervals } from '../helper';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class SizeAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @param {Object} config input parameters.\n     * @memberof SizeAxis\n     */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this.config(this.constructor.defaultConfig());\n        this.config(config);\n        // @todo: Will use configuration override using scale decorator\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n\n        this._config.range = this._userRange ? this._userRange : this._config.range;\n\n        this._config.stops = sanitiseConfigIntervals(this._config.stops);\n        this._rangeType = this._config.type === 'linear' && !!this._config.stops ? DISCRETE : CONTINOUS;\n\n        this._sizeStrategy = this.setStrategy(this._domainType, this._rangeType);\n        this._scale = this.createScale(this._sizeStrategy);\n        this._range = this._config.range;\n\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     *\n     * @memberof ColorAxis\n     */\n    setStrategy (domainType, rangeType) {\n        return strategyGetter(domainType, rangeType);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SizeAxis\n     */\n    createScale (strategy) {\n        const {\n            range\n        } = this.config();\n        return createScale({\n            type: strategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SIZE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof SizeAxis\n     */\n    getSize (domainVal = 0) {\n        let sizeVal = 1;\n        const {\n            value\n        } = this.config();\n        const scale = this.scale();\n        const domain = this.domain() || [1, 1];\n\n        if (!scale || domain[0] === domain[1]) {\n            sizeVal = value;\n        } else {\n            return this._sizeStrategy.range(domainVal, scale, this.domain(), this.uniqueValues());\n        }\n        return sizeVal;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SizeAxis\n     */\n    updateDomain (domain) {\n        if (domain) {\n            const domainFn = this._sizeStrategy.domain;\n\n            const domainInfo = domainFn(domain, this.config().stops);\n\n            this.domain(domainInfo.domain);\n            this.uniqueValues(domainInfo.uniqueVals);\n\n            this.scale().domain(domainInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","import { numberInterpolator, piecewiseInterpolator, getReadableTicks } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, THRESHOLD } from '../enums/scale-type';\nimport { treatNullMeasures } from '../helper';\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst normalDomain = (domain) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} intervals\n *\n */\nconst steppedDomain = (domain, intervals) => {\n    let newIntervals = [];\n    if (intervals instanceof Array) {\n        newIntervals = intervals.slice().sort();\n    } else {\n        // const interpolator = numberInterpolator()(...domain);\n        // for (let i = 0; i < intervals; i++) {\n        //     newIntervals[i] = interpolator(i / (intervals - 1));\n        // }\n        newIntervals = getReadableTicks(domain, intervals);\n    }\n    // if (newIntervals[0] < domain[0]) {\n    //     newIntervals.shift();\n    // }\n    const retDomain = newIntervals;\n    return { uniqueVals: newIntervals, domain: retDomain, nice: true };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n *\n */\nconst discreteRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n    const interpolator = numberInterpolator()(...scale.range());\n    return treatNullMeasures(domainValue, interpolator(numVal), interpolator(domain[0]));\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n *\n */\nconst pieceWiseRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    const fn = piecewiseInterpolator()(numberInterpolator(), [...scale.range()]);\n    return fn(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale, domain) =>\n    treatNullMeasures(domainValue, scale(domainValue), scale(domain[0]));\n\n/**\n *\n *\n * @param {*} intervals\n */\nconst strategies = {\n    [`${DISCRETE}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: indexedDomain,\n        range: pieceWiseRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: normalDomain,\n        range: normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}`]: {\n        scale: THRESHOLD,\n        domain: steppedDomain,\n        range: discreteRange\n    }\n};\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} intervals\n */\nexport const strategyGetter = (domainType, rangeType) =>\n     strategies[`${domainType}-${rangeType}`];\n","// extracted by mini-css-extract-plugin","import VolatileBehaviour from './volatile';\nimport * as BEHAVIOURNAMES from '../../enums/behaviours';\n\n/**\n * This is the behaviour for brushing a region on the chart. It accepts a payload\n * which contains the x and y range of the data and other configuration. It will then\n * create a selection box from the range and select the points which fall within the range.\n */\nexport default class BrushBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return BEHAVIOURNAMES.BRUSH;\n    }\n}\n","import VolatileBehaviour from './volatile';\nimport { FILTER } from '../../enums/behaviours';\n\nexport default class FilterBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return FILTER;\n    }\n\n    static mutates () {\n        return true;\n    }\n}\n","import {\n    isSimpleObject,\n    DimensionSubtype,\n    partition,\n    ReservedFields,\n    retrieveNearestGroupByReducers\n} from 'muze-utils';\nimport { getMergedSet, getSourceFields } from '../../helper';\n\nexport const getIdentifiersFromSet = (set, context, { fields }) => {\n    const data = [[]];\n\n    if (fields.length) {\n        data[0] = fields;\n        set.forEach(id => data.push(id));\n    }\n    return data;\n};\n\n/**\n * This is the base class has all the common functionalities needed for all behavioural actions. Any other behavioural\n * action needs to extend this class.\n *\n * @public\n * @class GenericBehaviour\n * @module GenericBehaviour\n */\nexport default class GenericBehaviour {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n    }\n\n    /**\n     * Returns entry and exit set information. This method is called by firebolt when ```dispatchBehaviour``` is called\n     * dynamically or when any physical action is triggered on the chart.\n     *\n     * @param {Object} payload Payload information.\n     * @param {Object|Array} payload.criteria Identifiers of data interacted with.\n     *\n     * @return {Array} Entry and exit set information.\n     */\n    dispatch (payload) {\n        const criteria = payload.criteria;\n        const firebolt = this.firebolt;\n        const formalName = this.constructor.formalName();\n        const selectionSets = firebolt.getSelectionSets(formalName);\n        const {\n            model: filteredDataModel,\n            uids\n        } = this.getAddSetFromCriteria(criteria, this.firebolt.getPropagationInf());\n        this._payload = payload;\n\n        selectionSets.forEach((selectionSet) => {\n            this.setSelectionSet(uids, selectionSet, {\n                filteredDataModel,\n                payload\n            });\n\n            selectionSet._volatile && this.propagationIdentifiers(selectionSet, payload);\n            this.entryExitSet(selectionSet, filteredDataModel, payload);\n        });\n    }\n\n    getAddSetFromCriteria (...params) {\n        return this.firebolt.getAddSetFromCriteria(...params);\n    }\n\n    /**\n     * Updates the selection set by adding uids to the instance of {@link SelectionSet} or removing them.\n     * {@link SelectionSet} keeps the information of which rows are in the entry set and exit set.\n     *\n     * @public\n     * @param {Array} addSet Array of row ids which got affected during interaction.\n     * @param {SelectionSet} selectionSet Instance of selection set.\n     *\n     * @return {GenericBehaviour} Instance of behaviour.\n     */\n    setSelectionSet () {\n        return this;\n    }\n\n    entryExitSet (...params) {\n        if (params.length) {\n            const [selectionSet, filteredDataModel, payload] = params;\n            const {\n                entrySet,\n                exitSet,\n                completeSet\n            } = selectionSet.getSets();\n            const propagationInf = this.firebolt.getPropagationInf();\n\n            this._entryExitSet = {\n                entrySet: [this.getSetInfo('oldEntry', entrySet[0], filteredDataModel),\n                    this.getSetInfo('newEntry', entrySet[1], filteredDataModel)],\n                exitSet: [this.getSetInfo('oldEntry', exitSet[0], filteredDataModel),\n                    this.getSetInfo('newExit', exitSet[1], filteredDataModel)],\n                mergedEnter: this.getSetInfo('mergedEnter', getMergedSet(entrySet), filteredDataModel,\n                    selectionSet._fields),\n                mergedExit: this.getSetInfo('mergedExit', getMergedSet(exitSet), filteredDataModel,\n                    selectionSet._fields),\n                completeSet: this.getSetInfo('complete', completeSet, filteredDataModel, selectionSet._fields),\n                fields: getSourceFields(propagationInf, payload.criteria)\n            };\n\n            return this;\n        }\n        return this._entryExitSet;\n    }\n\n    getSetInfo (type, set, filteredDataModel, setFields) {\n        let model = null;\n        const data = this.firebolt.data();\n\n        if (type === 'mergedEnter') {\n            model = filteredDataModel || null;\n        } else if (type === 'mergedExit') {\n            if (filteredDataModel) {\n                const setKeys = new Set(set.map(d => d[0]));\n                model = data.select((fields, i) => setKeys.has(setFields.map(field =>\n                        (field === ReservedFields.ROW_ID ? i : fields[field].value))), {\n                            saveChild: false\n                        });\n            }\n            model = filteredDataModel || null;\n        }\n        const aggFns = retrieveNearestGroupByReducers(model);\n\n        return {\n            uids: set,\n            length: set.length,\n            model,\n            fields: setFields,\n            aggFns\n        };\n    }\n\n    propagationIdentifiers (...params) {\n        if (params.length) {\n            let propData = null;\n            const [selectionSet, payload] = params;\n            const fieldsConfig = this.firebolt.data().getFieldsConfig();\n            const { criteria } = payload;\n            const propagationFields = this._propagationFields;\n\n            if (selectionSet.resetted() || criteria === null) {\n                propData = null;\n            } else if (isSimpleObject(criteria)) {\n                const fields = Object.keys(criteria);\n                const [, otherFields] =\n                    partition(fields, (d => (fieldsConfig[d] ? fieldsConfig[d].def.subtype ===\n                        DimensionSubtype.CATEGORICAL : d === ReservedFields.MEASURE_NAMES)));\n                const allFields = selectionSet._fields.filter(d => d === ReservedFields.ROW_ID ||\n                    fieldsConfig[d].def.subtype ===\n                    DimensionSubtype.CATEGORICAL\n                );\n                const { mergedEnter } = selectionSet.getSets({ keepDims: true, dimensions: allFields });\n                propData = {\n                    fields: fields.map(d => (fieldsConfig[d] ? fieldsConfig[d].def : {\n                        name: d\n                    })),\n                    range: this.firebolt.getRangeFromIdentifiers({\n                        criteria,\n                        entrySet: mergedEnter,\n                        fields: otherFields\n                    }),\n                    identifiers: [[...allFields, ReservedFields.MEASURE_NAMES], ...mergedEnter]\n                };\n            } else {\n                const { mergedEnter } = selectionSet.getSets({ keepDims: true,\n                    dimensions: propagationFields });\n                const fields = propagationFields ? [...propagationFields, ReservedFields.MEASURE_NAMES] :\n                    criteria[0];\n\n                propData = {\n                    fields: fields.map(d => (fieldsConfig[d] ? fieldsConfig[d].def : {\n                        name: d\n                    })),\n                    identifiers: [fields, ...mergedEnter]\n                };\n            }\n            this._propagationIdentifiers = propData;\n            return this;\n        }\n        return this._propagationIdentifiers;\n    }\n\n    static mutates () {\n        return false;\n    }\n\n    enable () {\n        this._enabled = true;\n    }\n\n    disable () {\n        this._enabled = false;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n\n    propagateWith (...params) {\n        this._propagationFields = params[0];\n\n        return this;\n    }\n}\n\n","import VolatileBehaviour from './volatile';\nimport { HIGHLIGHT } from '../../enums/behaviours';\n\nexport default class HighlightBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return HIGHLIGHT;\n    }\n}\n","export { default as HighlightBeahviour } from './highlight';\nexport { default as BrushBehaviour } from './brush';\nexport { default as FilterBehaviour } from './filter';\nexport { default as SelectBehaviour } from './select';\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class PersistentBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else {\n            const propagationInf = this.firebolt.getPropagationInf();\n            // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            if (propagationInf.sourceId) {\n                selectionSet.updateExit();\n                const { entrySet } = selectionSet.getSets({ keepDims: true });\n                selectionSet.reset(getMergedSet(entrySet));\n                selectionSet.add(addSet);\n                selectionSet.update(existingAddSet);\n            } else {\n                selectionSet.updateEntry();\n                selectionSet.add(addSet);\n            }\n        }\n\n        return this;\n    }\n}\n","import PersistentBehaviour from './persistent';\nimport { SELECT } from '../../enums/behaviours';\nimport { SELECTION } from '../..';\nimport { getMergedSet } from '../../helper';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return SELECT;\n    }\n\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            const propagationInf = this.firebolt.getPropagationInf();\n            // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            if (propagationInf.sourceId) {\n                selectionSet.updateExit();\n                const { entrySet } = selectionSet.getSets({ keepDims: true });\n                selectionSet.reset(getMergedSet(entrySet));\n                selectionSet.add(addSet);\n                selectionSet.update(existingAddSet);\n            } else {\n                // existing add set\n                if (existingAddSet.length) {\n                    selectionSet.updateExit();\n                    selectionSet.remove(existingAddSet);\n                } else {\n                    selectionSet.updateEntry();\n                    selectionSet.add(addSet);\n                }\n                const { exitSet } = selectionSet.getSets({ keepDims: true });\n                const mergedExitSet = getMergedSet(exitSet);\n                const completeSetCount = selectionSet.getCompleteSet().length;\n                if (mergedExitSet.length === completeSetCount) {\n                    selectionSet.reset();\n                }\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n\n        return this;\n    }\n}\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class VolatileBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n                // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                    || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            selectionSet.updateExit();\n            const { entrySet } = selectionSet.getSets({ keepDims: true });\n            selectionSet.reset(getMergedSet(entrySet));\n            selectionSet.add(addSet);\n            selectionSet.update(existingAddSet);\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n    }\n}\n","import { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\nimport * as ACTION_NAMES from '../../enums/actions';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const click = firebolt => (targetEl) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        firebolt.triggerPhysicalAction(ACTION_NAMES.CLICK, payload);\n        event.stopPropagation();\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\nexport default click;\n","import { attachDragEvent } from './helpers/drag-event';\nimport * as ACTION_NAMES from '../../enums/actions';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl) => {\n    attachDragEvent(targetEl, ACTION_NAMES.DRAG, firebolt);\n};\n\nexport default drag;\n","import { COORD_TYPES } from 'muze-utils';\n\nconst dragCriteriaRetriever = {\n    [COORD_TYPES.CARTESIAN]: (firebolt, sourceInfo, { startPos, endPos }) => {\n        if (startPos.x === endPos.x && startPos.y === endPos.y) {\n            return {\n                criteria: null\n            };\n        }\n        const ranges = firebolt.context.getRangeFromPositions({\n            startPos,\n            endPos\n        });\n        const dimensions = {};\n        dimensions.x = [startPos.x, endPos.x];\n        dimensions.y = [startPos.y, endPos.y];\n        return {\n            criteria: ranges,\n            dimensions\n        };\n    },\n    [COORD_TYPES.POLAR]: () => ({\n        criteria: null\n    })\n};\n\n/**\n * Gets the drag action configuration\n * @param {VisualUnit} instance instance of visual unit\n * @param {Object} config x y positions\n * @return {Object} Payload of behaviour\n*/\n/* istanbul ignore next */ const getDragActionConfig = (firebolt, config) => {\n    const context = firebolt.context;\n    const sourceInfo = context.getSourceInfo();\n    const coordType = context.coord();\n    return dragCriteriaRetriever[coordType](firebolt, sourceInfo, config);\n};\n\nexport default getDragActionConfig;\n","import {\n    getEvent,\n    getD3Drag\n} from 'muze-utils';\nimport getDragActionConfig from './drag-action-config';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const attachDragEvent = (targetEl, action, firebolt, touch) => {\n    let startPos = {};\n    let endPos = {};\n    let drawingInf;\n\n    const d3Drag = getD3Drag();\n    let touchStart;\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n        drawingInf = firebolt.context.getDrawingContext();\n        touchStart = new Date().getTime();\n    }).on('drag', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n\n        if (touch && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n        const newStartPos = Object.assign({}, startPos);\n        const newEndPos = Object.assign({}, endPos);\n        if (startPos.x > endPos.x) {\n            newStartPos.x = endPos.x;\n            newEndPos.x = startPos.x;\n        }\n\n        if (startPos.y > endPos.y) {\n            const y = startPos.y;\n            newStartPos.y = endPos.y;\n            newEndPos.y = y;\n        }\n        const payload = getDragActionConfig(firebolt, {\n            startPos: newStartPos,\n            endPos: newEndPos\n        });\n        payload.dragging = true;\n        payload.dragDiff = Math.abs(startPos.x - endPos.x) + Math.abs(startPos.y - endPos.y);\n        firebolt.triggerPhysicalAction(action, payload);\n    }).on('end', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        const duration = new Date().getTime() - touchStart;\n\n        if (touch && duration > 100 && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n        if (startPos.x > endPos.x) {\n            const x = startPos.x;\n            startPos.x = endPos.x;\n            endPos.x = x;\n        }\n\n        if (startPos.y > endPos.y) {\n            const y = startPos.y;\n            startPos.y = endPos.y;\n            endPos.y = y;\n        }\n\n        const payload = getDragActionConfig(firebolt, {\n            startPos,\n            endPos\n        });\n        payload.dragEnd = true;\n        payload.hideSelBox = true;\n        firebolt.triggerPhysicalAction(action, payload);\n    }));\n};\n\n","import { getClientPoint } from 'muze-utils';\n\nexport const generatePayloadFromEvent = function (args, event, firebolt) {\n    const context = firebolt.context;\n    const pos = getClientPoint(context.getDrawingContext().svgContainer, event.touches ? event.touches[0] : event);\n    const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n        data: args,\n        event\n    });\n    return {\n        criteria: nearestPoint ? nearestPoint.id : null,\n        showInPosition: nearestPoint.showInPosition,\n        target: nearestPoint.target,\n        position: pos\n    };\n};\n","import { getClientPoint, getEvent } from 'muze-utils';\nimport * as ACTION_NAMES from '../../enums/actions';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} instance instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const context = firebolt.context;\n        const tooltipConf = context.config().interaction.tooltip;\n        const mode = tooltipConf.mode;\n        const pos = getClientPoint(context.getDrawingContext().svgContainer, event);\n        const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n            getAllPoints: true,\n            data: args,\n            event\n        });\n        const payload = {\n            criteria: nearestPoint ? nearestPoint.id : null,\n            getAllPoints: false,\n            showInPosition: nearestPoint.showInPosition,\n            target: nearestPoint.target,\n            position: pos,\n            mode\n        };\n\n        firebolt.triggerPhysicalAction(ACTION_NAMES.HOVER, payload);\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        firebolt.triggerPhysicalAction(ACTION_NAMES.HOVER, {\n                            criteria: null\n                        });\n                    });\n};\n\nexport default hover;\n","import drag from './drag';\nimport hover from './hover';\nimport { longtouch } from './longtouch';\nimport { touchdrag } from './touch-drag';\nimport { selectionBoxDrag } from './selection-box-drag';\nimport * as ACTION_NAMES from '../../enums/actions';\nimport click from './click';\n\nexport const physicalActions = {\n    [ACTION_NAMES.DRAG]: drag,\n    [ACTION_NAMES.HOVER]: hover,\n    [ACTION_NAMES.CLICK]: click,\n    [ACTION_NAMES.LONGTOUCH]: longtouch,\n    [ACTION_NAMES.TOUCHDRAG]: touchdrag,\n    [ACTION_NAMES.SELECTIONDRAG]: selectionBoxDrag\n};\n\n","/* global setTimeout */\nimport { getEvent } from 'muze-utils';\nimport * as ACTION_NAMES from '../../enums/actions';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nexport const longtouch = firebolt => (targetEl) => {\n    let event;\n    let touchEnd;\n    const dispatchBehaviour = function (args) {\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        firebolt.triggerPhysicalAction(ACTION_NAMES.LONGTOUCH, payload);\n        event.stopPropagation();\n    };\n\n    touchEnd = false;\n    event = getEvent();\n    targetEl.on('touchstart', (args) => {\n        event = getEvent();\n        touchEnd = false;\n        setTimeout(() => {\n            if (!touchEnd) {\n                dispatchBehaviour(args);\n            } else {\n                firebolt.triggerPhysicalAction(ACTION_NAMES.LONGTOUCH, {\n                    criteria: null\n                });\n            }\n        }, 100);\n    }).on('touchend', () => {\n        touchEnd = true;\n    });\n};\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\nimport getDragActionConfig from './helpers/drag-action-config';\nimport { ACTIONS } from '../..';\n\nexport const selectionBoxDrag = firebolt => (targetEl) => {\n    let subject;\n    let drawingInf;\n    const context = firebolt.context;\n    const onDrag = (payload) => {\n        firebolt.triggerPhysicalAction(ACTIONS.SELECTIONDRAG, payload);\n    };\n    const d3Drag = getD3Drag();\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        drawingInf = context.getDrawingContext();\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        subject.x += event.dx;\n        subject.y += event.dy;\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(firebolt, {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                }\n            });\n            onDrag(payload);\n        }\n    }).on('end', () => {\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(firebolt, {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                }\n            });\n            payload.dragEnd = true;\n            onDrag(payload);\n        }\n    }));\n};\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const touchdrag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt, true);\n};\n\n","import { intersect } from 'muze-utils';\nimport * as BEHAVIOURS from './enums/behaviours';\nimport * as SIDE_EFFECTS from './enums/side-effects';\nimport { unionSets } from './helper';\n\nconst nullDataTooltipMap = {\n    area: true,\n    arc: false,\n    line: true,\n    text: false,\n    point: false,\n    bar: false,\n    tick: false\n};\n\nconst applySideEffectOnEmptyTarget = (sideEffect, { target }) => {\n    const layers = sideEffect.layers();\n    const showTooltipOnEmptyTarget = layers.some((l) => {\n        const layerName = l.constructor.formalName();\n        return nullDataTooltipMap[layerName];\n    });\n    return showTooltipOnEmptyTarget || target;\n};\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: ['selectionBox', {\n        name: 'highlighter',\n        options: {\n            strategy: 'fadeOnBrush'\n        }\n    }, 'brush-anchors'],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'highlight'\n        }\n    }, 'crossline', {\n        name: 'tooltip',\n        options: {\n            setTransform: (selectionSet, payload, sideEffect) => {\n                if (sideEffect.firebolt._actions.behavioural.brush.active) {\n                    return null;\n                }\n                if (applySideEffectOnEmptyTarget(sideEffect, payload)) {\n                    return selectionSet;\n                }\n                return null;\n            }\n        }\n    }, 'anchors', {\n        name: 'tooltip',\n        options: {\n            strategy: 'selectionSummary',\n            setTransform: (selectionSet, payload, sideEffect) => {\n                if (sideEffect.firebolt._actions.behavioural.brush.active === true ||\n                        !applySideEffectOnEmptyTarget(sideEffect, payload)) {\n                    return null;\n                }\n                const selectEntrySet = sideEffect.firebolt.getEntryExitSet(BEHAVIOURS.SELECT);\n                const brushEntrySet = sideEffect.firebolt.getEntryExitSet(BEHAVIOURS.BRUSH);\n                if (selectEntrySet || brushEntrySet) {\n                    const unionedSet = unionSets(sideEffect.firebolt, [BEHAVIOURS.SELECT, BEHAVIOURS.BRUSH]);\n                    const { uids } = unionedSet.mergedEnter;\n                    const { uids: highlightUids } = selectionSet.mergedEnter;\n\n                    if (intersect(uids, highlightUids, [id => id[0], id => id[0]]).length) {\n                        return unionedSet;\n                    }\n                }\n\n                return null;\n            }\n        }\n    }, {\n        name: SIDE_EFFECTS.AXIS_LABEL_HIGHLIGHTER,\n        options: {\n            setTransform: (selectionSet, payload, sideEffect) => {\n                if (sideEffect.firebolt._actions.behavioural.brush.active) {\n                    return null;\n                }\n                if (applySideEffectOnEmptyTarget(sideEffect, payload)) {\n                    return selectionSet;\n                }\n                return null;\n            }\n        }\n    }],\n    [BEHAVIOURS.FILTER]: ['filter'],\n    [BEHAVIOURS.SELECT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'focus'\n        }\n    }, 'persistent-anchors', {\n        name: 'tooltip',\n        options: {\n            strategy: 'selectionSummary'\n        }\n    }],\n    pseudoSelect: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'pseudoFocus'\n        }\n    }]\n};\n","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\nexport const LONGTOUCH = 'longtouch';\nexport const TOUCHDRAG = 'touchdrag';\nexport const ALL_ACTIONS = '*';\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n","export const CLASSPREFIX = 'muze';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const NULL = 'null';\nexport const UNDEFINED = 'undefined';\n","const SELECTION_NEW_ENTRY = 1;\nconst SELECTION_NEW_EXIT = -1;\nconst SELECTION_NULL = 0;\nconst SELECTION_OLD_ENTRY = 2;\nconst SELECTION_OLD_EXIT = -2;\n\nexport {\n    SELECTION_NEW_ENTRY,\n    SELECTION_NEW_EXIT,\n    SELECTION_NULL,\n    SELECTION_OLD_ENTRY,\n    SELECTION_OLD_EXIT\n};\n","const ANCHORS = 'anchors';\nconst TOOLTIP = 'tooltip';\nconst BRUSH_ANCHORS = 'brush-anchors';\nconst PERSISTENT_ANCHORS = 'persistent-anchors';\nconst FILTER = 'filter';\nconst HIGHLIGHTER = 'highlighter';\nconst CROSSLINE = 'crossline';\nconst FRAGMENTED_TOOLTIP = 'fragmented-tooltip';\nconst AXIS_LABEL_HIGHLIGHTER = 'axis-label-highlighter';\n\nexport {\n    ANCHORS,\n    BRUSH_ANCHORS,\n    PERSISTENT_ANCHORS,\n    FILTER,\n    HIGHLIGHTER,\n    CROSSLINE,\n    TOOLTIP,\n    FRAGMENTED_TOOLTIP,\n    AXIS_LABEL_HIGHLIGHTER\n};\n","export const SELECTION_SUMMARY = 'selectionSummary';\nexport const HIGHLIGHT_SUMMARY = 'highlightSummary';\n","import {\n    mergeRecursive,\n    hasTouch,\n    selectElement,\n    isSimpleObject,\n    getDataModelFromRange,\n    ReservedFields,\n    FieldType,\n    defaultValue\n} from 'muze-utils';\nimport { ALL_ACTIONS } from './enums/actions';\nimport SelectionSet from './selection-set';\nimport {\n    initializeBehaviouralActions,\n    initializeSideEffects,\n    changeSideEffectAvailability,\n    initializePhysicalActions,\n    unionSets,\n    getSideEffects,\n    setSideEffectConfig\n} from './helper';\n\nconst cloneObj = (behaviourEffectMap) => {\n    const keys = Object.keys(behaviourEffectMap);\n\n    return keys.reduce((acc, key) => {\n        const value = behaviourEffectMap[key];\n        const cloned = value.map((d) => {\n            let clonedVal = d;\n            if (isSimpleObject(d)) {\n                clonedVal = mergeRecursive({}, d);\n            }\n            return clonedVal;\n        });\n        acc[key] = cloned;\n        return acc;\n    }, {});\n};\n\nconst getKeysFromCriteria = (criteria, firebolt) => {\n    if (criteria) {\n        const data = firebolt.data();\n        const { dimensionsMap, dimensions: dimArr } = firebolt._metaData;\n\n        let values = [];\n        if (isSimpleObject(criteria)) {\n            const dm = getDataModelFromRange(data, criteria);\n            const fieldsConfig = Object.assign({}, dm.getFieldsConfig(), {\n                [ReservedFields.ROW_ID]: {\n                    index: Object.keys(dm.getFieldsConfig()).length,\n                    def: {\n                        name: ReservedFields.ROW_ID,\n                        type: FieldType.DIMENSION\n                    }\n                }\n            });\n            dm.getData({ withUid: true }).data.forEach((row) => {\n                const dimKey = `${dimArr.map(d => row[fieldsConfig[d].index])}`;\n                const measures = criteria[ReservedFields.MEASURE_NAMES] || dimensionsMap[dimKey] || [[]];\n                measures.forEach((measureArr) => {\n                    values.push(`${[dimKey, ...measureArr]}`);\n                });\n            });\n        } else {\n            values = criteria.slice(1, criteria.length).map(d => `${d}`);\n        }\n        return values;\n    }\n    return null;\n};\n\n/**\n * This class is responsible for dispatching behavioural actions and side effects. It also keeps the information of\n * registered physical actions, behavioural actions and side effects. Also, it keeps the map of physical and behavioural\n * actions and behavioural actions and side effects. Whenever any behavioural action is dispatched, it also propagates\n * the rows which got affected to the other datamodels. This class is initialized by {@link VisualUnit} and legend to\n * manage it's interaction.\n *\n * @public\n * @class Firebolt\n * @module Firebolt\n */\nexport default class Firebolt {\n    constructor (context, actions, sideEffects, behaviourEffectMap) {\n        this.context = context;\n        this._sideEffectDefinitions = {};\n        this._sideEffects = {};\n        this._propagationInf = {};\n        this._sourceSelectionSet = {};\n        this._actions = {\n            behavioural: {},\n            physical: {}\n        };\n        this._selectionSet = {};\n        this._volatileSelectionSet = {};\n        this._propagationFields = {};\n        this._sideEffectPolicies = {};\n        this._propagationBehaviourMap = {};\n        this._behaviourPolicies = {};\n        this._actionBehaviourMap = {};\n        this._config = {};\n        this._behaviourEffectMap = {};\n        this._entryExitSet = {};\n        this._actionHistory = {};\n        this._queuedSideEffects = {};\n        this._handlers = {};\n        this._payloadGenerators = {};\n        this._payloads = {};\n\n        this.mapSideEffects(cloneObj(behaviourEffectMap));\n        this.registerBehaviouralActions(actions.behavioural);\n        this.registerSideEffects(sideEffects);\n        this.registerPhysicalBehaviouralMap(actions.physicalBehaviouralMap);\n        this.registerPhysicalActions(actions.physical);\n    }\n\n    config (...config) {\n        if (config.length) {\n            this._config = mergeRecursive(this._config, config[0]);\n            setSideEffectConfig(this.sideEffects(), this._config);\n            return this;\n        }\n        return this._config;\n    }\n\n    mapSideEffects (behEffectMap) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        for (const key in behEffectMap) {\n            if ({}.hasOwnProperty.call(behEffectMap, key)) {\n                const sideEffects = behEffectMap[key] || [];\n                let preventDefaultActions = false;\n                let effectNames;\n                if (isSimpleObject(sideEffects)) {\n                    effectNames = sideEffects.effects;\n                    preventDefaultActions = sideEffects.preventDefaultActions;\n                } else {\n                    effectNames = sideEffects;\n                }\n                effectNames = effectNames.map((effect) => {\n                    if (!isSimpleObject(effect)) {\n                        return {\n                            name: effect\n                        };\n                    }\n                    return effect;\n                });\n                !behaviourEffectMap[key] && (behaviourEffectMap[key] = []);\n                this._behaviourEffectMap[key] = [...new Set(preventDefaultActions ? effectNames :\n                    [...behaviourEffectMap[key], ...effectNames])];\n            }\n        }\n        return this;\n    }\n\n    registerBehaviouralActions (actions) {\n        const behaviours = initializeBehaviouralActions(this, actions);\n        this.prepareSelectionSets(behaviours);\n        Object.assign(this._actions.behavioural, behaviours);\n        return this;\n    }\n\n    prepareSelectionSets () {\n        return this;\n    }\n\n    registerSideEffects (sideEffects) {\n        for (const key in sideEffects) {\n            this._sideEffectDefinitions[sideEffects[key].formalName()] = sideEffects[key];\n        }\n        this.initializeSideEffects();\n        return this;\n    }\n\n    applySideEffects (sideEffects, selectionSet, payload) {\n        const sideEffectStore = this.sideEffects();\n        const actionHistory = this._actionHistory;\n        const queuedSideEffects = this._queuedSideEffects;\n        sideEffects.forEach((sideEffect) => {\n            const effects = sideEffect.effects;\n            const behaviours = sideEffect.behaviours;\n            let combinedSet = this.mergeSelectionSets(behaviours);\n            effects.forEach((effect) => {\n                let options = {};\n                let name;\n                if (typeof effect === 'object') {\n                    name = effect.name;\n                    options = effect.options || {};\n                } else {\n                    name = effect;\n                }\n                const set = options.set;\n                if (set) {\n                    combinedSet = this.mergeSelectionSets(set);\n                }\n                const sideEffectInstance = sideEffectStore[name];\n                if (sideEffectInstance && sideEffectInstance.isEnabled()) {\n                    if (!sideEffectInstance.constructor.mutates() &&\n                        Object.values(actionHistory).some(d => d.isMutableAction)) {\n                        queuedSideEffects[`${name}-${behaviours.join()}`] = {\n                            name,\n                            params: [combinedSet, payload, options]\n                        };\n                    } else {\n                        this.dispatchSideEffect(name, combinedSet, payload, options);\n                    }\n                }\n            });\n        });\n        return this;\n    }\n\n    dispatchSideEffect (name, selectionSet, payload, options = {}) {\n        const sideEffectStore = this.sideEffects();\n        const sideEffect = sideEffectStore[name];\n        const { setTransform } = options;\n        selectionSet = setTransform ? setTransform(selectionSet, payload, sideEffect) : selectionSet;\n        sideEffect.apply(selectionSet, payload, options);\n    }\n\n    registerPropagationBehaviourMap (map) {\n        this._propagationBehaviourMap = Object.assign(this._propagationBehaviourMap, map || {});\n        return this;\n    }\n\n    dispatchBehaviour (behaviour, payload, propagationInfo = {}) {\n        payload = this.sanitizePayload(payload);\n        const propagate = propagationInfo.propagate !== undefined ? propagationInfo.propagate : true;\n        const behaviouralActions = this._actions.behavioural;\n        const action = behaviouralActions[behaviour];\n        const behaviourEffectMap = this._behaviourEffectMap;\n        const sideEffects = getSideEffects(behaviour, behaviourEffectMap);\n        this._propagationInf = propagationInfo;\n        this._payloads[behaviour] = payload;\n\n        if (action) {\n            action.dispatch(payload);\n            this._entryExitSet[behaviour] = action.entryExitSet();\n            const shouldApplySideEffects = this.shouldApplySideEffects(propagationInfo);\n\n            if (propagate) {\n                this.propagate(behaviour, payload, action.propagationIdentifiers(), { sideEffects });\n            }\n\n            if (shouldApplySideEffects) {\n                const applicableSideEffects = this.getApplicableSideEffects(sideEffects, payload, propagationInfo);\n                this.applySideEffects(applicableSideEffects, this.getEntryExitSet(behaviour), payload);\n            }\n        }\n\n        return this;\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet.find(d => !d.sourceSelectionSet);\n    }\n\n    shouldApplySideEffects () {\n        return true;\n    }\n\n    changeBehaviourStateOnPropagation (behaviour, value, key = 'default') {\n        const behaviourConditions = this._behaviourPolicies[behaviour] || (this._behaviourPolicies[behaviour] = {});\n        if (value instanceof Function) {\n            behaviourConditions[key] = value;\n        } else {\n            behaviourConditions[key] = () => value;\n        }\n        return this;\n    }\n\n    changeSideEffectStateOnPropagation (sideEffect, value, key = 'default') {\n        const sideEffectConditions = this._sideEffectPolicies[sideEffect] ||\n            (this._sideEffectPolicies[sideEffect] = {});\n        if (value instanceof Function) {\n            sideEffectConditions[key] = value;\n        } else {\n            sideEffectConditions[key] = () => value;\n        }\n    }\n\n    removeSideEffectPolicy (sideEffect, key) {\n        delete this._sideEffectPolicies[sideEffect][key];\n        return this;\n    }\n\n    removeBehaviourPolicy (behaviour, key) {\n        delete this._behaviourPolicies[behaviour][key];\n        return this;\n    }\n\n    propagate () {\n        return this;\n    }\n\n    sideEffects (...sideEffects) {\n        if (sideEffects.length) {\n            this._sideEffects = sideEffects[0];\n            return this;\n        }\n        return this._sideEffects;\n    }\n\n    enableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, true);\n        return this;\n    }\n\n    disableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, false);\n        return this;\n    }\n\n    dissociateBehaviour (behaviour, physicalAction) {\n        const actionBehaviourMap = this._actionBehaviourMap;\n        for (const key in actionBehaviourMap) {\n            if (key === physicalAction) {\n                const behaviourMap = actionBehaviourMap[key];\n                behaviourMap.behaviours = behaviourMap.behaviours.filter(d => d !== behaviour);\n                this.mapActionsAndBehaviour(key);\n            }\n        }\n\n        return this;\n    }\n\n    dissociateSideEffect (sideEffect, behaviour) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        behaviourEffectMap[behaviour] = behaviourEffectMap[behaviour].filter(d => (d.name || d) !== sideEffect);\n        return this;\n    }\n\n    getApplicableSideEffects (sideEffects) {\n        return sideEffects;\n    }\n\n    attachPropagationListener (dataModel, handler = this.onDataModelPropagation()) {\n        dataModel.unsubscribe('propagation');\n        dataModel.on('propagation', handler);\n        return this;\n    }\n\n    onDataModelPropagation () {\n        return (propValue) => {\n            const payload = propValue.payload;\n            const action = payload.action;\n\n            this.dispatchBehaviour(action, payload, {\n                propagate: false\n            });\n        };\n    }\n\n    createSelectionSet (uniqueIds, behaviouralActions) {\n        const behaviours = behaviouralActions || this._actions.behavioural;\n        const selectionSet = this._selectionSet;\n        const volatileSelectionSet = this._volatileSelectionSet;\n\n        for (const key in behaviours) {\n            if ({}.hasOwnProperty.call(behaviours, key)) {\n                selectionSet[key] = new SelectionSet(uniqueIds);\n                volatileSelectionSet[key] = new SelectionSet(uniqueIds, true);\n                this._entryExitSet[key] = null;\n            }\n        }\n\n        this._volatileSelectionSet = volatileSelectionSet;\n        this.selectionSet(selectionSet);\n        return this;\n    }\n\n    selectionSet (...selectionSet) {\n        if (selectionSet.length) {\n            this._selectionSet = selectionSet[0];\n            return this;\n        }\n        return this._selectionSet;\n    }\n\n    initializeSideEffects () {\n        const sideEffectDefinitions = this._sideEffectDefinitions;\n        this.sideEffects(initializeSideEffects(this, sideEffectDefinitions));\n        return this;\n    }\n\n    target () {\n        return 'all';\n    }\n\n    registerPhysicalActions (actions, context = this) {\n        const initedActions = initializePhysicalActions(context, actions);\n        Object.assign(this._actions.physical, initedActions);\n        return this;\n    }\n\n    /**\n     * Allows to propagate the datamodel with only the supplied fields. When propagation is done, then the fields\n     * which are supplied for the specified behavioural action is propagated.\n     *\n     * @public\n     *\n     * @param {string} action Name of behavioural action. If '*' is specified, then for all behavioural actions it is\n     * applied.\n     * @param {Array} fields Array of field names which will be propagated.\n     * @param {boolean} append If true, then it is appended to the existing propagation data model fields else only\n     * those fields are projected from propagation data model and propagated.\n     *\n     * @return {Firebolt} Instance of firebolt\n     */\n    propagateWith (action, fields, append = false) {\n        const behaviouralActions = this._actions.behavioural;\n        if (action === ALL_ACTIONS) {\n            for (const key in behaviouralActions) {\n                this._propagationFields[key] = {\n                    fields,\n                    append\n                };\n            }\n        } else {\n            this._propagationFields[action] = {\n                fields,\n                append\n            };\n        }\n        return this;\n    }\n\n    /**\n     * Map actions and behaviours\n     * @return {Firebolt} Firebolt instance\n     */\n    mapActionsAndBehaviour (phyAction) {\n        const initedPhysicalActions = this._actions.physical;\n        const map = this._actionBehaviourMap;\n\n        for (const action in map) {\n            if (!({}).hasOwnProperty.call(action, map) && action === (phyAction || action)) {\n                let target;\n                const mapObj = map[action];\n                target = mapObj.target;\n                const touch = mapObj.touch;\n                if (!target) {\n                    target = this.context.getDefaultTargetContainer();\n                }\n                const bind = hasTouch() ? touch === true || touch === undefined : !touch;\n                bind && this.bindActionWithBehaviour(initedPhysicalActions[action],\n                    target, mapObj.behaviours);\n            }\n        }\n        this.registerPhysicalActionHandlers();\n        return this;\n    }\n\n    registerPhysicalBehaviouralMap (map) {\n        this._actionBehaviourMap = mergeRecursive(this._actionBehaviourMap, map);\n        return this;\n    }\n\n    /**\n     * Binds a target element with an action.\n     *\n     * @param {Function} action Action method\n     * @param {string} target Class name of element\n     * @param {Array} behaviourList Array of behaviours\n     * @return {FireBolt} Instance of firebolt\n     */\n    bindActionWithBehaviour (action, targets, behaviourList) {\n        if (typeof (targets) === 'string') {\n            targets = [targets];\n        }\n        targets.forEach((target) => {\n            const mount = this.context.mount();\n            const nodes = target.node instanceof Function ? target : selectElement(mount).selectAll(target);\n            if (!nodes.empty()) {\n                if (nodes instanceof Array) {\n                    nodes.forEach((node) => {\n                        action(selectElement(node), behaviourList);\n                    });\n                } else {\n                    action(nodes, behaviourList);\n                }\n            }\n        });\n        return this;\n    }\n\n    getPropagationInf () {\n        return this._propagationInf;\n    }\n\n    getAddSetFromCriteria (criteria, propagationInf = {}) {\n        return {\n            model: propagationInf.data ? propagationInf.data : null,\n            uids: criteria ? getKeysFromCriteria(criteria, this) : null\n        };\n    }\n\n    getSelectionSets (action) {\n        const sourceId = this.id();\n        const propagationInf = this._propagationInf || {};\n        const propagationSource = propagationInf.sourceId;\n        let applicableSelectionSets = [];\n        if (propagationSource !== sourceId) {\n            applicableSelectionSets = [this._volatileSelectionSet[action]];\n        }\n\n        if (propagationSource) {\n            applicableSelectionSets.push(this.selectionSet()[action]);\n        }\n        return applicableSelectionSets;\n    }\n\n    getFullData () {\n        return this.context.data();\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Returns the entry and exit set information of the specified behavioural action.\n     *\n     * @public\n     *\n     * @param {string} behaviour Name of behavioural action.\n     *\n     * @return {Object} Entry exit set information.\n     */\n    getEntryExitSet (behaviour) {\n        return this._entryExitSet[behaviour];\n    }\n\n    mergeSelectionSets (behaviours) {\n        return unionSets(this, behaviours);\n    }\n\n    data () {\n        return this.context.data();\n    }\n\n    triggerPhysicalAction (event, payload) {\n        const handlers = this._handlers[event] || [];\n        const genericHandlers = this._handlers['*'];\n\n        const allHandlers = [...Object.values(handlers), ...Object.values(genericHandlers)];\n        allHandlers.forEach((fn) => {\n            fn(event, payload);\n        });\n\n        return this;\n    }\n\n    onPhysicalAction (event, fn, namespace) {\n        !this._handlers[event] && (this._handlers[event] = {});\n        this._handlers[event][namespace] = fn;\n\n        return this;\n    }\n\n    registerPhysicalActionHandlers () {\n        this.onPhysicalAction('*', (event, payload) => {\n            const { behaviours } = this._actionBehaviourMap[event];\n            behaviours.forEach(beh => this.dispatchBehaviour(beh, payload));\n        });\n    }\n\n    id () {\n        return this.context.id();\n    }\n\n    getRangeFromIdentifiers (...params) {\n        return this.context.getRangeFromIdentifiers(...params);\n    }\n\n    sanitizePayload (payload) {\n        return payload;\n    }\n\n    payloadGenerators (...params) {\n        if (params.length) {\n            Object.assign(this._payloadGenerators, params[0]);\n        }\n        return this._payloadGenerators;\n    }\n\n    getPayloadGeneratorFor (action) {\n        const defaultFn = this._payloadGenerators.__default;\n        const fn = this._payloadGenerators[action];\n\n        return defaultValue(fn, defaultFn);\n    }\n\n    getPayload (action) {\n        return this._payloads[action];\n    }\n\n    actions () {\n        return this._actions;\n    }\n}\n","import { clone, unique, intersect } from 'muze-utils';\n\nexport const initializeSideEffects = (context, sideEffects) => {\n    const sideEffectsMap = context._sideEffects;\n    sideEffects = sideEffects instanceof Array ? sideEffects : Object.values(sideEffects);\n    sideEffects.forEach((SideEffect) => {\n        const formalName = SideEffect.formalName();\n        const target = SideEffect.target();\n        if (target === context.target() || target === 'all') {\n            const sideEffectInstance = sideEffectsMap[formalName];\n            sideEffectsMap[formalName] = sideEffectInstance || new SideEffect(context);\n        }\n    });\n    return sideEffectsMap;\n};\n\nexport const setSideEffectConfig = (sideEffects, config) => {\n    for (const key in sideEffects) {\n        const sideEffect = sideEffects[key];\n        const formalName = sideEffect.constructor.formalName();\n        const sideEffectConf = config[formalName];\n\n        sideEffectConf && sideEffect.config(sideEffectConf);\n    }\n};\n\nexport const initializeBehaviouralActions = (context, actions) => {\n    const dispatchableBehaviours = {};\n\n    actions = actions instanceof Array ? actions : Object.values(actions);\n    actions.forEach((Action) => {\n        dispatchableBehaviours[Action.formalName()] = new Action(context);\n    });\n    return dispatchableBehaviours;\n};\n\nexport const initializePhysicalActions = (context, actions) => {\n    const physicalActions = {};\n\n    for (const name in actions) {\n        if (!({}).hasOwnProperty.call(name, actions)) {\n            physicalActions[name] = actions[name](context);\n        }\n    }\n    return physicalActions;\n};\n\nexport const changeSideEffectAvailability = (context, fn, toEnable) => {\n    const sideEffects = context.sideEffects();\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            let change = true;\n            if (fn && fn(key) === false) {\n                change = false;\n            }\n            if (change) {\n                toEnable ? sideEffects[key].enable() : sideEffects[key].disable();\n            }\n        }\n    }\n};\n\nexport const getMergedSet = set => [...new Set([...set[0], ...set[1]])];\n\nexport const getSourceFields = (propagationInf, criteria = {}) => {\n    const sourceIdentifiers = propagationInf.sourceIdentifiers;\n    let sourceFields;\n    if (sourceIdentifiers) {\n        sourceFields = sourceIdentifiers.fields.map(d => d.name);\n    } else if (criteria instanceof Array) {\n        sourceFields = criteria[0];\n    } else {\n        sourceFields = Object.keys(criteria || {});\n    }\n    return sourceFields;\n};\n\nexport const getSideEffects = (behaviour, behaviourEffectMap) => {\n    const sideEffects = [];\n    for (const key in behaviourEffectMap) {\n        const behaviours = key.split(',');\n        const found = behaviours.some(d => d === behaviour);\n        if (found) {\n            sideEffects.push({\n                effects: behaviourEffectMap[key],\n                behaviours\n            });\n        }\n    }\n    return sideEffects;\n};\n\nexport const unionSets = (firebolt, behaviours) => {\n    let combinedSet = null;\n    const models = {\n        mergedEnter: null,\n        mergedExit: null\n    };\n    const uidSet = {\n        mergedEnter: [],\n        mergedExit: []\n    };\n\n    behaviours.forEach((behaviour) => {\n        const entryExitSet = firebolt._entryExitSet[behaviour];\n        if (entryExitSet) {\n            combinedSet = Object.assign(combinedSet || {}, clone(entryExitSet));\n            ['mergedEnter', 'mergedExit'].forEach((type) => {\n                const { model, uids } = entryExitSet[type];\n                let existingModel = models[type];\n\n                if (!existingModel) {\n                    existingModel = models[type] = model;\n                    uidSet[type] = uids;\n                } else if (`${model.getSchema().map(d => d.name).sort()}` ===\n                    `${existingModel.getSchema().map(d => d.name).sort()}`) {\n                    uidSet[type] = unique([...uidSet[type], ...uids]);\n                    models[type] = model.isEmpty() ? existingModel : existingModel.union(model);\n                } else {\n                    existingModel = model;\n                    uidSet[type] = uids;\n                }\n                combinedSet[type].uids = uidSet[type];\n                combinedSet[type].model = models[type];\n            });\n        }\n    });\n\n    return combinedSet;\n};\n\nexport const intersectSets = (firebolt, behaviours) => {\n    let combinedSet = null;\n    const models = {\n        mergedEnter: null,\n        mergedExit: null\n    };\n    const uidSet = {\n        mergedEnter: [],\n        mergedExit: []\n    };\n\n    behaviours.forEach((behaviour) => {\n        const entryExitSet = firebolt._entryExitSet[behaviour];\n        if (entryExitSet) {\n            combinedSet = Object.assign(combinedSet || {}, clone(entryExitSet));\n            ['mergedEnter', 'mergedExit'].forEach((type) => {\n                const { model, uids } = entryExitSet[type];\n                let existingModel = models[type];\n\n                if (!existingModel) {\n                    existingModel = models[type] = model;\n                    uidSet[type] = uids;\n                } else if (`${model.getSchema().map(d => d.name).sort()}` ===\n                    `${existingModel.getSchema().map(d => d.name).sort()}`) {\n                    const commonSet = intersect(uidSet[type], uids, [id => id[0], id => id[0]]);\n                    uidSet[type] = [...commonSet];\n                    models[type] = model.isEmpty() ? existingModel : existingModel.union(model);\n                }\n                combinedSet[type].uids = unique(uidSet[type]);\n                combinedSet[type].model = models[type];\n            });\n        }\n    });\n\n    return combinedSet;\n};\n","import Firebolt from './firebolt';\nimport * as behaviouralActions from './actions/behavioural';\nimport PersistentBehaviour from './actions/behavioural/persistent';\nimport GenericBehaviour from './actions/behavioural/generic';\nimport VolatileBehaviour from './actions/behavioural/volatile';\nimport { physicalActions } from './actions/physical';\nimport * as BEHAVIOURS from './enums/behaviours';\nimport * as ACTIONS from './enums/actions';\nimport * as SELECTION from './enums/selection';\nimport * as SIDE_EFFECTS from './enums/side-effects';\nimport SurrogateSideEffect from './side-effects/surrogate';\nimport SpawnableSideEffect from './side-effects/spawnable';\nimport GenericSideEffect from './side-effects/generic';\nimport * as sideEffects from './side-effects';\nimport SelectionSet from './selection-set';\nimport { behaviourEffectMap } from './behaviour-effect-map';\nimport { registry } from './registry';\nimport { initializePhysicalActions, getSideEffects } from './helper';\n\nexport {\n    initializePhysicalActions,\n    behaviouralActions,\n    VolatileBehaviour,\n    GenericBehaviour,\n    PersistentBehaviour,\n    physicalActions,\n    Firebolt,\n    BEHAVIOURS,\n    ACTIONS,\n    sideEffects,\n    SelectionSet,\n    behaviourEffectMap,\n    getSideEffects,\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    GenericSideEffect,\n    SELECTION,\n    SIDE_EFFECTS,\n    registry\n};\n","import { componentRegistry } from 'muze-utils';\nimport * as behaviours from './actions/behavioural';\nimport { physicalActions } from './actions/physical';\nimport * as sideEffects from './side-effects';\n\nconst convertToObj = (comps) => {\n    const obj = {};\n\n    for (const key in comps) {\n        const val = comps[key];\n\n        obj[val.formalName()] = val;\n    }\n    return obj;\n};\n\nexport const registry = {\n    behaviours: componentRegistry(convertToObj(behaviours)),\n    physicalActions: componentRegistry(physicalActions),\n    sideEffects: componentRegistry(convertToObj(sideEffects))\n};\n","import SelectionSet from './selection-set';\n\nexport default SelectionSet;\n","import {\n    SELECTION_NEW_ENTRY, SELECTION_NEW_EXIT, SELECTION_NULL, SELECTION_OLD_ENTRY, SELECTION_OLD_EXIT\n} from '../enums/selection';\n/* eslint-disable guard-for-in */\n\n/**\n * This component is used to keep track of the row tuples of the data which gets added and removed. This keeps\n * information of which rows are in previous and new entry set and previous and new exit set. This is initialized by\n * {@link Firebolt}.\n *\n * @public\n *\n * @class SelectionSet\n */\nclass SelectionSet {\n    /**\n     * Creates an instance of selection set\n     *\n     * @param {Array.<string>} completeSet Set of unique ids.\n     */\n    constructor ({ keys, fields }, _volatile) {\n        this.completeSet = keys;\n        this._set = {};\n        this._uidMap = {};\n        this._measureNames = {};\n        this._dimVals = {};\n\n        for (const key in keys) {\n            this._set[key] = SELECTION_NULL;\n            this._uidMap[key] = keys[key].uid;\n            this._measureNames[key] = keys[key].measureNames;\n            this._dimVals[key] = keys[key].dims;\n        }\n\n        this._volatile = _volatile;\n        this._completeSetCount = Object.keys(keys).length;\n        this._lockedSelection = {};\n        this._fieldIndices = fields.reduce((acc, v, i) => {\n            acc[v] = i;\n            return acc;\n        }, {});\n        this._fields = fields;\n        this._resetted = true;\n    }\n\n    /**\n     * Adds a set of ids to the selection set. This also moves the other rows to exit set.\n     *\n     * @public\n     * @param {Array.<number|string>} ids Array of unique ids.\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    add (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            if (i in set) {\n                set[i] = SELECTION_NEW_ENTRY;\n            }\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_ENTRY && set[key] !== SELECTION_OLD_ENTRY) {\n                set[key] = set[key] < 0 ? SELECTION_OLD_EXIT : SELECTION_NEW_EXIT;\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Adds an array of ids to the old entry set.\n     *\n     * @param {Array.<number|string>} ids Array of unique ids\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    update (ids) {\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            if (i in set) {\n                set[i] = SELECTION_OLD_ENTRY;\n            }\n        });\n\n        return this;\n    }\n\n    /**\n     * Moves all ids which in new entry set  to old entry set.\n     *\n     * @public\n     * @param {Array.<number|string>} ids Array of unique ids\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateEntry () {\n        const set = this._set;\n\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_ENTRY ? SELECTION_OLD_ENTRY : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Moves an array of ids which are in new exit set to old exit set.\n     *\n     * @public\n     *\n     * @param {Array.<number|string>} ids Array of unique ids.\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateExit () {\n        const set = this._set;\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_EXIT ? SELECTION_OLD_EXIT : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Removes an array of ids from the selection set. It also moves the remaining row ids to entry set.\n     *\n     * @public\n     * @param {Array.<string>} ids Array of unique ids\n     *\n     * @return {SelectionSet}  Instance of selection set\n     */\n    remove (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        ids.forEach((i) => {\n            i in set && (set[i] = SELECTION_NEW_EXIT);\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_EXIT && set[key] !== SELECTION_OLD_EXIT) {\n                set[key] = set[key] === 0 ? SELECTION_NEW_ENTRY : SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n\n    getSets (config = {}) {\n        const set = this._set;\n        const uidMap = this._uidMap;\n        const retObj = {\n            entrySet: [[], []],\n            exitSet: [[], []],\n            mergedEnter: [],\n            mergedExit: [],\n            completeSet: []\n        };\n        const measureNames = this._measureNames;\n        const dimVals = this._dimVals;\n        const { keepDims = false, dimensions = this._fields } = config;\n        const fieldIndices = this._fieldIndices;\n\n        for (const key in set) {\n            let val;\n            const measureNamesArr = measureNames[key] || [];\n            let dims = dimVals[key];\n\n            if (keepDims) {\n                if (measureNamesArr.length) {\n                    dims = dimensions.map(d => dims[fieldIndices[d]]);\n                    val = dims.length ? [...dims, `${measureNamesArr}`] : [uidMap[key], `${measureNamesArr}`];\n                } else {\n                    val = dims.length ? [...dims] : [uidMap[key]];\n                }\n            } else {\n                val = measureNamesArr.length ? [uidMap[key], measureNames[key], dims] : [uidMap[key]];\n            }\n\n            if (set[key] > 0) {\n                [SELECTION_OLD_ENTRY, SELECTION_NEW_ENTRY].forEach((v, i) => {\n                    if (set[key] === v) {\n                        retObj.entrySet[i].push(val);\n                    }\n                });\n                if (set[key] === SELECTION_OLD_ENTRY || set[key] === SELECTION_NEW_ENTRY) {\n                    retObj.mergedEnter.push(val);\n                }\n            } else if (set[key] < 0) {\n                [SELECTION_OLD_EXIT, SELECTION_NEW_EXIT].forEach((v, i) => {\n                    if (set[key] === v) {\n                        retObj.exitSet[i].push(val);\n                    }\n                });\n                if (set[key] === SELECTION_OLD_EXIT || set[key] === SELECTION_NEW_EXIT) {\n                    retObj.mergedExit.push(val);\n                }\n            }\n            retObj.completeSet.push(val);\n        }\n\n        return retObj;\n    }\n\n    /**\n     * Resets an array of ids in the selection set to initial state. It sets the value of every unique id value to\n     * null in the selection set which means they are neither in entry set nor in exit set. If no ids are passed,\n     * then it resets all the ids to null.\n     *\n     * @public\n     *\n     * @param {Array} ids Array of unique ids.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    reset (ids) {\n        const set = this._set;\n        if (ids) {\n            ids.forEach((i) => {\n                i in set && (set[i] = SELECTION_NULL);\n            });\n        } else {\n            for (const key in set) {\n                set[key] = SELECTION_NULL;\n            }\n        }\n        this._resetted = true;\n        return this;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     *\n     * @public\n     *\n     * @return {Array.<string>} Array of unique ids\n     */\n    getEntrySet () {\n        const set = this._set;\n        const addSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_ENTRY && addSet.push(key);\n        }\n\n        return addSet;\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in entry set.\n     *\n     * @public\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old entry set or new entry set\n     */\n    getExistingEntrySet (addSet) {\n        const set = this._set;\n        return addSet.filter(d => set[d] === SELECTION_NEW_ENTRY || set[d] === SELECTION_OLD_ENTRY);\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in exit set.\n     *\n     * @public\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old exit set or new exit set\n     */\n    getExistingExitSet (removeSet) {\n        const set = this._set;\n        return removeSet.filter(d => set[d] === SELECTION_NEW_EXIT || set[d] === SELECTION_OLD_EXIT);\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldEntry () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_ENTRY && updateSet.push(key);\n        }\n        return updateSet;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldExit () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_EXIT && updateSet.push(key);\n        }\n\n        return updateSet;\n    }\n\n    /**\n     * Gets the array of ids which are in the exit set.\n     *\n     * @public\n     * @return {Array.<string>} Array of unique ids\n     */\n    getExitSet () {\n        const set = this._set;\n        const removeSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_EXIT && removeSet.push(key);\n        }\n        return removeSet;\n    }\n\n    /**\n     * Gets all the ids which are either in exit or entry set.\n     *\n     * @public\n     * @return {Array} Array of unique ids\n     */\n    getCompleteSet () {\n        const set = this._set;\n        const completeSet = [];\n\n        for (const key in set) {\n            completeSet.push(key);\n        }\n\n        return completeSet;\n    }\n\n    getCompleteSetCount () {\n        return this._completeSetCount;\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Swaps the add set and remove set in the selection set.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    toggle () {\n        const set = this._set;\n\n        for (const key in set) {\n            if (set[key] === SELECTION_NEW_ENTRY) {\n                set[key] = SELECTION_NEW_EXIT;\n            } else if (set[key] === SELECTION_NEW_EXIT) {\n                set[key] = SELECTION_NEW_ENTRY;\n            } else if (set[key] === SELECTION_OLD_ENTRY) {\n                set[key] = SELECTION_OLD_EXIT;\n            } else {\n                set[key] = SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n\n    getMergedEntrySet (raw) {\n        const set = this._set;\n        const mergedEnter = [];\n        const uidMap = this._uidMap;\n        const measureNames = this._measureNames;\n        const dimVals = this._dimVals;\n\n        for (const key in set) {\n            const val = raw ? [...dimVals[key], `${measureNames[key]}`] :\n                [uidMap[key], measureNames[key]];\n            if (set[key] === SELECTION_NEW_ENTRY || set[key] === SELECTION_OLD_ENTRY) {\n                mergedEnter.push(val);\n            }\n        }\n        return mergedEnter;\n    }\n\n    getMergedExitSet (raw) {\n        const set = this._set;\n        const mergedExit = [];\n        const uidMap = this._uidMap;\n        const measureNames = this._measureNames;\n        const dimVals = this._dimVals;\n\n        for (const key in set) {\n            const val = raw ? [...dimVals[key], `${measureNames[key]}`] :\n                [uidMap[key], measureNames[key]];\n            if (set[key] === SELECTION_NEW_EXIT || set[key] === SELECTION_OLD_EXIT) {\n                mergedExit.push(val);\n            }\n        }\n        return mergedExit;\n    }\n}\n\nexport default SelectionSet;\n","import { DataModel, getObjProp, mergeRecursive, ReservedFields, dmMultipleSelection } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport { ANCHORS } from '../../enums/side-effects';\nimport SpawnableSideEffect from '../spawnable';\nimport './styles.scss';\n\nconst addLayer = (layerRegistry, context, sideEffect) => {\n    context.addLayer((layerDefs) => {\n        const layers = [];\n\n        if (layerDefs) {\n            layerDefs.forEach((layerDef) => {\n                const mark = layerDef.mark;\n                const layerCls = layerRegistry[mark];\n\n                if (layerCls && layerCls.shouldDrawAnchors()) {\n                    const depLayerEncoding = layerDef.def.encoding;\n                    const encoding = {\n                        x: getObjProp(depLayerEncoding, 'x', 'field'),\n                        y: getObjProp(depLayerEncoding, 'y', 'field'),\n                        color: {\n                            field: getObjProp(depLayerEncoding, 'color', 'field'),\n                            value: getObjProp(depLayerEncoding, 'color', 'value')\n                        },\n                        size: {\n                            field: getObjProp(depLayerEncoding, 'size', 'field'),\n                            value: () => sideEffect.defaultSizeValue()\n                        }\n                    };\n                    const commonName = sideEffect.constructor.formalName();\n                    const layerOwner = layerDef.def.name;\n                    const name = `${layerOwner}-${commonName}`;\n                    const defaultClassName = `${sideEffect.constructor.defaultConfig().className}`;\n\n                    layers.push({\n                        name: `${name}-upper`,\n                        mark: 'point',\n                        groupId: `${commonName}-upper`,\n                        className: `${defaultClassName}-upper`,\n                        encoding,\n                        transform: {\n                            type: 'identity'\n                        },\n                        calculateDomain: false,\n                        transition: sideEffect.getTransitionConfig(),\n                        source: dm => dm.select(() => false, {\n                            saveChild: false\n                        }),\n                        interactive: false,\n                        owner: layerDef.def.name\n                    });\n\n                    if (mark === 'area') {\n                        layers.push({\n                            name: `${name}-lower`,\n                            mark: 'point',\n                            groupId: `${commonName}-lower`,\n                            className: `${defaultClassName}-lower`,\n                            encoding,\n                            transform: {\n                                type: 'identity'\n                            },\n                            calculateDomain: false,\n                            transition: sideEffect.getTransitionConfig(),\n                            source: dm => dm.select(() => false, {\n                                saveChild: false\n                            }),\n                            interactive: false,\n                            owner: layerDef.def.name\n                        });\n                    }\n                }\n            });\n        }\n        return layers;\n    });\n};\n\nexport default class AnchorEffect extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._layersMap = {};\n        this.addAnchorLayers();\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-anchors-group`\n        };\n    }\n\n    static formalName () {\n        return ANCHORS;\n    }\n\n    addAnchorLayers () {\n        const context = this.firebolt.context;\n        const layerRegistry = context.registry().layerRegistry;\n\n        addLayer(layerRegistry, context, this);\n        return this;\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n\n    /**\n     * Returns the default area value of the anchor point.\n     * @return { number } Default area value of anchor.\n     */\n    defaultSizeValue () {\n        return 70;\n    }\n\n    // Default offset by which anchor size is changed\n    getAnchorSizeOnInteraction ({ dragEnd }) {\n        if (dragEnd) {\n            return 40;\n        }\n        return 0;\n    }\n\n    apply (selectionSet, payload) {\n        const dataModel = selectionSet.mergedEnter.model;\n        const formalName = this.constructor.formalName();\n        const context = this.firebolt.context;\n        const upperAnchors = context.layers().filter(layer => layer.config().groupId === `${formalName}-upper`);\n        const lowerAnchors = context.layers().filter(layer => layer.config().groupId === `${formalName}-lower`);\n\n        const { target, action } = payload;\n        let targetObj = null;\n        if (target) {\n            targetObj = target[1].reduce((acc, v, i) => {\n                const field = target[0][i];\n                if (field !== ReservedFields.MEASURE_NAMES) {\n                    acc[field] = v;\n                }\n                return acc;\n            }, {});\n        }\n\n        [...upperAnchors, ...lowerAnchors].forEach((layer, index) => {\n            const layerConfig = layer.config();\n            const linkedLayer = context.getLayerByName(layerConfig.owner);\n            const linkedLayerName = linkedLayer.constructor.formalName();\n            const groupId = layerConfig.groupId;\n            const isUpperAnchor = groupId === `${formalName}-upper`;\n            let transformedData = [];\n            let schema = [];\n\n            [transformedData, schema] = linkedLayer.getTransformedDataFromIdentifiers(dataModel, index);\n\n            // Render both upper and lower anchors for area plot if hovered over an anchor\n            if (linkedLayerName === 'area' && target && action === 'highlight') {\n                const filterFn = dmMultipleSelection(target, dataModel);\n                const dmFromPayload = dataModel.select(filterFn, {});\n\n                if (!isUpperAnchor) {\n                    [transformedData, schema] = linkedLayer.getTransformedDataFromIdentifiers(dmFromPayload, index);\n                }\n            }\n\n            const transformedDataModel = new DataModel(transformedData, schema);\n            const anchorSizeConfig = {\n                encoding: {\n                    size: {\n                        value: () => this.defaultSizeValue() + this.getAnchorSizeOnInteraction(payload)\n                    },\n                    'stroke-width': {\n                        value: this.getAnchorStroke(payload, targetObj)\n                    }\n                }\n            };\n            const newConfig = mergeRecursive(layerConfig, anchorSizeConfig);\n\n            layer\n                .data(transformedDataModel)\n                .config(newConfig);\n\n            return this;\n        });\n    }\n\n    getAnchorStroke (payload, targetObj) {\n        return (d) => {\n            const dataObj = d.data.dataObj;\n            const matchingData = targetObj ? Object.keys(targetObj).every((key) => {\n                const val = dataObj[key];\n                return val === targetObj[key];\n            }) : false;\n            return matchingData ? '1px' : '0px';\n        };\n    }\n}\n","// extracted by mini-css-extract-plugin","import SurrogateSideEffect from '../surrogate';\nimport { AXIS_LABEL_HIGHLIGHTER } from '../../enums/side-effects';\nimport './styles.scss';\n\nexport default class AxisLabelHighLighter extends SurrogateSideEffect {\n    static formalName () {\n        return AXIS_LABEL_HIGHLIGHTER;\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    apply (selectionSet) {\n        const context = this.firebolt.context;\n        const dataModel = selectionSet && selectionSet.mergedEnter.model;\n        const selectedData = dataModel && dataModel.getData().data;\n        const selectedDataValues = selectedData && selectedData.length ? selectedData[0] : [];\n        const { x = [], y = [] } = context.axes();\n        [...x, ...y].forEach((axis) => {\n            const fieldMeta = dataModel ? dataModel.getFieldsConfig()[axis.config().field] : undefined;\n            const selData = selectedDataValues[fieldMeta && fieldMeta.index !== undefined\n                                                    ? fieldMeta.index : undefined];\n            const { selectionSet: selectedElements, rejectionSet } = axis.getTicksBasedOnData(selData);\n            selectedElements && selectedElements.selectAll('text').classed('muze-axis-ticks-highlight', true);\n            rejectionSet.selectAll('text').classed('muze-axis-ticks-highlight', false);\n        });\n    }\n}\n","// extracted by mini-css-extract-plugin","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\nimport { BRUSH_ANCHORS } from '../enums/side-effects';\n\nexport default class BrushAnchors extends AnchorEffect {\n    static formalName () {\n        return BRUSH_ANCHORS;\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-brush-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n\n    setAnchorLayerStyle (layers) {\n        const anchorLayers = layers.filter(l => l.config().groupId === BRUSH_ANCHORS);\n        anchorLayers.forEach((anchor) => {\n            // Execute focusStroke interaction of anchor point layer\n            const ids = anchor.data().getUids();\n            const layerName = this.constructor.formalName();\n            const defaultInteractionLayerEncoding = anchor.config().encoding.interaction;\n            anchor.applyInteractionStyle(defaultInteractionLayerEncoding[layerName], ids, { apply: true });\n        });\n    }\n\n    getAnchorStroke (payload) {\n        return payload.dragEnd ? '2px' : '1px';\n    }\n}\n","import { selectElement, FieldType } from 'muze-utils';\n\nimport './styles.scss';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport { CROSSLINE } from '../../enums/side-effects';\nimport SpawnableSideEffect from '../spawnable';\n\nexport default class Crossline extends SpawnableSideEffect {\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-crossline-group`,\n            bandClass: `${CLASSPREFIX}-crossband`,\n            lineClass: `${CLASSPREFIX}-crossline`\n        };\n    }\n\n    static formalName () {\n        return CROSSLINE;\n    }\n\n    apply (selectionSet, payload) {\n        let height;\n        let bandWidth;\n        let px;\n        let width;\n        const {\n            className,\n            bandClass,\n            lineClass\n        } = this.config();\n        const dataModel = selectionSet.mergedEnter.model;\n        const drawingInf = this.drawingContext();\n        const isEmptyDataModel = dataModel && dataModel.isEmpty();\n        if (payload.criteria && isEmptyDataModel) {\n            this.hide();\n            return this;\n        }\n        if (payload.criteria === null || !dataModel) {\n            this.hide();\n            return this;\n        }\n\n        const dataObj = dataModel.getData();\n        const sourceInf = this.firebolt.context.getSourceInfo();\n        const axes = sourceInf.axes;\n        const axisFields = sourceInf.fields;\n        const fields = selectionSet.fields;\n        const data = dataObj.data;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const svgContainer = drawingInf.sideEffectGroup;\n\n        const elemData = [];\n        fields.forEach((field) => {\n            const fieldIndex = fieldsConfig[field] && fieldsConfig[field].index;\n            const dataArr = data.map(d => d[fieldIndex]);\n            const axisIndex = [['x', 0], ['x', 1], ['y', 0], ['y', 1]].find((arr) => {\n                const fieldInst = axisFields[arr[0]][arr[1]];\n                return fieldInst && fieldInst.type() === FieldType.DIMENSION &&\n                    fieldInst.getMembers().indexOf(field) !== -1;\n            });\n            if (axisIndex !== undefined && data.length) {\n                const type = axisIndex[0];\n                const axis = axes[type][axisIndex[1]];\n                const value = dataArr[0];\n                bandWidth = axis.getUnitWidth() || 0;\n                px = axis.getScaleValue(value) + bandWidth / 2 + drawingInf.xOffset;\n\n                let layers = this.firebolt.context.layers();\n                layers = layers.filter(layer => !!layer.config().crossline);\n\n                if (layers.length) {\n                    const plotWidth = Math.max(...layers.map(layer => layer.getPlotSpan()[type]));\n                    const pad = Math.max(...layers.map(layer => layer.getPlotPadding()[type]));\n                    height = drawingInf.height;\n                    width = drawingInf.width;\n                    const startPx = px - plotWidth / 2 - pad / 2;\n                    const endPx = px + plotWidth / 2 + pad / 2;\n                    const dataPoint = {};\n                    if (type === 'y') {\n                        dataPoint.d = `M 0 ${startPx} L 0 ${endPx} L ${width} ${endPx} L ${width} ${startPx} Z`;\n                    } else {\n                        dataPoint.d = `M ${startPx} 0 L ${endPx} 0 L ${endPx} ${height} L ${startPx} ${height} Z`;\n                    }\n                    dataPoint.className = plotWidth ? bandClass : lineClass;\n                    !isNaN(px) && elemData.push(dataPoint);\n                }\n            }\n        });\n        if (elemData.length) {\n            const parentGroup = this.createElement(svgContainer, 'g', [1], className);\n            const elem = this.createElement(parentGroup, 'path', elemData);\n            elem.attr('d', d => d.d).style('pointer-events', 'none')\n                            .attr('class', d => d.className);\n        }\n        return this;\n    }\n\n    hide () {\n        const className = this.config().className;\n        const drawingInf = this.drawingContext();\n        selectElement(drawingInf.sideEffectGroup).selectAll(`.${className}`).remove();\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n}\n","// extracted by mini-css-extract-plugin","import SurrogateSideEffect from '../surrogate';\n\nexport default class FilterEffect extends SurrogateSideEffect {\n    static formalName () {\n        return 'filter';\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static mutates () {\n        return true;\n    }\n\n    apply (selectionSet, payload) {\n        const context = this.firebolt.context;\n        const entryModel = selectionSet.mergedEnter.model;\n        if (payload.criteria === null) {\n            context.clearCaching().resetData();\n        } else {\n            context.enableCaching().data(entryModel);\n        }\n        return this;\n    }\n}\n","import { FieldType } from 'muze-utils';\nimport { spaceOutBoxes } from '../helper';\nimport { FRAGMENTED_TOOLTIP } from '../../enums/side-effects';\nimport Tooltip from '../tooltip';\n\nexport default class FragmentedTooltip extends Tooltip {\n    static formalName () {\n        return FRAGMENTED_TOOLTIP;\n    }\n\n    createTooltip (dataModel, props) {\n        let totalHeight = 0;\n        let totalWidth = 0;\n        const config = this.config();\n        const { strategy } = props;\n        const context = this.firebolt.context;\n        const drawingInf = this.drawingContext();\n\n        const tooltips = this._tooltips;\n        const boundBox = {\n            width: drawingInf.width,\n            height: drawingInf.height\n        };\n        const pad = config.padding;\n        const dataModels = [];\n        const sourceInf = context.getSourceInfo();\n        const fields = sourceInf.fields;\n        const xFieldDim = fields.x[0] ? fields.x[0].type() === FieldType.DIMENSION : false;\n        const showVertically = !!xFieldDim;\n        const boxes = [];\n        const uids = dataModel.getUids();\n\n        dataModels.push(...uids.map(d => dataModel.select((fieldsArr, i) => i === d, {\n            saveChild: false\n        })));\n\n        const enter = {};\n        for (let i = 0, len = dataModels.length; i < len; i++) {\n            const dm = dataModels[i];\n            const dimensions = dm.getData().schema.filter(d => d.type === FieldType.DIMENSION).map(d => d.name);\n            const plotDim = context.getPlotPointsFromIdentifiers(dm.project(dimensions), { getBBox: true });\n\n            super.createTooltip(dm, props, plotDim, i);\n            const tooltipInst = this._tooltips[i];\n            enter[i] = this._tooltips[i];\n\n            const position = tooltipInst._position;\n            const tooltipBoundBox = tooltipInst._tooltipContainer.node().getBoundingClientRect();\n\n            totalHeight += tooltipBoundBox.height + pad;\n            totalWidth += tooltipBoundBox.width + pad;\n\n            if (showVertically ? totalHeight > drawingInf.height : totalWidth > drawingInf.width) {\n                break;\n            }\n\n            position && boxes.push({\n                x: position.x,\n                y: position.y,\n                width: tooltipBoundBox.width,\n                height: tooltipBoundBox.height,\n                tooltip: tooltipInst\n            });\n        }\n\n        for (const key in tooltips) {\n            if (!enter[key]) {\n                const tooltip = tooltips[key];\n                tooltip.content(strategy, null);\n                if (!tooltip.getContents().length) {\n                    tooltip.remove();\n                    delete tooltips[key];\n                }\n            }\n        }\n\n        boxes.length && spaceOutBoxes(boxes, boundBox, showVertically);\n        boxes.forEach(box => box.tooltip.position(box.x, box.y, {\n            repositionArrow: true\n        }));\n\n        return this;\n    }\n\n    hide (options) {\n        const tooltips = this._tooltips;\n        for (const key in tooltips) {\n            if ({}.hasOwnProperty.call(tooltips, key)) {\n                const strategy = options.strategy || this._strategy;\n                tooltips[key].content(strategy, null);\n                tooltips[key].hide();\n            }\n        }\n    }\n}\n","import { mergeRecursive, getUniqueId, generateGetterSetters } from 'muze-utils';\nimport { PROPS } from './props';\n\n/**\n * This is the base class of all side effects. It contains all common methods like setting configuration, disabling,\n * enabling side effect, etc. Every new side effect has to inherit this class or {@link SpawnableSideEffect} or\n * {@link SurrogateSideEffect} class. All side effects are initialized by firebolt. The instance of firebolt is\n * passed on initialization. The firebolt instance contains ```context``` which is the instance of visual unit with\n * which the firebolt is attached.\n *\n * @public\n * @class\n * @module GenericSideEffect\n */\nexport default class GenericSideEffect {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n        this._strategy = 'default';\n        this._config = {};\n        this._id = getUniqueId();\n        this._strategies = {};\n        generateGetterSetters(this, PROPS);\n        this.config(this.constructor.defaultConfig());\n        this.sourceInfo(() => this.firebolt.context.getSourceInfo());\n        this.layers(() => this.firebolt.context.layers());\n        this.plotPointsFromIdentifiers((...args) => this.firebolt.context.getPlotPointsFromIdentifiers(...args));\n    }\n\n    /**\n     * Returns the default configuration of the side effect.\n     *\n     * @public\n     * @return {Object} Default configuration of side effect.\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the formal name of a side effect. This method must be implemented by all side effects which changes\n     * or adds any element in the visualization.\n     *\n     * @return {string} Formal name of side effect.\n     */\n    static formalName () {\n        return 'generic';\n    }\n\n    static target () {\n        return 'all';\n    }\n\n    /**\n     * Returns true if the side effects mutates the data of chart.\n     *\n     * @public\n     *\n     * @return {boolean} If the side effect mutates the data of chart.\n     */\n    static mutates () {\n        return false;\n    }\n\n    /**\n     * Sets or gets the configuration of side effect.\n     *\n     * When setter,\n     * @param {Object} config Configuration of side effect.\n     * @return {GenericSideEffect} Side effect instance.\n     *\n     * When getter,\n     * @return {Object} Side effect configuration.\n     */\n    config (...params) {\n        if (params.length) {\n            this._config = mergeRecursive(this._config, params[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    disable () {\n        this._enabled = false;\n        return this;\n    }\n\n    enable () {\n        this._enabled = true;\n        return this;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n\n    /**\n     * Applies the interaction effect on the chart. This is where the implemntation of the side effect is defined.\n     *\n     * @param {Object} selectionSet Contains the entry and exit set of data which got affected during interaction.\n     * @param {Object} selectionSet.mergedEnter Combined previous entry and new entry set.\n     * @param {DataModel} selectionSet.mergedEnter.model Instance of data model containing all rows which got\n     * affected during interaction.\n     * @param {Array} selectionSet.mergedEnter.uids Ids of all rows which were affected during interaction.\n     * @param {Object} selectionSet.mergedExit Combined previous exit and new exit set.\n     * @param {DataModel} selectionSet.mergedExit.model Instance of data model containing rows which were not affected\n     * during interaction.\n     * @param {Array} selectionSet.mergedExit.uids Ids of all rows which were not affected during interaction.\n     * @param {Object} selectionSet.entrySet Entry set information.\n     * @param {Array} selectionSet.entrySet[0].uids All row ids which got affected during previous interaction.\n     * @param {Array} selectionSet.entrySet[1].uids All row ids which got affected during current interaction.\n     * @param {Array} selectionSet.exitSet[0].uids All row ids which were not affected during previous interaction.\n     * @param {Array} selectionSet.exitSet[1].uids All row ids which were not affected during current interaction.\n     * @param {Object} payload Payload information of the behavioural action on trigger of which this side effect\n     * is applied.\n     * @param {Object} options Optional information for side effect like strategy, etc.\n     */\n    apply () {\n        return this;\n    }\n\n    /**\n     * Adds a new strategy method for this side effect. The strategy method is implemented by side effect class.\n     *\n     * @param {string} name Name of the strategy.\n     * @param {Function} fn Strategy method.\n     *\n     * @return {GenericSideEffect} Instance of side effect.\n     */\n    setStrategy (name, fn) {\n        if (fn) {\n            this._strategies[name] = fn;\n        }\n        return this;\n    }\n\n    sourceInfo (...sourceInfo) {\n        if (sourceInfo.length) {\n            this._sourceInfo = sourceInfo[0];\n            return this;\n        }\n        return this._sourceInfo();\n    }\n\n    layers (...layers) {\n        if (layers.length) {\n            this._layers = layers[0];\n            return this;\n        }\n        return this._layers();\n    }\n\n    plotPointsFromIdentifiers (...params) {\n        if (params.length && params[0] instanceof Function) {\n            this._plotPointsFromIdentifiers = params[0];\n            return this;\n        }\n        return this._plotPointsFromIdentifiers(...params);\n    }\n}\n","import GenericSideEffect from './generic-sideeffect';\n\nexport default GenericSideEffect;\n","export const PROPS = {\n    valueParser: {\n        defaultValue: val => val\n    }\n};\n","export const spaceOutBoxes = (boxes, extent, showVertically) => {\n    let y;\n    let height;\n    let x;\n    let width;\n    let i;\n    const pad = 5;\n    const len = boxes.length;\n    const spaceOutIfOverlap = (firstBox, secondBox, opposite) => {\n        x = firstBox.x;\n        width = firstBox.width;\n        y = firstBox.y;\n        height = firstBox.height;\n        const bottom = y + height;\n        const right = x + width;\n\n        if (showVertically) {\n            if (opposite ? y < (secondBox.y + secondBox.height) : bottom > secondBox.y) {\n                secondBox.y = opposite ? firstBox.y - secondBox.height - pad :\n                        bottom + pad;\n            }\n        } else if (opposite ? x < (secondBox.x + secondBox.width) : right > secondBox.x) {\n            secondBox.x = opposite ? firstBox.x - secondBox.width - pad :\n                    right + pad;\n        }\n    };\n\n    boxes.sort((a, b) => (showVertically ? a.y - b.y : a.x - b.x));\n    i = 0;\n\n    for (i = 0; i < len - 1; i++) {\n        spaceOutIfOverlap(boxes[i], boxes[i + 1]);\n    }\n\n    if ((boxes[i].y + boxes[i].height) > extent.height ||\n            (boxes[i].x + boxes[i].width) > extent.width) {\n        if (showVertically) {\n            boxes[i].y -= (boxes[i].height + boxes[i].y) - extent.height;\n        } else {\n            boxes[i].x -= (boxes[i].width + boxes[i].x) - extent.width;\n        }\n        for (i = len - 1; i > 0; i--) {\n            spaceOutIfOverlap(boxes[i], boxes[i - 1], true);\n        }\n    }\n    return boxes;\n};\n","export { default as SelectionBox } from './selection-box';\nexport { default as Tooltip } from './tooltip';\nexport { default as FragmentedTooltip } from './fragmented-tooltip';\nexport { default as Crossline } from './crossline';\nexport { default as PlotHighlighter } from './plot-highlighter';\nexport { default as FilterEffect } from './filter';\nexport { default as PersistentAnchors } from './persistent-anchors';\nexport { default as BrushAnchors } from './brush-anchors';\nexport { default as AnchorEffect } from './anchors';\nexport { default as AxisLabelHighLighter } from './axis-labels-highlighter';\n","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\nimport { PERSISTENT_ANCHORS } from '../enums/side-effects';\n\nexport default class PersistentAnchors extends AnchorEffect {\n    static formalName () {\n        return PERSISTENT_ANCHORS;\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-persistent-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n\n    setAnchorLayerStyle (layers) {\n        const anchorLayers = layers.filter(l => l.config().groupId === PERSISTENT_ANCHORS);\n        anchorLayers.forEach((anchor) => {\n            // Execute focusStroke interaction of anchor point layer\n            const ids = anchor.data().getUids();\n            const layerName = this.constructor.formalName();\n            const defaultInteractionLayerEncoding = anchor.config().encoding.interaction;\n            anchor.applyInteractionStyle(defaultInteractionLayerEncoding[layerName], ids, { apply: true });\n        });\n    }\n\n    // offset value by which anchor size is changed\n    // Applied only on select interaction\n    getAnchorSizeonInteraction () {\n        return 50;\n    }\n\n    getAnchorStroke () {\n        return '2px';\n    }\n}\n","import { difference, intersect } from 'muze-utils';\nimport { intersectSets } from '../../helper';\n\n/**\n * @private\n * @param {Object} set Points set\n * @param {Array.<number>} selectedPointsId array of id of selected points\n * @return {Object} Returns the set with the selected points removed\n */\nexport const getFormattedSet = (set, selectedPointsId, intersection = false) => {\n    const fn = intersection ? intersect : difference;\n    const formattedSet = fn(set.uids, selectedPointsId,\n        [d => d[0], d => d[0]]);\n    return {\n        ...set,\n        ...{\n            uids: formattedSet,\n            length: formattedSet.length\n        }\n    };\n};\n\nexport const highlightSelectIntersection = (firebolt) => {\n    const selectEntrySet = firebolt.getEntryExitSet('select');\n    const highlightEntrySet = firebolt.getEntryExitSet('highlight');\n\n    if (selectEntrySet && highlightEntrySet) {\n        const intersectSet = intersectSets(firebolt, ['select', 'highlight']);\n        return intersectSet;\n    }\n\n    return null;\n};\n","import SurrogateSideEffect from '../surrogate';\nimport { strategies } from './strategy';\nimport { HIGHLIGHTER } from '../../enums/side-effects';\nimport { getFormattedSet } from './helper';\n\nexport default class PlotHighlighter extends SurrogateSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategy = 'highlight';\n        this._strategies = strategies;\n    }\n\n    static formalName () {\n        return HIGHLIGHTER;\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    getExcludeSetIds (excludeSet = []) {\n        // Get excludeSetIds if excludeSet is a function\n        if (excludeSet instanceof Function) {\n            return excludeSet(this.firebolt.getEntryExitSet);\n        }\n        // Get excludeSetIds if excludeSet is not a function\n        return excludeSet.reduce((acc, behaviour) => {\n            const selectedPoints = this.firebolt.getEntryExitSet(behaviour) || {};\n            const selectedPointsIds = (selectedPoints.mergedEnter || {}).uids;\n            if (selectedPointsIds) acc.push(...selectedPointsIds);\n            return acc;\n        }, []);\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const currentStrategy = this._strategies[options.strategy || this._strategy];\n        const excludeSetIds = this.getExcludeSetIds(options.excludeSet);\n\n        // Get all sets except the excludeSet points\n        const formattedSet = {\n            ...selectionSet,\n            completeSet: getFormattedSet(selectionSet.completeSet, excludeSetIds),\n            entrySet: getFormattedSet(selectionSet.entrySet[1], excludeSetIds),\n            exitSet: getFormattedSet(selectionSet.exitSet[1], excludeSetIds),\n            mergedEnter: getFormattedSet(selectionSet.mergedEnter, excludeSetIds),\n            mergedExit: getFormattedSet(selectionSet.mergedExit, excludeSetIds)\n        };\n\n        const totalSet = { selectionSet, formattedSet };\n\n        currentStrategy(totalSet, this, payload, excludeSetIds);\n\n        return this;\n    }\n}\n","import { intersect, difference } from 'muze-utils';\nimport { getFormattedSet } from './helper';\nimport { BEHAVIOURS } from '../..';\n\nconst fadeFn = (set, context) => {\n    const { formattedSet } = set;\n    const {\n        mergedEnter,\n        mergedExit,\n        exitSet,\n        completeSet\n    } = formattedSet;\n\n    if (!mergedEnter.length && !mergedExit.length) {\n        context.applyInteractionStyle(completeSet, { interactionType: 'fade', apply: false });\n    } else {\n        const layers = context.firebolt.context.layers();\n\n        layers.forEach((layer) => {\n            const layerName = layer.constructor.formalName();\n\n            // Apply style only on the hovered layer\n            if (layerName === 'area') {\n                context.applyInteractionStyle(mergedEnter, { interactionType: 'fade', apply: true }, [layer]);\n                context.applyInteractionStyle(exitSet, { interactionType: 'fade', apply: false }, [layer]);\n            } else {\n                context.applyInteractionStyle(exitSet, { interactionType: 'fade', apply: true }, [layer]);\n                context.applyInteractionStyle(mergedEnter, { interactionType: 'fade', apply: false }, [layer]);\n            }\n        });\n    }\n};\n\nconst fadeOnBrushFn = (set, context, payload) => {\n    const { formattedSet } = set;\n    const {\n        exitSet,\n        mergedEnter,\n        mergedExit,\n        completeSet\n    } = formattedSet;\n\n    const { dragEnd } = payload;\n    let interactionType = 'brushStroke';\n\n    if (!mergedEnter.length && !mergedExit.length) {\n        context.applyInteractionStyle(completeSet, { interactionType, apply: false });\n        context.applyInteractionStyle(completeSet, { interactionType: 'doubleStroke', apply: false });\n    } else {\n        if (dragEnd) {\n            interactionType = 'doubleStroke';\n            // onDrag style\n            context.applyInteractionStyle(completeSet, { interactionType: 'brushStroke', apply: false });\n        }\n        const layers = context.firebolt.context.layers();\n\n        layers.forEach((layer) => {\n            const layerName = layer.constructor.formalName();\n\n            // Apply style only on the hovered layer\n            if (layerName === 'area') {\n                if (dragEnd) {\n                    context.applyInteractionStyle(exitSet, { interactionType: 'fade', apply: false }, [layer]);\n                    mergedEnter.length &&\n                        context.applyInteractionStyle(mergedEnter, { interactionType: 'focus', apply: true }, [layer]);\n                }\n            } else {\n                // dragEnd style\n                context.applyInteractionStyle(mergedExit, { interactionType, apply: false }, [layer]);\n                if (!payload.dragEnd) {\n                    context.applyInteractionStyle(mergedExit, { interactionType: 'focus', apply: false }, [layer]);\n                } else {\n                    context.applyInteractionStyle(mergedExit, { interactionType: 'focus', apply: true }, [layer]);\n                }\n\n                interactionType !== 'doubleStroke' &&\n                    context.applyInteractionStyle(mergedExit, { interactionType: 'doubleStroke', apply: false });\n                context.applyInteractionStyle(mergedEnter, { interactionType, apply: true }, [layer]);\n            }\n        });\n    }\n};\n\nexport const strategies = {\n    fade: fadeFn,\n    fadeOnBrush: fadeOnBrushFn,\n    focus: (set, context) => {\n        const { formattedSet } = set;\n        const {\n            entrySet,\n            mergedEnter,\n            mergedExit,\n            completeSet\n        } = formattedSet;\n        const { firebolt } = context;\n\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, { interactionType: 'focus', apply: false });\n            context.applyInteractionStyle(completeSet, { interactionType: 'focusStroke', apply: false });\n            context.applyInteractionStyle(completeSet, { interactionType: 'commonDoubleStroke', apply: false });\n        } else {\n            context.applyInteractionStyle(mergedExit, { interactionType: 'focusStroke', apply: false });\n            context.applyInteractionStyle(entrySet, { interactionType: 'focusStroke', apply: true });\n\n            const payload = firebolt.getPayload(BEHAVIOURS.HIGHLIGHT);\n            const entryExitSet = firebolt.getEntryExitSet(BEHAVIOURS.HIGHLIGHT);\n            const layers = firebolt.context.layers();\n\n            if (payload.target && entryExitSet) {\n                layers.forEach((layer) => {\n                    const layerName = layer.constructor.formalName();\n\n                    if (layerName === 'area') {\n                        context.applyInteractionStyle(mergedExit, { interactionType: 'focus', apply: false }, [layer]);\n                        context.applyInteractionStyle(mergedEnter, { interactionType: 'focus', apply: true }, [layer]);\n                    } else {\n                        context.applyInteractionStyle(mergedExit, { interactionType: 'focus', apply: true }, [layer]);\n                        context.applyInteractionStyle(mergedEnter, { interactionType: 'focus', apply: false }, [layer]);\n                    }\n\n                    // get uids of only the currently highlighted point\n                    const actualPoint = layer.getUidsFromPayload(entryExitSet.mergedEnter, payload.target);\n\n                    const commonSet = intersect(mergedEnter.uids, actualPoint.uids,\n                        [v => v[0], v => v[0]]);\n\n                    if (commonSet.length) {\n                        context.applyInteractionStyle({ uids: commonSet },\n                                { interactionType: 'commonDoubleStroke', apply: true },\n                                [layer]\n                            );\n                    } else {\n                        context.applyInteractionStyle({ uids: mergedExit.uids },\n                            { interactionType: 'commonDoubleStroke', apply: false },\n                            [layer]\n                        );\n                    }\n                });\n            }\n        }\n    },\n    highlight: (set, context, payload, excludeSetIds) => {\n        const { selectionSet } = set;\n\n        if (!selectionSet.mergedEnter.length && !selectionSet.mergedExit.length) {\n            // Remove focusStroke on selected but currently non-highlighted set\n            context.applyInteractionStyle(selectionSet.completeSet, { interactionType: 'highlight', apply: false });\n            context.applyInteractionStyle(selectionSet.completeSet,\n                { interactionType: 'commonDoubleStroke', apply: false }\n            );\n        } else {\n            const layers = context.firebolt.context.layers();\n\n            layers.forEach((layer) => {\n                if (payload.target) {\n                    // get uids of only the currently highlighted point\n                    const actualPoint = layer.getUidsFromPayload(selectionSet.mergedEnter, payload.target);\n                    // get uids of only the currently highlighted point excluding the excludeSet ids\n                    const currentHighlightedSet = getFormattedSet(actualPoint, excludeSetIds);\n\n                    // Apply highlight on the currently hovered point\n                    context.applyInteractionStyle(currentHighlightedSet,\n                        { interactionType: 'highlight', apply: true },\n                        [layer]\n                    );\n\n                    context.applyInteractionStyle(selectionSet.mergedExit,\n                        { interactionType: 'highlight', apply: false },\n                        [layer]\n                    );\n\n                    const selectEntrySet = context.firebolt.getEntryExitSet('select');\n                    if (selectEntrySet) {\n                        const commonSet = intersect(selectEntrySet.mergedEnter.uids, actualPoint.uids,\n                            [v => v[0], v => v[0]]);\n                        const diffSet = difference(selectEntrySet.mergedEnter.uids, actualPoint.uids,\n                            [v => v[0], v => v[0]]);\n\n                        if (commonSet.length) {\n                            context.applyInteractionStyle({ uids: commonSet },\n                                { interactionType: 'commonDoubleStroke', apply: true },\n                                [layer]\n                            );\n                        }\n                        context.applyInteractionStyle({ uids: diffSet },\n                            { interactionType: 'commonDoubleStroke', apply: false },\n                            [layer]\n                        );\n                    }\n                }\n            });\n        }\n    },\n    pseudoFocus: (set, context) => {\n        const { formattedSet } = set;\n        const {\n            mergedEnter\n        } = formattedSet;\n\n        context.applyInteractionStyle(mergedEnter, { interactionType: 'focus', apply: false });\n    }\n};\n","import { selectElement } from 'muze-utils';\n\nexport const getBoxDimensionsFromPayload = (payload, axes, axisFields) => {\n    let x1;\n    let x2;\n    let y1;\n    let y2;\n    let xRange;\n    let yRange;\n    const criteria = payload.criteria;\n    const dimensions = payload.dimensions || {};\n    const { x: xDim, y: yDim } = dimensions;\n\n    if (!criteria) return null;\n\n    if (axes.x && axes.y) {\n        const xAxis = axes.x[0];\n        const yAxis = axes.y[0];\n        const xLinear = xAxis.constructor.type() === 'linear';\n        const yLinear = yAxis.constructor.type() === 'linear';\n        const xField = `${axisFields.x[0]}`;\n        const yField = `${axisFields.y[0]}`;\n        const xCriteria = criteria[xField];\n        const yCriteria = criteria[yField];\n\n        if (xCriteria && xCriteria[0] instanceof Array) {\n            xRange = xCriteria[0];\n            yRange = xCriteria[1];\n        } else {\n            xRange = xCriteria || [];\n            yRange = yCriteria || [];\n        }\n\n        if (xRange && xRange.length) {\n            const domain = xAxis.domain();\n            const bandScale = xAxis.constructor.type() === 'band';\n            let x1Val = xRange[0];\n            let x2Val = xRange[xRange.length - 1];\n\n            if (bandScale) {\n                let x1DomainIndex = domain.indexOf(xRange[0]);\n                let x2DomainIndex = domain.indexOf(xRange[xRange.length - 1]);\n                [x1DomainIndex, x2DomainIndex] = [x1DomainIndex, x2DomainIndex].sort((a, b) => a - b);\n                x1Val = domain[x1DomainIndex];\n                x2Val = domain[x2DomainIndex];\n            }\n\n            x1 = xAxis.getScaleValue(x1Val);\n            x2 = xAxis.getScaleValue(x2Val);\n            x2 += bandScale ? xAxis.getUnitWidth() : 0;\n        }\n\n        if (yRange && yRange.length) {\n            const domain = yAxis.domain();\n            const bandScale = yAxis.constructor.type() === 'band';\n            let y1Val = yRange[0];\n            let y2Val = yRange[yRange.length - 1];\n\n            if (bandScale) {\n                let y1DomainIndex = domain.indexOf(yRange[0]);\n                let y2DomainIndex = domain.indexOf(yRange[yRange.length - 1]);\n                [y1DomainIndex, y2DomainIndex] = [y1DomainIndex, y2DomainIndex].sort(((a, b) => b - a));\n                y1Val = domain[y1DomainIndex];\n                y2Val = domain[y2DomainIndex];\n            }\n\n            y1 = yAxis.getScaleValue(y1Val);\n            y2 = yAxis.getScaleValue(y2Val);\n            y2 += yAxis.constructor.type() === 'band' ? yAxis.getUnitWidth() : 0;\n        }\n\n        if ((yLinear && xLinear) || !payload.dragEnd) {\n            if (xDim) {\n                [x1, x2] = xDim;\n            }\n            if (yDim) {\n                [y1, y2] = yDim;\n            }\n        }\n    }\n\n    return {\n        dimension: {\n            x1,\n            x2,\n            y1,\n            y2\n        },\n        direction: 'both'\n    };\n};\n\nexport const changeVisibility = (context, sideEffectGroup, visible) => {\n    const config = context.config();\n    const className = config.defClassName;\n    const classPrefix = config.classPrefix;\n    selectElement(sideEffectGroup).selectAll(`.${classPrefix}-${className}`)\n                    .style('display', visible ? 'block' : 'none');\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    isValidValue\n} from 'muze-utils';\nimport { SELECTIONDRAG } from '../../enums/actions';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport './styles.scss';\nimport SpawnableSideEffect from '../spawnable';\nimport { selectionBoxDrag } from '../../actions/physical/selection-box-drag';\nimport { getBoxDimensionsFromPayload, changeVisibility } from './helper';\nimport { BEHAVIOURS } from '../..';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\nclass SelectionBox extends SpawnableSideEffect {\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            defClassName: 'selection-box-group',\n            className: '',\n            classPrefix: CLASSPREFIX,\n            box: {\n                defClassName: 'selection-box',\n                className: ''\n            },\n            transition: {\n                duration: 200\n            },\n            persistent: false\n        };\n    }\n\n    static formalName () {\n        return 'selectionBox';\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     * @param {Object} dimension Dimensions of the selection box.\n     * @param {number} dimension.x1 Starting x position\n     * @param {number} dimension.x2 Ending x position\n     * @param {number} dimension.y1 Starting y position\n     * @param {number} dimension.y2 Ending y position\n     * @param {Object} conf Configuration needed to draw the selection box\n     * @param {number} unitWidth Width of the visual unit.\n     * @param {number} unitHeight Height of the visual unit.\n     */\n    apply (selectionSet, payload) {\n        let x = 0;\n        let y = 0;\n        let width;\n        let height;\n        const config = this._config;\n        const boxConf = config.box;\n        const firebolt = this.firebolt;\n        const drawingInf = this.drawingContext();\n        const mountPoint = drawingInf.sideEffectGroup;\n        const unitWidth = drawingInf.width;\n        const unitHeight = drawingInf.height;\n        const classPrefix = config.classPrefix;\n        const selectionGroupClassName = config.defClassName;\n\n        width = unitWidth;\n        height = unitHeight;\n\n        // Hide selection-box on dragEnd or when criteria is empty\n        if (!payload.criteria || (payload.hideSelBox && !config.persistent)) {\n            this.hide(drawingInf);\n            return this;\n        }\n\n        const sourceInf = this.sourceInfo();\n        const { dimension, direction } =\n            getBoxDimensionsFromPayload(payload, sourceInf.axes, sourceInf.fields);\n        const transition = payload.dragEnd && config.transition;\n\n        if (direction === 'both') {\n            x = Math.min(dimension.x1, dimension.x2);\n            y = Math.min(dimension.y1, dimension.y2);\n            width = Math.abs(dimension.x2 - dimension.x1);\n            height = Math.abs(dimension.y2 - dimension.y1);\n        }\n\n        this.show(drawingInf);\n        // Create the data array for drawing the rectangle\n        const points = [\n            {\n                x,\n                y,\n                width,\n                height\n            }\n        ];\n        // Create the container group for selection box.\n        const selectionGroup = makeElement(selectElement(mountPoint), 'g', [1],\n            `.${classPrefix}-${selectionGroupClassName}`);\n        const sideEffect = this;\n        const selection = selectionGroup.selectAll('rect').data(points);\n        const selectionBox = selection.enter().append('rect')\n                        .each(function () {\n                            // Add selectiondrag entry in firebolt._actionBehaviourMap\n                            firebolt.registerPhysicalBehaviouralMap({\n                                [SELECTIONDRAG]: {\n                                    target: [selectElement(this)],\n                                    behaviours: [BEHAVIOURS.BRUSH]\n                                }\n                            });\n                            selectionBoxDrag(firebolt)(selectElement(this), ['brush'], sideEffect);\n                        })\n                        .merge(selection)\n                        .each(function (attrs) {\n                            let element = selectElement(this);\n                            transition && (element = element.transition().duration(transition.duration));\n                            for (const key in attrs) {\n                                if ({}.hasOwnProperty.call(attrs, key)) {\n                                    isValidValue(attrs[key]) && element.attr(key, attrs[key]);\n                                }\n                            }\n                        });\n        // Get the qualified class name for selection box rectangle\n        const boxClassName = getQualifiedClassName(boxConf.defClassName, this._id, classPrefix);\n        selectionBox.classed(boxClassName.join(' '), true);\n        selectionBox.classed(boxConf.className, true);\n\n        return this;\n    }\n\n    hide (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, false);\n    }\n\n    show (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, true);\n    }\n}\n\nexport default SelectionBox;\n","// extracted by mini-css-extract-plugin","import { makeElement } from 'muze-utils';\n\nimport GenericSideEffect from './generic';\n\n/**\n * Any side effect which will add any new element to the chart like drawing a rectangular box or any annotation over\n * the chart needs to inherit this class. This class has methods which returns the container where the dom elements\n * needs to be created.\n *\n * To use this,\n * ```\n *      const SpawnableSideEffect = muze.SideEffects.standards.SpawnableSideEffect;\n *\n *      class SelectionBox extends SpawnableSideEffect {\n *          static formalName () {\n *              return 'selectionBox';\n *          }\n *\n *          // Implement the logic of applying the style here.\n *          apply () {\n *          }\n *      }\n * ```\n * @public\n * @class\n * @extends GenericSideEffect\n * @module SpawnableSideEffect\n */\nexport default class SpawnableSideEffect extends GenericSideEffect {\n    /**\n     * Creates a html or svg element in the container.\n     *\n     * @public\n     * @param {SVGElement|HTMLElement} container Container where the dom element will be rendered.\n     * @param {string} elemType Type of dom element.\n     * @param {Array} data Array of objects with which the dom elements will be binded.\n     * @param {string} className class name of the element.\n     *\n     * @return {Selection} D3 Selection of the element.\n     */\n    createElement (container, elemType, data, className, callbacks) {\n        return makeElement(container, elemType, data, className, callbacks);\n    }\n\n    /**\n     * Returns the drawing information for side effect like svg container, dimensions of the visual unit.\n     *\n     * @public\n     * @return {Object} Drawing information for side effect.\n     * ```\n     *      sideEffectGroup: // svg container where the side effect needs to be appended.\n     *      svgContainer: // svg container of the {@link VisualUnit}.\n     *      htmlContainer: // html div container of the {@link VisualUnit}.\n     *      width: // Width of the {@link VisualUnit}\n     *      height: // Height of the {@link VisualUnit}\n     * ```\n     */\n    drawingContext (...drawingContext) {\n        if (drawingContext.length) {\n            this._drawingContext = drawingContext[0];\n            return this;\n        }\n        return this._drawingContext();\n    }\n\n    show () {\n        return this;\n    }\n\n    hide () {\n        return this;\n    }\n}\n","import GenericSideEffect from './generic';\n\n/**\n * This class is inherited by all side effects which changes the look of any existing elements in the visualization.\n * For example, if a side effect wants to change the color of bar plots, then it is a surrogate side effect.\n *\n * To use this,\n * ```\n *      const SurrogateSideEffect = muze.SideEffects.standards.SurrogateSideEffect;\n *\n *      class BarColorChanger extends SurrogateSideEffect {\n *          static formalName () {\n *              return 'colorChanger';\n *          }\n *\n *          // Implement the logic of applying the style here.\n *          apply () {\n *          }\n *      }\n * ```\n * @public\n *\n * @module SurrogateSideEffect\n * @class\n * @extends GenericSideEffect\n */\nexport default class SurrogateSideEffect extends GenericSideEffect {\n    /**\n     * Applies or removes interaction styles from plot elements. An array of row ids needs to be passed\n     * which identifies the plot elements and applies styles to them.\n     *\n     * To apply the interaction style,\n     * ```\n     *      const entryRowIds = entrySet[0].uids;\n     *      const interactionStyle = [{\n     *          type: 'fill',\n     *          intensity: [0, 0, 15, 0] // hsla configuration\n     *      }];\n     *\n     *      this.applyInteractionStyle(entryRowIds, interactionStyle, 'brighten', true);\n     * ```\n     * @public\n     * @param {Array} set Array of row ids.\n     * @param {Array} config Style configuration.\n     * @param {Object} config[0] fill or stroke configuration.\n     * @param {string} config[0].type Type of style - fill or stroke.\n     * @param {Array} config[0].intensity hsla configuration.\n     * @param {string} interactionType Type of interaction. This is needed for storing the styles for\n     * each type of interaction in the plot elements.\n     * @param {boolean} apply Whether to apply or remove the interaction style.\n     *\n     * @return {SurrogateSideEffect} Instance of surrogate side effect.\n     */\n    applyInteractionStyle (set, config = {}, layers) {\n        const { interactionType, apply, reset = false } = config;\n        const allLayers = layers || this.firebolt.context.layers();\n        allLayers.forEach((layer) => {\n            const { interactive } = layer.config();\n            if (interactive !== false) {\n                const layerFields = layer.data().getFieldsConfig();\n                const filteredUids = set.uids.filter(([, measures = []]) => measures.every(m => m in layerFields))\n                    .map(d => d[0]);\n                const options = { apply, reset, styles: null };\n                layer.applyInteractionStyle(interactionType, filteredUids, options);\n            }\n        });\n        return this;\n    }\n}\n","import { Tooltip as TooltipRenderer } from '@chartshq/muze-tooltip';\nimport { mergeRecursive, defaultValue } from 'muze-utils';\nimport { strategies } from './strategies';\nimport { TOOLTIP } from '../../enums/side-effects';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\nimport { HIGHLIGHT_SUMMARY } from '../../enums/tooltip-strategies';\n\nconst configResolvers = {\n    [HIGHLIGHT_SUMMARY]: (specificConf, config) => defaultValue(specificConf, config),\n    default: specificConf => defaultValue(specificConf, {})\n};\n\nconst sanitizeConfig = (config, context) => {\n    const strategyObj = context._strategies;\n    const sanitizedConf = Object.assign({}, config);\n    for (const key in strategyObj) {\n        sanitizedConf[key] = defaultValue(configResolvers[key], configResolvers.default)(config[key], config);\n    }\n    return sanitizedConf;\n};\n\nexport default class Tooltip extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._tooltips = {};\n        this._strategies = mergeRecursive({}, strategies);\n        this._strategy = HIGHLIGHT_SUMMARY;\n    }\n\n    static defaultConfig () {\n        return {\n            padding: 5,\n            offset: {\n                x: 0,\n                y: 0\n            },\n            highlightSummary: {\n                order: 1,\n                dataTransform: (dm, fields) => (fields ? dm.project(fields, { saveChild: false }) : dm)\n            },\n            selectionSummary: {\n                order: 0,\n                dataTransform: dm => dm\n            }\n        };\n    }\n\n    static formalName () {\n        return TOOLTIP;\n    }\n\n    config (...params) {\n        if (params.length) {\n            const config = this._config = mergeRecursive(this._config, sanitizeConfig(params[0], this));\n            const strategyObj = this._strategies;\n            for (const key in strategyObj) {\n                const formatter = config[key].formatter;\n                this.setStrategy(key, formatter);\n            }\n            return this;\n        }\n        return this._config;\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const dataModel = selectionSet && selectionSet.mergedEnter.model;\n\n        if ((payload.criteria === null || (dataModel && dataModel.isEmpty())) || selectionSet === null) {\n            this.hide(options, null);\n            return this;\n        }\n\n        const strategy = defaultValue(options.strategy, this._strategy);\n\n        this.createTooltip(dataModel, Object.assign({}, {\n            payload,\n            selectionSet,\n            strategy,\n            options\n        }), null, 0);\n\n        return this;\n    }\n\n    static target () {\n        return 'all';\n    }\n\n    hide (options) {\n        const tooltips = this._tooltips;\n        const { orientation } = this.config();\n\n        for (const key in tooltips) {\n            if ({}.hasOwnProperty.call(tooltips, key)) {\n                const tooltip = tooltips[key];\n                const strategy = options.strategy || this._strategy;\n                tooltip.content(strategy, null);\n                if (!Object.keys(tooltip._contents).length) {\n                    tooltip.hide();\n                } else {\n                    tooltip.positionRelativeTo(tooltip._target, {\n                        orientation\n                    });\n                }\n            }\n        }\n    }\n\n    getPlotPointsFromIdentifiers (payload) {\n        let target = payload.target;\n        let targetFields = [];\n\n        if (target) {\n            targetFields = target[0] || [];\n            const sourceFields = payload.sourceFields;\n            const indices = [];\n            for (let i = 0, len = targetFields.length; i < len; i++) {\n                if (sourceFields.indexOf(targetFields[i]) !== -1) {\n                    indices.push(i);\n                }\n            }\n            target = target.map(d => d.filter((v, i) => indices.indexOf(i) !== -1));\n        }\n\n        return super.plotPointsFromIdentifiers(target || payload.criteria, {\n            getBBox: true\n        });\n    }\n\n    createTooltip (dataModel, props = {}, plotDim, key) {\n        const drawingInf = this.drawingContext();\n        const sourceInf = this.sourceInfo();\n        const config = this.config();\n        const {\n            strategy,\n            payload,\n            selectionSet\n        } = props;\n        plotDim = defaultValue(plotDim, this.getPlotPointsFromIdentifiers(payload));\n        plotDim = plotDim && plotDim[0];\n        const pad = config.padding;\n        const { showInPosition, position: tooltipPos } = payload;\n        const { fields: projectFields, dataTransform } = config[strategy];\n\n        const strategyFn = this._strategies[strategy];\n        const dt = dataTransform(dataModel, projectFields, this);\n        const { parentContainer: layoutContainer, parentContainerDimensions } = drawingInf;\n        const layoutBoundBox = layoutContainer.getBoundingClientRect();\n        const unitBoundBox = drawingInf.htmlContainer.getBoundingClientRect();\n\n        const offsetLeft = unitBoundBox.left - layoutBoundBox.left;\n        const offsetTop = unitBoundBox.top - layoutBoundBox.top;\n        const tooltipInst = this._tooltips[key] = this._tooltips[key] || new TooltipRenderer(layoutContainer,\n            drawingInf.svgContainer);\n\n        Object.assign(sourceInf, {\n            payload,\n            firebolt: this.firebolt,\n            detailFields: [],\n            timeDiffs: sourceInf.timeDiffs,\n            valueParser: this.valueParser(),\n            selectionSet,\n            config: config[strategy]\n        });\n\n        tooltipInst.context(sourceInf);\n        tooltipInst.content(strategy, dt, {\n            formatter: strategyFn,\n            order: config[strategy].order,\n            className: config[strategy].className\n        })\n                        .config(this.config())\n                        .extent({\n                            x: 0,\n                            y: 0,\n                            width: parentContainerDimensions.width,\n                            height: parentContainerDimensions.height\n                        })\n                        .offset({\n                            x: offsetLeft + (config.offset.x || 0),\n                            y: offsetTop + (config.offset.y || 0)\n                        });\n\n        if (showInPosition) {\n            tooltipInst.position(tooltipPos.x + pad, tooltipPos.y + pad);\n        } else if (plotDim) {\n            tooltipInst.positionRelativeTo({\n                x: plotDim.x,\n                y: plotDim.y,\n                width: plotDim.width || 0,\n                height: plotDim.height || 0\n            }, {\n                orientation: config.orientation\n            }\n            );\n        } else {\n            tooltipInst.hide();\n        }\n    }\n}\n","import {\n    FieldType,\n    GROUP_BY_FUNCTIONS,\n    formatTemporal,\n    DimensionSubtype,\n    MeasureSubtype,\n    DataModel,\n    defaultValue,\n    retrieveFieldDisplayName,\n    nestCollection,\n    getObjProp,\n    intersect,\n    ReservedFields\n} from 'muze-utils';\nimport { TABLE_FORMAT } from '@chartshq/muze-tooltip';\nimport { SELECTION_SUMMARY, HIGHLIGHT_SUMMARY } from '../../enums/tooltip-strategies';\nimport { BAR } from '../../../../visual-group/src/enums/constants';\nimport { NULL, UNDEFINED } from '../../enums/constants';\n\nconst { SUM, COUNT } = GROUP_BY_FUNCTIONS;\nconst { InvalidAwareTypes } = DataModel;\nconst FIRST_VALUE_MARGIN = '10px';\nconst STACK = 'stack';\nconst SINGLE_DATA_MARGIN = 10;\nconst defNumberFormat = value => `${value % value.toFixed(0) === 0 ? value : value.toFixed(2)}`;\n\nconst formatters = (formatter, interval, valueParser) => ({\n    [DimensionSubtype.TEMPORAL]: value => (value instanceof InvalidAwareTypes ? valueParser(value) :\n        formatTemporal(Number(value), interval)),\n    [MeasureSubtype.CONTINUOUS]: value => (value instanceof InvalidAwareTypes ? valueParser(value) :\n        formatter(defNumberFormat(value))),\n    [DimensionSubtype.CATEGORICAL]: value => valueParser(value)\n});\n\nconst getTabularData = (dataObj, fieldInf) => {\n    const rows = [];\n    const { data, schema } = dataObj;\n    rows.push(schema.map(d => fieldInf[d.name].displayName));\n\n    data.forEach((d) => {\n        const row = [];\n        schema.forEach((fieldObj, i) => {\n            const value = fieldInf[fieldObj.name].fn(d[i]);\n            row.push(value);\n        });\n        rows.push(row);\n    });\n    return rows;\n};\n\nconst isSingleValue = (dataLen, stackedSum) => dataLen === 1 && !stackedSum;\n\nconst getStackedKeyValue = (params) => {\n    const { field, value, classPrefix } = params;\n    return ({\n        className: `${classPrefix}-tooltip-stacked-row`,\n        data: [{\n            value: field,\n            className: `${classPrefix}-tooltip-stacked-row-key`\n        }, {\n            value: `${value}`,\n            className: `${classPrefix}-tooltip-stacked-row-value`\n        }]\n    });\n};\n\nconst getKeyValue = (params) => {\n    const { field, value, classPrefix, margin, isSelected, removeKey, stackedSum, isStackedBar } = params;\n    let { stackedValue } = params;\n\n    if (!removeKey) {\n        const keyObj = {\n            value: field,\n            className: `${classPrefix}-tooltip-key`\n        };\n        const valueObj = {\n            value,\n            className: `${classPrefix}-tooltip-value`\n        };\n\n        if (stackedValue === NULL || stackedValue === UNDEFINED) {\n            stackedValue = 0;\n        }\n\n        const stackedValueObj = {\n            value: stackedSum ? `(${(stackedValue * 100 / stackedSum).toFixed(2)} %)` : undefined,\n            className: `${classPrefix}-tooltip-stacked-percentage`\n        };\n\n        if (margin !== undefined) {\n            keyObj.style = {\n                'margin-left': `${margin}px`\n            };\n            valueObj.style = {\n                'margin-left': `${margin}px`\n            };\n            stackedValueObj.style = {\n                'margin-left': `${margin}px`\n            };\n        }\n\n        return ({\n            className: isSelected ? `${classPrefix}-tooltip-row ${classPrefix}-tooltip-selected-row`\n                : `${classPrefix}-tooltip-row`,\n            data: stackedSum && isStackedBar ? [keyObj, stackedValueObj, valueObj] : [keyObj, valueObj]\n        });\n    }\n    return ({\n        data: [{\n            className: '',\n            value,\n            style: {\n                'margin-left': FIRST_VALUE_MARGIN\n            }\n        }],\n        className: `${classPrefix}-tooltip-first`\n    });\n};\n\nexport const getStackedSum = (values, index) => values.reduce((a, b) => {\n    if (b[index] instanceof InvalidAwareTypes) {\n        return a + 0;\n    }\n    return a + b[index];\n}, 0);\n\nexport const isStackedChart = layers => layers.some(d => d.transformType() === STACK);\nexport const isStackedBarChart = layers => layers.some(d => d.transformType() === STACK && d.config().mark === BAR);\n\nconst generateRetinalFieldsValues = (valueArr, retinalFields, content, context) => {\n    const {\n        fieldsConfig,\n        dimensionMeasureMap,\n        axes,\n        config,\n        fieldInf,\n        dataLen,\n        target,\n        stackedSum,\n        isStackedBar\n    } = context;\n    const { classPrefix, margin, separator } = config;\n    const colorAxis = axes.color[0];\n    const shapeAxis = axes.shape[0];\n    const sizeAxis = axes.size[0];\n    const REF_VALUES_INDEX = 1;\n    const REF_KEYS_INDEX = 0;\n\n    for (const retField in retinalFields) {\n        const retIndex = fieldsConfig[retField].index;\n        const retinalFieldValue = valueArr[retIndex];\n        const measuresArr = dimensionMeasureMap[retField];\n        const icon = {\n            type: 'icon',\n            color: colorAxis.getColor(retinalFieldValue),\n            size: sizeAxis.config().value,\n            shape: shapeAxis.getShape(retinalFieldValue)\n        };\n        const { displayName, fn } = fieldInf[retField];\n        const formattedRetinalValue = fn(retinalFieldValue);\n\n        if (isSingleValue(dataLen, stackedSum)) {\n            content.push(getKeyValue({\n                field: displayName,\n                value: formattedRetinalValue,\n                classPrefix,\n                margin: SINGLE_DATA_MARGIN\n            }));\n        } else {\n            const hasMultipleMeasures = measuresArr.length > 1;\n            hasMultipleMeasures && (content.push({ data: [icon, formattedRetinalValue] }));\n            const selectedContext = target && target[REF_VALUES_INDEX][target[REF_KEYS_INDEX].indexOf(retField)];\n            const isSelected = selectedContext === retinalFieldValue;\n\n            measuresArr.forEach((measure) => {\n                const measureIndex = fieldsConfig[measure].index;\n                const { displayName: dName, fn: formatterFn } = fieldInf[measure];\n                const currentMeasureValue = valueArr[measureIndex];\n                const value = formatterFn(currentMeasureValue);\n                const keyValue = getKeyValue({\n                    field: hasMultipleMeasures ? `${dName}${separator}` : formattedRetinalValue,\n                    value,\n                    classPrefix,\n                    margin: hasMultipleMeasures ? margin : undefined,\n                    isSelected,\n                    stackedSum,\n                    stackedValue: currentMeasureValue instanceof InvalidAwareTypes\n                    ? currentMeasureValue.value()\n                    : currentMeasureValue.toFixed(2),\n                    isStackedBar\n                });\n\n                if (!hasMultipleMeasures) {\n                    keyValue.data = [icon, ...keyValue.data];\n                }\n                content.push(keyValue);\n            });\n        }\n    }\n};\n\nconst getFieldInf = (schema, dataModel, context) => {\n    const { valueParser, timeDiffs } = context;\n    const fieldsObj = dataModel.getFieldspace().fieldsObj();\n    const defFormatter = formatters(null, null, valueParser)[DimensionSubtype.CATEGORICAL];\n\n    return schema.reduce((inf, field) => {\n        const { subtype, name, type } = field;\n        const interval = subtype === DimensionSubtype.TEMPORAL ? timeDiffs[name] : 0;\n        const nf = type === FieldType.MEASURE ? fieldsObj[name].numberFormat() : val => val;\n        inf[name] = {\n            fn: defaultValue(formatters(nf, interval, valueParser)[subtype], defFormatter),\n            displayName: `${retrieveFieldDisplayName(dataModel, name)}`\n        };\n        return inf;\n    }, {});\n};\n\nexport const buildTooltipData = (dataModel, config = {}, context) => {\n    let nestedDataObj;\n    let fieldValues = [];\n    const { data, schema } = dataModel.getData();\n    const fieldspace = dataModel.getFieldspace();\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const { color, shape, size } = context.retinalFields;\n    const detailFields = context.detailFields || [];\n    const { showStackSum = true } = context.config || {};\n    const { selectedMeasures = [] } = context.payload;\n    const dimensions = schema.filter(d => d.type === FieldType.DIMENSION);\n    const measures = schema.filter(d => d.type === FieldType.MEASURE);\n    const containsDetailField = !!intersect(schema, detailFields).length;\n    const dataLen = data.length;\n    const {\n        dimensionMeasureMap,\n        axes\n    } = context;\n    const fieldInf = getFieldInf(schema, dataModel, context);\n\n    let displayFormat;\n    if (dataLen > 1 && containsDetailField) {\n        fieldValues = getTabularData({\n            data,\n            schema,\n            fieldspace\n        }, fieldInf);\n        displayFormat = TABLE_FORMAT;\n    } else {\n        const retinalFields = [color.field, shape.field, size.field].reduce((acc, field) => {\n            field && fieldsConfig[field].def.type === FieldType.DIMENSION && (acc[field] = 1);\n            return acc;\n        }, {});\n        const filteredDimensions = dimensions.filter(field => !retinalFields[field.name]);\n        const indices = filteredDimensions.map(dim => fieldsConfig[dim.name].index);\n        const allMeasures = [...new Set(...Object.values(dimensionMeasureMap))];\n        const isStacked = isStackedChart(context.layers);\n        const isStackedBar = isStackedBarChart(context.layers);\n        const filteredMeasures = !isSingleValue(dataLen, isStacked)\n            ? measures.filter(d => allMeasures.indexOf(d.name) === -1)\n            : measures;\n\n        nestedDataObj = nestCollection({\n            data,\n            keys: indices\n        });\n        nestedDataObj = !getObjProp(nestedDataObj[0], 'key') ? [{\n            values: nestedDataObj\n        }] : nestedDataObj;\n\n        const generateTooltipContent = (nestedData, index = 0, content = []) => {\n            const { classPrefix, separator } = config;\n            for (let i = 0, len = nestedData.length; i < len; i++) {\n                const { values, key } = nestedData[i];\n                const field = getObjProp(schema, indices[index], 'name');\n                const margin = dataLen === 1 || Object.keys(retinalFields).length === 0\n                ? SINGLE_DATA_MARGIN : undefined;\n                if (field) {\n                    const { displayName, fn } = fieldInf[field];\n                    const formattedValue = fn(key);\n                    const removeKey = !isSingleValue(dataLen, isStacked);\n                    content.push(getKeyValue({\n                        field: `${displayName}${separator}`,\n                        value: formattedValue,\n                        classPrefix,\n                        margin,\n                        isSelected: undefined,\n                        removeKey\n                    }));\n                }\n\n                if (values[0] && values[0].key) {\n                    generateTooltipContent(values, index + 1, content);\n                } else {\n                    let stackedSum = 0;\n                    if (isStacked && showStackSum) {\n                        stackedSum = getStackedSum(\n                            values,\n                            fieldsConfig[measures[0].name].index\n                        );\n                        const nf = measures[0].numberFormat;\n                        content.push(getStackedKeyValue({\n                            field: `${'Total'}${separator}`,\n                            value: nf ? nf(stackedSum.toFixed(2)) : stackedSum.toFixed(2),\n                            classPrefix\n                        }));\n                    }\n                    for (let j = 0, len2 = values.length; j < len2; j++) {\n                        const valueArr = values[j];\n                        generateRetinalFieldsValues(valueArr, retinalFields, content, {\n                            fieldInf,\n                            axes,\n                            config,\n                            fieldsConfig,\n                            dimensionMeasureMap,\n                            dataLen,\n                            target: context.payload.target,\n                            stackedSum,\n                            isStackedBar\n                        });\n                        filteredMeasures.forEach((measure) => {\n                            const { name } = measure;\n                            const { displayName, fn } = fieldInf[name];\n                            content.push(getKeyValue({\n                                field: `${displayName}${separator}`,\n                                isSelected: selectedMeasures.indexOf(name) !== -1,\n                                value: fn(valueArr[fieldsConfig[name].index]),\n                                classPrefix,\n                                margin: SINGLE_DATA_MARGIN\n                            }));\n                        });\n                    }\n                }\n            }\n        };\n        generateTooltipContent(nestedDataObj, 0, fieldValues);\n    }\n\n    return {\n        content: fieldValues,\n        displayFormat\n    };\n};\n\n/**\n * Calculate aggregated values of measures from entry set and datamodel.\n *\n * @param {DataModel} dm DataModel instance\n * @param {EntrySet} entrySet Entry set\n */\nconst getAggregatedValues = (dm, entrySet) => {\n    const fields = entrySet.fields;\n    const aggFns = entrySet.aggFns;\n    // Create a map of all the dimensions and the measures\n    const dimsMap = entrySet.uids.reduce((acc, v) => {\n        const dims = v[2];\n\n        !acc[dims] && (acc[dims] = []);\n        acc[dims].push(v[1]);\n        return acc;\n    }, {});\n    const aggMeasures = Object.keys(dm.getFieldspace().getMeasure());\n    const aggregatedValues = {};\n    aggMeasures.forEach((measure) => {\n        // Filter all the rows which has this measure and dimensions and apply aggregation.\n        const groupedDm = dm.select((dmFields, id) => {\n            const row = `${fields.map(field => (field === ReservedFields.ROW_ID ? id :\n                dmFields[field].internalValue))}`;\n            const measures = dimsMap[row];\n            if (measures) {\n                return measures.find(arr => arr.indexOf(measure) !== -1);\n            }\n            return false;\n        }, {\n            saveChild: false\n        }).groupBy([''], {\n            [measure]: aggFns[measure] === COUNT ? SUM : aggFns[measure]\n        }, {\n            saveChild: false\n        });\n        const fieldsConfig = groupedDm.getFieldsConfig();\n        if (!groupedDm.isEmpty()) {\n            aggregatedValues[measure] = groupedDm.getData().data[0][fieldsConfig[measure].index];\n        }\n    });\n    return aggregatedValues;\n};\n\nexport const strategies = {\n    [SELECTION_SUMMARY]: (dm, config, context) => {\n        const { selectionSet } = context;\n        const { classPrefix } = config;\n        const tooltipConf = context.config;\n        const { showMultipleMeasures } = tooltipConf;\n        const aggFns = selectionSet.mergedEnter.aggFns;\n        const entryUids = selectionSet.mergedEnter.uids;\n        const fieldsConf = dm.getFieldsConfig();\n        const aggregatedValues = getAggregatedValues(dm, selectionSet.mergedEnter);\n        const values = [{\n            className: `${classPrefix}-tooltip-row`,\n            data: [{\n                value: `${entryUids.length}`,\n                style: {\n                    'font-weight': 'bold'\n                }\n            }, 'Items Selected']\n        }];\n        let measures = Object.keys(aggregatedValues);\n        if (!showMultipleMeasures) {\n            measures = measures.slice(0, 1);\n        }\n        // Prepare the tooltip content\n        measures.forEach((measure) => {\n            const { numberFormat = defNumberFormat } = fieldsConf[measure].def;\n            const value = aggregatedValues[measure];\n            const rowValues = value instanceof InvalidAwareTypes ? [] : [`(${aggFns[measure].toUpperCase()})`,\n                `${retrieveFieldDisplayName(dm, measure)}:`,\n                {\n                    value: numberFormat(value),\n                    style: {\n                        'font-weight': 'bold'\n                    },\n                    className: `${classPrefix}-tooltip-value`\n                }];\n            if (showMultipleMeasures) {\n                values.push({\n                    className: `${classPrefix}-tooltip-row`,\n                    data: rowValues\n                });\n            } else {\n                values[0].data.push(...rowValues);\n            }\n        });\n\n        return values;\n    },\n    [HIGHLIGHT_SUMMARY]: (data, config, context) => buildTooltipData(data, config, context)\n};\n","// extracted by mini-css-extract-plugin","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const CONFIG = 'config';\nexport const DATAMODEL = 'dataModel';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const MAXWIDTH = 'max-width';\nexport const HEIGHT = 'height';\nexport const MOUNTPOINT = 'mountPoint';\nexport const GRIDLINEPARENTGROUPCLASS = 'grid-lines';\nexport const TRANSFORM = 'transform';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const DEFAULTCOLOR = '#F44336';\nexport const DEFAULTSIZE = 50;\nexport const VERTICAL_BUFFER = 10;\nexport const HORIZONTAL_BUFFER = 2;\nexport const DEFAULTICONSIZE = { // approximately the (size needed) * Math.PI value\n    circle: 64,\n    square: 45.8,\n    default: 42.8\n};\nexport const DEFAULTSHAPE = 'circle';\nexport const STEP = 'step';\nexport const GRADIENT = 'gradient';\nexport const ORDINAL = 'ordinal';\nexport const SCALE_FUNCTIONS = {\n    size: 'getSize',\n    shape: 'getShape',\n    color: 'getColor'\n};\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const HORIZONTAL = 'horizontal';\nexport const VERTICAL = 'vertical';\nexport const CENTER = 'center';\nexport const VALUE = 'value';\nexport const PATH = 'path';\nexport const SHAPE = 'shape';\nexport const ICON = 'icon';\nexport const RECT = 'rect';\nexport const START = 'start';\nexport const UPPER = 'upper';\nexport const LOWER = 'lower';\nexport const END = 'end';\nexport const SIZE = 'size';\nexport const DISCRETE = 'discrete';\nexport const MEASURE = 'measure';\nexport const DEFAULT = 'default';\n\nexport const POSITION_ALIGNMENT_MAP = {\n    [LEFT]: VERTICAL,\n    [RIGHT]: VERTICAL,\n    [TOP]: HORIZONTAL,\n    [BOTTOM]: HORIZONTAL\n};\n\nexport const OPPOSITE_POSITION = {\n    [LEFT]: RIGHT,\n    [RIGHT]: LEFT\n};\n\n","export const SELECTIONBOX = 'selectionBox';\nexport const Highlighter = 'highlighter';\nexport const Marker = 'marker';\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nconst CLASSPREFIX = 'muze';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        target: `.${CLASSPREFIX}-gradient-rect`,\n        behaviours: [BEHAVIOURS.BRUSH]\n    },\n    [ACTIONS.HOVER]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.CLICK]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.SELECT]\n    }\n};\n\nexport const propagationBehaviourMap = {\n    [BEHAVIOURS.SELECT]: BEHAVIOURS.FILTER,\n    [BEHAVIOURS.BRUSH]: BEHAVIOURS.HIGHLIGHT\n};\n","import * as BEHAVIOURS from '../enums/behaviours';\nimport * as sideEffects from '../enums/side-effects';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: [sideEffects.SELECTIONBOX, {\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.SELECT]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }]\n};\n\nexport const propagationSideEffects = {\n    [BEHAVIOURS.BRUSH]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.SELECT]: ['filter']\n};\n\n","export { default as SelectBehaviour } from './select';\n","import { PersistentBehaviour, SELECTION } from '@chartshq/muze-firebolt';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return 'select';\n    }\n\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            const propagationInf = this.firebolt._propagationInf;\n            // new add set\n            const existingRemoveSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_OLD_EXIT\n                || selectionSet._set[d] === SELECTION.SELECTION_NEW_EXIT);\n\n            if (propagationInf.sourceId) {\n                selectionSet.reset();\n                selectionSet.add(addSet);\n            } else {\n                // existing add set\n                if (existingRemoveSet.length) {\n                    selectionSet.updateEntry();\n                    selectionSet.add(existingRemoveSet);\n                } else {\n                    selectionSet.updateExit();\n                    selectionSet.remove(addSet);\n                }\n                const { exitSet } = selectionSet.getSets(true);\n                const mergedExitSet = [...new Set(exitSet[1]), ...new Set(exitSet[0])];\n                const completeSetCount = selectionSet.getCompleteSet().length;\n                if (exitSet[1].length !== completeSetCount && mergedExitSet.length === completeSetCount) {\n                    selectionSet.reset();\n                }\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n        return this;\n    }\n}\n","import { propagationBehaviourMap } from './action-behaviour-map';\nimport { propagationSideEffects } from './behaviour-effect-map';\n\nexport const propagate = (firebolt, action, identifiers) => {\n    const context = firebolt.context;\n    const data = context.metaData();\n\n    const propPayload = {};\n    propPayload.action = propagationBehaviourMap[action] || action;\n    // @TODO: Change fade propagationSideEffect for area layer\n    propPayload.sideEffects = propagationSideEffects[action];\n    propPayload.sourceCanvas = context.canvasAlias();\n    const isMutableAction = firebolt._actions.behavioural[propPayload.action].constructor.mutates();\n\n    const propConfig = {\n        sourceId: firebolt.id(),\n        payload: propPayload,\n        criteria: propPayload.criteria === null ? null : identifiers,\n        isMutableAction,\n        action: propPayload.action\n    };\n\n    data.propagate(identifiers, propConfig, true);\n};\n\nexport const payloadGenerator = {\n    __default: (selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const sourceIdentifiers = propConfig.sourceIdentifiers;\n        const dataObj = selectionDataModel.getData();\n        let schema = dataObj.schema;\n        const payload = Object.assign({}, propPayload);\n        schema = dataObj.schema;\n        const data = dataObj.data;\n        const sourceFields = schema.map(d => d.name);\n        payload.criteria = !sourceIdentifiers && selectionDataModel.isEmpty() ? null :\n                [sourceFields, ...data];\n        payload.sourceFields = sourceIdentifiers ? sourceIdentifiers.fields.map(d => d.name) : [];\n        return payload;\n    },\n    brush: (dm, propConfig) => {\n        const { criteria } = propConfig;\n        return {\n            criteria: criteria ? criteria.range : criteria\n        };\n    }\n};\n\n","import { Firebolt } from '@chartshq/muze-firebolt';\nimport { propagate, payloadGenerator } from './helper';\nimport { STEP, GRADIENT } from '../enums/constants';\nimport { HIGHLIGHT } from '../enums/behaviours';\n/**\n * This class manages the interactions of legend.\n * @export\n * @class LegendFireBolt\n * @extends {Firebolt}\n */\nexport class LegendFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        this.initializeSideEffects();\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet[0];\n    }\n\n    propagate (behaviourName, payload, selectionSet) {\n        propagate(this, behaviourName, selectionSet, {\n            payload\n        });\n    }\n\n    getAddSetFromCriteria (criteria) {\n        let values;\n        let uniqueIds;\n        const type = this.context.constructor.type();\n\n        if (criteria === null) {\n            uniqueIds = null;\n        } else if (type === STEP) {\n            values = Object.values(criteria);\n            uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n        } else if (type === GRADIENT) {\n            uniqueIds = [];\n        } else {\n            values = criteria;\n            if (values instanceof Array) {\n                values = values.slice(1, criteria.length);\n                uniqueIds = [...new Set([].concat(...values))];\n            } else {\n                values = Object.values(criteria);\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n            }\n        }\n        return {\n            uids: uniqueIds,\n            model: null\n        };\n    }\n\n    getFullData () {\n        return null;\n    }\n\n    onDataModelPropagation () {\n        return (data, config) => {\n            const context = this.context;\n            if (!context.mount()) {\n                return;\n            }\n            const payloadFn = payloadGenerator[config.action] || payloadGenerator.__default;\n            const payload = payloadFn(data, config);\n            const { propagationSourceId } = config;\n            const propagationInf = {\n                propagate: false,\n                data,\n                sourceId: propagationSourceId\n            };\n            const isActionSourceSame = config.sourceId === this.id();\n            if (!isActionSourceSame && config.action === HIGHLIGHT) {\n                // @todo make it configurable\n                this.dispatchBehaviour(HIGHLIGHT, payload, propagationInf);\n            }\n        };\n    }\n\n    data () {\n        return this.context.metaData();\n    }\n\n    id () {\n        return `legend-${this.context._id}`;\n    }\n\n    sourceCanvas () {\n        return this.context.canvasAlias();\n    }\n\n    shouldApplySideEffects () {\n        return true;\n    }\n}\n","/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nconst click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\n\nexport default click;\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\n/**\n * Adds dragging action to the target element.\n * @param {firebolt} firebolt firebolt\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let endPos = {};\n    let payload;\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const boundingBox = context.measurement().gradientDimensions;\n    const axisType = context.config().align === 'horizontal' ? 'x' : 'y';\n    const axisScale = context.axis().source().scale();\n    const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n    }).on('drag', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                    axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n            }\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }).on('end', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n        if (startPos[axisType] === endPos[axisType]) {\n            payload = {\n                criteria: null\n            };\n        } else {\n            payload = {\n                criteria: {\n                    [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                        axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n                }\n            };\n        }\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }));\n};\n\nexport default drag;\n","import { getEvent } from 'muze-utils';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} Firebolt instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        firebolt.triggerPhysicalAction('hover', payload);\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        const event = getEvent();\n                        firebolt.triggerPhysicalAction('hover', {\n                            criteria: null\n                        });\n                        event.stopPropagation();\n                    });\n};\n\nexport default hover;\n","import drag from './drag';\nimport hover from './hover';\nimport click from './click';\nimport * as ACTIONNAMES from '../../enums/actions';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click\n};\n\n","import {\n    getMousePos,\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\nimport { HEIGHT, WIDTH, HORIZONTAL } from '../../enums/constants';\n\nconst getSelectionCriteria = (subject, axis, measures) => {\n    let criteria = [];\n    const {\n        axisScale,\n        axisType\n    } = axis;\n    const {\n        startPos,\n        endPos,\n        selectionBoxMeasure,\n        drawingInfMeasure,\n        offset\n    } = measures;\n    const subjectStartPoint = subject[axisType];\n\n    if (startPos[axisType] === endPos[axisType]) {\n        criteria = [];\n    } else if (subjectStartPoint + selectionBoxMeasure >= drawingInfMeasure + offset) {\n        criteria = [axisScale.invert(drawingInfMeasure + offset - selectionBoxMeasure),\n            axisScale.invert(drawingInfMeasure + offset)];\n    } else if (subjectStartPoint - offset < offset) {\n        criteria = [axisScale.invert(offset * 2), axisScale.invert(selectionBoxMeasure + offset * 2)];\n    } else {\n        criteria = [axisScale.invert(subjectStartPoint), axisScale.invert(subjectStartPoint + selectionBoxMeasure)];\n    }\n    axisType === 'x' ? criteria : criteria.reverse();\n    return criteria;\n};\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let payload;\n    const endPos = {};\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const axisScale = context.axis().source().scale();\n    const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n    const drawingInfMeasure = context.measurement().gradientDimensions[axisType === 'x' ?\n        WIDTH : HEIGHT];\n    const offset = axisScale.range()[axisType === 'x' ? 0 : 1];\n    const measures = {\n        drawingInfMeasure,\n        offset\n    };\n    let subject = {};\n\n    targetEl.call(d3Drag().on('start', function () {\n        const event = getEvent();\n        startPos = getMousePos(this, event.sourceEvent);\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n\n        subject.x += event.dx;\n        subject.y += event.dy;\n\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(subject, { axisScale, axisType }, measures);\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }).on('end', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(event, { axisScale, axisType }, measures);\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true,\n            config: {\n                transition: {\n                    duration: 200\n                }\n            }\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }));\n};\n\n","import SelectionBox from './selection-box';\nimport LegendHighlighter from './legend-highlighter';\nimport LegendMarker from './legend-marker';\n\nexport {\n    SelectionBox,\n    LegendHighlighter,\n    LegendMarker\n};\n\n","import { GenericSideEffect } from '@chartshq/muze-firebolt';\nimport { strategies } from './strategies';\nimport { Highlighter } from '../../../enums/side-effects';\n\nexport default class LegendHighlighter extends GenericSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategies = strategies(this.firebolt);\n        this._strategy = 'brighten';\n    }\n\n    static formalName () {\n        return Highlighter;\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        strategy(selectionSet, this);\n    }\n}\n","import { selectElement } from 'muze-utils';\n\nexport const strategies = (firebolt) => {\n    const context = firebolt.context;\n    const classed = (set, className, change) => {\n        const classPrefix = context.config().classPrefix;\n        const uids = set.uids.map(d => d[0]);\n        selectElement(context.mount())\n                        .selectAll(`.${classPrefix}-legend-columns`)\n                        .filter(d => uids.indexOf(d.id) !== -1)\n                        .selectAll('div')\n                        .classed(className, change);\n    };\n\n    return {\n        fade: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-fadeout`, false);\n            } else {\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-fadeout`, true);\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-fadeout`, false);\n            }\n        },\n        brighten: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-brighten`, false);\n            } else {\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-brighten`, true);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n            }\n        }\n    };\n};\n","import { GenericSideEffect } from '@chartshq/muze-firebolt';\nimport { makeElement, getSymbol } from 'muze-utils';\nimport { Marker } from '../../../enums/side-effects';\nimport { CLASSPREFIX, HORIZONTAL } from '../../../enums/constants';\nimport { LEGEND_MARKER_PROPS } from '../../../legend/defaults';\nimport './styles.scss';\n\nconst SYMBOL_PADDING = (Math.sqrt(3) * 3);\nconst AXIS_STROKE = 1;\nconst MARKER_BUFFER = 10;\n\nconst createTextCell = (className, labelManagerRef, cells) => {\n    const { TextCell } = cells;\n    const cell = new TextCell(\n        {\n            type: 'text',\n            className: `${className}-text`\n        }, {\n            labelManager: labelManagerRef()\n        }).config({ maxLines: 1 });\n    cell._minTickDiff = { height: 0, width: 0 };\n\n    return cell;\n};\n\nconst getRelativePosition = (canvas, legendContainer) => ({\n    top: legendContainer.getBoundingClientRect().top - canvas.getBoundingClientRect().top,\n    left: legendContainer.getBoundingClientRect().left - canvas.getBoundingClientRect().left\n});\nexport default class LegendMarker extends GenericSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._graphicElements = {\n            markerElement: null,\n            legendmarkerTextContainer: null,\n            legendmarkerText: null\n        };\n    }\n\n    static formalName () {\n        return Marker;\n    }\n\n      /**\n     * It returns the default configuration needed by legend-marker.\n     * @return {Object} Default configuration of the legend-marker.\n     */\n    static defaultConfig () {\n        return {\n            className: 'legend-marker',\n            classPrefix: CLASSPREFIX,\n            size: LEGEND_MARKER_PROPS.size,\n            shape: LEGEND_MARKER_PROPS.shape\n        };\n    }\n\n    apply (selectionSet, payload) {\n        const className = `${this.config().classPrefix}-${this.config().className}`;\n        if (payload.criteria && payload.criteria.length === 2) {\n            const physicalAction = function () {\n            // Register physical action on marker gere\n            };\n            const firebolt = this.firebolt;\n            const labelManager = firebolt.context.labelManager;\n            const context = firebolt.context;\n            const legendConfig = firebolt.context.config();\n            const legendScale = firebolt.context.scale();\n            const { formatter: pointerTextFormatter } = legendConfig.marker.text;\n            const config = this.config();\n            const axis = context.axis().source();\n            const dm = context.metaData();\n            const domain = legendScale.domain();\n\n            const range = payload.criteria[0] ? axis.getScaleValue(payload.criteria[1]) : 0;\n\n            const legendGradContainer = context.getDrawingContext().svgContainer;\n\n            const isFractional = payload.criteria[1][0] % 1 !== 0;\n\n            const lableConfig = {\n                top: 0,\n                left: 0,\n                labelText: isFractional ? payload.criteria[1][0].toFixed(2) : payload.criteria[1][0]\n            };\n\n            const { top, left } = getRelativePosition(context._canvasMount, legendGradContainer.node());\n            const { oriTextHeight, oriTextWidth } = labelManager().getSmartText(lableConfig.labelText);\n            let x;\n            let y;\n            let rotateAngle;\n\n            const { size, shape } = config;\n            if (context.config().align === HORIZONTAL) {\n                x = range - (Math.sqrt(size / SYMBOL_PADDING)) + AXIS_STROKE;\n                y = 5;\n                rotateAngle = LEGEND_MARKER_PROPS.ROTATE_HORIZONTAL;\n                lableConfig.top = top + y - 3 * MARKER_BUFFER;\n                lableConfig.left = x + left - (oriTextWidth / 2) - (MARKER_BUFFER / 2);\n            } else {\n                y = range + Math.sqrt(size / (2 * SYMBOL_PADDING)) - AXIS_STROKE;\n                x = 5;\n                rotateAngle = LEGEND_MARKER_PROPS.ROTATE_VERTICAL;\n                lableConfig.top = top + y - (3 * MARKER_BUFFER - 2) + (oriTextHeight / 2);\n                lableConfig.left = x + left - oriTextWidth - MARKER_BUFFER;\n            }\n\n            const legendmarkerGroup = makeElement(legendGradContainer,\n                                                'g',\n                                                [1],\n                                                `${config.classPrefix}-${config.className}-group`);\n\n            if (!this._graphicElements.markerElement) {\n                this._graphicElements.markerElement = makeElement(legendmarkerGroup,\n                                    'path', [{ value: null }], className, { enter: physicalAction });\n            }\n\n            if (!this._graphicElements.legendmarkerTextContainer) {\n                this._graphicElements.legendmarkerTextContainer = makeElement(\n                                                    context._canvasMount,\n                                                    'div',\n                                                    [1],\n                                                    `${className}-text-container`);\n                this._graphicElements.legendmarkerText = makeElement(\n                                                    this._graphicElements.legendmarkerTextContainer,\n                                                    'div',\n                                                    [1],\n                                                    `${className}-text`);\n            }\n            const textElement = createTextCell(className, labelManager, context._cells);\n            this._graphicElements.markerElement\n                    .data([{ value: payload.criteria }])\n                    .attr('transform', `translate(${x},${y}) rotate(${rotateAngle})`)\n                    .attr('d', getSymbol(shape).size(size * size)())\n                    .classed(`${className}-show`, true)\n                    .classed(`${className}-hide`, false);\n\n            // pointer label formatter\n            textElement.source(pointerTextFormatter(lableConfig.labelText, domain, dm));\n\n            textElement.render(this._graphicElements.legendmarkerText.node());\n            this._graphicElements.legendmarkerText\n                        .attr('style', `top: ${lableConfig.top}px; left:${lableConfig.left}px`)\n                                     .classed(`${className}-show`, true)\n                                     .classed(`${className}-hide`, false);\n        } else if (this._graphicElements.markerElement && this._graphicElements.legendmarkerText) {\n            this._graphicElements.markerElement\n                .data([{ value: null }])\n                .classed(`${className}-show`, false)\n                .classed(`${className}-hide`, true);\n            this._graphicElements.legendmarkerText\n                .classed(`${className}-show`, false)\n                .classed(`${className}-hide`, true);\n        }\n    }\n\n}\n","// extracted by mini-css-extract-plugin","import { makeElement } from 'muze-utils';\nimport { SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { CLASSPREFIX, HEIGHT, WIDTH, HORIZONTAL, RECT } from '../../../enums/constants';\nimport { SELECTIONBOX } from '../../../enums/side-effects';\nimport { selectionBoxDrag } from '../../physical/selection-box-drag';\nimport { LEGEND_MARKER_PROPS } from '../../../legend/defaults';\nimport './styles.scss';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\n/* istanbul ignore next */ class SelectionBox extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._graphicElems = {\n            rect: null\n        };\n    }\n\n    static formalName () {\n        return SELECTIONBOX;\n    }\n\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            className: 'legend-selection-box',\n            classPrefix: CLASSPREFIX\n        };\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     */\n    /* istanbul ignore next */ apply (selectionSet, payload) {\n        let x;\n        let y;\n        let width;\n        let height;\n        const firebolt = this.firebolt;\n        const context = firebolt.context;\n        const config = this.config();\n        const axis = context.axis().source();\n        const className = `${config.classPrefix}-${config.className}`;\n        const { criteria } = payload;\n        const { rect } = this._graphicElems;\n\n        if (criteria === null) {\n            rect && rect.remove();\n            return this;\n        }\n\n        const domain = criteria[firebolt.context.fieldName()];\n        const axisScale = axis.scale();\n        const range = domain ? [axis.getScaleValue(domain[0]), axis.getScaleValue(domain[1])] : [];\n\n        const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n\n        const gradientDimension = firebolt.context.measurement().gradientDimensions[axisType === 'x' ?\n            HEIGHT : WIDTH];\n\n        const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n        const legendGradContainer = context.getDrawingContext().svgContainer;\n        const legendSelGroup = makeElement(legendGradContainer, 'g', [1],\n            `${config.classPrefix}-selection-box-group`);\n\n        const { size, BUFFER } = LEGEND_MARKER_PROPS;\n        if (firebolt.context.config().align === HORIZONTAL) {\n            x = range[0] - rangeShifter || 0;\n            y = size + BUFFER;\n            width = range[1] - range[0] || 0;\n            height = gradientDimension;\n        } else {\n            x = size + BUFFER;\n            y = range[1] - rangeShifter || 0;\n            height = range[0] - range[1] || 0;\n            width = gradientDimension;\n        }\n        const enterFn = function (el) {\n            selectionBoxDrag(firebolt)(el, ['brush']);\n        };\n\n        const selBox = makeElement(legendSelGroup, RECT, [{ domain, x, y, width, height }], className,\n            { enter: enterFn });\n        selBox.attr('y', y)\n                        .attr('x', x)\n                        .attr(WIDTH, width)\n                        .attr(HEIGHT, height);\n        this._graphicElems.rect = selBox;\n        return this;\n    }\n}\n\nexport default SelectionBox;\n\n","// extracted by mini-css-extract-plugin","import './styles.scss';\n\nexport { DiscreteLegend, GradientLegend, SimpleLegend, StepLegend } from './legend';\n","import { getSymbol, mergeRecursive } from 'muze-utils';\nimport {\n    CENTER,\n    LEFT,\n    RIGHT\n} from '../enums/constants';\n\nexport const ALIGN = {\n    HORIZONTAL: 'horizontal',\n    VERTICAL: 'vertical'\n};\n\nexport const DEFAULT_MEASUREMENT = {\n    height: 30,\n    width: 30,\n    maxWidth: Infinity,\n    maxHeight: Infinity,\n    padding: 2,\n    margin: 2,\n    marginHorizontal: 3,\n    paddingRight: 4,\n    border: 1\n};\n\nexport const LEGEND_TITLE = {\n    text: '',\n    orientation: (pos) => {\n        if (pos === LEFT || pos === RIGHT) {\n            return LEFT;\n        } return CENTER;\n    }\n};\n\nexport const DEFAULT_CONFIG = {\n    buffer: {\n        [ALIGN.HORIZONTAL]: 10,\n        [ALIGN.VERTICAL]: 10\n    },\n    classPrefix: 'muze',\n    borderStyle: 'solid',\n    borderColor: 'rgba(0,0,0,0)',\n    formatter: {\n        bounds: {\n            lower: 'less than',\n            upper: 'more than'\n        }\n    },\n    marker: {\n        text: {\n            formatter: data => data\n        }\n    },\n    item: {\n        text: {\n            orientation: 'right',\n            width: 10,\n            formatter: (val, i, data, context) => context.valueParser()(val)\n        },\n        icon: {\n            className: 'legend-icon',\n            height: 20,\n            width: 20,\n            color: 'rgba(192,192,192,0.6)',\n            type: 'square'\n        }\n    }\n    // stops: 5\n};\n\nconst tempConfig = mergeRecursive({}, DEFAULT_CONFIG);\n\nconst ITEM_FORMATTER = {\n    item: {\n        text: {\n            formatter: val => `${val[0]} - ${val[1]}`\n        }\n    }\n};\n\nexport const STEP_DEFAULT_CONFIG = mergeRecursive(tempConfig, ITEM_FORMATTER);\n\n/**\n * Creates a map of pre defined icons\n *\n * @param {string} icon Accepts a icon name like 'square', 'cross', 'diamond' etc\n * @return {Object} icon object which can be used to draw the icons\n */\nexport const ICON_MAP = (icon) => {\n    if (icon && typeof (icon) === 'string') {\n        return getSymbol(icon);\n    } return icon;\n};\n\nexport const LEGEND_MARKER_PROPS = {\n    size: 8,\n    BUFFER: 4,\n    ROTATE_HORIZONTAL: 180,\n    ROTATE_VERTICAL: 90,\n    shape: 'triangle'\n};\n","import {\n    FieldType,\n    DimensionSubtype,\n    formatTemporal,\n    getReadableTicks,\n    InvalidAwareTypes\n} from 'muze-utils';\nimport SimpleLegend from './simple-legend';\nimport { DISCRETE, LEFT, SIZE } from '../enums/constants';\nimport { getScaleInfo } from './legend-helper';\nimport { createLegendSkeleton, createItemSkeleton, renderDiscreteItem } from './renderer';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class DiscreteLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new DiscreteLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof DiscreteLegend\n     */\n    static type () {\n        return DISCRETE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof DiscreteLegend\n     */\n    dataFromScale () {\n        const scale = this.scale();\n        const { scaleType, domain, scaleFn, steps } = getScaleInfo(scale);\n        const field = this.metaData().getFieldspace().fields[0];\n        const { type, subtype } = field.schema();\n        let domainForLegend = [];\n        if (scaleType === SIZE && type === FieldType.MEASURE) {\n            domainForLegend = steps instanceof Array ? steps : getReadableTicks(domain, domain.length);\n        } else if (subtype === DimensionSubtype.TEMPORAL) {\n            domainForLegend = [...new Set(field.data())];\n        } else {\n            domainForLegend = [...new Set(domain)];\n        }\n\n        const len = domainForLegend.length;\n        domainForLegend = domainForLegend.map((ele, i) => {\n            let value = 0;\n            let range = 0;\n            const rawVal = domainForLegend[i];\n            if (type === FieldType.MEASURE) {\n                value = (+domainForLegend[i]).toFixed(0);\n                const nextVal = domainForLegend[i + 1] ? +domainForLegend[i + 1] : +value;\n                range = [value, i === len - 1 ? nextVal.toFixed(0) : nextVal.toFixed(0) - 1];\n            } else {\n                let domainVal = rawVal;\n                if (subtype === DimensionSubtype.TEMPORAL) {\n                    domainVal = formatTemporal(domainForLegend[i], field.minimumConsecutiveDifference());\n                }\n                value = domainVal;\n                range = [domainVal];\n            }\n            return {\n                [scaleType]: scale[scaleFn](ele),\n                value,\n                id: i,\n                range,\n                rawVal\n            };\n        }).filter(d => d.value !== null);\n\n        domainForLegend = scaleType === SIZE ? domainForLegend.sort((a, b) => a[scaleType] - b[scaleType])\n            : domainForLegend.sort((a, b) => {\n                const domainValue =\n                                !(a.value instanceof InvalidAwareTypes || a.value instanceof InvalidAwareTypes)\n                                ? a.value.localeCompare(b.value)\n                                : 1;\n                return domainValue;\n            });\n        return domainForLegend;\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const data = this.data();\n\n        const { classPrefix } = this.config();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n        renderDiscreteItem(this, itemSkeleton);\n\n        legendContainer.selectAll('div')\n        .filter((datum, i, allSelections) => !allSelections[i].classList.contains(`${classPrefix}-legend-body`))\n        .style('float', LEFT);\n\n        firebolt.mapActionsAndBehaviour();\n        return legendContainer;\n    }\n}\n","import { makeElement, applyStyle } from 'muze-utils';\nimport { ContinousAxis } from '@chartshq/muze-axis';\nimport { BOTTOM, RIGHT } from '../enums/constants';\nimport { ALIGN, LEGEND_MARKER_PROPS } from './defaults';\nimport '../styles.scss';\n\n/**\n *\n *\n * @param {*} data\n *\n */\nexport const getGradientDomain = (data) => {\n    if (typeof data[0].value === 'number') {\n        return data.reduce((accumulator, currentValue) =>\n            [Math.min(currentValue.value, accumulator[0]), Math.max(currentValue.value, accumulator[1])],\n                [Number.MAX_VALUE, Number.MIN_VALUE]);\n    }\n    return data.map(e => e.value);\n};\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} domain\n *\n */\nexport const makeLinearGradient = (container, data, domain, id) => {\n    const defs = makeElement(container, 'defs', [1]);\n    const linearGradient = makeElement(defs, 'linearGradient', [1])\n                .attr('id', `linear-gradient-${id}`)\n                .attr('x1', '0%')\n                .attr('y2', '0%');\n\n    makeElement(linearGradient, 'stop', data, 'stop-gradient')\n                    .attr('offset', d => `${(d.value - domain[0]) * 100 / (domain[1] - domain[0]) || 1}%`)\n                    .attr('stop-color', d => d.color);\n    return linearGradient;\n};\n\n/**\n * Creates an axis cell with a linear axis for computing space and\n * creating gradient legend\n *\n * @return {AxisCell} Instance of Axis Cell for the gradient axis\n * @memberof Legend\n */\nexport const createAxis = (context) => {\n    const data = context.data();\n    const { align } = context.config();\n    const AxisCell = context._cells.AxisCell;\n    const newAxis = new ContinousAxis({\n        id: `legend-${context._id}`,\n        orientation: align === ALIGN.VERTICAL ? RIGHT : BOTTOM,\n        style: context._computedStyle,\n        nice: false,\n        showAxisName: false,\n        tickValues: data.map(d => d.value),\n        fixedBaseline: false,\n        labels: {\n            rotation: null\n        }\n    }, { labelManager: context._labelManager });\n\n    newAxis.domain(getGradientDomain(data));\n    newAxis.range([1, 1]);\n    return new AxisCell().source(newAxis).config({\n        margin: { left: 0, bottom: 0, top: 0, right: 0 }\n    });\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} classPrefix\n *\n * @memberof GradientLegend\n */\nconst createLegendSkeleton = (container, classPrefix, data, id) => {\n    const domain = getGradientDomain(data);\n    const legendContainer = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    const legendGradSvg = makeElement(legendContainer, 'svg', [1], `${classPrefix}-gradient`);\n    const legendGradCont = makeElement(legendGradSvg, 'g', [1], `${classPrefix}-gradient-group`);\n    const linearGradient = makeLinearGradient(legendGradSvg, data, domain, id);\n    const legendRect = makeElement(legendGradCont, 'rect', [1], `${classPrefix}-gradient-rect`);\n\n    return {\n        legendContainer,\n        legendGradCont,\n        legendGradSvg,\n        linearGradient,\n        legendRect\n    };\n};\n\n/**\n * Renders the axis for the gradient\n *\n * @param {Selection} container Point where axis is to be mounted\n * @param {number} height Height for axis\n * @param {number} width Width for axis\n * @memberof Legend\n */\nexport const renderAxis = (context, container, height, width) => {\n    const axis = context.axis();\n\n    axis.source().config({\n        tickFormat: (val, i) => context.config().item.text.formatter(val, i, context.metaData(), context)\n    });\n    axis.setAvailableSpace(width, height);\n    axis.render(container.node());\n    axis.source().render();\n};\n\n/**\n * Renders gradient legends\n *\n * @param {Selection} container Point where the legend is to be appended\n * @memberof GradientLegend\n */\nexport const renderGradient = (context, container) => {\n    let gradHeight = 0;\n    let gradWidth = 0;\n    const {\n        align,\n        classPrefix,\n        item\n    } = context.config();\n    const data = context.data();\n    // Create the skeleton for the legend\n    const {\n        legendContainer,\n        legendGradSvg,\n        legendGradCont,\n        linearGradient,\n        legendRect\n    } = createLegendSkeleton(container, classPrefix, data, context._id);\n    const labelDim = context.axis().source().getAxisDimensions().tickDimensions;\n    const {\n        padding,\n        margin,\n        border,\n        titleSpaces,\n        maxItemSpaces,\n        maxHeight,\n        maxWidth,\n        height,\n        width\n    } = context.measurement();\n    const gradientDimensions = {};\n\n    gradHeight = Math.floor(Math.min(height, maxHeight) - (titleSpaces.height + 2 * margin + 2 * border));\n    gradWidth = Math.floor(Math.min(width, maxWidth) - (margin * 2 + border * 2));\n\n    const { size: markerSize, BUFFER } = LEGEND_MARKER_PROPS;\n    const markerWithBuffer = markerSize + BUFFER;\n\n    if (align === ALIGN.HORIZONTAL) {\n        gradientDimensions.height = item.icon.height;\n        gradientDimensions.width = gradWidth - 2 * padding - labelDim.width / 2;\n        linearGradient.attr('x2', '100%').attr('y1', '0%');\n        legendGradCont.attr('transform', `translate( ${labelDim.width / 2} ${markerWithBuffer})`);\n        renderAxis(context, legendContainer, gradHeight - item.icon.height - padding, gradWidth - 2 * padding - 1);\n\n        applyStyle(legendContainer, {\n            height: `${maxItemSpaces.height + border + padding}px`,\n            width: `${Math.min(width, maxWidth)}px`,\n            padding: `${padding}px`\n        });\n\n        legendRect.attr('height', gradientDimensions.height);\n        legendRect.attr('width', gradientDimensions.width - labelDim.width / 2);\n    } else {\n        gradientDimensions.height = gradHeight - 2 * padding - labelDim.height / 2;\n        gradientDimensions.width = item.icon.width;\n        linearGradient.attr('x2', '0%').attr('y1', '100%');\n        legendGradCont.attr('transform', `translate(${markerWithBuffer} ${labelDim.height / 2})`);\n        renderAxis(\n            context,\n            legendContainer,\n            gradHeight - 2 * padding - 1,\n            gradWidth - (gradientDimensions.width + markerWithBuffer) - padding * 2\n        );\n\n        applyStyle(legendContainer, {\n            height: `${Math.min(height, maxHeight)}px`,\n            width: `${maxWidth}px`,\n            padding: `${padding}px`\n        });\n        legendRect.attr('height', gradientDimensions.height - labelDim.height / 2);\n        legendRect.attr('width', gradientDimensions.width);\n    }\n\n    // Apply Styles to the legend plot area\n    applyStyle(legendGradSvg, {\n        height: `${gradientDimensions.height + markerWithBuffer}px`,\n        width: `${gradientDimensions.width + markerWithBuffer}px`\n    });\n\n    // Apply styles to the legend rect\n    applyStyle(legendRect, {\n        fill: `url(#linear-gradient-${context._id})`\n    });\n    legendGradSvg.attr('height', gradientDimensions.height + markerWithBuffer);\n    legendGradSvg.attr('width', gradientDimensions.width + markerWithBuffer);\n\n    context.measurement({\n        gradientDimensions\n    });\n    context._legendGradientSvg = legendGradSvg;\n    return context;\n};\n","import SimpleLegend from './simple-legend';\nimport { getScaleInfo, getInterpolatedData, getInterpolatedArrayData } from './legend-helper';\nimport { GRADIENT, LEFT, SIZE } from '../enums/constants';\nimport { HIGHLIGHT } from '../enums/behaviours';\nimport { Marker } from '../enums/side-effects';\nimport { renderGradient, createAxis } from './gradient-helper';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class GradientLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new GradientLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof GradientLegend\n     */\n    static type () {\n        return GRADIENT;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axis\n     *\n     * @memberof GradientLegend\n     */\n    axis (...axis) {\n        if (axis.length) {\n            this._axis = axis[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof GradientLegend\n     */\n    dataFromScale () {\n        let domainForLegend = [];\n        const scale = this.scale();\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        // defining scaleParams\n        const scaleParams = {\n            smartLabel: this.labelManager(),\n            measures: this.measurement(),\n            alignment: this.config().position,\n            minTickDistance: this.minTickDistance()\n        };\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainForLegend[0] = domain[0];\n            }\n            domainForLegend = [...domainForLegend, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainForLegend.push(domain[1]);\n            }\n            // Sorting the domain Array\n            domainForLegend = [...new Set(domainForLegend)].sort((a, b) => a - b);\n\n            domainForLegend = getInterpolatedArrayData(domainForLegend, scaleParams);\n        } else {\n            domainForLegend = getInterpolatedData(domain, steps - 1, scaleParams);\n        }\n        domainForLegend = [...new Set(domainForLegend)].sort((a, b) => a - b);\n\n        return domainForLegend.map((ele, i) => {\n            const value = domainForLegend[i];\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor()\n                    : scale[scaleFn](ele),\n                value: +value.toFixed(1),\n                id: i\n            };\n        }).filter(d => d.value !== null);\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        const axis = createAxis(this);\n        const axisSpace = axis.getLogicalSpace();\n        const space = { width: axisSpace.width - effPadding, height: axisSpace.height - effPadding };\n        const axisDomainLength = axis.source().domain().length;\n        const labelSpaces = new Array(axisDomainLength).fill(space);\n\n        this.axis(axis);\n        return labelSpaces;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof GradientLegend\n     */\n    getDrawingContext () {\n        return {\n            svgContainer: this._legendGradientSvg\n        };\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        renderGradient(this, legendContainer);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.mapSideEffects({\n            [HIGHLIGHT]: [Marker]\n        });\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof SimpleLegend\n     */\n    getCriteriaFromData (data) {\n        return [[this.fieldName()], [data.value]];\n    }\n\n    getRangeFromIdentifiers ({ fields, criteria }) {\n        return fields.reduce((range, v) => {\n            range[v] = criteria[v];\n            return range;\n        }, {});\n    }\n}\n","import DiscreteLegend from './discrete-legend';\nimport GradientLegend from './gradient-legend';\nimport SimpleLegend from './simple-legend';\nimport StepLegend from './step-legend';\n\nexport {\n    DiscreteLegend,\n    GradientLegend,\n    SimpleLegend,\n    StepLegend\n};\n","import { makeElement, FieldType, getReadableTicks } from 'muze-utils';\n\nimport {\n    SCALE_FUNCTIONS,\n    WIDTH,\n    HEIGHT,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM,\n    MAXWIDTH,\n    CENTER,\n    HORIZONTAL,\n    POSITION_ALIGNMENT_MAP\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} scale\n *\n */\nexport const getScaleInfo = (scale) => {\n    const scaleType = scale.constructor.type();\n    const domain = scale.uniqueValues();\n    const steps = scale.config().stops || 1;\n    const scaleFn = SCALE_FUNCTIONS[scaleType];\n\n    return { scaleType, domain, steps, scaleFn };\n};\n\n/**\n * Function to recompute the stops in array in case to left and right alignment of legend.\n *\n * @param  {string} param - parameter to measure\n * @param  {Object} requiredMeasure - required measure parameters\n * @param  {Object} availableMeasure - available meassure parameters\n * @param  {Array} domainForLegend - array\n * @param  {Object} smartLabelCalc - smartLabel Manager\n * @return {Array} - Array\n */\nconst getcomputedArray = (computationhelper, requiredMeasure, availableMeasure, domainForLegend) => {\n    // declaring Current and Next Tick Value variable\n    let currentTickValue;\n    let nextTickValue;\n    const upperBound = domainForLegend[domainForLegend.length - 1];\n    const param = computationhelper.measureParam;\n    const smartLabelCalc = computationhelper.smartLabelCalc;\n\n    // calculating pixel required per Tick Values\n    const pixelPerTick = (availableMeasure[param] / upperBound);\n\n    // checking if available max width is smaller than required width for legend.\n    if (availableMeasure[param] >= requiredMeasure[param]) {\n        return domainForLegend;\n    }\n\n    currentTickValue = (smartLabelCalc.getOriSize((domainForLegend[0]))[param]);\n    for (let i = 1; i < domainForLegend.length - 1; i++) {\n        nextTickValue = Math.floor((currentTickValue / pixelPerTick) + domainForLegend[i - 1]);\n        if (domainForLegend[i] < nextTickValue) {\n            domainForLegend.splice(i, 1);\n            i -= 1;\n        }\n        currentTickValue = (smartLabelCalc.getOriSize((domainForLegend[i]))[param]);\n    }\n    return domainForLegend;\n};\n\n/**\n * function to recompute the Stops Array provided to prevent the Overlapping of values\n * @param  {Array} domainForLegend - Stops Array\n * @param  {Object} scaleParams - Scale Parameters\n * @return {Array} - modified Stops Array\n */\nexport const getInterpolatedArrayData = (domainForLegend, scaleParams) => {\n    // defining param for height/width selector\n    let measureParam;\n\n    // declaring variable for required Width\n    let requiredWidth;\n\n    // declaring variable for required height\n    let requiredHeight;\n\n    // declaring the variable for upperbound\n    let upperBound = domainForLegend[domainForLegend.length - 1];\n\n    // Initializing Minimum Tick Difference Variable and checking if it's less than 1 or not\n    let minTickDiff = Math.ceil(domainForLegend[1] - domainForLegend[0]);\n\n    // calculating max tick difference\n    const maxTickDiff = Math.ceil(upperBound - domainForLegend[0]);\n\n    // gradient Alignment\n    const { alignment } = scaleParams;\n\n    // getting SmartLabel Manager to calculate tick Params\n    const smartLabelCalc = scaleParams.smartLabel;\n\n    // scale Measurements (i.e MaxWidth and MaxHeight available)\n    const availableSpace = scaleParams.measures;\n\n    // getting minimum Tick size (i.e height and width)\n    const minimumTickSize = scaleParams.minTickDistance;\n\n    // getting domain upperbound dimensions\n    const { height: tickDimHeight, width: tickDimWidth } = smartLabelCalc.getOriSize((upperBound));\n\n    /* Checking if UpperBound of Domain is Floating or Not.\n    In case of floating constricting it to 2 decimals after point. */\n    if (!Number.isInteger(upperBound)) {\n        upperBound = ((upperBound).toFixed(2));\n    }\n\n    // Calculating minimum tick difference\n    minTickDiff = minTickDiff < 1 ? 1 : minTickDiff;\n\n    // required width to render legend\n    requiredWidth = (Math.abs(maxTickDiff) / Math.abs(minTickDiff)) * (tickDimWidth + (minimumTickSize.width));\n\n    requiredWidth -= Math.abs(maxTickDiff);\n\n    // require height to render legend\n    requiredHeight = (Math.abs(maxTickDiff) / Math.abs(minTickDiff)) * tickDimHeight;\n\n    requiredHeight -= Math.abs(maxTickDiff);\n\n    // checking the alignment of legend\n    if (alignment === TOP || alignment === BOTTOM) {\n        measureParam = WIDTH;\n    } else {\n        measureParam = HEIGHT;\n    }\n\n    // calculating computed array\n    domainForLegend = getcomputedArray({\n        smartLabelCalc,\n        measureParam\n    }, {\n        height: requiredHeight,\n        width: requiredWidth\n    }, {\n        height: availableSpace.maxHeight,\n        width: availableSpace.maxWidth\n    }, domainForLegend);\n\n    return domainForLegend;\n};\n\n/**\n * function to recalculate steps on providing more number of stops than canvas can accomodate.\n * @param  {Array} domain - Array\n * @param  {Array} steps - Array\n * @param  {Object} scaleParams - Scale Parameters\n * @return {Array} - recalculated Step Array\n */\nexport const getInterpolatedData = (domain, steps, scaleParams) => {\n    // declaring recomputeSteps Variable\n    let recomputeSteps = 0;\n\n    const getTickMeasure = scaleParams.smartLabel;\n    const { maxWidth, maxHeight } = scaleParams.measures;\n    const { alignment } = scaleParams;\n    // getting tick measure(i.e height and width)\n    const tickValue = getTickMeasure.getOriSize(domain[1].toFixed(2));\n\n    // To round the floating values to Integer and checking if value is 1.\n    steps = Math.round(steps);\n    steps = steps < 1 ? (steps + 1) : steps;\n\n    // checking alignment of the Axis\n    if (alignment === TOP || alignment === BOTTOM) {\n        recomputeSteps = Math.floor(maxWidth / (tickValue.width));\n    } else {\n        recomputeSteps = Math.floor(maxHeight / (tickValue.height));\n    }\n    steps = Math.min(steps, recomputeSteps);\n\n    return getReadableTicks(domain, steps);\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} text\n * @param {*} measurement\n * @param {*} classPrefix\n */\nexport const titleCreator = (container, title, measurement, config) => {\n    const { orientation } = config.item.text;\n    let textAlign = LEFT;\n    const { alignment, maxWidth, width, height, border, padding } = measurement;\n\n    if (orientation === TOP || orientation === BOTTOM || alignment === HORIZONTAL) {\n        textAlign = CENTER;\n    }\n    const titleWidth = Math.min(maxWidth, width);\n\n    const titleContainer = makeElement(container, 'table', [1], `${config.classPrefix}-legend-title`)\n            .style(WIDTH, `${titleWidth}px`)\n            .style(HEIGHT, `${height}px`)\n            .style('border-bottom', `${border}px ${config.borderStyle} ${config.borderColor}`)\n            .style('text-align', title.orientation instanceof Function ?\n            title.orientation(config.position) : title.orientation);\n    return makeElement(titleContainer, 'td', [1], `${config.classPrefix}-legend-title-text`)\n                    .style(WIDTH, `${titleWidth}px`)\n                    .style(MAXWIDTH, `${maxWidth}px`)\n                    .style(HEIGHT, '100%')\n                    .style('line-height', 1)\n                    .style('padding', `${padding}px`)\n                    .text(title.text)\n                    .style('text-align', textAlign)\n                    .style('overflow-x', 'scroll')\n                    .node();\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n *\n */\nexport const getMaxMeasures = (data, prop, labelManager) => {\n    let maxHeight = -Infinity;\n    let maxWidth = -Infinity;\n\n    data.forEach((item) => {\n        const value = prop ? item[prop] : item;\n        const space = labelManager.getOriSize(value);\n        maxHeight = Math.max(space.height + 2, maxHeight);\n        maxWidth = Math.max(space.width + 2, maxWidth);\n    });\n\n    return { height: maxHeight, width: maxWidth };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n *\n */\nexport const getItemMeasures = (context, prop, formatter) => {\n    const space = [];\n    const data = context.data();\n    const labelManager = context._labelManager;\n\n    data.forEach((item, index) => {\n        const value = prop ? item[prop] : item;\n        const formattedData = formatter(value, index, context.metaData(), context);\n        const { height, width } = labelManager.getOriSize(formattedData);\n        space[index] = { height, width };\n    });\n    return space;\n};\n\n/**\n *\n *\n * @param {*} textOrientation\n * @param {*} effPadding\n * @param {*} titleSpace\n *\n * @memberof Legend\n */\nexport const computeItemSpaces = (config, measures, data) => {\n    let totalHeight = 0;\n    let totalWidth = 0;\n    let maxItemSpaces = {\n        width: 0, height: 0\n    };\n    const {\n        effPadding,\n        titleWidth,\n        labelSpaces,\n        titleHeight,\n        maxWidth\n    } = measures;\n    const {\n        item,\n        align\n    } = config;\n    const {\n        icon,\n        text\n    } = item;\n    const textOrientation = text.orientation;\n    const itemSpaces = [];\n    const iconSpaces = [];\n    let maxIconWidth = 0;\n    labelSpaces.forEach((labelSpace, i) => {\n        const itemSpace = { width: 0, height: 0 };\n        const iconSpace = { width: 0, height: 0 };\n        const datum = data[i] || {};\n            // Compute each legend item height/width\n        if (textOrientation === LEFT || textOrientation === RIGHT) {\n            // Get label, icon and item widths\n            labelSpace.width += effPadding;\n            iconSpace.width = (datum.size ? 2 * Math.sqrt(datum.size / Math.PI) : icon.width) + effPadding;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n            itemSpace.width = labelSpace.width + maxIconWidth;\n\n            // Get label, icon and item heights\n            labelSpace.height = Math.max(labelSpace.height, icon.height) + effPadding;\n            iconSpace.height = labelSpace.height;\n            itemSpace.height = labelSpace.height;\n        } else {\n            // Get label, icon and item widths\n            labelSpace.width = Math.max(labelSpace.width, datum.size ? 2 * Math.sqrt(datum.size / Math.PI)\n            : icon.width) + effPadding;\n            iconSpace.width = labelSpace.width;\n            itemSpace.width = labelSpace.width;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n\n            // Get label, icon and item heights\n            labelSpace.height += effPadding;\n            iconSpace.height = icon.height + effPadding;\n            itemSpace.height = labelSpace.height + iconSpace.height;\n        }\n        // Compute height and width of legend for each alignment\n        if (align === 'horizontal') {\n            totalHeight = Math.max(totalHeight, itemSpace.height);\n        } else {\n            totalHeight += itemSpace.height;\n            totalWidth = Math.max(totalWidth, itemSpace.width, titleWidth);\n        }\n        maxItemSpaces = {\n            width: Math.max(itemSpace.width, maxItemSpaces.width),\n            height: Math.max(itemSpace.height, maxItemSpaces.height)\n        };\n        itemSpaces.push(itemSpace);\n        iconSpaces.push(iconSpace);\n    });\n\n    itemSpaces.forEach((itemSpace, i) => {\n        if (align === 'horizontal') {\n            itemSpace.height = totalHeight;\n            // iconSpaces[i].width = maxIconWidth;\n            if (textOrientation === LEFT || textOrientation === RIGHT) {\n                labelSpaces[i].height = totalHeight;\n                iconSpaces[i].height = totalHeight;\n                itemSpaces[i].width = labelSpaces[i].width + iconSpaces[i].width + 2 * effPadding;\n            } else {\n                labelSpaces[i].width = iconSpaces[i].width;\n                itemSpaces[i].width = iconSpaces[i].width;\n                labelSpaces[i].width = iconSpaces[i].width;\n            }\n            totalWidth += itemSpaces[i].width;\n        } else {\n            itemSpace.width = Math.max(totalWidth, maxWidth);\n            if (textOrientation === TOP || textOrientation === BOTTOM) {\n                labelSpaces[i].width = totalWidth;\n                iconSpaces[i].width = totalWidth;\n                maxIconWidth = totalWidth;\n            } else {\n                const labelWidth = labelSpaces[i].width;\n                const newLabelWidth = (maxItemSpaces.width - maxIconWidth);\n                iconSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = labelWidth + maxIconWidth;\n                labelSpaces[i].width = Math.max(labelWidth, newLabelWidth);\n                totalWidth = Math.max(totalWidth, itemSpace.width);\n            }\n        }\n    });\n    totalWidth = Math.ceil(Math.max(totalWidth, titleWidth)) + effPadding;\n    totalHeight += titleHeight + effPadding;\n    totalHeight = Math.ceil(totalHeight);\n    return { totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth };\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} scaleInfo\n * @param {*} domainInfo\n *\n */\nexport const getDomainBounds = (type, scaleInfo, domainInfo) => {\n    const {\n        scaleFn,\n        scaleType,\n        scale\n    } = scaleInfo;\n    const {\n        domain,\n        domainBounds,\n        domainLeg,\n        steps\n    } = domainInfo;\n    const ele = domain[type === 'lower' ? 0 : domain.length - 1];\n    const step = steps[type === 'lower' ? 0 : steps.length - 1];\n\n    return {\n        [scaleType]: scaleType === 'size' ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n        value: domainBounds[type],\n        id: type === 'lower' ? 0 : domainLeg.length + 2,\n        range: [ele, step]\n    };\n};\n\nexport const prepareSelectionSetData = (data, fieldName, dm) => {\n    const fieldType = dm.getFieldsConfig()[fieldName].def.type;\n    if (fieldType === FieldType.DIMENSION) {\n        return {\n            keys: data.reduce((acc, d) => {\n                acc[d.rawVal] = {\n                    uid: d.id,\n                    dims: [d.rawVal]\n\n                };\n                return acc;\n            }, {}),\n            fields: [fieldName]\n        };\n    }\n    return {\n        keys: data.reduce((acc, d) => {\n            acc[d.id] = {\n                uid: d.id,\n                dims: [d.id]\n            };\n            return acc;\n        }, {}),\n        fields: [fieldName]\n    };\n};\n\nexport const calculateTitleWidth = (measures, titleWidth, config) => {\n    const { maxItemSpaces, margin, itemSpaces } = measures;\n    const { position, buffer } = config;\n    const alignment = POSITION_ALIGNMENT_MAP[position];\n    let width = 0;\n\n    if (alignment === HORIZONTAL) {\n        const localBuffer = buffer[alignment];\n        width = itemSpaces.reduce((acc, cur) => acc + cur.width + localBuffer, 0);\n    } else if (maxItemSpaces.width < titleWidth) {\n        width = titleWidth + 2 * margin;\n    } else {\n        width = maxItemSpaces.width;\n    }\n    return width;\n};\n","import {\n    LEFT,\n    RIGHT,\n    START,\n    END,\n    TOP,\n    BOTTOM,\n    HORIZONTAL,\n    VERTICAL,\n    CENTER,\n    SHAPE,\n    VALUE\n} from '../enums/constants';\n\nconst legendOrientation = {\n    [HORIZONTAL]: {\n        datasets: data => ({\n            row: [1],\n            column: data\n        }),\n        itemContainerMeasures: (measurement, config) => {\n            const {\n                itemSpaces,\n                width\n            } = measurement;\n            const {\n                buffer\n            } = config;\n            return {\n                row: {\n                    width: `${width + itemSpaces.length * buffer[HORIZONTAL] || 1}px`,\n                    padding: `${0}px`\n                },\n                column: {\n                    width: (d, i) => `${itemSpaces[i].width + buffer[HORIZONTAL]}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, height } = measurement;\n            return {\n                iconHeight: height,\n                iconWidth: maxItemSpaces.width,\n                stepPadding: {\n                    horizontal: true,\n                    vertical: false\n                }\n            };\n        }\n    },\n    [VERTICAL]: {\n        datasets: data => ({\n            row: data,\n            column: d => [d]\n        }),\n        itemContainerMeasures: (measurement, config) => {\n            const {\n                width\n            } = measurement;\n            const { padding } = config;\n\n            return {\n                row: {\n                    width: `${width}px`,\n                    padding: `${padding}px`\n                },\n                column: {\n                    width: `${width}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, width } = measurement;\n            return {\n                iconHeight: maxItemSpaces.height,\n                iconWidth: width,\n                stepPadding: {\n                    horizontal: false,\n                    vertical: true\n                }\n            };\n        }\n    }\n};\n\nexport const positionConfig = {\n    [LEFT]: legendOrientation[VERTICAL],\n    [RIGHT]: legendOrientation[VERTICAL],\n    [TOP]: legendOrientation[HORIZONTAL],\n    [BOTTOM]: legendOrientation[HORIZONTAL]\n};\n\nexport const alignmentMap = {\n    [LEFT]: END,\n    [RIGHT]: START,\n    [TOP]: CENTER,\n    [BOTTOM]: CENTER\n};\n\n// Reverses data for step legend\nexport const stepData = data => ({\n    [LEFT]: data.reverse(),\n    [RIGHT]: data.reverse(),\n    [TOP]: data,\n    [BOTTOM]: data\n});\n\n// Changes the item layout based on the position of the text\nexport const itemStack = {\n    [LEFT]: [VALUE, SHAPE],\n    [RIGHT]: [SHAPE, VALUE],\n    [TOP]: [VALUE, SHAPE],\n    [BOTTOM]: [SHAPE, VALUE]\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    data: {},\n    fieldName: {},\n    legendContainer: {},\n    measurement: {\n        sanitization: (context, value) => {\n            const measurement = mergeRecursive(context._measurement, value);\n            ['padding', 'border', 'margin'].forEach((space) => {\n                measurement[space] = Math.min(measurement[space] > 0 ? measurement[space] : 0,\n                     measurement.maxWidth * 0.1, measurement.maxHeight * 0.1);\n            });\n            return measurement;\n        }\n    },\n    logicalSpace: {},\n    metaData: {\n        onset: (context, value) => context.firebolt().attachPropagationListener(value)\n    },\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.resetLogicalSpace();\n            context.store().commit('range', value);\n            return value;\n        }\n    },\n    scale: {},\n    smartTicks: {},\n    store: {},\n    title: {\n        sanitization: (context, value) => mergeRecursive(context._title || {}, value)\n    },\n    labelManager: {},\n    minTickDistance: {},\n    valueParser: {\n        defaultValue: val => val\n    }\n};\n","import { makeElement, selectElement, applyStyle } from 'muze-utils';\nimport { ICON_MAP } from './defaults';\nimport { positionConfig, alignmentMap, itemStack } from './position-config';\nimport {\n    WIDTH,\n    HEIGHT,\n    CENTER,\n    VALUE,\n    RECT,\n    LEFT,\n    DEFAULTICONSIZE,\n    VERTICAL_BUFFER,\n    HORIZONTAL_BUFFER,\n    HORIZONTAL,\n    VERTICAL,\n    DEFAULT,\n    TOP,\n    BOTTOM,\n    OPPOSITE_POSITION\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} legendInstance\n * @param {*} align\n *\n */\nexport const getItemContainers = (container, data, legendInstance) => {\n    const measurement = legendInstance.measurement();\n    const config = legendInstance.config();\n    const {\n        itemSpaces\n    } = measurement;\n    const {\n        classPrefix,\n        position\n    } = config;\n    const positionObj = positionConfig[position];\n    const datasets = positionObj.datasets(data);\n    const measures = positionObj.itemContainerMeasures(measurement, config);\n\n    const rows = makeElement(container, 'div', datasets.row, `${classPrefix}-legend-row`);\n    rows.style(HEIGHT, (d, i) => `${itemSpaces[i].height}px`);\n    rows.style(WIDTH, measures.row.width);\n    rows.style('padding', measures.row.padding);\n\n    const columns = makeElement(rows, 'div', datasets.column, `${classPrefix}-legend-columns`);\n    columns.style(WIDTH, measures.column.width);\n    columns.style('padding', measures.column.padding);\n\n    return columns;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} classPrefix\n * @param {*} data\n *\n * @memberof DiscreteLegend\n */\nexport const createLegendSkeleton = (context, container, classPrefix, data) => {\n    let gradWidth = 0;\n    let gradHeight = 0;\n    let maxGradHeight = 0;\n    let maxGradWidth = 0;\n    const measurement = context.measurement();\n    const {\n            margin,\n            border,\n            titleSpaces,\n            width,\n            height,\n            maxWidth,\n            maxHeight\n        } = measurement;\n\n    gradHeight = height - (titleSpaces.height + 2 * margin + 2 * border);\n    gradWidth = width - (margin * 2 + border * 2);\n\n    maxGradHeight = maxHeight - (titleSpaces.height + margin * 2 + border * 2);\n    maxGradWidth = maxWidth - (margin * 2 + border * 2);\n\n    let legendBody = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n\n    legendBody.style(WIDTH, `${gradWidth}px`);\n\n    legendBody.style(HEIGHT, `${gradHeight}px`);\n\n    legendBody.select(`.${classPrefix}-legend-overflow`).remove();\n        // Create a div with scroll when overflow\n    if (maxGradWidth && maxGradWidth < gradWidth) {\n        legendBody = legendBody.style(WIDTH, `${maxGradWidth}px`).style('overflow-x', 'scroll');\n    }\n        // Create a div with scroll when overflow\n    if (maxGradHeight && maxGradHeight < gradHeight) {\n        legendBody.style(HEIGHT, `${maxGradHeight}px`).style('overflow-y', 'scroll');\n    }\n\n    legendBody = makeElement(legendBody, 'div', [1], `${classPrefix}-legend-overflow`);\n\n    const legendItem = getItemContainers(legendBody, data, context);\n    return { legendItem };\n};\n\n/**\n * Creates legend item based on alignment and text orientation\n *\n * @param {Selection} container Point where items are to be mounted\n * @return {Instance} Current instance\n * @memberof Legend\n */\nexport const createItemSkeleton = (context, container) => {\n    const {\n        classPrefix,\n        item\n    } = context.config();\n    const textOrientation = item.text.orientation;\n    const stack = itemStack[textOrientation];\n    const itemSkeleton = makeElement(container, 'div', (d, i) => stack.map(e => [e, d[e], d.color, d.size,\n        d.value, context.fieldName(), i]), `${classPrefix}-legend-item-info`);\n\n    const alignClass = alignmentMap[textOrientation];\n\n    itemSkeleton.classed(alignClass, true);\n    return { itemSkeleton };\n};\n\n/**\n *\n *\n * @param {*} measureType\n * @param {*} stepColorCheck\n */\nexport const applyItemStyle = (item, measureType, stepColorCheck, context) => {\n    const {\n        padding,\n        labelSpaces,\n        iconSpaces,\n        maxIconWidth\n    } = context.measurement();\n\n    const { align } = context.config().align;\n\n    const diff = stepColorCheck ? -padding * 2 : 0;\n\n    if (item[0] === VALUE) {\n        return `${labelSpaces[item[6]][measureType]}px`;\n    }\n\n    if (measureType === 'width' && !stepColorCheck && align === VERTICAL) {\n        return `${maxIconWidth}px`;\n    } else if (align === HORIZONTAL) {\n        return `${maxIconWidth}px`;\n    }\n    return `${iconSpaces[item[6]][measureType] - diff}px`;\n};\n\n/**\n *\n *\n * @param {*} str\n *\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, elem, defaultIcon) {\n    const groupElement = elem;\n    // const { shape, size, update } = d;\n    const shape = d[1] || defaultIcon;\n    const defaultIconSize = DEFAULTICONSIZE[shape] || DEFAULTICONSIZE[DEFAULT];\n    const size = d[3] || defaultIconSize * Math.PI;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            return createShape(d, elem);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        shapeElement.attr('transform', `scale(${size / 100})`);\n        return selectElement(groupElement.node().appendChild(newShape));\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = ICON_MAP(shape).size(size)();\n        }\n        return makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n    }\n    d[1] = 'circle';\n    return createShape(d, elem, 'circle');\n};\n\n/**\n * Returns the icon of the legend item\n *\n * @param {Object} datum Data property attached to the item\n * @param {number} width width of the item\n * @param {number} height height of the item\n * @return {Object|string} returns the path string or the string name of the icon\n * @memberof Legend\n */\nexport const getLegendIcon = (datum, width, height, defaultIcon) => {\n    const icon = ICON_MAP(datum[1]);\n\n    if (icon) {\n        return icon.size(datum[3] || Math.min(width, height) * Math.PI);\n    }\n    return ICON_MAP(datum[3] ? 'circle' : defaultIcon).size(datum[3] || Math.min(width, height) * Math.PI);\n};\n\n/**\n *\n *\n */\nexport const renderIcon = (icon, container, datum, context) => {\n    const {\n        classPrefix,\n        iconHeight,\n        padding,\n        color,\n        iconWidth,\n        align\n    } = context;\n\n    let { maxIconWidth } = context;\n\n    if (align === HORIZONTAL) {\n        maxIconWidth = iconWidth + 2 * padding;\n    }\n    const svg = makeElement(container, 'svg', f => [f], `${classPrefix}-legend-icon-svg`)\n    .attr(WIDTH, maxIconWidth)\n    .attr(HEIGHT, iconHeight)\n    .style(WIDTH, `${Math.ceil(maxIconWidth)}px`)\n    .style(HEIGHT, `${iconHeight}px`);\n\n    const transalate = maxIconWidth / 2 - padding;\n\n    if (icon !== RECT) {\n        const group = makeElement(svg, 'g', [datum[1]], `${classPrefix}-legend-icon`);\n        createShape(datum, group, icon)\n                        .attr('transform', `translate(${transalate} ${iconHeight / 2})`)\n                        .attr('fill', datum[2] || color)\n                        .attr('stroke', datum[2] || color);\n    } else {\n        makeElement(svg, RECT, [datum[1]], `${classPrefix}-legend-icon`)\n                        .attr('x', 0)\n                        .attr('y', 0)\n                        .attr(WIDTH, maxIconWidth)\n                        .attr(HEIGHT, iconHeight)\n                        .attr('fill', datum[2] || color);\n    }\n};\n\n/**\n * Renders the items in the legend i.e, icon and text\n *\n * @param {DOM} container Point where item is to be mounted\n * @memberof Legend\n */\nexport const renderDiscreteItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n           item,\n           classPrefix,\n           shape,\n           align\n    } = context.config();\n    const {\n        maxIconWidth,\n        padding\n    } = context.measurement();\n    const {\n            width: iconWidth,\n            height: iconHeight,\n            color,\n            className\n        } = item.icon;\n    const textOrientation = item.text.orientation;\n    const formatter = item.text.formatter;\n\n    labelManager.useEllipsesOnOverflow(true);\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, false, context),\n        height: d => applyItemStyle(d, HEIGHT, false, context),\n        'text-align': CENTER,\n        padding: `${padding}px`\n    });\n\n    const marginHorizontalBuffer = HORIZONTAL_BUFFER;\n    const marginVerticalBuffer = textOrientation === TOP || textOrientation === BOTTOM ? 0 : VERTICAL_BUFFER;\n\n    labelManager.setStyle(context._computedStyle);\n    const dataArr = context.metaData();\n    const position = OPPOSITE_POSITION[textOrientation] || LEFT;\n    container.each(function (d, i) {\n        if (d[0] === VALUE) {\n            selectElement(this).text(formatter(d[1], i, dataArr, context))\n            .style(`padding-${position}`, '0px')\n            .style(`margin-${position}`, `${align === HORIZONTAL ? marginHorizontalBuffer : marginVerticalBuffer}px`);\n        } else {\n            // const icon = getLegendIcon(d, iconWidth, iconHeight, type);\n            selectElement(this).classed(`${classPrefix}-${className}`, true);\n            selectElement(this).classed(`${classPrefix}-${className}-${i}`, true);\n            renderIcon(shape, selectElement(this), d, {\n                classPrefix,\n                // iconWidth,\n                iconWidth: 2 * Math.sqrt(d[3] / Math.PI) || iconWidth,\n                iconHeight,\n                maxIconWidth,\n                padding,\n                color,\n                align\n            });\n        }\n    });\n};\n\n/**\n* Renders the items in the legend i.e, icon and text\n*\n* @param {DOM} container Point where item is to be mounted\n* @memberof Legend\n*/\nexport const renderStepItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n      item,\n      position,\n      classPrefix\n   } = context.config();\n    const {\n      maxItemSpaces,\n      maxIconWidth,\n      padding\n   } = context.measurement();\n    const {\n       width,\n       height,\n       color\n   } = item.icon;\n    const {\n        formatter\n   } = item.text;\n\n    labelManager.useEllipsesOnOverflow(true);\n    const { iconHeight, iconWidth, stepPadding } = positionConfig[position].getStepSpacesInfo({\n        maxItemSpaces, height, width\n    });\n\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, stepPadding.horizontal, context),\n        height: d => applyItemStyle(d, HEIGHT, stepPadding.vertical, context),\n        'text-align': 'center',\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    const dataArr = context.metaData();\n    const data = context.data();\n    container.each(function (d, i) {\n        if (d[0] === VALUE) {\n            const formattedData = formatter([data[d[6]].range[0], data[d[6]].range[1]], i, dataArr, context);\n            selectElement(this).text(formattedData);\n        } else {\n            renderIcon(RECT, selectElement(this), d, {\n                classPrefix,\n                iconWidth,\n                iconHeight,\n                maxIconWidth,\n                color\n            });\n        }\n    });\n};\n","import {\n    makeElement,\n    selectElement,\n    getUniqueId,\n    getSmartComputedStyle,\n    generateGetterSetters,\n    mergeRecursive\n} from 'muze-utils';\nimport * as legendBehaviours from '../firebolt/behavioural';\n\nimport { LegendFireBolt } from '../firebolt/legend-firebolt';\nimport { actionBehaviourMap } from '../firebolt/action-behaviour-map';\nimport { physicalActions } from '../firebolt/physical';\nimport * as sideEffects from '../firebolt/side-effects';\nimport { behaviourEffectMap } from '../firebolt/behaviour-effect-map';\nimport { VALUE, PATH, RIGHT, LEFT, TOP, BOTTOM, POSITION_ALIGNMENT_MAP } from '../enums/constants';\nimport { PROPS } from './props';\nimport { DEFAULT_MEASUREMENT, DEFAULT_CONFIG, LEGEND_TITLE } from './defaults';\nimport {\n    getItemMeasures,\n    titleCreator,\n    computeItemSpaces,\n    prepareSelectionSetData,\n    calculateTitleWidth\n} from './legend-helper';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class SimpleLegend\n */\nexport default class SimpleLegend {\n\n    /**\n     * Creates an instance of Legend.\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @memberof Legend\n     */\n    constructor (dependencies) {\n        const { interactions } = dependencies.registry;\n        this._data = [];\n        this._metaData = [];\n        this._mount = null;\n        this._fieldName = null;\n        this._title = Object.assign({}, LEGEND_TITLE);\n        this._metaData = null;\n        this._labelManager = dependencies.labelManager;\n        this._cells = dependencies.cells;\n        this._id = getUniqueId();\n        this._measurement = Object.assign({}, this.constructor.defaultMeasurement());\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n\n        const dist = dependencies.labelManager.getOriSize('w');\n        this._minTickDistance = { width: dist.width * 3 / 4, height: dist.height / 2 };\n\n        generateGetterSetters(this, PROPS);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'),\n            `${this.config().classPrefix}-legend-item-info`);\n\n        this._firebolt = new LegendFireBolt(this, {\n            behavioural: Object.assign({}, interactions.behaviours.get(), legendBehaviours),\n            physical: physicalActions,\n            physicalBehaviouralMap: actionBehaviourMap\n        }, sideEffects, behaviourEffectMap);\n    }\n\n    id () {\n        return this._id;\n    }\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new SimpleLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof SimpleLegend\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof SimpleLegend\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENT;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleLegend\n     */\n    firebolt (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    elemType () {\n        return PATH;\n    }\n\n    canvasAlias (...alias) {\n        if (alias.length) {\n            this._canvasAlias = alias[0];\n            return this;\n        }\n        return this._canvasAlias;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    mount (...params) {\n        if (params.length) {\n            this._mount = params[0];\n            this.render();\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces () {\n        const {\n            item,\n            classPrefix\n        } = this.config();\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n            `${classPrefix}-legend-item-info`));\n        return getItemMeasures(this, VALUE, item.text.formatter);\n    }\n\n    /**\n     * Sets the height and width of a legend based on provided max\n     * height and width and based on its contents\n     *\n     * @return {Instance} Current instance\n     * @memberof Legend\n     */\n    setLegendMeasures () {\n        const {\n            width,\n            height,\n            maxWidth,\n            maxHeight,\n            padding,\n            margin,\n            border\n        } = this.measurement();\n        const {\n            align\n        } = this.config();\n\n        // Effective padding, margin and padding\n        const effPadding = padding * 2;\n        const effBorder = border * 2;\n        const effMargin = margin * 2;\n\n        this.data(this.dataFromScale());\n        // Get space occupied by title\n        const titleSpace = this.getTitleSpace();\n        const titleHeight = titleSpace.height > 0 ? titleSpace.height + effPadding : 0;\n        const titleWidth = titleSpace.width + effPadding;\n\n        // Get space occupied by labels\n        const labelSpaces = this.getLabelSpaces(effPadding, align);\n        const {\n            totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth\n        } = computeItemSpaces(this.config(),\n        { effPadding, titleWidth, labelSpaces, titleHeight, maxWidth, maxHeight }, this.data());\n\n        this.measurement({\n            width: Math.max(totalWidth, width) + effMargin + effBorder,\n            height: Math.max(totalHeight, height) + effMargin + effBorder,\n            labelSpaces,\n            iconSpaces,\n            itemSpaces,\n            maxItemSpaces,\n            maxIconWidth,\n            titleSpaces: {\n                width: Math.min(maxWidth, this.measurement().width) - effMargin - effBorder,\n                height: titleHeight\n            }\n        });\n        return this;\n    }\n\n    /**\n     * Returns the space occupied by the legend title\n     *\n     * @return {Object} Space occupied by title\n     * @memberof Legend\n     */\n    getTitleSpace () {\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n                                                `${this.config().classPrefix}-legend-title`));\n        return this._labelManager.getOriSize(this.title().text ? this.title().text : '');\n    }\n\n    /**\n     * Creates the title for the legend\n     *\n     * @param {DOM} container Container made for the title\n     * @return {Selection} Title and it's node\n     * @memberof Legend\n     */\n    renderTitle (container) {\n        const { titleSpaces, border, padding, maxWidth } = this.measurement();\n\n        const width = calculateTitleWidth(\n            this.measurement(),\n            this._labelManager.getOriSize(this._title.text).width,\n            this.config()\n        );\n        const { borderStyle, borderColor } = this.config();\n        return titleCreator(container, this.title(), {\n            height: titleSpaces.height,\n            width,\n            maxWidth,\n            border,\n            padding,\n            borderStyle,\n            borderColor,\n            alignment: POSITION_ALIGNMENT_MAP[this.config().position]\n        }, this.config());\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const {\n            classPrefix,\n            borderStyle,\n            borderColor,\n            position\n        } = this.config();\n        const {\n            border,\n            marginHorizontal,\n            maxHeight,\n            height,\n            width,\n            maxWidth\n        } = this.measurement();\n        let {\n            margin\n        } = this.measurement();\n        const legendContainer = makeElement(selectElement(this.mount()), 'div', [1], `${classPrefix}-legend-box`);\n        let marginPosition;\n        switch (position) {\n        case TOP:\n            marginPosition = `margin-${BOTTOM}`;\n            margin = marginHorizontal;\n            break;\n        case LEFT:\n            marginPosition = `margin-${RIGHT}`;\n            break;\n        case BOTTOM:\n            marginPosition = `margin-${TOP}`;\n            margin = marginHorizontal;\n            break;\n        default:\n            marginPosition = `margin-${LEFT}`;\n        }\n        legendContainer.classed(`${classPrefix}-legend-box-${this._id}`, true);\n        legendContainer.style('float', 'left');\n\n        const widthBox = calculateTitleWidth(\n            this.measurement(),\n            this._labelManager.getOriSize(this._title.text).width,\n            this.config()\n        );\n\n        const titleWidth = Math.min(maxWidth, widthBox);\n        width < titleWidth ? selectElement(this.mount()).style('width', `${titleWidth}px`) : null;\n        // set height and width\n        legendContainer.style('width', `${titleWidth}px`)\n                        .style('height', `${Math.min(maxHeight, height)}px`)\n                        .style(`${marginPosition}`, `${margin}px`)\n                        .style('border', `${border}px ${borderStyle} ${borderColor}`);\n        this.legendContainer(legendContainer.node());\n\n        // create title\n        this.renderTitle(legendContainer);\n        firebolt.createSelectionSet(prepareSelectionSetData(this.data(), this.fieldName(), this.metaData()));\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof SimpleLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        const type = this.metaData().getData().schema[0].type;\n        if (type === 'measure') {\n            return {\n                [fieldName]: data.range\n            };\n        }\n        return [[fieldName], [data.rawVal]];\n    }\n\n    getValueFromId (id, fields = []) {\n        const data = this.data();\n        if (fields.length) {\n            id = Number(id);\n            return [data.find(d => id === d.id).rawVal];\n        }\n\n        return [];\n    }\n\n    getRangeFromIdentifiers ({ fields, entrySet }) {\n        const data = this.data();\n        const idRangeMap = data.reduce((acc, v) => {\n            acc[v.id] = v;\n            return acc;\n        }, {});\n\n        return fields.reduce((acc, v) => {\n            acc[v] = entrySet.reduce((ranges, id) => {\n                if (id in idRangeMap) {\n                    ranges.push(idRangeMap[id].range);\n                }\n                return ranges;\n            }, []);\n            return acc;\n        }, {});\n    }\n\n    setParentInfo (info) {\n        this._canvasMount = info.canvasRoot;\n    }\n}\n","import SimpleLegend from './simple-legend';\nimport {\n    getScaleInfo,\n    getInterpolatedData,\n    getItemMeasures\n} from './legend-helper';\nimport {\n    createLegendSkeleton,\n    createItemSkeleton,\n    renderStepItem\n} from './renderer';\nimport { STEP, RECT, LEFT, SIZE, HORIZONTAL } from '../enums/constants';\nimport { stepData } from './position-config';\nimport '../styles.scss';\nimport { STEP_DEFAULT_CONFIG, DEFAULT_MEASUREMENT } from './defaults';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class StepLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new StepLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof StepLegend\n     */\n    static type () {\n        return STEP;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof StepLegend\n     */\n    static defaultConfig () {\n        STEP_DEFAULT_CONFIG.buffer[HORIZONTAL] = 0;\n        return STEP_DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof StepLegend\n     */\n    dataFromScale () {\n        let domainLeg = [];\n        const scale = this.scale();\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n        const isFraction = ele => ele % 1 !== 0;\n\n        // defining scaleParams\n        const scaleParams = {\n            smartLabel: this.labelManager(),\n            measures: this.measurement(),\n            alignment: this.config().position,\n            minTickDistance: this.minTickDistance()\n        };\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainLeg[0] = domain[0];\n            }\n            domainLeg = [...domainLeg, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainLeg.push(domain[1]);\n            }\n            domainLeg = [...new Set(domainLeg)].sort((a, b) => a - b);\n        } else {\n            domainLeg = getInterpolatedData(domain, steps, scaleParams);\n        }\n\n        domainLeg = [...new Set(domainLeg)].sort((a, b) => a - b);\n        domainLeg = domainLeg.map((ele, i) => {\n            let value = null;\n            let range;\n            if (i < domainLeg.length - 1) {\n                const left = isFraction(ele) ? ele.toFixed(1) : ele;\n\n                const numRight = +domainLeg[i + 1];\n                const right = isFraction(numRight) ? numRight.toFixed(1) : numRight;\n\n                value = `${left} - ${right}`;\n                range = [left, right];\n            } else if (domainLeg.length === 1) {\n                value = isFraction(ele) ? ele.toFixed(1) : ele;\n\n                const numRight = +domainLeg[i + 1];\n                const right = isFraction(numRight) ? numRight.toFixed(1) : numRight;\n                range = [value, right];\n            }\n\n            return {\n                [scaleType]: scaleType === SIZE\n                ? scale[scaleFn](ele) * scale.getScaleFactor()\n                : scale[scaleFn](ele),\n                value,\n                id: i + 1,\n                range\n            };\n        }).filter(d => d.value !== null);\n\n        return domainLeg;\n    }\n\n     /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces () {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        const {\n            item\n        } = this.config();\n        const stepItemBuffer = DEFAULT_MEASUREMENT.padding * 2;\n        return getItemMeasures(this, 'range', item.text.formatter, stepItemBuffer);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    elemType () {\n        return RECT;\n    }\n\n     /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const { classPrefix, position } = this.config();\n        const data = stepData(this.data())[position];\n\n        const legendContainer = super.render(this.mount());\n\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n\n        renderStepItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        return legendContainer;\n    }\n\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        return {\n            [fieldName]: data.range\n        };\n    }\n}\n","// extracted by mini-css-extract-plugin","export const CLASSPREFIX = 'muze';\nexport const ARROW_RIGHT = 'right';\nexport const ARROW_TOP = 'top';\nexport const ARROW_BOTTOM = 'bottom';\nexport const ARROW_LEFT = 'left';\nexport const TOOLTIP_LEFT = 'left';\nexport const TOOLTIP_RIGHT = 'right';\nexport const TOOLTIP_BOTTOM = 'bottom';\nexport const TOOLTIP_TOP = 'top';\nexport const INITIAL_STYLE = {\n    position: 'absolute',\n    width: 0,\n    height: 0\n};\nexport const TABLE_FORMAT = 'table';\n","import {\n    selectElement,\n    mergeRecursive,\n    makeElement,\n    setAttrs,\n    setStyles,\n    getSymbol,\n    isSimpleObject\n} from 'muze-utils';\nimport { TABLE_FORMAT } from './constants';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class is used to manage the content of tooltip.\n */\nexport default class Content {\n    /**\n     * Creates an instance of content.\n     */\n    constructor () {\n        this._model = null;\n        this._formatter = null;\n        this._config = this.constructor.defaultConfig();\n    }\n   /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        const config = defaultConfig.content;\n        config.classPrefix = defaultConfig.classPrefix;\n        return config;\n    }\n\n    config (...c) {\n        if (c.length > 0) {\n            this._config = mergeRecursive(this._config, c[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Update model. The format contains presentation strategy which determines how to show the content.\n     * If no strategy is mentioned then default is to show key value pair\n    */\n    update (item) {\n        this._model = item.model;\n        this._formatter = item.formatter;\n        return this;\n    }\n\n    context (ctx) {\n        this._context = ctx;\n        return this;\n    }\n\n    render (mount) {\n        let data;\n        const config = this._config;\n        const iconContainerSize = config.iconContainerSize;\n        const formatter = this._formatter;\n        const rowMargin = config.rowMargin;\n        const model = this._model;\n        const { classPrefix } = config;\n\n        this._mount = mount;\n        if (model instanceof Array) {\n            data = model;\n        } else {\n            data = formatter(this._model, this.config(), this._context);\n        }\n\n        if (data instanceof Function) {\n            const mountHtmlTooltip = makeElement(mount, 'div', [1], `${classPrefix}-tooltip-html-container`);\n            mountHtmlTooltip.html(data());\n        } else {\n            let content = data;\n            let displayFormat = 'default';\n\n            if (isSimpleObject(data)) {\n                content = data.content;\n                displayFormat = data.displayFormat;\n            }\n\n            const body = makeElement(mount, 'div', [displayFormat], `${classPrefix}-tooltip-content`, {},\n                d => d);\n\n            if (displayFormat === TABLE_FORMAT) {\n                const table = makeElement(body, 'table', [1], `${classPrefix}-tooltip-table`);\n                const tbody = makeElement(table, 'tbody', [1], `${classPrefix}-tooltip-table-tbody`);\n                const rows = makeElement(tbody, 'tr', content, `${classPrefix}-tooltip-table-row`);\n                rows.each(function (d, i) {\n                    selectElement(this).classed(`${classPrefix}-tooltip-table-row-${i}`, true);\n                });\n                const cells = makeElement(rows, 'td', d => d, `${classPrefix}-tooltip-table-cell`);\n                cells.each(function (d) {\n                    selectElement(this).html(d);\n                });\n            } else {\n                const rows = makeElement(body, 'div', content, '', {\n                    update: (elem, elemData) => elem.attr('class', elemData.className)\n                });\n                const cells = makeElement(rows, 'span', d => d.data, `${classPrefix}-tooltip-content`);\n                cells.attr('class', `${classPrefix}-tooltip-content`);\n                setStyles(rows, {\n                    margin: rowMargin\n                });\n                setStyles(cells, {\n                    display: 'inline-block' // 'margin-right': `${config.spacing}px`\n                });\n\n                cells.each(function (d) {\n                    const el = selectElement(this);\n                    el.html('');\n                    if (d instanceof Object) {\n                        if (d.type === 'icon') {\n                            const svg = makeElement(el, 'svg', [1]);\n                            const path = makeElement(svg, 'path', [1]);\n                            const shape = d.shape instanceof Function ? d.shape : getSymbol(d.shape);\n\n                            setAttrs(svg, {\n                                x: 0,\n                                y: 0,\n                                width: iconContainerSize,\n                                height: iconContainerSize\n                            });\n                            setAttrs(path, {\n                                d: shape.size(d.size)(),\n                                transform: `translate(${iconContainerSize / 2}, ${iconContainerSize / 2})`\n                            });\n                            setStyles(path, {\n                                fill: d.color\n                            });\n                            setStyles(svg, {\n                                width: `${iconContainerSize}px`,\n                                height: `${iconContainerSize}px`\n                            });\n                        } else {\n                            el.html(d.value);\n                            d.className && el.classed(d.className, true);\n                            setStyles(el, d.style);\n                        }\n                    } else {\n                        el.html(d);\n                    }\n                });\n            }\n        }\n        return this;\n    }\n\n    clear () {\n        this._model = null;\n        return this;\n    }\n}\n","import { CLASSPREFIX } from './constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'tooltip-box',\n    parentClassName: 'tooltip-parent-container',\n    connectorClassName: 'tooltip-connectors',\n    className: '',\n    row: {\n        margin: 0\n    },\n    spacing: 5,\n    content: {\n        spacing: 5,\n        iconContainerSize: 10,\n        iconScale: 1,\n        iconShape: 'circle',\n        iconColor: '#ff0000',\n        rowMargin: '4px 0 4px 0',\n        margin: 10,\n        separator: ':',\n        className: 'tooltip-content-container',\n        parentClassName: 'tooltip-content-parent-container'\n    },\n    arrow: {\n        size: 10,\n        disabled: false,\n        defClassName: 'tooltip-arrow',\n        className: '',\n        color: 'rgba(195,195,195,0.85)'\n    }\n};\n","export const reorderContainers = (parentContainer, className) => {\n    parentContainer.selectAll(className).sort((a, b) => a - b);\n};\n","export { default as Tooltip } from './tooltip';\nexport { TABLE_FORMAT } from './constants';\n","// extracted by mini-css-extract-plugin","import {\n    mergeRecursive,\n    getQualifiedClassName,\n    getUniqueId,\n    selectElement,\n    makeElement,\n    getMaxPoint\n} from 'muze-utils';\nimport { ARROW_BOTTOM, ARROW_LEFT, ARROW_RIGHT, TOOLTIP_LEFT, TOOLTIP_RIGHT, TOOLTIP_BOTTOM,\n    TOOLTIP_TOP } from './constants';\nimport { defaultConfig } from './default-config';\nimport { reorderContainers } from './helper';\nimport './styles.scss';\nimport Content from './content';\n\n/**\n * This component is responsible for creating a tooltip element. It appends the tooltip\n * in the body element.\n * @class Tooltip\n */\nexport default class Tooltip {\n    /**\n     * Initializes the tooltip with the container element and configuration\n     * @param {HTMLElement} container container where the tooltip will be mounted.\n     * @param {string} className Class name of the tooltip.\n     */\n    constructor (htmlContainer, svgContainer) {\n        let connectorContainer = svgContainer;\n        this._id = getUniqueId();\n        this._config = {};\n        this.config({});\n        const tooltipConf = this._config;\n        const classPrefix = tooltipConf.classPrefix;\n        const contentClass = tooltipConf.content.parentClassName;\n        const container = makeElement(htmlContainer, 'div', [1], `${classPrefix}-tooltip-container`);\n        this._container = container;\n        this._tooltipContainer = container.append('div').style('position', 'absolute');\n        this._contentContainer = this._tooltipContainer.append('div').attr('class',\n            `${classPrefix}-${tooltipConf.defClassName} ${classPrefix}-${contentClass}\n            ${tooltipConf.className}`);\n\n        if (!svgContainer) {\n            connectorContainer = htmlContainer.append('svg').style('pointer-events', 'none');\n        }\n\n        this._contents = {};\n        this._tooltipConnectorContainer = selectElement(connectorContainer)\n            .append('g')\n            .attr('class', `${tooltipConf.classPrefix}-${tooltipConf.connectorClassName}`);\n        const id = this._id;\n        const defClassName = tooltipConf.parentClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, id, tooltipConf.classPrefix);\n\n        this.addClass(qualifiedClassName.join(' '));\n        this.hide();\n    }\n\n    /**\n     * Sets the configuration of tooltip.\n     * @param {Object} config Configuration of tooltip\n     * @return {Tooltip} Instance of tooltip\n     */\n    config (...config) {\n        if (config.length > 0) {\n            const defConf = mergeRecursive({}, this.constructor.defaultConfig());\n            this._config = mergeRecursive(defConf, config[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n    /**\n     * Sets the class name of tooltip\n     * @param {string} className tooltip class name\n     * @return {Tooltip} Instance of tooltip.\n     */\n    addClass (className) {\n        this._tooltipContainer.classed(className, true);\n        return this;\n    }\n\n    context (...ctx) {\n        if (ctx.length) {\n            this._context = ctx[0];\n            return this;\n        }\n        return this._context;\n    }\n\n    content (name, data, contentConfig = {}) {\n        const config = this.config();\n        const { classPrefix } = config;\n        const contentClass = config.content.className;\n        const formatter = config.formatter;\n        const className = `${classPrefix}-${contentClass}-${name}`;\n        const specificClass = `${classPrefix}-${contentConfig.className}`;\n        const content = this._contents[name] = this._contents[name] || new Content();\n        const container = makeElement(this._contentContainer, 'div', [contentConfig.order], className);\n        container.attr('class', `${classPrefix}-${contentClass} ${className} ${specificClass}`);\n        reorderContainers(this._contentContainer, `.${classPrefix}-${contentClass}`);\n        const contentConf = config.content;\n        contentConfig.classPrefix = this._config.classPrefix;\n        content.config(contentConf);\n\n        if (data === null) {\n            content.clear();\n            container.remove();\n            delete this._contents[name];\n        } else {\n            content.update({\n                model: data,\n                formatter: contentConfig.formatter || formatter\n            });\n            content.context(this._context);\n            content.render(container);\n        }\n\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n        }\n        return this;\n    }\n\n    getContents () {\n        return Object.values(this._contents);\n    }\n\n    /**\n     * Positions the tooltip at the given x and y position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Tooltip} Instance of tooltip.\n     */\n    position (x, y) {\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n            return this;\n        }\n        this.show();\n        const target = this._target;\n\n        if (target) {\n            const node = this._tooltipContainer.node();\n            const tooltipPos = this._orientation;\n            const outsidePlot = tooltipPos === TOOLTIP_LEFT || tooltipPos === TOOLTIP_RIGHT ?\n                (y + node.offsetHeight) < target.y || y > (target.y + target.height) :\n                (x + node.offsetWidth) < target.x || x > (target.x + target.width);\n\n            if (outsidePlot) {\n                let path;\n                this._tooltipConnectorContainer.style('display', 'block');\n                const connector = this._tooltipConnectorContainer.selectAll('path').data([1]);\n                const enter = connector.enter().append('path');\n                if (tooltipPos === ARROW_LEFT) {\n                    path = `M ${x} ${y + node.offsetHeight / 2} L ${target.x + target.width}`\n                        + ` ${target.y + target.height / 2}`;\n                } else if (tooltipPos === ARROW_RIGHT) {\n                    path = `M ${x + node.offsetWidth} ${y + node.offsetHeight / 2}`\n                            + ` L ${target.x} ${target.y + target.height / 2}`;\n                } else if (tooltipPos === ARROW_BOTTOM) {\n                    path = `M ${x + node.offsetWidth / 2} ${y + node.offsetHeight}`\n                        + ` L ${target.x + target.width / 2} ${target.y}`;\n                }\n                enter.merge(connector).attr('d', path).style('display', 'block');\n            } else {\n                this._tooltipConnectorContainer.style('display', 'none');\n            }\n        }\n\n        const offset = this._offset || {\n            x: 0,\n            y: 0\n        };\n        this._tooltipContainer.style('left', `${offset.x + x}px`).style('top',\n            `${offset.y + y}px`);\n\n        return this;\n    }\n\n    /**\n     * Positions the tooltip relative to a rectangular box. It takes care of tooltip overflowing the\n     * boundaries.\n     * @param {Object} dim Dimensions of the plot.\n     */\n    positionRelativeTo (dim, tooltipConf = {}) {\n        let obj;\n        const orientation = tooltipConf.orientation;\n        this.show();\n        if (!dim) {\n            this.hide();\n            return this;\n        }\n\n        const extent = this._extent;\n        const contentContainer = this._contentContainer.node();\n        this._tooltipContainer.style('top', '0px')\n                        .style('left', '0px')\n                        .style('width', '2000px')\n                        .style('height', '2000px');\n\n        const offsetWidth = contentContainer.offsetWidth + 4;\n        const offsetHeight = contentContainer.offsetHeight + 4;\n        const config = this._config;\n        const offset = this._offset;\n        const spacing = config.spacing;\n        const draw = tooltipConf.draw !== undefined ? tooltipConf.draw : true;\n        const topSpace = dim.y;\n        // When there is no space in right\n        const dimX = dim.x + dim.width + offset.x;\n        const rightSpace = extent.width - dimX;\n        const leftSpace = dim.x + offset.x - extent.x;\n        const bottomSpace = extent.height - (dim.y + dim.height + offset.y);\n        const arrowSize = spacing;\n        const tooltipHeight = offsetHeight + arrowSize;\n        const tooltipWidth = offsetWidth + arrowSize;\n\n        const spaces = [{\n            position: 'top',\n            value: topSpace - tooltipHeight\n        }, {\n            position: 'right',\n            value: rightSpace - tooltipWidth\n        }, {\n            position: 'left',\n            value: leftSpace - tooltipWidth\n        }, {\n            position: 'bottom',\n            value: bottomSpace - tooltipHeight\n        }];\n\n        const positionHorizontal = (positionVal) => {\n            let position;\n            let x = dim.x + dim.width;\n            let y = dim.y;\n\n            if (positionVal === 'right') {\n                position = TOOLTIP_LEFT;\n                x += arrowSize;\n            } else if (positionVal === 'left') {\n                x = dim.x - offsetWidth;\n                position = TOOLTIP_RIGHT;\n                x -= arrowSize;\n            }\n\n            if (dim.height < offsetHeight) {\n                y = Math.max(0, dim.y + dim.height / 2 - offsetHeight / 2);\n            }\n\n            return {\n                position,\n                x,\n                y\n            };\n        };\n\n        const positionVertical = (positionVal) => {\n            let position;\n            let y;\n            // Position tooltip at the center of plot\n            let x = dim.x - offsetWidth / 2 + dim.width / 2;\n\n            // Overflows to the right\n            if ((extent.width - (dim.x + offset.x)) < offsetWidth) {\n                x = extent.width - offsetWidth - offset.x;\n            } else if ((x + offset.x) < extent.x) { // Overflows to the left\n                x = extent.x;\n            }\n\n            if (positionVal === 'top') {\n                y = dim.y - offsetHeight - arrowSize;\n                position = TOOLTIP_BOTTOM;\n            } else {\n                y = dim.y + dim.height + arrowSize;\n                position = TOOLTIP_TOP;\n            }\n\n            return {\n                position,\n                x,\n                y\n            };\n        };\n\n        this._target = dim;\n\n        const hMax = getMaxPoint(spaces.filter(d => d.position === 'left' || d.position === 'right'),\n            'value');\n        const vMax = getMaxPoint(spaces.filter(d => d.position === 'top' || d.position === 'bottom'),\n                'value');\n        if (!orientation) {\n            if (hMax.value > 0) {\n                const position = hMax.position;\n                obj = positionHorizontal(position);\n            } else {\n                const position = vMax.position;\n                obj = positionVertical(position);\n            }\n        } else if (orientation === 'horizontal') {\n            const position = hMax.position;\n            obj = positionHorizontal(position);\n        } else {\n            const position = vMax.position;\n            obj = positionVertical(position);\n        }\n\n        this._position = {\n            x: obj.x,\n            y: obj.y\n        };\n\n        this._tooltipContainer.style('height', `${offsetHeight}px`)\n            .style('width', `${offsetWidth}px`);\n        this._orientation = obj.position;\n        draw && this.position(obj.x, obj.y);\n        return this;\n    }\n\n    /**\n     * Hides the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    hide () {\n        this._tooltipContainer.style('display', 'none');\n        this._tooltipConnectorContainer.style('display', 'none');\n        return this;\n    }\n\n    /**\n     * Shows the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    show () {\n        this._tooltipContainer.style('display', 'block');\n        return this;\n    }\n\n    extent (extent) {\n        this._extent = extent;\n        return this;\n    }\n\n    offset (offset) {\n        this._offset = offset;\n        return this;\n    }\n\n    remove () {\n        this._tooltipContainer.remove();\n        this._tooltipConnectorContainer.remove();\n        return this;\n    }\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function(x) {\n  return x;\n}\n","export {default as bisect, bisectRight, bisectLeft} from \"./bisect\";\nexport {default as ascending} from \"./ascending\";\nexport {default as bisector} from \"./bisector\";\nexport {default as cross} from \"./cross\";\nexport {default as descending} from \"./descending\";\nexport {default as deviation} from \"./deviation\";\nexport {default as extent} from \"./extent\";\nexport {default as histogram} from \"./histogram\";\nexport {default as thresholdFreedmanDiaconis} from \"./threshold/freedmanDiaconis\";\nexport {default as thresholdScott} from \"./threshold/scott\";\nexport {default as thresholdSturges} from \"./threshold/sturges\";\nexport {default as max} from \"./max\";\nexport {default as mean} from \"./mean\";\nexport {default as median} from \"./median\";\nexport {default as merge} from \"./merge\";\nexport {default as min} from \"./min\";\nexport {default as pairs} from \"./pairs\";\nexport {default as permute} from \"./permute\";\nexport {default as quantile} from \"./quantile\";\nexport {default as range} from \"./range\";\nexport {default as scan} from \"./scan\";\nexport {default as shuffle} from \"./shuffle\";\nexport {default as sum} from \"./sum\";\nexport {default as ticks, tickIncrement, tickStep} from \"./ticks\";\nexport {default as transpose} from \"./transpose\";\nexport {default as variance} from \"./variance\";\nexport {default as zip} from \"./zip\";\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n","export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n","import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export {\n  axisTop,\n  axisRight,\n  axisBottom,\n  axisLeft\n} from \"./src/axis\";\n","export var slice = Array.prototype.slice;\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickTransform = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"))\n        .style('transform', tickTransform);\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.tickTransform = function(_) {\n    return arguments.length ? (tickTransform = _, axis) : tickTransform;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function(x) {\n  return x;\n}\n","export {default as nest} from \"./src/nest\";\nexport {default as set} from \"./src/set\";\nexport {default as map} from \"./src/map\";\nexport {default as keys} from \"./src/keys\";\nexport {default as values} from \"./src/values\";\nexport {default as entries} from \"./src/entries\";\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","export {default as color, rgb, hsl} from \"./color\";\nexport {default as lab, hcl, lch, gray} from \"./lab\";\nexport {default as cubehelix} from \"./cubehelix\";\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./dispatch\";\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","export {default as drag} from \"./drag.js\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag.js\";\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export {\n  linear as easeLinear\n} from \"./linear\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic\";\n","export function linear(t) {\n  return +t;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale.js\";\nexport {default as formatLocale} from \"./locale.js\";\nexport {default as formatSpecifier, FormatSpecifier} from \"./formatSpecifier.js\";\nexport {default as precisionFixed} from \"./precisionFixed.js\";\nexport {default as precisionPrefix} from \"./precisionPrefix.js\";\nexport {default as precisionRound} from \"./precisionRound.js\";\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hue} from \"./color\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export {default as interpolate} from \"./value\";\nexport {default as interpolateArray} from \"./array\";\nexport {default as interpolateBasis} from \"./basis\";\nexport {default as interpolateBasisClosed} from \"./basisClosed\";\nexport {default as interpolateDate} from \"./date\";\nexport {default as interpolateDiscrete} from \"./discrete\";\nexport {default as interpolateHue} from \"./hue\";\nexport {default as interpolateNumber} from \"./number\";\nexport {default as interpolateObject} from \"./object\";\nexport {default as interpolateRound} from \"./round\";\nexport {default as interpolateString} from \"./string\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./transform/index\";\nexport {default as interpolateZoom} from \"./zoom\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./rgb\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./hsl\";\nexport {default as interpolateLab} from \"./lab\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./hcl\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./cubehelix\";\nexport {default as piecewise} from \"./piecewise\";\nexport {default as quantize} from \"./quantize\";\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export {default as path} from \"./path\";\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {default as schemeCategory10} from \"./categorical/category10.js\";\nexport {default as schemeAccent} from \"./categorical/Accent.js\";\nexport {default as schemeDark2} from \"./categorical/Dark2.js\";\nexport {default as schemePaired} from \"./categorical/Paired.js\";\nexport {default as schemePastel1} from \"./categorical/Pastel1.js\";\nexport {default as schemePastel2} from \"./categorical/Pastel2.js\";\nexport {default as schemeSet1} from \"./categorical/Set1.js\";\nexport {default as schemeSet2} from \"./categorical/Set2.js\";\nexport {default as schemeSet3} from \"./categorical/Set3.js\";\nexport {default as schemeTableau10} from \"./categorical/Tableau10.js\";\nexport {default as interpolateBrBG, scheme as schemeBrBG} from \"./diverging/BrBG.js\";\nexport {default as interpolatePRGn, scheme as schemePRGn} from \"./diverging/PRGn.js\";\nexport {default as interpolatePiYG, scheme as schemePiYG} from \"./diverging/PiYG.js\";\nexport {default as interpolatePuOr, scheme as schemePuOr} from \"./diverging/PuOr.js\";\nexport {default as interpolateRdBu, scheme as schemeRdBu} from \"./diverging/RdBu.js\";\nexport {default as interpolateRdGy, scheme as schemeRdGy} from \"./diverging/RdGy.js\";\nexport {default as interpolateRdYlBu, scheme as schemeRdYlBu} from \"./diverging/RdYlBu.js\";\nexport {default as interpolateRdYlGn, scheme as schemeRdYlGn} from \"./diverging/RdYlGn.js\";\nexport {default as interpolateSpectral, scheme as schemeSpectral} from \"./diverging/Spectral.js\";\nexport {default as interpolateBuGn, scheme as schemeBuGn} from \"./sequential-multi/BuGn.js\";\nexport {default as interpolateBuPu, scheme as schemeBuPu} from \"./sequential-multi/BuPu.js\";\nexport {default as interpolateGnBu, scheme as schemeGnBu} from \"./sequential-multi/GnBu.js\";\nexport {default as interpolateOrRd, scheme as schemeOrRd} from \"./sequential-multi/OrRd.js\";\nexport {default as interpolatePuBuGn, scheme as schemePuBuGn} from \"./sequential-multi/PuBuGn.js\";\nexport {default as interpolatePuBu, scheme as schemePuBu} from \"./sequential-multi/PuBu.js\";\nexport {default as interpolatePuRd, scheme as schemePuRd} from \"./sequential-multi/PuRd.js\";\nexport {default as interpolateRdPu, scheme as schemeRdPu} from \"./sequential-multi/RdPu.js\";\nexport {default as interpolateYlGnBu, scheme as schemeYlGnBu} from \"./sequential-multi/YlGnBu.js\";\nexport {default as interpolateYlGn, scheme as schemeYlGn} from \"./sequential-multi/YlGn.js\";\nexport {default as interpolateYlOrBr, scheme as schemeYlOrBr} from \"./sequential-multi/YlOrBr.js\";\nexport {default as interpolateYlOrRd, scheme as schemeYlOrRd} from \"./sequential-multi/YlOrRd.js\";\nexport {default as interpolateBlues, scheme as schemeBlues} from \"./sequential-single/Blues.js\";\nexport {default as interpolateGreens, scheme as schemeGreens} from \"./sequential-single/Greens.js\";\nexport {default as interpolateGreys, scheme as schemeGreys} from \"./sequential-single/Greys.js\";\nexport {default as interpolatePurples, scheme as schemePurples} from \"./sequential-single/Purples.js\";\nexport {default as interpolateReds, scheme as schemeReds} from \"./sequential-single/Reds.js\";\nexport {default as interpolateOranges, scheme as schemeOranges} from \"./sequential-single/Oranges.js\";\nexport {default as interpolateCividis} from \"./sequential-multi/cividis.js\";\nexport {default as interpolateCubehelixDefault} from \"./sequential-multi/cubehelix.js\";\nexport {default as interpolateRainbow, warm as interpolateWarm, cool as interpolateCool} from \"./sequential-multi/rainbow.js\";\nexport {default as interpolateSinebow} from \"./sequential-multi/sinebow.js\";\nexport {default as interpolateTurbo} from \"./sequential-multi/turbo.js\";\nexport {default as interpolateViridis, magma as interpolateMagma, inferno as interpolateInferno, plasma as interpolatePlasma} from \"./sequential-multi/viridis.js\";\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {\n  default as scaleBand,\n  point as scalePoint\n} from \"./src/band\";\n\nexport {\n  default as scaleIdentity\n} from \"./src/identity\";\n\nexport {\n  default as scaleLinear\n} from \"./src/linear\";\n\nexport {\n  default as scaleLog\n} from \"./src/log\";\n\nexport {\n  default as scaleOrdinal,\n  implicit as scaleImplicit\n} from \"./src/ordinal\";\n\nexport {\n  default as scalePow,\n  sqrt as scaleSqrt\n} from \"./src/pow\";\n\nexport {\n  default as scaleQuantile\n} from \"./src/quantile\";\n\nexport {\n  default as scaleQuantize\n} from \"./src/quantize\";\n\nexport {\n  default as scaleThreshold\n} from \"./src/threshold\";\n\nexport {\n  default as scaleTime\n} from \"./src/time\";\n\nexport {\n  default as scaleUtc\n} from \"./src/utcTime\";\n\nexport {\n  default as schemeCategory10\n} from \"./src/category10\";\n\nexport {\n  default as schemeCategory20b\n} from \"./src/category20b\";\n\nexport {\n  default as schemeCategory20c\n} from \"./src/category20c\";\n\nexport {\n  default as schemeCategory20\n} from \"./src/category20\";\n\nexport {\n  default as interpolateCubehelixDefault\n} from \"./src/cubehelix\";\n\nexport {\n  default as interpolateRainbow,\n  warm as interpolateWarm,\n  cool as interpolateCool\n} from \"./src/rainbow\";\n\nexport {\n  default as interpolateViridis,\n  magma as interpolateMagma,\n  inferno as interpolateInferno,\n  plasma as interpolatePlasma\n} from \"./src/viridis\";\n\nexport {\n  default as scaleSequential\n} from \"./src/sequential\";\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  scale.invertExtent = function(r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1, a, b, t,\n        hiIndex;\n    values.push(values[n] + this.step());\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo));\n    hiIndex = getClosestIndexOf(values, hi);\n    b = lo===hi ? a : Math.max(a, hiIndex - 1);\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    if (reverse) t = a, a = n - b, b = n - t; // map + swap\n    return (a > b) ? undefined : domain().slice(a, b+1);\n  };\n\n  scale.invert = function (r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1,\n        a,\n        t;\n\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo, 'left'));\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    return domain()[reverse ? n - a : a];\n  }\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n\nfunction getClosestIndexOf (arr, value, side) {\n  var low = 0,\n      arrLen = arr.length,\n      high = arrLen - 1,\n      highVal,\n      mid,\n      d1,\n      d2;\n\n  while (low < high) {\n      mid = Math.floor((low + high) / 2);\n      d1 = Math.abs(arr[mid] - value);\n      d2 = Math.abs(arr[mid + 1] - value);\n\n      if (d2 <= d1) {\n          low = mid + 1;\n      }\n      else {\n          high = mid;\n      }\n  }\n\n  if (!side) {\n      return high;\n  }\n\n  highVal = arr[high];\n  if (highVal === value) {\n      return high;\n  } else if (highVal > value) {\n      if (high === 0) { return high; }\n      return side === 'left'? high - 1 : high;\n  } else {\n      if (high === arr.length - 1) { return high; }\n      return side === 'left'? high : high + 1;\n  }\n}","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","export default function(x) {\n  return +x;\n}\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  return !this.node();\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {lineRadial} from \"./lineRadial\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export {default as arc} from \"./arc\";\nexport {default as area} from \"./area\";\nexport {default as line} from \"./line\";\nexport {default as pie} from \"./pie\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial\";\nexport {linkHorizontal, linkVertical, linkRadial} from \"./link/index\";\n\nexport {default as symbol, symbols} from \"./symbol\";\nexport {default as symbolCircle} from \"./symbol/circle\";\nexport {default as symbolCross} from \"./symbol/cross\";\nexport {default as symbolDiamond} from \"./symbol/diamond\";\nexport {default as symbolSquare} from \"./symbol/square\";\nexport {default as symbolStar} from \"./symbol/star\";\nexport {default as symbolTriangle} from \"./symbol/triangle\";\nexport {default as symbolWye} from \"./symbol/wye\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen\";\nexport {default as curveBasis} from \"./curve/basis\";\nexport {default as curveBundle} from \"./curve/bundle\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen\";\nexport {default as curveCardinal} from \"./curve/cardinal\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed\";\nexport {default as curveLinear} from \"./curve/linear\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone\";\nexport {default as curveNatural} from \"./curve/natural\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step\";\n\nexport {default as stack} from \"./stack\";\nexport {default as stackOffsetExpand} from \"./offset/expand\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging\";\nexport {default as stackOffsetNone} from \"./offset/none\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle\";\nexport {default as stackOrderAppearance} from \"./order/appearance\";\nexport {default as stackOrderAscending} from \"./order/ascending\";\nexport {default as stackOrderDescending} from \"./order/descending\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut\";\nexport {default as stackOrderNone} from \"./order/none\";\nexport {default as stackOrderReverse} from \"./order/reverse\";\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array\";\nimport constant from \"../constant\";\nimport {x as pointX, y as pointY} from \"../point\";\nimport pointRadial from \"../pointRadial\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","export default function() {}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export {default as timeFormatDefaultLocale, timeFormat, timeParse, utcFormat, utcParse} from \"./defaultLocale\";\nexport {default as timeFormatLocale} from \"./locale\";\nexport {default as isoFormat} from \"./isoFormat\";\nexport {default as isoParse} from \"./isoParse\";\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","export {\n  default as timeInterval\n} from \"./interval\";\n\nexport {\n  default as timeMillisecond,\n  milliseconds as timeMilliseconds,\n  default as utcMillisecond,\n  milliseconds as utcMilliseconds\n} from \"./millisecond\";\n\nexport {\n  default as timeSecond,\n  seconds as timeSeconds,\n  default as utcSecond,\n  seconds as utcSeconds\n} from \"./second\";\n\nexport {\n  default as timeMinute,\n  minutes as timeMinutes\n} from \"./minute\";\n\nexport {\n  default as timeHour,\n  hours as timeHours\n} from \"./hour\";\n\nexport {\n  default as timeDay,\n  days as timeDays\n} from \"./day\";\n\nexport {\n  sunday as timeWeek,\n  sundays as timeWeeks,\n  sunday as timeSunday,\n  sundays as timeSundays,\n  monday as timeMonday,\n  mondays as timeMondays,\n  tuesday as timeTuesday,\n  tuesdays as timeTuesdays,\n  wednesday as timeWednesday,\n  wednesdays as timeWednesdays,\n  thursday as timeThursday,\n  thursdays as timeThursdays,\n  friday as timeFriday,\n  fridays as timeFridays,\n  saturday as timeSaturday,\n  saturdays as timeSaturdays\n} from \"./week\";\n\nexport {\n  default as timeMonth,\n  months as timeMonths\n} from \"./month\";\n\nexport {\n  default as timeYear,\n  years as timeYears\n} from \"./year\";\n\nexport {\n  default as utcMinute,\n  utcMinutes as utcMinutes\n} from \"./utcMinute\";\n\nexport {\n  default as utcHour,\n  utcHours as utcHours\n} from \"./utcHour\";\n\nexport {\n  default as utcDay,\n  utcDays as utcDays\n} from \"./utcDay\";\n\nexport {\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday as utcSunday,\n  utcSundays as utcSundays,\n  utcMonday as utcMonday,\n  utcMondays as utcMondays,\n  utcTuesday as utcTuesday,\n  utcTuesdays as utcTuesdays,\n  utcWednesday as utcWednesday,\n  utcWednesdays as utcWednesdays,\n  utcThursday as utcThursday,\n  utcThursdays as utcThursdays,\n  utcFriday as utcFriday,\n  utcFridays as utcFridays,\n  utcSaturday as utcSaturday,\n  utcSaturdays as utcSaturdays\n} from \"./utcWeek\";\n\nexport {\n  default as utcMonth,\n  utcMonths as utcMonths\n} from \"./utcMonth\";\n\nexport {\n  default as utcYear,\n  utcYears as utcYears\n} from \"./utcYear\";\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationSecond} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer\";\n\nexport {\n  default as timeout\n} from \"./timeout\";\n\nexport {\n  default as interval\n} from \"./interval\";\n","import {Timer, now} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import \"./selection/index\";\nexport {default as transition} from \"./transition/index\";\nexport {default as active} from \"./active\";\nexport {default as interrupt} from \"./interrupt\";\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export {default as voronoi} from \"./voronoi\";\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar _containerManager = require('./container-manager');\n\nvar _containerManager2 = _interopRequireDefault(_containerManager);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    M = slLib.win.Math,\n    max = M.max,\n    round = M.round,\n    BLANK = '',\n    htmlSplCharSpace = { ' ': '&nbsp;' },\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\n/*\n * Create new instance of SmartLabelManager.\n *\n * SmartLabelManager controls the lifetime of the execution space where the text's metrics will be calculated.\n * This takes a string for a given style and returns the height, width.\n * If a bound box is defined it wraps the text and returns the wrapped height and width.\n * It allows to append ellipsis at the end if the text is truncated.\n *\n * @param {String | Number} id - Id of the instance. If the same id is passed, it disposes the old instance and\n *                              save the new one;\n * @param {String | HTMLElement} container - The id or the instance of the container where the intermediate dom\n *                              elements are to be attached. If not passed, it appends in div\n *\n * @param {Boolean} useEllipses - This decides if a ellipses to be appended if the text is truncated.\n * @param {Object} options - Control options\n *                          {\n *                              maxCacheLimit: No of letter to be cached. Default: 500.\n *                          }\n * @constructor\n */\nfunction SmartLabelManager(id, container, useEllipses, options) {\n    var wrapper,\n        prop,\n        max,\n        prevInstance,\n        isBrowserLess = false,\n        store = SmartLabelManager.store;\n\n    if (typeof id === 'undefined' || typeof id === 'object') {\n        return;\n    }\n\n    if (prevInstance = store[id]) {\n        prevInstance.dispose();\n    }\n\n    store[id] = this;\n    options = options || {};\n    options.maxCacheLimit = isFinite(max = options.maxCacheLimit) ? max : slLib.maxDefaultCacheLimit;\n\n    if (typeof container === 'string') {\n        container = doc.getElementById(container);\n    }\n\n    wrapper = slLib.createContainer(container);\n    wrapper.innerHTML = slLib.testStrAvg;\n\n    if (documentSupport.isHeadLess || !documentSupport.isIE && !wrapper.offsetHeight && !wrapper.offsetWidth) {\n        isBrowserLess = true;\n    }\n\n    wrapper.innerHTML = '';\n    for (prop in slLib.parentContainerStyle) {\n        wrapper.style[prop] = slLib.parentContainerStyle[prop];\n    }\n\n    this.id = id;\n    this.parentContainer = wrapper;\n\n    this._containerManager = new _containerManager2['default'](wrapper, isBrowserLess, 10);\n    this._showNoEllipses = !useEllipses;\n    this._init = true;\n    this.style = {};\n    this.options = options;\n\n    this.setStyle();\n}\n\n/*\n * getSmartText returns the text separated by <br/> whenever a break is necessary. This is to recgonize one\n * generalized format independent of the implementation (canvas based solution, svg based solution). This method\n * converts the output of getSmartText().text to array of lines if the text is wrapped. It sets a named property\n * `lines` on the object passed as parameter.\n *\n * @param {Object} smartlabel - the object returned by getSmartText based on which line arr which to be formed.\n *\n * @return {Object} - The same object which was passed in the arguments. Also a named property `lines` is set.\n */\nSmartLabelManager.textToLines = function (smartlabel) {\n    smartlabel = smartlabel || {};\n\n    if (!smartlabel.text) {\n        smartlabel.text = '';\n    } else if (typeof smartlabel.text !== 'string') {\n        smartlabel.text = smartlabel.text.toString();\n    }\n\n    smartlabel.lines = smartlabel.text.split(/\\n|<br\\s*?\\/?>/ig);\n    return smartlabel;\n};\n\n// Saves all the instance created so far\nSmartLabelManager.store = {};\n\n// Calculates space taken by a character with an approximation value which is calculated by repeating the\n// character by string length times.\nSmartLabelManager.prototype._calCharDimWithCache = function (text, calculateDifference, length) {\n    if (!this._init) {\n        return false;\n    }\n\n    var size,\n        csArr,\n        tw,\n        twi,\n        cachedStyle,\n        asymmetricDifference,\n        maxAdvancedCacheLimit = this.options.maxCacheLimit,\n        container = this._container,\n        style = this.style || {},\n        cache = this._advancedCache || (this._advancedCache = {}),\n        advancedCacheKey = this._advancedCacheKey || (this._advancedCacheKey = []),\n        cacheName = text + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK),\n        cacheInitName = text + 'init' + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK);\n\n    htmlSplCharSpace[text] && (text = htmlSplCharSpace[text]);\n\n    if (!calculateDifference) {\n        asymmetricDifference = 0;\n    } else {\n        if ((asymmetricDifference = cache[cacheInitName]) === undefined) {\n            container.innerHTML = text.repeat ? text.repeat(length) : Array(length + 1).join(text); // jshint ignore:line\n            tw = container.offsetWidth;\n\n            container.innerHTML = text;\n            twi = container.offsetWidth;\n\n            asymmetricDifference = cache[cacheInitName] = (tw - length * twi) / (length + 1);\n            advancedCacheKey.push(cacheInitName);\n            if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n                delete cache[advancedCacheKey.shift()];\n            }\n        }\n    }\n\n    if (cachedStyle = cache[cacheName]) {\n        csArr = cachedStyle.split(',');\n        return {\n            width: parseFloat(csArr[0], 10),\n            height: parseFloat(csArr[1], 10)\n        };\n    }\n\n    container.innerHTML = text;\n\n    size = {\n        height: container.offsetHeight,\n        width: container.offsetWidth + asymmetricDifference\n    };\n\n    cache[cacheName] = size.width + ',' + size.height;\n    advancedCacheKey.push(cacheName);\n    if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n        delete cache[advancedCacheKey.shift()];\n    }\n\n    return size;\n};\n\n// Provide function to calculate the height and width based on the environment and available support from dom.\nSmartLabelManager.prototype._getWidthFn = function () {\n    var contObj = this._containerObj,\n        container = this._container,\n        svgText = contObj.svgText;\n\n    if (svgText) {\n        return function (str) {\n            var bbox, width;\n\n            svgText.textContent = str;\n            bbox = svgText.getBBox();\n            width = bbox.width - SVG_BBOX_CORRECTION;\n            if (width < 1) {\n                width = bbox.width;\n            }\n\n            return width;\n        };\n    } else {\n        return function (str) {\n            container.innerHTML = str;\n            return container.offsetWidth;\n        };\n    }\n};\n\n/*\n * Sets the style based on which the text's metrics to be calculated.\n *\n * @param {Object} style - The style object which affects the text size\n *                      {\n *                          fontSize / 'font-size' : MUST BE FOLLOWED BY PX (10px, 11px)\n *                          fontFamily / 'font-family'\n *                          fontWeight / 'font-weight'\n *                          fontStyle / 'font-style'\n *                      }\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.setStyle = function (style) {\n    if (!this._init) {\n        return this;\n    }\n\n    var sCont;\n\n    if (style === this.style && !this._styleNotSet) {\n        return;\n    }\n\n    if (!style) {\n        style = this.style;\n    }\n\n    slLib.setLineHeight(style);\n    this.style = style;\n\n    this._containerObj = sCont = this._containerManager.get(style);\n\n    if (this._containerObj) {\n        this._container = sCont.node;\n        this._context = sCont.context;\n        this._cache = sCont.charCache;\n        this._lineHeight = sCont.lineHeight;\n        this._styleNotSet = false;\n    } else {\n        this._styleNotSet = true;\n    }\n\n    return this;\n};\n\n/*\n * Decides whether ellipses to be shown if the node is truncated\n *\n * @param {Boolean} useEllipses - decides if a ellipses to be appended if the text is truncated. Default: false\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.useEllipsesOnOverflow = function (useEllipses) {\n    if (!this._init) {\n        return this;\n    }\n    this._showNoEllipses = !useEllipses;\n    return this;\n};\n\n/*\n * Get wrapped or truncated text if a bound box is defined around it. The result text would be separated by <br/>\n * if wrapped\n *\n * @param {String} text - the subject text\n * @param {Number} maxWidth - width in px of the the bound box\n * @param {Number} maxHeight - height in px of the the bound box\n * @param {Boolean} noWrap - whether the text to be wrapped. Default false.\n *\n * @return {Object} - The metrics of the text bounded by the box\n *                  {\n *                      height : height of the wrapped text\n *                      width : width of the wrapped text\n *                      isTruncated : whether the text is truncated\n *                      maxHeight : Maximum height given\n *                      maxWidth : Maximum width given\n *                      oriText : Original text sent\n *                      oriTextHeight : Original text height\n *                      oriTextWidth : Original text width\n *                      text : SMART TEXT\n *                  }\n */\nSmartLabelManager.prototype.getSmartText = function (text, maxWidth, maxHeight, noWrap) {\n    if (!this._init) {\n        return false;\n    }\n\n    if (text === undefined || text === null) {\n        text = '';\n    } else if (typeof text !== 'string') {\n        text = text.toString();\n    }\n\n    var len,\n        trimStr,\n        tempArr,\n        tmpText,\n        maxWidthWithEll,\n        toolText,\n        oriWidth,\n        oriHeight,\n        newCharIndex,\n        nearestChar,\n        tempChar,\n        getWidth,\n        initialLeft,\n        initialTop,\n        getOriSizeImproveObj,\n        spanArr,\n        x,\n        y,\n        minWidth,\n        elem,\n        chr,\n        elemRightMostPoint,\n        elemLowestPoint,\n        lastBR,\n        removeFromIndex,\n        removeFromIndexForEllipses,\n        hasHTMLTag = false,\n        maxStrWidth = 0,\n        lastDash = -1,\n        lastSpace = -1,\n        lastIndexBroken = -1,\n        strWidth = 0,\n        strHeight = 0,\n        oriTextArr = [],\n        i = 0,\n        ellipsesStr = this._showNoEllipses ? '' : '...',\n        lineHeight = this._lineHeight,\n        context = this._context,\n        container = this._container,\n        sCont = this._containerObj,\n        ellipsesWidth = sCont.ellipsesWidth,\n        dotWidth = sCont.dotWidth,\n        characterArr = [],\n        dashIndex = -1,\n        spaceIndex = -1,\n        lastLineBreak = -1,\n        fastTrim = function fastTrim(str) {\n        str = str.replace(/^\\s\\s*/, '');\n        var ws = /\\s/,\n            i = str.length;\n        while (ws.test(str.charAt(i -= 1))) {/* jshint noempty:false */}\n        return str.slice(0, i + 1);\n    },\n        smartLabel = {\n        text: text,\n        maxWidth: maxWidth,\n        maxHeight: maxHeight,\n        width: null,\n        height: null,\n        oriTextWidth: null,\n        oriTextHeight: null,\n        oriText: text,\n        isTruncated: false\n    };\n\n    getWidth = this._getWidthFn();\n\n    // In some browsers, offsetheight of a single-line text is getting little (1 px) heigher value of the\n    // lineheight. As a result, smartLabel is unable to return single-line text.\n    // To fix this, increase the maxHeight a little amount. Hence maxHeight =  lineHeight * 1.2\n    if (maxHeight === lineHeight) {\n        maxHeight *= 1.2;\n    }\n\n    if (container) {\n        if (!documentSupport.isBrowserLess) {\n            hasHTMLTag = slLib.xmlTagRegEx.test(text);\n            if (!hasHTMLTag) {\n                // Due to support of <,> for xml we convert &lt;, &gt; to <,> respectively so to get the correct\n                // width it is required to convert the same before calculation for the new improve version of the\n                // get text width.\n                tmpText = text.replace(slLib.ltgtRegex, function (match) {\n                    return match === '&lt;' ? '<' : '>';\n                });\n                getOriSizeImproveObj = this.getOriSize(tmpText, true);\n\n                smartLabel.oriTextWidth = oriWidth = getOriSizeImproveObj.width;\n                smartLabel.oriTextHeight = oriHeight = getOriSizeImproveObj.height;\n            } else {\n                container.innerHTML = text;\n                smartLabel.oriTextWidth = oriWidth = container.offsetWidth;\n                smartLabel.oriTextHeight = oriHeight = container.offsetHeight;\n            }\n\n            if (oriHeight <= maxHeight && oriWidth <= maxWidth) {\n                smartLabel.width = smartLabel.oriTextWidth = oriWidth;\n                smartLabel.height = smartLabel.oriTextHeight = oriHeight;\n                return smartLabel;\n            }\n\n            if (lineHeight > maxHeight) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = 0;\n                smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            }\n        }\n\n        // Calculate width with ellipses\n        text = fastTrim(text).replace(/(\\s+)/g, ' ');\n        maxWidthWithEll = this._showNoEllipses ? maxWidth : maxWidth - ellipsesWidth;\n\n        if (!hasHTMLTag) {\n            oriTextArr = text.split('');\n            len = oriTextArr.length;\n            trimStr = '', tempArr = [];\n            tempChar = oriTextArr[0];\n\n            if (this._cache[tempChar]) {\n                minWidth = this._cache[tempChar].width;\n            } else {\n                minWidth = getWidth(tempChar);\n                this._cache[tempChar] = { width: minWidth };\n            }\n\n            if (maxWidthWithEll > minWidth) {\n                tempArr = text.substr(0, slLib.getNearestBreakIndex(text, maxWidthWithEll, this)).split('');\n                i = tempArr.length;\n            } else if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            } else if (ellipsesStr) {\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            strWidth = getWidth(tempArr.join(''));\n            strHeight = this._lineHeight;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                            smartLabel.tooltext = smartLabel.oriText;\n                            smartLabel.width = getWidth(smartLabel.text);\n                            smartLabel.height = this._lineHeight;\n                            return smartLabel;\n                        }\n                    }\n                }\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = strWidth;\n                smartLabel.height = this._lineHeight;\n                return smartLabel;\n            } else {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (tempChar === ' ' && !context) {\n                        tempChar = '&nbsp;';\n                    }\n\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            /** @todo use regular expressions for better performance. */\n                            lastSpace = text.substr(0, tempArr.length).lastIndexOf(' ');\n                            lastDash = text.substr(0, tempArr.length).lastIndexOf('-');\n                            if (lastSpace > lastIndexBroken) {\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                tempArr.splice(lastSpace, 1, '<br/>');\n                                lastIndexBroken = lastSpace;\n                                newCharIndex = lastSpace + 1;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === tempArr.length - 1) {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '<br/>-');\n                                } else {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '-<br/>');\n                                }\n                                lastIndexBroken = lastDash;\n                                newCharIndex = lastDash + 1;\n                            } else {\n                                tempArr.splice(tempArr.length - 1, 1, '<br/>' + oriTextArr[i]);\n                                lastLineBreak = tempArr.length - 2;\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastLineBreak + 1).join(''));\n                                lastIndexBroken = lastLineBreak;\n                                newCharIndex = i;\n                            }\n                            strHeight += this._lineHeight;\n                            if (strHeight > maxHeight) {\n                                smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                                smartLabel.tooltext = smartLabel.oriText;\n                                // The max width among all the lines will be the width of the string.\n                                smartLabel.width = maxWidth;\n                                smartLabel.height = strHeight - this._lineHeight;\n                                return smartLabel;\n                            } else {\n                                maxStrWidth = max(maxStrWidth, strWidth);\n                                trimStr = null;\n                                nearestChar = slLib.getNearestBreakIndex(text.substr(newCharIndex), maxWidthWithEll, this);\n                                strWidth = getWidth(text.substr(newCharIndex, nearestChar || 1));\n                                if (tempArr.length < newCharIndex + nearestChar) {\n                                    tempArr = tempArr.concat(text.substr(tempArr.length, newCharIndex + nearestChar - tempArr.length).split(''));\n                                    i = tempArr.length - 1;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                maxStrWidth = max(maxStrWidth, strWidth);\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = maxStrWidth;\n                smartLabel.height = strHeight;\n                return smartLabel;\n            }\n        } else {\n            toolText = text.replace(slLib.spanAdditionRegx, '$2');\n            text = text.replace(slLib.spanAdditionRegx, slLib.spanAdditionReplacer);\n            text = text.replace(/(<br\\s*\\/*\\>)/g, '<span class=\"' + [slLib.classNameWithTag, ' ', slLib.classNameWithTagBR].join('') + '\">$1</span>');\n\n            container.innerHTML = text;\n\n            spanArr = container[documentSupport.childRetriverFn](documentSupport.childRetriverString);\n\n            for (x = 0, y = spanArr.length; x < y; x += 1) {\n                elem = spanArr[x];\n                //chech whether this span is temporary inserted span from it's class\n                if (documentSupport.noClassTesting || slLib.classNameReg.test(elem.className)) {\n                    chr = elem.innerHTML;\n                    if (chr !== '') {\n                        if (chr === ' ') {\n                            spaceIndex = characterArr.length;\n                        } else if (chr === '-') {\n                            dashIndex = characterArr.length;\n                        }\n\n                        characterArr.push({\n                            spaceIdx: spaceIndex,\n                            dashIdx: dashIndex,\n                            elem: elem\n                        });\n                        oriTextArr.push(chr);\n                    }\n                }\n            }\n\n            i = 0;\n            len = characterArr.length;\n            minWidth = characterArr[0].elem.offsetWidth;\n\n            if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n\n                return smartLabel;\n            } else if (minWidth > maxWidthWithEll && !this._showNoEllipses) {\n\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            initialLeft = characterArr[0].elem.offsetLeft;\n            initialTop = characterArr[0].elem.offsetTop;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n                        if (container.offsetWidth > maxWidth) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            } else {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemLowestPoint = elem.offsetHeight + (elem.offsetTop - initialTop);\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    lastBR = null;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n\n                        if (elemRightMostPoint > maxWidth) {\n                            lastSpace = characterArr[i].spaceIdx;\n                            lastDash = characterArr[i].dashIdx;\n                            if (lastSpace > lastIndexBroken) {\n                                characterArr[lastSpace].elem.innerHTML = '<br/>';\n                                lastIndexBroken = lastSpace;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === i) {\n                                    // in case the overflowing character itself is the '-'\n                                    characterArr[lastDash].elem.innerHTML = '<br/>-';\n                                } else {\n                                    characterArr[lastDash].elem.innerHTML = '-<br/>';\n                                }\n                                lastIndexBroken = lastDash;\n                            } else {\n                                elem.parentNode.insertBefore(lastBR = doc.createElement('br'), elem);\n                            }\n\n                            //check whether this break made current element outside the area height\n                            if (elem.offsetHeight + elem.offsetTop > maxHeight) {\n                                //remove the lastly inserted line break\n                                if (lastBR) {\n                                    lastBR.parentNode.removeChild(lastBR);\n                                } else if (lastIndexBroken === lastDash) {\n                                    characterArr[lastDash].elem.innerHTML = '-';\n                                } else {\n                                    characterArr[lastSpace].elem.innerHTML = ' ';\n                                }\n                                removeFromIndex = i;\n                                //break the looping condition\n                                i = len;\n                            } else {\n                                removeFromIndexForEllipses = null;\n                            }\n                        }\n                    } else {\n                        //check whether this break made current element outside the area height\n                        if (elemLowestPoint > maxHeight) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            }\n\n            if (removeFromIndex < len) {\n                //set the trancated property of the smartlabel\n                smartLabel.isTruncated = true;\n\n                /** @todo is this really needed? */\n                removeFromIndexForEllipses = removeFromIndexForEllipses ? removeFromIndexForEllipses : removeFromIndex;\n\n                for (i = len - 1; i >= removeFromIndexForEllipses; i -= 1) {\n                    elem = characterArr[i].elem;\n                    //chech whether this span is temporary inserted span from it's class\n                    elem.parentNode.removeChild(elem);\n                }\n\n                for (; i >= 0; i -= 1) {\n                    elem = characterArr[i].elem;\n                    if (slLib.classNameBrReg.test(elem.className)) {\n                        //chech whether this span is temporary inserted span from it's class\n                        elem.parentNode.removeChild(elem);\n                    } else {\n                        i = 0;\n                    }\n                }\n            }\n\n            //get the smart text\n            smartLabel.text = container.innerHTML.replace(slLib.spanRemovalRegx, '$1').replace(/\\&amp\\;/g, '&');\n            if (smartLabel.isTruncated) {\n                smartLabel.text += ellipsesStr;\n                smartLabel.tooltext = toolText;\n            }\n        }\n\n        smartLabel.height = container.offsetHeight;\n        smartLabel.width = container.offsetWidth;\n\n        return smartLabel;\n    } else {\n        smartLabel.error = new Error('Body Tag Missing!');\n        return smartLabel;\n    }\n};\n\n/*\n * Get the height and width of a text.\n *\n * @param {String} text - Text whose metrics to be measured\n * @param {Boolean} Optional detailedCalculationFlag - this flag if set it calculates per letter position\n *                          information and returns it. Ideally you dont need it unless you want to post process the\n *                          string. And its an EXPENSIVE OPERATION.\n *\n * @return {Object} - If detailedCalculationFlag is set to true the returned object would be\n *                  {\n *                      height: height of the text\n *                      width: width of the text\n *                      detailObj: detail calculation of letters in the format {lettername: width}\n *                  }\n *                  If detailedCalculationFlag is set to false the returned object wont have the detailObj prop.\n */\nSmartLabelManager.prototype.getOriSize = function (text, detailedCalculationFlag) {\n    if (!this._init) {\n        return false;\n    }\n\n    var textArr,\n        letter,\n        lSize,\n        i,\n        l,\n        cumulativeSize = 0,\n        height = 0,\n        indiSizeStore = {};\n\n    if (!detailedCalculationFlag) {\n        return this._calCharDimWithCache(text);\n    }\n\n    // Calculate the width of every letter with an approximation\n    textArr = text.split('');\n    for (i = 0, l = textArr.length; i < l; i++) {\n        letter = textArr[i];\n        lSize = this._calCharDimWithCache(letter, true, textArr.length);\n        height = max(height, lSize.height);\n        cumulativeSize += lSize.width;\n        indiSizeStore[letter] = lSize.width;\n    }\n\n    return {\n        width: round(cumulativeSize),\n        height: height,\n        detailObj: indiSizeStore\n    };\n};\n\n/*\n * Dispose the container and object allocated by the smartlabel\n */\nSmartLabelManager.prototype.dispose = function () {\n    if (!this._init) {\n        return this;\n    }\n\n    this._containerManager && this._containerManager.dispose && this._containerManager.dispose();\n\n    delete this._container;\n    delete this._context;\n    delete this._cache;\n    delete this._containerManager;\n    delete this._containerObj;\n    delete this.id;\n    delete this.style;\n    delete this.parentContainer;\n    delete this._showNoEllipses;\n\n    return this;\n};\n\nexports['default'] = SmartLabelManager;\nmodule.exports = exports['default'];","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\nfunction ContainerManager(parentContainer, isBrowserLess, maxContainers) {\n    var svg;\n\n    maxContainers = maxContainers > 5 ? maxContainers : 5;\n    maxContainers = maxContainers < 20 ? maxContainers : 20;\n\n    this.maxContainers = maxContainers;\n    this.first = null;\n    this.last = null;\n    this.containers = {};\n    this.length = 0;\n    this.rootNode = parentContainer;\n\n    if (isBrowserLess) {\n        svg = doc.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'xlink', 'http://www.w3.org/1999/xlink');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'height', '0');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'width', '0');\n        this.svgRoot = svg;\n        this.rootNode.appendChild(svg);\n    }\n}\n\nContainerManager.prototype.get = function (style) {\n    var diff,\n        key,\n        containerObj,\n        containers = this.containers,\n        len = this.length,\n        max = this.maxContainers,\n        keyStr = '';\n\n    for (key in slLib.supportedStyle) {\n        if (style[key] !== undefined) {\n            keyStr += slLib.supportedStyle[key] + ':' + style[key] + ';';\n        }\n    }\n\n    if (!keyStr) {\n        return false;\n    }\n\n    if (containerObj = containers[keyStr]) {\n        if (this.first !== containerObj) {\n            containerObj.prev && (containerObj.prev.next = containerObj.next);\n            containerObj.next && (containerObj.next.prev = containerObj.prev);\n            containerObj.next = this.first;\n            containerObj.next.prev = containerObj;\n            this.last === containerObj && (this.last = containerObj.prev);\n            containerObj.prev = null;\n            this.first = containerObj;\n        }\n    } else {\n        if (len >= max) {\n            diff = len - max + 1;\n            // +1 is to remove an extra entry to make space for the new container to be added.\n            while (diff--) {\n                this.removeContainer(this.last);\n            }\n        }\n        containerObj = this.addContainer(keyStr);\n    }\n\n    return containerObj;\n};\n\nContainerManager.prototype.addContainer = function (keyStr) {\n    var node, container;\n\n    this.containers[keyStr] = container = {\n        next: null,\n        prev: null,\n        node: null,\n        ellipsesWidth: 0,\n        lineHeight: 0,\n        dotWidth: 0,\n        avgCharWidth: 4,\n        keyStr: keyStr,\n        charCache: {}\n    };\n\n    // Since the container objects are arranged from most recent to least recent order, we need to add the new\n    // object at the beginning of the list.\n    container.next = this.first;\n    container.next && (container.next.prev = container);\n    this.first = container;\n    if (!this.last) {\n        this.last = container;\n    }\n    this.length += 1;\n\n    node = container.node = doc.createElement('div');\n    this.rootNode.appendChild(node);\n\n    if (documentSupport.isIE && !documentSupport.hasSVG) {\n        node.style.setAttribute('cssText', keyStr);\n    } else {\n        node.setAttribute('style', keyStr);\n    }\n\n    node.setAttribute('aria-hidden', 'true');\n    node.setAttribute('role', 'presentation');\n    node.style.display = 'inline-block';\n\n    node.innerHTML = slLib.testStrAvg; // A test string.\n    container.lineHeight = node.offsetHeight;\n    container.avgCharWidth = node.offsetWidth / 3;\n\n    if (documentSupport.isBrowserLess) {\n        node = container.svgText = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n        node.setAttribute('style', keyStr);\n        this.svgRoot.appendChild(node);\n\n        node.textContent = slLib.testStrAvg; // A test string.\n        container.lineHeight = node.getBBox().height;\n        container.avgCharWidth = (node.getBBox().width - SVG_BBOX_CORRECTION) / 3;\n\n        node.textContent = '...';\n        container.ellipsesWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n        node.textContent = '.';\n        container.dotWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n    } else {\n        node.innerHTML = '...';\n        container.ellipsesWidth = node.offsetWidth;\n        node.innerHTML = '.';\n        container.dotWidth = node.offsetWidth;\n        node.innerHTML = '';\n    }\n\n    return container;\n};\n\nContainerManager.prototype.removeContainer = function (cObj) {\n    var keyStr = cObj.keyStr;\n\n    if (!keyStr || !this.length || !cObj) {\n        return;\n    }\n    this.length -= 1;\n\n    cObj.prev && (cObj.prev.next = cObj.next);\n    cObj.next && (cObj.next.prev = cObj.prev);\n    this.first === cObj && (this.first = cObj.next);\n    this.last === cObj && (this.last = cObj.prev);\n\n    cObj.node.parentNode.removeChild(cObj.node);\n\n    delete this.containers[keyStr];\n};\n\nContainerManager.prototype.dispose = function () {\n    var key,\n        containers = this.containers;\n\n    this.maxContainers = null;\n    for (key in containers) {\n        this.removeContainer(containers[key]);\n    }\n\n    this.rootNode.parentNode.removeChild(this.rootNode);\n\n    this.rootNode = null;\n    this.first = null;\n    this.last = null;\n};\n\nmodule.exports = ContainerManager;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nvar lib = {\n\tinit: function init(win) {\n\t\tvar doc = win.document,\n\t\t    nav = win.navigator,\n\t\t    userAgent = nav.userAgent,\n\t\t    DIV = 'DIV',\n\t\t    ceil = Math.ceil,\n\t\t    floor = Math.floor,\n\t\t    containerInstanceCount = 0,\n\t\t    clsNameSpace = 'fusioncharts-smartlabel-',\n\t\t    containerClass = clsNameSpace + 'container',\n\t\t    classNameWithTag = clsNameSpace + 'tag',\n\t\t    classNameWithTagBR = clsNameSpace + 'br';\n\n\t\tlib = {\n\t\t\twin: win,\n\n\t\t\tcontainerClass: containerClass,\n\n\t\t\tclassNameWithTag: classNameWithTag,\n\n\t\t\tclassNameWithTagBR: classNameWithTagBR,\n\n\t\t\tmaxDefaultCacheLimit: 500,\n\n\t\t\tclassNameReg: new RegExp('\\b' + classNameWithTag + '\\b'),\n\n\t\t\tclassNameBrReg: new RegExp('\\b' + classNameWithTagBR + '\\b'),\n\n\t\t\tspanAdditionRegx: /(<[^<\\>]+?\\>)|(&(?:[a-z]+|#[0-9]+);|.)/ig,\n\n\t\t\tspanAdditionReplacer: '$1<span class=\"' + classNameWithTag + '\">$2</span>',\n\n\t\t\tspanRemovalRegx: new RegExp('\\\\<span[^\\\\>]+?' + classNameWithTag + '[^\\\\>]{0,}\\\\>(.*?)\\\\<\\\\/span\\\\>', 'ig'),\n\n\t\t\txmlTagRegEx: new RegExp('<[^>][^<]*[^>]+>', 'i'),\n\n\t\t\tltgtRegex: /&lt;|&gt;/g,\n\n\t\t\tbrReplaceRegex: /<br\\/>/ig,\n\n\t\t\ttestStrAvg: 'WgI',\n\n\t\t\t// This style is applied over the parent smartlabel container. The container is kept hidden from the viewport\n\t\t\tparentContainerStyle: {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '-9999em',\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\tpadding: '0px',\n\t\t\t\twidth: '1px',\n\t\t\t\theight: '1px',\n\t\t\t\toverflow: 'hidden'\n\t\t\t},\n\n\t\t\t// All the style which might affect the text metrics\n\t\t\tsupportedStyle: {\n\t\t\t\tfont: 'font',\n\t\t\t\tfontFamily: 'font-family',\n\t\t\t\t'font-family': 'font-family',\n\t\t\t\tfontWeight: 'font-weight',\n\t\t\t\t'font-weight': 'font-weight',\n\t\t\t\tfontSize: 'font-size',\n\t\t\t\t'font-size': 'font-size',\n\t\t\t\tlineHeight: 'line-height',\n\t\t\t\t'line-height': 'line-height',\n\t\t\t\tfontStyle: 'font-style',\n\t\t\t\t'font-style': 'font-style'\n\t\t\t},\n\n\t\t\t// Get the support list for html the document where the text calcution is to be done.\n\t\t\tgetDocumentSupport: function getDocumentSupport() {\n\t\t\t\tvar childRetriverFn, childRetriverString, noClassTesting;\n\n\t\t\t\tif (doc.getElementsByClassName) {\n\t\t\t\t\tchildRetriverFn = 'getElementsByClassName';\n\t\t\t\t\tchildRetriverString = classNameWithTag;\n\t\t\t\t\tnoClassTesting = true;\n\t\t\t\t} else {\n\t\t\t\t\tchildRetriverFn = 'getElementsByTagName';\n\t\t\t\t\tchildRetriverString = 'span';\n\t\t\t\t\tnoClassTesting = false;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tisIE: /msie/i.test(userAgent) && !win.opera,\n\t\t\t\t\thasSVG: Boolean(win.SVGAngle || doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')),\n\t\t\t\t\tisHeadLess: new RegExp(' HtmlUnit').test(userAgent),\n\t\t\t\t\tisWebKit: new RegExp(' AppleWebKit/').test(userAgent),\n\t\t\t\t\tchildRetriverFn: childRetriverFn,\n\t\t\t\t\tchildRetriverString: childRetriverString,\n\t\t\t\t\tnoClassTesting: noClassTesting\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t/*\n    * Create a html div element and attach it with a parent. All the subsequent operations are performed\n    * by upding this dom tree only.\n    *\n    * @param {HTMLElement} - The html element where the newly created div is to be attached. If not passed,\n    *                      the new div is appended on the body.\n    */\n\t\t\tcreateContainer: function createContainer(containerParent) {\n\t\t\t\tvar body, container;\n\n\t\t\t\tif (containerParent && (containerParent.offsetWidth || containerParent.offsetHeight)) {\n\t\t\t\t\tif (containerParent.appendChild) {\n\t\t\t\t\t\tcontainerParent.appendChild(container = doc.createElement(DIV));\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbody = doc.getElementsByTagName('body')[0];\n\n\t\t\t\t\tif (body && body.appendChild) {\n\t\t\t\t\t\tcontainer = doc.createElement(DIV);\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\tcontainerInstanceCount += 1;\n\t\t\t\t\t\tbody.appendChild(container);\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Finds a approximate position where the text is to be broken\n\t\t\tgetNearestBreakIndex: function getNearestBreakIndex(text, maxWidth, sl) {\n\t\t\t\tif (!text || !text.length) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar difference,\n\t\t\t\t    getWidth = sl._getWidthFn(),\n\t\t\t\t    charLen = 0,\n\t\t\t\t    increment = 0,\n\t\t\t\t    oriWidth = getWidth(text),\n\t\t\t\t    avgWidth = oriWidth / text.length;\n\n\t\t\t\tdifference = maxWidth;\n\t\t\t\tcharLen = ceil(maxWidth / avgWidth);\n\n\t\t\t\tif (oriWidth < maxWidth) {\n\t\t\t\t\treturn text.length - 1;\n\t\t\t\t}\n\n\t\t\t\tif (charLen > text.length) {\n\t\t\t\t\tdifference = maxWidth - oriWidth;\n\t\t\t\t\tcharLen = text.length;\n\t\t\t\t}\n\n\t\t\t\twhile (difference > 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twhile (difference < 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn charLen;\n\t\t\t},\n\n\t\t\t/*\n    * Determine lineheight of a text for a given style. It adds propery lineHeight to the style passed\n    *\n    * @param {Object} - The style based on which the text's metric needs to be calculated. The calculation happens\n    *                  based on fontSize property, if its not present a default font size is assumed.\n    *\n    * @return {Object} - The style that was passed with lineHeight as a named propery set on the object.\n    */\n\t\t\tsetLineHeight: function setLineHeight(styleObj) {\n\t\t\t\tvar fSize = styleObj.fontSize = styleObj.fontSize || '12px';\n\t\t\t\tstyleObj.lineHeight = styleObj.lineHeight || styleObj['line-height'] || parseInt(fSize, 10) * 1.2 + 'px';\n\t\t\t\treturn styleObj;\n\t\t\t}\n\t\t};\n\n\t\treturn lib;\n\t}\n};\n\nexports['default'] = lib;\nmodule.exports = exports['default'];","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"hyperdis\",[],t):\"object\"==typeof exports?exports.hyperdis=t():e.hyperdis=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(e,t){e.forEach(function(e){void 0!==e&&null!==e&&(t[e]=1)})},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._set={},i(t,this._set)}return n(e,[{key:\"append\",value:function(e){return i(e,this._set),this}},{key:\"toArray\",value:function(){return Object.keys(this._set)}}],[{key:\"difference\",value:function(t,r){var n=void 0,i=[],o=t._set,u=r._set;for(n in o)({}).hasOwnProperty.call(o,n)&&(n in u||i.push(n));return new e(i)}}]),e}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var l=function(e){if(\"object\"===(void 0===e?\"undefined\":a(e))){if(null===e)return!1;if(\"[object Object]\"===Object.prototype.toString.call(e))return\"Object\"===(e.constructor.toString().match(/^function (.*)\\(\\)/m)||[])[1]}return!1},c=\"undefined\"==typeof window?{}:window,f=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(e){setTimeout(e,16)},h=function e(){return e.__lastTime===(new Date).getTime()?e.__lastTime.toString()+(e.__id++).toString():(e.__id=0,(e.__lastTime=(new Date).getTime()).toString()+(e.__id++).toString())},d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=[];return t.forEach(function(e){return n.push.apply(n,s(e))}),n},p=function(e){var t=[],r=null;return e=e&&\"function\"==typeof e&&e||function(){},function(n,i){[].push.apply(t,n),null===r&&(r=f(function(){var n=t.slice(0);t.length=0,r=null,function(e){return e.reduce(function(e,t){return t.__id in e.map?e:(e.map[t.__id]=1,e.unique.push(t),e)},{map:{},unique:[]}).unique}(n).forEach(function(e){return e()}),e(i)}))}},v=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map(function(t){var r=e[t];return{name:r.name,qualifiedName:r.qualifiedName,value:r.seed}})}},y=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return{dependencies:t.slice(0,t.length-1),fn:t[t.length-1]}},g=function(e){var t=[],r={};return e.forEach(function(e){return r[e.qualifiedName]=-1}),function e(n){n.forEach(function(n){var i,o=void 0,u=void 0,a=void 0;(i=n.qualifiedName)in r?-1!==(o=r[i])&&o!==t.length-1&&(u=t.slice(0,o),a=t.slice(o+1),t=u.concat(a),a.forEach(function(e,t){return r[e.qualifiedName]=t+u.length}),r[i]=t.push(n)-1):r[i]=t.push(n)-1,e(n.outgoingEdges)})}(e),t},m={accumulate:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n={};return t.forEach(function(e){Object.assign(n,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.name,e.value))}),n},identity:function(e){return e.value}};var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.fn=t,this.dep=[]}return u(e,[{key:\"addDependencies\",value:function(){var e;return(e=this.dep).push.apply(e,arguments),this}},{key:\"getDependencies\",value:function(){return this.dep}},{key:\"get\",value:function(){return this.fn}}]),e}(),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function k(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var w=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=n||{},this.name=t,this.qualifiedName=r,this.edges=[],this.outgoingEdges=[],this._seed=null,this.requireResolve=!0,this.retriever=n.retriever,this.history=[],this.resolver=null,this.electricEdges=[]}return b(e,[{key:\"addDependencies\",value:function(){for(var e,t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.edges).push.apply(e,n),n.forEach(function(e){return e.outgoingEdges.push(t)}),this}},{key:\"addElectricNode\",value:function(e){return this.electricEdges.push(e),this}},{key:\"resolve\",value:function(){return this.seed=this.resolver.apply(this,k(this.retrieveDetails())),this.history.push(this.seed),this.requireResolve=!1,this}},{key:\"retrieveDetails\",value:function(){return 0===this.edges.length?[{name:this.name,qualifiedName:this.qualifiedName,value:this.seed}]:this.retriever.apply(this,k(this.edges.map(function(e){return e.qualifiedName})))}},{key:\"repeatHead\",value:function(){var e=this.history,t=e[e.length-1];return 0===e.length?this:(e.push(t),this)}},{key:\"flush\",value:function(){var e=this.history,t=e[e.length-1];return e.length=0,e.push(t),this}},{key:\"isRoot\",value:function(){return null===this.name}},{key:\"seed\",get:function(){return this._seed},set:function(e){return this._seed=e,this.requireResolve=!0,this}}]),e}(),q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.edges=[],this.listeners={nextFrame:[],currentFrame:[]}}return q(e,[{key:\"addEdges\",value:function(){var e;return(e=this.edges).push.apply(e,arguments),this}},{key:\"regListenerForCurrFrame\",value:function(e){var t=this,r=this.listeners.currentFrame,n=r.push(function(e,t){var r=function(){t.apply(void 0,s(e.map(function(e){var t=e.history,r=t.length-1;return[t[r-1<0?0:r-1],t[r]]})))};return r.__id=h(),r}(this.edges,e))-1;return function(){t.listeners.currentFrame=r.filter(function(e,t){return t!==n})}}},{key:\"regListenerForNextFrame\",value:function(e){var t=this,r=this.listeners.nextFrame,n=r.push(function(e,t){var r=function(){t.apply(void 0,s(e.map(function(e){var t=e.history;return[t[0],t[t.length-1]]})))};return r.__id=h(),r}(this.edges,e))-1;return function(){t.listeners.nextFrame=r.filter(function(e,t){return t!==n})}}},{key:\"hasNextFrameListener\",value:function(){return!!this.listeners.nextFrame.length}}]),e}(),N=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function F(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var O=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.qualifiedNodeMap={},this.retriever=v(this.qualifiedNodeMap),this.root=new w(null,null,{retriever:this.retriever}),this.root.resolver=m.accumulate,this._wholeSet=null,this._propagate=!0,this.propagationOverride={currentFrameListeners:!1,nextFrameListeners:!1},this._schedule=p(function(e){var r=void 0;for(r in e.flushTarget){if(!{}.hasOwnProperty.call(t.qualifiedNodeMap,r))return;t.qualifiedNodeMap[r].flush()}})}return N(e,[{key:\"createNodesFrom\",value:function(e,t){var r=void 0,n=void 0,i=this.qualifiedNodeMap,u=this.root,a=this.retriever;return function e(t,n,o){var s=void 0,c=void 0,f=void 0,h=void 0;for(s in t)if({}.hasOwnProperty.call(t,s))if(h=new w(s,c=\"\"+n+s,{retriever:a}),i[c]=h,void 0!==(f=o.perv)?f.addDependencies(h):u.addDependencies(h),l(r=t[s]))e(r,\"\"+n+s+\".\",{perv:h}),h.resolver=m.accumulate;else if(r instanceof _){var d;h.resolver=r.get(),(d=h).addDependencies.apply(d,F(r.getDependencies().map(function(e){return i[e]})))}else h.resolver=m.identity,h.seed=r}(e,null===t?\"\":t+\".\",{perv:i[t]}),this._wholeSet=new o(Object.keys(this.qualifiedNodeMap)),(n=this.constructor.getResolvedList(u).concat(u).filter(function(e){return e.requireResolve})).forEach(function(e){return e.resolve()}),g(n).forEach(function(e){return e.resolve()}),this}},{key:\"getNodeValue\",value:function(e){if(e in this.qualifiedNodeMap)return this.qualifiedNodeMap[e].seed}},{key:\"createElectricNodeOf\",value:function(e,t){var r,n=this,i=e.map(function(e){return n.qualifiedNodeMap[e]}),o=(r=new E).addEdges.apply(r,F(i));return i.forEach(function(e){return e.addElectricNode(o)}),o[\"regListenerFor\"+t.type](t.fn)}},{key:\"update\",value:function(){for(var e=void 0,t=void 0,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var u=[],a=n.map(function(e){return e[0].seed=e[1],e[0]});return a.forEach(function(e){return e.resolve()}),u.push.apply(u,F(d.apply(void 0,F(a.map(function(e){return e.electricEdges}))))),e=new o(a.map(function(e){return e.qualifiedName})),this._propagate?((t=g(a)).forEach(function(e){return e.resolve()}),e.append(t.map(function(e){return e.qualifiedName})),u.push.apply(u,F(d.apply(void 0,F(t.map(function(e){return e.electricEdges}))))),this.__execUniqueElectricEdges(Array.from(new Set(u)),e),this):(this.__execUniqueElectricEdges(u),this._propagate=!0,this)}},{key:\"__execUniqueElectricEdges\",value:function(e,t){var r=this,n=[],i=[];t&&o.difference(this._wholeSet,t).toArray().forEach(function(e){return r.qualifiedNodeMap[e].repeatHead()});return e.forEach(function(e){n.push.apply(n,F(e.listeners.currentFrame))}),e.forEach(function(e){i.push.apply(i,F(e.listeners.nextFrame))}),!this.propagationOverride.currentFrameListeners&&n.forEach(function(e){return e()}),!this.propagationOverride.nextFrameListeners&&this._schedule(i,{flushTarget:t}),this.resetPropagationOverride(),this}},{key:\"resetNodeValue\",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map(function(t){return e.qualifiedNodeMap[t]}).map(function(e){return[e,e.seed]});return this.update.apply(this,F(i)),this}},{key:\"stopPropagation\",value:function(){return this._propagate=!1,this}},{key:\"resetPropagationOverride\",value:function(){return this.propagationOverride.currentFrameListeners=!1,this.propagationOverride.nextFrameListeners=!1,this}},{key:\"setPropagationOverride\",value:function(e){return this.propagationOverride[e+\"Listeners\"]=!0,this}},{key:\"getNodeFromQualifiedName\",value:function(e){return this.qualifiedNodeMap[e]}}],[{key:\"getResolvedList\",value:function(e){var t=[];return function e(t,r,n){var i=void 0;t.edges.forEach(function(t){e(t,r,n)}),t.isRoot()||(i=t.qualifiedName)in n||(r.push(t),n[i]=1)}(e,t,{}),t}}]),e}(),A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function P(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._graph=new O,this._lockFlag=!1,this._reqQ=[]}return A(e,[{key:\"append\",value:function(){var e=void 0,t=void 0;return 1===arguments.length?(e=null,t=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]),this._addPropInModel(e,t),this}},{key:\"calculatedProp\",value:function(){var e,t,r,n=void 0,i=void 0,o=void 0;return arguments.length>2?(i=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=null,n=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1]),t=o(y),(e=r=new _(t.fn)).addDependencies.apply(e,P(t.dependencies)),this._addPropInModel(i,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,r)),this}},{key:\"_addPropInModel\",value:function(e,t){return this._graph.createNodesFrom(t,e),this}},{key:\"on\",value:function(e,t,r){var n,i=e instanceof Array?e:[e],o=this._graph.createElectricNodeOf(i,{type:\"CurrFrame\",fn:t});r&&(n=this._graph.stopPropagation().setPropagationOverride(\"nextFrame\")).resetNodeValue.apply(n,P(e));return o}},{key:\"next\",value:function(e,t,r){var n,i=e instanceof Array?e:[e],o=this._graph.createElectricNodeOf(i,{type:\"NextFrame\",fn:t});r&&(n=this._graph.stopPropagation().setPropagationOverride(\"currentFrame\")).resetNodeValue.apply(n,P(e));return o}},{key:\"lock\",value:function(){return this._lockFlag=!0,this._reqQ.length=0,this}},{key:\"unlock\",value:function(){return this._lockFlag=!1,this.setProp.apply(this,P(this._reqQ)),this._reqQ.length=0,this}},{key:\"prop\",value:function(){var e,t=void 0,r=void 0;switch(e=arguments.length){case 1:t=arguments.length<=0?void 0:arguments[0];break;case 2:t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1];break;default:return this}return 2===e?(this._lockFlag?this._reqQ.push([t,r]):this.setProp([t,r]),this):this._graph.getNodeValue(t)}},{key:\"setProp\",value:function(){for(var e,t=this,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return 0===n.length?this:((e=this._graph).update.apply(e,P(n.map(function(e){return[t._graph.getNodeFromQualifiedName(e[0]),e[1]]}))),this)}},{key:\"graph\",value:function(){return this._graph}},{key:\"serialize\",value:function(){return this._graph.root.seed}}],[{key:\"create\",value:function(t){return(new e)._addPropInModel(null,t)}}]),e}();t.default=j}])});\n//# sourceMappingURL=hyperdis.js.map","import Selection from './selection';\n/**\n * This function applies a selection operation on a data array.\n *\n * @export\n * @param {Array} [data=[]] The data array to be observed.\n * @return {Selection} Instance of a selection.\n */\nexport default function dataSelect (idFn) {\n    return new Selection(idFn);\n}\n\n","import dataSelect from './dataSelect';\n\nexport { dataSelect };\n","import { defaultValue } from '../common-utils';\n\nconst sortSelection = (dataObjects, updateData, sortFn) =>\n    (a, b) => {\n        const kA = a[0];\n        const kB = b[0];\n        return sortFn([a[0], dataObjects.get(kA), updateData.get(kA)], [kB, dataObjects.get(kB), updateData.get(kB)]);\n    };\n\n/**\n * This class represents a selection applied on a data array.\n *\n * @class Selection\n */\nclass Selection {\n    /**\n     * Creates an instance of Selection.\n     * @param {Array<DataObject>} data Array of DataObjects.\n     * @memberof Selection\n     */\n    constructor (idGetter) {\n        this._dataObjects = new Map();\n        this._updateData = new Map();\n        this._enterData = new Map();\n        this._exitData = new Map();\n        this._idGetter = idGetter;\n    }\n\n    /**\n     * This method is used to supply seed data to a selection.\n     *\n     * @param {Array} newData Seed data to create the enter selection.\n     * @param {Functon | undefined } idGetter This function is used to uniqely identify a data entry.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    data (newData) {\n        const entryData = new Map();\n        const exitdata = new Map();\n        const tempMap = new Map();\n        const duplicateData = new Map();\n        const updatedData = this._updateData;\n        const idGetter = this._idGetter;\n\n        newData.forEach((...params) => {\n            const key = idGetter ? idGetter(...params) : params[1];\n            if (!tempMap.has(key)) {\n                tempMap.set(key, params[0]);\n            } else {\n                duplicateData.push(key, params[0]);\n            }\n        });\n\n        let val;\n        // prepare enter data\n        let entries = tempMap.entries();\n        while (val = entries.next().value) {\n            if (!updatedData.has(val[0])) {\n                entryData.set(val[0], val[1]);\n            } else {\n                updatedData.set(val[0], val[1]);\n            }\n        }\n        // prepare exit data\n        entries = updatedData.entries();\n        while (val = entries.next().value) {\n            if (!tempMap.has(val[0])) {\n                exitdata.set(val[0], val[1]);\n            }\n        }\n\n        // put duplicate data to exit list\n        entries = duplicateData.entries();\n        while (val = entries.next().value) {\n            exitdata.set(val[0], val[1]);\n        }\n\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = updatedData;\n        newSelection._dataObjects = this._dataObjects;\n        newSelection._enterData = entryData;\n        newSelection._exitData = exitdata;\n\n        return newSelection;\n    }\n\n    /**\n     * Applies the supplied callback to each data element\n     * and returns a new selection.\n     *\n     * @param {Function} callback Callback to execute on each item.\n     * @return {Selection} New selection with data created using callback.\n     * @memberof Selection\n     */\n    append (callback) {\n        let val;\n        const dataObjects = new Map();\n        const data = new Map();\n        const mode = defaultValue(this._mode, 'update');\n        const currentData = this[`_${mode}Data`];\n        const entries = currentData.entries();\n\n        while (val = entries.next().value) {\n            dataObjects.set(val[0], callback(val[1]));\n            data.set(val[0], val[1]);\n        }\n\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = data;\n        newSelection._dataObjects = dataObjects;\n\n        return newSelection;\n    }\n\n     /**\n     * This method returns an enter selection that\n     * allows or update operations.\n     *\n     * @return {Selection} Instance of enter selection.\n     * @memberof Selection\n     */\n    enter () {\n        this._mode = 'enter';\n        return this;\n    }\n\n    /**\n     * Returns a selection with exit data.\n     *\n     * @return {Selection} Instance of selection.\n     * @memberof Selection\n     */\n    exit () {\n        this._mode = 'exit';\n        return this;\n    }\n\n     /**\n     * This method merges the data of one selection with another.\n     *\n     * @param {Selection} selection Instance of selection.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    merge (target) {\n        const mergedObjects = new Map();\n        const mergedData = new Map();\n        let val;\n        let entries;\n\n        // merge Object and data present in this selection\n        entries = this._updateData.entries();\n        while (val = entries.next().value) {\n            if (!this._exitData.has(val[0])) {\n                mergedData.set(val[0], val[1]);\n                mergedObjects.set(val[0], this._dataObjects.get(val[0]));\n            }\n        }\n\n        // merge object from target selection\n        entries = target._updateData.entries();\n        while (val = entries.next().value) {\n            if (!(mergedData.has(val[0]) || target._exitData.has(val[0]))) {\n                mergedData.set(val[0], val[1]);\n                mergedObjects.set(val[0], target._dataObjects.get(val[0]));\n            }\n        }\n\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = mergedData;\n        newSelection._dataObjects = mergedObjects;\n\n        return newSelection;\n    }\n\n    each (fn) {\n        let val;\n        const entries = this._dataObjects.entries();\n\n        while (val = entries.next().value) {\n            fn(val[1], this._updateData.get(val[0]), val[0]);\n        }\n    }\n\n    map (fn) {\n        const newdata = new Map();\n        let val;\n        const entries = this._dataObjects.entries();\n\n        while (val = entries.next().value) {\n            newdata.set(val[0], fn(val[1], this._updateData.get(val[0]), val[0]));\n        }\n        const newSelection = new Selection(this._idGetter);\n        newSelection._updateData = this._updateData;\n        newSelection._dataObjects = newdata;\n\n        return newSelection;\n    }\n\n    remove () {\n        const mode = defaultValue(this._mode, 'update');\n        const currentData = this[`_${mode}Data`];\n\n        currentData.clear();\n\n        return this;\n    }\n\n    sort (sortFn) {\n        const updateData = this._updateData;\n        const dataObjects = this._dataObjects;\n        const sortSel = sortSelection(dataObjects, updateData, sortFn);\n\n        this._updateData = new Map([...updateData.entries()].sort(sortSel));\n        this._dataObjects = new Map([...dataObjects.entries()].sort(sortSel));\n        return this;\n    }\n\n    /**\n     *  Gets the object bound to a class\n     *\n     * @return {Object} current data set bound to the class\n     * @memberof Selection\n     */\n    getObjects () {\n        let val;\n        const objects = [];\n        const dataObjects = this._dataObjects;\n        // select the data to create object\n        const mode = defaultValue(this._mode, 'update');\n        const currentData = this[`_${mode}Data`];\n        const entries = currentData.entries();\n\n        while (val = entries.next().value) {\n            if (dataObjects.has(val[0])) {\n                objects.push(dataObjects.get(val[0]));\n            }\n        }\n\n        return objects;\n    }\n}\n\nexport default Selection;\n","export {\n    schemeDark2,\n    schemePaired,\n    schemeAccent,\n    schemePastel1,\n    schemePastel2,\n    schemeSet1,\n    schemeSet2,\n    schemeSet3,\n    schemeBlues,\n    schemeBrBG,\n    schemePRGn,\n    schemePiYG,\n\n    interpolateBrBG,\n    interpolatePRGn,\n    interpolatePiYG,\n    interpolatePuOr,\n    interpolateRdBu,\n    interpolateRdGy,\n    interpolateRdYlBu,\n    interpolateRdYlGn,\n    interpolateSpectral,\n\n    interpolateBlues,\n    interpolateGreens,\n    interpolateGreys,\n    interpolateOranges,\n    interpolatePurples,\n    interpolateReds,\n\n    interpolateViridis,\n    interpolateInferno,\n    interpolateMagma,\n    interpolatePlasma,\n    interpolateWarm,\n    interpolateCool,\n    interpolateCubehelixDefault,\n    interpolateBuGn,\n    interpolateBuPu,\n    interpolateGnBu,\n    interpolateOrRd,\n    interpolatePuBuGn,\n    interpolatePuBu,\n    interpolatePuRd,\n    interpolateRdPu,\n    interpolateYlGnBu,\n    interpolateYlGn,\n    interpolateYlOrBr,\n    interpolateYlOrRd,\n    interpolateRainbow\n} from 'd3-scale-chromatic';\n\n","/* global window, requestAnimationFrame, cancelAnimationFrame */\nimport { FieldType, DimensionSubtype, DateTimeFormatter, DM_DERIVATIVES, default as DataModel } from 'datamodel';\n\nimport {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom\n} from 'd3-axis';\nimport {\n    symbolCircle,\n    symbolCross,\n    symbolDiamond,\n    symbolSquare,\n    symbolStar,\n    symbolWye,\n    symbolTriangle,\n    symbol,\n    stack as d3Stack,\n    stackOffsetDiverging,\n    stackOrderNone,\n    stackOrderAscending,\n    stackOrderDescending,\n    stackOffsetNone,\n    stackOffsetExpand,\n    stackOffsetWiggle,\n    pie,\n    arc,\n    line,\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    area\n} from 'd3-shape';\nimport { scaleBand } from 'd3-scale';\nimport { nest } from 'd3-collection';\nimport {\n    interpolate,\n    interpolateRgb,\n    piecewise,\n    interpolateNumber,\n    interpolateHslLong\n} from 'd3-interpolate';\nimport {\n    easeCubic,\n    easeBounce,\n    easePoly,\n    easeBack,\n    easeCircle,\n    easeLinear,\n    easeElastic\n} from 'd3-ease';\nimport {\n    color,\n    rgb,\n    hsl\n} from 'd3-color';\nimport { voronoi } from 'd3-voronoi';\nimport { dataSelect } from './DataSystem';\nimport * as scales from './scales';\nimport { DATA_TYPE, SORT_ORDER_ASCENDING, SORT_ORDER_DESCENDING, ReservedFields } from './enums';\nimport * as STACK_CONFIG from './enums/stack-config';\n\nconst { CATEGORICAL, TEMPORAL } = DimensionSubtype;\nconst { STRING, FUNCTION } = DATA_TYPE;\nconst { InvalidAwareTypes } = DataModel;\nconst HTMLElement = window.HTMLElement;\n\nconst isSimpleObject = (obj) => {\n    let token;\n    if (typeof obj === 'object') {\n        if (obj === null) { return false; }\n        token = Object.prototype.toString.call(obj);\n        if (token === '[object Object]') {\n            return (obj.constructor.toString().match(/^function (.*)\\(\\)/m) || [])[1] === 'Object';\n        }\n    }\n    return false;\n};\n\n/**\n * Returns unique id\n * @return {string} Unique id string\n */\nconst\n    getUniqueId = () => `id-${new Date().getTime()}${Math.round(Math.random() * 10000)}`;\n\n/**\n * Deep copies an object and returns a new object.\n * @param {Object} o Object to clone\n * @return {Object} New Object.\n */\nconst clone = (o) => {\n    const output = {};\n    let v;\n    for (const key in o) {\n        if ({}.hasOwnProperty.call(o, key)) {\n            v = o[key];\n            output[key] = isSimpleObject(v) ? clone(v) : v;\n        }\n    }\n    return output;\n};\n\n/**\n* Checks the existence of keys in an object\n* @param {Array} keys Set of keys which are to be checked\n* @param {Object} obj whose keys are checked from the set of keys provided\n* @return {Object} Error if the keys are absent, or the object itself\n*/\nconst checkExistence = (keys, obj) => {\n    const nonExistentKeys = [];\n    keys.forEach((key) => {\n        if (key in obj) {\n            return;\n        }\n        nonExistentKeys.push(key);\n    });\n    return nonExistentKeys;\n};\n\nconst sanitizeIP = {\n    typeObj: (keys, obj) => {\n        if (typeof obj !== 'object') {\n            return Error('Argument type object expected');\n        }\n\n        const nonExistentKeys = checkExistence(keys, obj);\n        if (nonExistentKeys.length) {\n            return Error(`Missing keys from parameter ${nonExistentKeys.join(', ')}`);\n        }\n        return obj;\n    },\n\n    /* istanbul ignore next */ htmlElem: (elem) => {\n        if (!(elem instanceof HTMLElement)) {\n            return Error('HTMLElement required');\n        }\n        return elem;\n    }\n};\n\n/**\n * Gets the maximum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Maximum value\n */\nconst getMax = (data, field) => Math.max(...data.map(d => d[field]));\n\n/**\n * Gets the minimum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Minimum value\n */\nconst getMin = (data, field) => Math.min(...data.map(d => d[field]));\n\n/**\n * Gets the domain from the data based on the field name and type of field\n * @param  {Array.<Object> | Array.<Array>} data       Data Array\n * @param  {Array.<string>} fields    Array of fields from where the domain will be calculated\n * @param {string} fieldType Type of field - nominal, quantitiative, temporal.\n * @return {Array} Usually contains a min and max value if field is quantitative or\n * an array of values if field type is nominal or ordinal\n */\nconst getDomainFromData = (data, fields, fieldType) => {\n    let domain;\n    const domArr = [];\n    data = data[0] instanceof Array ? data : [data];\n\n    switch (fieldType) {\n    case CATEGORICAL:\n        domain = [].concat(...data.map(arr => arr.map(d => d[fields[0]]).filter(d => d !== undefined)));\n        break;\n    default:\n        for (let i = 0, len = data.length; i < len; i++) {\n            const arr = data[i];\n            const [field0, field1] = fields;\n            const arr0 = arr.filter(d => !isNaN(d[field0]));\n            const arr1 = arr.filter(d => !isNaN(d[field1]));\n            if (arr0.length || arr1.length) {\n                const firstMin = getMin(arr0, field0);\n                const secondMin = getMin(arr1, field1);\n                const firstMax = getMax(arr0, field0);\n                const secondMax = getMax(arr1, field1);\n                domArr.push([Math.min(firstMin, secondMin), Math.max(firstMax, secondMax)]);\n            }\n        }\n        domain = domArr.length ? [Math.min(...domArr.map(d => d[0])), Math.max(...domArr.map(d => d[1]))] : [];\n        break;\n    }\n    return domain;\n};\n\nconst sanitizeDomainWhenEqual = (domain) => {\n    if (domain[0] === domain[1]) {\n        domain[0] = domain[0] > 0 ? 0 : domain[0];\n        domain[1] = domain[1] > 0 ? domain[1] : 0;\n    }\n    return domain;\n};\n\n/**\n * Union Domain values\n * @param {Array.<Array>} domains Array of domain values\n * @param {string} fieldType type of field - dimension,measure or datetime.\n * @return {Array} Unioned domain of all domain values.\n */\nconst unionDomain = (domains, fieldType) => {\n    let domain = [];\n    domains = domains.filter(dom => dom && dom.length);\n    if (domains.length) {\n        if (fieldType === CATEGORICAL) {\n            domain = [].concat(...domains);\n        } else {\n            domain = [Math.min(...domains.map(d => d[0])), Math.max(...domains.map(d => d[1]))];\n        }\n    }\n\n    return domain;\n};\n\nconst symbolFns = {\n    circle: symbolCircle,\n    cross: symbolCross,\n    diamond: symbolDiamond,\n    square: symbolSquare,\n    star: symbolStar,\n    wye: symbolWye,\n    triangle: symbolTriangle\n};\n\nconst easeFns = {\n    cubic: easeCubic,\n    bounce: easeBounce,\n    linear: easeLinear,\n    elastic: easeElastic,\n    back: easeBack,\n    poly: easePoly,\n    circle: easeCircle\n};\n\n/**\n * Returns the maximum or minimum points of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @param {string} minOrMax minimum or maximum.\n * @return {Object} Minimum or maximum point.\n */\nconst getExtremePoint = (points, compareValue, minOrMax) => {\n    let extremePoint;\n    let point;\n    const len = points.length;\n    let minOrMaxVal = minOrMax === 'max' ? -Infinity : Infinity;\n    let val;\n\n    for (let i = 0; i < len; i++) {\n        point = points[i];\n        val = point[compareValue];\n        if (minOrMax === 'min' ? val < minOrMaxVal : val > minOrMaxVal) {\n            minOrMaxVal = val;\n            extremePoint = point;\n        }\n    }\n\n    return extremePoint;\n};\n\n/**\n * Returns the minimum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Minimum point.\n */\nconst getMinPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'min');\n\n/**\n * Returns the maximum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Maximum point.\n */\nconst getMaxPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'max');\n\n/**\n * Gets the index of the closest value of the given value from the array.\n * @param {Array} arr Array of values\n * @param {number} value Value from which the nearest value will be calculated.\n * @param {string} side side property.\n * @return {number} index of the closest value\n */\n/* istanbul ignore next */const getClosestIndexOf = (arr, value, side) => {\n    let low = 0;\n    const arrLen = arr.length;\n    let high = arrLen - 1;\n\n    let mid;\n    let d1;\n    let d2;\n\n    while (low < high) {\n        mid = Math.floor((low + high) / 2);\n        d1 = Math.abs(arr[mid] - value);\n        d2 = Math.abs(arr[mid + 1] - value);\n\n        if (d2 <= d1) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n\n    if (!side) {\n        return high;\n    }\n\n    const highVal = arr[high];\n    if (highVal === value) {\n        return high;\n    } else if (highVal > value) {\n        if (high === 0) { return high; }\n        return side === 'left' ? high - 1 : high;\n    }\n    if (high === arr.length - 1) { return high; }\n    return side === 'left' ? high : high + 1;\n};\n\nconst getNearestValue = (data, key) => {\n    const filterData = data.filter(d => typeof d === 'number');\n    return filterData[getClosestIndexOf(filterData, key)];\n};\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst getWindow = () => window;\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst reqAnimFrame = (() => requestAnimationFrame)();\n\nconst cancelAnimFrame = (() => cancelAnimationFrame)();\n\n/**\n * Capitalizes the first letter of the word\n * @param {string} text word\n * @return {string} Capitalized word\n */\nconst capitalizeFirst = (text) => {\n    text = text.toLowerCase();\n\n    return text.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1));\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst unique = (arr, fn = d => d) => {\n    const vals = arr.reduce((acc, v) => {\n        acc[fn(v)] = v;\n        return acc;\n    }, {});\n    return Object.values(vals);\n};\n\n/**\n * Gets the minimum difference between two consecutive numbers  in an array.\n * @param {Array} arr Array of numbers\n * @param {number} index index of the value\n * @return {number} minimum difference between values\n */\n/* istanbul ignore next */ const getMinDiff = (arr, index) => {\n    let diff;\n    let uniqueVals;\n    if (index !== undefined) {\n        uniqueVals = unique(arr.map(d => d[index]));\n    } else {\n        uniqueVals = unique(arr);\n    }\n    if (uniqueVals.length > 1) {\n        diff = Math.abs(uniqueVals[1] - uniqueVals[0]);\n        for (let i = 2, len = uniqueVals.length; i < len; i++) {\n            diff = Math.min(diff, Math.abs(uniqueVals[i] - uniqueVals[i - 1]));\n        }\n    } else {\n        diff = uniqueVals[0];\n    }\n\n    return diff;\n};\n\n/**\n * Returns the class name appended with a given id.\n * @param {string} cls class name\n * @param {string} id unique identifier\n * @param {string} prefix string needed to add before the classname\n * @return {string} qualified class name\n */\n/* istanbul ignore next */const getQualifiedClassName = (cls, id, prefix) => {\n    cls = cls.replace(/^\\.*/, '');\n    return [`${prefix}-${cls}`, `${prefix}-${cls}-${id}`];\n};\n\n/**\n * This method is used to set the default value for variables\n * without sullying the code with conditional statements.\n *\n * @export\n * @param {any} param The parameter to test.\n * @param {any} value The default value to assign.\n * @return {any} The value.\n */\n/* istanbul ignore next */ const defaultValue = (param, value) => {\n    if (typeof param === 'undefined' || (typeof param === 'object' && !param)) {\n        return value;\n    }\n    return param;\n};\n\n/**\n * DESCRIPTION TODO\n *\n * @export\n * @param {Object} graph graph whose dependency order has to be generated\n * @return {Object}\n */\nconst getDependencyOrder = (graph) => {\n    const dependencyOrder = [];\n    const visited = {};\n    const keys = Object.keys(graph);\n    /**\n     * DESCRIPTION TODO\n     *\n     * @export\n     * @param {Object} name\n     * @return {Object}\n     */\n    const visit = (name) => {\n        if (dependencyOrder.length === keys.length) {\n            return true;\n        }\n        visited[name] = true;\n        const edges = graph[name];\n        for (let e = 0; e < edges.length; e++) {\n            const dep = edges[e];\n            if (!visited[dep]) {\n                visit(dep);\n            }\n        }\n\n        dependencyOrder.push(name);\n        return false;\n    };\n\n    for (let i = 0; i < keys.length; i++) {\n        if (visit(keys[i], i)) break;\n    }\n\n    return dependencyOrder;\n};\n\n/**\n * Iterates over the properties of an object and applies the function\n *\n * @param {any} obj object to be iterated upon\n * @param {any} fn  function to be applied on it\n */\nconst objectIterator = (obj, fn) => {\n    for (const key in obj) {\n        if (Object.hasOwnProperty.call(obj, key)) {\n            fn(key, obj);\n        }\n    }\n};\n\n/**\n * This class creates a d3 voronoi for retrieving the nearest neighbour of any point from a set of two\n * dimensional points\n * @class Voronoi\n */\n/* istanbul ignore next */ class Voronoi {\n    /**\n     * Initialize the voronoi with the data given.\n     * @param {Array.<Object>} data Array of points.\n     */\n    constructor (data = []) {\n        this._voronoi = voronoi().x(d => d.x).y(d => d.y);\n        this.data(data);\n    }\n\n    /**\n     * Sets the data to voronoi\n     * @param {Array.<Object>} data Array of objects.\n     * @return {Voronoi} Instance of voronoi.\n     */\n    data (data) {\n        if (data) {\n            this._voronoiFn = this._voronoi(data);\n        }\n        return this;\n    }\n\n    /**\n     * Finds the closest point to the x and y position given.\n     * @param {number} x x value\n     * @param {number} y y value\n     * @param {number} radius search radius.\n     * @return {Object} Details of the nearest point.\n     */\n    find (x, y, radius) {\n        return this._voronoiFn.find(x, y, radius);\n    }\n}\n\nconst getObjProp = (obj, ...fields) => {\n    if (obj === undefined || obj === null) {\n        return obj;\n    }\n    let retObj = obj;\n    for (let i = 0, len = fields.length; i < len; i++) {\n        retObj = retObj[fields[i]];\n        if (retObj === undefined || retObj === null) {\n            break;\n        }\n    }\n    return retObj;\n};\n\n/**\n * Sanitize an input number / string mixed number. Currently dot in the no is not supported.\n *\n * @param {number | string} val pure number or string mixed number\n * @return {number | null}  Number if it can be extracted. Otherwise null\n */\nconst intSanitizer = (val) => {\n    const arr = val.toString().match(/(\\d+)(px)*/g);\n    if (!arr) {\n        // If only characters are passed\n        return null;\n    }\n\n    return parseInt(arr[0], 10);\n};\n\nconst generateGetterSetters = (context, props) => {\n    Object.entries(props).forEach((propInfo) => {\n        const prop = propInfo[0];\n        const { sanitization, preset, onset, typeChecker, defaultValue: defVal } = propInfo[1];\n        const prototype = context.constructor.prototype;\n        if (!(Object.hasOwnProperty.call(prototype, prop))) {\n            if (defVal) {\n                context[`_${prop}`] = defVal;\n            }\n            context[prop] = (...params) => {\n                if (params.length) {\n                    let value = params[0];\n                    if (sanitization) {\n                        value = sanitization(context, params[0], context[`_${prop}`]);\n                    }\n                    if (preset) {\n                        preset(context, value);\n                    }\n                    if (typeChecker && !typeChecker(value)) {\n                        return context[`_${prop}`];\n                    }\n                    context[`_${prop}`] = value;\n                    if (onset) {\n                        onset(context, value);\n                    }\n                    return context;\n                } return context[`_${prop}`];\n            };\n        }\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} prop\n */\nconst getArraySum = (arr, prop) => arr.reduce((total, elem) => {\n    total += prop ? elem[prop] : elem;\n    return total;\n}, 0);\n\n/**\n *\n *\n * @param {*} arr1\n * @param {*} arr2\n *\n */\nconst arraysEqual = (arr1, arr2) => {\n    if (arr1.length !== arr2.length) { return false; }\n    for (let i = arr1.length; i >= 0; i--) {\n        if (arr1[i] !== arr2[i]) { return false; }\n    }\n\n    return true;\n};\n\n/* eslint valid-typeof:0 */\n/**\n * Returns a validation function which can be used to validate variables against a type and value\n *\n * @param {any} type type of value that the object should have\n * @return {Object} validation function\n */\nconst isEqual = type => (oldVal, newVal) => {\n    if (type === 'Array') {\n        if (!oldVal) {\n            return false;\n        }\n        return arraysEqual(oldVal, newVal);\n    } else if (type === 'Object') {\n        return Object.is(oldVal, newVal);\n    } return oldVal === newVal;\n};\n\n/**\n * Description @todo\n *\n * @param {any} transactionModel @todo\n * @param {any} transactionEndpoint @todo\n * @param {any} transactionItems @todo\n * @return {any} @todo\n */\nconst enableChainedTransaction = (transactionModel, transactionEndpoint, transactionItems) =>\n    transactionItems.forEach(item => transactionModel\n        .registerImmediateListener(item, ([, newVal]) => transactionEndpoint[item](newVal)));\n\n/**\n * Chceks if the element is istanceof HTMLElement\n *\n * @param {Object} elem any JS Object\n */\nconst isHTMLElem = elem => elem instanceof HTMLElement;\n\nconst ERROR_MSG = {\n    INTERFACE_IMPL: 'Method not implemented'\n};\n\n/**\n * Merges the sink object in the source by recursively iterating through the object properties\n * @param {Object} source Source Object\n * @param {Object} sink Sink Object\n * @return {Object} Merged object\n */\nconst mergeRecursive = (source, sink) => {\n    for (const prop in sink) {\n        if (isSimpleObject(source[prop]) && isSimpleObject(sink[prop])) {\n            mergeRecursive(source[prop], sink[prop]);\n        } else if (sink[prop] instanceof Object && sink[prop].constructor === Object) {\n            source[prop] = {};\n            mergeRecursive(source[prop], sink[prop]);\n        } else {\n            source[prop] = sink[prop];\n        }\n    }\n    return source;\n};\n\n/**\n * Creates a selection set from a data set with corresponding attributes\n *\n * @export\n * @param {Selection} sel contains previous selection\n * @param {Object} appendObj Object to be appended\n * @param {Array} data Data based on which the selection is entered/updated/removed\n * @param {Object} [attrs={}] Attributes to be set on the data\n * @return {Selection} Merged selection\n */\nconst createSelection = (sel, appendObj, data, idFn) => {\n    let selection = sel || dataSelect(idFn);\n\n    selection = selection.data(data);\n\n    const enter = selection.enter().append(appendObj);\n    const mergedSelection = enter.merge(selection);\n\n    const exitSelection = selection.exit();\n    exitSelection.getObjects().forEach(inst => inst.remove());\n    exitSelection.remove();\n    return mergedSelection;\n};\n\nconst interpolateArray = (data, fitCount) => {\n    const linearInterpolate = function (before, after, atPoint) {\n        return before + (after - before) * atPoint;\n    };\n    const newData = [];\n    const springFactor = ((data.length - 1) / (fitCount - 1));\n    newData[0] = data[0]; // for new allocation\n    for (let i = 1; i < fitCount - 1; i++) {\n        const tmp = i * springFactor;\n        const before = (Math.floor(tmp)).toFixed();\n        const after = (Math.ceil(tmp)).toFixed();\n        const atPoint = tmp - before;\n        newData[i] = linearInterpolate(data[before], data[after], atPoint);\n    }\n    newData[fitCount - 1] = data[data.length - 1]; // for new allocation\n    return newData;\n};\n\n/**\n *\n *\n * @param {*} fn\n */\nconst nextFrame = (fn) => {\n    setTimeout(() => {\n        fn();\n    }, 0);\n};\n\n/**\n *\n *\n * @param {*} angle\n */\nconst angleToRadian = angle => angle * Math.PI / 180;\n\n/**\n *\n *\n * @param {*} newName\n * @param {*} oldName\n */\nconst replaceCSSPrefix = () => {\n    // @todo\n};\n\n/**\n * Gets the  interpolator function from d3 color\n *\n */\nconst interpolator = () => interpolate;\n\n/**\n * Gets the number interpolator from d3 color\n *\n */\nconst numberInterpolator = () => interpolateNumber;\n\n/**\n * Gets the rgb interpolator from d3 color\n *\n */\nconst colorInterpolator = () => interpolateRgb;\n\n/**\n * Gets the hsl interpolator from d3 color\n *\n */\nconst hslInterpolator = () => interpolateHslLong;\n\nconst transformColors = () => ({\n    color,\n    rgb,\n    hsl\n});\n\n/**\n * Gets the piecewise interpolator from d3 color\n *\n */\nconst piecewiseInterpolator = () => piecewise;\n\nfunction hue2rgb (p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   Number  h       The hue\n * @param   Number  s       The saturation\n * @param   Number  l       The lightness\n * @return  Array           The RGB representation\n */\nconst hslToRgb = (h, s, l, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\n/**\n * Converts an RGB color value to HSV. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n * Assumes r, g, and b are contained in the set [0, 255] and\n * returns h, s, and v in the set [0, 1].\n *\n * @param   Number  r       The red color value\n * @param   Number  g       The green color value\n * @param   Number  b       The blue color value\n * @return  Array           The HSV representation\n */\nconst rgbToHsv = (r, g, b, a = 1) => {\n    r = +r; g = +g; b = +b; a = +a;\n    r /= 255; g /= 255; b /= 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h;\n    let s;\n    const l = (max + min) / 2;\n\n    if (max === min) {\n        h = s = 0; // achromatic\n    } else {\n        const d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n        default: break;\n        }\n        h /= 6;\n    }\n    return [h, s, l, a];\n};\n\n/**\n * Converts an HSV color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n * Assumes h, s, and v are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   Number  h       The hue\n * @param   Number  s       The saturation\n * @param   Number  v       The value\n * @return  Array           The RGB representation\n */\nconst hsvToRgb = (h, s, v, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n    default: break;\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\nconst hexToHsv = (hex) => {\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? rgbToHsv(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) : '';\n};\n\nconst RGBAtoRGB = (r, g, b, a, r2 = 255, g2 = 255, b2 = 255) => {\n    const r3 = Math.round(((1 - a) * r2) + (a * r));\n    const g3 = Math.round(((1 - a) * g2) + (a * g));\n    const b3 = Math.round(((1 - a) * b2) + (a * b));\n    return `rgb(${r3},${g3},${b3})`;\n};\n\nconst hslaToRgb = (h, s, l, a) => {\n    const [r, g, b, a1] = hslToRgb(h, s, l, a);\n    return RGBAtoRGB(r, g, b, a1);\n};\n\nconst detectColor = (col) => {\n    const matchRgb = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/;\n    const matchHsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g;\n\n    // Source :  https://gist.github.com/sethlopezme/d072b945969a3cc2cc11\n    // eslint-disable-next-line\n    const matchRgba = /rgba?\\(((25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,\\s*?){2}(25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,?\\s*([01]\\.?\\d*?)?\\)/;\n    // eslint-disable-next-line\n    const matchHsla = /^hsla\\(([\\d.]+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*(\\d*(?:\\.\\d+)?)\\)$/;\n    const matchHex = /^#([0-9a-f]{3}){1,2}$/i;\n\n    if (matchRgb.test(col) || matchRgba.test(col)) {\n        return 'rgb';\n    } else if (matchHsl.test(col) || matchHsla.test(col)) {\n        return 'hsl';\n    } else if (matchHex.test(col)) {\n        return 'hex';\n    } return col;\n};\n\nfunction RGBAToHexA (rgba) {\n    const sep = rgba.indexOf(',') > -1 ? ',' : ' ';\n    rgba = rgba.substr(5).split(')')[0].split(sep);\n\n  // Strip the slash if using space-separated syntax\n    if (rgba.indexOf('/') > -1) { rgba.splice(3, 1); }\n\n    for (const R in rgba) {\n        const r = rgba[R];\n        if (r.indexOf('%') > -1) {\n            const p = r.substr(0, r.length - 1) / 100;\n\n            if (R < 3) {\n                rgba[R] = Math.round(p * 255);\n            } else {\n                rgba[R] = p;\n            }\n        }\n    }\n\n    let r = (+rgba[0]).toString(16);\n    let g = (+rgba[1]).toString(16);\n    let b = (+rgba[2]).toString(16);\n    let a = Math.round(+rgba[3] * 255).toString(16);\n\n    if (r.length === 1) { r = `0${r}`; }\n    if (g.length === 1) { g = `0${g}`; }\n    if (b.length === 1) { b = `0${b}`; }\n    if (a.length === 1) { a = `0${a}`; }\n\n    return `#${r}${g}${b}${a}`;\n}\n\nconst transformToHex = (datumStyle, colorType) => {\n    if (colorType === 'rgb') {\n        const [r, g, b, a] = datumStyle.replace(/[^\\d,]/g, '').split(',');\n        const aa = a || 1;\n\n        const rgbaString = `rgba(${r}, ${g}, ${b}, ${aa})`;\n        return RGBAToHexA(rgbaString);\n    }\n    // Add methods to handle hsl and hex conversion\n    return null;\n};\n\nconst assembleModelFromIdentifiers = (model, identifiers) => {\n    let schema = [];\n    let data;\n    const fieldMap = model.getFieldsConfig();\n    if (identifiers.length) {\n        const fields = identifiers[0];\n        const len = fields.length;\n        for (let i = 0; i < len; i++) {\n            const field = fields[i];\n            const fieldObj = fieldMap[field] && Object.assign({}, fieldMap[field].def);\n            if (fieldObj) {\n                schema.push(Object.assign(fieldObj));\n            }\n        }\n\n        data = [];\n        const header = identifiers[0];\n        for (let i = 1; i < identifiers.length; i += 1) {\n            const vals = identifiers[i];\n            const temp = {};\n            vals.forEach((fieldVal, cIdx) => {\n                temp[header[cIdx]] = fieldVal;\n            });\n            data.push(temp);\n        }\n    } else {\n        data = [];\n        schema = [];\n    }\n\n    return new model.constructor(data, schema);\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} criteria\n *\n */\nconst getDataModelFromRange = (dataModel, criteria, mode, criteriaFields) => {\n    if (criteria === null) return null;\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const selFields = criteriaFields || Object.keys(criteria).filter(d => d in fieldsConfig);\n    const selFn = fields => selFields.every((field) => {\n        const fieldValue = fields[field].internalValue;\n        const range = criteria[field][0] instanceof Array ? criteria[field][0] : criteria[field];\n\n        if (typeof range[0] === STRING) {\n            return range.find(d => d === fieldValue) !== undefined;\n        }\n\n        if (range) {\n            // Check if the selected bar value lies insid e the selection box\n            return fieldValue >= range[0] && fieldValue <= range[1];\n        }\n\n        return false;\n    });\n\n    return dataModel.select(selFn, {\n        saveChild: false,\n        mode\n    });\n};\n\nconst getArrayIndexMap = arr => arr.reduce((acc, value, i) => {\n    acc[value] = i;\n    return acc;\n}, {});\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} identifiers\n *\n */\nconst getDataModelFromIdentifiers = (dataModel, identifiers, mode, hasBarLayer) => {\n    let filteredDataModel;\n    if (identifiers instanceof Array) {\n        const fieldsConfig = dataModel.getFieldsConfig();\n\n        const dataArr = identifiers.slice(1, identifiers.length);\n        if (identifiers instanceof Function) {\n            filteredDataModel = identifiers(dataModel, {}, false);\n        } else if (identifiers instanceof Array && identifiers[0].length) {\n            const filteredSchema = identifiers[0].filter(d => d in fieldsConfig || d === ReservedFields.ROW_ID);\n            filteredDataModel = dataModel.select((fields, rowId) => {\n                let include = true;\n                filteredSchema.forEach((propField, idx) => {\n                    const value = propField === ReservedFields.ROW_ID ? rowId : fields[propField].internalValue;\n                    const index = dataArr.findIndex(d => d[idx] === value);\n                    include = include && index !== -1;\n                });\n                return include;\n            }, {\n                saveChild: false,\n                mode\n            });\n        } else {\n            filteredDataModel = dataModel.select(() => false, {\n                saveChild: false,\n                mode\n            });\n        }\n    } else {\n        filteredDataModel = getDataModelFromRange(dataModel, identifiers, mode, hasBarLayer);\n    }\n    return filteredDataModel;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} listenerMap\n */\nconst registerListeners = (context, listenerMap, ...params) => {\n    const propListenerMap = listenerMap(context, ...params);\n    for (const key in propListenerMap) {\n        if ({}.hasOwnProperty.call(propListenerMap, key)) {\n            const { namespace } = params[1];\n            let ns = null;\n            if (namespace) {\n                ns = namespace;\n            }\n            const mapObj = propListenerMap[key];\n            const propType = mapObj.type;\n            const props = mapObj.props;\n            const listenerFn = mapObj.listener;\n            context.store()[propType](props, listenerFn, false, {\n                namespace: ns\n            });\n        }\n    }\n};\n\nconst isValidValue = value => !isNaN(value) && value !== -Infinity && value !== Infinity;\n/**\n *\n *\n * @param {*} str\n *\n */\nconst escapeHTML = (str) => {\n    const htmlEscapes = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#x27;',\n        '/': '&#x2F;'\n    };\n    const htmlEscaper = /[&<>\"'/]/g;\n    return (`${str}`).replace(htmlEscaper, match => htmlEscapes[match]);\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst transposeArray = arr => arr[0].map((col, i) => arr.map(row => row[i]));\nconst toArray = arr => (arr instanceof Array ? arr : [arr]);\nconst extendsClass = (cls, extendsFrom, found) => {\n    if (!cls) {\n        return false;\n    }\n    const prototype = cls.prototype;\n    if (prototype instanceof extendsFrom) {\n        found = true;\n    } else {\n        found = extendsClass(prototype, extendsFrom, found);\n    }\n    return found;\n};\n\n/**\n *\n * @param {*} dm1\n * @param {*} dm2\n */\nconst concatModels = (dm1, dm2) => {\n    const dataObj1 = dm1.getData();\n    const dataObj2 = dm2.getData();\n    const data1 = dataObj1.data;\n    const data2 = dataObj2.data;\n    const schema1 = dataObj1.schema;\n    const schema2 = dataObj2.schema;\n    const tuples1 = {};\n    const tuples2 = {};\n    const commonTuples = {};\n    for (let i = 0; i < data1.length; i++) {\n        for (let ii = 0; ii < data2.length; ii++) {\n            const row1 = data1[i];\n            const row2 = data2[ii];\n            const dim1Values = row1.filter((d, idx) => schema1[idx].type === FieldType.DIMENSION);\n            const dim2Values = row2.filter((d, idx) => schema2[idx].type === FieldType.DIMENSION);\n            const allDimSame = dim1Values.every(value => dim2Values.indexOf(value) !== -1);\n            if (allDimSame) {\n                const key = dim1Values.join();\n                !commonTuples[key] && (commonTuples[key] = {});\n                row1.forEach((value, idx) => {\n                    commonTuples[key][schema1[idx].name] = value;\n                });\n                row2.forEach((value, idx) => {\n                    commonTuples[key][schema2[idx].name] = value;\n                });\n            } else {\n                const dm1Key = dim1Values.join();\n                const dm2Key = dim2Values.join();\n                if (!commonTuples[dm1Key]) {\n                    !commonTuples[dm1Key] && (commonTuples[dm1Key] = {});\n                    row1.forEach((value, idx) => {\n                        commonTuples[dm1Key][schema1[idx].name] = value;\n                    });\n                }\n                if (!commonTuples[dm2Key]) {\n                    !commonTuples[dm2Key] && (commonTuples[dm2Key] = {});\n                    row2.forEach((value, idx) => {\n                        commonTuples[dm2Key][schema2[idx].name] = value;\n                    });\n                }\n            }\n        }\n    }\n\n    const commonSchema = [...schema1, ...schema2.filter(s2 => schema1.findIndex(s1 => s1.name === s2.name) === -1)];\n    const data = [...Object.values(tuples1), ...Object.values(tuples2), ...Object.values(commonTuples)];\n    return [data, commonSchema];\n};\n\nconst getSymbol = type => symbol().type(symbolFns[type]);\n\nconst stackOrders = {\n    [STACK_CONFIG.ORDER_NONE]: stackOrderNone,\n    [STACK_CONFIG.ORDER_ASCENDING]: stackOrderAscending,\n    [STACK_CONFIG.ORDER_DESCENDING]: stackOrderDescending\n};\nconst stackOffsets = {\n    [STACK_CONFIG.OFFSET_DIVERGING]: stackOffsetDiverging,\n    [STACK_CONFIG.OFFSET_NONE]: stackOffsetNone,\n    [STACK_CONFIG.OFFSET_EXPAND]: stackOffsetExpand,\n    [STACK_CONFIG.OFFSET_WIGGLE]: stackOffsetWiggle\n};\n\n// eslint-disable-next-line require-jsdoc\nconst stack = params => d3Stack().keys(params.keys).offset(stackOffsets[params.offset])\n    .order(stackOrders[params.order])(params.data);\n\n/**\n * Groups the data into a hierarchical tree structure based on one or more fields.\n * @param { Object } params Configuration properties for nesting data\n * @param { Array.<Array> } params.data Data which needs to be grouped\n * @param { Array.<number> } params.keys Field indices by which the data will be grouped\n * @return { Array.<Object> } Grouped data array\n */\nconst nestCollection = (params) => {\n    const nestFn = nest();\n    params.keys.forEach(key => nestFn.key(d => d[key]));\n    return nestFn.entries(params.data);\n};\n\n/**\n * Returns array difference, elements in array A, not in Array B\n * @param { Array.<number> } arr Data which needs to be grouped\n * @param { Array.<number> } arr1 Field indices by which the data will be grouped\n * @return { Array.<number> } Returns the array difference (A - B)\n */\nconst getArrayDiff = (arr, arr1) => arr.filter(el => arr1.indexOf(el) < 0);\n\nconst pathInterpolators = {\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    stepAfter: curveStepAfter,\n    catmullRom: curveCatmullRom,\n    step: curveStep,\n    stepBefore: curveStepBefore,\n    linear: curveLinear\n};\n\nconst Symbols = {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom,\n    line,\n    area,\n    pie,\n    arc,\n    nest\n};\n\nconst Scales = {\n    band: scaleBand\n};\n\nconst getSmallestDiff = (points) => {\n    points = points.sort((a, b) => a - b);\n    let minDiff = points[1] - points[0];\n    for (let i = 2; i < points.length; i++) {\n        minDiff = Math.min(minDiff, points[i] - points[i - 1]);\n    }\n\n    return minDiff;\n};\n\nconst timeFormats = {\n    millisecond: '%A, %b %e, %H:%M:%S.%L',\n    second: '%A, %b %e, %H:%M:%S',\n    minute: '%A, %b %e, %H:%M',\n    hour: '%A, %b %e, %H:%M',\n    day: '%A, %b %e, %Y',\n    month: '%B %Y',\n    year: '%Y'\n};\n\nconst timeDurations = [\n    ['millisecond', 'second', 'minute', 'hour', 'day', 'month', 'year'],\n    [1, 1000, 60000, 3600000, 86400000, 2592000000, 31536000000]\n];\n\nconst getNearestInterval = (interval) => {\n    const index = getClosestIndexOf(timeDurations[1], interval);\n    return timeDurations[0][index];\n};\n\nconst formatTemporal = (value, interval) => {\n    const nearestInterval = getNearestInterval(interval);\n    return DateTimeFormatter.formatAs(value, timeFormats[nearestInterval]);\n};\n\nconst temporalFields = (dataModel) => {\n    const filteredFields = {};\n    Object.entries(dataModel.getFieldspace().getDimension()).forEach(([fieldName, fieldObj]) => {\n        if (fieldObj.subtype() === TEMPORAL) {\n            filteredFields[fieldName] = fieldObj;\n        }\n    });\n    return filteredFields;\n};\n\nconst require = (lookupWhat, lookupDetails) => ({\n    resolvable: (store) => {\n        const lookupTarget = store[lookupWhat];\n        const depArr = lookupDetails.slice(0, lookupDetails.length - 1);\n        const fn = lookupDetails[lookupDetails.length - 1]; // fn\n\n        const deps = depArr.map(str => lookupTarget[str]);\n        return {\n            fn: fn(...deps),\n            depArr\n        };\n    }\n});\n\nconst nextAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||\n    function (callback) {\n        setTimeout(callback, 16);\n    };\n\nconst getValueParser = config => (val) => {\n    if (val instanceof InvalidAwareTypes) {\n        return val in config ? config[val] : `${val}`;\n    }\n    return val;\n};\n\nconst retrieveNearestGroupByReducers = (dataModel, ...measureFieldNames) => {\n    const filteredReducers = {};\n    if (dataModel instanceof DataModel) {\n        const derivations = [...dataModel.getDerivations().reverse(), ...dataModel.getAncestorDerivations().reverse()];\n        const nearestReducers = defaultValue(\n            getObjProp(derivations.find(derv => derv.op === DM_DERIVATIVES.GROUPBY), 'criteria'), {});\n\n        const measures = dataModel.getFieldspace().getMeasure();\n        measureFieldNames = measureFieldNames.length ? measureFieldNames : Object.keys(measures);\n        measureFieldNames.forEach((measureName) => {\n            if (nearestReducers[measureName]) {\n                filteredReducers[measureName] = nearestReducers[measureName];\n            } else {\n                const measureField = measures[measureName];\n                if (measureField) {\n                    filteredReducers[measureName] = measureField.defAggFn();\n                }\n            }\n        });\n    }\n    return filteredReducers;\n};\n\nconst retrieveFieldDisplayName = (dm, fieldName) => dm.getFieldspace().fieldsObj()[fieldName].displayName();\n/**\n * Fetches the nearest sort operation details by traversing the chain of parent DataModels\n * @param {Object} dataModel Instance of DataModel\n *\n * @return {Array|null} sort criteria, null if no sort operation found\n */\nconst nearestSortingDetails = (dataModel) => {\n    const allDerivations = [...dataModel.getAncestorDerivations(), ...dataModel.getDerivations()];\n    const nearestSortDerivation = allDerivations.reverse().find(derivation => derivation.op === DM_DERIVATIVES.SORT);\n\n    return nearestSortDerivation ? nearestSortDerivation.criteria : null;\n};\n\nconst sortingOrder = (a, b) => {\n    const sortOrder = !(a instanceof InvalidAwareTypes || b instanceof InvalidAwareTypes)\n    ? a.localeCompare(b)\n    : 1;\n    return sortOrder;\n};\n\n/**\n * Map containing key, value sortingOrder pairs\n */\nconst sortOrderMap = {\n    [SORT_ORDER_ASCENDING]: (firstVal, secondVal) => sortingOrder(firstVal, secondVal),\n    [SORT_ORDER_DESCENDING]: (firstVal, secondVal) => sortingOrder(secondVal, firstVal)\n};\n\n/**\n * Sort categorical field based on it's sorting order\n * @param {string} sortOrder Order by which field is to be sorted (asc or desc or func)\n * @param {string} firstVal First sort parameter\n * @param {string} secondVal Second sort parameter\n * @return {number} position|null if sort order is invalid\n*/\nconst sortCategoricalField = (sortOrder, firstVal, secondVal) => {\n    const sortOrderType = typeof sortOrder;\n\n    if (sortOrderType === FUNCTION) {\n        return sortOrder(firstVal, secondVal);\n    } else if (sortOrderType === STRING) {\n        if (!sortOrderMap[sortOrder]) return null;\n        return sortOrderMap[sortOrder](firstVal, secondVal);\n    }\n    return null;\n};\n\nconst intersect = (arr1, arr2, accessors = [v => v, v => v]) => {\n    const [fn1, fn2] = accessors;\n    const set = new Set(arr2.map(v => fn2(v)));\n    return arr1.filter(value => set.has(fn1(value)));\n};\n\nconst difference = (arr1, arr2, accessors = [v => v, v => v]) => {\n    const [fn1, fn2] = accessors;\n    const set = new Set(arr2.map(v => fn2(v)));\n    return arr1.filter(value => !set.has(fn1(value)));\n};\n\nconst partition = (array, filterFn) => array.reduce((acc, v, i) => {\n    const pass = filterFn(v, i, array);\n\n    pass ? acc[0].push(v) : acc[1].push(v);\n    return acc;\n}, [[], []]);\n\nconst mix = superclass => ({\n    with: (...mixins) => mixins.reduce((cls, mixin) => mixin(cls), superclass)\n});\n\nconst componentRegistry = (comps) => {\n    const reg = Object.assign({}, comps);\n    const regObj = {\n        register: (def, customKey) => {\n            const key = customKey || def.formalName();\n\n            reg[key] = def;\n            return regObj;\n        },\n        get: () => reg\n    };\n\n    return regObj;\n};\n\nconst getReadableTicks = (domain, steps) => {\n    // scaling the axis based on steps provided\n    const orderedDomain = [Math.min(...domain), Math.max(...domain)];\n    if (steps < 3) {\n        return orderedDomain;\n    }\n\n    const tempScale = scales.scaleQuantize().domain(orderedDomain).nice();\n    let tempAxis = null;\n    let legendTicks = null;\n\n    tempAxis = Symbols.axisBottom().scale(tempScale);\n\n    legendTicks = tempAxis.scale().ticks(steps);\n\n    if (Math.max(...legendTicks) < orderedDomain[1]) {\n        // legendTicks.pop();\n        legendTicks.push(orderedDomain[1]);\n    }\n    if (Math.min(...legendTicks) > orderedDomain[0]) {\n        // legendTicks.shift();\n        legendTicks.unshift(orderedDomain[0]);\n    }\n    return legendTicks;\n};\n\nconst RGBAToHSLA = (r, g, b, a = 1) => {\n    // Make r, g, and b fractions of 1\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    // Find greatest and smallest channel values\n    const cmin = Math.min(r, g, b);\n    const cmax = Math.max(r, g, b);\n    const delta = cmax - cmin;\n    let h = 0;\n    let s = 0;\n    let l = 0;\n\n    // Calculate hue\n    // No difference\n    if (delta === 0) {\n        h = 0;\n    } else if (cmax === r) {\n        // Red is max\n        h = ((g - b) / delta) % 6;\n    } else if (cmax === g) {\n        // Green is max\n        h = (b - r) / delta + 2;\n    } else {\n        // Blue is max\n        h = (r - g) / delta + 4;\n    }\n    h = Math.round(h * 60);\n\n    // Make negative hues positive behind 360\n    if (h < 0) { h += 360; }\n    // Calculate lightness\n    l = (cmax + cmin) / 2;\n    // Calculate saturation\n    s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n    // Multiply l and s by 100\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n\n    return {\n        color: `hsla(${h},${s}%,${l}%,${a})`,\n        code: [h, s, l, a]\n    };\n};\n\nconst transformColor = (rgbaValues, { h = 0, s = 0, l = 0, a }, datum, apply) => {\n    const [origH, origS, origL, origA] = RGBAToHSLA(...rgbaValues).code;\n    const sanitizedA = parseFloat(a || origA, 10);\n    const newH = origH + h;\n    const newS = origS + s;\n    const newL = origL + l;\n    let newA = sanitizedA + 1;\n\n    if (!apply) {\n        newA = sanitizedA - 1;\n    }\n\n    const finalcolor = {\n        color: `hsla(${newH},${newS}%,${newL}%,${newA})`,\n        hsla: [newH, newS, newL, newA]\n    };\n    return finalcolor;\n};\n\nconst pointWithinCircle = (c, point) => {\n    const { x: cx, y: cy, r } = c;\n    const { x, y } = point;\n\n    const dist = Math.sqrt((cx - x) ** 2 + (cy - y) ** 2);\n    return dist <= r;\n};\n\n/**\n * Generates a function which performs an intersection (dataModel select)\n * operation for multiple fields\n * @param {Array} targetData - Nested array with field and values in the format:\n * [\n *  [field1, field2]\n *  [val1, val2]\n * ]\n * @param {Object} dm - The dataModel instance\n * @return {Function} filter function\n */\nconst dmMultipleSelection = (targetData, dm) => {\n    const targetFields = targetData[0];\n    const targetVals = targetData.slice(1, targetData.length);\n    const payloadMap = targetVals.reduce((acc, v) => {\n        acc[v] = v;\n        return acc;\n    }, {});\n    const measures = Object.keys(dm.getFieldspace().getMeasure());\n\n    const filterFn = (fields, i) => {\n        const row = `${targetFields.map((field) => {\n            let val;\n            if (field === ReservedFields.MEASURE_NAMES) {\n                val = measures;\n            } else if (field === ReservedFields.ROW_ID) {\n                val = i;\n            } else {\n                const currentField = fields[field];\n                const isFieldInvalid = currentField instanceof InvalidAwareTypes;\n\n                val = isFieldInvalid ? currentField.value() : (currentField || {}).internalValue;\n            }\n            return val;\n        })}`;\n        return row in payloadMap;\n    };\n    return filterFn;\n};\n\nexport {\n    arraysEqual,\n    componentRegistry,\n    mix,\n    partition,\n    getArrayIndexMap,\n    getValueParser,\n    require,\n    intersect,\n    difference,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    stack,\n    nestCollection,\n    getArrayDiff,\n    getSymbol,\n    transformColor,\n    transformColors,\n    detectColor,\n    hexToHsv,\n    hslToRgb,\n    rgbToHsv,\n    transformToHex,\n    hsvToRgb,\n    hslaToRgb,\n    concatModels,\n    toArray,\n    angleToRadian,\n    escapeHTML,\n    generateGetterSetters,\n    getArraySum,\n    interpolator,\n    piecewiseInterpolator,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    colorInterpolator,\n    numberInterpolator,\n    ERROR_MSG,\n    reqAnimFrame,\n    nextAnimFrame,\n    transposeArray,\n    cancelAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    symbolFns,\n    easeFns,\n    unique,\n    clone,\n    isEqual,\n    interpolateArray,\n    getMinPoint,\n    defaultValue,\n    getMaxPoint,\n    getClosestIndexOf,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    enableChainedTransaction,\n    isHTMLElem,\n    isSimpleObject,\n    nextFrame,\n    registerListeners,\n    replaceCSSPrefix,\n    getObjProp,\n    extendsClass,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    hslInterpolator,\n    getSmallestDiff,\n    getNearestValue,\n    retrieveNearestGroupByReducers,\n    nearestSortingDetails,\n    createSelection,\n    formatTemporal,\n    temporalFields,\n    retrieveFieldDisplayName,\n    sanitizeDomainWhenEqual,\n    sortCategoricalField,\n    getReadableTicks,\n    dmMultipleSelection,\n    pointWithinCircle\n};\n","const CommonProps = {\n    ACTION_INF: 'actionInf',\n    ON_LAYER_DRAW: 'onLayerDraw',\n    MATRIX_CREATED: 'matrixCreated'\n};\n\nexport default CommonProps;\n","export const COORD_TYPES = {\n    POLAR: 'polar',\n    CARTESIAN: 'cartesian'\n};\nexport const DATA_TYPE = {\n    FUNCTION: 'function',\n    STRING: 'string',\n    NUMBER: 'number',\n    BOOLEAN: 'Boolean'\n};\nexport const SORT_ORDER_ASCENDING = 'asc';\nexport const SORT_ORDER_DESCENDING = 'desc';\n","export { default as ReservedFields } from './reserved-fields';\nexport { default as CommonProps } from './common-props';\nexport {\n    COORD_TYPES,\n    DATA_TYPE,\n    SORT_ORDER_ASCENDING,\n    SORT_ORDER_DESCENDING\n} from './constants';\n","export const UNIT_GLOBAL_NAMESPACE = 'app.units';\nexport const UNIT_LOCAL_NAMESPACE = 'local.units';\nexport const LAYER_LOCAL_NAMESPACE = 'local.layers';\nexport const LAYER_GLOBAL_NAMESPACE = 'app.layers';\nexport const GROUP_GLOBAL_NAMESPACE = 'app.group';\nexport const GROUP_LOCAL_NAMESPACE = 'local.group';\nexport const CANVAS_LOCAL_NAMESPACE = 'local.canvas';\nexport const CANVAS_GLOBAL_NAMESPACE = 'app.canvas';\n\n","const ReservedFields = {\n    ROW_ID: '__id__',\n    MEASURE_NAMES: '__measure_names__'\n};\n\nexport default ReservedFields;\n","export const ORDER_ASCENDING = 'ascending';\nexport const ORDER_DESCENDING = 'descending';\nexport const ORDER_NONE = 'none';\nexport const OFFSET_DIVERGING = 'diverging';\nexport const OFFSET_NONE = 'none';\nexport const OFFSET_EXPAND = 'expand';\nexport const OFFSET_WIGGLE = 'wiggle';\n","import { default as DataModel } from 'datamodel';\nimport * as scales from './scales';\nimport * as colorSchemes from './color-schemes';\nimport * as STATE_NAMESPACES from './enums/namespace';\nimport RTree from './r-tree';\n\nconst InvalidAwareTypes = DataModel.InvalidAwareTypes;\n\nexport {\n    InvalidAwareTypes,\n    DataModel\n};\n\nexport {\n    ReservedFields,\n    CommonProps,\n    COORD_TYPES\n} from './enums';\n\nexport { STATE_NAMESPACES };\n\nexport {\n    scales,\n    colorSchemes\n};\n\nexport {\n    getNearestValue,\n    getValueParser,\n    transformColor,\n    transformColors,\n    detectColor,\n    hslToRgb,\n    rgbToHsv,\n    hexToHsv,\n    hsvToRgb,\n    hslaToRgb,\n    escapeHTML,\n    angleToRadian,\n    generateGetterSetters,\n    getArraySum,\n    ERROR_MSG,\n    interpolator,\n    colorInterpolator,\n    numberInterpolator,\n    piecewiseInterpolator,\n    reqAnimFrame,\n    cancelAnimFrame,\n    nextAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    replaceCSSPrefix,\n    symbolFns,\n    defaultValue,\n    easeFns,\n    clone,\n    interpolateArray,\n    getMinPoint,\n    getMaxPoint,\n    getClosestIndexOf,\n    registerListeners,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    enableChainedTransaction,\n    isHTMLElem,\n    isEqual,\n    isSimpleObject,\n    nextFrame,\n    getObjProp,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    transposeArray,\n    toArray,\n    extendsClass,\n    concatModels,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    nestCollection,\n    stack,\n    getSymbol,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    hslInterpolator,\n    getSmallestDiff,\n    require,\n    formatTemporal,\n    nearestSortingDetails,\n    createSelection,\n    temporalFields,\n    retrieveNearestGroupByReducers,\n    retrieveFieldDisplayName,\n    sanitizeDomainWhenEqual,\n    sortCategoricalField,\n    intersect,\n    partition,\n    mix,\n    componentRegistry,\n    getArrayDiff,\n    difference,\n    getArrayIndexMap,\n    arraysEqual,\n    getReadableTicks,\n    unique,\n    dmMultipleSelection,\n    pointWithinCircle\n} from './common-utils';\n\nexport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint,\n    hasTouch\n} from './renderer-utils';\n\nexport {\n    Store,\n    transactor\n} from './store';\n\nexport {\n    timeMillisecond,\n    timeSecond,\n    timeMinute,\n    timeHour,\n    timeDay,\n    timeWeek,\n    timeMonth,\n    timeYear\n} from 'd3-time';\n\nexport { default as Smartlabel } from 'fusioncharts-smartlabel';\nexport { dataSelect } from './DataSystem';\n\nexport { default as LifeCycleManager } from './lifecycle-manager';\n\nexport {\n    DimensionSubtype,\n    FieldType,\n    MeasureSubtype,\n    DateTimeFormatter,\n    DM_DERIVATIVES,\n    GROUP_BY_FUNCTIONS\n} from 'datamodel';\n\nexport {\n    RTree\n};\n\n","const events = [\n    'initialized',\n    'beforeupdate',\n    'updated',\n    'beforedraw',\n    'drawn',\n    'beforeremove',\n    'removed',\n    'animationend'\n];\n\nconst compositions = [\n    'canvas',\n    'unit',\n    'layer',\n    'axis',\n    'facet-headers',\n    'legend',\n    'caption'\n];\n\nconst EVENT_LIST = [];\n\ncompositions.forEach((composition) => {\n    events.forEach((event) => {\n        EVENT_LIST.push(`${composition}.${event}`);\n    });\n});\n\nexport default EVENT_LIST;\n","/**\n * Creates a new promise when the given promise is resolved. This needs to be done so that after the lifecycle event\n * is completed, then again when the event gets completed, then a new promise gets resolved.\n *\n * @param {Promise} promise Instance of promise\n * @param {string} eventName name of event\n * @param {LifeCycleManager} context Instance of lifecyclemanager\n */\nexport const createPromise = (promise, eventName, context) => {\n    promise.then(() => {\n        const prm = context._makeNotifierPromise(eventName);\n        context._promises.set(eventName, prm);\n        createPromise(prm, eventName, context);\n    });\n};\n","import LifeCycleManager from './lifecycle-manager';\n\nexport default LifeCycleManager;\n","import EVENT_LIST from './event-list';\nimport { createPromise } from './helper';\n\n/**\n * At first call it accepts one function\n * calling it second time accepts notification object.\n * notification object then called with first accepted function\n *\n * @param {Function} resolveFn a promise's resolve function\n * @return {Function} a function to accept notification object\n */\nconst resolver = resolveFn => notification => resolveFn(notification);\n\n/**\n * Checks if the property string is present in the source object\n *\n * @param {Object} source source object whom you want to check the property\n * @param {string} property key name that need to be checked\n * @return {boolean} returns true if the property found in the source object\n */\nconst hasOwn = (source, property) => Object.prototype.hasOwnProperty.call(source, property);\n\n/**\n * LifeCycleManager which goes as a dependendecy to a muze\n * it accepts notification from the entire library throughout\n * the exeecution life\n *\n * @export\n * @class LifeCycleManager\n */\nexport default class LifeCycleManager {\n\n    /**\n     * Creates an instance of LifeCycleManager.\n     * @memberof LifeCycleManager\n     */\n    constructor () {\n        this._eventList = EVENT_LIST;\n        this._promises = new Map();\n        this._notifiers = {};\n        this._lifeCycles = {};\n        this._unreleasedLifeCycles = {};\n        this._boot();\n    }\n\n    /**\n     * Fills all the notifiers with resolver callback\n     *\n     * @memberof LifeCycleManager\n     */\n    _boot () {\n        this._notifiers = this._eventList.reduce((acc, name) => {\n            acc[name] = resolver;\n            return acc;\n        }, {});\n        this._preparePromises();\n    }\n\n    /**\n     * Public method which gives the promise corresponding\n     * to the event name\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    retrieve (eventName) {\n        return this._promises.get(eventName);\n    }\n\n    /**\n     * Creates a promise that will be passed to user's callback\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} a pending promise waiting for resolve to be called\n     * @memberof LifeCycleManager\n     */\n    _makeNotifierPromise (eventName) {\n        return new Promise((resolve) => {\n            this._notifiers[eventName] = resolver(resolve);\n        });\n    }\n\n    /**\n     * Prepares the promise map with pending promises\n     * all the promises are in a pending state where their's\n     * resolve function waiting to be called with notification object\n     * @memberof LifeCycleManager\n     */\n    _preparePromises () {\n        this._eventList.forEach((eventName) => {\n            const promise = this._makeNotifierPromise(eventName);\n            this._promises.set(eventName, promise);\n            createPromise(promise, eventName, this);\n        });\n    }\n\n    /**\n     * Resolves the promise with notification object\n     *\n     * @param {string} eventName name of the event in the system\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     *\n     * @memberof LifeCycleManager\n     */\n    _resolvePromise (eventName, notification) {\n        this._notifiers[eventName](notification);\n    }\n\n    /**\n     * Public method which is being called by different\n     * subcompoents of the system at different execution atages\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    notify (notification) {\n        // get the composition name from notification\n        // or from static formalName() method\n        const composition = notification.formalName || notification.client.constructor.formalName();\n        notification.formalName = composition;\n        this._releasePromisesFromCache();\n        this._notify(composition, notification);\n    }\n\n    /**\n     * Notify user the with promsie in a callback\n     * if callback not found then cache it\n     *\n     * @param {string} composition\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    _notify (composition, notification) {\n        const stage = notification.action;\n        const eventName = `${composition}.${stage}`;\n\n        // resolves promise with the notification object\n        this._resolvePromise(eventName, notification);\n\n        // get the promise from the promise map\n        const promise = this.retrieve(eventName);\n\n        if (this._lifeCycles[composition]) {\n            if (this._lifeCycles[composition][stage]) {\n                // if user given call back exists, then call with promise\n                this._callLifeCycleCallback(composition, stage, promise);\n            } else {\n                // otherwise cache the promise\n                this._cachePromise(composition, stage, promise);\n            }\n        } else {\n            this._cachePromise(composition, stage, promise);\n        }\n    }\n\n    /**\n     * Calls the user's callback with callback\n     *\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _callLifeCycleCallback (composition, stage, promise) {\n        const eventName = `${composition}.${stage}`;\n        this._lifeCycles[composition][stage](promise);\n        this._resetTargetPromise(eventName);\n    }\n\n    /**\n     * Try to clear the cached promsies once we have\n     * macthed callbacks from the user\n     *\n     * @memberof LifeCycleManager\n     */\n    _releasePromisesFromCache () {\n        const compositions = Object.keys(this._unreleasedLifeCycles);\n        compositions.forEach((composition) => {\n            const stages = Object.keys(this._unreleasedLifeCycles[composition]);\n            stages.forEach((stage) => {\n                if (this._lifeCycles[composition]) {\n                    if (this._lifeCycles[composition][stage]) {\n                        // take the promise from unreleased lifeCycles\n                        const promise = this._unreleasedLifeCycles[composition][stage];\n                        // call the user given callback with that promise\n                        this._callLifeCycleCallback(composition, stage, promise);\n                        // delete promise from unreleased lifeCycles\n                        delete this._unreleasedLifeCycles[composition][stage];\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Cache the promise in the map. This cache\n     * then get consumed if we get user callbacks\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _cachePromise (composition, stage, promise) {\n        if (!hasOwn(this._unreleasedLifeCycles, composition)) {\n            this._unreleasedLifeCycles[composition] = {};\n        }\n\n        if (!hasOwn(this._unreleasedLifeCycles[composition], stage)) {\n            this._unreleasedLifeCycles[composition][stage] = {};\n        }\n        this._unreleasedLifeCycles[composition][stage] = promise;\n    }\n\n    /**\n     * It register's the callbacks gievn the user\n     *\n     * @param {Object} [lifeCycles={}] a object with list of callbacks\n     * @memberof LifeCycleManager\n     */\n    register (lifeCycles = {}) {\n        this._lifeCycles = lifeCycles;\n        // as we get all the callbacks, try to call them\n        // from unreleased promise map\n        this._releasePromisesFromCache();\n    }\n\n    /**\n     * Reset the promise into pending state\n     *\n     * @param {string} eventName name of the event happening\n     * @memberof LifeCycleManager\n     */\n    _resetTargetPromise (eventName) {\n        setTimeout(() => {\n            this._notifiers[eventName] = resolver;\n            this._promises.set(eventName, this._makeNotifierPromise(eventName));\n        }, 0);\n    }\n}\n","const swap = (arr, i, j) => {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n};\n\nconst defaultCompare = (a, b) => {\n    if (a > b) {\n        return -1;\n    }\n    return a > b ? 1 : 0;\n};\n\nconst quickselectStep = (arr, k, left, right, compare) => {\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        const t = arr[k];\n        let i = left;\n        let j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n};\n\n/**\n * Rearranges items so that all items in the [left, k] are the smallest. The k-th element will have the\n * (k - left + 1)-th smallest value in [left, right].\n * array: the array to partially sort (in place)\n * k: middle index for partial sorting (as defined above)\n * left: left index of the range to sort (0 by default)\n * right: right index (last index of the array by default)\n * compareFn: compare function\n *\n * Ref: https://github.com/mourner/quickselect\n * Example:\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * arr is [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n *                                         ^^ middle index\n * @param {Array} arr the array to partially sort (in place)\n * @param {Number} k middle index for partial sorting (as defined above)\n * @param {Number} left left index of the range to sort (0 by default)\n * @param {Number} right right index (last index of the array by default)\n * @param {Function} compare compare function\n */\nconst quickselect = (arr, k, left, right, compare) => {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n};\n\nexport default quickselect;\n","import quickselect from './quick-select';\n\nconst createNode = children => ({\n    children,\n    height: 1,\n    leaf: true,\n    minX: Infinity,\n    minY: Infinity,\n    maxX: -Infinity,\n    maxY: -Infinity\n});\n\nconst extend = (a, b) => {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n};\n\n// min bounding rectangle of node children from k to p-1\nconst distBBox = (node, k, p, toBBox, destNode) => {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (let i = k; i < p; i++) {\n        const child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n};\n\n// calculate node's bbox from bboxes of its children\nconst calcBBox = (node, toBBox) => {\n    distBBox(node, 0, node.children.length, toBBox, node);\n};\n\nconst compareNodeMinX = (a, b) => a.minX - b.minX;\nconst compareNodeMinY = (a, b) => a.minY - b.minY;\n\nconst bboxArea = a => (a.maxX - a.minX) * (a.maxY - a.minY);\n\nconst bboxMargin = a => (a.maxX - a.minX) + (a.maxY - a.minY);\n\nconst enlargedArea = (a, b) => (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n\nconst intersectionArea = (a, b) => {\n    const minX = Math.max(a.minX, b.minX);\n    const minY = Math.max(a.minY, b.minY);\n    const maxX = Math.min(a.maxX, b.maxX);\n    const maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n};\n\nconst contains = (a, b) => a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n\nconst intersects = (a, b) => b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n\nconst findItem = (item, items, equalsFn) => {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (let i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n};\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nconst multiSelect = (arr, left, right, n, compare) => {\n    const stack = [left, right];\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        const mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n};\n\nconst all = (node, result) => {\n    const nodesToSearch = [];\n    while (node) {\n        if (node.leaf) result.push(...node.children);\n        else nodesToSearch.push(...node.children);\n\n        node = nodesToSearch.pop();\n    }\n    return result;\n};\n\nexport default class RTree {\n    constructor (maxEntries = 9) {\n        // max entries in a node is 9 by default; min node fill is 40% for best performance\n        this._maxEntries = Math.max(4, maxEntries);\n        this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n        this.clear();\n    }\n\n    all () {\n        return all(this.data, []);\n    }\n\n    search (bbox) {\n        let node = this.data;\n        const result = [];\n\n        if (!intersects(bbox, node)) return result;\n\n        const toBBox = this.toBBox;\n        const nodesToSearch = [];\n\n        while (node) {\n            for (const child of node.children) {\n                const childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    }\n\n    load (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (let i = 0; i < data.length; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        let node = this.build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this.splitRoot(this.data, node);\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                const tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this.insertSingleItem(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    }\n\n    insert (item) {\n        if (item) this.insertSingleItem(item, this.data.height - 1);\n        return this;\n    }\n\n    clear () {\n        this.data = createNode([]);\n        return this;\n    }\n\n    remove (item, equalsFn) {\n        if (!item) return this;\n\n        let i;\n        let parent;\n        let goingUp;\n        let node = this.data;\n        const bbox = this.toBBox(item);\n        const path = [];\n        const indexes = [];\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                const index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this.condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n            } else node = null; // nothing found\n        }\n\n        return this;\n    }\n\n    toJSON () { return this.data; }\n\n    fromJSON (data) {\n        this.data = data;\n        return this;\n    }\n\n    toBBox (item) { return item; }\n\n    compareMinX (a, b) { return a.minX - b.minX; }\n    compareMinY (a, b) { return a.minY - b.minY; }\n\n    build (items, left, right, height) {\n        const N = right - left + 1;\n        let M = this._maxEntries;\n        let node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / (M ** (height - 1)));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        const N2 = Math.ceil(N / M);\n        const N1 = N2 * Math.ceil(Math.sqrt(M));\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (let i = left; i <= right; i += N1) {\n            const right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (let j = i; j <= right2; j += N2) {\n                const right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this.build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    }\n\n    chooseSubtree (bbox, node, level, path) {\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            let minArea = Infinity;\n            let minEnlargement = Infinity;\n            let targetNode;\n\n            for (const child of node.children) {\n                const area = bboxArea(child);\n                const enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    }\n\n    insertSingleItem (item, level, isNode) {\n        const bbox = isNode ? item : this.toBBox(item);\n        const insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        const node = this.chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this.split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this.adjustParentBoxes(bbox, insertPath, level);\n    }\n\n    // split overflowed node into two\n    split (insertPath, level) {\n        const node = insertPath[level];\n        const M = node.children.length;\n        const m = this._minEntries;\n\n        this.chooseSplitAxis(node, m, M);\n\n        const splitIndex = this.chooseSplitIndex(node, m, M);\n\n        const newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this.splitRoot(node, newNode);\n    }\n\n    splitRoot (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    }\n\n    chooseSplitIndex (node, m, M) {\n        let index;\n        let minOverlap = Infinity;\n        let minArea = Infinity;\n\n        for (let i = m; i <= M - m; i++) {\n            const bbox1 = distBBox(node, 0, i, this.toBBox);\n            const bbox2 = distBBox(node, i, M, this.toBBox);\n\n            const overlap = intersectionArea(bbox1, bbox2);\n            const area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index || M - m;\n    }\n\n    // sorts node children by the best axis for split\n    chooseSplitAxis (node, m, M) {\n        const compareMinX = node.leaf ? this.compareMinX : compareNodeMinX;\n        const compareMinY = node.leaf ? this.compareMinY : compareNodeMinY;\n        const xMargin = this.allDistMargin(node, m, M, compareMinX);\n        const yMargin = this.allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    }\n\n    // total margin of all possible split distributions where each node is at least m full\n    allDistMargin (node, m, M, compare) {\n        node.children.sort(compare);\n\n        const toBBox = this.toBBox;\n        const leftBBox = distBBox(node, 0, m, toBBox);\n        const rightBBox = distBBox(node, M - m, M, toBBox);\n        let margin = bboxMargin(leftBBox) + bboxMargin(rightBBox);\n\n        for (let i = m; i < M - m; i++) {\n            const child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (let i = M - m - 1; i >= m; i--) {\n            const child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    }\n\n    adjustParentBoxes (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (let i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    }\n\n    condense (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (let i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n                } else this.clear();\n            } else calcBBox(path[i], this.toBBox);\n        }\n    }\n}\n","import { select, event as d3event, selection, clientPoint } from 'd3-selection';\nimport { drag as d3drag } from 'd3-drag';\nimport 'd3-transition';\nimport { mergeRecursive } from './common-utils';\n/**\n * This function takes a raw DOM element or\n * a string and returns a d3 selection of that element.\n *\n * @param {HTMLElement | string} element The element to wrap in d3 selection.\n * @return {Selection} Instance of d3 selection.\n */\nconst selectElement = element => select(element);\n\n/**\n * It creates a new d3 element on the parent element\n * @param  {Selection} parent Element to which the element is to be appended\n * @param  {Object} elemType Type of the new element\n * @param  {Array} data Data for the new element\n * @param  {Object} selector classname/id/tagname for the element\n * @return {HTMLElement} Newly Created Element\n */\nconst makeElement = (parent, elemType, data, selector, callbacks = {}, keyFn) => {\n    if ((parent instanceof HTMLElement || parent instanceof SVGElement)) {\n        parent = selectElement(parent);\n    }\n\n    const selectorVal = selector ? selector[0] : null;\n    let selectorType = null;\n    let actualSelector = null;\n    let element = null;\n    let enterSel = null;\n    let mergeSel = null;\n    let filter;\n    if (selectorVal) {\n        if (selectorVal === '#') {\n            selectorType = 'id';\n            actualSelector = selector;\n        } else {\n            selectorType = 'class';\n            actualSelector = selector[0] === '.' ? selector : `.${selector}`;\n        }\n    } else {\n        actualSelector = elemType;\n        filter = true;\n    }\n    element = parent.selectAll(actualSelector);\n\n    filter && (element = element.filter(function () {\n        return this.parentNode === parent.node();\n    }));\n    element = element.data(data, keyFn);\n\n    enterSel = element.enter()\n                            .append(elemType || 'div');\n    callbacks.enter && enterSel.each(function (...params) {\n        callbacks.enter(selectElement(this), ...params);\n    });\n\n    mergeSel = enterSel.merge(element);\n    callbacks.update && mergeSel.each(function (...params) {\n        callbacks.update(selectElement(this), ...params);\n    });\n    if (selectorType === 'class') {\n        mergeSel.classed(selectorVal === '.' ? selector.substring(1, selector.length) : selector, true);\n    } else if (selectorType === 'id') {\n        mergeSel.attr('id', selector.substring(1, selector.length));\n    }\n    const exitSel = element.exit();\n\n    if (callbacks.exit) {\n        exitSel.each(function (...params) {\n            callbacks.exit(selectElement(this), ...params);\n        });\n    } else {\n        exitSel.remove();\n    }\n    return mergeSel;\n};\n\n/**\n * This function applies styles to an element\n *  @param  {Object} elem Element Selection\n * @param  {Object} styleObj Style Object to be applied\n * @return {Element} Newly Created Element\n*/\nconst applyStyle = (elem, styleObj) => {\n    Object.entries(styleObj).forEach((d) => {\n        elem.style(d[0], d[1]);\n    }, this);\n    return elem;\n};\n\n/**\n * This function appends a dom element in another element.\n * @param {HTMLElement | SVGElement} element1 The element in which to append the second element\n * @param {HTMLElement | SVGElement} element2 The element which will be appended.\n */\nconst appendElement = (element1, element2) => {\n    element1.appendChild(element2);\n};\n\n/**\n * Sets the attributes to the element.\n * @param {HTMLElement | SVGElement} element Element on which attributes will be applied\n * @param {Object} attrs Attributes which need to be applied\n */\nconst setElementAttrs = (element, attrs) => {\n    for (const key in attrs) {\n        if ({}.hasOwnProperty.call(attrs, key)) {\n            element.attr(key, attrs[key]);\n        }\n    }\n};\n\n/**\n * Sets attributes in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which attrs will be applied\n * @param {Array.<Object>} attrs Array of attributes\n * @param {string} className className of elements to select.\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setAttrs = (element, attrs, className) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    className !== undefined ? element.selectAll(`.${className}`).each(function () {\n        setElementAttrs(select(this), attrs);\n    }) : setElementAttrs(element, attrs);\n    return element;\n};\n\n/**\n * Adds a css class to elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst addClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, true) :\n                elem.classed(className, true);\n    });\n};\n\n/**\n * Removes the css class from elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst removeClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, false) :\n                elem.classed(className, false);\n    });\n};\n\n/**\n * Sets styles in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which styles will be applied\n * @param {Array.<Object>} styles Array of style attributes\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setStyles = (element, styles) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            element.style(key, styles[key]);\n        }\n    }\n    return element;\n};\n\n/**\n * Creates svg or html elements by binding data to the selection.Removes extra elements\n * on exit.\n * @param {Object} params Parameter object\n * @param {SVGElement | HTMLElement} params.container Container element where all elements will be appended\n * @param {string} params.selector Selector by which elements will be selected from dom\n * @param {string} params.append Append tag\n * @param {Function} params.each Function which will be executed for each data point and element.\n */\nconst createElements = (params) => {\n    const container = select(params.container);\n    let data;\n\n    data = params.data;\n    if (typeof data === 'number') {\n        data = Array(data).fill().map((d, i) => i);\n    }\n    const sel = container.selectAll(params.selector).filter(function () {\n        return this.parentNode === container.node();\n    }).data(data);\n\n    const selectionMerge = sel.enter().append(params.append).merge(sel).each(function (d, i) {\n        params.each(d, select(this), i);\n    });\n\n    selectionMerge.attr('class', params.className || '');\n    sel.exit().remove();\n};\n\n/**\n * Clips an element with given measurement. Basically it is used to hide overflowing portions\n * of any element.\n * @param {SVGElement} container svg element which needs to be clipped.\n * @param {Object} measurement Dimensions of the clipped rectangle.\n * @param {string} id Unique id of the clip element\n */\nconst clipElement = (container, measurement, id) => {\n    const clipPathElement = makeElement(select(container), 'clipPath', [1], `#${id}`);\n    const clipPathRect = makeElement(clipPathElement, 'rect', [1]);\n    clipPathRect.attr('x', measurement.x)\n                    .attr('y', measurement.x)\n                    .attr('width', measurement.width)\n                    .attr('height', measurement.height);\n    clipPathElement.attr('clip-path', `url(#${id})`);\n};\n\n/**\n * Returns the element of the corresponding classname.\n * @param {HTMLElement | SVGElement} node html or svg node element.\n * @param {string} className css class to be applied.\n * @return {HTMLElement | SVGElement} html or svg element.\n */\nconst getElementsByClassName = (node, className) => select(node).selectAll(className).nodes();\n\n/**\n * Gets the mouse position relative to an svg type of element\n * @param {SVGElement} element Any svg element like rect, circle, etc.\n * @param {Event} event Event object.\n * @return {Object} x and y position relative to the container element passed.\n */\nconst getMousePos = (element, event) => {\n    const boundingClientRect = element.getBoundingClientRect();\n    return {\n        x: event.x - boundingClientRect.x,\n        y: event.y - boundingClientRect.y\n    };\n};\n\nconst getClientPoint = (...params) => {\n    const pos = clientPoint(...params);\n    return {\n        x: pos[0],\n        y: pos[1]\n    };\n};\n\n/** This function appends a dom element in another element.\n * @param {Object} tag The tag name of the element to append\n * @param {Object} mount Mount point fo the element\n * @return {Object} selection of the appended element\n */\nconst createElement = (tag, mount) => select(mount).append(tag).node();\n\n/**\n * Gets the d3 event function\n * @return {Object} d3 event\n */\nconst getEvent = () => d3event;\n\n/**\n * Gets the d3 drag function\n * @return {Object} d3 drag\n */\nconst getD3Drag = () => d3drag;\n\nconst getSmartComputedStyle = (group, css) => {\n    let textEl;\n    const testText = 'W';\n    const mandatoryStyle = {\n        'fill-opacity': 0\n    };\n    const className = typeof css === 'string' ? css : (css instanceof Array ? css.join(' ') : undefined);\n\n    if (group.node() instanceof HTMLElement) {\n        textEl = group.append('div').html(testText);\n    } else {\n        textEl = group.append('text').text(testText);\n    }\n\n    if (className) {\n        textEl.attr('class', className);\n    } else if (typeof css === 'object') {\n        delete css['fill-opacity'];\n        mergeRecursive(mandatoryStyle, css);\n    }\n\n    textEl.style(mandatoryStyle);\n    const computedStyle = window.getComputedStyle(textEl.node());\n    const styleForSmartLabel = {\n        fontSize: computedStyle.fontSize,\n        fontFamily: computedStyle.fontFamily,\n        fontWeight: computedStyle.fontWeight,\n        fontStyle: computedStyle.fontStyle\n    };\n\n    textEl.remove();\n\n    return styleForSmartLabel;\n};\n\nconst hasTouch = () => 'ontouchstart' in document.documentElement;\n\nexport {\n    hasTouch,\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint\n};\n","/**\n * This file exports functions to create or modify the scale of a plot.\n */\nexport {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} from 'd3-scale';\n","import Model from 'hyperdis';\nimport { defaultValue, getObjProp, toArray } from './common-utils';\n\nconst initProp = (obj, props, val = () => ({})) => {\n    props.forEach((prop) => {\n        if (!obj[prop]) {\n            obj[prop] = val();\n        }\n        obj = obj[prop];\n    });\n    return obj;\n};\n\nconst fetchPropValues = (propNames, params, deps) => params.map((param, i) => {\n    const prop = propNames[i];\n\n    return param.map(val => (val === undefined || val === null ? val : val[deps[prop]]));\n});\n\nconst addListenerToNamespace = (namespaceInf, fn, context) => {\n    let key = namespaceInf.key;\n    const namespace = namespaceInf.id;\n    const listeners = context._listeners;\n\n    if (namespace) {\n        !listeners.get(namespace) && (listeners.set(namespace, new Map()));\n        const namespaceListeners = listeners.get(namespace);\n\n        if (!key) {\n            key = namespaceListeners.size;\n        }\n        namespaceListeners.set(key, fn);\n    } else {\n        key = key || listeners.size;\n        listeners.set(key, fn);\n    }\n};\n\nconst setContexts = (contexts, propObj, contextMap) => {\n    for (const key of propObj.keys()) {\n        contexts[key] = {\n            context: contextMap[key],\n            deps: propObj.get(key).depProps\n        };\n    }\n    return contexts;\n};\n\nconst registerPropInMaps = (store, props, namespaceInf, type) => {\n    const {\n        _registeredListeners: registeredListeners,\n        _propListenerMap: propListenerMap\n    } = store;\n    const {\n        subNamespace,\n        namespace: ns\n    } = namespaceInf;\n\n    initProp(registeredListeners, [ns]);\n    props.forEach((prop) => {\n        const subNamespaces = defaultValue(getObjProp(registeredListeners, ns, prop, 'subNamespace'), []);\n        let fns = defaultValue(getObjProp(propListenerMap, prop, type, 'fns'), 0);\n\n        fns++;\n        subNamespace && subNamespaces.push(subNamespace);\n        registeredListeners[ns][prop] = {\n            subNamespace: subNamespaces,\n            allProps: props,\n            subNamespaces: {}\n        };\n        initProp(propListenerMap, [prop, type]);\n        propListenerMap[prop][type] = {\n            fns,\n            _fnCount: fns\n        };\n    });\n};\n\nconst registerListener = (context, type, ...options) => {\n    const [propList, callBack, instantCall, namespaceInf = {}] = options;\n    let props = propList;\n\n    if (!Array.isArray(propList)) {\n        props = [propList];\n    }\n\n    const { namespace: ns } = namespaceInf;\n    const callbackFn = ((propNames, namespaceVal) => (...params) => {\n        const { _savedCommits: commits, _propListenerMap: propListenerMap } = context;\n\n        if (!propNames.some(prop => getObjProp(propListenerMap, prop, 'disabled'))) {\n            if (namespaceVal) {\n                const listenersObj = context._registeredListeners[namespaceVal];\n                const contextMap = context._contextMap[namespaceVal];\n                const contextsObj = {};\n\n                propNames.forEach((prop) => {\n                    const commitsObj = defaultValue(getObjProp(commits, prop, type), {});\n                    const listeners = listenersObj[prop].subNamespaces;\n                    const propDeps = propListenerMap[prop][type];\n\n                    for (const nm in commitsObj) {\n                        const fnInf = defaultValue(propDeps[nm], { fns: 0 });\n                        let { fns } = fnInf;\n\n                        if (fns > 0) {\n                            setContexts(contextsObj, listeners[nm], contextMap);\n                            fns--;\n                        }\n\n                        if (fns <= 0) {\n                            delete commitsObj[nm];\n                        }\n                        fnInf.fns = fns;\n                    }\n                });\n                for (const key in contextsObj) {\n                    const obj = contextsObj[key];\n\n                    callBack(obj.context, ...fetchPropValues(propNames, params, obj.deps));\n                }\n            } else {\n                callBack(...params);\n            }\n        }\n    })(props, ns, type);\n\n    const fn = context.model[type](props, callbackFn, instantCall);\n\n    if (ns) {\n        registerPropInMaps(context, props, namespaceInf, type);\n    }\n    addListenerToNamespace(namespaceInf, fn, context);\n};\n\nconst retrieveNamespaces = (names, key) => {\n    if (names instanceof Object) {\n        return [names[key]];\n    } else if (names instanceof Array) {\n        return names;\n    }\n    return [names];\n};\n\nconst createMap = () => new Map();\n\nconst listenerTypes = ['next', 'on'];\n\nconst removePropValue = (context, map, propInf) => {\n    const { subNamespace: sns, prop, propListenerMap } = propInf;\n    const propObj = propListenerMap[prop];\n\n    listenerTypes.forEach((type) => {\n        if (type in propObj) {\n            delete propObj[type][sns];\n        }\n    });\n    if (map.has(sns)) {\n        const value = context.get(prop);\n\n        if (value instanceof Object && sns in value) {\n            delete value[sns];\n        }\n        map.delete(sns);\n    }\n};\n\n/**\n * Methods to handle changes to table configuration and reactivity are handled by this\n * class.\n */\n/**\n *  Common store class\n *\n * @class Store\n */\nexport class Store {\n    /**\n     * Creates an instance of Store.\n     * @param {Object} config The object to create the state store with.\n     * @memberof Store\n     */\n    constructor (config) {\n        // create reactive model\n        this.model = Model.create(config);\n        this._listeners = new Map();\n        this._registeredListeners = {};\n        this._contextMap = {};\n        this._commits = {};\n        this._savedCommits = {};\n        this._queuedProps = {};\n        this._propListenerMap = {};\n        this._locked = false;\n    }\n\n    lockModel () {\n        this.model.lock();\n        this._locked = true;\n        return this;\n    }\n\n    unlockModel () {\n        this._locked = false;\n        this.model.unlock();\n        return this;\n    }\n\n    /**\n     * This method returns a plain JSON object\n     * with all the fields in the state store.\n     *\n     * @return {Object} Serialized representation of state store.\n     * @memberof Store\n     */\n    serialize () {\n        return this.model.serialize();\n    }\n\n    lockCommits (props) {\n        props.forEach((prop) => {\n            this._commits[prop] = {\n                locked: true,\n                queue: []\n            };\n        });\n        return this;\n    }\n\n    unlockCommits (props) {\n        const commitsObj = this._commits;\n\n        this.lockModel();\n        props.forEach((prop) => {\n            commitsObj[prop].locked = false;\n            const queuedProps = {};\n            const { queue } = commitsObj[prop];\n\n            queue.forEach((params) => {\n                const [propName, value, namespace] = params;\n\n                if (namespace) {\n                    const propObj = initProp(queuedProps, [propName, namespace]);\n\n                    Object.assign(propObj, value);\n                }\n            });\n            queue.forEach((params) => {\n                const [propName, value, namespace] = params;\n\n                this.commit(propName, propName in queuedProps ? queuedProps[propName][namespace] : value,\n                    namespace);\n            });\n            delete commitsObj[prop];\n        });\n        this.unlockModel();\n        return this;\n    }\n\n    addSubNamespace (sns, namespace, context) {\n        // Get all the listeners registered by the component\n        const listeners = this._registeredListeners[namespace];\n        const propListenerMap = this._propListenerMap;\n\n        initProp(this._contextMap, [namespace]);\n        this._contextMap[namespace][sns] = context;\n        for (const key in listeners) {\n            const obj = listeners[key];\n            const propObj = propListenerMap[key];\n            const propFns = listenerTypes.reduce((acc, type) => {\n                const val = defaultValue(getObjProp(propObj, type, 'fns'), 0);\n                val && (acc[type] = val);\n                return acc;\n            }, {});\n            const { allProps, subNamespaces, subNamespace } = obj;\n            const snsArr = subNamespace.length ? subNamespace : [sns];\n\n            snsArr.forEach((ns) => {\n                const nsObj = ns instanceof Function ? ns(context) : ns;\n                const names = retrieveNamespaces(nsObj, key);\n                const depProps = allProps.reduce((acc, prop) => {\n                    acc[prop] = ns instanceof Function ? nsObj[prop] : ns;\n                    return acc;\n                }, {});\n\n                names.forEach((nm) => {\n                    initProp(subNamespaces, [nm], createMap).set(sns, {\n                        depProps\n                    });\n\n                    for (const type in propFns) {\n                        initProp(propObj, [type, nm]);\n                        const fns = propFns[type];\n\n                        propObj[type][nm] = {\n                            fns,\n                            _fnCount: fns\n                        };\n                    }\n                });\n            });\n        }\n        return this;\n    }\n\n    /**\n     * This method is used to update the value of a property in the state store.\n     *\n     * @param {string} propName The name of the property.\n     * @param {number} value The new value of the property.\n     * @memberof Store\n     */\n    commit (propName, value, namespace, disableListener = false) {\n        let sanitizedVal = value;\n        const commits = this._commits;\n        const savedCommits = this._savedCommits;\n        const locked = getObjProp(commits, propName, 'locked');\n        const propListenerMap = this._propListenerMap[propName] || {};\n\n        propListenerMap.disabled = disableListener;\n\n        if (locked) {\n            commits[propName].queue.push([propName, value, namespace]);\n            return this;\n        }\n\n        if (namespace) {\n            if (this._locked) {\n                const queuedProps = initProp(this._queuedProps, [propName]);\n                queuedProps[namespace] = value;\n                sanitizedVal = queuedProps;\n            } else {\n                sanitizedVal = defaultValue(this.get(propName), {});\n                sanitizedVal[namespace] = value;\n            }\n\n            listenerTypes.forEach((type) => {\n                initProp(savedCommits, [propName, type]);\n                savedCommits[propName][type][namespace] = true;\n                if (getObjProp(propListenerMap, type, namespace)) {\n                    propListenerMap[type][namespace].fns = propListenerMap[type][namespace]._fnCount;\n                }\n            });\n        }\n\n        this.model.prop(propName, sanitizedVal);\n        return this;\n    }\n\n    /**\n     * This method is used to register a callback that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */registerChangeListener (...params) {\n        registerListener(this, 'next', ...params);\n        return this;\n    }\n\n    /**\n     * This method is used to register a callback that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */ registerImmediateListener (...params) {\n        registerListener(this, 'on', ...params);\n    }\n\n    /**\n     * This method is used to get the name of the property\n     * from the state store.\n     *\n     * @param {string} propName The name of the field in state store.\n     * @return {any} The value of the field.\n     * @memberof Store\n     */\n    get (propName, subNamespace) {\n        const value = this.model.prop(propName);\n        return subNamespace ? value && value[subNamespace] : value;\n    }\n\n    /**\n     * This method is used to register a computed property that is computed every time\n     * the store value changes.\n     *\n     * @param {string} propName The name of the property to create.\n     * @param {Function} callBack The function to execute when depemdent props change.\n     * @memberof Store\n     */\n    computed (propName, callBack) {\n        return this.model.calculatedProp(propName, callBack);\n    }\n\n    append (...params) {\n        this.model.append(...params);\n        return this;\n    }\n\n    unsubscribeAll () {\n        Object.values(this._listeners).forEach(fn => fn());\n        return this;\n    }\n\n    unsubscribe (namespaceInf = {}) {\n        const { id, key } = namespaceInf;\n        const listenersMap = this._listeners;\n        const listeners = listenersMap.get(id);\n\n        if (key) {\n            const fn = listenersMap.get(key);\n\n            fn && fn();\n        } else {\n            for (const fn of listeners.values()) {\n                fn();\n            }\n            listenersMap.set(id, []);\n        }\n        return this;\n    }\n\n    removeSubNamespace (subNamespace, namespace) {\n        const {\n            _registeredListeners: listenerMap,\n            _contextMap: contextMap,\n            _propListenerMap: propListenerMap\n        } = this;\n        const listenersObj = listenerMap[namespace];\n\n        for (const prop in listenersObj) {\n            const { subNamespaces } = listenersObj[prop];\n            const propInf = {\n                subNamespace,\n                prop,\n                propListenerMap\n            };\n\n            if (subNamespaces[subNamespace]) {\n                removePropValue(this, subNamespaces[subNamespace], propInf);\n                delete subNamespaces[subNamespace];\n            } else {\n                for (const ns in subNamespaces) {\n                    const snsMap = subNamespaces[ns];\n\n                    removePropValue(this, snsMap, propInf);\n                    if (!snsMap.size) {\n                        delete subNamespaces[ns];\n                    }\n                }\n            }\n        }\n        delete contextMap[namespace][subNamespace];\n        return this;\n    }\n}\n\n/**\n * Setter getter creator from config\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args. (Optional)\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitization: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @param {Object} holder an empty object on which the getters and setters will be mounted\n * @param {Object} options options config based on which the getters and setters are determined.\n * @param {Hyperdis} model optional model to attach the property. If not sent new moel is created.\n * @return {Array}\n */\nexport const transactor = (holder, options, model, namespaceInf = {}) => {\n    let conf;\n    const store = model instanceof Store ? model : new Store({});\n    const stateProps = {};\n    const { namespace, subNamespace } = namespaceInf;\n\n    for (const prop in options) {\n        if ({}.hasOwnProperty.call(options, prop)) {\n            conf = options[prop];\n            const nameSpaceProp = namespace ? `${namespace}.${prop}` : prop;\n\n            if (subNamespace) {\n                const value = defaultValue(store.get(nameSpaceProp), {});\n                value[subNamespace] = conf.value;\n                stateProps[nameSpaceProp] = value;\n            } else {\n                stateProps[prop] = conf.value;\n            }\n\n            holder[prop] = ((context, meta, nsProp) => (...params) => {\n                const paramsLen = params.length;\n                if (paramsLen) {\n                    const { takesMultipleParams = false } = meta || {};\n                    // If parameters are passed then it's a setter\n                    let val = takesMultipleParams ? params : params[0];\n\n                    if (meta) {\n                        let values;\n                        const prevVal = context.get(nsProp, subNamespace);\n                        const { sanitization, typeCheck, typeExpected } = meta;\n                        if (typeof sanitization === 'function') {\n                            // Sanitize if required\n                            val = sanitization(val, prevVal, holder);\n                        }\n\n                        // Checking if a setter is valid\n                        if (typeof typeCheck === 'function') {\n                            const typeCheckResult = typeCheck(val);\n\n                            if (typeCheckResult) {\n                                values = val;\n                            }\n                        } else if (typeof typeCheck === 'string' && typeCheck === 'constructor') {\n                            if (val && val.constructor.name === typeExpected) {\n                                values = val;\n                            }\n                        } else {\n                            values = val;\n                        }\n\n                        const preset = meta.preset;\n                        const oldValues = toArray(context.get(nsProp, subNamespace));\n                        preset && preset(values, holder);\n                        if (takesMultipleParams) {\n                            oldValues.forEach((value, i) => {\n                                if (values[i] === undefined) {\n                                    values[i] = value;\n                                }\n                            });\n                        }\n                        values && context.commit(nsProp, values, subNamespace);\n                    } else {\n                        context.commit(nsProp, val, subNamespace);\n                    }\n                    return holder;\n                }\n                // No parameters are passed hence its a getter\n                return context.get(nsProp, subNamespace);\n            })(store, conf.meta, nameSpaceProp, Array.isArray(conf.value));\n        }\n    }\n\n    if (subNamespace) {\n        for (const key in stateProps) {\n            store.commit(key, stateProps[key][subNamespace], subNamespace);\n        }\n    } else if (namespace === undefined) {\n        store.append(stateProps);\n    } else {\n        store.append(namespace, stateProps);\n    }\n\n    return [holder, store];\n};\n","import { mergeRecursive, CommonProps } from 'muze-utils';\n\nconst defaultPolicy = (registrableComponents) => {\n    const aliases = registrableComponents.map(comp => comp.alias());\n    return {\n        behaviours: {\n            '*': (propagationPayload) => {\n                const propagationCanvas = propagationPayload.sourceCanvas;\n                return propagationCanvas ? aliases.indexOf(propagationCanvas) !== -1 : true;\n            }\n        },\n        sideEffects: {\n            '*': (propagationPayload) => {\n                const propagationCanvas = propagationPayload.sourceCanvas;\n                return propagationCanvas ? aliases.indexOf(propagationCanvas) !== -1 : true;\n            }\n        }\n    };\n};\n\nconst listenerFn = (canvas, fn) => () => {\n    const valueMatrix = canvas.composition().visualGroup.matrixInstance().value;\n    valueMatrix.each(cell => fn(cell.valueOf().firebolt()));\n};\n\nconst canvasIterator = (canvases, iteratorFn, cFn) => {\n    canvases.forEach((canvas) => {\n        const matrix = canvas.composition().visualGroup.matrixInstance().value;\n        matrix.each(cell => iteratorFn(cell.valueOf().firebolt()));\n        cFn && cFn(canvas);\n        // Also register actions on canvas update\n        const throwback = canvas._throwback;\n\n        throwback.registerImmediateListener([CommonProps.MATRIX_CREATED],\n            listenerFn(canvas, iteratorFn));\n    });\n};\n\nconst registerActions = (context, type, fnName, deps) => {\n    const canvases = context._registrableComponents;\n\n    canvases.forEach((canvas) => {\n        const vGroup = canvas.composition().visualGroup;\n\n        vGroup.resolver().setFireboltDependencies(type, deps);\n        canvas.firebolt()[fnName](deps);\n    });\n};\n\n/**\n * This class is initiated only once in lifecycle and is reponsible for regisration of physical and behavioural\n * actions and side effects and the mapping between them.\n *\n * To get the instance of action model\n * ```\n *  const ActionModel = muze.ActionModel;\n * ```\n *\n * @public\n * @module ActionModel\n */\nclass ActionModel {\n    constructor () {\n        this._registrableComponents = [];\n    }\n\n    /**\n     * Takes an array of canvases on which the physical and behavioural actions will get registered.\n     *\n     * @public\n     * @param  {Canvas} components Array of canvases\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    for (...components) {\n        this._registrableComponents = components;\n        return this;\n    }\n\n    /**\n     * Registers physical actions on the canvases. It takes an object with key as the name of action and value having\n     * the definition of the action.\n     *\n     * To register a {@link PhysicalAction},\n     * ```\n     *  const ActionModel = muze.ActionModel;\n     *  ActionModel\n     *       // Physical actions will be registered on these canvases.\n     *      .for(canvas)\n     *      .registerPhysicalActions({\n     *          // Key is the name of physical action.\n     *          ctrlClick: (firebolt) => (targetEl, behaviours) => {\n     *              targetEl.on('click', function (data) {\n     *                  const event = utils.getEvent();\n     *                  const pos = utils.getClientPoint(event, this);\n     *                  // Get the data point nearest to the mouse position.\n     *                  const nearestPoint = firebolt.context.getNearestPoint(pos, {\n     *                      data\n     *                  });\n     *                  // Prepare the payload\n     *                  const payload = {\n     *                      criteria: nearestPoint.id\n     *                  };\n     *                  behaviours.forEach((behaviour) => firebolt.dispatchBehaviour(behaviour, payload));\n     *              });\n     *          }\n     *      });\n     * ```\n     * @public\n     *\n     * @param {Object} action Names of physical actions and their definitions.\n     *\n     * @return {ActionModel} Instance of the action model.\n     */\n    registerPhysicalActions (action) {\n        registerActions(this, 'physicalActions', 'registerPhysicalActions', action);\n\n        return this;\n    }\n\n    /**\n     * Registers behavioural actions on the canvases. It takes definitions of the behavioural actions and registers\n     * them on the canvases. Every behavioural action must inherit the {@link GenericBehaviour} class.\n     *\n     * To register a behavioural action\n     * ```\n     *  // Define a new behavioural action\n     *  class SingleSelectBehaviour extends GenericBehaviour {\n     *      static formalName () {\n     *          return 'singleSelect';\n     *      }\n     *\n     *      setSelectionSet (addSet, selectionSet) {\n     *          if (addSet === null) {\n     *              selectionSet.reset();\n     *          } else if (addSet.length) {\n     *              const existingAddSet = selectionSet.getExistingEntrySet(addSet);\n     *              if (existingAddSet.length){\n     *                  selectionSet.reset();\n     *              } else {\n     *               selectionSet.add(addSet);\n     *              }\n     *          } else {\n     *              selectionSet.reset();\n     *          }\n     *      }\n     * }\n     * muze.ActionModel.registerBehaviouralActions(SingleSelectBehaviour);\n     * ```\n     *\n     * @public\n     *\n     * @param {GenericBehaviour} actions Definition of behavioural actions.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerBehaviouralActions (...actions) {\n        registerActions(this, 'behaviouralActions', 'registerBehaviouralActions', actions);\n        return this;\n    }\n\n    /**\n     * Registers the mapping of physical and behavioural actions. This mapping is used to establish which behavioural\n     * actions should be dispatched on any triggering of physical actions.\n     *\n     * To map physical actions with behavioural actions,\n     * ```\n     *  muze.ActionModel.registerPhysicalBehaviouralMap({\n     *      ctrlClick: {\n     *          behaviours: ['select'] // This array must be the formal names of the behavioural actions.\n     *      }\n     *  });\n     * ```\n     *\n     * @public\n     * @param {Object} map Contains the physical and behavioural action map.\n     * ```\n     *   {\n     *      // Name of the physical action\n     *      click: {\n     *          // Target element selector. This is an optional field. If not passed, then by default takes the\n     *          // container element of visual unit.\n     *          target: '.muze-layers-area path',\n     *          // Behaviours which should be dispatched on triggering of the mapped physical action.\n     *          behaviours: ['select']\n     *      }\n     *   }\n     * ```\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerPhysicalBehaviouralMap (map) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            firebolt.registerPhysicalBehaviouralMap(map);\n        }, (canvas) => {\n            canvas.firebolt().registerPhysicalBehaviouralMap(map);\n        });\n        return this;\n    }\n\n    /**\n     * Registers what behaviour to propagate on dispatch of a certain behavioural action. By default, when any\n     * behavioural action is dispatched, then the same behavioural action gets propagated to all the other canvases.\n     * This can be changed using this api.\n     *\n     * To register what behaviour should be propagated on dispatch of any behavioural action,\n     * ```\n     *  ActionModel.for(canvas1, canvas2).registerPropagationBehaviourMap({\n     *      select: 'filter',\n     *      brush: 'filter'\n     *  });\n     * ```\n     *\n     * @public\n     * @param {Object} map Propagation behaviour map.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerPropagationBehaviourMap (map) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            firebolt.registerPropagationBehaviourMap(map);\n        }, (canvas) => {\n            canvas.firebolt().registerPropagationBehaviourMap(map);\n        });\n\n        return this;\n    }\n\n    /**\n     * Registers the mapping of side effects and behavioural actions. It takes an object which contains key as the\n     * name of behavioural action and the side effects which will be linked to it.\n     *\n     * To map side effects to select behaviour,\n     * ```\n     *  muze.ActionModel.mapSideEffects({\n     *      select: ['infoBox'] // This array must be the formal names of the side effects\n     *  });\n     * ```\n     *\n     * To map side effects to select behaviour, but disable all the default side effects attached with this behaviour,\n     * ```\n     *  muze.ActionModel.mapSideEffects({\n     *      select: {\n     *          effects: ['infoBox'],\n     *          preventDefaultActions: true\n     *      }\n     *  });\n     * @public\n     * @param {Object} map Mapping of behavioural actions and side effects.\n     * ```\n     *     {\n     *          select: ['infoBox']\n     *     }\n     * ```\n     * @return {ActionModel} Instance of action model.\n     */\n    mapSideEffects (map) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            firebolt.mapSideEffects(map);\n        }, (canvas) => {\n            canvas.firebolt().mapSideEffects(map);\n        });\n        return this;\n    }\n\n    /**\n     * Registers the side effects on the registered canvases. It takes definitions of side effects and registers them\n     * on the canvases. Every side effect must inherit the base class {@link GenericSideEffect} or\n     * {@link SpawnableSideEffect} or {@link SurrogateSideEffect} class.\n     *\n     * ```\n     * // Define a custom side effect\n     *  class InfoBox extends SpawnableSideEffect {\n     *      static formalName () {\n     *          return 'infoBox';\n     *      }\n     *\n     *      apply (selectionSet) {\n     *      }\n     *  }\n     *  muze.ActionModel.registerSideEffects(InfoBox);\n     * ```\n     * @public\n     * @param  {GenericSideEffect} sideEffects Definition of side effects.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerSideEffects (...sideEffects) {\n        registerActions(this, 'sideEffects', 'registerSideEffects', sideEffects);\n        return this;\n    }\n\n    /**\n     * Breaks the link between behavioural actions and physical actions. It takes an array of behavioural action\n     * and it's physical action.\n     *\n     * To dissociate behavioural actions from physical actions\n     * ```\n     *  muze.ActionModel.dissociateBehaviour(['select', 'click'], ['highlight', 'hover']);\n     * ```\n     * @public\n     * @param  {Array} maps Array of behavioural action and physical action.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    dissociateBehaviour (...maps) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            maps.forEach(val => firebolt.dissociateBehaviour(val[0], val[1]));\n        }, (canvas) => {\n            maps.forEach(val => canvas.firebolt().dissociateBehaviour(val[0], val[1]));\n        });\n        return this;\n    }\n\n    /**\n     * Breaks the link between side effects and behavioural actions. It takes an array of formal names of the side\n     * effects and it's linked behavioural action.\n     *\n     * To dissociate side effects from behavioural actions\n     * ```\n     *  muze.ActionModel.dissociateSideEffect(['crossline', 'highlight'], ['selectionBox', 'brush']);\n     * ```\n     * @public\n     * @param  {Array} maps Array of side effects and behavioural actions.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    dissociateSideEffect (...maps) {\n        canvasIterator(this._registrableComponents, (firebolt) => {\n            maps.forEach(val => firebolt.dissociateSideEffect(val[0], val[1]));\n        }, (canvas) => {\n            maps.forEach(val => canvas.firebolt().dissociateSideEffect(val[0], val[1]));\n        });\n        return this;\n    }\n\n    /**\n     * By default cross interactivity is disabled between canvases. This enables cross interaction between the canvases\n     * so that any action happening in one canvas gets dispatched on other canvases as well. An optional policy can also\n     * be passed in this method. The policy can be used to control on which canvases the behavioural actions and\n     * side effects gets dispatched.\n     *\n     * To just enable cross interactivity between two canvases,\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity();\n     * ```\n     *\n     * To enable cross interactivity but enable any behavioural action only when it is triggered from canvas1.\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity({\n     *          behaviours: {\n     *              // Here * stands for any behavioural action name. We can also give any name of behavioural action\n     *              // in place of this.\n     *              '*': (propPayload, context) => {\n     *                  return propPayload.sourceCanvas === canvas1.alias();\n     *              }\n     *          }\n     *      });\n     * ```\n     *\n     * To enable cross interactivity but enable tooltip effect if the action is propagated from canvas1,\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity({\n     *          sideEffects: {\n     *              tooltip: (propPayload, context) => {\n     *                  return propPayload.sourceCanvas === canvas1.alias();\n     *              }\n     *          }\n     *      });\n     * ```\n     * @public\n     * @param {Object} policy Policy definition.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    enableCrossInteractivity (policy = {}) {\n        const registrableComponents = this._registrableComponents;\n        const mergedPolicy = mergeRecursive(mergeRecursive({}, defaultPolicy(registrableComponents)), policy);\n\n        registrableComponents.forEach((canvas) => {\n            canvas.firebolt().crossInteractionPolicy(mergedPolicy);\n        });\n\n        return this;\n    }\n}\n\nexport const actionModel = (() => new ActionModel())();\n","// extracted by mini-css-extract-plugin","export const APP_INITIAL_STATE = {\n    app: {\n        group: {},\n        units: {},\n        layers: {},\n        canvas: {}\n    },\n    local: {\n        canvas: {},\n        group: {},\n        units: {},\n        layers: {}\n    }\n};\n\n","import { GridLayout } from '@chartshq/layout';\nimport { transactor, Store, getUniqueId, selectElement, STATE_NAMESPACES, CommonProps } from 'muze-utils';\nimport UnitBrushBehaviour from '@chartshq/visual-unit/src/firebolt/behaviours/brush';\nimport { physicalActions, sideEffects, behaviouralActions, behaviourEffectMap } from '@chartshq/muze-firebolt';\nimport { RETINAL } from '../constants';\nimport TransactionSupport from '../transaction-support';\nimport { getRenderDetails, prepareLayout, renderLayout } from './layout-maker';\nimport { localOptions, canvasOptions } from './local-options';\nimport GroupFireBolt from './firebolt';\nimport options from '../options';\nimport { APP_INITIAL_STATE } from './app-state';\nimport { initCanvas,\n        setupChangeListener,\n        setLabelRotationForAxes,\n        createGroupState,\n        createLayoutManager,\n        setLayoutInfForUnits\n} from './helper';\n/**\n * Canvas is a logical component which houses a visualization by taking multiple variable in different encoding channel.\n * Canvas manages lifecycle of many other logical component and exposes one consistent interface for creation of chart.\n * Canvas is intialized from environment with settings from environment and singleton dependencies.\n *\n * To create an instance of canvas\n * ```\n *  const env = Muze();\n *  const canvas = env.canvas()\n * ```\n *\n *\n * @class\n * @public\n * @module Canvas\n */\nexport default class Canvas extends TransactionSupport {\n\n    /**\n     * Creates reactive property accessors.\n     * - data\n     * - height\n     * - width\n     * - config\n     * This configs are retrieved from options.\n     */\n    constructor (globalDependencies) {\n        super();\n\n        this._allOptions = Object.assign({}, options, localOptions);\n        this._registry = {};\n        this._composition = {};\n        this._cachedProps = {};\n        this._alias = null;\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        this._composition.layout = new GridLayout();\n        this._store = new Store(APP_INITIAL_STATE);\n\n        this._throwback = new Store({\n            [CommonProps.MATRIX_CREATED]: false,\n            [CommonProps.ON_LAYER_DRAW]: null,\n            propagationInfo: null\n        });\n\n        // Setters and getters will be mounted on this. The object will be mutated.\n        const namespace = STATE_NAMESPACES.CANVAS_LOCAL_NAMESPACE;\n        const allOptions = Object.assign({}, options, localOptions, canvasOptions);\n\n        transactor(this, allOptions, this._store, {\n            namespace\n        });\n\n        this.dependencies(Object.assign({}, globalDependencies, this._dependencies));\n        this.firebolt(new GroupFireBolt(this, {\n            behavioural: Object.assign({}, behaviouralActions, {\n                brush: UnitBrushBehaviour\n            }),\n            physical: physicalActions,\n            physicalBehaviouralMap: {}\n        }, sideEffects, behaviourEffectMap));\n        this.alias(`canvas-${getUniqueId()}`);\n        this.title('', {});\n        this.subtitle('', {});\n        this.legend({});\n        this.color({});\n        this.shape({});\n        this.size({});\n        setupChangeListener(this);\n         // init layoutManager\n        this._layoutManager = createLayoutManager();\n    }\n\n    /**\n     * Retrieves an instance of layout which is responsible for layouting. Layout is responsible for creating faceted\n     * presentation using table layout.\n     *\n     * @public\n     *\n     * @return {GridLayout} Instance of layout attached to canvas.\n     */\n    layout (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().layout;\n    }\n\n    /**\n     * Retrieves the composition for a canvas\n     *\n     * @public\n     *\n     * @return {object} Instances of the components which canvas requires to draw the full visualization.\n     *      ```\n     *          {\n     *              layout: // Instance of {@link GridLayout}\n     *              legend: // Instance of {@link Legend}\n     *              subtitle: // Instance of {@link TextCell} using which the title is rendered\n     *              title: // Instance of {@link TextCell} using which the title is rendered\n     *              visualGroup: // Instance of {@link visualGroup}\n     *          }\n     *      ```\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     * Sets or gets the alias of the canvas. Alias is a name by which the canvas can be referred.\n     *\n     * When setter\n     * @param {string} alias Name of the alias.\n     *\n     * @return {Canvas} Instance of the canvas.\n     *\n     * When getter\n     *\n     * @return {string} Alias of canvas.\n     *\n     * @public\n     */\n    alias (...params) {\n        if (params.length) {\n            const visualGroup = this.composition().visualGroup;\n            this._alias = params[0];\n            visualGroup && visualGroup.alias(this.alias());\n            return this;\n        }\n        return this._alias;\n    }\n\n    /**\n     * Creates an instance initiated with given settings.\n     *\n     * @param {Object} initialSettings Initial settings to be populated in the model\n     * @param {Object} regEntry newly created instance with the initial settings\n     * @param {Object} globalDependencies dependencies which will be created only once in the page\n     *\n     * @return {Object} newly created instance with the initial settings\n     */\n    static withSettings (initialSettings, regEntry, globalDependencies) {\n        const instance = new Canvas(globalDependencies);\n\n        for (const key in initialSettings) {\n            instance[key](initialSettings[key]);\n        }\n        // set registry for instance\n        instance.registry(regEntry);\n        return instance;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof Canvas\n     */\n    static formalName () {\n        return 'canvas';\n    }\n\n    /**\n     * Returns the instance of firebolt associated with this canvas. The firebolt instance can be used to dispatch a\n     * behaviour dynamically on the canvas. This firebolt does not handle any physical actions. It is just used to\n     * propagate the action to all the visual units in it's composition.\n     *\n     * @public\n     *\n     * @return {GroupFireBolt} Instance of firebolt associated with canvas.\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Registry peoperty accessor\n     *\n     * @param {Object} reg plain old javascript object keyvalue pairs. Key containing module name and value contains\n     * module definition class. The reg object has to be flat object of level 1.\n     */\n    registry (...params) {\n        if (params.length) {\n            const param = params[0];\n            const components = Object.assign({}, param.components);\n            const componentSubRegistry = Object.assign({}, param.componentSubRegistry);\n            const interactionRegistry = Object.assign({}, param.interactions);\n\n            this._registry = { components, componentSubRegistry, interactions: interactionRegistry };\n            const initedComponents = initCanvas(this);\n            // @todo is it okay to continue this tight behaviour? If not use a resolver to resolve diff component type.\n            this._composition.visualGroup = initedComponents[0];\n            createGroupState(this);\n            this.composition().visualGroup.alias(this.alias()).store(this._store);\n            return this;\n        }\n        return this._registry;\n    }\n\n    /*\n     * Prepare dependencies for top level elements\n     */\n    dependencies (...param) {\n        if (param.length) {\n            this._dependencies = param[0];\n            return this;\n        }\n        // @todo prepare dependencies here.\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     * @param {*} lifeCycles\n     *\n     * @memberof Canvas\n     */\n    lifeCycle (lifeCycles) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        if (lifeCycles) {\n            lifeCycleManager.register(lifeCycles);\n            return this;\n        }\n        return lifeCycleManager;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    legend (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().legend;\n    }\n\n    /**\n     * Returns a promise for various {@link LifecycleEvents} of the various components of canvas. The promise gets\n     * resolved once the particular event gets completed.\n     *\n     * To use this,\n     * ```\n     *      canvas.once('layer.drawn').then(() => {\n     *          // Do any post drawing work here.\n     *      });\n     * ```\n     * @public\n     *\n     * @param {string} eventName Name of the lifecycle event.\n     *\n     * @return {Promise} A pending promise waiting for resolve to be called.\n     */\n    once (eventName) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        return lifeCycleManager.retrieve(eventName);\n    }\n\n    /**\n     * Internal function to trigger render, this method is cognizant of all the properties of the core modules and\n     * establish a passive reactivity. Passive reactivity is not always a bad thing :)\n     * @internal\n     */\n    render () {\n        const mount = this.mount();\n        // removeChild(mount);\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        // Get render details including arrangement and measurement\n        const renderDetails = getRenderDetails(this, mount);\n        lifeCycleManager.notify({ client: this, action: 'beforedraw' });\n        // Prepare the layout by triggering the matrix calculation\n        prepareLayout(this.layout(), renderDetails);\n\n        this._layoutManager.dimension({\n            height: renderDetails.measurement.canvasHeight,\n            width: renderDetails.measurement.canvasWidth\n        });\n\n        this._layoutManager.renderAt(mount);\n\n        // Render each component\n        renderLayout(this, renderDetails);\n\n        setLayoutInfForUnits(this);\n\n        // setLabelRotation\n        setLabelRotationForAxes(this);\n\n        this.firebolt().mapActionsAndBehaviour();\n    }\n\n    /**\n     * Returns the instances of x axis of the canvas. It returns the instances in a two dimensional array form.\n     *\n     * ```\n     *   // The first element in the sub array represents the top axis and the second element represents the bottom\n     *   // axis.\n     *   [\n     *      [X1, X2],\n     *      [X3, X4]\n     *   ]\n     * ```\n     * @public\n     *\n     * @return {Array.<Array>} Instances of x axis.\n     */\n    xAxes () {\n        return this.composition().visualGroup.getAxes('x');\n    }\n\n    /**\n     * Returns the instances of y axis of the canvas. It returns the instances in a two dimensional array form.\n     *\n     * ```\n     *   // The first element in the sub array represents the left axis and the second element represents the right\n     *   // axis.\n     *   [\n     *      [Y1, Y2],\n     *      [Y3, Y4]\n     *   ]\n     * ```\n     * @public\n     * @return {Array.<Array>} Instances of y axis.\n     */\n    yAxes () {\n        return this.composition().visualGroup.getAxes('y');\n    }\n\n    /**\n     * Returns all the retinal axis of the canvas. Color, shape and size axis are combinedly called retinal axis.\n     *\n     * @public\n     * @return {Object} Instances of retinal axis.\n     *          ```\n     *              {\n     *                  color: [ColorAxis], // Array of color axis.\n     *                  shape: [ShapeAxis], // Array of shape axis.\n     *                  size: [SizeAxis] // Array of size axis.\n     *              }\n     *          ```\n     */\n    getRetinalAxes () {\n        const visualGroup = this.composition().visualGroup;\n        return visualGroup.getAxes(RETINAL);\n    }\n\n    mount (...params) {\n        if (params.length) {\n            let value = params[0];\n            if (typeof params[0] === 'string') {\n                value = selectElement(params[0]).node();\n            }\n            this._mount = value;\n            return this;\n        }\n        return this._mount;\n    }\n}\n","import { TOP, BOTTOM, LEFT, TITLE, SUB_TITLE, GROUP, LAYOUT, LEGEND } from '../constants';\n\n/**\n *\n *\n * @param {*} context\n *\n */\nexport const arrangeComponents = (context) => {\n    const legendConfig = context.config().legend;\n    const titleConfig = context.title()[1];\n    const subtitleConfig = context.subtitle()[1];\n    const titleLayouts = {\n        [`${TOP}-${TOP}`]: [TITLE, SUB_TITLE, GROUP],\n        [`${BOTTOM}-${BOTTOM}`]: [GROUP, SUB_TITLE, TITLE],\n        [`${TOP}-${BOTTOM}`]: [TITLE, GROUP, SUB_TITLE],\n        [`${BOTTOM}-${TOP}`]: [SUB_TITLE, GROUP, TITLE]\n    };\n    const legendLayouts = [\n        [LEGEND, LAYOUT],\n        [LAYOUT, LEGEND]\n    ];\n    const titlePosition = titleConfig.position || TOP;\n    const subtitlePosition = subtitleConfig.position || TOP;\n\n    return {\n        headers: titleLayouts[`${titlePosition}-${subtitlePosition}`],\n        legends: legendConfig.position === LEFT || legendConfig.position === TOP ?\n        legendLayouts[0] : legendLayouts[1]\n    };\n};\n","import {\n    TITLE,\n    SUB_TITLE,\n    LEGEND, VERTICAL,\n    HORIZONTAL,\n    WIDTH,\n    HEIGHT,\n    TOP,\n    LEFT,\n    RIGHT,\n    MESSAGE,\n    GRID,\n    ERROR_MESSAGE,\n    HORIZONTAL_CENTER\n} from '../constants';\nimport HeaderComponent from './components/headerComponent';\nimport LegendComponent from './components/legendComponent';\nimport ScrollComponent from './components/scroll-component';\nimport GridComponent from './components/grid-component';\nimport MessageComponent from './components/message-component';\nimport { TITLE_CONFIG, SUB_TITLE_CONFIG, CANVAS, MESSAGE_CONFIG } from './defaults';\nimport { ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX, CENTER } from '../../../layout/src/enums/constants';\n\n// Mapping between types of headers and their required configs for wrapper creation\nconst headerMap = {\n    title: {\n        headerCell: 'titleCell',\n        configType: TITLE_CONFIG\n    },\n    subtitle: {\n        headerCell: 'subtitleCell',\n        configType: SUB_TITLE_CONFIG\n    }\n};\n\n// Mapping of header alignment values\nconst headerAlignmentMap = {\n    [LEFT]: LEFT,\n    [RIGHT]: RIGHT,\n    [CENTER]: HORIZONTAL_CENTER\n};\n\n/**\n * returns if data is Valid\n *\n *\n * @param {Object} params object where data has to be checked for validity\n * @return {Boolean} Returns true if all of the params are valid\n */\nconst checkParamsValidation = params => Object.keys(params).every((param => params[param]));\n\n/**\n * returns if message Component is needed or not\n *\n *\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Boolean} Returns if grid is present\n */\nconst isGridPresent = (renderDetails) => {\n    const { rows, columns, values } = renderDetails.components;\n    return checkParamsValidation({ rows, columns, values });\n};\n\n/**\n * Creates the wrapper for the header, i.e., title and subtitle to be used in the tree layout\n *\n *\n * @param {string} headerType type of header: title/subtite\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Instance} Returns the respective wrappers\n */\nconst createHeaderWrapper = (headerType, layoutManager, renderDetails) => {\n    let wrapper = null;\n\n    const { components, layoutConfig } = renderDetails;\n    const { headerCell, configType } = headerMap[headerType];\n    const target = { target: CANVAS };\n\n    if (components.headers && components.headers[headerCell]) {\n        let headerConfig = layoutConfig[headerType];\n        const header = components.headers[headerCell];\n\n        headerConfig = Object.assign({}, headerConfig, {\n            classPrefix: layoutConfig.classPrefix,\n            ...target,\n            alignWith: `${ROW_MATRIX_INDEX[0]}-${COLUMN_MATRIX_INDEX[1]}`,\n            alignment: headerAlignmentMap[headerConfig.align],\n            className: configType.className\n        });\n\n        const wrapperParams = {\n            name: headerType,\n            component: header,\n            config: headerConfig\n        };\n\n        const existingComponent = layoutManager.getComponent(headerType);\n        if (existingComponent) {\n            wrapper = existingComponent\n                        .updateWrapper(wrapperParams);\n        } else {\n            wrapper = new HeaderComponent(wrapperParams);\n        }\n    }\n    return wrapper;\n};\n\n/**\n * Creates the wrapper for the grid layout to be used in the tree layout\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {GridLayout} canvas canvas instance\n * @return {Instance} Returns the respective wrappers\n */\nconst createMessageWrapper = (layoutManager, renderDetails, renderGrid) => {\n    const { components, measurement } = renderDetails;\n    const headerValues = Object.values(components.headers);\n    let sum = 0;\n    let messageWrapper = null;\n\n    for (const val of headerValues) {\n        sum += val.logicalSpace().height;\n    }\n\n    if (!renderGrid) {\n        const defaultDimensions = { height: measurement.canvasHeight - sum, width: measurement.canvasWidth };\n        const gridComponent = layoutManager.getComponent(GRID);\n        const { height, width } = (gridComponent && gridComponent.getBoundBox()) || defaultDimensions;\n        const target = { target: CANVAS };\n        const config = {\n            ...target,\n            dimensions: { height, width },\n            message: ERROR_MESSAGE,\n            classPrefix: MESSAGE_CONFIG,\n            position: TOP\n        };\n        const wrapperParams = {\n            name: MESSAGE,\n            component: null,\n            config\n        };\n        const existingComponent = layoutManager.getComponent(MESSAGE);\n\n        if (existingComponent) {\n            messageWrapper = existingComponent.updateWrapper(wrapperParams);\n        } else {\n            messageWrapper = new MessageComponent(wrapperParams);\n        }\n        return messageWrapper;\n    }\n    return null;\n};\n\n// Mapping between types of scrollBars and their required configs for wrapper creation\nconst scrollBarMap = config => ({\n    vertical: {\n        componentName: 'verticalScrollBar',\n        width: 'thickness',\n        height: 'layoutBasedMeasure',\n        layoutBasedMeasure: HEIGHT,\n        viewMeasure: 'viewHeight',\n        rowAlign: 1,\n        colAlign: config.align === 'right' ? 2 : 0,\n        position: config.align,\n        alignment: TOP\n    },\n    horizontal: {\n        componentName: 'horizontalScrollBar',\n        width: 'layoutBasedMeasure',\n        layoutBasedMeasure: WIDTH,\n        viewMeasure: 'viewWidth',\n        height: 'thickness',\n        rowAlign: config.align === 'top' ? 0 : 2,\n        colAlign: 1,\n        position: config.align,\n        alignment: LEFT\n    }\n});\n\n/**\n * Creates the wrapper for the scroller, i.e., horizontal and vertical to be used in the tree layout\n *\n *\n * @param {string} scrollBarType type of scrollbar: horizontal/vertical\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @param {GridLayout} grid Instance of the grid layout\n * @return {Instance} Returns the respective wrappers\n */\nconst createScrollBarWrapper = (scrollBarType, layoutManager, renderDetails, grid, renderGrid) => {\n    if (renderGrid) {\n        let scrollBarWrapper = null;\n        const { layoutConfig } = renderDetails;\n        const target = { target: CANVAS };\n        const { scrollBar } = layoutConfig;\n        const { layoutDimensions } = grid.viewInfo();\n        const {\n            actualCenterMeasures,\n            unitHeights,\n            unitWidths\n        } = layoutDimensions;\n        const {\n            componentName, layoutBasedMeasure, width, height, rowAlign, colAlign,\n            viewMeasure, position, alignment\n        } = scrollBarMap(scrollBar[scrollBarType])[scrollBarType];\n        const dimensions = {\n            thickness: scrollBar.thickness,\n            layoutBasedMeasure: layoutDimensions[viewMeasure][1]\n        };\n        const isScroll = grid.scrollInfo()[scrollBarType];\n        const totalLength = actualCenterMeasures[layoutBasedMeasure];\n        const viewLength = layoutDimensions[viewMeasure][1];\n\n        const scrollConfig = Object.assign({}, {\n            classPrefix: layoutConfig.classPrefix,\n            ...target,\n            scrollBarComponentConfig: {\n                ...scrollBar,\n                classPrefix: layoutConfig.classPrefix\n            },\n\n            type: scrollBarType,\n            alignWith: `${ROW_MATRIX_INDEX[rowAlign]}-${COLUMN_MATRIX_INDEX[colAlign]}`,\n            alignment,\n            position\n        });\n\n        const wrapperParams = {\n            name: componentName,\n            config: scrollConfig,\n            dimensions: {\n                width: dimensions[width],\n                height: dimensions[height],\n                totalLength,\n                viewLength,\n                unitHeights,\n                unitWidths\n            }\n        };\n\n        const existingComponent = layoutManager.getComponent(componentName);\n\n        if (!isScroll) {\n            existingComponent && existingComponent.remove();\n            return null;\n        }\n\n        if (existingComponent) {\n            scrollBarWrapper = existingComponent\n                                    .updateWrapper(wrapperParams);\n        } else {\n            scrollBarWrapper = new ScrollComponent(wrapperParams);\n        }\n\n        return scrollBarWrapper;\n    }\n    return null;\n};\n\n/**\n * Creates the wrapper for the legend to be used in the tree layout\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Instance} Returns the respective wrappers\n */\nconst createLegendWrapper = (layoutManager, renderDetails, renderGrid) => {\n    if (renderGrid) {\n        let legendWrapper = null;\n        const { components, layoutConfig, measurement } = renderDetails;\n        const target = { target: CANVAS };\n\n        if (components.legends && components.legends.length) {\n            const legendConfig = { ...layoutConfig.legend, ...target, measurement };\n            const wrapperParams = {\n                name: LEGEND,\n                component: components.legends,\n                config: legendConfig\n            };\n\n            const existingComponent = layoutManager.getComponent(LEGEND);\n\n            if (existingComponent) {\n                legendWrapper = existingComponent\n                        .updateWrapper(wrapperParams);\n            } else {\n                legendWrapper = new LegendComponent(wrapperParams);\n            }\n        }\n        return legendWrapper;\n    }\n    return null;\n};\n\n/**\n * Creates the wrapper for the grid layout to be used in the tree layout\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @param {GridLayout} grid Instance of the grid layout\n * @return {Instance} Returns the respective wrappers\n */\nconst gridLayoutWrapper = (layoutManager, renderDetails, grid, renderGrid) => {\n    if (renderGrid) {\n        let gridWrapper = null;\n        const target = { target: CANVAS };\n        const { layoutConfig } = renderDetails;\n\n        const config = {\n            ...target,\n            pagination: layoutConfig.pagination,\n            classPrefix: layoutConfig.classPrefix,\n            dimensions: { height: 0, width: 0 }\n        };\n        const wrapperParams = {\n            name: GRID,\n            component: grid,\n            config\n        };\n        const existingComponent = layoutManager.getComponent(GRID);\n        if (existingComponent) {\n            gridWrapper = existingComponent\n                        .updateWrapper(wrapperParams);\n        } else {\n            gridWrapper = new GridComponent(wrapperParams);\n        }\n        return gridWrapper;\n    }\n    return null;\n};\n/**\n * Responsible for providing the wrapper creators for every component in Muze.\n * This function, when called, returns the set of components and their respective wrappers.\n *\n *\n *\n * @param {LayoutManager} layoutManager instance of Layout Manager which manages the layouting of the components\n * @param {GridLayout} grid Instance of the grid layout\n * @param {Object} renderDetails Extra details required for rendering the headers\n * @return {Instance} Returns the respective wrappers for each component\n */\nexport const componentWrapperMaker = (canvas, grid, renderDetails) => {\n    const layoutManager = canvas._layoutManager;\n    const renderGrid = isGridPresent(renderDetails);\n    return {\n        title: createHeaderWrapper(TITLE, layoutManager, renderDetails),\n        subtitle: createHeaderWrapper(SUB_TITLE, layoutManager, renderDetails),\n        message: createMessageWrapper(layoutManager, renderDetails, renderGrid),\n        legend: createLegendWrapper(layoutManager, renderDetails, renderGrid),\n        grid: gridLayoutWrapper(layoutManager, renderDetails, grid, renderGrid),\n        verticalScrollBar: createScrollBarWrapper(VERTICAL, layoutManager, renderDetails, grid, renderGrid),\n        horizontalScrollBar: createScrollBarWrapper(HORIZONTAL, layoutManager, renderDetails, grid, renderGrid)\n    };\n};\n","import { selectElement, getEvent } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport MatrixComponent from './matrix-component';\nimport { ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX } from '../../../../layout/src/enums/constants';\nimport { WHEEL_DELTA_MODIFIER } from '../../enums/constants';\n\n/**\n * Based on the type of scroll, it changes the scrollLeft/scrollTop property of the specific\n * elements based on the scroll distance provided\n *\n *\n */\nconst applyScrollAction = (elem, classPrefix, scollDistance, type) => {\n    selectElement(elem)\n                    .selectAll(`.${classPrefix}-grid`)\n                    .property(type, scollDistance);\n};\n\n/**\n * Applies the action of the scroll by actually scrolling the respective matrices based on the\n * type of scroll. It returns a function which has both the scroll methods available\n *\n * @return {Object} contains the horizontal and vertical scroll actions on the grid component\n */\nconst scrollActionApplier = (movement, context) => {\n    const classPrefix = context.params.config.classPrefix;\n\n    return {\n        horizontal: () => {\n            [0, 1, 2].forEach(e =>\n                applyScrollAction(`#${context.component[e][1].renderAt()}`, classPrefix, movement, 'scrollLeft'));\n        },\n        vertical: () => {\n            [0, 1, 2].forEach(e =>\n                applyScrollAction(`#${context.component[1][e].renderAt()}`, classPrefix, movement, 'scrollTop'));\n        }\n    };\n};\n\nexport default class GridComponent extends MuzeComponent {\n\n    constructor (params) {\n        super(params.name, params.config.dimensions, 0);\n        this.gridComponents = [];\n        this.setParams(params);\n    }\n\n    sanitizeGrid () {\n        let height = 0;\n        let width = 0;\n        const { viewMatricesInfo, layoutDimensions } = this.component.viewInfo();\n        const scrollInfo = this.component.scrollInfo();\n        const {\n            viewHeight,\n            viewWidth,\n            unitHeights,\n            unitWidths\n        } = layoutDimensions;\n\n        for (let i = 0; i < 3; i++) {\n            if (!(this.gridComponents.length && this.gridComponents[i] instanceof Array)) {\n                this.gridComponents[i] = [];\n            }\n            for (let j = 0; j < 3; j++) {\n                const matrixDim = {\n                    height: viewHeight[i],\n                    width: viewWidth[j],\n                    unitHeights,\n                    unitWidths\n                };\n                const matrix = viewMatricesInfo.matrices[`${ROW_MATRIX_INDEX[i]}`][j];\n                const matrixName = `${ROW_MATRIX_INDEX[i]}-${COLUMN_MATRIX_INDEX[j]}`;\n                const matrixConfig = {\n                    dimensions: matrixDim,\n                    border: layoutDimensions.border,\n                    classPrefix: this.params.config.classPrefix,\n                    scrollInfo,\n                    row: ROW_MATRIX_INDEX[i],\n                    column: j\n                };\n                if (this.gridComponents[i][j] instanceof MuzeComponent) {\n                    const { isFacet, showHeaders } = this.params.component.config();\n                    matrixConfig.isFacet = isFacet;\n                    matrixConfig.showHeaders = showHeaders;\n                    this.gridComponents[i][j].updateWrapper({\n                        name: matrixName,\n                        component: matrix,\n                        config: matrixConfig\n                    });\n                } else {\n                    const { isFacet, showHeaders } = this.params.component.config();\n                    matrixConfig.isFacet = isFacet;\n                    matrixConfig.showHeaders = showHeaders;\n                    const matrixWrapper = new MatrixComponent({\n                        name: matrixName,\n                        component: matrix,\n                        config: matrixConfig\n                    });\n                    this.gridComponents[i].push(matrixWrapper);\n                }\n                if (i === 0) {\n                    width += matrixDim.width;\n                }\n                if (j === 0) {\n                    height += matrixDim.height;\n                }\n            }\n        }\n        this.boundBox({ height, width });\n\n        this.component = this.gridComponents;\n        this.allComponents = this.gridComponents;\n    }\n\n    scrollBarManager (...manager) {\n        if (manager.length) {\n            this._scrollBarManager = manager[0];\n            return this;\n        }\n        return this._scrollBarManager;\n    }\n\n    /**\n     * Attaches a mousewheel listener to the center matrix, based on which the scrolling can occur.\n     * It uses the scroll component to change the position of the scroller, which ultimately scrolls the center matrix\n     *\n     *\n     * @return {GridComponent} Instance of the GridComponent\n     */\n    attachScrollListener () {\n        const scrollBarManager = this.scrollBarManager();\n        selectElement(`#${this.component[1][1].renderAt()}`)\n            .on('wheel', () => {\n                const event = getEvent();\n                const {\n                    wheelDeltaX,\n                    wheelDeltaY\n                } = event;\n\n                // Scrolling horizontally\n                if (wheelDeltaX !== 0 && Math.abs(wheelDeltaX) > Math.abs(wheelDeltaY)) {\n                    scrollBarManager.preventBrowserScroll('horizontal', event)\n                        .triggerScrollBarAction('horizontal', wheelDeltaX / WHEEL_DELTA_MODIFIER);\n                }\n\n                // Scrolling Vertically\n                if (wheelDeltaY !== 0 && Math.abs(wheelDeltaX) < Math.abs(wheelDeltaY)) {\n                    scrollBarManager.preventBrowserScroll('vertical', event)\n                        .triggerScrollBarAction('vertical', wheelDeltaY / WHEEL_DELTA_MODIFIER);\n                }\n            });\n        return this;\n    }\n\n    performScrollAction (direction, movedView) {\n        scrollActionApplier(movedView, this)[direction]();\n        return this;\n    }\n\n    getBoundBox () {\n        const { top, left } = this.component[0][0].boundBox();\n        const { height, width } = this.boundBox();\n\n        return {\n            top,\n            left,\n            height,\n            width\n        };\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.dimensions);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.className(params.config.className);\n        this.sanitizeGrid();\n        return this;\n    }\n\n    attachListener () {\n        this.attachScrollListener();\n        return this;\n    }\n}\n","import { selectElement } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport { LEFT } from '../../constants';\n\nexport default class HeaderComponent extends MuzeComponent {\n    constructor (params) {\n        super(params.name, params.component.getLogicalSpace(), 0);\n        this.setParams(params);\n    }\n\n    renderHeader (container) {\n        const layoutConfig = this.params.config;\n        container = selectElement(container);\n        const { align } = layoutConfig;\n        const sel = container\n          .selectAll(`.${layoutConfig.classPrefix}-inner-container`)\n          .data([this.name]);\n        sel.exit().remove();\n        const selEnter = sel.enter().append('div');\n\n        const cont = selEnter.merge(sel);\n        cont.classed(`${layoutConfig.classPrefix}-inner-container`, true);\n        const { height, width } = this.boundBox();\n        this.component.setAvailableSpace(width, height);\n\n        this.component && this.component.render(cont.node());\n\n        cont.selectAll('div').classed(`${layoutConfig.classPrefix}-inner-content`, true);\n        cont.style('width', `${100}%`);\n\n        if (layoutConfig && this.component) {\n            cont.style('float', LEFT)\n                            .style('text-align', align);\n                            // .style(`padding-${position === TOP ? BOTTOM : TOP}`, `${padding}px`);\n        }\n    }\n\n    draw (container) {\n        this.renderHeader(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.setParams(params);\n        this.name(params.name);\n        this.boundBox(params.component.getLogicalSpace());\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(params.config.position);\n        this.className(params.config.className);\n        this.alignWith(params.config.alignWith);\n        this.alignment(params.config.alignment);\n    }\n\n    setSpatialConfig (conf) {\n        this.boundBox({ top: conf.y,\n            left: conf.x,\n            width: conf.width,\n            height: conf.height });\n        this.renderAt(conf.renderAt);\n    }\n}\n","import { makeElement, selectElement } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport {\n     LEFT, RIGHT, VERTICAL, HORIZONTAL, TOP, BOTTOM, HORIZONTAL_CENTER, VERTICAL_CENTER\n} from '../../constants';\nimport { ROW_MATRIX_INDEX, COLUMN_MATRIX_INDEX } from '../../../../layout/src/enums/constants';\n\nfunction defaultAlignmentHelper (position) {\n    let alignment = null;\n    const alignWith = `${ROW_MATRIX_INDEX[1]}-${COLUMN_MATRIX_INDEX[1]}`;\n    switch (position) {\n    case TOP:\n    case BOTTOM:\n        alignment = HORIZONTAL_CENTER;\n        break;\n    case LEFT:\n    case RIGHT:\n        alignment = VERTICAL_CENTER;\n        break;\n    default:\n        alignment = VERTICAL_CENTER;\n    }\n    return { alignment, alignWith };\n}\nexport default class LegendComponent extends MuzeComponent {\n    constructor (params) {\n        super(params.name, params.config.measurement.legendSpace, 0);\n        this.setParams(params);\n    }\n\n    renderLegend (container) {\n        container = selectElement(container);\n        const sectionComponents = [];\n        const { position, classPrefix } = this.params.config;\n        const legendMount = makeElement(container, 'div', [this.components],\n                                        `${classPrefix}-inner-content`, {}, d => d);\n        legendMount.classed(`${classPrefix}-legend`, true);\n        const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n        const legWidth = this.newDimensions.width;\n        const legHeight = this.newDimensions.height;\n\n        [container, legendMount].forEach((elem) => {\n            elem.style('width', `${Math.floor(legWidth)}px`)\n                            .style('height', `${legHeight}px`)\n                            .style('float', LEFT);\n        });\n\n        if (align === VERTICAL) {\n            let sections = -1;\n            let currHeight = legHeight;\n            let currWidth = 0;\n\n            this.components.forEach((legendInfo) => {\n                const leg = legendInfo.legend;\n                if (leg.measurement().height > currHeight) {\n                    sections++;\n                    currWidth = 0;\n                    currHeight = legHeight;\n                } else {\n                    sections < 0 && sections++;\n                }\n                sectionComponents[sections] = sectionComponents[sections] || [];\n                currHeight -= Math.min(leg.measurement().height, currHeight);\n                currWidth = Math.max(Math.min(leg.measurement().width, leg.measurement().maxWidth), currWidth);\n                sectionComponents[sections].push({\n                    legend: leg,\n                    legendHeight: legHeight,\n                    legendWidth: currWidth\n                });\n            });\n\n            const mount = makeElement(legendMount, ['div'], sectionComponents, `${classPrefix}-legend-section`);\n            // mount.each((d, i) => selectElement(this).classed(`${classPrefix}-legend-section-${i}`, true));\n            mount.classed(`${classPrefix}-legend-vertical-section`, true)\n                            .style('width', d => `${d[0].legendWidth}px`);\n            makeElement(mount, ['div'], d => d, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                            .each(function (d) {\n                                d.legend.mount(this);\n                            })\n                            .style('width', d => `${d.legendWidth}px`);\n        } else {\n            const mount = makeElement(legendMount, 'div', [1], `${classPrefix}-legend-section`);\n            mount.classed(`${classPrefix}-legend-horizontal-section`, true);\n            mount.classed(`${classPrefix}-legend-section-${0}`, true)\n                            .style('width', `${legWidth}px`);\n\n            makeElement(mount, 'div', this.components, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                            .style('width', d => `${d.legend.measurement().width}px`)\n                            .each(function (d) { d.legend.mount(this); });\n        }\n    }\n\n    draw (container) {\n        this.renderLegend(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.measurement.legendSpace);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.components = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(params.config.position);\n        const { alignWith, alignment } = defaultAlignmentHelper(params.config.position);\n        this.className(params.config.className);\n        this.alignWith(params.config.alignWith || alignWith);\n        this.alignment(params.config.alignment || alignment);\n    }\n\n    setComponentInfo (params) {\n        const { rootNode } = params;\n        this.components.forEach((legendInfo) => {\n            const leg = legendInfo.legend;\n            leg.setParentInfo({ canvasRoot: rootNode });\n        });\n    }\n\n}\n","import { makeElement } from 'muze-utils';\nimport { cellSpanMaker, applySpans } from '../../../../layout/src/grid-layout/span-maker';\nimport { applyBorders } from '../../../../layout/src/grid-layout/border-helper';\nimport '../../border-applier.scss';\nimport {\n     TOP, CENTER\n} from '../../../../layout/src/enums/constants';\nimport MuzeComponent from './muze-chart-component';\nimport { WIDTH, HEIGHT, HIDDEN, OVERFLOW, AUTO, VISIBLE } from '../../constants';\n\nconst renderPlaceholders = (cells) => {\n    // Rendering content within placeholders\n    cells.each(function (cell) {\n        cell.placeholder.render(this);\n    });\n};\n\nexport default class MatrixComponent extends MuzeComponent {\n\n    constructor (params) {\n        super(params.name, params.config.dimensions, 0);\n        this.setParams(params);\n        this.className(params.config.className);\n    }\n\n    applyScroll (container) {\n        const row = this.params.config.row;\n        const column = this.params.config.column;\n        const { horizontal, vertical } = this.params.config.scrollInfo;\n        container.style(OVERFLOW, VISIBLE);\n        container.style(WIDTH, AUTO);\n        container.style(HEIGHT, AUTO);\n\n        if (horizontal && column === 1) {\n            container.style(OVERFLOW, HIDDEN);\n            container.style(WIDTH, '100%');\n        }\n\n        if (vertical && row === CENTER) {\n            container.style(OVERFLOW, HIDDEN);\n            container.style(HEIGHT, '100%');\n        }\n    }\n\n    renderMatrix (mountPoint) {\n        const { classPrefix, row, column, dimensions, border, isFacet, showHeaders } = this.params.config;\n\n        // Creating containers for each matrix individually\n        const containerForMatrix = makeElement(mountPoint, 'div', [1], `${classPrefix}-grid-${row}-${column + 1}`)\n            .classed(`${classPrefix}-grid-${row}`, true)\n            .classed(`${classPrefix}-grid`, true);\n\n        this.applyScroll(containerForMatrix);\n\n        const {\n            viewMatrix,\n            spans\n        } = cellSpanMaker(this.component, row, column);\n\n        // Rendering the table components\n        const { cells } = this.renderTable(containerForMatrix, `${classPrefix}-grid`, viewMatrix);\n\n        applySpans(cells, spans, { dimensions, border }, `${row}-${column}`);\n        renderPlaceholders(cells);\n\n        cells.exit().each((cell) => {\n            cell.placeholder.remove();\n        });\n\n        applyBorders({ cells, border, row, column, isFacet, showHeaders });\n    }\n\n    renderTable (mount, className, rowData) {\n        const table = makeElement(mount, 'table', ['layout'], `${className}-table`);\n        const body = makeElement(table, 'tbody', ['layout'], `${className}-body`);\n        const rows = makeElement(body, 'tr', rowData, `${className}-tr`);\n        const cells = makeElement(rows, 'td',\n            (d, i) => d.filter(e => e !== null).map(e =>\n                ({ placeholder: e, rowIndex: i })), `${className}-td`, {\n                    update: (elem, cell) => {\n                        const { externalClassname } = cell.placeholder.config();\n                        externalClassname && externalClassname.map(d => elem.classed(`${className}-${d}`, true));\n                    }\n                }, key => key.placeholder.id);\n\n        return { table, body, rows, cells };\n    }\n\n    draw (container) {\n        this.renderMatrix(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.dimensions);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(TOP);\n        this.className(params.config.className);\n    }\n}\n","import { selectElement, makeElement, applyStyle } from 'muze-utils';\nimport MuzeComponent from './muze-chart-component';\nimport { incorrectMessageIcon } from './message-icon';\nimport { MESSAGE_CONFIG } from '../defaults';\n\nconst formatFontSize = (width, height) => {\n    const { baseFontLimit, upperFontLimit, baseSizeLimit, upperSizeLimit } = MESSAGE_CONFIG;\n    const fractionFont = (upperSizeLimit - baseSizeLimit) / (upperFontLimit - baseFontLimit);\n    let fontSize = upperFontLimit;\n    const dim = width < height && width !== 0 ? width : height;\n\n    if (dim === 0) {\n        fontSize = 0;\n    } else if (dim <= baseSizeLimit) {\n        fontSize = baseFontLimit;\n    } else if (dim > baseSizeLimit && dim < upperSizeLimit) {\n        fontSize = baseFontLimit + (upperSizeLimit - dim) / fractionFont;\n    }\n    return fontSize;\n};\n\nexport default class MessageComponent extends MuzeComponent {\n    constructor (params) {\n        super(params.name, params.config.dimensions, 0);\n        this.setParams(params);\n    }\n\n    render (container) {\n        const parent = selectElement(container);\n\n        const { config } = this.params;\n        const { className } = config.classPrefix;\n\n        const node = makeElement(parent, 'div', [1], className);\n        const { height, width } = config.dimensions;\n        const childHeight = height > MESSAGE_CONFIG.baseSizeLimit ? MESSAGE_CONFIG.fractionChild * height : 0;\n        const { message } = config;\n\n        applyStyle(node, { width: `${width}px`, height: `${height}px` });\n\n        const childNode = makeElement(node, 'div', [1], `${className}-child`);\n        const imageNode = makeElement(childNode, 'div', [1], `${className}-child-img`);\n        const messageNode = makeElement(childNode, 'div', [1], `${className}-child-message`);\n\n        applyStyle(childNode, { width, height: `${childHeight}px` });\n        applyStyle(imageNode, { width, height: `${childHeight * MESSAGE_CONFIG.fractionImage}px` });\n\n        imageNode.html(incorrectMessageIcon);\n\n        const textElement = makeElement(messageNode, 'text', [1]);\n        applyStyle(messageNode, { 'font-size': `${formatFontSize(width, height)}px` });\n\n        textElement.html(message);\n    }\n\n    draw (container) {\n        this.render(container || document.getElementById(this.renderAt()));\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.boundBox(params.config.dimensions);\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        const { target, className } = params.config;\n        this.component = params.component;\n        this.params = params;\n        this.target(target);\n        this.className(className);\n        this.position(params.config.position);\n        return this;\n    }\n}\n","export const incorrectMessageIcon = `<svg width=\"215px\" height=\"199px\" viewBox=\"0 0 215 199\" \nversion=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<!-- Generator: Sketch 60.1 (88133) - https://sketch.com -->\n\n<title>Group 23</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <polygon id=\"path-1\" points=\"0.149161328 0.420711883 72.119 0.420711883 \n        72.119 71.9995421 0.149161328 71.9995421\"></polygon>\n        <polygon id=\"path-3\" points=\"0 0.08 186.190753 0.08 186.190753 88.592 0 88.592\"></polygon>\n    </defs>\n    <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g id=\"Group-23\" transform=\"translate(0.000000, -1.000000)\">\n            <g id=\"Group-3\" transform=\"translate(142.000000, 127.920000)\">\n                <mask id=\"mask-2\" fill=\"white\">\n                    <use xlink:href=\"#path-1\"></use>\n                </mask>\n                <g id=\"Clip-2\"></g>\n                <path d=\"M0.163,36.1555 C0.163,28.8495 0.126,21.5445 0.173,14.2395 \n                C0.226,6.1165 4.776,0.7895 12.76,0.6405 C28.362,0.3505 43.979,0.3335 \n                59.58,0.6735 C67.574,0.8475 72.079,6.2375 72.096,14.3735 C72.125,28.9835 \n                72.129,43.5935 72.094,58.2045 C72.074,66.4205 67.223,71.7225 58.955,71.8405 \n                C43.682,72.0565 28.4,72.0515 13.128,71.8315 C4.928,71.7135 0.221,66.4315 \n                0.172,58.0705 C0.129,50.7655 0.163,43.4605 0.163,36.1555\" id=\"Fill-1\" \n                fill=\"#8c8d8e\" mask=\"url(#mask-2)\"></path>\n            </g>\n            <g id=\"Group-6\" transform=\"translate(0.000000, 0.920000)\">\n                <mask id=\"mask-4\" fill=\"white\">\n                    <use xlink:href=\"#path-3\"></use>\n                </mask>\n                <g id=\"Clip-5\"></g>\n                <path d=\"M183.4677,4.615 C174.5697,3.72 165.6917,2.607 156.8037,1.597 C152.7477,1.136 \n                147.5417,-0.986 144.9347,0.755 C142.0737,2.664 143.7187,8.515 142.6187,12.488 C141.7057,\n                15.785 143.1607,16.531 146.0297,16.716 C149.3127,16.928 152.5717,17.483 156.6277,17.987 \n                C137.8927,32.589 119.9087,46.473 102.1267,60.61 C99.4257,62.757 98.2077,62.204 96.1947,\n                60.05 C85.5357,48.644 74.6947,37.409 64.0607,25.979 C61.8547,23.608 60.5757,23.002 57.8627,\n                25.586 C51.9777,31.188 45.6137,36.286 39.4547,41.6 C26.7597,52.553 14.0947,63.54 1.3487,\n                74.433 C-0.2963,75.838 -0.4833,76.732 1.0457,78.354 C4.1127,81.609 6.9717,85.061 10.0567,\n                88.592 C26.7507,74.17 43.3037,59.87 59.9757,45.469 C71.5287,57.708 82.9977,69.719 94.2677,\n                81.914 C96.5347,84.368 98.0097,84.604 100.6707,82.492 C116.3907,70.016 132.2397,57.704 \n                148.0587,45.353 C153.9727,40.736 159.9197,36.162 165.9517,31.491 C167.0647,36.458 163.2367,\n                42.055 165.8357,44.513 C168.4597,46.994 174.2387,46.065 178.6037,46.814 C180.5447,47.148 \n                181.1657,46.627 181.4047,44.671 C182.9067,32.336 184.5297,20.016 186.1377,7.696 C186.4127,\n                5.593 185.6327,4.833 183.4677,4.615\" id=\"Fill-4\" fill=\"#8c8d8e\" mask=\"url(#mask-4)\"></path>\n            </g>\n            <path d=\"M68.7436,89.5418 C63.2716,89.6988 57.7836,89.7768 52.3196,89.5178 C49.1866,89.3688 \n            48.3926,90.4028 48.4386,93.4328 C48.6076,104.5468 48.5056,115.6668 48.5056,126.7838 C48.5056,\n            138.0668 48.5916,149.3518 48.4436,160.6328 C48.4076,163.4118 49.1436,164.3578 52.0056,164.2518 \n            C57.8066,164.0398 63.6226,164.0938 69.4276,164.2338 C71.7586,164.2898 72.5516,163.6408 72.5416,\n            161.1938 C72.4536,138.4608 72.4326,115.7288 72.556775,92.9968 C72.5736,89.9318 71.3526,89.4668 \n            68.7436,89.5418\" id=\"Fill-7\" fill=\"#8c8d8e\"></path>\n            <path d=\"M144.3769,91.2962 C138.9019,91.4772 133.4019,91.5912 127.9409,91.2652 C124.4229,91.0562 \n            123.8999,92.4662 123.9449,95.5182 C124.1039,106.3102 124.0069,117.1072 124.0069,127.9012 C124.0079,\n            137.3672 124.0079,146.8332 124.0079,156.3002 C124.0079,164.4422 124.0079,164.3082 132.1549,\n            164.2632 C134.9749,164.2472 135.8559,163.4702 135.7569,160.6292 C135.5449,154.6582 135.6479,\n            148.6742 135.6999,142.6952 C135.7679,135.0662 138.3559,128.6922 145.3599,124.8822 C147.2959,\n            123.8292 147.7519,122.5322 147.7349,120.5452 C147.6649,111.9092 147.6109,103.2722 147.7569,\n            94.6382 C147.8009,92.0132 146.9799,91.2102 144.3769,91.2962\" id=\"Fill-9\" fill=\"#8c8d8e\"></path>\n            <path d=\"M110.3095,117.074 C110.3265,114.616 109.4485,113.950948 107.1345,113.998 C101.3365,\n            114.117 95.5265,114.204 89.7365,113.96 C86.7245,113.833 86.2185,115.041 86.2735,117.672 C86.4225,\n            124.795 86.3255,131.923 86.3245,139.049 C86.3245,146.34 86.4355,153.634 86.2645,160.922 C86.2035,\n            163.546 86.9745,164.336 89.6015,164.249 C95.3955,164.057 101.2015,164.133 107.0005,164.217 C109.1175,\n            164.247 110.3385,163.986 110.3185,161.321 C110.2015,146.573 110.2115,131.823 110.3095,117.074\" \n            id=\"Fill-11\" fill=\"#8c8d8e\"></path>\n            <path d=\"M31.1347,116.1951 C25.3367,116.4001 19.5237,116.3591 13.7217,116.2131 C11.2637,116.1521 \n            10.6717,117.0871 10.6857,119.3921 C10.7747,133.3221 10.7877,147.2541 10.6847,161.1851 C10.6667,163.6601 \n            11.5637,164.2771 13.8597,164.2291 C19.6617,164.1061 25.4757,164.0161 31.2717,164.2601 C34.2827,164.3871 \n            34.7937,163.2071 34.7267,160.5531 C34.5597,153.9241 34.6717,147.2871 34.6717,140.6531 C34.6717,133.6881 \n            34.5377,126.7181 34.7367,119.7581 C34.8177,116.9131 33.9317,116.0961 31.1347,116.1951\" id=\"Fill-13\" \n            fill=\"#8c8d8e\"></path>\n            <path d=\"M182.5937,62.2083 C175.8157,62.4493 169.0307,62.4883 162.2477,62.6073 L162.2467,62.6073 \n            C161.0087,63.1583 161.4327,64.2813 161.4317,65.1903 C161.4087,83.2963 161.4087,101.4033 161.4347,\n            119.5103 C161.4357,120.4033 160.9787,121.5473 162.2837,122.0423 C169.0747,122.1203 175.8697,122.1063 \n            182.6567,122.3223 C185.0277,122.3973 185.2947,121.3543 185.2887,119.3853 C185.2347,101.3103 \n            185.2377,83.2343 185.290773,65.1593 C185.2967,63.1633 184.9367,62.1253 182.5937,62.2083\" \n            id=\"Fill-15\" fill=\"#8c8d8e\"></path>\n            <path d=\"M178.6747,133.095 C186.1527,133.096 193.6297,133.02 201.1057,133.12 C206.6837,133.197 \n            209.9207,136.107 209.9837,141.656 C210.1537,156.606 210.1427,171.56 209.9877,186.51 C209.9317,\n            192.015 206.6527,195.159 201.1977,195.197 C185.9127,195.303 170.6257,195.306 155.3397,195.216 \n            C149.4057,195.182 146.3497,192.185 146.3107,186.367 C146.2127,171.582 146.2197,156.795 146.3047,\n            142.01 C146.3387,136.149 149.3577,133.194 155.2477,133.118 C163.0557,133.019 170.8657,133.094 \n            178.6747,133.095\" id=\"Fill-17\" fill=\"#fbc0af\"></path>\n            <path d=\"M186.1288,150.0833 C184.6798,156.9563 182.9098,165.3223 181.1508,173.6913 C180.7868,\n            175.4293 179.7388,176.1553 177.9798,176.1143 C176.1458,176.0713 175.3328,175.0033 174.9608,\n            173.4093 C173.0558,165.2363 171.0608,157.0593 170.2818,148.6993 C169.8138,143.6663 173.1078,\n            140.3553 177.7748,140.2323 C182.7748,140.1013 186.1058,143.4083 186.1288,150.0833\" \n            id=\"Fill-19\" fill=\"#FDFDFC\"></path>\n            <path d=\"M177.7314,188.0823 C175.7614,187.9153 174.3044,186.6683 174.3184,184.3533 C174.3334,\n            182.0403 175.8334,180.6253 178.1304,180.6793 C180.3624,180.7313 182.0564,182.0443 181.9314,\n            184.4023 C181.8194,186.5383 180.5864,188.1203 177.7314,188.0823\" id=\"Fill-21\" fill=\"#FCF6F3\"></path>\n        </g>\n    </g>\n    </svg>`;\n","import { LayoutComponent } from '../../../../layout/src/tree-layout';\n\nexport default class MuzeComponent extends LayoutComponent {\n    getLogicalSpace () {\n        const { width, height } = this.boundBox();\n        return { width, height };\n    }\n\n    setSpatialConfig (conf) {\n        this.boundBox({ top: conf.y, left: conf.x });\n        this.newDimensions = {\n            width: conf.width,\n            height: conf.height\n        };\n        this.renderAt(conf.renderAt);\n    }\n\n    getBoundBox () {\n        return this.boundBox();\n    }\n\n    updateWrapper () {\n        throw Error('Update is not implemented');\n    }\n\n    setParams () {\n        throw Error('set params is not implemented');\n    }\n\n    setComponentInfo () {\n        throw Error('setComponentInfo is not implemented');\n    }\n}\n","import {\n    selectElement,\n    makeElement,\n    getD3Drag,\n    getEvent,\n    getWindow,\n    hasTouch\n} from 'muze-utils';\nimport './scroll-bar.scss';\nimport { WIDTH, HEIGHT } from '../../../constants';\n\nconst d3Drag = getD3Drag();\n\nconst arrowSizeMap = {\n    left: WIDTH,\n    right: WIDTH,\n    top: HEIGHT,\n    bottom: HEIGHT\n};\n\nexport const getUnitPositions = (unitMeasures, totalLength, viewLength) => {\n    let currentLen = 0;\n    const measures = unitMeasures.primary && unitMeasures.primary.length ?\n        unitMeasures.primary : unitMeasures.secondary;\n\n    return measures.map((e) => {\n        const unitPosition = currentLen * 100 / (totalLength - viewLength);\n        currentLen += e;\n        return unitPosition;\n    });\n};\n\nexport const createScrollBarArrow = (mount, type, config) => {\n    const {\n        classPrefix,\n        thickness\n    } = config;\n    const arrow = makeElement(mount, 'div', [type], `${classPrefix}-scroll-arrow-${type}`);\n\n    arrow.classed(`${classPrefix}-scroll-arrow`, true);\n    arrow.style(arrowSizeMap[type], `${thickness}px`);\n\n    const chevron = makeElement(arrow, 'div', [1], `${classPrefix}-scroll-arrow-chevron`);\n\n    chevron.attr('id', `${classPrefix}-scroll-arrow-chevron-${type}`);\n\n    return arrow;\n};\n\nexport const createScrollBarRect = (mount, config) => {\n    const {\n        classPrefix\n    } = config;\n    const rect = makeElement(mount, 'div', [1], `${classPrefix}-scroll-rect`);\n    const mover = makeElement(rect, 'div', [1], `${classPrefix}-scroll-mover`);\n\n    return { rect, mover };\n};\n\nexport const applyRectClick = (scrollMaker, moverRect) => {\n    const {\n        rect\n    } = moverRect;\n\n    rect.on('click', () => {\n        const event = getEvent();\n        scrollMaker.emptyScrollAreaClick(event);\n    });\n};\n\nconst applyMoverDrag = (scrollMaker, moverRect) => {\n    let startPos = {};\n    let moverStartPos = 0;\n    let rectStartPos = 0;\n    let endPos = {};\n    const {\n        mover,\n        rect\n    } = moverRect;\n\n    mover.call(d3Drag()\n                    .on('start', () => {\n                        const event = getEvent();\n\n                        moverStartPos = mover.node().getBoundingClientRect();\n                        rectStartPos = rect.node().getBoundingClientRect();\n                        startPos = {\n                            x: event.x,\n                            y: event.y\n                        };\n                    })\n                    .on('drag', () => {\n                        const event = getEvent();\n                        const window = getWindow();\n\n                        endPos = {\n                            x: event.x,\n                            y: event.y\n                        };\n                        const distanceMoved = {\n                            x: endPos.x - startPos.x,\n                            y: endPos.y - startPos.y\n                        };\n                        const actualPosition = {\n                            x: moverStartPos.x + distanceMoved.x - rectStartPos.x + window.pageXOffset,\n                            y: moverStartPos.y + distanceMoved.y - rectStartPos.y + window.pageYOffset\n                        };\n\n                        scrollMaker.changeMoverPosition(actualPosition);\n                    }));\n};\n\nconst applyScrollMouseDownAction = (moverRect, scrollMaker, speed) => {\n    const {\n        mover,\n        rect\n    } = moverRect;\n    const { x, y } = mover.node().getBoundingClientRect();\n    const { x: rectX, y: rectY } = rect.node().getBoundingClientRect();\n\n    scrollMaker.changeMoverPosition({ x: x - rectX + speed, y: y - rectY + speed });\n};\n\nconst registerListenerOnArrow = (scrollMaker, moverRect, arrowType, speed) => {\n    let timer = '';\n    const arrow = scrollMaker._components[arrowType];\n    const isTouchDevice = hasTouch();\n\n    arrow.on(isTouchDevice ? 'touchstart' : 'mousedown', () => {\n        const event = getEvent();\n\n        event.preventDefault();\n\n        timer = setInterval(() => {\n            applyScrollMouseDownAction(moverRect, scrollMaker, speed);\n        }, 100);\n    }).on(isTouchDevice ? 'touchend' : 'mouseup', () => {\n        const event = getEvent();\n\n        event.preventDefault();\n\n        clearInterval(timer);\n    }).on('click', () => {\n        applyScrollMouseDownAction(moverRect, scrollMaker, speed);\n    });\n};\n\nexport const registerListeners = (scrollMaker) => {\n    const {\n        moverRect\n    } = scrollMaker._components;\n\n    const speed = scrollMaker.config().speed;\n\n    registerListenerOnArrow(scrollMaker, moverRect, 'prevArrow', -speed);\n    applyMoverDrag(scrollMaker, moverRect);\n    applyRectClick(scrollMaker, moverRect);\n    registerListenerOnArrow(scrollMaker, moverRect, 'nextArrow', speed);\n};\n\nexport const scrollContainerHelper = (mountPoint, config, dimensions, type) => {\n    const {\n        classPrefix\n    } = config;\n    const scrollBarContainer = makeElement(selectElement(mountPoint), 'div', [1], `#${classPrefix}-scroll-bar-${type}`);\n\n    scrollBarContainer.classed(`${classPrefix}-scroll-bar`, true);\n    scrollBarContainer.style(WIDTH, `${dimensions.width}px`);\n    scrollBarContainer.style(HEIGHT, `${dimensions.height}px`);\n    return scrollBarContainer;\n};\n\n","import { ScrollMaker } from './scroll-maker';\nimport { createScrollBarRect, createScrollBarArrow, getUnitPositions } from './helper';\nimport { HORIZONTAL, HEIGHT, WIDTH, LEFT } from '../../../constants';\n\nexport class HorizontalScrollMaker extends ScrollMaker {\n\n    /**\n     * Describes the type of the ScrollMaker\n     *\n     * @public\n     *\n     * @return {String} Returns the type of scroll maker: horizontal\n     */\n    static type () {\n        return HORIZONTAL;\n    }\n\n    createScroll (mountPoint, dimensions = this.logicalSpace()) {\n        const config = this.config();\n        const { scrollBarContainer } = super.createScroll(mountPoint, config, dimensions);\n        const prevArrow = createScrollBarArrow(scrollBarContainer, 'left', config);\n        const moverRect = createScrollBarRect(scrollBarContainer, config);\n        const nextArrow = createScrollBarArrow(scrollBarContainer, 'right', config);\n        const {\n            mover,\n            rect\n        } = moverRect;\n\n        const { height, width, totalLength, viewLength, unitWidths } = this.logicalSpace();\n        const scrollBarWithouArrowLength = width - height * 2;\n\n        rect.style(WIDTH, `${dimensions.width - height * 2}px`);\n        rect.style(HEIGHT, `${100}%`);\n        mover.style(WIDTH, `${(viewLength * scrollBarWithouArrowLength) / totalLength}px`);\n        mover.style(HEIGHT, `${100}%`);\n        mover.style(LEFT, `${0}px`);\n\n        this._components = {\n            prevArrow,\n            nextArrow,\n            moverRect,\n            scrollBarContainer\n        };\n        this._scrollBarWithouArrowLength = scrollBarWithouArrowLength;\n        this.unitPositions(getUnitPositions(unitWidths, totalLength, viewLength));\n        this.registerListeners();\n    }\n\n    emptyScrollAreaClick (event) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const speed = this.config().speed;\n        const { x, y } = mover.node().getBoundingClientRect();\n        const { x: rectX, y: rectY } = rect.node().getBoundingClientRect();\n        let positionAdjuster = speed * 10;\n        if (event.x < x) {\n            positionAdjuster = -speed * 10;\n        }\n        this.changeMoverPosition({ x: x - rectX + positionAdjuster, y: y - rectY + positionAdjuster });\n    }\n\n    changeMoverPosition (newPosition) {\n        let currentPos;\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const rectStartPos = rect.node().getBoundingClientRect();\n        const moverPos = mover.node().getBoundingClientRect();\n        const {\n            totalLength\n         } = this.logicalSpace();\n\n        if (newPosition.x < 0) {\n            currentPos = 0;\n        } else if (newPosition.x + moverPos.width > rectStartPos.width) {\n            currentPos = rectStartPos.width - moverPos.width;\n        } else {\n            currentPos = newPosition.x;\n        }\n\n        mover.style(LEFT, `${currentPos}px`);\n        const totalDistance = this._scrollBarWithouArrowLength;\n        const movedViewLength = (currentPos * totalLength) / totalDistance;\n\n        this.manager().performAttachedScrollFunction(this.constructor.type(), movedViewLength);\n    }\n\n    scrollDeltaTo (delta) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const rectStartPos = rect.node().getBoundingClientRect();\n\n        this.changeMoverPosition({ y: 0, x: moverPos.x - rectStartPos.x - delta });\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page. The input is provided as a percentage (0 - 100)\n     *\n     * @public\n     *\n     * @param {number} scrollPercentage Its the percentage based on which the scroll action will occur\n     * @return {HorizontalScrollMaker} Instance of the HorizontalScrollMaker\n     */\n    scrollTo (scrollPercentage) {\n        const {\n            mover\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const movement = (scrollPercentage * (this._scrollBarWithouArrowLength - moverPos.width)) / 100;\n\n        this.changeMoverPosition({ y: 0, x: movement });\n        return this;\n    }\n\n}\n\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n\n    config: {\n        sanitization: (context, value) => {\n            value = mergeRecursive(context._config, value);\n            return value;\n        }\n    },\n    manager: {},\n    unitPositions: {},\n    logicalSpace: {}\n};\n\n","// extracted by mini-css-extract-plugin","import { ERROR_MSG, generateGetterSetters } from 'muze-utils';\nimport {\n    scrollContainerHelper,\n    registerListeners\n} from './helper';\nimport { PROPS } from './props';\n\nexport class ScrollMaker {\n\n    constructor () {\n        this._components = {};\n        this._logicalSpace = {};\n        this._attachedScrollAction = () => {};\n        this._config = {\n            thickness: 10,\n            speed: 2\n        };\n        this._unitPositions = null;\n\n        generateGetterSetters(this, PROPS);\n    }\n\n    static type () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    emptyScrollAreaClick () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    changeMoverPosition () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    scrollTo () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    scrollDeltaTo () {\n        throw new ERROR_MSG('Method not implemented');\n    }\n\n    createScroll (mountPoint) {\n        const config = this.config();\n\n        return {\n            scrollBarContainer: scrollContainerHelper(mountPoint, config, this.logicalSpace(), this.constructor.type())\n        };\n    }\n\n    attachScrollAction (externalScrollAction) {\n        this._attachedScrollAction = externalScrollAction;\n        return this;\n    }\n\n    detachScrollAction () {\n        this._attachedScrollAction = () => {};\n        return this;\n    }\n\n    getLogicalSpace () {\n        return this.logicalSpace();\n    }\n\n    registerListeners () {\n        registerListeners(this);\n        return this;\n    }\n\n    remove () {\n        this._components.scrollBarContainer.remove();\n        return this;\n    }\n}\n\n","import { ScrollMaker } from './scroll-maker';\nimport { createScrollBarRect, createScrollBarArrow, getUnitPositions } from './helper';\nimport { VERTICAL, TOP, HEIGHT, WIDTH } from '../../../constants';\n\nexport class VerticalScrollMaker extends ScrollMaker {\n\n    /**\n     * Describes the type of the ScrollMaker\n     *\n     * @public\n     *\n     * @return {String} Returns the type of scroll maker: vertical\n     */\n    static type () {\n        return VERTICAL;\n    }\n\n    createScroll (mountPoint, dimensions = this.logicalSpace()) {\n        const config = this.config();\n        const { scrollBarContainer } = super.createScroll(mountPoint, dimensions);\n        const prevArrow = createScrollBarArrow(scrollBarContainer, 'top', config);\n        const moverRect = createScrollBarRect(scrollBarContainer, config);\n        const nextArrow = createScrollBarArrow(scrollBarContainer, 'bottom', config);\n        const {\n            mover,\n            rect\n        } = moverRect;\n        const { height, width, totalLength, viewLength, unitHeights } = this.logicalSpace();\n        const scrollBarWithouArrowLength = height - width * 2;\n\n        rect.style(HEIGHT, `${scrollBarWithouArrowLength}px`);\n        rect.style(WIDTH, `${100}%`);\n        mover.style(WIDTH, `${100}%`);\n        mover.style(HEIGHT, `${(viewLength * scrollBarWithouArrowLength) / totalLength}px`);\n        mover.style(TOP, `${0}px`);\n\n        this._components = {\n            prevArrow,\n            nextArrow,\n            moverRect,\n            scrollBarContainer\n        };\n        this._scrollBarWithouArrowLength = scrollBarWithouArrowLength;\n\n        this.unitPositions(getUnitPositions(unitHeights, totalLength, viewLength));\n        this.registerListeners();\n    }\n\n    emptyScrollAreaClick (event) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const speed = this.config().speed;\n        const { x, y } = mover.node().getBoundingClientRect();\n        const { x: rectX, y: rectY } = rect.node().getBoundingClientRect();\n\n        let positionAdjuster = speed * 10;\n        if (event.y < y) {\n            positionAdjuster = -speed * 10;\n        }\n        this.changeMoverPosition({ x: x - rectX + positionAdjuster, y: y - rectY + positionAdjuster });\n    }\n\n    changeMoverPosition (newPosition) {\n        let currentPos;\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const {\n            totalLength\n         } = this.logicalSpace();\n        const rectStartPos = rect.node().getBoundingClientRect();\n        const moverPos = mover.node().getBoundingClientRect();\n\n        if (newPosition.y < 0) {\n            currentPos = 0;\n        } else if (newPosition.y + moverPos.height > rectStartPos.height) {\n            currentPos = rectStartPos.height - moverPos.height;\n        } else {\n            currentPos = newPosition.y;\n        }\n        mover.style(TOP, `${currentPos}px`);\n        const totalDistance = this._scrollBarWithouArrowLength;\n        const movedViewLength = (currentPos * totalLength) / totalDistance;\n\n        this.manager().performAttachedScrollFunction(this.constructor.type(), movedViewLength);\n    }\n\n    /**\n     * Scrolls based on the actual pixel value provided. Since it's a delta change, the input will be\n     * a delta between (-Infinity, Infinity), based on which the scroll will occur. Only a delta movement in\n     * scroll occurs\n     *\n     * @public\n     *\n     * @param {number} delta Based on which the scroll will have a delta change in position\n     * @return {VerticalScrollMaker} Instance of the VerticalScrollMaker\n     */\n    scrollDeltaTo (delta) {\n        const {\n            mover,\n            rect\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const rectStartPos = rect.node().getBoundingClientRect();\n\n        this.changeMoverPosition({ y: moverPos.y - rectStartPos.y - delta, x: 0 });\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page. The input is provided as a percentage (0 - 100)\n     *\n     * @public\n     *\n     * @param {number} scrollPercentage Its the percentage based on which the scroll action will occur\n     * @return {VerticalScrollMaker} Instance of the VerticalScrollMaker\n     */\n    scrollTo (scrollPercentage) {\n        const {\n            mover\n        } = this._components.moverRect;\n        const moverPos = mover.node().getBoundingClientRect();\n        const movement = (scrollPercentage * (this._scrollBarWithouArrowLength - moverPos.height)) / 100;\n\n        this.changeMoverPosition({ x: 0, y: movement });\n        return this;\n    }\n\n}\n","import MuzeComponent from './muze-chart-component';\nimport { HorizontalScrollMaker } from './scroll-bar-maker/horizontal-scroll-maker';\nimport { VerticalScrollMaker } from './scroll-bar-maker/vertical-scroll-maker';\n\nconst scrollMakerMap = {\n    horizontal: HorizontalScrollMaker,\n    vertical: VerticalScrollMaker\n};\n\n/**\n * Scroll Component acts as a wrapper over the scoll bars created using the respective Scroll Makers\n * This provides a consistent API for layouting using the tree layout system.\n *\n *\n * @class\n * @public\n * @module ScrollComponent\n */\nexport default class ScrollComponent extends MuzeComponent {\n\n    constructor (params) {\n        const ScrollMaker = scrollMakerMap[params.config.type];\n\n        params.component = new ScrollMaker();\n        params.component.config(params.config.scrollBarComponentConfig);\n        params.component.logicalSpace(params.dimensions);\n        super(params.name, params.component.getLogicalSpace(), 0);\n        this.setParams(params);\n    }\n\n    manager (...manager) {\n        if (manager.length) {\n            this.component.manager(manager[0]);\n            return this;\n        }\n        return this.component.manager();\n    }\n\n    /**\n     * Scrolls based on the actual pixel value provided. Since it's a delta change, the input will be\n     * a delta between (-Infinity, Infinity), based on which the scroll will occur. Only a delta movement in\n     * scroll occurs\n     *\n     * @public\n     *\n     * @param {number} delta Based on which the scroll will have a delta change in position\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    scrollDeltaTo (delta) {\n        this.component.scrollDeltaTo(delta);\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page. The input is provided as a percentage (0 - 100)\n     *\n     * @public\n     *\n     * @param {number} scrollPercentage Its the percentage based on which the scroll action will occur\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    scrollTo (scrollPercentage) {\n        this.component.scrollTo(scrollPercentage);\n        return this;\n    }\n\n    /**\n     * Scrolls to the specific point in the page based on the unit index.\n     * The input is provided as a number represting the index for the unit.\n     * For vertical scroll, it's the row index that will be required.\n     * For horizontal scroll, it's the column index that will be required\n     *\n     * @public\n     *\n     * @param {number} unitIndex Index of the unit appearing in the grid\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    scrollToUnitIndex (unitIndex) {\n        const unitPositions = this.component.unitPositions();\n        const sanitizedUnitIndex = Math.min(Math.max(0, unitIndex), unitPositions.length - 1);\n        this.component.scrollTo(unitPositions[sanitizedUnitIndex]);\n        return this;\n    }\n\n    /**\n     * Provides the positions of the units(either horizontal or vertical based on the type\n     * of scroll bar it wraps) relative to it's container. The position of the first unit starts at 0\n     *\n     *\n     * @public\n     *\n     * @return {Array} Positions of units either horizontal or vertical\n     */\n    getScrollPositionsForUnits () {\n        return this.component.unitPositions();\n    }\n\n    draw (container) {\n        this.component.createScroll(container || document.getElementById(this.renderAt()));\n        return this;\n    }\n\n    /**\n     * Can be used to attach a scroll action whenever scrolling occurs in the canvas\n     *\n     * @public\n     * @param {number} externalAction Action to be attached during scroll\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    attachScrollAction (externalAction) {\n        this.component.attachScrollAction(externalAction);\n        return this;\n    }\n\n    /**\n     * Can be used to detach the scroll action already bound to the scroll bar\n     *\n     * @public\n     * @return {ScrollComponent} Instance of the ScrollComponent\n     */\n    detachScrollAction () {\n        this.component.detachScrollAction();\n        return this;\n    }\n\n    updateWrapper (params) {\n        this.name(params.name);\n        this.component.config(params.config.scrollBarComponentConfig);\n        this.component.logicalSpace(params.dimensions);\n        this.boundBox(this.component.getLogicalSpace());\n        this.setParams(params);\n        return this;\n    }\n\n    setParams (params) {\n        this.component = params.component || this.component;\n        this.params = params;\n        this.target(params.config.target);\n        this.position(params.config.position);\n        this.className(params.config.className);\n        this.alignWith(params.config.alignWith);\n        this.alignment(params.config.alignment);\n    }\n\n    remove () {\n        this.component.remove();\n    }\n}\n","import { MUZE_PREFIX } from '../constants';\n\nexport const TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 4,\n    className: `${MUZE_PREFIX}-title-container`\n};\n\nexport const SUB_TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 16,\n    maxLines: 2,\n    className: `${MUZE_PREFIX}-subtitle-container`\n};\n\nexport const MESSAGE_CONFIG = {\n    className: `${MUZE_PREFIX}-message-container`,\n    baseFontLimit: 16,\n    upperFontLimit: 24,\n    baseSizeLimit: 100,\n    upperSizeLimit: 300,\n    fractionImage: 0.8,\n    fractionChild: 0.7\n};\n\nexport const CANVAS = 'canvas';\n","import {\n    FieldType,\n    mergeRecursive,\n    CommonProps,\n    ReservedFields\n} from 'muze-utils';\nimport { Firebolt, getSideEffects } from '@chartshq/muze-firebolt';\nimport { createMapByDimensions } from '@chartshq/visual-unit/src/firebolt/helper';\nimport {\n    payloadGenerator,\n    isSideEffectEnabled,\n    sanitizePayloadCriteria,\n    prepareSelectionSetMap\n} from '@chartshq/visual-unit';\nimport { TOOLTIP } from '@chartshq/muze-firebolt/src/enums/side-effects';\nimport { FRAGMENTED } from '@chartshq/muze-firebolt/src/enums/constants';\nimport { applyInteractionPolicy } from '../helper';\nimport {\n    propagateValues,\n    isCrosstab,\n    addSelectedMeasuresInPayload,\n    resetSelectAction,\n    dispatchBehaviours,\n    attachBehaviours\n} from './helper';\nimport { COMMON_INTERACTION } from '../../constants';\n\nconst setSideEffectConfig = (firebolt) => {\n    const tooltipSideEffect = firebolt.sideEffects().tooltip;\n    const allFields = firebolt.context.composition().visualGroup.resolver().getAllFields();\n\n    if (isCrosstab(allFields)) {\n        tooltipSideEffect.config({\n            selectionSummary: {\n                order: 1,\n                className: 'tooltip-content-container-selectionSummary-crosstab',\n                showMultipleMeasures: true\n            },\n            highlightSummary: {\n                order: 0,\n                className: 'tooltip-content-container-highlightSummary-crosstab'\n            }\n        });\n    } else {\n        tooltipSideEffect.config({\n            selectionSummary: {\n                order: 0,\n                className: 'tooltip-content-container-selectionSummary-default',\n                showMultipleMeasures: false\n            },\n            highlightSummary: {\n                order: 1,\n                className: 'tooltip-content-container-highlightSummary-default'\n            }\n        });\n    }\n};\n\nconst prepareSelectionSetData = (group, dataModel) => {\n    const valueMatrix = group.matrixInstance().value;\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const dimensions = Object.values(fieldsConfig).filter(d => d.def.type === FieldType.DIMENSION);\n    const hasMeasures = Object.keys(dataModel.getFieldspace().getMeasure()).length;\n    const measureName = hasMeasures ? [ReservedFields.MEASURE_NAMES] : [];\n    const keys = {};\n    const dimensionsMap = {};\n    const unitDimsMap = {};\n\n    valueMatrix.each((cell) => {\n        const unit = cell.source();\n        const dm = unit.data();\n        const unitDims = dm.getSchema().filter(field => field.type === FieldType.DIMENSION).map(field => field.name);\n        const facetFields = Object.keys(unit.facetFieldsMap());\n\n        unitDimsMap[unitDims] = {\n            inst: unit,\n            dims: [...facetFields, ...unitDims]\n        };\n    });\n\n    const groupDataMap = {};\n\n    dataModel.getData().data.forEach((row) => {\n        for (const key in unitDimsMap) {\n            const { dims } = unitDimsMap[key];\n            const dimKey = dims.map(dim => row[fieldsConfig[dim].index]);\n            groupDataMap[dimKey] = row;\n        }\n    });\n\n    valueMatrix.each((cell) => {\n        const unit = cell.source();\n        const dm = unit.data();\n        const layers = unit.layers();\n        const unitDims = dm.getSchema().filter(field => field.type === FieldType.DIMENSION).map(field => field.name);\n        const facetMap = unit.facetFieldsMap();\n        const facetFields = Object.keys(facetMap);\n        const unitFieldsConfig = dm.getFieldsConfig();\n        const linkedRows = [];\n\n        dm.getData().data.forEach((row) => {\n            const dimKey = [...facetFields.map(field => facetMap[field]), ...unitDims.map(d =>\n                row[unitFieldsConfig[d].index])];\n            const linkedRow = groupDataMap[dimKey];\n\n            if (linkedRow) {\n                linkedRows.push(linkedRow);\n            }\n        });\n\n        prepareSelectionSetMap({\n            data: linkedRows,\n            uids: dm.getUids(),\n            dimensions\n        }, layers, {\n            keys,\n            dimensionsMap\n        });\n    });\n\n    const dimensionFields = dimensions.length ? [...dimensions.map(d => d.def.name)] :\n        [ReservedFields.ROW_ID];\n\n    return {\n        keys,\n        dimensionsMap,\n        dimensions: dimensionFields,\n        allFields: [...dimensionFields, ...measureName]\n    };\n};\n\nconst defaultCrossInteractionPolicy = {\n    behaviours: {\n        '*': (propagationPayload, firebolt) => {\n            const propagationCanvasAlias = propagationPayload.sourceCanvas;\n            const canvasAlias = firebolt.sourceCanvas();\n            return propagationCanvasAlias ? canvasAlias === propagationCanvasAlias : true;\n        }\n    },\n    sideEffects: {\n        '*': (propagationPayload, firebolt) => {\n            const propagationCanvasAlias = propagationPayload.sourceCanvas;\n            const canvasAlias = firebolt.sourceCanvas();\n            return propagationCanvasAlias ? canvasAlias === propagationCanvasAlias : true;\n        },\n        selectionBox: () => false\n    }\n};\n\n/**\n * This class is responsible for dispatching any behavioural action to all the visual units housed by the canvas.\n * It is created by {@link Canvas}. This class does not handle any physical actions. Physical actions get triggered\n * in {@link VisualUnit} which is managed by it's own firebolt instance. The firebolt instance of canvas only\n * propagates the action to all the visual units in it's composition.\n *\n * To get the firebolt instance of {@link Canvas}\n * ```\n *  const firebolt = canvas.firebolt();\n * ```\n *\n * @class GroupFireBolt\n * @public\n */\nexport default class GroupFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        this.payloadGenerators(payloadGenerator);\n        this._interactionPolicy = this.constructor.defaultInteractionPolicy();\n        this.crossInteractionPolicy(this.constructor.defaultCrossInteractionPolicy());\n    }\n\n    static defaultInteractionPolicy () {\n        return () => {};\n    }\n\n    static defaultCrossInteractionPolicy () {\n        return defaultCrossInteractionPolicy;\n    }\n\n    interactionPolicy (...policy) {\n        if (policy.length) {\n            this._interactionPolicy = policy[0] || this.constructor.defaultInteractionPolicy();\n            return this;\n        }\n        return this._interactionPolicy;\n    }\n\n    crossInteractionPolicy (...policy) {\n        if (policy.length) {\n            const context = this.context;\n            this._crossInteractionPolicy = mergeRecursive(mergeRecursive({},\n                this.constructor.defaultCrossInteractionPolicy()), policy[0] || {});\n\n            applyInteractionPolicy(this);\n            const throwback = context._throwback;\n            throwback.registerImmediateListener([CommonProps.MATRIX_CREATED], () => {\n                this.config(this.context.config().interaction);\n                applyInteractionPolicy(this);\n                const group = this.context.composition().visualGroup;\n                if (group) {\n                    setSideEffectConfig(this);\n\n                    const { keys, dimensions, dimensionsMap, allFields } = prepareSelectionSetData(group,\n                        group.getGroupByData());\n                    this._metaData = {\n                        dimensionsMap,\n                        dimensions,\n                        allFields\n                    };\n                    this.createSelectionSet({ keys, fields: dimensions });\n                    group.getGroupByData().on('propagation', (data, config) => {\n                        this.handleDataModelPropagation(data, config);\n                    });\n                    // Dispatch pseudo select behaviour for highlighting measures with common dimensions in crosstab\n                    attachBehaviours(group);\n                }\n            });\n            return this;\n        }\n        return this._crossInteractionPolicy;\n    }\n\n    handleDataModelPropagation (data, config) {\n        const group = this.context.composition().visualGroup;\n        const valueMatrix = group.matrixInstance().value;\n        const units = group.resolver().units();\n        const propagationData = data;\n        // @todo refactor this code\n        const {\n            enabled: enabledFn,\n            sourceIdentifiers,\n            action,\n            payload: propPayload\n        } = config;\n        const { interaction: { behaviours: behaviourConfs = {} } } = this.context.config();\n        const mode = behaviourConfs[action];\n        if (mode !== COMMON_INTERACTION) {\n            return this;\n        }\n\n        const payloadFn = this.getPayloadGeneratorFor(action);\n        const payload = payloadFn(this, propagationData, config);\n\n        const behaviourPolicies = this._behaviourPolicies;\n        const filterFns = Object.values(behaviourPolicies[action] || behaviourPolicies['*'] || {});\n        let enabled = filterFns.every(fn => fn(propPayload || {}, this, {\n            sourceIdentifiers,\n            propagationData\n        }));\n\n        if (enabledFn) {\n            enabled = enabledFn(config, this) && enabled;\n        }\n\n        if (enabled) {\n            const propagationInf = {\n                propagate: false,\n                data: propagationData,\n                propPayload,\n                sourceIdentifiers,\n                sourceId: config.propagationSourceId,\n                isMutableAction: config.isMutableAction\n            };\n\n            const behaviourEffectMap = this._behaviourEffectMap;\n            const sideEffects = getSideEffects(action, behaviourEffectMap);\n            const sideEffectInstances = this.sideEffects();\n            const { instance: unit = units[0][0] } =\n                valueMatrix.findPlaceHolderById(propPayload.sourceUnit) || {};\n\n            sideEffects.forEach(({ effects }) => {\n                effects.forEach((effect) => {\n                    const name = effect.name;\n                    const inst = sideEffectInstances[name];\n\n                    if (inst) {\n                        inst.sourceInfo(() => unit.getSourceInfo());\n                        inst.layers(() => unit.layers());\n                        inst.plotPointsFromIdentifiers((...params) =>\n                            unit.getPlotPointsFromIdentifiers(...params));\n                        inst.drawingContext(() => unit.getDrawingContext());\n                        inst.valueParser(unit.valueParser());\n                    }\n                });\n            });\n\n            if (propPayload.sourceUnit) {\n                addSelectedMeasuresInPayload(this, unit, payload);\n            }\n\n            this.dispatchBehaviour(action, payload, propagationInf);\n        }\n\n        return this;\n    }\n\n    registerSideEffects (sideEffects) {\n        for (const key in sideEffects) {\n            this._sideEffectDefinitions[sideEffects[key].formalName()] = sideEffects[key];\n        }\n        this.initializeSideEffects();\n\n        return this;\n    }\n\n    target () {\n        return 'visual-group';\n    }\n\n    mapActionsAndBehaviour () {\n        const unitMatrix = this.context.composition().visualGroup.matrixInstance().value;\n\n        unitMatrix.each((unit) => {\n            const firebolt = unit.source().firebolt();\n            firebolt.mapActionsAndBehaviour();\n        });\n\n        this.registerPhysicalActionHandlers();\n    }\n\n    registerPhysicalActionHandlers () {\n        const unitMatrix = this.context.composition().visualGroup.matrixInstance().value;\n\n        unitMatrix.each((cell) => {\n            const unit = cell.source();\n            const firebolt = unit.firebolt();\n\n            firebolt.onPhysicalAction('*', (event, payload) => {\n                this.handlePhysicalAction(event, payload, unit);\n            }, this.context.constructor.formalName());\n        });\n\n        return this;\n    }\n\n    handlePhysicalAction (event, payload, unit) {\n        const firebolt = unit.firebolt();\n        const { behaviours } = firebolt._actionBehaviourMap[event];\n        dispatchBehaviours(this, { behaviours, payload, unit });\n        // Reset select action when dragging is done. Remove this when brush and select will be unioned\n        resetSelectAction(this, { behaviours, payload, unit });\n    }\n\n    sanitizePayload (payload) {\n        const { criteria } = payload;\n        const { allFields: fields, dimensionsMap } = this._metaData;\n\n        return Object.assign({}, payload,\n            {\n                criteria: sanitizePayloadCriteria(criteria, fields, {\n                    dm: this.data(),\n                    dimensionsMap,\n                    dimsMapGetter: this._dimsMapGetter\n                })\n            });\n    }\n\n    createSelectionSet (...params) {\n        super.createSelectionSet(...params);\n\n        this._dimsMapGetter = createMapByDimensions(this, this.data());\n\n        return this;\n    }\n\n    id () {\n        return this.context.alias();\n    }\n\n    shouldApplySideEffects (propInf) {\n        return propInf.applySideEffect !== false;\n    }\n\n    data () {\n        return this.context.composition().visualGroup.getGroupByData();\n    }\n\n    getRangeFromIdentifiers ({ criteria, fields }) {\n        return fields.reduce((acc, v) => {\n            acc[v] = criteria[v];\n            return acc;\n        }, {});\n    }\n\n    propagate (behaviour, payload, identifiers, auxConfig = {}) {\n        propagateValues(this, behaviour, Object.assign({\n            payload,\n            identifiers,\n            propagationFields: this._propagationFields,\n            sourceId: this.id(),\n            sourceCanvasId: this.id(),\n            propagationDataSource: this.data()\n        }, auxConfig));\n    }\n\n    getPropagationSource () {\n        return this.data();\n    }\n\n    sourceCanvas () {\n        return this.context.alias();\n    }\n\n    getApplicableSideEffects (sideEffects, payload, propagationInf) {\n        if (payload.sideEffects) {\n            return [{\n                effects: payload.sideEffects,\n                behaviours: [payload.action]\n            }];\n        }\n        const { mode } = this.context.config().interaction.tooltip;\n        propagationInf.propPayload = propagationInf.propPayload || payload;\n        sideEffects.forEach((d) => {\n            let mappedEffects = d.effects;\n            mappedEffects = mappedEffects.filter((se) => {\n                if (se.name === TOOLTIP && mode === FRAGMENTED) {\n                    return false;\n                }\n                return isSideEffectEnabled(this, { se, propagationInf });\n            });\n            d.effects = mappedEffects;\n        });\n        return sideEffects;\n    }\n}\n","import { isSimpleObject, ReservedFields, FieldType } from 'muze-utils';\nimport { getSideEffects, BEHAVIOURS } from '@chartshq/muze-firebolt';\nimport { PSEUDO_SELECT } from '@chartshq/visual-unit/src/enums/behaviours';\nimport { COMMON_INTERACTION } from '../../constants';\n\nexport const addFacetDataAndMeasureNames = (data, facetData, measureNames) => {\n    if (data === null) {\n        return data;\n    }\n\n    const facets = Object.keys(facetData);\n    const facetVals = Object.values(facetData);\n\n    if (isSimpleObject(data)) {\n        return Object.assign({}, Object.keys(facetData).reduce((acc, v) => {\n            acc[v] = [facetData[v]];\n            return acc;\n        }, {}), data, {\n            [ReservedFields.MEASURE_NAMES]: measureNames\n        });\n    }\n    const criteriaFields = data[0];\n    const hasMeasureNameField = criteriaFields.find(field => field === ReservedFields.MEASURE_NAMES);\n    const fieldsWithFacets = [...facets, ...criteriaFields,\n        ...(hasMeasureNameField ? [] : [ReservedFields.MEASURE_NAMES])];\n\n    const dataWithFacets = [\n        fieldsWithFacets\n    ];\n\n    for (let i = 1, len = data.length; i < len; i++) {\n        let measureNameArr = [];\n        if (!hasMeasureNameField && measureNames) {\n            measureNameArr = measureNames;\n        }\n        const row = [...facetVals, ...data[i], ...measureNameArr];\n        dataWithFacets.push(row);\n    }\n    return dataWithFacets;\n};\n\nexport const propagateValues = (instance, action, config = {}) => {\n    const { payload, identifiers, sourceUnitId, sourceCanvasId, propagationDataSource } = config;\n    const dataModel = propagationDataSource;\n    const sideEfffects = instance._sideEffectDefinitions;\n    const behaviourEffectMap = instance._behaviourEffectMap;\n    const propagationBehaviourMap = instance._propagationBehaviourMap;\n    const propagationBehaviour = propagationBehaviourMap[action] || action;\n\n    payload.sourceUnit = sourceUnitId;\n    payload.action = action;\n    payload.sourceCanvas = sourceCanvasId;\n\n    const groupId = sourceCanvasId;\n\n    const filterFn = (entry, propagationConf) => {\n        const effects = behaviourEffectMap[entry.config.action];\n        const mutates = entry.config.groupId ?\n            (effects ? effects.some(d => sideEfffects[d.name || d].mutates()) : false) : true;\n        return entry.config.groupId !== propagationConf.groupId && mutates;\n    };\n\n    const sourceBehaviour = instance._actions.behavioural[action];\n    let isMutableAction = sourceBehaviour ? sourceBehaviour.constructor.mutates() : false;\n    const propConfig = {\n        payload,\n        action,\n        criteria: identifiers,\n        isMutableAction,\n        groupId,\n        sourceId: config.sourceId,\n        filterFn,\n        enabled: (propConf, firebolt) => (action !== propagationBehaviour ?\n            propConf.payload.sourceCanvas === firebolt.sourceCanvas() : true)\n    };\n\n    dataModel.propagate(identifiers, propConfig, true);\n\n    if (action !== propagationBehaviour) {\n        const behaviourInstance = instance._actions.behavioural[propagationBehaviour];\n        isMutableAction = behaviourInstance ? behaviourInstance.constructor.mutates() : false;\n\n        dataModel.propagate(identifiers, Object.assign({}, propConfig, {\n            isMutableAction,\n            applyOnSource: false,\n            action: propagationBehaviour,\n            sourceId: isMutableAction ? groupId : sourceUnitId,\n            enabled: (propConf, firebolt) => propConf.payload.sourceCanvas !== firebolt.sourceCanvas()\n        }), true, {\n            filterImmutableAction: (actionInf, propInf) => actionInf.groupId !== propInf.groupId\n        });\n    }\n};\n\nconst isDimension = fields => fields.some(field => field.type() === FieldType.DIMENSION);\n\nexport const isCrosstab = (fields) => {\n    const { rowFacets, colFacets, rowProjections, colProjections } = fields;\n    if (rowFacets.length || colFacets.length) {\n        return true;\n    }\n    const colProj = colProjections.flat();\n    const rowProj = rowProjections.flat();\n\n    if ((isDimension(colProj) || isDimension(rowProj)) && (colProj.length > 1 || rowProj.length > 1)) {\n        return true;\n    }\n    return false;\n};\n\nexport const addSelectedMeasuresInPayload = (firebolt, unit, payload) => {\n    const groupFields = firebolt.context.composition().visualGroup.resolver().getAllFields();\n    if (isCrosstab(groupFields)) {\n        const { x, y } = unit.fields();\n        let measureFields;\n\n        if (x.length && y.length) {\n            if (x[0].type() === FieldType.MEASURE) {\n                measureFields = [`${x[0]}`];\n            } else if (y[0].type() === FieldType.MEASURE) {\n                measureFields = [`${y[0]}`];\n            }\n            payload.selectedMeasures = measureFields;\n        }\n    }\n};\n\nexport const dispatchBehaviours = (firebolt, { payload, unit, behaviours }) => {\n    const { interaction: { behaviours: behaviourConfs = {} } } = firebolt.context.config();\n    const unitFirebolt = unit.firebolt();\n\n    behaviours.forEach((action) => {\n        const mode = behaviourConfs[action];\n        let targetFirebolt = unitFirebolt;\n        if (mode === COMMON_INTERACTION) {\n            targetFirebolt = firebolt;\n        }\n\n        const actions = targetFirebolt._actions.behavioural;\n        payload.criteria = addFacetDataAndMeasureNames(payload.criteria, unit.facetFieldsMap(),\n            unit.layers().map(layer => Object.keys(layer.data().getFieldspace().getMeasure())));\n\n        targetFirebolt.dispatchBehaviour(action, payload, {\n            propagate: false,\n            applySideEffect: false\n        });\n\n        const identifiers = actions[action].propagationIdentifiers();\n\n        firebolt.propagate(action, payload, identifiers, {\n            sideEffects: getSideEffects(action, targetFirebolt._behaviourEffectMap),\n            sourceUnitId: unit.id(),\n            sourceId: targetFirebolt.id(),\n            propagationDataSource: targetFirebolt.getPropagationSource()\n        });\n    });\n};\n\nexport const resetSelectAction = (firebolt, { unit, payload, behaviours }) => {\n    if (behaviours[0] === BEHAVIOURS.BRUSH && payload.dragging && payload.dragDiff < 5) {\n        dispatchBehaviours(firebolt, {\n            behaviours: [BEHAVIOURS.SELECT],\n            payload: {\n                criteria: null\n            },\n            unit\n        });\n    }\n};\n\nexport const attachBehaviours = (group) => {\n    const allFields = group.resolver().getAllFields();\n    const valueMatrix = group.matrixInstance().value;\n    const crosstab = isCrosstab(allFields);\n\n    valueMatrix.each((cell) => {\n        const unit = cell.valueOf();\n        const firebolt = unit.firebolt();\n        const behaviours = crosstab ? [PSEUDO_SELECT] : [];\n        firebolt._connectedBehaviours[BEHAVIOURS.SELECT] = behaviours;\n    });\n};\n","import GroupFireBolt from './group-firebolt';\n\nexport default GroupFireBolt;\n","import { isEqual, STATE_NAMESPACES, selectElement, getValueParser, FieldType } from 'muze-utils';\nimport { VisualGroup } from '@chartshq/visual-group';\nimport { BEHAVIOURS } from '@chartshq/muze-firebolt';\nimport { payloadGenerator } from '@chartshq/visual-unit';\nimport { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, DATA, CONFIG, GRID, LEGEND }\n    from '../constants';\nimport { canvasOptions } from './local-options';\nimport { LayoutManager } from '../../../layout/src/tree-layout';\n\n/**\n * Instantiate high level components. Canvas knows what all high level component it has.\n * @nice-to-have dynamic high level components.\n *  - Is it even required ?\n *  - Reactive to source (canvas) streaming ?\n * @param {*} context Canvas instance\n * @return {Object.<Array>} Arrays of Title, visualGroup, Legend\n */\nexport const initCanvas = (context) => {\n    const reg = context._registry.components;\n\n    return [new reg.VisualGroup(context._registry, Object.assign({\n        throwback: context._throwback\n    }, context.dependencies()))];\n};\n\nexport const fixFacetConfig = (config) => {\n    if (config) {\n        const isGridLinePresent = {};\n        const { border, gridLines } = config;\n        if (gridLines) {\n            isGridLinePresent.x = !!gridLines.x;\n            isGridLinePresent.y = !!gridLines.y;\n        }\n        const facetsUserConfig = {\n            isBorderPresent: border || {},\n            isGridLinePresent\n        };\n        return {\n            facetsUserConfig,\n            isFacet: false\n        };\n    }\n    return {};\n};\n\nexport const fixScrollBarConfig = (config) => {\n    config.scrollBar.thickness = Math.min(50, Math.max(10, config.scrollBar.thickness));\n    return config;\n};\n\nexport const excludeKeys = (config, keys) => {\n    const emptyValueKeyObject = {};\n    keys.forEach((key) => {\n        if (config[key] && Object.keys(config[key]).length) {\n            emptyValueKeyObject[key] = {};\n        }\n    });\n    return emptyValueKeyObject;\n};\n\nexport const setLayoutInfForUnits = (context) => {\n    const layoutManager = context._layoutManager;\n    const gridLayout = layoutManager.getComponent(GRID);\n    const legend = layoutManager.getComponent(LEGEND);\n    const boundBox = gridLayout && gridLayout.getBoundBox();\n    const valueMatrix = context.composition().visualGroup.matrixInstance().value;\n    const parentContainer = selectElement(`#${layoutManager.getRootNodeId()}`).node();\n    if (legend) {\n        legend.setComponentInfo({ rootNode: parentContainer });\n    }\n    valueMatrix.each((cell) => {\n        cell.valueOf().parentContainerInf({\n            el: parentContainer,\n            dimensions: boundBox\n        });\n    });\n};\n\n/**\n *\n *\n * @memberof Canvas\n */\nexport const dispatchProps = (context) => {\n    const lifeCycleManager = context.dependencies().lifeCycleManager;\n    lifeCycleManager.notify({ client: context, action: 'beforeupdate' });\n    const visualGroup = context.composition().visualGroup;\n\n    const allOptions = context._allOptions;\n    for (const key in allOptions) {\n        const value = context[key]();\n        if (value !== null) {\n            visualGroup[key] && visualGroup[key](value);\n        }\n    }\n    const { invalidValues } = context.config();\n\n    visualGroup.valueParser(getValueParser(invalidValues));\n\n    const sanitizedData = visualGroup.getMandatoryFields();\n    if (sanitizedData.shouldRender) {\n        visualGroup.createMatrices(sanitizedData);\n    } else {\n        visualGroup.remove();\n    }\n    context._cachedProps = {};\n    lifeCycleManager.notify({ client: context, action: 'initialized' });\n    lifeCycleManager.notify({ client: context, action: 'updated' });\n};\n\nconst equalityChecker = (props, params) => {\n    let checker = () => false;\n    return !props.every((option, i) => {\n        switch (option) {\n        case ROWS:\n        case COLUMNS:\n        case DETAIL:\n            checker = isEqual('Array');\n            break;\n\n        case SHAPE:\n        case SIZE:\n        case COLOR:\n        case DATA:\n        case CONFIG:\n            checker = isEqual('Object');\n            break;\n        default:\n            checker = () => true;\n            break;\n        }\n        const oldVal = params[i][0];\n        const newVal = params[i][1];\n\n        return checker(oldVal, newVal);\n    });\n};\n\nexport const notifyAnimationEnd = (context) => {\n    const viewInfo = context.layout().viewInfo();\n    const centerMatrix = viewInfo && viewInfo.viewMatricesInfo.matrices.center[1] || [];\n    const promises = [];\n    centerMatrix.forEach((cellArr) => {\n        cellArr.forEach((cell) => {\n            promises.push(cell.valueOf().done());\n        });\n    });\n    const lifeCycleManager = context.lifeCycle();\n    if (promises.length) {\n        Promise.all(promises).then(() => {\n            // Update life cycle\n            lifeCycleManager.notify({ client: context, action: 'drawn' });\n            const animDonePromises = [];\n\n            centerMatrix.forEach((cellArr) => {\n                cellArr.forEach((cell) => {\n                    cell.valueOf().layers().forEach((layer) => {\n                        animDonePromises.push(layer.animationDone());\n                    });\n                });\n            });\n\n            [context.xAxes(), context.yAxes()].forEach((axisArr) => {\n                axisArr = axisArr || [];\n                axisArr.forEach((axes) => {\n                    axes.forEach((axisInst) => {\n                        animDonePromises.push(axisInst.animationDone());\n                    });\n                });\n            });\n\n            Promise.all(animDonePromises).then(() => {\n                lifeCycleManager.notify({ client: context, action: 'animationend' });\n            });\n        });\n    } else {\n        lifeCycleManager.notify({ client: context, action: 'animationend' });\n    }\n};\n\nexport const setupChangeListener = (context) => {\n    const store = context._store;\n\n    const allOptions = Object.keys(context._allOptions);\n    const props = [...allOptions, ...Object.keys(canvasOptions)];\n    const nameSpaceProps = [...allOptions, ...Object.keys(canvasOptions)].map(prop =>\n        `${STATE_NAMESPACES.CANVAS_LOCAL_NAMESPACE}.${prop}`);\n    store.registerChangeListener(nameSpaceProps, (...params) => {\n        const equalityProps = equalityChecker(props, params);\n        // inform attached board to rerender\n        if (equalityProps && context.mount()) {\n            dispatchProps(context);\n            context.render();\n        }\n        notifyAnimationEnd(context);\n    }, true);\n};\n\nconst applyPropagationPolicy = (firebolt, { behaviours, sideEffects }) => {\n    for (const key in behaviours) {\n        firebolt.changeBehaviourStateOnPropagation(key, behaviours[key]);\n    }\n    for (const key in sideEffects) {\n        firebolt.changeSideEffectStateOnPropagation(key, sideEffects[key]);\n    }\n};\n\nconst isMeasure = fields => fields.every(field => field.type() === FieldType.MEASURE);\n\nconst isSplom = (fields) => {\n    const { rowProjections, colProjections } = fields;\n    const colProj = colProjections.flat();\n    const rowProj = rowProjections.flat();\n\n    if (isMeasure(colProj) && isMeasure(rowProj)) {\n        return true;\n    }\n    return false;\n};\n\nexport const applyInteractionPolicy = (firebolt) => {\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    if (visualGroup) {\n        const splom = isSplom(visualGroup.resolver().getAllFields());\n        const valueMatrix = visualGroup.matrixInstance().value;\n        const interactionPolicy = firebolt._interactionPolicy;\n        interactionPolicy(valueMatrix, firebolt);\n        const crossInteractionPolicy = firebolt._crossInteractionPolicy;\n        const behaviours = crossInteractionPolicy.behaviours;\n        const sideEffects = crossInteractionPolicy.sideEffects;\n        valueMatrix.each((cell) => {\n            const unitFireBolt = cell.valueOf().firebolt();\n            applyPropagationPolicy(unitFireBolt, { behaviours, sideEffects });\n            if (splom) {\n                unitFireBolt.payloadGenerators({\n                    [BEHAVIOURS.BRUSH]: (inst, dm, propConfig, facetFields) => payloadGenerator.brush(inst, dm,\n                        { ...propConfig, ...{ includeMeasures: false } }, facetFields)\n                });\n                unitFireBolt.sideEffects().selectionBox.config({\n                    persistent: true\n                });\n            } else {\n                unitFireBolt.payloadGenerators({\n                    [BEHAVIOURS.BRUSH]: payloadGenerator.brush\n                });\n                unitFireBolt.sideEffects().selectionBox.config({\n                    persistent: false\n                });\n            }\n        });\n        applyPropagationPolicy(firebolt, { behaviours, sideEffects });\n    }\n};\n\n/**\n * Sets the rotation for all x axes if any axis has the rotation config set in the\n * entire view\n *\n * @param {Array} columns Column cells that contain the axes cells\n */\nexport const setLabelRotationForAxes = (context) => {\n    let rotation = 0;\n\n    const xAxes = context.xAxes() || [];\n\n    (() => {\n        for (let i = 0; i < xAxes.length; i++) {\n            for (let j = 0; j < xAxes[i].length; j++) {\n                const rotationVal = xAxes[i][j].renderConfig().labels.rotation;\n                if (rotationVal && rotationVal !== 0) {\n                    rotation = rotationVal;\n                    return;\n                }\n            }\n        }\n    })();\n\n    if (rotation) {\n        xAxes.forEach((axes) => {\n            axes.forEach((axis) => {\n                axis.renderConfig({ labels: { rotation } });\n                axis.smartTicks(axis.setTickConfig());\n            });\n        });\n    }\n};\n\nexport const createGroupState = (context) => {\n    const [globalState, localState] = VisualGroup.getState();\n    const store = context._store;\n    store.append('app.group', globalState);\n    store.append('local.group', localState);\n};\n\nexport const removeChild = (mount) => {\n    while (mount.firstChild) {\n        mount.removeChild(mount.firstChild);\n    }\n};\n\nexport const createLayoutManager = () => {\n    const layoutManager = new LayoutManager({\n        className: 'muze-group-container'\n    });\n    return layoutManager;\n};\n","export { default as Canvas } from './canvas';\n","import { mergeRecursive } from 'muze-utils';\nimport { arrangeComponents } from './component-resolver';\nimport { createHeaders } from './title-maker';\nimport { createLegend, getLegendSpace } from './legend-maker';\nimport { componentWrapperMaker } from './component-wrapper-maker';\nimport {\n    TOP,\n    BOTTOM,\n    LEFT,\n    RIGHT,\n    TITLE,\n    SUB_TITLE,\n    LEGEND,\n    VERTICAL_SCROLL_BAR,\n    HORIZONTAL_SCROLL_BAR,\n    GRID,\n    MESSAGE\n} from '../constants';\nimport { ScrollManager } from './scroll-manager';\n\n/**\n *\n *\n * @param {*} context\n *\n */\nexport const prepareLayout = (layout, renderDetails) => {\n    const { components, layoutConfig, measurement } = renderDetails;\n    const {\n        rows,\n        columns,\n        values,\n        cornerMatrices\n    } = components;\n    const {\n        topLeft,\n        topRight,\n        bottomLeft,\n        bottomRight\n    } = cornerMatrices;\n    if (rows && columns) {\n        layout.measurement(measurement)\n                        .config(layoutConfig)\n                        .matrices({\n                            top: [topLeft, columns[0], topRight],\n                            center: [rows[0], values, rows[1]],\n                            bottom: [bottomLeft, columns[1], bottomRight]\n                        })\n                        .triggerReflow();\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} mount\n *\n */\nexport const getRenderDetails = (context, mount) => {\n    let layoutConfig = mergeRecursive({}, context.config());\n    // Get height width of the mount point\n    let { height, width } = mount.getBoundingClientRect();\n    const heightAttr = context.height();\n    const widthAttr = context.width();\n    const visGroup = context.composition().visualGroup;\n    const {\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority,\n        rows,\n        columns,\n        values\n    } = visGroup.placeholderInfo();\n    const {\n        minWidth,\n        minHeight,\n        classPrefix,\n        showHeaders,\n        legend,\n        pagination,\n        scrollBar\n    } = context.config();\n\n    // Get title configuration\n    const titleConfig = context.title()[1];\n     // Get subtitle configuration\n    const subtitleConfig = context.subtitle()[1];\n    // Get legend position\n    const legendPosition = legend.position;\n    // Arrange components according to config\n    const layoutArrangement = arrangeComponents(context);\n\n    height = Math.floor(height);\n    width = Math.floor(width);\n\n    const availableHeightForCanvas = Math.max(heightAttr > 0 ? heightAttr : height, minHeight);\n    const availableWidthForCanvas = Math.max(widthAttr > 0 ? widthAttr : width, minWidth);\n\n    // Create headers and determine header height\n    const { headers, headerHeight } = createHeaders(context, availableHeightForCanvas, availableWidthForCanvas);\n\n    // Create legends and determine legend space\n    const legends = createLegend(context, headerHeight, availableHeightForCanvas, availableWidthForCanvas);\n    context._composition.legend = {};\n    legends.forEach((e) => {\n        context._composition.legend[e.scaleType] = e.legend;\n    });\n\n    const legendSpace = getLegendSpace(legends, legend, availableHeightForCanvas, availableWidthForCanvas);\n    const legendWidth = (legendPosition === LEFT || legendPosition === RIGHT) ? legendSpace.width : 0;\n    const legendHeight = (legendPosition === TOP || legendPosition === BOTTOM) ? legendSpace.height : 0;\n\n    // Set components for layouting\n    const components = {\n        headers,\n        legends,\n        canvases: [context],\n        rows,\n        columns,\n        values,\n        cornerMatrices: visGroup.cornerMatrices()\n    };\n\n    const measurement = {\n        mountSpace: {\n            height,\n            width\n        },\n        headerHeight,\n        legendSpace,\n        canvasWidth: availableWidthForCanvas,\n        canvasHeight: availableHeightForCanvas,\n        width: availableWidthForCanvas - legendWidth,\n        height: availableHeightForCanvas - headerHeight - legendHeight,\n        minUnitHeight: context.minUnitHeight(),\n        minUnitWidth: context.minUnitWidth()\n    };\n    layoutConfig = mergeRecursive(layoutConfig, {\n        classPrefix,\n        showHeaders,\n        border: mergeRecursive(visGroup.metaData().border, context.config().border),\n        layoutArrangement,\n        legend,\n        buffer: scrollBar.thickness,\n        pagination,\n        title: titleConfig,\n        subtitle: subtitleConfig,\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        mount,\n        priority\n    });\n    return {\n        layoutConfig,\n        components,\n        measurement\n    };\n};\n\nconst componentIndexes = {\n    title: 0,\n    subtitle: 1,\n    legend: 2,\n    verticalScrollBar: 3,\n    horizontalScrollBar: 4,\n    grid: 5,\n    message: 6\n};\n\nconst componentNames = {\n    0: TITLE,\n    1: SUB_TITLE,\n    2: LEGEND,\n    3: VERTICAL_SCROLL_BAR,\n    4: HORIZONTAL_SCROLL_BAR,\n    5: GRID,\n    6: MESSAGE\n};\n\nconst attachListeners = (componentWrappers) => {\n    componentWrappers.forEach((componentWrapper) => {\n        if (componentWrapper) {\n            componentWrapper.attachListener();\n        }\n    });\n};\n\n/**\n * Responsible for creating a scroll manager that manages interactions between the grid\n * component and the scroll bar components\n *\n * @param {Array} componentWrappers Contains the wrappers for all the components\n * @param {Canvas} canvas Instance of the current canvas\n * @return {Array} Positions of units either horizontal or vertical\n */\nconst createScrollManager = (componentWrappers, canvas) => {\n    const {\n        horizontalScrollBar,\n        verticalScrollBar,\n        grid\n    } = componentIndexes;\n\n    const horizontalScrollWrapper = componentWrappers[horizontalScrollBar];\n    const verticalScrollWrapper = componentWrappers[verticalScrollBar];\n    const gridWrapper = componentWrappers[grid];\n    const scrollBarManager = new ScrollManager();\n    const scrollBarComponents = {};\n\n    verticalScrollWrapper && (scrollBarComponents.vertical = verticalScrollWrapper);\n    horizontalScrollWrapper && (scrollBarComponents.horizontal = horizontalScrollWrapper);\n\n    scrollBarManager\n                    .scrollBarComponents(scrollBarComponents)\n                    .attachedComponents({\n                        grid: gridWrapper\n                    });\n    canvas.composition().hScrollBar = horizontalScrollWrapper;\n    canvas.composition().vScrollBar = verticalScrollWrapper;\n\n    [horizontalScrollWrapper, verticalScrollWrapper].forEach((wrapper) => {\n        wrapper && wrapper.manager(scrollBarManager);\n    });\n\n    gridWrapper.scrollBarManager(scrollBarManager);\n};\n\nexport const renderLayout = (canvas, renderDetails) => {\n    const layoutManager = canvas._layoutManager;\n    const gridLayout = canvas.layout();\n    const {\n\n        grid\n    } = componentIndexes;\n\n    // Get the component wrappers\n    const compWrappers = componentWrapperMaker(canvas, gridLayout, renderDetails);\n    const componentWrappers = Object.keys(componentIndexes).map(e => compWrappers[e]);\n    const gridWrapper = componentWrappers[grid];\n    if (gridWrapper) {\n        createScrollManager(componentWrappers, canvas);\n    }\n\n    componentWrappers.forEach((componentWrapper, index) => {\n        if (!componentWrapper) {\n            const deleteElementName = componentNames[index];\n            layoutManager.removeComponent(deleteElementName);\n        }\n    });\n    layoutManager.registerComponents(componentWrappers).compute();\n    attachListeners(componentWrappers);\n};\n","import { TextCell, AxisCell } from '@chartshq/visual-cell';\nimport { getValueParser, retrieveFieldDisplayName, DataModel, getObjProp } from 'muze-utils';\nimport {\n    VERTICAL, HORIZONTAL, LEFT, RIGHT, LEGEND_TYPE_MAP, PADDING,\n    BORDER, MARGIN, SIZE, COLOR, IS_POINT_MAP, POINT\n} from '../constants';\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n *\n */\nexport const legendCreator = (canvas) => {\n    let LegendCls;\n    const dataset = [];\n    const axes = canvas.getRetinalAxes();\n\n    Object.entries(axes).forEach((axisInfo) => {\n        const scale = axisInfo[1][0];\n        const scaleType = axisInfo[0];\n        const scaleProps = canvas[scaleType]();\n\n        if (scaleProps.field && scale) {\n            const {\n                type,\n                step\n            } = scale.config();\n\n            const stepMapper = typeof step === 'boolean' ? step : false;\n            LegendCls = LEGEND_TYPE_MAP[`${type}-${stepMapper}-${scaleType}`];\n            dataset.push({\n                scale,\n                canvas,\n                fieldName: scaleProps.field,\n                title: retrieveFieldDisplayName(canvas.data(), scaleProps.field),\n                LegendCls,\n                scaleType\n            });\n        }\n    });\n\n    return dataset;\n};\n\n/**\n * @param {*} mark mark of the layers in the canvas\n * @param {*} scaleType type of the scale to draw the legend ie shape, size or color\n *\n */\nexport const legendIconShapeMapper = (layers, scaleType) => {\n    const layerMarks = layers.map(el => el.mark);\n    const shape = IS_POINT_MAP[(scaleType === COLOR || scaleType === SIZE)\n    && layerMarks.includes(POINT)];\n    return shape;\n};\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n * @param {*} measurement\n * @param {*} prevLegends\n *\n */\nexport const legendInitializer = (legendConfig, canvas, measurement, prevLegends) => {\n    const legends = [];\n    const {\n        height,\n        width,\n        headerHeight\n    } = measurement;\n    const {\n        position,\n        align\n    } = legendConfig;\n\n    const legendInfo = legendCreator(canvas);\n    const { invalidValues } = canvas.config();\n    const interactionRegistry = canvas.registry().interactions;\n    const parser = getValueParser(invalidValues);\n\n    legendInfo.forEach((dataInfo, index) => {\n        const legendMeasures = {};\n        const {\n                LegendCls,\n                scale,\n                fieldName,\n                title: titleText,\n                scaleType\n            } = dataInfo;\n        const config = legendConfig[scaleType] || {};\n        const title = config.title || {};\n        title.text = title.text || titleText;\n        if (config.show) {\n            config.position = position;\n            config.align = align;\n            let legend = getObjProp(prevLegends[scaleType], index);\n            if (!legend) {\n                legend = LegendCls.create({\n                    labelManager: canvas._dependencies.smartlabel,\n                    cells: {\n                        AxisCell, TextCell\n                    },\n                    registry: {\n                        interactions: interactionRegistry\n                    }\n                });\n            }\n            legendMeasures.maxHeight = align === VERTICAL ? (height - headerHeight) : height * 0.2;\n            legendMeasures.maxWidth = align === HORIZONTAL ? width : width * 0.2;\n            legendMeasures.width = Math.min(legendMeasures.maxWidth, config.width);\n            legendMeasures.height = Math.min(legendMeasures.maxHeight, config.height);\n\n            [PADDING, BORDER, MARGIN].forEach((e) => {\n                legendMeasures[e] = config[e];\n            });\n            const metaData = legend.metaData();\n            if (metaData instanceof DataModel) {\n                metaData.dispose();\n            }\n\n            const mark = canvas.composition().visualGroup.resolver().matrixLayers()[0][0];\n            config.shape = legendIconShapeMapper(mark, scaleType);\n\n            legend.scale(scale)\n                            .valueParser(parser)\n                            .title(title)\n                            .fieldName(fieldName)\n                            .config(config)\n                            .metaData(canvas.composition().visualGroup.getGroupByData().project([fieldName]))\n                            .measurement(legendMeasures)\n                            .canvasAlias(canvas.alias())\n                            .setLegendMeasures();\n\n            legends.push({ canvas, legend, scaleType });\n        }\n    });\n    return legends;\n};\n\n/**\n *\n *\n * @param {*} legends\n * @param {*} legendConfig\n * @param {*} availableHeight\n * @param {*} availableWidth\n *\n */\nexport const getLegendSpace = (legends, legendConfig, availableHeight, availableWidth) => {\n    const legendMeasures = legends.map(legendInfo => legendInfo.legend.measurement());\n    const legendSpace = { width: 0, height: 0 };\n\n    legendMeasures.forEach((space) => {\n        let height = 0;\n        let width = 0;\n        width = Math.min(space.width, space.maxWidth);\n        height = Math.min(space.height, space.maxHeight);\n\n        if (legendConfig.align === HORIZONTAL) {\n            if (legendSpace.width + width > availableWidth) {\n                legendSpace.width = availableWidth;\n                legendSpace.height += height;\n            } else {\n                legendSpace.width += width;\n                legendSpace.height = Math.max(legendSpace.height, height);\n            }\n        } else if (legendSpace.height + height > availableHeight) {\n            legendSpace.height = height;\n            legendSpace.width += width;\n        } else {\n            legendSpace.height += height;\n            legendSpace.width = Math.max(legendSpace.width, width);\n        }\n    });\n    if (legendConfig.align === HORIZONTAL) {\n        legendSpace.width = availableWidth;\n    }\n    return legendSpace;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} headerHeight\n *\n */\nexport const createLegend = (context, headerHeight, height, width) => {\n    const measurement = {\n        height,\n        width,\n        headerHeight\n    };\n    const { legend } = context.config();\n    const { show, position } = legend;\n\n    legend.classPrefix = context.config().classPrefix;\n    const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n\n    legend.show = show ? ((align === VERTICAL && width > 200) || (align === HORIZONTAL && height > 200)) : show;\n    legend.align = align;\n    return legendInitializer(legend, context, measurement, context.composition().legend || {});\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    ROWS,\n    COLUMNS,\n    COLOR,\n    SHAPE,\n    SIZE,\n    DETAIL,\n    LAYERS,\n    TRANSFORM,\n    TITLE,\n    SUB_TITLE\n} from '../constants';\nimport { TITLE_CONFIG, SUB_TITLE_CONFIG } from './defaults';\n/**\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Canvas.\n * Canvas merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @module LocalOptions\n */\n\nexport const localOptions = {\n    [ROWS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLUMNS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLOR]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || !config) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SHAPE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || !config) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SIZE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || !config) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [DETAIL]: {\n        value: [],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n\n    [LAYERS]: {\n        value: [],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [TRANSFORM]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object'\n        }\n    }\n};\n\nexport const canvasOptions = {\n    [TITLE]: {\n        value: [null, null],\n        meta: {\n            takesMultipleParams: true,\n            typeCheck: ([arg1, arg2]) => typeof arg1 === 'function' && typeof arg2 === 'object',\n            sanitization: ([title, titleConfig]) => {\n                let t = title;\n                if (typeof title === 'string' || !title) {\n                    t = () => title;\n                }\n                const defConfig = mergeRecursive({}, TITLE_CONFIG);\n                return [t, mergeRecursive(defConfig, titleConfig)];\n            }\n        }\n    },\n    [SUB_TITLE]: {\n        value: [null, null],\n        meta: {\n            takesMultipleParams: true,\n            typeCheck: ([arg1, arg2]) => typeof arg1 === 'function' && typeof arg2 === 'object',\n            sanitization: ([subtitle, subtitleConfig]) => {\n                let sub = subtitle;\n                if (typeof subtitle === 'string' || !subtitle) {\n                    sub = () => subtitle;\n                }\n                const defConfig = mergeRecursive({}, SUB_TITLE_CONFIG);\n                return [sub, mergeRecursive(defConfig, subtitleConfig)];\n            }\n        }\n    }\n};\n","export class ScrollManager {\n\n    constructor () {\n        this._scrollBarComponents = {};\n        this._attachedComponents = {};\n    }\n\n    scrollBarComponents (...sbc) {\n        if (sbc.length) {\n            this._scrollBarComponents = sbc[0];\n            return this;\n        }\n        return this._scrollBarComponents;\n    }\n\n    attachedComponents (...abc) {\n        if (abc.length) {\n            this._attachedComponents = abc[0];\n            return this;\n        }\n        return this._attachedComponents;\n    }\n\n    preventBrowserScroll (type, event) {\n        if (this.scrollBarComponents()[type]) {\n        // Prevent default behaviour and stop propagating\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        return this;\n    }\n\n    performAttachedScrollFunction (type, movedViewLength) {\n        Object.values(this.attachedComponents()).forEach((e) => {\n            e.performScrollAction(type, movedViewLength);\n        });\n        return this;\n    }\n\n    triggerScrollBarAction (type, delta) {\n        this.scrollBarComponents()[type] && this.scrollBarComponents()[type].scrollDeltaTo(delta);\n        return this;\n    }\n}\n","import { TextCell } from '@chartshq/visual-cell';\nimport { escapeHTML } from 'muze-utils';\nimport { TOP } from '../constants';\n\n/**\n *\n *\n * @param {*} rawContent\n *\n */\nconst resolveTitleSubTitleContent = (rawContent) => {\n    if (typeof rawContent === 'function' && !rawContent._sanitize) {\n        return rawContent();\n    }\n    return escapeHTML(rawContent());\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} cellType\n * @param {*} labelManager\n * @param {*} prevCell\n *\n */\nconst headerCreator = (config, cellType, labelManager, prevCell) => {\n    let margin = {};\n    const {\n        content,\n        classPrefix,\n        maxLines\n    } = config;\n    const cell = prevCell || new TextCell(\n        {\n            type: cellType === 'title' ? 'header' : 'text',\n            className: `${classPrefix}-${cellType}-cell`,\n            subType: cellType\n        }, {\n            labelManager\n        })\n     .config({ maxLines }).minSpacing({ width: 0, height: 0 });\n\n    cell.source(content);\n    cell._minTickDiff = { height: 0, width: 0 };\n\n    if (config.position === TOP) {\n        margin = { top: 0, bottom: config.padding };\n    } else {\n        margin = { top: config.padding, bottom: 0 };\n    }\n    cell.config({ margin });\n\n    return {\n        height: cell.getLogicalSpace().height,\n        cell\n    };\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} type\n * @param {*} labelManager\n * @param {*} cell\n *\n */\nconst createHeading = (config, type, labelManager, prevCell) => {\n    if (!config) { return ''; }\n\n    return headerCreator(\n        config,\n        type,\n        labelManager,\n        prevCell\n    );\n};\n\n/**\n *\n *\n * @param {*} context\n */\nexport const createHeaders = (context, canvasHeight, canvasWidth) => {\n    let headerHeight = 0;\n    const headers = {};\n    const subtitle = context.subtitle();\n    const isSubtitle = resolveTitleSubTitleContent(subtitle[0]);\n\n    canvasHeight >= 200 && canvasWidth >= 200 && ['title', 'subtitle'].forEach((type) => {\n        const headerOptions = context[type]();\n        const content = resolveTitleSubTitleContent(headerOptions[0]);\n        if (content) {\n            const config = headerOptions[1];\n\n            config.width = context.width();\n            config.height = context.height();\n            config.classPrefix = context.config().classPrefix;\n            config.content = content;\n            config.padding = (type === 'title' && !isSubtitle.length) ? subtitle[1].padding : config.padding;\n\n            const { height, cell } = createHeading(config, type, context.dependencies().smartlabel,\n                context[`${type}Cell`]);\n\n            headers[`${type}Cell`] = cell;\n            context._composition[type] = cell;\n            headerHeight += height;\n        }\n    });\n    return { headerHeight, headers };\n};\n\n","import { GradientLegend, DiscreteLegend, StepLegend } from '@chartshq/muze-legend';\n\n/**\n * Contants to be used as attr\n */\nexport const ROWS = 'rows';\nexport const COLUMNS = 'columns';\nexport const DATA = 'data';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\nexport const DETAIL = 'detail';\nexport const LAYERS = 'layers';\nexport const TRANSFORM = 'transform';\nexport const INITIALIZED = 'isInitialized';\nexport const SOURCE = 'source';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const PADDING = 'padding';\nexport const BORDER = 'border';\nexport const MARGIN = 'margin';\nexport const CONFIG = 'config';\nexport const MOUNT = 'mount';\nexport const CANVAS_UPDATED = 'canvasUpdated';\nexport const CLASSPREFIX = 'classPrefix';\nexport const POLICIES = '_policies';\nexport const LEGEND = 'legend';\nexport const TITLE = 'title';\nexport const SUB_TITLE = 'subtitle';\nexport const RESOLVE = 'resolve';\nexport const DISCRETE = 'discrete';\nexport const STEP_COLOR = 'step-color';\nexport const GRADIENT = 'gradient';\nexport const LINEAR = 'linear';\nexport const ORDINAL = 'ordinal';\nexport const MUZE_PREFIX = 'muze';\n\nexport const TITLE_TEMPLATE_NOT_ALLOWED_TAGS = [\n    'script',\n    'style'\n];\n\nexport const ICON_SHAPES = {\n    SQUARE: 'square',\n    CIRCLE: 'circle'\n};\n\nexport const IS_POINT_MAP = {\n    true: ICON_SHAPES.CIRCLE,\n    false: ICON_SHAPES.SQUARE\n};\n\nexport const LEGEND_TYPE_MAP = {\n    [`${ORDINAL}-${true}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${COLOR}`]: StepLegend,\n    [`${LINEAR}-${false}-${COLOR}`]: GradientLegend\n};\n\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const GROUP = 'group';\nexport const LAYOUT = 'layout';\nexport const RETINAL = 'retinal';\nexport const DIMENSION = 'dimension';\nexport const MEASURE = 'measure';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\nexport const HORIZONTAL_CENTER = 'h-center';\nexport const VERTICAL_CENTER = 'v-center';\nexport const HIDDEN = 'hidden';\nexport const OVERFLOW = 'overflow';\nexport const OVERFLOW_X = 'overflow-x';\nexport const OVERFLOW_Y = 'overflow-y';\nexport const AUTO = 'auto';\nexport const VISIBLE = 'visible';\nexport const VERTICAL_SCROLL_BAR = 'verticalScrollBar';\nexport const HORIZONTAL_SCROLL_BAR = 'horizontalScrollBar';\nexport const GRID = 'grid';\nexport const POINT = 'point';\nexport const MESSAGE = 'message';\nexport const ERROR_MESSAGE = 'Insufficient data or incorrect configurations';\nexport const COMMON_INTERACTION = 'common';\nexport const INDIVIDUAL_INTERACTION = 'individual';\n","import { cellRegistry, SimpleCell } from '@chartshq/visual-cell';\nimport { VisualUnit } from '@chartshq/visual-unit';\nimport { layerRegistry } from '@chartshq/visual-layer';\nimport { SimpleGroup, VisualGroup } from '@chartshq/visual-group';\nimport { registry as interactionRegistry } from '@chartshq/muze-firebolt';\n\nexport const COMPONENTS = {\n    [VisualGroup.formalName()]: VisualGroup,\n    [VisualUnit.formalName()]: VisualUnit\n};\n\nexport const SUBREGISTRIES = {\n    cells: cellRegistry,\n    layers: layerRegistry\n};\nexport const INTERFACES = {\n    SimpleGroup,\n    SimpleCell\n};\n\nconst componentRegistry = (components = COMPONENTS) => {\n    const reg = Object.assign({}, components);\n\n    return {\n        register: (cls) => {\n            const key = cls.formalName();\n            reg[key] = cls;\n            return componentRegistry;\n        },\n        get: () => reg\n    };\n};\n\nexport const registry = {\n    components: componentRegistry(COMPONENTS),\n    cells: cellRegistry(),\n    layers: layerRegistry(),\n    interactions: interactionRegistry\n};\n","import { COMMON_INTERACTION } from './constants';\n\nexport const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n    interaction: {\n        sideEffects: {\n            tooltip: COMMON_INTERACTION\n        },\n        behaviours: {\n            highlight: COMMON_INTERACTION,\n            select: COMMON_INTERACTION,\n            brush: COMMON_INTERACTION\n        },\n        tooltip: {\n\n        }\n    },\n    pagination: 'scroll',\n    scrollBar: {\n        thickness: 10,\n        speed: 2,\n        vertical: {\n            align: 'right'\n        },\n        horizontal: {\n            align: 'bottom'\n        }\n    },\n    legend: {\n        position: 'right',\n        color: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        },\n        shape: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        },\n        size: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        }\n    },\n    showHeaders: false,\n    minWidth: 100,\n    minHeight: 100,\n    facet: {\n        rows: {\n            minCharacters: 3\n        },\n        columns: {\n            maxLines: 2,\n            verticalAlign: 'middle',\n            minCharacters: 1\n        }\n    },\n    border: {\n        style: 'solid',\n        color: '#d6d6d6',\n        width: 2,\n        collapse: true,\n        spacing: 0\n    },\n    autoGroupBy: {\n        disabled: false\n    },\n    invalidValues: {},\n    sort: {}\n};\n\nexport const EXCLUDE_CONFIG_KEYS = ['sort'];\n","export const SIDE_EFFECT_COMMON = 'common';\nexport const SIDE_EFFECT_INDIVIDUAL = 'individual';\nexport const TOOLTIP_CONSOLIDATED = 'consolidated';\nexport const TOOLTIP_FRAGMENTED = 'fragmented';\nexport const WHEEL_DELTA_MODIFIER = 30;\n","const Muze = require('./muze');\n\nmodule.exports = Muze.default ? Muze.default : Muze;\n","import * as utils from 'muze-utils';\n\nimport { VisualUnit, helpers as unitHelpers, enums as unitEnums, UnitFireBolt } from '@chartshq/visual-unit';\nimport { VisualGroup, Encoders, encoderHelpers, groupUtils, enums as groupEnums } from '@chartshq/visual-group';\nimport {\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    sideEffects,\n    PersistentBehaviour,\n    GenericBehaviour,\n    VolatileBehaviour,\n    behaviouralActions,\n    GenericSideEffect,\n    Firebolt\n} from '@chartshq/muze-firebolt';\nimport {\n    layerFactory,\n    BaseLayer,\n    LineLayer,\n    TextLayer,\n    TickLayer,\n    PointLayer,\n    helpers,\n    enums,\n    SimpleLayer,\n    AreaLayer,\n    ArcLayer,\n    layerMixins\n} from '@chartshq/visual-layer';\nimport pkg from '../package.json';\nimport * as operators from './operators';\nimport { actionModel as ActionModel } from './action-model';\nimport options from './options';\nimport { Canvas } from './canvas';\nimport { registry as globalRegistry, SUBREGISTRIES } from './default-registry';\nimport './muze.scss';\n\nconst {\n    transactor,\n    Smartlabel,\n    enableChainedTransaction,\n    LifeCycleManager,\n    DataModel,\n    Store\n} = utils;\n\n// Cache singleton instances which should be included only once in a page\nconst globalCache = {};\nconst defaultRegistry = globalRegistry.components;\n\nconst overrideRegistryDefinitions = (overrideRegistry, registry) => {\n    overrideRegistry.forEach((def) => {\n        registry.register(def);\n    });\n};\n\n/**\n * Entry point to renderer. Initializes an environment with settings and registries for canvas. This is a simple wrapper\n * over {@link Canvas} which enables common configuration passing to multiple such canvases.\n *\n * Everytime `muze()` is called it creates an environment. These environment supports subset of APIs of Canvas. If\n * common configuration is used to render multiple canvases then it can be set directly in the env. Like if data is\n * common across all the visulization then its better to set the data in env. When a canvas is created it receives all\n * those configuration from env.\n *\n * ```\n *  // Creates an environment\n *  const env = muze()\n *  // Set data property in environment, so that all the canvas created from the same environment gets this data\n *  // automatically\n *  env.data(dm);\n *  // Creates canvas, by default env pushes data to canvas instance\n *  const canvas = env.canvas();\n * ```\n *\n * If a property is set on both environment and canvas instance, property set on canvas instance gets more priority.\n *\n * @public\n * @module muze\n * @namespace Muze\n *\n * @return {Env} Instance of an environment\n */\nconst muze = () => {\n    // Setters and getters will be mounted on this. Object will be mutated.\n    const [env, globalStore] = transactor({}, options);\n    const components = Object.assign({}, globalRegistry.components.get());\n    const componentSubRegistryDef = Object.assign({}, SUBREGISTRIES);\n\n    const componentSubRegistry = {};\n\n    for (const prop in componentSubRegistryDef) {\n        componentSubRegistry[prop] = componentSubRegistryDef[prop](globalRegistry[prop].get());\n    }\n\n    // Apart form the setter getter, an instance method is injected to create real renderer instances\n    env.canvas = () => {\n        // Create a canvas instance with this settings\n        const settings = globalStore.serialize();\n        const canvas = Canvas.withSettings(settings, { /* registry */\n            components,\n            componentSubRegistry,\n            interactions: globalRegistry.interactions\n        }, env.globalDependencies());\n\n        // Whenever settings is changed canvas is updated\n        enableChainedTransaction(globalStore, canvas, Object.keys(settings));\n\n        return canvas;\n    };\n\n    // Global dependencies for for compositions. Only one copy of the same should be in the page\n    env.globalDependencies = () => {\n        if (!globalCache.smartlabel) {\n            globalCache.smartlabel = new Smartlabel(1, 'body');\n        }\n        return {\n            smartlabel: globalCache.smartlabel,\n            lifeCycleManager: new LifeCycleManager()\n        };\n    };\n\n    // Retrieves global settings. This getter is readonly so that user can't change this as change should happen\n    // only from setter to avoid unwanted sync issues.\n    env.settings = () => globalStore.serialize();\n\n    env.registry = (...overrideRegistry) => {\n        // Selectively copy the properties from COMPONENTS\n        if (overrideRegistry.length) {\n            overrideRegistry.forEach((def) => {\n                const prop = def.formalName();\n                if (prop in defaultRegistry) {\n                    components[prop] = def;\n                }\n            });\n            return env;\n        }\n        return components;\n    };\n\n    env.cellRegistry = (...overrideRegistry) => {\n        const cellRegistry = componentSubRegistry.cellRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry, cellRegistry);\n            return env;\n        }\n        return cellRegistry.get();\n    };\n\n    env.layerRegistry = (...overrideRegistry) => {\n        const layerRegistry = componentSubRegistry.layerRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry, layerRegistry);\n            return env;\n        }\n        return layerRegistry.get();\n    };\n\n    return env;\n};\n\nmuze.registry = globalRegistry;\n\nmuze.Components = {\n    VisualLayer: {\n        layers: {\n            BaseLayer,\n            LineLayer,\n            TextLayer,\n            TickLayer,\n            PointLayer,\n            SimpleLayer,\n            AreaLayer,\n            ArcLayer\n        },\n        helpers,\n        enums,\n        layerMixins\n    },\n    VisualUnit: {\n        constructor: VisualUnit,\n        helpers: unitHelpers,\n        enums: unitEnums,\n        UnitFireBolt\n    },\n    VisualGroup: {\n        constructor: VisualGroup,\n        Encoders,\n        encoderHelpers,\n        groupUtils,\n        enums: groupEnums\n    },\n    Canvas: {\n        constructor: Canvas\n    },\n    Firebolt: {\n        constructor: Firebolt\n    }\n};\n\nconst SideEffects = {\n    sideEffects,\n    standards: {\n        SurrogateSideEffect,\n        SpawnableSideEffect,\n        GenericSideEffect\n    }\n};\n\nconst Behaviours = {\n    behaviouralActions,\n    standards: {\n        GenericBehaviour,\n        PersistentBehaviour,\n        VolatileBehaviour\n    }\n};\n\nmuze.DataModel = DataModel;\nmuze.version = pkg.version;\nmuze.SideEffects = SideEffects;\nmuze.ActionModel = ActionModel;\nmuze.layerFactory = layerFactory;\nmuze.Operators = operators;\nmuze.Behaviours = Behaviours;\nmuze.utils = utils;\nmuze.Model = new Store().model.constructor;\n\nexport default muze;\n","// extracted by mini-css-extract-plugin","import { ComposedVars, SimpleVariable } from '@chartshq/visual-group';\nimport { TITLE_TEMPLATE_NOT_ALLOWED_TAGS } from './constants';\n\n/**\n * This method creates a new composed variable instance from multiple variables. This is required when we have multiple\n * variables on a single axis and the union of domain of all the variables needs to be set on the axis.\n *\n * To create a new composed variable from multiple fields,\n * ```\n *  const sharedVar = share('open', 'high', 'low', 'close');\n *  canvas.rows([sharedVar])\n *      .columns(['date']);\n * ```\n *\n * @module Operators\n * @public\n * @function share\n * @param {Array} vars Variable names.\n *\n * @return {ComposedVars} Instance of composed variable\n */\nexport const share = (...vars) => new ComposedVars(...vars.map(variable => new SimpleVariable(variable)));\n\n/**\n *\n *\n * @param {*} node\n *\n */\nfunction treeShakeNode (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) { return; }\n\n    if (TITLE_TEMPLATE_NOT_ALLOWED_TAGS.indexOf(node.tagName.toLowerCase()) !== -1) {\n        node.parentNode.removeChild(node);\n    } else {\n        for (const childNode of node.childNodes) {\n            treeShakeNode(childNode);\n        }\n    }\n}\n\n/**\n * A string template tagged function which sanitizes input html formatted string according to the allowed html tags.\n * This is used to render html in canvas components like title and tooltip.\n *\n * To render html in canvas components,\n * ```\n *     canvas.title(html`<span style=font-size:20px;>TITLE</span>`);\n * ```\n *\n * @public\n * @module Operators\n * @function html\n * @param {Array.<string>} strings - The string parts of the template.\n * @param {Array} exps - The list of evaluated expression values.\n *\n * @return {Function} Returns a function which returns the sanitized html string.\n */\nexport function html (strings, ...exps) {\n    let htmlCode = '';\n    const expLn = exps.length;\n    let i = 0;\n\n    for (; i < expLn; ++i) {\n        htmlCode += strings[i] + exps[i];\n    }\n    htmlCode += strings[i];\n\n    const frag = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n\n    frag.appendChild(wrapper);\n    wrapper.innerHTML = htmlCode;\n\n    treeShakeNode(wrapper);\n    const { innerHTML } = wrapper;\n\n    return () => innerHTML;\n}\n","/**\n * This is the global options semantics based on which setters getters are created and reactivity is initiated.\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n * @module GlobalOptions\n */\n\nimport { intSanitizer, mergeRecursive, DataModel } from 'muze-utils';\nimport { fixScrollBarConfig, fixFacetConfig, excludeKeys } from './canvas/helper';\nimport { DEFAULT_CONFIG, EXCLUDE_CONFIG_KEYS } from './defaults';\n\nexport default {\n    data: {\n        value: null,\n        meta: {\n            typeCheck: d => d instanceof DataModel\n        }\n    },\n    width: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    height: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitWidth: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitHeight: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    config: {\n        value: [null, null],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            takesMultipleParams: true,\n            sanitization: ([config, auxConfig = {}], oldConfig) => {\n                // Stores additional config, if passed\n                const { reset = false } = auxConfig;\n                let oldConf = {};\n\n                // handle the default cases for facet, as it is different to other charts\n                const facetDefaultConfig = fixFacetConfig(config);\n                config = mergeRecursive(config, facetDefaultConfig);\n\n                if (!reset) {\n                    oldConf = mergeRecursive({}, config === null ? {} : oldConfig);\n                    oldConf = Object.assign(oldConf, excludeKeys(config, EXCLUDE_CONFIG_KEYS));\n                }\n\n                const defConfig = mergeRecursive(oldConf, DEFAULT_CONFIG);\n                const newConf = mergeRecursive(defConfig, config);\n\n                return fixScrollBarConfig(newConf);\n            }\n\n        }\n    }\n};\n","import { ERROR_MSG } from 'muze-utils';\n/**\n * An Interface to be implemented if the transaction support is necessary. This class ensures reactivity to\n * global properties.\n */\nexport default class TransactionSupport {\n    /**\n     * Property accessor for data member of the class. Data is passed to the system by calling this method.\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for width of the class. Width is passed as an integer.\n     */\n    width () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for height of the class. Height is passed as an integer.\n     */\n    height () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for config of the class. Config is passed as an object.\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n}\n","/**\n * @module Transform\n * This module exports constants that are used to reference transforms in\n * a consistent manner throughout the project.\n */\n/* eslint one-var: 0 */\n export const IDENTITY = 'identity';\n export const GROUP = 'group';\n export const STACK = 'stack';\n export const FRACTURE = 'fracture';\n","import { nestCollection, InvalidAwareTypes } from 'muze-utils';\n\n/**\n * Create multiple datasets from a single dataset by grouping the data using\n * a dimensional field.\n * @param {Array} schema Name and type of fields are stored in schema\n * @param {Array} data Data array\n * @param {Object} config Configuration object\n * @return {Array} Grouped data array\n */\nexport default (schema, data, config) => {\n    const groupBy = config.groupBy instanceof Array ? config.groupBy : [config.groupBy];\n    const groupByIndices = groupBy.map(fieldName => schema.findIndex(d => d.name === fieldName));\n\n    if (groupByIndices.find(d => d === -1) !== undefined) {\n        throw new Error(`Groupby field ${groupBy} not found in schema`);\n    }\n\n    const groupedData = nestCollection({\n        keys: groupByIndices,\n        data\n    });\n\n    groupedData.forEach((d) => {\n        const key = d.key;\n        if (InvalidAwareTypes.isInvalid(key)) {\n            d.key = InvalidAwareTypes.getInvalidType(key);\n        }\n    });\n    return groupedData;\n};\n","/**\n * @module Transform\n * This file exports a function that is used to implement\n * the identity transform\n */\n /* eslint no-unused-vars: 0 */\n /**\n  * This function accepts data and returns the data unchanged.\n  * @param {Object} schema The schema.\n  * @param {Array} data The data array.\n  * @param {Object} config The config object.\n  * @return {Array} The unchanged data.\n  */\n function identityTransform (schema, data, config) {\n     return data;\n }\n\n export default identityTransform;\n","import stackTransform from './stack-transform';\nimport groupTransform from './group-transform';\nimport identityTransform from './identity-transform';\nimport transformFactory from './transform-factory';\n\nexport {\n    identityTransform,\n    stackTransform,\n    groupTransform,\n    transformFactory\n};\n\nexport default { version: '1.0.0' };\n","import { stack, InvalidAwareTypes } from 'muze-utils';\n\nimport group from '../group-transform';\n/*\n    Normalize the data to a form which can be given to d3 stack for stacking the data\n    ['Product', 'Sales', 'Region'],\n    0 ['A', 2000, 'North'],\n    1 ['A', 3000, 'South'],\n    2 ['B', 3000, 'South'],\n    3 ['B', 2000, 'North'],\n    4 ['C', 3000, 'South'],\n    5 ['C', 2000, 'North']\n            |\n            |\n    ['Product', 'North', 'South'],\n    ['A', 2000, 3000],\n    ['B', 2000, 3000],\n    ['C', 2000, 3000]\n*/\n// eslint-disable-next-line require-jsdoc\nconst normalizeData = (data, schema, valueField, uniqueField, groupBy) => {\n    const groupedData = group(schema, data, {\n        groupBy: uniqueField\n    });\n    const uniqueFieldIndex = schema.findIndex(d => d.name === uniqueField);\n    const valueFieldIndex = schema.findIndex(d => d.name === valueField);\n    const seriesKeyIndex = schema.findIndex(d => d.name === groupBy);\n    const seriesKeys = data.map(d => d[seriesKeyIndex]).filter((item, pos, arr) => arr.indexOf(item) === pos).sort();\n\n    const fieldNames = schema.reduce((acc, obj, i) => {\n        acc[i] = obj.name;\n        return acc;\n    }, {});\n    const dataArr = groupedData.map((arr) => {\n        const tuples = {};\n        const rowObj = arr.values.reduce((acc, row) => {\n            acc = row.reduce((obj, value, i) => {\n                if (i === seriesKeyIndex) {\n                    if (row[valueFieldIndex] instanceof InvalidAwareTypes) {\n                        row[valueFieldIndex] = null;\n                    }\n                    obj[value] = row[valueFieldIndex];\n                    tuples[value] = row;\n                } else if (i !== valueFieldIndex) {\n                    obj[fieldNames[i]] = value;\n                }\n                return obj;\n            }, acc);\n            return acc;\n        }, {});\n        rowObj._tuple = tuples;\n            // Set missing values field to zero value\n        seriesKeys.forEach((seriesKey) => {\n            if (rowObj[seriesKey] === undefined) {\n                rowObj[seriesKey] = 0;\n                const newArr = new Array(arr.values[0].length);\n                newArr[uniqueFieldIndex] = arr.key;\n                newArr[seriesKeyIndex] = seriesKey;\n                rowObj._tuple[seriesKey] = newArr;\n            }\n        });\n        return rowObj;\n    });\n\n    return {\n        data: dataArr,\n        keys: seriesKeys\n    };\n};\n\n/**\n * Generate a stacked representation of data\n * @param {Array} schema schema Array\n * @param {Array} data data array\n * @param {Object} config Configuration object\n * @return {Array} stacked data\n */\nexport default (schema, data, config) => {\n    const { uniqueField, value: valueField, groupBy } = config;\n    const sort = config.sort || 'descending';\n    const normalizedData = normalizeData(data, schema, valueField, uniqueField, groupBy);\n    const keys = normalizedData.keys;\n    const map = {};\n    const orderBy = config.orderBy;\n    const orderIndex = schema.findIndex(d => d.name === orderBy);\n    const groupByIndex = schema.findIndex(d => d.name === groupBy);\n\n    if (orderIndex !== -1) {\n        keys.forEach((key) => {\n            const name = data.find(d => d[groupByIndex] === key);\n            map[key] = name[orderIndex];\n        });\n        normalizedData.keys.sort((a, b) => map[a].localeCompare(map[b]));\n    }\n\n    const stackData = stack({\n        keys: normalizedData.keys,\n        offset: config.offset || 'diverging',\n        order: sort,\n        data: normalizedData.data\n    });\n\n    stackData.forEach((seriesData) => {\n        seriesData.forEach((dataObj) => {\n            dataObj.data = dataObj.data._tuple[seriesData.key];\n        });\n    });\n\n    return stackData;\n};\n\n","/**\n * @module Transform\n * This file exports the transform factory.\n */\nimport * as TransformType from '../enums/transform-type';\nimport identity from '../identity-transform';\nimport group from '../group-transform';\nimport stack from '../stack-transform';\n\n/* istanbul ignore next */\nconst transformMap = {\n    [TransformType.IDENTITY]: identity,\n    [TransformType.GROUP]: group,\n    [TransformType.STACK]: stack\n};\n\n/**\n * This function is used to retirn a transform associated\n * with the given type.\n *\n * @param {string} type The type of the transform.\n * @return {Function} The transform function.\n */\nfunction transformFactory (type) {\n    const transform = transformMap[type];\n    if (typeof transform !== 'function') {\n        throw new Error('Invalid transform type supplied.');\n    }\n    return transform;\n}\n\nexport default transformFactory;\n","/**\n * This file declares a class that represents a table cell\n * used to house an axis.\n * @module VisualCell\n */\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport { CLASSPREFIX, HEIGHT, WIDTH, AXIS_CELL, BOTTOM, TOP } from './enums/constants';\nimport SimpleCell from './simple-cell';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { AXIS } from './enums/cell-type';\nimport { PROPS } from './props';\nimport * as CONSTANTS from './constants';\n\n/**\n * Computes the logical space of the an axis instance within an axis cell\n *\n * @param {Object} context Required to get the needed parameters to compute axis space\n * @return {Object} Returns the logical space for axis\n */\nconst computeAxisSpace = (context) => {\n    let logicalWidth;\n    let logicalHeight;\n    const axis = context.source();\n    const {\n        spaceFixer,\n        margin\n    } = context.config();\n    const {\n        width,\n        height\n    } = axis.getLogicalSpace();\n    const {\n            show\n        } = axis.config();\n    if (show === true) {\n        logicalHeight = Math.floor(height + margin.top + margin.bottom + spaceFixer);\n        logicalWidth = Math.floor(width + margin.left + margin.right + spaceFixer);\n    } else {\n        [logicalWidth, logicalHeight] = [width, height];\n    }\n    return {\n        width: logicalWidth,\n        height: logicalHeight\n    };\n};\n\n/**\n * Represents an axis cell.\n *\n * @class Axis\n */\nclass AxisCell extends SimpleCell {\n\n    /**\n     * Creates an instance of AxisCell.\n     *\n     * @param {Object} config The input config.\n     * @memberof AxisCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._axis = null;\n        this._availHeight = null;\n        this._availWidth = null;\n        this._logicalSpace = null;\n\n        generateGetterSetters(this, PROPS[AXIS]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof AxisCell\n     */\n    get type () {\n        return AXIS;\n    }\n\n    /**\n     * This method return the value conatined by this SimpleCell.\n     *\n     * @return {SimpleAxis | ColorAxis} Instance of SimpleAxis or ColorAxis.\n     * @memberof AxisCell\n     */\n    valueOf () {\n        return this.source().id;\n    }\n\n    /**\n     * This method return the unique identififer of the axis\n     *\n     * @return {string} Id of the axis.\n     * @memberof AxisCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    static formalName () {\n        return CONSTANTS.AXIS_CELL;\n    }\n\n    /**\n     * Retrns the serialized representation of this cell.\n     *\n     * @return {Object}Object with serializable props.\n     * @memberof AxisCell\n     */\n    serialize () {\n        return {\n            type: AXIS,\n            axis: this.source().serialize()\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof AxisCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * return the space taken up by an axis element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof AxisCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeAxisSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @return {Instance} Returns current Instance\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        const {\n            margin,\n            isOffset\n        } = this.config();\n\n        if (width || height) {\n            this.source().setAvailableSpace(width, height, margin, isOffset);\n            this.source().logicalSpace(null);\n        } else {\n            this.source().resetLogicalSpace();\n        }\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the axis inside the axis cell.\n     *\n     * @param {HTMLElement} mount The mount point.\n     * @return {Selection} node where axis mounted\n     * @memberof AxisCell\n     */\n    /* istanbul ignore next */render (mount) {\n        if (!mount) {\n            return this;\n        }\n        let actualWidth = 0;\n        let actualHeight = 0;\n        const axis = this.source();\n        const availHeight = this.availHeight();\n        const availWidth = this.availWidth();\n        const {\n            margin\n        } = this.config();\n        const {\n            top,\n            bottom,\n            left,\n            right\n        } = margin;\n        const {\n            show,\n            orientation\n        } = axis.config();\n        const wrapperDiv = makeElement(selectElement(mount), 'div', [this], `${CLASSPREFIX}-${AXIS_CELL}`);\n        const selection = makeElement(wrapperDiv, 'svg', [1], `${CLASSPREFIX}-axis-container`);\n        selection.classed(`${CLASSPREFIX}-axis-container-${orientation}`, true);\n\n        this.mount(mount);\n        if (!availWidth) {\n            selection.attr(WIDTH, `${0}px`);\n        }\n        if (!availHeight) {\n            selection.attr(HEIGHT, `${0}px`);\n        }\n        actualWidth = availWidth;\n        actualHeight = availHeight;\n        if (!show) {\n            actualWidth = (orientation === TOP || orientation === BOTTOM) ? availWidth : 0;\n            actualHeight = (orientation === TOP || orientation === BOTTOM) ? 0 : availHeight;\n        }\n        wrapperDiv.style(WIDTH, `${actualWidth}px`)\n                        .style(HEIGHT, `${actualHeight}px`)\n                        .style('margin-top', top)\n                        .style('margin-bottom', bottom)\n                        .style('margin-left', left)\n                        .style('margin-right', right);\n\n        axis.mount(selection.node());\n        return selection;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Current instance of AxisCell\n     * @memberof AxisCell\n     */\n    remove () {\n        this.source() && this.source().remove();\n        this.mount() && this.mount().remove();\n        return this;\n    }\n}\n\nexport default AxisCell;\n\n","/**\n * This file declares a class that represents a BLANK element in a  table.\n * @module VisualCell\n */\nimport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    generateGetterSetters\n    } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { CLASSPREFIX, BLANK_CELL } from './enums/constants';\nimport { BLANK } from './enums/cell-type';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { PROPS } from './props';\nimport * as CONSTANTS from './constants';\n\n/**\n * Represents a table haeder.\n *\n * @class BLANK\n */\nclass BlankCell extends SimpleCell {\n\n    /**\n     * Creates an instance of BLANK.\n     * @param {Object} config The input configuration.\n     * @memberof BLANK\n     */\n    constructor (config) {\n        super(config);\n\n        generateGetterSetters(this, PROPS[BLANK]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof BlankCell\n     */\n    get type () {\n        return BLANK;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof BlankCell\n     */\n    valueOf () {\n        return this.id;\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof BlankCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the BLANK cell.\n     *\n     * @return {string} The unique identifier for the BLANK.\n     * @memberof BlankCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    static formalName () {\n        return CONSTANTS.BLANK_CELL;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof BLANK\n     */\n    serialize () {\n        return {\n            type: BLANK\n        };\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof BLANK\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            return {\n                width: this.width || 0,\n                height: this.height || 0\n            };\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the BLANK cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof BLANK\n     */\n    /* istanbul ignore next */render (mount) {\n        if (mount) {\n            const { style } = this.config();\n            // append span element to mount point\n            this.mount(mount);\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id]);\n            elem.classed(`${CLASSPREFIX}-${BLANK_CELL}`, true);\n            elem.style('width', `${this.availWidth()}px`);\n            elem.style('height', `${this.availHeight()}px`);\n            elem.html('');\n            // apply style on the returned element\n            if (style) {\n                applyStyle(elem, style);\n            }\n        } return this;\n    }\n\n    /**\n     * Removes the cell(Disposal)\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n\n    getMinMeasures () {\n        return 0;\n    }\n }\nexport default BlankCell;\n","import { DEFAULT_PLACEHOLDERS } from './defaults';\n\n/**\n * Creates a registry for the cells, which can be used for\n * setting a new cell or getting the registered cells\n *\n * @return {Object} Setters and getters for registered cells\n */\nconst cellRegistry = () => {\n    const reg = DEFAULT_PLACEHOLDERS;\n    return {\n        register: (def) => {\n            const key = def.formalName();\n            if (key in reg) {\n                reg[key] = def;\n            }\n            return cellRegistry;\n        },\n        get: () => reg\n    };\n};\nexport default cellRegistry;\n","export const SIMPLE_CELL = 'SimpleCell';\nexport const TEXT_CELL = 'TextCell';\nexport const AXIS_CELL = 'AxisCell';\nexport const BLANK_CELL = 'BlankCell';\nexport const GEOM_CELL = 'GeomCell';\n\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\n\nimport * as CONSTANTS from './constants';\n\nexport const DEFAULT_PLACEHOLDERS = {\n    [CONSTANTS.SIMPLE_CELL]: SimpleCell,\n    [CONSTANTS.TEXT_CELL]: TextCell,\n    [CONSTANTS.AXIS_CELL]: AxisCell,\n    [CONSTANTS.GEOM_CELL]: GeomCell,\n    [CONSTANTS.BLANK_CELL]: BlankCell\n};\n","// eneum to refer to simple cell\nexport const SIMPLE = 'simple';\n// eneum to refer to header cell\nexport const TEXT = 'text';\n// enum to refer to axis cell\nexport const AXIS = 'axis';\n// enum to refer to visual cell\nexport const GEOM = 'geom';\n// enum to refer blank cell\nexport const BLANK = 'blank';\n","/**\n * Flag to specify whether direction is vertical.\n */\nexport const MARGIN = 'margin';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const SPACE_FIXER = 'spaceFixer';\nexport const CLASSPREFIX = 'muze';\nexport const VERTICAL_ALIGN = 'verticalAlign';\nexport const TEXT_ALIGN = 'textAlign';\nexport const IS_OFFSET = 'isOffset';\nexport const MIDDLE = 'middle';\nexport const BASELINE = 'baseline';\nexport const SHOW = 'show';\nexport const CENTER = 'center';\nexport const TEXT = 'text';\nexport const HEADER = 'header';\nexport const HEIGHT = 'height';\nexport const WIDTH = 'width';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const FIELDS = 'fields';\nexport const TRANSFORM = 'transform';\nexport const LAYER_DEF = 'layerDef';\nexport const CONFIG = 'config';\nexport const DETAIL_FIELDS = 'detailFields';\nexport const MAX_LINES = 'maxLines';\nexport const MIN_CHARS = 'minCharacters';\nexport const ROTATION = 'rotation';\n\nexport const TEXT_CELL = 'text-cell';\nexport const AXIS_CELL = 'axis-cell';\nexport const GEOM_CELL = 'geom-cell';\nexport const BLANK_CELL = 'blank-cell';\n\nexport const PADDING = 'padding';\nexport const HEADER_PADDING = 'headerPadding';\nexport const TITLE_PADDING = 'titlePadding';\n\nexport const TITLE = 'title';\nexport const SUBTITLE = 'subtitle';\n","/**\n * This file exports variables that are used as defaults for\n * the placeholders\n */\nimport * as CONSTANTS from './constants';\n\n /**\n * Default Configuration for the cells\n * @return {Object} Default configuration\n */\nexport const DEFAULT_CONFIG = {\n    [CONSTANTS.MARGIN]: {\n        [CONSTANTS.LEFT]: 0,\n        [CONSTANTS.RIGHT]: 0,\n        [CONSTANTS.TOP]: 0,\n        [CONSTANTS.BOTTOM]: 0\n    },\n    [CONSTANTS.SPACE_FIXER]: 2,\n    [CONSTANTS.IS_OFFSET]: false,\n    [CONSTANTS.VERTICAL_ALIGN]: null,\n    [CONSTANTS.TEXT_ALIGN]: CONSTANTS.CENTER,\n    [CONSTANTS.SHOW]: true,\n    [CONSTANTS.MAX_LINES]: 0,\n    [CONSTANTS.MIN_CHARS]: 0,\n    [CONSTANTS.ROTATION]: null,\n    [CONSTANTS.PADDING]: {\n        [CONSTANTS.LEFT]: 8,\n        [CONSTANTS.RIGHT]: 8,\n        [CONSTANTS.TOP]: 10,\n        [CONSTANTS.BOTTOM]: 0\n    },\n    [CONSTANTS.HEADER_PADDING]: {\n        [CONSTANTS.LEFT]: 8,\n        [CONSTANTS.RIGHT]: 5,\n        [CONSTANTS.TOP]: 2,\n        [CONSTANTS.BOTTOM]: 5\n    },\n    [CONSTANTS.TITLE_PADDING]: {\n        [CONSTANTS.LEFT]: 0,\n        [CONSTANTS.RIGHT]: 0,\n        [CONSTANTS.TOP]: 0,\n        [CONSTANTS.BOTTOM]: 0\n    }\n};\n","/**\n * This file declares a class that is used to represent a table cell\n * that houses a visual unit.\n * @module VisualCell\n */\n\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { GEOM } from './enums/cell-type';\nimport { PROPS } from './props';\nimport {\n    CLASSPREFIX, HEIGHT, WIDTH, DATA, AXES, FACET_BY_FIELDS, FIELDS, TRANSFORM, LAYER_DEF, CONFIG, GEOM_CELL,\n    DETAIL_FIELDS\n} from './enums/constants';\nimport * as CONSTANTS from './constants';\nimport { DEFAULT_CONFIG } from './enums/defaults';\n\n/**\n * Calculates the logical space of the cell\n *\n * @param {Object} context Required to get the needed parameters to compute unit space\n * @return {Object} Logical space taken up by the unit\n * @memberof GeomCell\n */\nconst computeGeomSpace = (context) => {\n    const config = context.source().config();\n    const { width, height } = config;\n    return {\n        width: Math.ceil(width),\n        height: Math.ceil(height + context.getCaptionSpace().height)\n    };\n};\n\n /**\n * This class represents a SimpleCell for visual unit.\n *\n * @class GeomCell\n */\nclass GeomCell extends SimpleCell {\n\n    /**\n     * Creates an instance of GeomCell.\n     * @param {Object} config The input configuration.\n     * @memberof GeomCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._unit = null;\n        this._layers = null;\n        this._axes = {};\n        this._datamodel = {};\n        this._facetByFields = {};\n        this._fields = null;\n        this._transform = null;\n        this._caption = null;\n\n        generateGetterSetters(this, PROPS[GEOM]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof GeomCell\n     */\n    get type () {\n        return GEOM;\n    }\n\n    /**\n     * This method return the value contained by this cell.\n     *\n     * @return {VisualUnit} Instance of visual unit contained by visual unit.\n     * @memberof GeomCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return the id of the\n     * visual unit housed by this cell.\n     *\n     * @return {string} The unique id of the visual unit.\n     * @memberof GeomCell\n     */\n    get id () {\n        return this.source().id();\n    }\n\n    static formalName () {\n        return CONSTANTS.GEOM_CELL;\n    }\n\n    /**\n     * This method return a serialized representation of\n     * this instance.\n     *\n     * @return {Object} Object with serializable props.\n     * @memberof GeomCell\n     */\n    serialize () {\n        return {\n            type: GEOM,\n            unit: this.source().serialize(),\n            caption: this.caption()\n        };\n    }\n\n    /**\n     * return the default configuration for the geom cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof GeomCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * Updates the model based on the changed parameters\n     *\n     * @return {Instance} return instance\n     * @memberof GeomCell\n     */\n    updateModel () {\n        const unit = this.source();\n        unit.clearCaching();\n        [LAYER_DEF, TRANSFORM, AXES, FIELDS, CONFIG, DATA, AXES, FACET_BY_FIELDS, DETAIL_FIELDS].forEach((prop) => {\n            this[prop]() && unit[prop](this[prop]());\n        });\n        return this;\n    }\n\n    /**\n     * It gives the space taken by the caption of the unit\n     *\n     * @return {Object} return the space taken by caption\n     * @memberof GeomCell\n     */\n    getCaptionSpace () {\n        const caption = this.caption();\n\n        let captionSpace = { width: 0, height: 0 };\n        if (caption) {\n            captionSpace = caption.getLogicalSpace();\n        }\n        return captionSpace;\n    }\n\n    /**\n     * return the space taken up by the element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof GeomCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeGeomSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space available to\n     * render the SimpleCell.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    setAvailableSpace (width, height) {\n        const unit = this.source();\n\n        this.availWidth(width);\n        this.availHeight(height);\n        unit.lockModel()\n            .width(width).height(height - this.getCaptionSpace().height)\n            .unlockModel();\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * his method is used to render the visual unit inside the provided cell.\n     *\n     * @param {HTMLElement} mount The mountpoint in the table.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    render (mount) {\n        if (mount) {\n            this.mount(mount);\n            const availHeight = this.availHeight();\n            const availWidth = this.availWidth();\n            const caption = this.caption();\n            const wrapperDiv = makeElement(selectElement(mount), 'div', [1], `${CLASSPREFIX}-${GEOM_CELL}`);\n\n            if (caption) {\n                const captionDom = makeElement(wrapperDiv, 'div', [caption], `${CLASSPREFIX}-unit-caption`).node();\n                caption.render(captionDom);\n            }\n            const selection = makeElement(wrapperDiv, 'div', [1], `${CLASSPREFIX}-unit`);\n            wrapperDiv.style(WIDTH, `${availWidth}px`).style(HEIGHT, `${availHeight}px`);\n            selection.style(WIDTH, `${availWidth}px`)\n                            .style(HEIGHT, `${availHeight - this.getCaptionSpace().height}px`);\n            this.source().mount(selection.node());\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Object} Current instance\n     * @memberof GeomCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        this.source().remove();\n        return this;\n    }\n}\n\nexport default GeomCell;\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\nimport cellRegistry from './cell-registry';\n\nexport {\n    AxisCell,\n    BlankCell,\n    TextCell,\n    GeomCell,\n    SimpleCell,\n    cellRegistry\n};\n","import { mergeRecursive } from 'muze-utils';\nimport { GEOM, TEXT, AXIS, BLANK } from './enums/cell-type';\n\nconst DEFAULT_PROPS = {\n    mount: {},\n    availHeight: {},\n    availWidth: {},\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config, value)\n    },\n    logicalSpace: {},\n    minSpacing: {},\n    source: {}\n};\n\nconst geomProps = {\n    data: {},\n    caption: {},\n    config: {},\n    axes: {},\n    facetByFields: {},\n    fields: {},\n    transform: {},\n    layerDef: {},\n    detailFields: {}\n};\n\nconst textProps = {\n    smartText: {}\n};\nexport const PROPS = {\n    [GEOM]: mergeRecursive(geomProps, DEFAULT_PROPS),\n    [TEXT]: mergeRecursive(textProps, DEFAULT_PROPS),\n    [AXIS]: DEFAULT_PROPS,\n    [BLANK]: DEFAULT_PROPS\n};\n","import {\n    ERROR_MSG,\n    getUniqueId,\n    mergeRecursive\n} from 'muze-utils';\nimport { SIMPLE } from './enums/cell-type';\nimport { SIMPLE_CELL } from './constants';\n\n/**\n * This file declares a class that is used as an interface to create new\n * SimpleCell elements.\n * @module SimpleCell\n */\n/**\n * Base class for all table cells.\n *\n * @interface\n * @class SimpleCell\n */\nclass SimpleCell {\n\n    /**\n     * Creates an instance of SimpleCell.\n     *\n     * @param {*} config The input configuration.\n     * @memberof SimpleCell\n     */\n    constructor (config) {\n        this._id = getUniqueId();\n\n        const defConfig = mergeRecursive({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(defConfig, config || {});\n\n        this._mount = null;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     */\n    get type () {\n        return SIMPLE;\n    }\n\n    static formalName () {\n        return SIMPLE_CELL;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     * @return {Object} Default config for the placeholder\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the value contained by the SimpleCell.\n     *\n     * @memberof SimpleCell\n     */\n    valueOf () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a unique identifier for the instance used\n     * to control selective rendering.\n     *\n     * @memberof SimpleCell\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized representation of the instance.\n     *\n     * @memberof SimpleCell\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns an object with width and height fields\n     * specifying the space taken up by this metod.\n     *\n     * @memberof SimpleCell\n     */\n    getLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Method used to set the space available to render the SimpleCell\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @memberof SimpleCell\n     */\n    setAvailableSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    remove () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    getMinMeasures (providedMinMeasure = 0) {\n        return providedMinMeasure;\n    }\n\n}\n\nexport default SimpleCell;\n","import {\n    TOP,\n    BOTTOM,\n    LEFT,\n    RIGHT,\n    HEADER,\n    TITLE,\n    SUBTITLE\n} from './enums/constants';\n\nexport const setSmartText = (context) => {\n    const source = context.source();\n    const {\n        height: minHeightSpace,\n        width: minWidthSpace\n    } = context.minSpacing();\n    const {\n       margin,\n       rotation\n   } = context.config();\n    const {\n        left,\n        right,\n        top,\n        bottom\n     } = margin;\n    const paddedHeight = top + bottom + minHeightSpace;\n    const paddedWidth = left + right + minWidthSpace;\n    const availHeight = context.availHeight() - paddedHeight;\n    const availWidth = context.availWidth() - paddedWidth;\n    const labelManager = context.dependencies().labelManager;\n\n    labelManager.setStyle(context._computedStyle);\n\n    !rotation && context.smartText(labelManager.getSmartText(source, availWidth, availHeight, false));\n    rotation && context.smartText(labelManager.getSmartText(source, availHeight, availWidth, true));\n\n    return context;\n};\n\nexport const isTitleSubtitle = (subType) => {\n    let returnVal = false;\n    if (subType === `${TITLE}` || subType === `${SUBTITLE}`) {\n        returnVal = true;\n    }\n    return returnVal;\n};\n\n/**\n* Computes the Logical Space for the text\n*\n* @param {Object} context Required to get the needed parameters to compute text space\n* @return {Object} Logical space taken up by text\n* @memberof TextCell\n*/\nexport const computeTextSpace = (context) => {\n    const { labelManager } = context.dependencies();\n    const {\n        height: minHeightSpace,\n        width: minWidthSpace\n    } = context.minSpacing();\n    const {\n       margin,\n       show,\n       maxLines,\n       minCharacters\n   } = context.config();\n    const {\n       left,\n       right,\n       top,\n       bottom\n    } = margin;\n    const paddedHeight = top + bottom + minHeightSpace;\n    const paddedWidth = left + right + minWidthSpace;\n    const availHeight = context.availHeight() - paddedHeight;\n    const availWidth = context.availWidth() - paddedWidth;\n    const source = context.source();\n    const space = context.smartText();\n    const minText = new Array(minCharacters).fill('W').join('');\n    const _minTextSpace = labelManager.getOriSize(minText);\n\n    context.config({ rotation: false });\n    if (space.width > (availWidth || 0) && maxLines) {\n        space.height = space.oriTextHeight * maxLines;\n    }\n    if (availWidth && availWidth < space.width) {\n        space.width = _minTextSpace.width;\n    }\n    if (availWidth && availWidth < Math.min(_minTextSpace.width, space.oriTextWidth)) {\n        const smartSpace = labelManager.getSmartText(source, availHeight, _minTextSpace.height, true);\n        const { height: smHeight, width: smWidth } = smartSpace;\n        space.width = smWidth;\n        space.height = smHeight;\n        context.config({ rotation: true });\n        context.smartText(smartSpace);\n    }\n\n    const { subType, headerPadding } = context.config();\n    if (!isTitleSubtitle(subType)) {\n        space.width += headerPadding[LEFT] + headerPadding[RIGHT];\n    }\n\n    if (show) {\n        return {\n            width: Math.ceil(space.width) + paddedWidth,\n            height: Math.ceil(space.height) + paddedHeight\n        };\n    } return {\n        width: 0,\n        height: 0\n    };\n};\n\nexport const setPadding = (measures) => {\n    const { elem, className, headerPadding, padding, type, titlePadding } = measures;\n    let localPadding;\n    if (isTitleSubtitle(className)) {\n        localPadding = titlePadding;\n    } else if (type === HEADER) {\n        localPadding = headerPadding;\n    } else {\n        localPadding = padding;\n    }\n    [TOP, BOTTOM, LEFT, RIGHT].forEach((position) => {\n        elem.style(`padding-${position}`, `${localPadding[position]}px`);\n    });\n    return elem;\n};\n","/**\n * This file declares a class that represents a Text element in a  table.\n * @module VisualCell\n */\n\nimport {\n    selectElement,\n    makeElement,\n    getSmartComputedStyle,\n    generateGetterSetters\n} from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { TEXT } from './enums/cell-type';\nimport { PROPS } from './props';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { CLASSPREFIX, TOP, BOTTOM, LEFT, RIGHT, HEADER, WIDTH, TEXT_CELL } from './enums/constants';\nimport './text-cell.scss';\nimport * as CONSTANTS from './constants';\nimport {\n    setSmartText,\n    computeTextSpace,\n    setPadding\n} from './text-cell-helper';\n\n/**\n * Represents a table haeder.\n *\n * @class Text\n */\nclass TextCell extends SimpleCell {\n\n    /**\n     * Creates an instance of Text.\n     * @param {Object} config The input configuration.\n     * @param {string} dependencies Dependencies for the class(labelManager)\n     * @memberof Text\n     */\n    constructor (config, dependencies) {\n        super(config);\n\n        this._dependencies = dependencies;\n        this._className = this._config.className ||\n                    (this._config.type === HEADER ? `${CLASSPREFIX}-${HEADER}-cell` : `${CLASSPREFIX}-${TEXT}-cell`);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'), this._className);\n        this._dependencies.labelManager.setStyle(this._computedStyle);\n        generateGetterSetters(this, PROPS[TEXT]);\n        const space = this._dependencies.labelManager.getOriSize('w');\n        this.minSpacing({ width: Math.floor(space.width * 3 / 4), height: Math.floor(space.height / 2) });\n        setSmartText(this);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof TextCell\n     */\n    get type () {\n        return TEXT;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof TextCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the Text cell.\n     *\n     * @return {string} The unique identifier for the Text.\n     * @memberof TextCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the dependencies of the instance\n     *\n     * @return {Object} Dependencies needed by the class\n     * @memberof TextCell\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof TextCell\n     */\n    serialize () {\n        return {\n            text: this.source(),\n            type: TEXT\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof TextCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    static formalName () {\n        return CONSTANTS.TEXT_CELL;\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof Text\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeTextSpace(this));\n        }\n        const space = computeTextSpace(this);\n        this.logicalSpace(space);\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        setSmartText(this);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the Text cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof Text\n     */\n    render (mount) {\n        const availWidth = this.availWidth();\n        const availHeight = this.availHeight();\n        const {\n            margin,\n            show,\n            verticalAlign,\n            textAlign,\n            rotation,\n            padding,\n            type,\n            headerPadding,\n            className,\n            titlePadding\n        } = this.config();\n\n        this.mount(mount);\n        if (show) {\n            const container = selectElement(mount);\n            let elem = makeElement(container, 'div', [this.id], `${CLASSPREFIX}-${TEXT_CELL}`);\n            const vAlign = verticalAlign || rotation ? 'middle' : 'top';\n            const {\n                width,\n                height\n            } = this.smartText();\n            const {\n                height: minHeightSpace\n            } = this.minSpacing();\n            const translation = {\n                top: width + minHeightSpace / 2,\n                middle: width / 2 + minHeightSpace,\n                bottom: minHeightSpace\n            };\n\n            container.style('vertical-align', vAlign);\n\n            // Set class name\n            elem.classed(this._className, true);\n\n            // Apply styles\n            elem.style('display', 'inline');\n            elem.style('transform', rotation ? `translate(${height / 2}px,\n                ${translation[vAlign]}px) rotate(-90deg)` : '');\n            elem.style(WIDTH, availWidth ? `${availWidth}px` : '100%');\n\n            [TOP, BOTTOM, LEFT, RIGHT].forEach((position) => {\n                container.style(`margin-${position}`, `${margin[position]}px`);\n            });\n\n            elem = setPadding({ elem, className, headerPadding, padding, type, titlePadding });\n            if (this._className === 'muze-grid-headers') {\n                elem.style('text-align', textAlign);\n            }\n            elem.style('display', 'inline');\n            // set the text as the innerHTML\n            this._dependencies.labelManager.setStyle(this._computedStyle);\n            elem.html(this._dependencies.labelManager.getSmartText(this.source(), availWidth, availHeight, true).text);\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n }\n\nexport default TextCell;\n","// extracted by mini-css-extract-plugin","import { MeasureSubtype, DimensionSubtype, FieldType } from 'muze-utils';\n\nimport { ScaleType } from '@chartshq/muze-axis';\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    [FieldType.DIMENSION]: ScaleType.BAND,\n    [DimensionSubtype.CATEGORICAL]: ScaleType.BAND,\n    [DimensionSubtype.TEMPORAL]: ScaleType.TIME,\n    [FieldType.MEASURE]: ScaleType.LINEAR,\n    [MeasureSubtype.CONTINUOUS]: ScaleType.LINEAR,\n    [DimensionSubtype.BINNED]: ScaleType.BAND\n};\n","import { layerFactory } from '@chartshq/visual-layer';\nimport {\n    mergeRecursive,\n    STATE_NAMESPACES,\n    unionDomain,\n    COORD_TYPES,\n    toArray,\n    sortCategoricalField\n} from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport {\n    generateAxisFromMap,\n    getDefaultMark,\n    getIndex,\n    getLayerConfFromFields,\n    getAdjustedDomain,\n    sanitizeIndividualLayerConfig,\n    getSortingConfig\n} from './encoder-helper';\nimport { retriveDomainFromData } from '../group-helper';\n\nimport { ROW, COLUMN, COL, LEFT, TOP, MEASURE, BOTH, X, Y, TEMPORAL } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\nconst CARTESIAN = COORD_TYPES.CARTESIAN;\n\n/**\n *\n *\n * @export\n * @class CartesianEncoder\n * @extends {VisualEncoder}\n */\nexport default class CartesianEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     *\n     * @memberof CartesianEncoder\n     */\n    static type () {\n        return CARTESIAN;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     *\n     * @memberof CartesianEncoder\n     */\n    createAxis (axesCreators, fieldInfo, context) {\n        const geomCellAxes = {};\n        const {\n            axes\n        } = axesCreators;\n        const {\n            projections,\n            indices\n        } = fieldInfo;\n        const {\n            rowFields,\n            columnFields\n        } = projections;\n        const {\n             rowIndex,\n             columnIndex\n        } = indices;\n        const axisFields = [{\n            fields: rowFields,\n            index: rowIndex\n        }, {\n            fields: columnFields,\n            index: columnIndex\n        }];\n        const { resolver, facetFields, geomCell } = context;\n        const xAxes = axes.x || [];\n        const yAxes = axes.y || [];\n\n        [rowFields, columnFields].forEach((fields, i) => {\n            const type = i === 0 ? ROW : COLUMN;\n            const axis = i === 0 ? Y : X;\n\n            if (fields.length > 1) {\n                axesCreators.position = BOTH;\n            } else {\n                axesCreators.position = this.axisFrom()[type];\n            }\n            geomCellAxes[axis] = generateAxisFromMap(axis, axisFields[i], axesCreators, {\n                groupAxes: axis === X ? xAxes : yAxes,\n                valueParser: resolver.valueParser()\n            }, indices, facetFields);\n        });\n        geomCell.axes(geomCellAxes);\n        return geomCellAxes;\n    }\n\n    unionUnitDomains (context) {\n        const store = context.store();\n        const resolver = context.resolver();\n        const units = resolver.units();\n        const domains = {\n            0: {},\n            1: {}\n        };\n        const fieldsObj = {\n            0: {},\n            1: {}\n        };\n\n        for (let rIdx = 0, len = units.length; rIdx < len; rIdx++) {\n            const unitsArr = units[rIdx];\n            for (let cIdx = 0, len2 = unitsArr.length; cIdx < len2; cIdx++) {\n                const unit = unitsArr[cIdx];\n                const axisFields = unit.fields();\n                const encodingDomains = unit.dataDomain();\n                ['x', 'y'].forEach((axisType, axisTypeIndex) => {\n                    const fieldArr = axisFields[axisType];\n                    fieldArr.forEach((field, axisIndex) => {\n                        const key = !axisTypeIndex ? `0${cIdx}${axisIndex}` : `${rIdx}0${axisIndex}`;\n                        const dom = encodingDomains[axisType];\n                        const typeOfField = field.subtype();\n                        fieldsObj[axisTypeIndex][key] = field;\n\n                        if (dom && Object.keys(dom).length !== 0) {\n                            domains[axisTypeIndex][key] = unionDomain([(domains[axisTypeIndex] &&\n                                domains[axisTypeIndex][key]) || [], dom[`${field}`]], typeOfField);\n                        }\n                    });\n                });\n            }\n        }\n\n        const { x: xAxes, y: yAxes } = resolver.axes();\n        store.lockModel();\n        [xAxes, yAxes].forEach((axesArr, axisType) => {\n            axesArr.forEach((axes, idx) => {\n                let key;\n                let domain = [];\n                let adjustedDomain = [];\n                const min = [];\n                const max = [];\n                const typeOfAxis = axes[0].constructor.type();\n\n                if (axes.length > 1 && typeOfAxis === ScaleType.LINEAR && axes[0].config().alignZeroLine) {\n                    axes.forEach((axis, i) => {\n                        key = !axisType ? `0${idx}${i}` : `${idx}0${i}`;\n                        domain = domains[axisType][key];\n                        min[i] = domain[0];\n                        max[i] = domain[1];\n                    });\n                    adjustedDomain = getAdjustedDomain(max, min);\n                } else if (typeOfAxis === ScaleType.BAND) {\n                    /* Sort categorical fields to ensure consistency across all rows\n                    only if sorted by user */\n                    key = !axisType ? `0${idx}0` : `${idx}00`;\n                    const currentFieldName = fieldsObj[axisType][key].oneVar();\n                    const sortingOrder = getSortingConfig(context, currentFieldName, axes[0].config);\n                    if (sortingOrder && domains[axisType][key] instanceof Array) {\n                        domains[axisType][key].sort((a, b) => sortCategoricalField(sortingOrder, a, b));\n                    }\n                }\n\n                axes.forEach((axis, index) => {\n                    key = !axisType ? `0${idx}${index}` : `${idx}0${index}`;\n                    domain = adjustedDomain[index] || domains[axisType][key];\n\n                    domain && axis.domain(domain);\n                    const type = !axisType ? 'x' : 'y';\n                    store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${type}`, domain, `${idx}${index}`);\n                });\n            });\n        });\n        store.unlockModel();\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     *\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields, type) {\n        let facets = [];\n        let projections = [];\n        let counter = 0;\n        const primaryFacets = [];\n        const secondaryFacets = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n        const axisFrom = this.axisFrom();\n\n        for (let i = 0; i < primaryLen; i++) {\n            let projArr = [primaryFields[i]];\n            const primaryField = primaryFields[i];\n\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter];\n                if (secondaryField && secondaryField.type() === MEASURE) {\n                    counter++;\n                    projArr = [primaryField, secondaryField];\n                }\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n                primaryFacets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                    secondaryFacets.push(secondaryField);\n                }\n            }\n        }\n        if ((primaryFacets.length || secondaryFacets.length) && !projections.length) {\n            type = type === COL ? COLUMN : type;\n            if ((axisFrom[type] === LEFT || axisFrom[type] === TOP) && primaryFacets.length) {\n                const axisFromIndex = primaryFacets.length - 1;\n                const facet = primaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(secondaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    secondaryFacets.splice(existIndex, 1);\n                }\n                primaryFacets.splice(axisFromIndex, 1);\n            } else {\n                const axisFromIndex = 0;\n                const facet = secondaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(primaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    primaryFacets.splice(existIndex, 1);\n                }\n                secondaryFacets.splice(axisFromIndex, 1);\n            }\n        }\n\n        facets = [...primaryFacets, ...secondaryFacets];\n        facets = facets.filter((el, index, self) => index === self.findIndex(t => (t.toString() === el.toString())));\n        return {\n            facets,\n            projections\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     *\n     * @memberof CartesianEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        return super.fieldSanitizer(datamodel, config);\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     *\n     * @memberof CartesianEncoder\n     */\n    getRetinalFieldsDomain (dataModels, encoding) {\n        const groupedModel = dataModels.groupedModel;\n        const domains = {};\n        for (const key in encoding) {\n            if ({}.hasOwnProperty.call(encoding, key)) {\n                const encodingObj = encoding[key];\n                const field = encodingObj.field;\n                if (!encodingObj.domain && field) {\n                    let domain = retriveDomainFromData(groupedModel, field);\n                    const fieldInstance = groupedModel.getFieldspace().fieldsObj()[field];\n                    const isTemporalField = fieldInstance.schema().subtype === TEMPORAL;\n\n                    if (isTemporalField) {\n                        domain = fieldInstance.data();\n                    }\n\n                    domains[field] = domain;\n                }\n            }\n        }\n        return domains;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     * @memberof CartesianEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n        // let currentLayerIndex = 0;\n        layerArray.length && layerArray.forEach((layer, i) => {\n            const def = layerFactory.sanitizeLayerConfig(layer);\n            def.order = i;\n            serializedLayers.push(def);\n        });\n        return serializedLayers;\n    }\n\n    sanitizeLayerConfig (encodingConfigs, userLayerConfig) {\n        const layerConfig = [];\n        userLayerConfig.forEach((config) => {\n            const def = toArray(config.def);\n            sanitizeIndividualLayerConfig(encodingConfigs, def);\n            layerConfig.push(config);\n        });\n        return layerConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof CartesianEncoder\n     */\n    getLayerConfig (fields, userLayerConfig, retinalConfig) {\n        const layerConfig = [];\n        const {\n            columnFields,\n            rowFields\n        } = fields;\n\n        // let currentLayerIndex = 0;\n        columnFields.forEach((colField) => {\n            const colFieldName = colField.toString();\n            rowFields.forEach((rowField) => {\n                let configs = [];\n                const rowFieldName = rowField.toString();\n                const encoding = {\n                    x: {\n                        field: colFieldName\n                    },\n                    y: {\n                        field: rowFieldName\n                    }\n                };\n                const rowFieldType = rowField.subtype();\n                const colFieldType = colField.subtype();\n                const mark = getDefaultMark(colFieldType, rowFieldType);\n\n                const defConfigs = [{\n                    mark,\n                    def: {\n                        mark,\n                        encoding\n                    }\n                }];\n\n                const layerConfigs = getLayerConfFromFields(colField.getMembers(),\n                    rowField.getMembers(), userLayerConfig || []);\n                if (layerConfigs.length) {\n                    configs = layerConfigs.map((layerConf) => {\n                        const mergedLayerConf = mergeRecursive(mergeRecursive({}, defConfigs[0].def), layerConf);\n                        const serializedLayerConfig = layerFactory.getSerializedConf(mergedLayerConf.mark,\n                            mergedLayerConf);\n                        return {\n                            mark: mergedLayerConf.mark,\n                            order: mergedLayerConf.order,\n                            def: serializedLayerConfig\n                        };\n                    });\n                } else {\n                    configs = defConfigs;\n                }\n\n                layerConfig.push(...configs);\n            });\n        });\n        return this.sanitizeLayerConfig(retinalConfig, layerConfig);\n    }\n\n    hasMandatoryFields (fields) {\n        const { colProjections, rowProjections } = fields;\n        const colFields = super.hasMandatoryFields({ colProjections });\n        const rowFields = super.hasMandatoryFields({ rowProjections });\n        return colFields && rowFields;\n    }\n}\n","import { mergeRecursive, getObjProp } from 'muze-utils';\nimport { AxisOrientation } from '@chartshq/muze-axis';\nimport { ENCODING } from '@chartshq/visual-layer';\nimport { scaleMaps } from '../enums/scale-maps';\nimport { getAxisType, getAxisKey } from '../group-helper';\nimport { dataTypeScaleMap } from '../data-type-scale-map';\nimport { CATEGORICAL, TEMPORAL, BAR, LINE, POINT, BOTH, Y, COLOR, SHAPE, SIZE, ANGLE0 } from '../enums/constants';\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n *\n */\nconst getAxisConfig = (axisInfo, field, axesCreators, indices, facetFields) => {\n    let axisOrientation;\n    const { index, axisIndex, axisType } = axisInfo;\n    const { config, position } = axesCreators;\n    const { rowIndex, columnIndex } = indices;\n    const rawUserAxisConfig = config.axes ? (config.axes[axisType] || {}) : {};\n\n    // Change config object to a function if not already one\n    const userAxisConfigFn = typeof rawUserAxisConfig !== 'function' ?\n    () => rawUserAxisConfig : rawUserAxisConfig;\n    const userAxisConfig = userAxisConfigFn(rowIndex, columnIndex, {\n        axisFields: field.getMembers(),\n        facetFields\n    });\n\n    // If current config does not specifes config for an axis, retain old config\n    if (!userAxisConfig) {\n        return {};\n    }\n\n    const {\n        LEFT,\n        RIGHT,\n        TOP,\n        BOTTOM\n    } = AxisOrientation;\n    const allOrientations = axisType === Y ? [LEFT, RIGHT] : [TOP, BOTTOM];\n\n    if (position === BOTH) {\n        axisOrientation = allOrientations[axisIndex];\n    } else {\n        axisOrientation = position;\n    }\n    const axisConfig = {\n        id: `${axisType}-${index}-${axisIndex}`,\n        name: field.displayName(),\n        field: field.toString(),\n        numberFormat: field.numberFormat(),\n        orientation: axisOrientation,\n        showAxisName: true,\n        show: true,\n        type: dataTypeScaleMap[field.subtype()]\n    };\n    userAxisConfig.tickValues = field.format(userAxisConfig.tickValues);\n    userAxisConfig.domain = field.format(userAxisConfig.domain);\n\n    return mergeRecursive(axisConfig, userAxisConfig);\n};\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n *\n */\nconst createSimpleAxis = (axisConfig, field, axesCreators) => {\n    const { labelManager } = axesCreators;\n    const Cls = scaleMaps[dataTypeScaleMap[field.subtype()]];\n    const simpleAxis = new Cls(axisConfig, { labelManager });\n    return simpleAxis;\n};\n\nexport const getAdjustedDomain = (max, min) => {\n    const y1ratio = max[0] / (max[0] - min[0]);\n    const y2ratio = max[1] / (max[1] - min[1]);\n\n    // adjust min/max values for positive negative values zero line etc\n    let allSameSign = false;\n\n    // if all numbers are positive set floor to zero\n    if (min[0] > 0 && min[1] > 0 && min[1] > 0 && max[1] > 0) {\n        allSameSign = true;\n        min[0] = 0;\n        min[1] = 0;\n    }\n\n    // if all numbers are negative set ceiling to zero\n    if (min[0] < 0 && min[1] < 0 && min[1] < 0 && max[1] < 0) {\n        allSameSign = true;\n        max[0] = 0;\n        max[1] = 0;\n    }\n\n    // align zero line if necessary\n    if (!allSameSign && y1ratio !== y2ratio) {\n        if (y1ratio < y2ratio) {\n                    // adjust min[1]\n            min[1] = min[0] / max[0] * max[1];\n        } else {\n                    // adjust min[0]\n            min[0] = min[1] / max[1] * max[0];\n        }\n    }\n    return [\n        [min[0], max[0]],\n        [min[1], max[1]]\n    ];\n};\n\n/**\n *\n *\n * @param {*} axisType\n * @param {*} fieldInfo\n * @param {*} axesCreators\n * @param {*} groupAxes\n *\n */\nexport const generateAxisFromMap = (axisType, fieldInfo, axesCreators, axesInfo, indices, facetFields) => {\n    let axisKey;\n    const { groupAxes, valueParser } = axesInfo;\n    const currentAxes = [];\n    const { fields, index } = fieldInfo;\n    const { cacheMaps } = axesCreators;\n    const map = cacheMaps[`${axisType}AxesMap`];\n\n    const commonAxisKey = getAxisKey(axisType, index);\n    fields.forEach((field, axisIndex) => {\n        axisKey = getAxisKey(axisType, index, axisIndex, dataTypeScaleMap[field.subtype()]);\n        const axisConfig = getAxisConfig({ index, axisIndex, axisType }, field, axesCreators, indices, facetFields);\n\n        let axis;\n        if (!map.has(axisKey)) {\n            axis = createSimpleAxis(axisConfig, field, axesCreators);\n        } else {\n            axis = map.get(axisKey);\n            axis._rotationLock = false;\n            axis.config(axisConfig);\n        }\n        axis.valueParser(valueParser);\n        currentAxes.push(axis);\n        map.set(axisKey, axis);\n    });\n\n    if (currentAxes.length) {\n        map.set(commonAxisKey, currentAxes);\n        groupAxes.add(commonAxisKey);\n    }\n\n    return currentAxes;\n};\n\nexport const sanitizeIndividualLayerConfig = (encodingConfigs, def) => {\n    [COLOR, SHAPE, SIZE].forEach((axis) => {\n        if (encodingConfigs[axis] && encodingConfigs[axis].field) {\n            def.forEach((conf) => {\n                conf.encoding = conf.encoding || {};\n                !conf.encoding[axis] && (conf.encoding[axis] = {});\n                conf.encoding[axis].field = encodingConfigs[axis].field;\n            });\n        }\n    });\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n    const xAxes = [];\n    const yAxes = [];\n\n    xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes.push(xAxis);\n    });\n    yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes.push(yAxis);\n    });\n    return {\n        xAxes, yAxes\n    };\n};\n\n/**\n * return a default mark based on predefined set of rules of type and subtype of the fields\n *\n * @param {string} colFieldType dimension/measure - temporal/ordinal/nominal\n * @param {string} rowFieldType dimension/measure - temporal/ordinal/nominal\n * @return {Object} return mark type\n */\nexport const getDefaultMark = (colFieldType, rowFieldType) => {\n    let mark;\n\n    if (colFieldType === CATEGORICAL || rowFieldType === CATEGORICAL) {\n        mark = BAR;\n    } else if (colFieldType === TEMPORAL || rowFieldType === TEMPORAL) {\n        mark = LINE;\n    } else {\n        mark = POINT;\n    }\n\n    return mark;\n};\n\n/**\n *\n *\n * @param {*} axesCreators\n * @param {*} [fieldInfo=[]]\n *\n */\nexport const createRetinalAxis = (axesCreators, fieldProps = {}) => {\n    const { axisType, fieldsConfig } = axesCreators;\n    const field = fieldProps.field;\n    const axis = [];\n    const Cls = scaleMaps[axisType];\n\n    fieldProps.type = fieldProps.type ? fieldProps.type : getAxisType(fieldsConfig, field || null);\n    axis.push(new Cls(fieldProps));\n    return axis;\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} val\n *\n */\nexport const getIndex = (arr, val) => {\n    let i = 0;\n    let arrIndex = -1;\n\n    while (arrIndex === -1 && i < arr.length) {\n        if (arr[i].toString() === val.toString()) {\n            arrIndex = i;\n        }\n        i++;\n    }\n    return arrIndex;\n};\n\n/**\n *\n *\n * @param {*} colFields\n * @param {*} rowFields\n * @param {*} userLayerConfig\n *\n * @memberof CartesianEncoder\n */\nexport const getLayerConfFromFields = (colFields, rowFields, userLayerConfig) => userLayerConfig.filter((conf) => {\n    const userConf = conf instanceof Array ? conf : [conf];\n    const encodingArr = [].concat(...userConf.map(d => d.encoding).filter(d => d !== undefined));\n\n    if (!encodingArr.length) {\n        return true;\n    }\n\n    const xFields = [].concat(...encodingArr.map(d => [d.x && d.x.field, d.x0 && d.x0.field]))\n                .filter(d => d !== undefined && d !== null);\n    const yFields = [].concat(...encodingArr.map(d => [d.y && d.y.field, d.y0 && d.y0.field]))\n                .filter(d => d !== undefined && d !== null);\n\n    if (!xFields.length && !yFields.length) {\n        return true;\n    }\n\n    const colFieldExist = xFields.length ? xFields.every(d => colFields.indexOf(d) !== -1) : false;\n    const rowFieldExist = yFields.length ? yFields.every(d => rowFields.indexOf(d) !== -1) : false;\n    if (xFields.length && yFields.length) {\n        return colFieldExist && rowFieldExist;\n    }\n    return colFieldExist || rowFieldExist;\n});\n\nexport const resolveAxisConfig = (context, fieldInf, axisInfo) => {\n    const { rowIndex, columnIndex, axesObj } = axisInfo;\n    const { config, facetFields, resolver } = context;\n    const resolverAxes = resolver.axes();\n    const { RADIUS, ANGLE } = ENCODING;\n    [RADIUS, ANGLE, ANGLE0].forEach((enc) => {\n        const axesArr = resolverAxes[enc];\n        if (!axesArr[rowIndex]) {\n            axesArr[rowIndex] = [];\n        }\n        axesArr[rowIndex][columnIndex] = axesObj[enc];\n        const axisConfig = getObjProp(config.axes, enc) || {};\n\n        axesObj[enc].forEach((axis, i) => {\n            let userConfig = axisConfig;\n            if (axisConfig instanceof Function) {\n                userConfig = axisConfig(rowIndex, columnIndex, {\n                    axisFields: [fieldInf[enc][i]],\n                    facetFields\n                });\n            }\n            axis.config(userConfig);\n        });\n    });\n};\n\nexport const getSortingConfig = (context, currentFieldName, axesConfig) => {\n    const config = context.config();\n    const dataModel = context.data();\n\n    let lastSortConfig = null;\n    if (Object.keys(config.sort).length !== 0) {\n        return config.sort[currentFieldName];\n    }\n\n    const operations = [...dataModel.getAncestorDerivations(), ...dataModel.getDerivations()];\n\n    while (lastSortConfig = operations.pop()) {\n        if (lastSortConfig.op === 'sort') break;\n    }\n    if (lastSortConfig &&\n        lastSortConfig.criteria.length &&\n        lastSortConfig.criteria[0][0] === currentFieldName) {\n        return lastSortConfig.criteria[0][1];\n    }\n    return axesConfig().defaultSort;\n};\n","import { ComposedVars, SimpleVariable } from '../variable';\nimport { DIMENSION, COLUMNS, ROWS, TEMPORAL } from '../enums/constants';\n\n/**\n * Gets the list of fields in a sorted order by measurement and dimension\n *\n * @param {Array} fieldList List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields sorted by measurement and dimensions\n */\nconst orderFields = (fieldArray, type) => {\n    const dimensionArr = [[], []];\n    const measureArr = [[], []];\n    const temporalArr = [[], []];\n    const categoricalArr = [[], []];\n\n    fieldArray.forEach((fieldList, index) => {\n        fieldList.forEach((field) => {\n            if (field.type() === DIMENSION) {\n                dimensionArr[index].push(field);\n                field.subtype() === TEMPORAL ? temporalArr[index].push(field) : categoricalArr[index].push(field);\n            } else {\n                measureArr[index].push(field);\n            }\n        });\n    });\n\n    const numOfMeasures = measureArr[0].length + (measureArr[1] ? measureArr[1].length : 0);\n\n    // Single array of fields\n    if (!fieldArray[1]) {\n        // Push measures to bottom\n        measureArr[1] = type === COLUMNS ? measureArr[0] : [];\n        // Push measures to left\n        measureArr[0] = type !== COLUMNS ? measureArr[0] : [];\n        // Bottom and right dimensions empty\n        dimensionArr[1] = [];\n        // Left and top filled with dimensions\n        dimensionArr[0] = dimensionArr[0];\n        if (numOfMeasures === 0) {\n            const allDimensions = [...dimensionArr[0], ...dimensionArr[1]];\n            if (type === COLUMNS) {\n                dimensionArr[1] = allDimensions[allDimensions.length - 1] ? [allDimensions[allDimensions.length - 1]]\n                        : [];\n                allDimensions.splice(-1, 1);\n            } else {\n                dimensionArr[1] = [];\n            }\n            dimensionArr[0] = [...allDimensions];\n        }\n    }\n\n    if (dimensionArr[0].length && dimensionArr[1].length && numOfMeasures > 0) {\n        dimensionArr[0] = [...dimensionArr[0], ...dimensionArr[1]];\n        dimensionArr[1] = [];\n    }\n    return {\n        fields: dimensionArr.map((list, i) => (i === 1 ?\n            measureArr[i].concat(dimensionArr[i]) : dimensionArr[i].concat(measureArr[i]))),\n        dimensions: [...dimensionArr[0], ...dimensionArr[1]],\n        measures: [...measureArr[0], ...measureArr[1]],\n        temporal: [...temporalArr[0], ...temporalArr[1]],\n        categorical: [...categoricalArr[0], ...categoricalArr[1]]\n    };\n};\n\n/**\n * Gets the list of normalized fields\n *\n * @param {Array} fields List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields normalized by measurement and dimensions\n */\nconst normalizeFields = (config, type) => {\n    const fieldsArr = [];\n    const fields = config[type];\n\n    if (!(fields[0] instanceof Array)) {\n        fieldsArr[0] = fields;\n    } else {\n        fieldsArr[0] = fields[0] || [];\n        fieldsArr[1] = fields[1] || [];\n    }\n    return fieldsArr;\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} datamodel\n *\n */\nconst convertToVar = (datamodel, fields) => {\n    const vars = [];\n\n    fields && fields.forEach((field) => {\n        if (field instanceof ComposedVars) {\n            vars.push(field);\n            field.data(datamodel);\n        } else {\n            vars.push(new SimpleVariable(field).data(datamodel));\n        }\n    });\n    return vars;\n};\n\n/**\n *\n *\n * @param {*} rows\n * @param {*} columns\n * @param {*} datamodel\n *\n */\nexport const transformFields = (datamodel, config) => {\n    const [rowsInfo, columnsInfo] = [ROWS, COLUMNS].map((fields) => {\n        const normalizedFields = normalizeFields(config, fields);\n        const norFields = [convertToVar(datamodel, normalizedFields[0])];\n\n        if (normalizedFields[1]) {\n            norFields[1] = convertToVar(datamodel, normalizedFields[1]);\n        }\n        return orderFields(norFields, fields);\n    });\n    const {\n        fields: rows,\n        dimensions: rowDimensions,\n        measures: rowMeasures,\n        temporal: rowTemporalFields,\n        categorical: rowCategoricalFields\n    } = rowsInfo;\n    const {\n        fields: columns,\n        dimensions: columnDimensions,\n        measures: columnMeasures,\n        temporal: columnTemporalFields,\n        categorical: columnCategoricalFields\n    } = columnsInfo;\n    return {\n        rows,\n        rowDimensions,\n        rowMeasures,\n        rowTemporalFields,\n        rowCategoricalFields,\n        columns,\n        columnTemporalFields,\n        columnCategoricalFields,\n        columnDimensions,\n        columnMeasures\n    };\n};\n","export { default as VisualEncoder } from './visual-encoder';\nexport { default as CartesianEncoder } from './cartesian-encoder';\nexport { default as PolarEncoder } from './polar-encoder';\nexport { default as RetinalEncoder } from './retinal-encoder';\n","import { AngleAxis, RadiusAxis } from '@chartshq/muze-axis';\nimport { layerFactory, ENCODING } from '@chartshq/visual-layer';\nimport {\n    mergeRecursive,\n    STATE_NAMESPACES,\n    GROUP_BY_FUNCTIONS,\n    COORD_TYPES,\n    toArray,\n    getObjProp,\n    defaultValue\n} from 'muze-utils';\nimport VisualEncoder from './visual-encoder';\nimport { SIZE, MEASURE, ARC, COLOR } from '../enums/constants';\nimport { sanitizeIndividualLayerConfig, resolveAxisConfig } from './encoder-helper';\nimport { SimpleVariable } from '../variable';\n\nconst POLAR = COORD_TYPES.POLAR;\nconst { RADIUS, ANGLE, ANGLE0 } = ENCODING;\n\nconst axesCls = {\n    [RADIUS]: RadiusAxis,\n    [ANGLE]: AngleAxis,\n    [ANGLE0]: AngleAxis\n};\n\nconst getSizeMultiplier = (sizeVal, sizeAxis) => {\n    const sizeAxisDomain = sizeAxis.domain();\n    const sizeMultiplier = sizeAxis.getSize(sizeVal) / (sizeAxisDomain ? sizeAxis.range()[1] : sizeAxis.config().value);\n    return sizeMultiplier;\n};\n\nconst setRadiusFactor = (context) => {\n    const data = context.data();\n    const sizeField = context.retinalFields().size.field;\n    const { radius, size } = context.axes();\n\n    if (sizeField && radius && radius.length) {\n        const sizeFieldIndex = data.getFieldsConfig()[sizeField].index;\n        const sizeVal = data.getData().data.reduce((acc, val) => acc + val[sizeFieldIndex], 1);\n        const sizeMultiplier = getSizeMultiplier(sizeVal, size[0]);\n        radius.forEach(axis => axis.setRadiusFactor(sizeMultiplier));\n    }\n};\n\n/**\n *\n *\n * @export\n * @class PolarEncoder\n * @extends {VisualEncoder}\n */\nexport default class PolarEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     *\n     * @memberof PolarEncoder\n     */\n    createAxis (axesCreators, fieldInfo, context) {\n        const {\n            axes\n        } = axesCreators;\n        const geomCellAxes = axes;\n        const {\n            indices\n        } = fieldInfo;\n        const {\n            rowIndex,\n            columnIndex\n        } = indices;\n        // Dummy axes for polar, to create blank cells\n        const pieAxes = geomCellAxes.pie || [];\n\n        pieAxes[rowIndex] = pieAxes[rowIndex] || [];\n        pieAxes[rowIndex][columnIndex] = [];\n\n        const axesObj = {};\n        const { geomCell, resolver } = context;\n        const layers = resolver.matrixLayers();\n        const resolverAxes = resolver.axes();\n        const cellLayers = layers[rowIndex][columnIndex];\n        const fields = {\n            radius: {},\n            angle: {},\n            angle0: {}\n        };\n\n        cellLayers.forEach((layerConf) => {\n            const def = layerConf.def;\n            [ANGLE, ANGLE0, RADIUS].forEach((enc) => {\n                const field = getObjProp(def.encoding, enc, 'field');\n                field && (fields[enc][field] = 0);\n            });\n        });\n        const fieldInf = {};\n        const varInstances = {};\n\n        for (const encType in fields) {\n            fieldInf[encType] = Object.keys(fields[encType]);\n            axesObj[encType] = [];\n            varInstances[encType] = [];\n            fieldInf[encType].forEach((field, i) => {\n                varInstances[encType][i] = new SimpleVariable(field);\n                axesObj[encType][i] = new axesCls[encType]();\n            });\n            axesObj[encType][axesObj[encType].length] = new axesCls[encType]();\n        }\n        resolveAxisConfig(context, fieldInf, {\n            axesObj,\n            rowIndex,\n            columnIndex\n        });\n        geomCell.axes(axesObj)\n            .fields(Object.assign({}, varInstances, geomCell.fields()));\n        resolverAxes.pie = pieAxes;\n        return geomCellAxes;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     *\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields) {\n        let counter = 0;\n        const facets = [];\n        const projections = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n\n        for (let i = 0; i < primaryLen; i++) {\n            const primaryField = primaryFields[i];\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter++];\n                const projArr = secondaryField ? [primaryField, secondaryField] : [primaryField];\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                }\n            }\n        }\n        return {\n            facets,\n            projections\n        };\n    }\n\n    unionUnitDomains (context) {\n        const store = context.store();\n        store.lockModel();\n        const domainProps = {\n            radius: [],\n            angle: [],\n            angle0: []\n        };\n        const axes = context.resolver().axes();\n        context.matrixInstance().value.each((cell, rIdx, cIdx) => {\n            const unit = cell.valueOf();\n            const unitDomains = unit.dataDomain();\n            const fields = unit.fields();\n            setRadiusFactor(unit);\n            [RADIUS, ANGLE, ANGLE0].forEach((encType) => {\n                const encodingFields = fields[encType];\n                const domains = unitDomains[encType] || {};\n                encodingFields.forEach((field, i) => {\n                    !domainProps[encType][rIdx] && (domainProps[encType][rIdx] = []);\n                    !domainProps[encType][rIdx][cIdx] && (domainProps[encType][rIdx][cIdx] = []);\n                    domainProps[encType][rIdx][cIdx][i] = domains[`${field}`] || [];\n                });\n            });\n        });\n\n        for (const key in domainProps) {\n            const specificAxes = axes[key];\n            specificAxes.forEach((axesArr, rIdx) => {\n                axesArr.forEach((axisArr, cIdx) => {\n                    axisArr.forEach((axis, i) => {\n                        axis.domain(defaultValue(getObjProp(domainProps[key], rIdx, cIdx, i), []));\n\n                        store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${key}`, domainProps[key],\n                            `${rIdx}-${cIdx}`);\n                    });\n                });\n            });\n        }\n        store.unlockModel();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PolarEncoder\n     */\n    setCommonDomain () {\n        // No domain to be set\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PolarEncoder\n     */\n    static type () {\n        return POLAR;\n    }\n\n    layers (...layers) {\n        if (layers.length) {\n            this._layers = layers[0];\n            return this;\n        }\n        return this._layers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @memberof PolarEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        let sanitizedRows = [[], []];\n        let sanitizedColumns = [[], []];\n        const fields = super.fieldSanitizer(datamodel, config);\n        const {\n            layers\n        } = config;\n        const {\n            rows,\n            columns\n        } = fields;\n        const layer = layers[0];\n        const encoding = layer.encoding;\n        const radius = encoding && encoding.radius ? encoding.radius.field : null;\n        const angle = encoding && encoding.angle ? encoding.angle.field : null;\n        const sanitizedFields = [sanitizedRows, sanitizedColumns];\n\n        [rows, columns].forEach((fieldType, typeIndex) => {\n            fieldType.forEach((fieldSet, i) => fieldSet.forEach((field) => {\n                if (field.toString() !== radius && field.toString() !== angle && field.type() !== MEASURE) {\n                    sanitizedFields[typeIndex][i].push(field);\n                }\n            }));\n        });\n        sanitizedColumns = [...new Set(sanitizedColumns)];\n        sanitizedRows = [...new Set(sanitizedRows)];\n        this.fieldInfo({ rows: sanitizedRows, columns: sanitizedColumns });\n        return this.fieldInfo();\n    }\n\n    getRetinalFieldsDomain (dataModels, encoding, facetFields, groupBy) {\n        let sizeField;\n        let colorField;\n        const fields = [];\n        const layers = this.layers();\n        const dataModel = dataModels.groupedModel;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const domains = {};\n        if (layers && layers[0]) {\n            const layer = layers[0];\n            const layerEncoding = layer.def.encoding || {};\n\n            [RADIUS, ANGLE, SIZE, COLOR].forEach((encType) => {\n                const field = layerEncoding[encType] ? layerEncoding[encType].field : '';\n                const measureField = fieldsConfig[field] && fieldsConfig[field].def.type === MEASURE;\n                if (encType === SIZE && measureField) {\n                    sizeField = field;\n                }\n                if (encType === COLOR) {\n                    colorField = field;\n                }\n                fieldsConfig[field] && !measureField && fields.push(field);\n            });\n        }\n\n        if (sizeField) {\n            domains[sizeField] = dataModel.groupBy(facetFields, {\n                [sizeField]: GROUP_BY_FUNCTIONS.SUM\n            }).getFieldspace().fieldsObj()[sizeField].domain();\n        }\n\n        if (colorField) {\n            const dm = dataModel.groupBy([...facetFields, ...fields], groupBy.measures);\n            domains[colorField] = dm.getFieldspace().fieldsObj()[colorField].domain();\n        }\n        return domains;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof PolarEncoder\n     */\n    getLayerConfig (fields, userLayerConfig, retinalConfig) {\n        let layerConfig = [];\n        const {\n                columnFields,\n                rowFields\n            } = fields;\n        const allFields = [...columnFields, ...rowFields];\n\n        allFields.forEach(() => {\n            const encoding = {};\n            let config = {\n                mark: ARC,\n                def: {\n                    encoding\n                }\n            };\n            if (userLayerConfig && userLayerConfig.length > 0) {\n                config = mergeRecursive(config, userLayerConfig[0]);\n            }\n            layerConfig.push(config);\n        });\n        if (layerConfig.length === 0) {\n            layerConfig = userLayerConfig;\n        }\n        const sanitizedConfig = this.sanitizeLayerConfig(retinalConfig, layerConfig);\n        this.layers(sanitizedConfig);\n        return sanitizedConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     *\n     * @memberof PolarEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n\n        layerArray.length && layerArray.forEach((layer) => {\n            const def = layerFactory.getSerializedConf(layer.mark, layer);\n            serializedLayers.push({\n                mark: layer.mark,\n                def\n            });\n        });\n        return serializedLayers;\n    }\n\n    sanitizeLayerConfig (encodingConfigs, userLayerConfig) {\n        const layerConfig = [];\n\n        userLayerConfig.forEach((config) => {\n            const def = toArray(config.def);\n            sanitizeIndividualLayerConfig(encodingConfigs, def);\n            def.forEach((conf) => {\n                const encoding = conf.encoding || (conf.encoding = {});\n                !encoding.angle && (encoding.angle = {});\n                const angleField = getObjProp(encoding.angle, 'field');\n                const angle0Field = getObjProp(encoding.angle0, 'field');\n\n                if (!angleField) {\n                    Object.assign(encoding.angle, {\n                        field: encodingConfigs.color && encodingConfigs.color.field\n                    });\n                }\n                if (!angle0Field) {\n                    !encoding.angle0 && (encoding.angle0 = {});\n                    Object.assign(encoding.angle0, {\n                        field: encoding.angle.field\n                    });\n                }\n            });\n\n            layerConfig.push(config);\n        });\n        return layerConfig;\n    }\n\n    hasMandatoryFields (fields) {\n        const { optionalProjections } = fields;\n        return super.hasMandatoryFields({ optionalProjections });\n    }\n}\n","export const PROPS = {\n    layers: {},\n    data: {},\n    globalConfig: {}\n};\n","import { createRetinalAxis } from './encoder-helper';\nimport { COLOR, SHAPE, SIZE } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\n/**\n *\n *\n * @export\n * @class RetinalEncoder\n * @extends {VisualEncoder}\n */\nexport default class RetinalEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     *\n     * @memberof RetinalEncoder\n     */\n    createAxis (axesCreators) {\n        const { fieldsConfig, config } = axesCreators;\n        const newAxes = {};\n\n        [COLOR, SHAPE, SIZE].forEach((axisType) => {\n            newAxes[`${axisType}`] = createRetinalAxis({ axisType, fieldsConfig }, config[axisType]);\n        });\n        return newAxes;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof RetinalEncoder\n     */\n    static type () {\n        return 'retinal';\n    }\n\n    /**\n     *\n     *\n     * @param {*} context\n     *\n     * @memberof RetinalEncoder\n     */\n    setCommonDomain (context) {\n        const { domains, axes, encoding } = context;\n\n        Object.entries(encoding).forEach((enc) => {\n            if (enc[1] && enc[1].field) {\n                const encType = enc[0];\n                const field = enc[1].field;\n\n                if (field) {\n                    axes[encType].forEach((axis) => {\n                        const domain = domains[field];\n                        !enc[1].domain && axis.updateDomain(domain);\n                    });\n                }\n            }\n        });\n\n        return axes;\n    }\n}\n","import { ERROR_MSG, mergeRecursive, generateGetterSetters } from 'muze-utils';\nimport { transformFields } from './field-sanitizer';\nimport { getHeaderAxisFrom, getFieldsFromSuppliedLayers, hasOneField } from '../group-helper/group-utils';\nimport { ROW, COLUMN } from '../enums/constants';\nimport { PROPS } from './props';\n\n/**\n *\n *\n * @export\n * @class VisualEncoder\n */\nexport default class VisualEncoder {\n\n    constructor () {\n        generateGetterSetters(this, PROPS);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    createAxis () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    setCommonDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    getLayerConfig () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    fieldInfo (...info) {\n        if (info.length) {\n            this._fieldInfo = mergeRecursive(this._fieldInfo || {}, info[0]);\n            return this;\n        }\n        return this._fieldInfo;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     *\n     * @memberof VisualEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        this.fieldInfo(transformFields(datamodel, config));\n        return this.fieldInfo();\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     *\n     * @memberof VisualEncoder\n     */\n    axisFrom (...params) {\n        if (params.length) {\n            this._axisFrom = params[0];\n            return this;\n        }\n        return this._axisFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     *\n     * @memberof VisualEncoder\n     */\n    headerFrom (...params) {\n        if (params.length) {\n            this._headerFrom = params[0];\n            return this;\n        }\n        return this.__headerFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axisFrom\n     *\n     * @memberof CartesianEncoder\n     */\n    setAxisAndHeaders (axisFrom = {}, fields) {\n        const [rowHeader, rowAxis] = getHeaderAxisFrom(ROW, fields.rows, axisFrom);\n        const [colHeader, colAxis] = getHeaderAxisFrom(COLUMN, fields.columns, axisFrom);\n\n        this.axisFrom({\n            row: rowAxis,\n            column: colAxis\n        });\n        this.headerFrom({\n            row: rowHeader,\n            column: colHeader\n        });\n        return this;\n    }\n\n    getProjectionFields (layers) {\n        return getFieldsFromSuppliedLayers(layers);\n    }\n\n    hasMandatoryFields (fields) {\n        return hasOneField(fields);\n    }\n}\n","/**\n * This file exports constants that are used as enums in the\n *  crosstab group implementation.\n */\n/**\n * Width of the crosstab.\n */\nexport const X = 'x';\n/**\n * Width of the crosstab.\n */\nexport const Y = 'y';\n/**\n * Width of the crosstab.\n */\nexport const WIDTH = 'width';\n\n/**\n * Height of the crosstab.\n */\nexport const HEIGHT = 'height';\n\n/**\n * Field referring to object storing measurement configuration.\n */\nexport const MEASUREMENT = 'measurement';\n\n/**\n * Field referring to object storing configuration properties.\n */\nexport const CONFIG = 'config';\n\n/**\n * Width of visual unit in crosstab.\n */\nexport const MIN_UNIT_WIDTH = 'minUnitWidth';\n\n/**\n * Height of visual unit.\n */\nexport const MIN_UNIT_HEIGHT = 'minUnitHeight';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSIONS = 'dimensions';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURES = 'measures';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSION = 'dimension';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURE = 'measure';\n\n/**\n * Flag to specify if model should be pivoted.\n */\nexport const PIVOT = 'pivot';\n\n/**\n * Flag to specify format\n */\nexport const FORMAT = 'format';\n\n/**\n * Mount point where the variable will be hosted\n */\nexport const MOUNT = 'mount';\n\n/**\n * Data update flag\n */\nexport const HAS_DATA_UPDATED = 'hasDataUpdated';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROWS = 'rows';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMNS = 'columns';\n\n/**\n * Field referring to object storing data\n */\nexport const DATA = 'data';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COL = 'col';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROW = 'row';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMN = 'column';\n\n/**\n * Field referring to object storing color field\n */\nexport const COLOR = 'color';\n\n/**\n * Field referring to object storing shape field\n */\nexport const SHAPE = 'shape';\n\n/**\n * Field referring to object storing size field\n */\nexport const SIZE = 'size';\n\n/**\n * Field referring to object storing detail field\n */\nexport const DETAIL = 'detail';\n\n/**\n * Field referring to object storing set of layers\n */\nexport const LAYERS = 'layers';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const TRANSFORM = 'transform';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const ORDINAL = 'ordinal';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const LINEAR = 'linear';\n/**\n * Field referring to object storing the transforms\n */\nexport const LEFT = 'left';\n/**\n * Field referring to object storing the transforms\n */\nexport const RIGHT = 'right';\n/**\n * Field referring to object storing the transforms\n */\nexport const TOP = 'top';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTTOM = 'bottom';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const RETINAL = 'retinal';\n/**\n * Field referring to object storing the transforms\n */\nexport const CELL = 'cell';\n/**\n * Field referring to object storing the transforms\n */\nexport const X_AXES = 'xAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const Y_AXES = 'yAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const ENTRY_CELLS = 'entryCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const INITIALIZED = 'initialized';\n/**\n * Field referring to object storing the transforms\n */\nexport const EXIT_CELLS = 'exitCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const AXIS = 'axis';\n/**\n * Field referring to object storing the transforms\n */\nexport const UNIT = 'unit';\n/**\n * Field referring to object storing the transforms\n */\nexport const UPDATED = 'updated';\n/**\n * Field referring to object storing the transforms\n */\nexport const BEFORE_UPDATE = 'beforeupdate';\n/**\n * Field referring to object storing the transforms\n */\nexport const VALUE_MATRIX = 'valueMatrix';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET_HEADERS = 'facet-headers';\n/**\n * Field referring to object storing the transforms\n */\nexport const RADIUS = 'radius';\n/**\n * Field referring to object storing the transforms\n */\nexport const ANGLE = 'angle';\n\nexport const ANGLE0 = 'angle0';\n/**\n * Field referring to object storing the transforms\n */\nexport const ARC = 'arc';\n/**\n * Field referring to object storing the transforms\n */\nexport const CATEGORICAL = 'categorical';\n/**\n * Field referring to object storing the transforms\n */\nexport const TEMPORAL = 'temporal';\n/**\n * Field referring to object storing the transforms\n */\nexport const BAR = 'bar';\n/**\n * Field referring to object storing the transforms\n */\nexport const LINE = 'line';\n/**\n * Field referring to object storing the transforms\n */\nexport const POINT = 'point';\n/**\n * Field referring to object storing the transforms\n */\nexport const PRIMARY = 'Primary';\n/**\n * Field referring to object storing the transforms\n */\nexport const SECONDARY = 'Secondary';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTH = 'both';\n/**\n * Field referring to object storing the transforms\n */\nexport const INTERACTION = 'interaction';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_LINES = 'gridLines';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_BANDS = 'gridBands';\n/**\n * Field referring to object storing the transforms\n */\nexport const HEADER = 'header';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET = 'facet';\nexport const DEFAULT = 'default';\n/**\n * Ordering type\n */\nexport const ASCENDING = 'asc';\n/**\n * Ordering type\n */\nexport const DESCENDING = 'desc';\n\nexport const DARK = 'dark';\nexport const NONE = 'none';\nexport const NORMAL = 'normal';\nexport const DARKER = 'darker';\n","/**\n * This file exports variables that are used as defaults for the crosstab group.\n */\nexport const DATA_UPDATE_COUNTER = 0;\n\nexport const DEFAULT_LAYER_TYPE = 'cartesian';\n\nexport const BORDER_WIDTH = {\n    default: 2,\n    facet: 1\n};\n","import { ContinousAxis, BandAxis, TimeAxis, ColorAxis, SizeAxis, ShapeAxis } from '@chartshq/muze-axis';\n\nexport const scaleMaps = {\n    linear: ContinousAxis,\n    band: BandAxis,\n    temporal: TimeAxis,\n    size: SizeAxis,\n    color: ColorAxis,\n    shape: ShapeAxis\n};\n","import {\n    DARK,\n    NONE,\n    LEFT,\n    RIGHT,\n    NORMAL,\n    TOP,\n    DARKER,\n    BOTTOM\n} from '../enums/constants';\n\nconst handleBlankCell = (data) => {\n    data.config().externalClassname.push(`${NONE}-${LEFT}`);\n    data.config().externalClassname.push(`${NONE}-${RIGHT}`);\n};\n\nexport const sanitiseHeaderMatrix = (matrices, header) => {\n    if (header) {\n        for (let i = 0; i < matrices.length; i++) {\n            if (i !== 0) {\n                matrices[i].config({\n                    externalClassname: [`${DARK}`]\n                });\n            } else {\n                matrices[i].config({\n                    externalClassname: [`${NONE}-${LEFT}`, `${DARK}`]\n                });\n            }\n        }\n    } else {\n        for (let i = 0; i < matrices.length; i++) {\n            for (let j = 0; j < matrices[0].length; j++) {\n                matrices[i][j].config({\n                    externalClassname: [`${DARK}`]\n                });\n            }\n        }\n    }\n};\n\nexport const sanitiseGeomMatrix = (matrices, arr = {}) => {\n    for (let i = 0; i < matrices.length; i++) {\n        for (let j = 0; j < matrices[0].length; j++) {\n            matrices[i][j].config({\n                externalClassname: [`${NORMAL}`]\n            });\n\n            if (i === 0) {\n                matrices[i][j].config().externalClassname.push(`${DARKER}-${TOP}`);\n            } else if (i === matrices.length - 1) {\n                matrices[i][j].config().externalClassname.push(`${DARKER}-${BOTTOM}`);\n            }\n\n            if (j === matrices[i].length - 1) {\n                matrices[i][j].config().externalClassname.push(`${DARK}-${RIGHT}`);\n            }\n\n            if (arr[i]) {\n                matrices[i - 1][j].config().externalClassname.push(`${DARK}-${BOTTOM}`);\n            }\n        }\n    }\n};\n\nexport const sanitiseFacetValues = (matrices, type, blankCell) => {\n    const normal = type === `${RIGHT}` ? `${DARK}` : `${NORMAL}`;\n    const length = matrices.length;\n    let latestSource = matrices[0][0].source();\n    const lastSource = matrices[matrices.length - 1][0].source();\n    const arr = {};\n\n    // initialise the classname\n    for (let i = 0; i < matrices.length; i++) {\n        for (let j = 0; j < matrices[0].length; j++) {\n            matrices[i][j].config({\n                externalClassname: [normal]\n            });\n        }\n\n        // seperate wrt the corner most facet\n        if (matrices[i][0].source() !== latestSource) {\n            arr[i] = i;\n            latestSource = matrices[i][0].source();\n        }\n    }\n\n    // add custom classname\n    for (let i = 0; i < matrices.length; i++) {\n        for (let j = 0; j < matrices[0].length; j++) {\n            if (j === 0) {\n                matrices[i][0].config().externalClassname.push(`${NONE}-${type}`);\n                if (matrices[i][j].source() === lastSource) {\n                    matrices[i][j].config().externalClassname.push(`${DARKER}-${BOTTOM}`);\n                } else {\n                    matrices[i][0].config().externalClassname.push(`${DARK}-${BOTTOM}`);\n                }\n                if (matrices[i][j] instanceof blankCell) {\n                    matrices[i][j].config().externalClassname.push(`${NONE}-${TOP}`);\n                    matrices[i][j].config().externalClassname.push(`${NONE}-${BOTTOM}`);\n                }\n            } else if (j !== matrices[i].length - 1) {\n                matrices[i][j].config().externalClassname.push(`${DARK}-${type}`);\n            }\n\n            if (i === 0) {\n                matrices[0][j].config().externalClassname.push(`${DARKER}-${TOP}`);\n            } else if (i === length - 1) {\n                matrices[i][j].config().externalClassname.push(`${DARKER}-${BOTTOM}`);\n            }\n\n            if (arr[i]) {\n                matrices[i - 1][j].config().externalClassname.push(`${DARK}-${BOTTOM}`);\n            }\n\n            if (matrices[i][j] instanceof blankCell) {\n                handleBlankCell(matrices[i][j], blankCell);\n            }\n        }\n    }\n    return arr;\n};\n\nexport const sanitiseBorderMatrix = (matrices, blankCell) => {\n    const { leftMatrix, rightMatrix, topMatrix, bottomMatrix } = matrices;\n    let bottomBorderObj = {};\n    if (rightMatrix.length) {\n        bottomBorderObj = sanitiseFacetValues(rightMatrix, `${RIGHT}`, blankCell);\n    }\n    if (leftMatrix.length) {\n        bottomBorderObj = sanitiseFacetValues(leftMatrix, `${LEFT}`, blankCell);\n    }\n    topMatrix.length && sanitiseHeaderMatrix(topMatrix);\n    bottomMatrix.length && sanitiseHeaderMatrix(bottomMatrix);\n    return bottomBorderObj;\n};\n","import { AxisOrientation } from '@chartshq/muze-axis';\nimport {\n    getObjProp,\n    FieldType,\n    retrieveNearestGroupByReducers,\n    mergeRecursive,\n    createSelection,\n    DataModel\n} from 'muze-utils';\nimport { getMatrixModel } from './matrix-model';\nimport {\n    getCellKey,\n    isDistributionEqual,\n    mutateAxesFromMap,\n    getFieldsFromSuppliedLayers,\n    extractFields,\n    removeExitCells,\n    sanitizeCheck\n} from './group-utils';\nimport { ROW, ROWS, COLUMNS, COL, LEFT, RIGHT, TOP,\n    BOTTOM, PRIMARY, SECONDARY, X, Y, TEMPORAL } from '../enums/constants';\nimport { SimpleVariable } from '../variable';\nimport { sanitiseBorderMatrix, sanitiseGeomMatrix } from './cell-border-applier';\n\n/**\n * Updates row and column cells with the geom cell corresponding to the facet keys\n *\n * @param {*} resolver\n * @param {*} facets\n */\nconst updateCells = (resolver, facets, geomCell) => {\n    [ROW, COL].forEach((field) => {\n        const cells = resolver[`${field}Cells`]();\n        const facetKey = facets[`${field}Facets`][1].join();\n\n        !cells[facetKey] && (cells[facetKey] = []);\n        cells[facetKey].push(geomCell);\n        resolver[`${field}Cells`](cells);\n    });\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} datamodel\n * @param {*} fieldInfo\n * @param {*} facets\n *\n */\nexport const createValueCells = (context, datamodel, fieldInfo, facets) => {\n    const {\n        projections,\n        indices\n    } = fieldInfo;\n    const {\n        rowFields,\n        columnFields\n    } = projections;\n    const {\n         rowIndex,\n         columnIndex\n    } = indices;\n    const {\n        suppliedLayers,\n        cell: GeomCell,\n        resolver,\n        config,\n        encoder,\n        detailFields\n    } = context;\n    const axes = resolver.axes();\n    const cacheMaps = resolver.cacheMaps();\n    const matrixLayers = resolver.matrixLayers();\n    const labelManager = resolver.dependencies().smartlabel;\n    const horizontalAxis = resolver.horizontalAxis();\n    const verticalAxis = resolver.verticalAxis();\n    const datamodelTransform = resolver.datamodelTransform();\n    const sortedFields = config.sort;\n    const {\n        entryCellMap,\n        exitCellMap\n    } = cacheMaps;\n    const layerConfigArr = encoder.getLayerConfig({ columnFields, rowFields }, suppliedLayers || [],\n        context.retinalConfig);\n    const axesCreators = { config, labelManager, axes, cacheMaps };\n\n    fieldInfo.normalizedColumns = verticalAxis.fields;\n    fieldInfo.normalizedRows = horizontalAxis.fields;\n\n    const allFacets = [\n        [...facets.rowFacets[0], ...facets.colFacets[0]],\n        [...facets.rowFacets[1], ...facets.colFacets[1]]\n    ];\n    const facetFields = allFacets.slice();\n    facetFields[0] = facetFields[0].map(facetField => facetField.oneVar());\n\n    matrixLayers[rowIndex] = matrixLayers[rowIndex] ? matrixLayers[rowIndex] : [];\n    matrixLayers[rowIndex][columnIndex] = layerConfigArr;\n\n    // return from map if already there otherwise create and put in map\n    const geomCellKey = getCellKey(rowIndex, columnIndex);\n    const fields = {\n        y: rowFields,\n        x: columnFields\n    };\n\n    const geomCell = !exitCellMap.has(geomCellKey) ? new GeomCell() : exitCellMap.get(geomCellKey);\n\n    // Sort datamodel if user has sorted a field\n    const sortConfig = Object.keys(sortedFields).map(field => [field, sortedFields[field]]);\n    if (sortConfig.length) {\n        datamodel = datamodel.sort(sortConfig, { saveChild: true });\n    }\n\n    geomCell.data(datamodel)\n                    .fields(fields)\n                    .transform(datamodelTransform)\n                    .detailFields(detailFields)\n                    .facetByFields(allFacets);\n\n    encoder.createAxis(axesCreators, fieldInfo, Object.assign({}, context, { geomCell, facetFields }));\n    entryCellMap.set(geomCellKey, geomCell);\n    exitCellMap.delete(geomCellKey);\n\n    updateCells(resolver, facets, geomCell);\n\n    return entryCellMap.get(geomCellKey);\n};\n\nconst extractAxisIndex = id => getObjProp(id.match(/^[0-9]*?(?=-)/g), 0);\n\n/**\n * Creates axis cells based on the set of axes\n *\n * @param {Selection} selection Contains a selection of the axis units\n * @param {Array} axes Actual axis units\n * @param {number} axisIndex 0-> primary axis, 1-> secondary axis(when dual axis is made)\n * @param {Object} cells Contains a collection of the cells\n * @return {Object} return either set of axis/blank cells depending on the config\n */\nconst createAxisCells = (selection, axes, axisIndex, cells) =>\n    createSelection(selection, axis => axis, axes, (item, i) => i + item.reduce((e, n) => {\n        const id = n.id + axisIndex;\n        return `${e}-${id}`;\n    }, '')).map((currObj, axis) => {\n        if (axis && axis[axisIndex]) {\n            const axisInst = axis[axisIndex];\n            const { orientation, show } = axisInst.config();\n\n            return new cells.AxisCell().source(axisInst).config({\n                isOffset: orientation === AxisOrientation.LEFT || orientation === AxisOrientation.TOP,\n                show\n            });\n        }\n        return new cells.BlankCell().config({ show: false });\n    }).sort((a, b) => extractAxisIndex(a[0]) - extractAxisIndex(b[0]));\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @retur\n */\nconst axisPlaceholderGn = (context, selObj, cells) => {\n    const {\n        matrices\n    } = context;\n    const {\n        axesMatrix\n    } = matrices;\n\n    return (type, axisFrom) => {\n        const axes = axesMatrix[`${type}`];\n\n        if (axes && axes.length) {\n            if (type === X || type === Y) {\n                const fieldNames = type === Y ? ROWS : COLUMNS;\n\n                [PRIMARY, SECONDARY].forEach((fieldType, index) => {\n                    const selObjProp = `${fieldNames}${fieldType}`;\n                    let axisIndex = index;\n                    let axesForDraw = axes;\n                    if (axisFrom === RIGHT || axisFrom === BOTTOM) {\n                        axisIndex = 1 - axisIndex;\n                    }\n                    if (!getObjProp(axes, 0, axisIndex)) {\n                        axesForDraw = [];\n                    }\n                    selObj[selObjProp] = createAxisCells(selObj[selObjProp], axesForDraw, axisIndex, cells);\n                });\n            } else {\n                selObj.rowsPrimary = createAxisCells(selObj.rowPrime, axes.map(() => []), 0, cells);\n                selObj.rowsSecondary = createAxisCells(selObj.rowSec, axes.map(() => []), 0, cells);\n                selObj.columnsPrimary = createAxisCells(selObj.colPrime, axes[0], 0, cells);\n                selObj.columnsSecondary = createAxisCells(selObj.colSec, axes[0], 0, cells);\n            }\n        }\n        return selObj;\n    };\n};\n\n/**\n * Creates header cells based on the set of headers\n *\n * @param {Object} selection Contains a selection of the header units\n * @param {string} headers Contains a list of the headers\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} return either set of header cells depending on the config\n */\nconst createTextCells = (selection, headers, cells, labelManager) => createSelection(selection,\n        (label) => {\n            const textCell = new cells.TextCell({}, { labelManager });\n            textCell.source(label);\n            return textCell;\n        }, headers, (key, i) => key + i);\n\nconst extractFacetIndex = id => id.split('-').pop();\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @param {*} labelManager\n *\n */\nconst headerPlaceholderGn = (context, selectionObj, cells, labelManager) => {\n    const {\n        axis,\n        keys,\n        type,\n        facet\n    } = context;\n    const counter = axis.length / keys.length;\n    const selectionKeys = keys.length ? axis.map((d, i) => keys[Math.floor(i / counter)]) : [];\n\n    const selObjUpdater = createSelection(selectionObj[`${type}Headers`], keySet => keySet, selectionKeys,\n    (keySet, i) => `${keySet.join(',')}-${i}`)\n        .sort((a, b) => extractFacetIndex(a[0]) - extractFacetIndex(b[0]));\n\n    return selObjUpdater.map((keySet, data) => {\n        let textCells = createTextCells(null, data, cells, labelManager);\n        textCells = textCells.map((cell, k) => cell.source(k).config(facet));\n        return textCells;\n    });\n};\n\n/**\n * Creates a set of placeholders as a part of selection object\n *\n * @param {Array} normalizedOptions contains normalized rows and columns\n * @param {Array} matrices contains axis and value matrices\n * @param {aArrayny} projections contains set of row and column projections\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} Creates a set of placeholders as a part of selections\n */\nconst generatePlaceholders = (context, cells, labelManager) => {\n    let selectionObj;\n    const {\n        matrices,\n        fields,\n        facetsAndProjections,\n        selection,\n        facet,\n        encoders,\n        resolver\n    } = context;\n    const {\n        rows,\n        columns\n    } = fields;\n    const {\n        valuesMatrix\n    } = matrices;\n    const {\n        rowProjections,\n        colProjections\n    } = facetsAndProjections;\n    const {\n        rowKeys,\n        columnKeys\n    } = valuesMatrix;\n    const takeAxisFrom = encoders.simpleEncoder._axisFrom;\n    const takeHeaderFrom = encoders.simpleEncoder._headerFrom;\n\n    selectionObj = selection || {};\n\n    ['pie', X, Y].forEach((axis) => {\n        const axisFrom = axis === X ? takeAxisFrom.column : takeAxisFrom.row;\n        selectionObj = axisPlaceholderGn(context, selectionObj, cells)(axis, axisFrom);\n    });\n\n    const {\n        rowsPrimary,\n        rowsSecondary,\n        columnsPrimary,\n        columnsSecondary\n    } = selectionObj;\n\n    const rowAxis = rowsPrimary && rowsPrimary.getObjects().length ? rowsPrimary.getObjects() :\n        (rowsSecondary && rowsSecondary.getObjects().length ? rowsSecondary.getObjects() : []);\n    const colAxis = columnsPrimary && columnsPrimary.getObjects().length ? columnsPrimary.getObjects() :\n        (columnsSecondary && columnsSecondary.getObjects().length ? columnsSecondary.getObjects() : []);\n\n    const headerConfig = [\n        { type: LEFT, section: rows[0], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: RIGHT, section: rows[1], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: TOP, section: columns[0], axis: colAxis, headerFrom: takeHeaderFrom.column },\n        { type: BOTTOM, section: columns[1], axis: colAxis, headerFrom: takeHeaderFrom.column }\n    ];\n\n    headerConfig.forEach((config, index) => {\n        let keys;\n        let length;\n        const {\n            type,\n            section,\n            axis,\n            headerFrom\n        } = config;\n\n        if (index < 2) {\n            keys = rowKeys;\n            length = rowProjections.length > 0 ? rowProjections.length : 1;\n        } else {\n            keys = columnKeys;\n            length = colProjections.length > 0 ? colProjections.length : 1;\n        }\n        keys = keys.map(arr => arr.map(val => resolver.valueParser()(val)));\n        if (section.length && headerFrom === type && axis && keys.length) {\n            const hContext = { axis, length, type };\n            let headers = [];\n            if (index < 2) {\n                hContext.keys = keys;\n                hContext.facet = facet.rows;\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            } else {\n                hContext.facet = facet.columns;\n                hContext.keys = keys[0].map((key, i) => keys.map(e => e[i]));\n\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            }\n            selectionObj[`${type}Headers`] = headers;\n        } else {\n            selectionObj[`${type}Headers`] = null;\n        }\n    });\n    return selectionObj;\n};\n\n/**\n * Generates matrices\n *\n * @param {Object} config Configuration to generate matrices\n * @param {Array} matrices Matrices containing the set of visual units and axes units\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} contains a collection of matrices\n */\nexport const generateMatrices = (context, matrices, cells, labelManager) => {\n    const {\n        unitHeight,\n        unitWidth,\n        facetsAndProjections,\n        normalizedRows,\n        normalizedColumns,\n        selection,\n        axisFrom,\n        facet,\n        encoders,\n        resolver\n     } = context;\n    const placeholderContext = {\n        fields: {\n            rows: normalizedRows,\n            columns: normalizedColumns\n        },\n        matrices,\n        facetsAndProjections,\n        selection,\n        axisFrom,\n        facet,\n        encoders,\n        resolver\n    };\n    // Generate placeholders for all matrices\n    const selectionObj = generatePlaceholders(placeholderContext, cells, labelManager);\n    const {\n        columnsPrimary,\n        columnsSecondary,\n        rowsPrimary,\n        rowsSecondary,\n        leftHeaders,\n        topHeaders,\n        bottomHeaders,\n        rightHeaders\n    } = selectionObj;\n    const [rowPrime, rowSec, colPrime, colSec] = [rowsPrimary, rowsSecondary, columnsPrimary, columnsSecondary]\n        .map(d => (d ? d.getObjects() : []));\n    const [leftFacets, rightFacets] = [leftHeaders, rightHeaders]\n        .map(e => (e ? e.getObjects()\n                        .map(f => f.getObjects()) : []));\n    let rowPriority = rowSec.length ? 1 : -1;\n    rowPrime.length && rowPriority++;\n    let colPriority = colSec.length ? 1 : -1;\n    colPrime.length && colPriority++;\n\n    // Compute left matrix using left headers and the axes on the rows\n    let leftMatrix = leftFacets.length ? leftFacets.map((d, i) => {\n        rowPrime[i] = rowPrime[i] ? [rowPrime[i]] : [];\n        return [...d, ...rowPrime[i]];\n    }) : (rowPrime ? rowPrime.map(d => [d]) : []);\n\n    // Compute right matrix using right headers and the axes on the rows\n    const rightMatrix = rowSec.length ? rowSec.map((d, i) => [d, ...(rightFacets[i] || [])]) : (rightFacets.length ?\n        rightFacets.map(d => [...d]) : []);\n\n    const topMatrix = [];\n    if (topHeaders) {\n        const headers = topHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                topMatrix[i] = topMatrix[i] || [];\n                topMatrix[i].push(x);\n            });\n        });\n    }\n    // Compute top matrix using the top headers and axes on the columns\n    if (colPrime.length) {\n        topMatrix.push(colPrime);\n    }\n\n    // Bottom and right matrices are prepared using the user config.\n    let bottomMatrix = [];\n    if (colSec.length) {\n        bottomMatrix.push(colSec);\n    }\n    const currentBottomLength = bottomMatrix.length;\n    if (bottomHeaders) {\n        const headers = bottomHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                bottomMatrix[i + currentBottomLength] = bottomMatrix[i + currentBottomLength] || [];\n                bottomMatrix[i + currentBottomLength].push(x);\n            });\n        });\n    }\n\n    if (!leftMatrix.length && !rightMatrix.length) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        leftMatrix = [[cell]];\n    }\n\n    if (!topMatrix.length && (!bottomMatrix.length || !bottomMatrix[0].length)) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        bottomMatrix = [[cell]];\n    }\n\n    return {\n        rows: [leftMatrix, rightMatrix],\n        columns: [topMatrix, bottomMatrix],\n        selectionObj,\n        colPriority,\n        rowPriority\n    };\n};\n\nconst getAxisFields = (projections, fieldHolder = []) =>\n                            projections.reduce((acc, item) =>\n                                [...acc, ...item.reduce((ac, field) =>\n                                   (field instanceof SimpleVariable ? [...ac, field.oneVar()] : ac), [])], fieldHolder);\n\nconst sortDmTemporalFields = (resolver, datamodel) => {\n    let axisFields = [];\n    const projections = resolver.projections();\n    axisFields = getAxisFields(projections.rowProjections, getAxisFields(projections.colProjections));\n\n    const fieldConfig = datamodel.getFieldsConfig();\n    const temporalFields = axisFields.reduce((acc, field) =>\n        ((fieldConfig[field].def.subtype === TEMPORAL) ? [...acc, [field]] : acc), []);\n    return temporalFields.length ? datamodel.sort(temporalFields, { saveChild: true }) : datamodel;\n};\n\nconst transformDataModel = (dataModel, config, resolver) => {\n    let groupedModel;\n\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const resolvedData = resolver.data();\n    const { groupBy, suppliedLayers, facetsAndProjections } = config;\n\n    if (resolvedData instanceof DataModel) {\n        resolvedData.dispose();\n    }\n\n    const fields = getFieldsFromSuppliedLayers(suppliedLayers).filter(field =>\n        getObjProp(fieldsConfig, field, 'def', 'type') === FieldType.DIMENSION);\n    const allFields = extractFields(facetsAndProjections, fields);\n\n    groupedModel = dataModel.project(allFields);\n    resolver.data(groupedModel);\n    if (!groupBy.disabled) {\n        const newFieldsConfig = groupedModel.getFieldsConfig();\n        const dimensions = allFields.filter(field =>\n            getObjProp(newFieldsConfig, field, 'def', 'type') === FieldType.DIMENSION);\n        const aggregationFns = groupBy.measures;\n        const measureNames = Object.keys(groupedModel.getFieldspace().getMeasure());\n        const nearestAggFns = retrieveNearestGroupByReducers(groupedModel, ...measureNames);\n        const resolvedAggFns = mergeRecursive(nearestAggFns, aggregationFns);\n\n        groupedModel = groupedModel.groupBy(dimensions.length ? dimensions : [''], resolvedAggFns);\n    }\n    // sort temporal fields if any in the given rows and columns\n    groupedModel = sortDmTemporalFields(resolver, groupedModel);\n    resolver.transformedData(groupedModel);\n    return groupedModel;\n};\n\n/**\n * Computes matrices for a group\n *\n * @param {Object} datamodel on which the matrices are to be computed\n * @param {Object} config configuration of the matrices\n * @param {Object} layerRegistry contains the registered layers\n * @return {Object} conputed matrices\n * @memberof MatrixResolver\n */\nexport const computeMatrices = (resolverConfig) => {\n    let placeholderInfo = {};\n    const {\n        datamodel,\n        encoders,\n        resolver,\n        globalConfig,\n        selection,\n        transform,\n        componentRegistry,\n        groupBy,\n        labelManager,\n        fieldMap,\n        layerConfig,\n        registry,\n        normalizedRows,\n        normalizedColumns,\n        otherEncodings,\n        facetsAndProjections,\n        simpleEncoder,\n        config\n    } = resolverConfig;\n\n    const { rowFacets, colFacets } = facetsAndProjections;\n    const isFacet = rowFacets.length > 0 || colFacets.length > 0;\n\n    if (isFacet) {\n        globalConfig.isFacet = true;\n    }\n    const matrixGnContext = {\n        // Configuration to be passed to generate the  different matrices.\n        // A common config is used for both value matrices and other matrices\n        normalizedColumns,\n        normalizedRows,\n        facetsAndProjections,\n        layers: layerConfig,\n        fieldMap,\n        otherEncodings,\n        encoders,\n        facet: globalConfig.facet || {},\n        axisFrom: globalConfig.axisFrom || {},\n        selection,\n        resolver\n    };\n    const cells = {\n        GeomCell: resolver.getCellDef(registry.cells.GeomCell),\n        AxisCell: resolver.getCellDef(registry.cells.AxisCell),\n        BlankCell: resolver.getCellDef(registry.cells.BlankCell),\n        TextCell: resolver.getCellDef(registry.cells.TextCell)\n    };\n    const isRowSizeEqual = isDistributionEqual(normalizedRows);\n    const isColumnSizeEqual = isDistributionEqual(normalizedColumns);\n\n    resolver.colCells({});\n    resolver.rowCells({});\n    resolver.datamodelTransform(transform || {});\n\n    // Cell creation begins here\n    resolver.resetSimpleAxes();\n\n    const {\n        entryCellMap\n    } = resolver.cacheMaps();\n    const newCacheMap = {\n        exitCellMap: entryCellMap,\n        entryCellMap: new Map()\n    };\n\n    resolver.cacheMaps(newCacheMap);\n    const valueCellContext = {\n        config: globalConfig,\n        suppliedLayers: simpleEncoder.serializeLayerConfig(resolver.layerConfig()),\n        resolver,\n        cell: cells.GeomCell,\n        encoder: simpleEncoder,\n        newCacheMap,\n        detailFields: config.detail,\n        retinalConfig: {\n            color: config.color,\n            size: config.size,\n            shape: config.shape\n        }\n    };\n\n    const groupedModel = transformDataModel(datamodel, {\n        facetsAndProjections,\n        suppliedLayers: valueCellContext.suppliedLayers,\n        groupBy\n    }, resolver);\n    simpleEncoder.data(groupedModel);\n    // return a callback function to create the cells from the matrix\n    const cellCreator = resolver.valueCellsCreator(valueCellContext);\n    // Creates value matrices from the datamodel and configs\n    const valueMatrixInfo = getMatrixModel(groupedModel, facetsAndProjections, cellCreator, globalConfig);\n\n    removeExitCells(resolver);\n    resolver.cacheMaps().exitCellMap.clear();\n    resolver.valueMatrix(valueMatrixInfo.matrix);\n\n    const { xAxes, yAxes } = mutateAxesFromMap(resolver.cacheMaps(), resolver.axes());\n\n    resolver.axes({\n        x: xAxes,\n        y: yAxes\n    });\n\n    resolver.createUnits(componentRegistry, config);\n\n    const matrices = {\n        valuesMatrix: valueMatrixInfo,\n        axesMatrix: resolver.axes()\n    };\n    // Create all matrices\n    const {\n        rows,\n        columns,\n        selectionObj,\n        rowPriority,\n        colPriority\n    } = generateMatrices(matrixGnContext, matrices, cells, labelManager);\n\n    resolver.rowMatrix(rows);\n    resolver.columnMatrix(columns);\n\n    if (isFacet) {\n        const sanitizeCheckBorder = sanitizeCheck(globalConfig.facetsUserConfig);\n        const arr = sanitizeCheckBorder && sanitiseBorderMatrix({\n            leftMatrix: rows[0],\n            rightMatrix: rows[1],\n            topMatrix: columns[0],\n            bottomMatrix: columns[1]\n        }, registry.cells.BlankCell);\n        valueMatrixInfo.matrix = sanitizeCheckBorder && sanitiseGeomMatrix(valueMatrixInfo.matrix, arr);\n    }\n\n    placeholderInfo = {\n        rows: resolver.rowMatrix(),\n        columns: resolver.columnMatrix(),\n        values: resolver.valueMatrix(),\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority: {\n            row: rowPriority,\n            col: colPriority\n        },\n        selection: selectionObj,\n        dataModels: {\n            groupedModel,\n            parentModel: datamodel\n        }\n    };\n    return placeholderInfo;\n};\n","import { Store, COORD_TYPES, getObjProp, DataModel } from 'muze-utils';\nimport { VisualUnit } from '@chartshq/visual-unit';\nimport { BaseLayer } from '@chartshq/visual-layer';\nimport { DATA_UPDATE_COUNTER } from '../enums/defaults';\nimport { Variable } from '../variable';\nimport { PolarEncoder, CartesianEncoder } from '../encoder';\nimport { sanitiseHeaderMatrix } from './cell-border-applier';\nimport {\n    DIMENSION,\n    MEASURE,\n    ORDINAL,\n    LINEAR,\n    ROW,\n    COLUMN,\n    COL,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM,\n    COLOR,\n    SIZE,\n    TEMPORAL,\n    SHAPE,\n    INTERACTION,\n    GRID_LINES,\n    GRID_BANDS,\n    HEADER,\n    FACET,\n    X,\n    Y,\n    ARC,\n    RADIUS,\n    ANGLE\n} from '../enums/constants';\n\nconst POLAR = COORD_TYPES.POLAR;\n\n/**\n * Creates an instance of a store which contains the arguments to make the class reactive\n *\n * @return {Object} instance of store\n * @memberof VisualGroup\n */\nexport const initStore = () => new Store({\n    [DATA_UPDATE_COUNTER]: DATA_UPDATE_COUNTER\n});\n\n/**\n *\n *\n * @param {*} arr\n */\nexport const isDistributionEqual = arr => [...arr[0], ...arr[1]].reduce((isEqual, row) => {\n    const rowType = row.type();\n\n    if (rowType === MEASURE || rowType === TEMPORAL) {\n        isEqual = true;\n    }\n    return isEqual;\n}, false);\n\n/**\n *\n *\n */\nexport const initializeCacheMaps = () => ({\n    cellMap: new Map(),\n    xAxesMap: new Map(),\n    yAxesMap: new Map(),\n    entryCellMap: new Map(),\n    exitCellMap: new Map()\n});\n\n/**\n *\n *\n * @param {*} axisName\n * @param {*} id\n */\nexport const getAxisKey = (axisName, ...params) => `${axisName}-axis-${params.join('-')}`;\n\n/**\n *\n *\n * @param {*} rowId\n * @param {*} columnId\n */\nexport const getCellKey = (rowId, columnId) => `cell-${rowId}-${columnId}`;\n\n/**\n *\n *\n * @param {*} config\n *\n */\nexport const extractUnitConfig = (config) => {\n    const unitConfig = {};\n    const attrNames = [INTERACTION, GRID_LINES, GRID_BANDS];\n\n    attrNames.forEach((attr) => {\n        if (config[attr] !== undefined) {\n            unitConfig[attr] = config[attr];\n        }\n    });\n    return unitConfig;\n};\n\nexport const hasOneField = (fields) => {\n    let hasField = false;\n    const keys = Object.keys(fields);\n    hasField = keys.some(d => fields[d].length > 0);\n    return hasField;\n};\n\n/**\n *\n *\n * @param {*} headers\n * @param {*} index\n * @param {*} rowLength\n *\n * @memberof MatrixResolver\n */\nexport const getHeaderText = (headers, index, rowLength) => {\n    let header = '';\n\n    if (index === rowLength - 1 && headers.length > rowLength) {\n        for (let i = index; i < headers.length - 1; i++) {\n            header += `${headers[i].toString()} / `;\n        }\n        header += headers[headers.length - 1].toString();\n        return header;\n    } else if (headers[index]) {\n        return headers[index].toString();\n    }\n    return '';\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} fieldHeaders\n * @param {*} TextCell\n * @param {*} labelManager\n *\n */\nexport const headerCreator = (fields, fieldHeaders, TextCell, { classPrefix, labelManager, sanitizeCheck }) => {\n    const headers = fields.length > 0 ? fields[0].map((cell, i) => new TextCell({\n        type: HEADER,\n        className: `${classPrefix}-grid-headers`\n    }, {\n        labelManager\n    }).source(getHeaderText(fieldHeaders, i, fields[0].length))\n                    .config({ show: cell.config().show })) : [];\n    sanitizeCheck && sanitiseHeaderMatrix(headers, true);\n    return headers;\n};\n\n/**\n * @param {*} facetConfig\n *\n */\nexport const sanitizeCheck = (facetConfig) => {\n    const { isBorderPresent } = facetConfig;\n    const updateBorderMap = ['color', 'showRowBorders', 'showColBorders', 'showValueBorders'];\n    return (!isBorderPresent || updateBorderMap.every(d => !isBorderPresent[d]));\n};\n\n/**\n *\n *\n * @param {*} variable\n * @param {*} allFields\n *\n */\nexport const findInGroup = (variable, allFields) => {\n    let channel = null;\n\n    [COLOR, SIZE, SHAPE].forEach((e) => {\n        if (this.store.get(e) && variable === this.store.get(e)[0]) {\n            channel = e;\n        }\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    [ROW, COL].forEach((facetType) => {\n        allFields[`${facetType}Facets`].forEach((e) => {\n            if (e.toString() === variable) {\n                channel = { channel: FACET, type: facetType === COL ? COLUMN : ROW };\n            }\n        });\n    });\n\n    if (channel) {\n        return channel;\n    }\n\n    [ROW, COL].forEach((projType) => {\n        allFields[`${projType}Projections`].forEach((e) => {\n            e.forEach((m) => {\n                if (m.toString() === variable) {\n                    channel = projType === COL ? X : Y;\n                }\n            });\n        });\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    return null;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} field\n */\nexport const getAxisType = (fieldsConfig, field) => {\n    let fieldType = ORDINAL;\n\n    if (field && fieldsConfig[field].def.type !== DIMENSION) {\n        fieldType = LINEAR;\n    }\n    return fieldType;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} fieldName\n *\n */\nexport const retriveDomainFromData = (datamodel, fieldName) => {\n    const field = datamodel.getFieldspace().fields.find(d => d.name() === fieldName.toString());\n    return field.domain();\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    let xAxes = null;\n    let yAxes = null;\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n\n    xAxisSet && xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes = xAxes || [];\n        xAxes.push(xAxis);\n    });\n\n    yAxisSet && yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes = yAxes || [];\n        yAxes.push(yAxis);\n    });\n\n    return {\n        xAxes, yAxes\n    };\n};\n\nconst hasPolarEncodings = layerConf => layerConf.mark === ARC || [RADIUS, ANGLE].some(field =>\n        getObjProp(layerConf.encoding, field));\n\n/**\n *\n *\n * @param {*} layers\n *\n */\nexport const getEncoder = (layers) => {\n    let encoder = new CartesianEncoder();\n\n    if (layers.length) {\n        // Figuring out the kind of layers the group will have\n        encoder = layers.some(layerConf => hasPolarEncodings(layerConf)) ? new PolarEncoder() : encoder;\n    }\n    return encoder;\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} userAxisFromConfig\n *\n */\nexport const getHeaderAxisFrom = (type, fields, userAxisFromConfig) => {\n    let axisFrom = userAxisFromConfig[type];\n    let headerFrom = '';\n    const options = type === ROW ? [LEFT, RIGHT] : [BOTTOM, TOP];\n    const [firstField, secondField] = fields;\n    const firstFieldType = i => (firstField.length ? firstField[i].type() : null);\n    const secondFieldType = i => (secondField.length ? secondField[i].type() : null);\n\n    if (firstFieldType(firstField.length - 1) === DIMENSION && secondFieldType(0) === DIMENSION) {\n        headerFrom = axisFrom ? options[1 - options.indexOf(axisFrom)] : options[1];\n\n        if (type === COLUMN && (firstField[firstField.length - 1].toString() === secondField[0].toString())) {\n            axisFrom = TOP;\n        } else {\n            axisFrom = axisFrom || options[0];\n        }\n    } else if (secondFieldType(secondField.length - 1) === DIMENSION) {\n        headerFrom = type === ROW ? RIGHT : BOTTOM;\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else {\n        headerFrom = type === ROW ? LEFT : TOP;\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    if (firstFieldType(firstField.length - 1) === MEASURE && secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    } else if (secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else if (firstFieldType(firstField.length - 1) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    return [headerFrom, axisFrom];\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} layers\n *\n * @memberof MatrixResolver\n */\nexport const setFacetsAndProjections = (context, fieldInfo, encoder) => {\n    const {\n        fields,\n        type\n    } = fieldInfo;\n    const { facets, projections } = encoder.simpleEncoder.getFacetsAndProjections(fields, type);\n\n    context.facets({ [`${type}Facets`]: facets });\n    context.projections({ [`${type}Projections`]: projections });\n\n    return { facets, projections, fields };\n};\n\nconst getRowBorders = (left, right) => {\n    const borders = {\n        top: false,\n        bottom: false,\n        left: false,\n        right: false\n    };\n    if (left.length > 1 || right.length > 1) {\n        borders.top = true;\n        borders.bottom = true;\n        borders.left = true;\n        borders.right = true;\n    }\n    return borders;\n};\n\nconst getColumnsBorders = (top, bottom) => {\n    const borders = {\n        top: false,\n        bottom: false,\n        left: false,\n        right: false\n    };\n    if (top.length || bottom.length) {\n        if ((top[0] && top[0].length > 1) || (bottom[0] && bottom[0].length > 1)) {\n            borders.top = true;\n            borders.bottom = true;\n            borders.left = true;\n            borders.right = true;\n        }\n    }\n    return borders;\n};\n\nconst getValueBorders = (rows, columns) => {\n    const borders = { top: true, left: true, bottom: true, right: true };\n    const borderTypeRow = [LEFT, RIGHT];\n    const borderTypeCol = [TOP, BOTTOM];\n    rows.forEach((e, i) => {\n        if (e[0] && e[0].length) {\n            borders[borderTypeRow[i]] = true;\n        } else {\n            borders[borderTypeRow[i]] = false;\n        }\n    });\n    columns.forEach((e, i) => {\n        if (e.length) {\n            borders[borderTypeCol[i]] = true;\n        } else {\n            borders[borderTypeCol[i]] = false;\n        }\n    });\n\n    return borders;\n};\n\nexport const getBorders = (matrices, encoder) => {\n    let showRowBorders = { top: false, bottom: false, left: false, right: false };\n    let showColBorders = { top: false, bottom: false, left: false, right: false };\n    let showValueBorders = { top: false, bottom: false, left: false, right: false };\n    const {\n        rows,\n        columns,\n        values: valueMatrix\n    } = matrices;\n    const [leftRows, rightRows] = rows;\n    const [topColumns, bottomColumns] = columns;\n    const {\n        rowDimensions,\n        columnDimensions,\n        rowTemporalFields,\n        columnTemporalFields,\n        columnMeasures,\n        rowMeasures\n    } = encoder.fieldInfo();\n    const allDimensionLength = rowDimensions.length + columnDimensions.length;\n    const allMeasuresLength = rowMeasures.length + columnMeasures.length;\n    const allTemporalFieldsLength = rowTemporalFields.length + columnTemporalFields.length;\n\n    if (encoder.constructor.type() === POLAR) {\n        if (!allDimensionLength) {\n            return { showRowBorders, showColBorders, showValueBorders };\n        }\n    } else if (!allMeasuresLength && !allTemporalFieldsLength && allDimensionLength <= 2) {\n        return { showRowBorders, showColBorders, showValueBorders };\n    }\n\n    showRowBorders = getRowBorders(leftRows, rightRows);\n    showColBorders = getColumnsBorders(topColumns, bottomColumns);\n    showValueBorders = getValueBorders([leftRows, rightRows], [topColumns, bottomColumns]);\n\n    if (valueMatrix.length > 1) {\n        showValueBorders.top = true;\n        showValueBorders.bottom = true;\n    }\n    if (valueMatrix.length && valueMatrix[0].length > 1) {\n        showValueBorders.left = true;\n        showValueBorders.right = true;\n    }\n    return { showRowBorders, showColBorders, showValueBorders };\n};\n\nexport const getFieldsFromSuppliedLayers = (suppliedLayerConfig) => {\n    const encodingArr = suppliedLayerConfig.map(conf => (conf.encoding || {}));\n    const fields = [].concat(...encodingArr.map(enc => Object.values(enc).map(d => (typeof d === 'object' ?\n        d.field : d))));\n    return [...new Set(fields.filter(d => d))];\n};\n\nexport const extractFields = (facetsAndProjections, layerFields) => {\n    const fields = Object.values(facetsAndProjections).map((arr) => {\n        const flattenArray = [].concat(...arr);\n        return [].concat(...flattenArray.map((field) => {\n            if (field instanceof Variable) {\n                return field.getMembers();\n            }\n            return field;\n        }));\n    });\n    return [].concat(...fields, ...layerFields);\n};\n\n/**\n * This method sorts the facets fields inplace if field is of categorical type\n * @param {Object} facets Array of facets\n * @param {Array} keys Array of the facet field values\n * @param {Object} config configuration object\n * @return {Array} Returns sorted facets\n */\nexport const sortFacetFields = (facets, keys, config) => {\n    /**\n     * Check if the facet sorted by the user is plotted\n     * If an incorrect field is sorted, return the keys as is\n     */\n    const schema = [];\n    const facetNames = [];\n    const sortInfo = [];\n    const sortConfig = config.sort;\n\n    facets.forEach((facet) => {\n        const name = `${facet}`;\n        facetNames.push(name);\n\n        const facetSortConfig = sortConfig[name];\n\n        if (facetSortConfig) {\n            sortInfo.push([name, facetSortConfig]);\n        } else {\n            sortInfo.push([name, null]);\n        }\n        schema.push(facet.getSchemaDef());\n    });\n\n    return new DataModel([facetNames, ...keys], schema).getData({ sort: sortInfo }).data;\n};\n\nexport const removeExitCells = (resolver) => {\n    const exitCells = resolver.cacheMaps().exitCellMap;\n    const store = resolver.store();\n    const qualifiedStateProps = [].concat(...VisualUnit.getQualifiedStateProps(),\n        ...BaseLayer.getQualifiedStateProps());\n    store.lockCommits(qualifiedStateProps);\n    exitCells.forEach((placeholder) => {\n        placeholder.remove();\n    });\n    store.unlockCommits(qualifiedStateProps);\n};\n","export {\n    initStore, findInGroup, getEncoder, getAxisType, getAxisKey, retriveDomainFromData, getBorders, hasOneField\n} from './group-utils';\nexport { default as MatrixResolver } from './matrix-resolver';\n","import { DataModel, mergeRecursive } from 'muze-utils';\nimport { sortFacetFields } from './group-utils';\nimport { BORDER_WIDTH } from '../enums/defaults';\nimport { FACET } from '../enums/constants';\n\n/**\n* Gets name of fields form the variables\n*\n* @param {*} fields1\n* @param {*} [fields2=[]]\n*\n*/\nconst getFieldNames = fieldVar => fieldVar.reduce((acc, d) => {\n    acc = [...acc, ...d.getMembers()];\n    return acc;\n}, []);\n\n/**\n*\n*\n* @param {*} fieldInfo\n* @returns\n*/\nconst prepareProjectionInfo = (fieldInfo) => {\n    const {\n        colProjections,\n        rowProjections\n    } = fieldInfo;\n    const uniqueFields = [];\n    let indices = [];\n    let projections = [];\n\n    rowProjections.forEach((rowProj, rIndex) => {\n        const newRIndex = rIndex;\n        colProjections.forEach((colProj, cIndex) => {\n            const newCIndex = cIndex;\n            const newRowProj = getFieldNames(rowProj);\n            const newColProj = getFieldNames(colProj);\n\n            uniqueFields.push([...newRowProj, ...newColProj]);\n            indices.push({ rowIndex: newRIndex, colIndex: newCIndex });\n            projections.push({ rowFields: rowProj, columnFields: colProj });\n        });\n    });\n    indices = indices.length ? indices : [{ rowIndex: 0, colIndex: 0 }];\n    projections = projections.length ? projections : [{ rowFields: [], columnFields: [] }];\n    return { uniqueFields, indices, projections };\n};\n\n/**\n*\n*\n* @param {*} fieldInfo\n* @returns\n*/\nconst prepareFacetInfo = (fieldInfo) => {\n    const {\n        rowFacets,\n        colFacets\n    } = fieldInfo;\n\n    const rowFacetNames = getFieldNames(rowFacets);\n    const colFacetNames = getFieldNames(colFacets);\n    const allFacets = [...rowFacetNames, ...colFacetNames];\n\n    return { rowFacetNames, colFacetNames, allFacets, rowFacets, colFacets };\n};\n\n/**\n*\n*\n* @param {*} context\n* @param {*} facetNames\n* @param {*} hashMap\n* @param {*} keys\n* @param {*} index\n* @returns\n*/\nconst prepareHashMaps = (context, facetNames, hashMap, keys, index) => {\n    const rowKey = [];\n    facetNames.forEach((name) => {\n        const key = context._derivation[context._derivation.length - 1].meta.keys[name];\n\n        rowKey.push(key);\n    });\n\n    const joinedRowKey = rowKey.join(',');\n\n    if (hashMap[joinedRowKey] === undefined) {\n        hashMap[joinedRowKey] = index++;\n        keys.push(rowKey);\n    }\n    return rowKey;\n};\n\nconst createJoinedKeys = keys => keys.map(e => ({\n    keyArr: e,\n    joinedKey: e.join(',')\n}));\n\nconst setDefaultConfigForFacet = (facetInfo, projectionInfo, config) => {\n    let conf = {};\n\n    if (facetInfo.allFacets.length || projectionInfo.indices.length > 1) {\n        const { facetsUserConfig, border } = config;\n        const { isBorderPresent, isGridLinePresent } = facetsUserConfig;\n        const gridLinesShowLength = Object.keys(isGridLinePresent).length;\n        const {\n            width: borderWidth,\n            color: borderColor,\n            style: borderStyle,\n            showValueBorders,\n            showRowBorders,\n            showColBorders\n        } = border;\n        let gridLines = {};\n        let borderConf = {};\n\n        if (Object.keys(isBorderPresent).length === 0 || !(isBorderPresent.width)) {\n            borderConf = {\n                width: BORDER_WIDTH[FACET]\n            };\n        } else {\n            Object.assign(borderConf,\n                borderWidth ? { width: borderWidth } : null,\n                borderColor ? { color: borderColor } : null,\n                showValueBorders ? { showValueBorders } : null,\n                showRowBorders ? { showRowBorders } : null,\n                showColBorders ? { showColBorders } : null,\n                borderStyle ? { style: borderStyle } : null);\n        }\n        if (gridLinesShowLength <= 0) {\n            gridLines = {\n                x: {\n                    show: false\n                }\n            };\n        }\n        conf = {\n            border: borderConf,\n            gridLines\n        };\n    }\n    return conf;\n};\n\n/**\n*\n*\n* @param {*} splitModels\n* @param {*} facetInfo\n* @returns\n*/\nconst getSplitModelHashMap = (splitModels, facetInfo, config) => {\n    const {\n        rowFacetNames,\n        colFacetNames,\n        rowFacets,\n        colFacets\n    } = facetInfo;\n\n    const rowKeyHashMap = {};\n    const colKeyHashMap = {};\n\n    const rowKeys = [];\n    const colKeys = [];\n    const rowIndex = 0;\n\n    const splitModelsHashMap = {};\n\n    splitModels.forEach((splitContext) => {\n        const rowKey = prepareHashMaps(splitContext, rowFacetNames, rowKeyHashMap, rowKeys, rowIndex);\n        const colKey = prepareHashMaps(splitContext, colFacetNames, colKeyHashMap, colKeys, 1);\n\n        splitModelsHashMap[`${rowKey}-${colKey}`] = splitContext;\n    });\n\n    return {\n        splitModelsHashMap,\n        rowKeys: createJoinedKeys(sortFacetFields(rowFacets, rowKeys, config)),\n        colKeys: createJoinedKeys(sortFacetFields(colFacets, colKeys, config))\n    };\n};\n\n/**\n * Formats row or columns keys with the provided formatter.\n *\n * @param {Array} keys - The collection of row or column keys.\n * @param {Array} formatterList - The list of corresponding formatter.\n */\nconst formatKeys = (keys, formatterList) => {\n    const formattedKeys = [];\n    keys.forEach((rKeys, rIdx) => {\n        formattedKeys[rIdx] = [];\n        rKeys.forEach((key, idx) => {\n            formattedKeys[rIdx][idx] = formatterList[idx](key);\n        });\n    });\n    return formattedKeys;\n};\n\n/**\n*\n*\n* @param {Object} context\n* @param {Object} fieldInfo\n* @returns\n*/\nconst splitByColumn = (context, optionalProjections) => {\n    const {\n        matrix,\n        dataModel,\n        rowIndex,\n        colIndex,\n        facetInfo,\n        projectionInfo,\n        geomCellCreator\n    } = context;\n    const {\n        indices,\n        uniqueFields,\n        projections\n    } = projectionInfo;\n\n    const commonFields = optionalProjections;\n\n    dataModel.splitByColumn(uniqueFields, commonFields).forEach((model, i) => {\n        let { rowIndex: row, colIndex: col } = indices[i];\n        row += rowIndex;\n        col += colIndex;\n\n        matrix[row] = matrix[row] || [];\n\n        const projectionIndexObject = {\n            indices: {\n                rowIndex: row,\n                columnIndex: col\n            },\n            projections: projections[i]\n        };\n\n        matrix[row][col] = geomCellCreator(model, projectionIndexObject, facetInfo);\n    });\n    const lastIndex = indices[indices.length - 1];\n\n    return {\n        rowIndex: lastIndex.rowIndex + rowIndex,\n        colIndex: lastIndex.colIndex + colIndex\n    };\n};\n\nconst createColumnDataModels = (colContext, fieldInfo, sourceDM) => {\n    let context = {};\n    const {\n        rowFacets,\n        colFacets\n    } = fieldInfo;\n    const {\n        rowKeyArr,\n        rowKey,\n        colKeyObj,\n        newRowIndex,\n        splitModelsHashMap,\n        currentColumnIndex\n    } = colContext;\n\n    const { keyArr: colKeyArr, joinedKey: colKey } = colKeyObj;\n    const hashMapKey = splitModelsHashMap[`${rowKey}-${colKey}`];\n\n    if (hashMapKey) {\n        context = { dataModel: hashMapKey };\n    } else {\n        const emptyDm = new DataModel([], sourceDM.getData().schema);\n        context = { dataModel: emptyDm };\n    }\n\n    context = {\n        ...context,\n        ...colContext,\n        facetInfo: {\n            rowFacets: [rowFacets, rowKeyArr],\n            colFacets: [colFacets, colKeyArr]\n        },\n        rowIndex: newRowIndex,\n        colIndex: currentColumnIndex\n    };\n    const dataModels = splitByColumn(context, fieldInfo.optionalProjections);\n\n    return {\n        columnIndex: dataModels.colIndex + 1,\n        rowIndex: dataModels.rowIndex\n    };\n};\n\nconst createRowDataModels = (rowContext, fieldInfo, sourceDM) => {\n    let currentColumnIndex = 0;\n    let rowIndexForCurrentKey = 0;\n    const {\n        colKeys,\n        rowKeyObj,\n        currentRowIndex\n    } = rowContext;\n    const newRowIndex = currentRowIndex;\n    const { keyArr: rowKeyArr, joinedKey: rowKey } = rowKeyObj;\n    const colContext = {\n        ...rowContext,\n        rowKeyArr,\n        rowKey,\n        newRowIndex\n    };\n    rowIndexForCurrentKey = currentRowIndex;\n    if (colKeys.length) {\n        colKeys.forEach((colKeyObj) => {\n            colContext.colKeyObj = colKeyObj;\n            colContext.currentColumnIndex = currentColumnIndex;\n            const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, sourceDM);\n\n            currentColumnIndex = columnIndex;\n            rowIndexForCurrentKey = rowIndex;\n        });\n    } else {\n        colContext.colKeyObj = { keyArr: [], joinedKey: '' };\n        colContext.currentColumnIndex = currentColumnIndex;\n\n        const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, sourceDM);\n\n        currentColumnIndex = columnIndex;\n        rowIndexForCurrentKey = rowIndex;\n    }\n    return {\n        rowIndex: ++rowIndexForCurrentKey\n    };\n};\n\n/**\n* Gets Matrixes for corresponding datamodel, facets and projections\n*\n* @param {Object} dataModel input datamodel\n* @param {Object} fieldInfo Information about the fields\n* @param {Function} geomCellCreator Callback executed after datamodels are prepared after sel/proj\n* @return {Object} set of matrices with the corresponding row and column keys\n*/\nexport const getMatrixModel = (dataModel, fieldInfo, geomCellCreator, globalConfig) => {\n    let currentRowIndex = 0;\n    const matrix = [];\n    const {\n        rowFacets,\n        colFacets\n    } = fieldInfo;\n\n    const projectionInfo = prepareProjectionInfo(fieldInfo);\n    const facetInfo = prepareFacetInfo(fieldInfo);\n    const allSplitModels = dataModel.splitByRow(facetInfo.allFacets);\n\n    const {\n        splitModelsHashMap,\n        rowKeys,\n        colKeys\n    } = getSplitModelHashMap(allSplitModels, facetInfo, globalConfig);\n\n    const defaultConfig = setDefaultConfigForFacet(facetInfo, projectionInfo, globalConfig);\n    globalConfig = mergeRecursive(globalConfig, defaultConfig);\n\n    const generalContext = {\n        matrix,\n        geomCellCreator,\n        projectionInfo,\n        splitModelsHashMap,\n        colKeys\n    };\n    if (rowKeys.length) {\n        rowKeys.forEach((rowKeyObj) => {\n            const rowContext = {\n                ...generalContext,\n                rowKeyObj,\n                currentRowIndex\n            };\n            const { rowIndex } = createRowDataModels(rowContext, fieldInfo, dataModel);\n\n            currentRowIndex = rowIndex;\n        });\n    } else if (colKeys.length) {\n        let currentColumnIndex = 0;\n        const newRowIndex = currentRowIndex;\n\n        colKeys.forEach((colKeyObj) => {\n            const colContext = {\n                ...generalContext,\n                rowKeyArr: [],\n                rowKey: '',\n                colKeyObj,\n                newRowIndex,\n                currentColumnIndex\n            };\n            const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, dataModel);\n            currentRowIndex = rowIndex;\n            currentColumnIndex = columnIndex;\n        });\n    } else {\n        let currentColumnIndex = 0;\n        const newRowIndex = currentRowIndex;\n        const colContext = {\n            ...generalContext,\n            rowKeyArr: [],\n            rowKey: '',\n            colKeyObj: { keyArr: [], joinedKey: '' },\n            newRowIndex,\n            currentColumnIndex\n        };\n        const { columnIndex, rowIndex } = createColumnDataModels(colContext, fieldInfo, dataModel);\n        currentRowIndex = rowIndex;\n        currentColumnIndex = columnIndex;\n    }\n\n    const formattedColKeys = formatKeys(colKeys.map(e => e.keyArr),\n        colFacets.map(facetField => facetField.rawFormat()));\n    const formattedRowKeys = formatKeys(rowKeys.map(e => e.keyArr),\n        rowFacets.map(facetField => facetField.rawFormat()));\n\n     // Getting column keys\n    const transposedColKeys = formattedColKeys.length > 0 ? formattedColKeys[0].map((col, i) =>\n     formattedColKeys.map(row => row[i])) : formattedColKeys;\n\n    return { matrix, rowKeys: formattedRowKeys, columnKeys: transposedColKeys };\n};\n","import { generateGetterSetters, STATE_NAMESPACES, getUniqueId } from 'muze-utils';\nimport {\n     initializeCacheMaps,\n     headerCreator,\n     extractUnitConfig,\n     setFacetsAndProjections,\n     sanitizeCheck\n} from './group-utils';\nimport {\n     ROW, COL, LEFT, RIGHT, COLOR, SIZE, SHAPE, DETAIL, CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS, INITIALIZED,\n     AXIS, UNIT, BEFORE_UPDATE, UPDATED, VALUE_MATRIX, FACET_HEADERS\n} from '../enums/constants';\nimport { createValueCells, computeMatrices } from './cell-creator';\nimport { RESOLVER_PROPS } from './resolver-props';\n\n/**\n * Resolves the matrices from configuration provided\n *\n * @export\n * @class MatrixResolver\n */\nexport default class MatrixResolver {\n\n    /**\n     * Creates an instance of MatrixResolver.\n     * @param {Object} dependencies needed to run the resolver\n     * @memberof MatrixResolver\n     */\n    constructor (dependencies) {\n        this._registry = {};\n        this._layerConfig = [];\n        this._matrixLayers = [];\n        this._dependencies = dependencies;\n        this._rowMatrix = [];\n        this._columnMatrix = [];\n        this._valueMatrix = [];\n        this._facets = { rowFacets: [], colFacets: [] };\n        this._projections = { rowProjections: [], colProjections: [] };\n        this._datamodelTransform = {};\n        this._units = [];\n        this._cacheMaps = {};\n        this._fireboltDeps = {};\n        this._axes = {\n            x: {},\n            y: {},\n            color: [],\n            size: [],\n            shape: [],\n            radius: [],\n            angle: [],\n            angle0: []\n        };\n        this._placeholderInfo = {};\n        generateGetterSetters(this, this.constructor.getterSetters());\n\n        this.cacheMaps(initializeCacheMaps());\n    }\n\n    static getterSetters () {\n        return RESOLVER_PROPS;\n    }\n    /**\n     * Set:  Registers placeholders, Get: return {Object} those placeholders\n     *\n     * @param {Object} placeholders cells that will construct the group\n     * @return {Object} Either current instance or the set of placeholders\n     * @memberof MatrixResolver\n     */\n    registry (...placeholders) {\n        if (placeholders.length) {\n            Object.entries(placeholders[0]).forEach((val) => {\n                this._registry[val[0]] = val[1];\n            });\n            return this;\n        }\n        return this._registry;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    cacheMaps (...maps) {\n        if (maps.length) {\n            [CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS].forEach((e) => {\n                this._cacheMaps[`${e}Map`] = maps[0][`${e}Map`] || this._cacheMaps[`${e}Map`];\n            });\n            return this;\n        }\n        return this._cacheMaps;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    axes (...axes) {\n        if (axes.length) {\n            this._axes = Object.assign({}, this._axes, axes[0]);\n            return this;\n        }\n        return this._axes;\n    }\n\n    facets (...facets) {\n        if (facets.length) {\n            Object.entries(facets[0]).forEach((e) => {\n                this._facets[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._facets;\n    }\n\n    projections (...projections) {\n        if (projections.length) {\n            Object.entries(projections[0]).forEach((e) => {\n                this._projections[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._projections;\n    }\n\n    optionalProjections (config, layerConfig, schema) {\n        const otherEncodings = {};\n        const optionalProjections = [];\n        const otherEncodingTypes = [SIZE, COLOR, SHAPE];\n\n        otherEncodingTypes.forEach((type) => {\n            if (config[type] && config[type].field) {\n                const enc = config[type];\n                otherEncodings[type] = enc.field;\n                optionalProjections.push(enc.field);\n            }\n        });\n\n        if (config[DETAIL]) {\n            optionalProjections.push(...config.detail);\n        }\n\n        const encoder = this.encoder();\n        optionalProjections.push(...encoder.getProjectionFields(layerConfig, schema));\n        this.projections({ optionalProjections });\n        return otherEncodings;\n    }\n\n    /**\n     * return the normalized set of rows and facets and projections\n     *\n     * @param {Object} rows parameters needed to set horizontal axis consisiting of rows\n     * @return {Object} facets, projections and normalized rows\n     * @memberof MatrixResolver\n     */\n    horizontalAxis (rows, encoder) {\n        if (rows) {\n            this._horizontalAxis = setFacetsAndProjections(this, { type: ROW, fields: rows }, encoder);\n            return this;\n        }\n        return this._horizontalAxis;\n    }\n\n    /**\n     * return the normalized set of columns and facets and projections\n     *\n     * @param {Object} columns parameters needed to set vertical axis consisiting of columns\n     * @return {Object} facets, projections and normalized columns\n     * @memberof MatrixResolver\n     */\n    verticalAxis (columns, encoder) {\n        if (columns) {\n            this._verticalAxis = setFacetsAndProjections(this, { type: COL, fields: columns }, encoder);\n            return this;\n        }\n        return this._verticalAxis;\n    }\n\n    /**\n     * Gets the class definition of a particular cell type(if the particular type has been extended, that particular\n     * definition is returned)\n     *\n     * @param {Object} cell cell whose class definition is to be retrieved\n     * @return {Object} cell definition\n     * @memberof MatrixResolver\n     */\n    getCellDef (cell) {\n        const registry = this.registry().cells;\n\n        Object.values(registry).forEach((e) => {\n            if (e.prototype instanceof cell) {\n                cell = e;\n            }\n        });\n        return cell;\n    }\n\n    /**\n     * return a visual cell creator along with its axis information to be injected to the datamodel creation\n     * function\n     *\n     * @param {Object} GeomCell Type of cell to be created\n     * @return {Object} Created cell\n     * @memberof MatrixResolver\n     */\n    valueCellsCreator (context) {\n        // reset matrix layers\n        this.matrixLayers([]);\n\n        return (datamodel, fieldInfo, facets) => createValueCells(context, datamodel, fieldInfo, facets);\n    }\n\n    /**\n     * Callback to be applied on each cell of a matrix of a particular type\n     *\n     * @param {string} matrixType type of matrix on which callback is to be applied\n     * @param {Function} callback function to be applied to each cell\n     * @memberof MatrixResolver\n     */\n    forEach (matrixType, callback) {\n        this[matrixType]().forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                callback(rIndex, cIndex, col);\n            });\n        });\n    }\n\n    getAllFields () {\n        const retObj = this.projections();\n\n        Object.entries(this.facets()).forEach((e) => {\n            retObj[e[0]] = e[1];\n        });\n        return retObj;\n    }\n\n    resetSimpleAxes () {\n        return this.axes({\n            x: new Set(),\n            y: new Set(),\n            radius: [],\n            angle: [],\n            angle0: [],\n            pie: []\n        });\n    }\n\n    setFireboltDependencies (prop, deps) {\n        Object.assign(this._fireboltDeps, {\n            [prop]: deps\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} componentRegistry\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    createUnits (componentRegistry, config) {\n        const {\n            globalConfig,\n            alias,\n            coord\n        } = config;\n        const {\n            layerRegistry,\n            interactions\n        } = componentRegistry;\n        const {\n            smartlabel: smartLabel,\n            lifeCycleManager,\n            throwback\n        } = this.dependencies();\n        const fireboltDeps = this._fireboltDeps;\n\n        // Provide the source for the matrix\n        const units = [[]];\n        // Setting unit configuration\n        const unitConfig = extractUnitConfig(globalConfig || {});\n        const store = this.store();\n        store.lockModel();\n        const { VisualUnit } = this.registry();\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            let unit = el.source();\n            if (!unit) {\n                const namespace = `unit${i}-${j}-${getUniqueId()}`;\n\n                unit = VisualUnit.create({\n                    layerRegistry,\n                    interactions\n                }, {\n                    smartLabel,\n                    lifeCycleManager,\n                    throwback,\n                    fireboltDeps\n                });\n                unit.metaInf({\n                    rowIndex: i,\n                    colIndex: j,\n                    namespace\n                });\n                unit.store(store);\n                unit.coord(coord);\n                el.source(unit);\n            }\n            !units[i] && (units[i] = []);\n            units[i][j] = unit;\n            unit.parentAlias(alias)\n                .valueParser(this.valueParser())\n                .coord(coord);\n            el.config(unitConfig);\n        });\n        store.unlockModel();\n        lifeCycleManager.notify({ client: units, action: INITIALIZED, formalName: UNIT });\n        return this.units(units);\n    }\n\n    /**\n     *\n     *\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    setRetinalAxisDomain (config, datamodel, encoders) {\n        const {\n            color,\n            shape,\n            size,\n            globalConfig\n        } = config;\n        const groupBy = globalConfig.autoGroupBy;\n        const {\n            rowFacets,\n            colFacets\n        } = this.getAllFields();\n        const encoding = {\n            color,\n            shape,\n            size\n        };\n        const facetFields = [...rowFacets.map(e => e.toString()), ...colFacets.map(e => e.toString())];\n        const retContext = {\n            domains: encoders.simpleEncoder.getRetinalFieldsDomain(datamodel, encoding, facetFields, groupBy),\n            axes: this.getRetinalAxes(),\n            encoding\n        };\n        encoders.retinalEncoder.setCommonDomain(retContext);\n        return this;\n    }\n\n    resetFacetsAndProjections () {\n        this._facets = {};\n        this._projections = {};\n        return this;\n    }\n\n    getRetinalAxes () {\n        const {\n            color,\n            shape,\n            size\n        } = this.axes();\n\n        return {\n            color: [...color],\n            shape: [...shape],\n            size: [...size]\n        };\n    }\n\n    getSimpleAxes (type) {\n        return this.axes()[`${type}`];\n    }\n\n    createRetinalAxes (fieldsConfig, config, encoders) {\n        const retinalAxes = encoders.retinalEncoder.createAxis({\n            fieldsConfig,\n            config,\n            axes: this.axes()\n        });\n\n        this.axes(retinalAxes);\n\n        this.updateVisualUnit(config);\n\n        return this;\n    }\n\n    createHeaders (placeholders, fieldNames, config) {\n        let bottomLeft = [];\n        let bottomRight = [];\n        const {\n            rows,\n            columns\n        } = placeholders;\n        const {\n            smartlabel: labelManager,\n            lifeCycleManager\n        } = this.dependencies();\n        const {\n            showHeaders,\n            classPrefix\n        } = config;\n        const { TextCell, BlankCell } = this.registry().cells;\n        const [leftRows, rightRows] = rows;\n        const [topCols, bottomCols] = columns;\n        const rowHeaders = fieldNames.rows;\n        const blankCellCreator = cell => new BlankCell().config({ show: cell.config().show });\n\n        const sanitizeCheckBorder = sanitizeCheck(config.facetsUserConfig);\n        // Headers and footers are created based on the rows. Thereafter, using the column information\n        // they are tabularized into the current structure\n        const headers = {\n            left: headerCreator(leftRows, rowHeaders[0], showHeaders ? TextCell : BlankCell,\n                { classPrefix, labelManager, sanitizeCheckBorder }),\n            right: headerCreator(rightRows, rowHeaders[1], showHeaders ? TextCell : BlankCell,\n                { classPrefix, labelManager, sanitizeCheckBorder })\n        };\n        const footers = {\n            left: leftRows.length > 0 ? leftRows[0].map(blankCellCreator) : [],\n            right: rightRows.length > 0 ? rightRows[0].map(blankCellCreator) : []\n        };\n        const [topLeft, topRight] = [LEFT, RIGHT].map(type => topCols.map((col, i) => {\n            if (i === topCols.length - 1) {\n                return headers[type];\n            }\n            return footers[type];\n        }));\n\n        // Creating only bottom matrices if there is no information on the top\n        if (topCols.length === 0) {\n            [bottomLeft, bottomRight] = [LEFT, RIGHT].map(type => bottomCols.map((col, i) => {\n                if (i === 0) {\n                    return headers[type];\n                }\n                return footers[type];\n            }));\n        } else {\n            bottomLeft = bottomCols.map(() => (leftRows.length > 0 ? leftRows[0].map(blankCellCreator) : []));\n            bottomRight = bottomCols.map(() => (rightRows.length > 0 ? rightRows[0].map(blankCellCreator) : []));\n        }\n\n        lifeCycleManager.notify({\n            client: [topLeft, topRight, bottomLeft, bottomRight],\n            action: INITIALIZED,\n            formalName: FACET_HEADERS\n        });\n\n        return { topLeft, topRight, bottomLeft, bottomRight };\n    }\n\n    updateVisualUnit (retinalConfig) {\n        const retinalAxes = this.getRetinalAxes();\n\n        const { lifeCycleManager } = this.dependencies();\n        lifeCycleManager.notify({ client: this.axes(), action: INITIALIZED, formalName: AXIS });\n        lifeCycleManager.notify({ client: this.units(), action: BEFORE_UPDATE, formalName: UNIT });\n\n        const units = [];\n        const matrixLayers = this.matrixLayers();\n\n        const props = [`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.domain`,\n            `${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`];\n        const store = this.store();\n        store.lockCommits(props);\n        store.lockModel();\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            el.axes(Object.assign(el.axes(), retinalAxes));\n            el.source() && el.source().retinalFields(retinalConfig);\n            el.layerDef(matrixLayers[i][j]);\n            el.updateModel();\n\n            units.push(el.source());\n        });\n\n        store.unlockModel()\n            .unlockCommits([props[0]])\n            .unlockCommits([props[1]]);\n        lifeCycleManager.notify({ client: units, action: UPDATED, formalName: UNIT });\n        return this;\n    }\n\n    getMatrices (resolverConfig) {\n        this._placeholderInfo = computeMatrices(resolverConfig);\n\n        return this._placeholderInfo;\n    }\n\n    clear () {\n        const cacheMaps = this._cacheMaps;\n\n        for (const key in cacheMaps) {\n            cacheMaps[key].clear();\n        }\n    }\n\n}\n","export const RESOLVER_PROPS = {\n    dependencies: {},\n    units: {},\n    datamodelTransform: {},\n    layerConfig: {},\n    matrixLayers: {},\n    colCells: {},\n    rowCells: {},\n    rowMatrix: {},\n    columnMatrix: {},\n    valueMatrix: {},\n    encoder: {},\n    valueParser: {},\n    data: {},\n    transformedData: {},\n    store: {}\n};\n","import * as Encoders from './encoder';\nimport * as encoderHelpers from './encoder/encoder-helper';\nimport * as groupUtils from './group-helper/group-utils';\nimport * as enums from './enums/constants';\n\nexport { VisualGroup } from './visual-group';\nexport { SimpleGroup } from './simple-group';\nexport { ComposedVars, SimpleVariable } from './variable';\nexport { default as ValueMatrix } from './visual-group/value-matrix';\nexport { Encoders, encoderHelpers, groupUtils, enums };\n","export { default as SimpleGroup } from './simple-group';\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * Interfaces for VisualGroup. Any new VisualGroup has to implement this class.\n * @class  SimpleGroup\n */\nclass SimpleGroup {\n\n    /**\n     * This method is used to set or get the DataModel instance.\n     *\n     * @param {DataModel | undefined} dataModel Instance of datamodel.\n\n     * @memberof  SimpleGroup\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to set or get the group specific configuration\n     * properties\n     *\n     * @param {Object | undefined} configObj The input configuration.\n     *                                or instance of visual group.\n     * @memberof  SimpleGroup\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to return a serialized representation of the\n     * instance's properties.\n     *\n     * @memberof  SimpleGroup\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to get or set the measurement object which houses\n     * layout properties like width and height.\n     *\n     * @param {Object  | undefined} mObj The measurement properties.\n     * @memberof  SimpleGroup\n     */\n    measurement () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n\nexport default SimpleGroup;\n","import Variable from './variable';\n\n/**\n * This is a wrapper on top of multiple variables which are of same type but they are shown in the same axis.This is\n * required in case of range plots or ohlc plots where one plot is mapped to multiple measure fields. At that time,\n * we need to create a composed variable from multiple variables. This class just wraps them into one variable instance\n * and provides methods to get the type and other common functionalities which can be performed on a simple variable\n * instance.\n *\n * @public\n * @class ComposeVars\n */\nclass ComposedVars extends Variable {\n\n    /**\n     * Creates an instance of ComposeVars.\n     *\n     * @param {Array} vars Array of SimpleVars.\n     */\n    constructor (...vars) {\n        super();\n        this.vars(vars);\n    }\n\n    vars (...params) {\n        if (params.length) {\n            this._vars = params[0];\n            return this;\n        }\n        return this._vars;\n    }\n\n    data (...dm) {\n        if (dm.length) {\n            this.vars().forEach(d => d.data(dm[0]));\n            this._data = dm[0];\n            return this;\n        }\n        return this._data;\n    }\n\n    /**\n     * Get all the field names from composed variable instance.\n     *\n     * @public\n     * @return {Array} Array of field names.\n     */\n    getMembers () {\n        const vars = this.vars();\n        return vars.map(member => member.getMembers()[0]);\n    }\n\n    /**\n     * Type of field associated with this composed variable.\n     *\n     * @return {string} Type of variable (Measure/Dimension).\n     */\n    type () {\n        return this.vars()[0].type();\n    }\n\n    toString () {\n        return this.vars().map(d => d.toString()).join(',');\n    }\n\n    /**\n     * Returns the number formatter function of the variable.\n     *\n     * @return {Function} Number formatter function of the variable.\n     */\n    numberFormat () {\n        return this.vars()[0].numberFormat();\n    }\n\n    format (values) {\n        return this.vars()[0].format(values);\n    }\n\n    getSchemaDef () {\n        return this.data().getFieldsConfig()[this.vars()[0]].def;\n    }\n\n    /**\n     * Returns the subtype of the fields associated with this variable instance.\n     *\n     * @public\n     * @return {string} Subtype of the variable.\n     */\n    subtype () {\n        return this.vars()[0].subtype();\n    }\n\n    /**\n     * Returns the consecutive minimum difference of the field values.\n     *\n     * @public\n     * @return {number} Minimum consecutive difference.\n     */\n    getMinDiff () {\n        return this.vars()[0].getMinDiff();\n    }\n\n    /**\n     * Returns the display name of the fields.\n     *\n     * @return {string} returns the display name.\n     */\n    displayName () {\n        return this.vars().map(d => d.displayName()).join(',');\n    }\n}\n\nexport default ComposedVars;\n","export { default as ComposedVars } from './composed-vars';\nexport { default as SimpleVariable } from './simple-var';\nexport { default as Variable } from './variable';\n","import { DateTimeFormatter, retrieveFieldDisplayName, DimensionSubtype } from 'muze-utils';\nimport Variable from './variable';\n\n/**\n * This is a wrapper on top of fields passed in rows or columns in canvas. This is used to get the type of field or\n * get min difference from the field values.\n *\n * @public\n * @class SimpleVariable\n */\nexport default class SimpleVariable extends Variable {\n\n    /**\n     * Creates an instance of simple variable instance.\n     *\n     * @param {string} name Field name.\n     */\n    constructor (name) {\n        super();\n        this.oneVar(name);\n    }\n\n    /**\n     * Gets the field name associated with this variable instance.\n     *\n     * @public\n     * @return {string} Name of the field.\n     */\n    oneVar (...oneV) {\n        if (oneV.length) {\n            this._oneVar = oneV[0];\n            return this;\n        }\n        return this._oneVar;\n    }\n\n    data (...dm) {\n        if (dm.length) {\n            this._data = dm[0];\n            return this;\n        }\n        return this._data;\n    }\n\n    toString () {\n        return this.oneVar();\n    }\n\n    /**\n     * Gets the number formatter function of this variable.\n     *\n     * @public\n     * @return {Function} Number formatter function.\n     */\n    numberFormat () {\n        if (this.type() === 'measure') {\n            const formatter = this.data().getFieldspace().getMeasure()[this.oneVar()];\n            return formatter.numberFormat();\n        } return val => val;\n    }\n\n    format (values) {\n        if (values && this.subtype() === 'temporal') {\n            const formatter = this.data().getFieldspace().getDimension()[this.oneVar()].schema().format;\n            const dtFormat = new DateTimeFormatter(formatter);\n            values = values.map(e => dtFormat.getNativeDate(e));\n        }\n        return values;\n    }\n\n    /**\n     * Returns a formatter function which transforms the input value to its original form.\n     *\n     * @public\n     * @return {Function} Returns raw formatter function.\n     */\n    rawFormat () {\n        if (this.subtype() === DimensionSubtype.TEMPORAL) {\n            const dateFormat = this.data().getFieldspace().getDimension()[this.oneVar()].schema().format;\n            return val => DateTimeFormatter.formatAs(val, dateFormat);\n        }\n        return val => val;\n    }\n\n    /**\n     * Return the field names associated with this variable instance.\n     *\n     * @public\n     * @return {Array} Array of fields.\n     */\n    getMembers () {\n        return [this.oneVar()];\n    }\n\n    /**\n     * Returns the type of the variable. Whether it is measure or dimension.\n     *\n     * @public\n     * @return {string} Type of variable.\n     */\n    type () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.type;\n    }\n\n    /**\n     * Returns the subtype of the variable. Subtype can be categorical or temporal. If no subtype is found, then it\n     * returns the type of the variable.\n     *\n     * @public\n     * @return {string} Subtype of variable.\n     */\n    subtype () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.subtype || fieldDef.type;\n    }\n\n    /**\n     * Returns the minimum consecutive difference between the data values of this variable.\n     *\n     * @return {number} Minimum consecutive difference.\n     */\n    getMinDiff () {\n        const fieldSpace = this.data().getFieldspace();\n        return fieldSpace.fieldsObj()[this.oneVar()].minimumConsecutiveDifference();\n    }\n\n    /**\n     * Returns true if two variable instances are same.If both variable has the same field names, they are equal.\n     *\n     * @return {Boolean} Whether two variable instances are same.\n     */\n    equals (varInst) {\n        return this.oneVar() === varInst.oneVar();\n    }\n\n    /**\n     * Returns the display name of the field.\n     *\n     * @return {string} returns the display name.\n     */\n    displayName () {\n        return retrieveFieldDisplayName(this.data(), this.oneVar());\n    }\n\n    /**\n     * Returns the schema defination of the field.\n     *\n     * @return {Object} schema def\n     */\n    getSchemaDef () {\n        return this.data().getFieldsConfig()[this.oneVar()].def;\n    }\n}\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n *\n *\n * @export\n * @class Variable\n */\nexport default class Variable {\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    type () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    toString () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n}\n","import { STATE_NAMESPACES } from 'muze-utils';\n\nexport const setupChangeListeners = (context) => {\n    const store = context.store();\n    const stores = {\n        throwback: context._dependencies.throwback,\n        store\n    };\n\n    ['x', 'y'].forEach((axisType) => {\n        store.registerChangeListener([`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${axisType}`], () => {\n            const groupAxes = context.resolver().axes();\n            groupAxes[axisType].forEach(axes => axes.forEach((axis) => {\n                axis.render();\n            }));\n        });\n    });\n    const { VisualUnit, layerRegistry } = context.registry();\n    const { base: BaseLayer } = layerRegistry;\n    [VisualUnit, BaseLayer].forEach((comp) => {\n        const formalName = comp.formalName();\n        ['store', 'throwback'].forEach((type) => {\n            const listeners = comp.getListeners()[type];\n            const storeInst = stores[type];\n            listeners.forEach((listenerInf) => {\n                storeInst[listenerInf.type](listenerInf.props, listenerInf.listener, false, {\n                    namespace: formalName,\n                    subNamespace: listenerInf.subNamespace\n                });\n            });\n        });\n    });\n};\n\nexport const registerDomainChangeListener = (context) => {\n    const store = context.store();\n    store.registerChangeListener([`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`], () => {\n        context.resolver().encoder().unionUnitDomains(context);\n    }, false, {\n        key: 'unionDomain'\n    });\n};\n\nexport const unsubscribeChangeListeners = (context) => {\n    context.store().unsubscribe({\n        key: 'unionDomain'\n    });\n};\n","import { VisualUnit } from '@chartshq/visual-unit';\nimport { STATE_NAMESPACES, CommonProps, InvalidAwareTypes } from 'muze-utils';\nimport { BaseLayer } from '@chartshq/visual-layer';\nimport { getBorders } from '../group-helper';\nimport { RetinalEncoder } from '../encoder';\nimport { registerDomainChangeListener, unsubscribeChangeListeners } from './change-listener';\nimport ValueMatrix from './value-matrix';\nimport { ROWS, COLUMNS, DATA } from '../enums/constants';\n\nexport const createUnitState = (context) => {\n    const [globalState, localState] = VisualUnit.getState();\n    const store = context.store();\n    store.append(STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE, globalState)\n        .append(STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE, localState);\n};\n\nexport const initializeGlobalState = (context) => {\n    const globalState = context.constructor.getState()[0];\n    const store = context.store();\n    store.append(STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE, globalState);\n};\n\nexport const createLayerState = (context) => {\n    const [globalState, localState] = BaseLayer.getState();\n    context.store().append(STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE, globalState)\n        .append(STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE, localState);\n};\n\nconst sanitizeRetinalConfig = (retinalConf) => {\n    const conf = {};\n    for (const key in retinalConf) {\n        const confValue = retinalConf[key];\n        if (typeof confValue === 'string' || !confValue) {\n            conf[key] = {\n                field: retinalConf[key]\n            };\n        } else {\n            conf[key] = confValue;\n        }\n    }\n    return conf;\n};\n\nexport const setMatrixInstances = (context, placeholder) => {\n    let {\n        values,\n        rows,\n        columns\n    } = placeholder;\n    values = values || [];\n    rows = rows || [];\n    columns = columns || [];\n    context._composition.matrices = {\n        value: new ValueMatrix(values),\n        left: new ValueMatrix(rows[0]),\n        right: new ValueMatrix(rows[1]),\n        top: new ValueMatrix(columns[0]),\n        bottom: new ValueMatrix(columns[1])\n    };\n\n    context._dependencies.throwback.commit(CommonProps.MATRIX_CREATED, true);\n    return context;\n};\n\nconst hasValue = (val) => {\n    let hasOneValue = false;\n    for (let i = 0; i < val.length && !hasOneValue; i++) {\n        for (let j = 0; j < val[i].length; j++) {\n            if (!(val[i][j] instanceof InvalidAwareTypes)) {\n                hasOneValue = true;\n                break;\n            }\n        }\n    }\n    return hasOneValue;\n};\n\nexport const updateChecker = (context, props) => props.every((option) => {\n    const val = context[option]();\n    switch (option) {\n    case ROWS:\n    case COLUMNS:\n        return val !== null;\n    case DATA:\n        return val && !val.isEmpty() && hasValue(val.getData().data);\n\n    default:\n        return true;\n    }\n});\n\nexport const initializeFields = (context) => {\n    const rows = context.rows();\n    const columns = context.columns();\n    const color = context.color();\n    const datamodel = context.data();\n    const size = context.size();\n    const detail = context.detail();\n    const layers = context.layers();\n    const transform = context.transform();\n    const config = context.config();\n    const shape = context.shape();\n    // Get the resolver for the matrices\n    const resolver = context.resolver();\n\n    resolver.store(context.store());\n    resolver.valueParser(context.valueParser());\n\n    // Prepare configuration for matrix preparation\n    let matrixConfig = {\n        selection: context.selection(),\n        alias: context.alias(),\n        globalConfig: config || {},\n        rows,\n        columns,\n        detail,\n        layers,\n        transform\n    };\n\n    unsubscribeChangeListeners(context);\n\n    const retinalConfig = sanitizeRetinalConfig({\n        color,\n        shape,\n        size\n    });\n\n    matrixConfig = Object.assign(matrixConfig, retinalConfig);\n    // Create the encoders for the group\n    const encoders = {};\n    encoders.retinalEncoder = new RetinalEncoder();\n    encoders.simpleEncoder = context.createEncoderInstance();\n    matrixConfig.coord = encoders.simpleEncoder.constructor.type();\n    resolver.encoder(encoders.simpleEncoder);\n\n    // Set the group type\n    context.groupType(encoders.simpleEncoder.constructor.type());\n\n    // Get sanitized fields as instances of the Vars Class\n    const fields = encoders.simpleEncoder.fieldSanitizer(datamodel, matrixConfig);\n    encoders.simpleEncoder.setAxisAndHeaders(config ? config.axisFrom : {}, fields);\n    // Setting layers for the code\n    layers && resolver.layerConfig(layers);\n    // Set the row and column axes\n    resolver.horizontalAxis(fields.rows, encoders).verticalAxis(fields.columns, encoders);\n\n    return {\n        rows,\n        columns,\n        color,\n        datamodel,\n        size,\n        detail,\n        layers,\n        transform,\n        config,\n        shape,\n        resolver,\n        matrixConfig,\n        retinalConfig,\n        encoders,\n        fields\n    };\n};\n\nexport const createMatrices = (context, sanitizedConfig) => {\n    const { groupConfig, resolverConfig } = sanitizedConfig;\n    const {\n        config,\n        resolver,\n        matrixConfig,\n        encoders,\n        retinalConfig,\n        fields\n    } = groupConfig;\n\n    const placeholderInfo = resolver.getMatrices(resolverConfig);\n\n    context._groupedDataModel = placeholderInfo.dataModels.groupedModel;\n        // Set the selection object\n    context.selection(placeholderInfo.selection);\n\n        // Create retinal axes\n    resolver.createRetinalAxes(placeholderInfo.dataModels.parentModel.getFieldsConfig(), retinalConfig,\n                encoders);\n\n        // Domains are evaluated for each of the axes for commonality\n    resolver.setRetinalAxisDomain(matrixConfig, placeholderInfo.dataModels, encoders);\n\n        // Create matrix instances\n    setMatrixInstances(context, placeholderInfo);\n\n        // Prepare corner matrices\n    context.cornerMatrices(resolver.createHeaders(placeholderInfo, fields, config));\n\n        // Set placeholder information\n    context.placeholderInfo(placeholderInfo);\n\n    context._composition.axes = resolver.axes();\n    context.metaData({\n        border: getBorders(placeholderInfo, encoders.simpleEncoder)\n    });\n\n    resolver.encoder().unionUnitDomains(context);\n\n    registerDomainChangeListener(context);\n    return context;\n};\n\nexport const initializeResolverFields = (context, config) => {\n    const {\n        datamodel,\n        encoders,\n        resolver,\n        componentRegistry\n    } = context;\n    const {\n            globalConfig,\n            selection,\n            transform\n        } = config;\n    const groupBy = globalConfig.autoGroupBy;\n    const { smartlabel: labelManager } = resolver.dependencies();\n    const fieldMap = datamodel.getFieldsConfig();\n    const layerConfig = resolver.layerConfig();\n    const registry = resolver.registry();\n    const { fields: normalizedRows } = resolver.horizontalAxis();\n    const { fields: normalizedColumns } = resolver.verticalAxis();\n    const otherEncodings = resolver.optionalProjections(config, layerConfig, datamodel.getSchema());\n    const facetsAndProjections = resolver.getAllFields();\n    const { simpleEncoder } = encoders;\n    const shouldRender = simpleEncoder.hasMandatoryFields(facetsAndProjections);\n    return {\n        datamodel,\n        encoders,\n        resolver,\n        globalConfig,\n        selection,\n        transform,\n        componentRegistry,\n        groupBy,\n        labelManager,\n        fieldMap,\n        layerConfig,\n        registry,\n        normalizedRows,\n        normalizedColumns,\n        otherEncodings,\n        facetsAndProjections,\n        simpleEncoder,\n        shouldRender,\n        config\n    };\n};\n","export { default as VisualGroup } from './visual-group';\n\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\n/**\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Artboard.\n * Artboard merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @module\n */\n\nexport default {\n    [CONFIG]: {},\n    [ROWS]: {},\n    [COLUMNS]: {},\n    [COLOR]: {},\n    [SHAPE]: {},\n    [SIZE]: {},\n    [DETAIL]: {},\n    [LAYERS]: {},\n    [TRANSFORM]: {}\n};\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\nexport const PROPS = {\n    alias: {},\n    data: {},\n    cornerMatrices: {\n        defaultValue: {\n            topLeft: [],\n            topRight: [],\n            bottomLeft: [],\n            bottomRight: []\n        }\n    },\n    groupType: {},\n\n    metaData: {\n        defaultValue: {\n            border: {}\n        }\n    },\n    placeholderInfo: {\n        defaultValue: {}\n    },\n    resolver: {},\n    valueParser: {\n        defaultValue: val => val\n    },\n    registry: {\n        sanitization: (context, value) => {\n            if (context.resolver) {\n                context.resolver().registry({\n                    cells: value.cellRegistry,\n                    VisualUnit: value.VisualUnit\n                });\n            }\n            return value;\n        }\n    },\n    selection: {},\n    [CONFIG]: {},\n    [ROWS]: {},\n    [COLUMNS]: {},\n    [COLOR]: {},\n    [SHAPE]: {},\n    [SIZE]: {},\n    [DETAIL]: {},\n    [LAYERS]: {},\n    [TRANSFORM]: {}\n};\n","/**\n * This is a wrapper class over the matrix of cells which gets created in visual group. Visual Group creates left,\n * right, bottom and top and center matrices and wraps them using this class.\n *\n * @public\n * @class ValueMatrix\n */\nclass ValueMatrix {\n\n    /**\n     * Creates an instance of ValueMatrix.\n     *\n     * @param {Array} matrixArr Matrix array.\n     */\n    constructor (matrixArr) {\n        const instancesById = {};\n\n        this.matrix(matrixArr || []);\n        this.filter(() => true);\n\n        this.each((el, rIdx, cIdx) => {\n            const cellValue = el.valueOf();\n            if (cellValue && cellValue.id) {\n                const id = cellValue.id();\n                instancesById[id] = {\n                    instance: cellValue,\n                    rowIndex: rIdx,\n                    colIndex: cIdx\n                };\n            }\n        });\n\n        this.instancesById(instancesById);\n    }\n\n    instancesById (...id) {\n        if (id.length) {\n            this._instancesById = id[0];\n            return this;\n        }\n        return this._instancesById;\n    }\n\n    /**\n     * Returns the array of matrices contained in this instance.\n     *\n     * @public\n     * @return {Array} Array of matrices.\n     */\n    matrix (...matrix) {\n        if (matrix.length) {\n            this._matrix = matrix[0];\n            return this;\n        }\n        return this._matrix;\n    }\n\n    /**\n     * Sets a filter criteria. This filter criteria gets applied when each function is called.\n     *\n     * @public\n     * @param {Function} fn Filter function.\n     *\n     * @return {ValueMatrix} Instance of value matrix.\n     */\n    filter (...fn) {\n        if (fn.length) {\n            this._filterFn = fn[0];\n            return this;\n        }\n        return this._filterFn;\n    }\n\n    /**\n     * Returns the total width occupied by all the cells of the matrix.\n     *\n     * @return {Number} Width of the matrix.\n     */\n    width () {\n        let rowWidth = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowWidth = 0;\n            row.forEach((cell) => {\n                currentRowWidth += cell.getLogicalSpace().width;\n            });\n            rowWidth = Math.max(rowWidth, currentRowWidth);\n        });\n        return rowWidth;\n    }\n\n    /**\n     * Returns the total width occupied by all the cells of the matrix.\n     *\n     * @return {Number} Width of the matrix.\n     */\n    height () {\n        let rowHeight = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowHeight = 0;\n            row.forEach((cell) => {\n                currentRowHeight = Math.max(currentRowHeight, cell.getLogicalSpace().height);\n            });\n            rowHeight += currentRowHeight;\n        });\n        return rowHeight;\n    }\n\n    /**\n     * Iterates through the two dimensional matrix array and calls the given callback function with the cell instance,\n     * row index, column index and the matrix array.\n     *\n     * @param {Function} fn Callback function which will get called for every cell.\n     * @return {ValueMatrix} Instance of the value matrix.\n     */\n    each (fn) {\n        const matrix = this.matrix();\n        const filterFn = this.filter();\n\n        matrix.forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                if (filterFn(col)) {\n                    fn(col, rIndex, cIndex, matrix);\n                }\n            });\n        });\n        return this;\n    }\n\n    findPlaceHolderById (id) {\n        return this.instancesById()[id];\n    }\n\n    clear () {\n        this.each(cell => cell.remove());\n        this.matrix([]);\n    }\n\n    data () {\n\n    }\n}\n\nexport default ValueMatrix;\n","import { generateGetterSetters } from 'muze-utils';\nimport localOptions from './local-options';\nimport { SimpleGroup } from '../simple-group';\nimport {\n    MatrixResolver,\n    findInGroup,\n    getEncoder\n} from '../group-helper';\nimport {\n    createUnitState,\n    initializeGlobalState,\n    setMatrixInstances,\n    createMatrices,\n    createLayerState,\n    initializeResolverFields,\n    initializeFields,\n    updateChecker\n} from './helper';\nimport { setupChangeListeners } from './change-listener';\nimport { PROPS } from './props';\nimport {\n    CONFIG,\n    MOUNT,\n    RETINAL,\n    Y,\n    ROWS,\n    COLUMNS,\n    DATA\n} from '../enums/constants';\n\n/**\n * VisualGroup is instantiated by canvas for creating {@link VisualUnit} and axes instances.It creates the\n * the matrix of visual units and axes. It also creates the layout instance which manages the allocation\n * of space of matrices.\n *\n * To get instance of visual group,\n * ```\n *      const visualGroup = canvas.composition().visualGroup;\n * ```\n * @public\n *\n * @class VisualGroup\n */\nclass VisualGroup extends SimpleGroup {\n\n    /**\n     * Creates an instance of VisualGroup. Requires dependencies and other registry options for placeholders\n     * and layers that create individual units.\n     *\n     * @param {Object} registry Key value pair of compostions for the group\n     * @param {Object} dependencies Dependencies needed to run the group\n     * @memberof VisualGroup\n     */\n    constructor (registry, dependencies) {\n        super();\n\n        const {\n            components,\n            componentSubRegistry,\n            interactions\n        } = registry;\n\n        this._dependencies = dependencies;\n        // Generate getter/setter methods for all properties of the class\n        // One can get each property by calling the method and can set it\n        // by passing paramaters for the same. Thus, one can chain setter\n        // getter methods.\n        generateGetterSetters(this, this.constructor.getterSetters());\n        generateGetterSetters(this, this.constructor.localOptions());\n        // Populate the store with default values\n        // initialize group compositions\n        this._composition = {};\n        // store reference to data\n        this._data = [];\n        // store reference to mountpoint\n        this._mount = null;\n        // selection object that takes care of updating of components\n        this._selection = {};\n        // Create instance of matrix resolver\n        this.createMatrixResolver();\n        // matrix instance store each of the matrices\n        setMatrixInstances(this, {});\n         // Getting indiviual registered items\n        this.registry({\n            layerRegistry: componentSubRegistry.layers.get(),\n            cellRegistry: componentSubRegistry.cells.get(),\n            VisualUnit: components.VisualUnit,\n            interactions\n        });\n    }\n\n    static getState () {\n        return [{\n            domain: {\n                x: null,\n                y: null,\n                radius: null,\n                angle: null,\n                angle0: null\n            }\n        }, {}];\n    }\n\n    store (...params) {\n        if (params.length) {\n            this._store = params[0];\n            initializeGlobalState(this);\n            createUnitState(this);\n            createLayerState(this);\n            // Register listeners\n            setupChangeListeners(this);\n            return this;\n        }\n        return this._store;\n    }\n\n    static formalName () {\n        return 'VisualGroup';\n    }\n\n    static localOptions () {\n        return localOptions;\n    }\n    static getterSetters () {\n        return PROPS;\n    }\n\n    /**\n     * Return the instances of matrices created by the visual group.\n     *\n     * @return {Object} Instance of matrices.\n     */\n    matrixInstance (...matrices) {\n        if (matrices.length) {\n            return this;\n        }\n        return this.composition().matrices;\n    }\n\n    /**\n     * Returns the composition of visual group.\n     *\n     * @public\n     *\n     * @return {Object} Composition of visual group. It contains instance of matrices {@link ValueMatrix}\n     * and instances of axis.\n     * ```\n     *          {\n     *              matrices: {\n     *                  value: // Instance of center value matrix.\n     *                  left: // Instance of left value matrix\n     *                  right: // Instance of right value matrix\n     *                  bottom: // Instance of bottom value matrix\n     *                  top: // Instance of top value matrix.\n     *              },\n     *              axes: {\n     *                  x: // Array of x axis.\n     *                  y: // Array of y axis\n     *                  color: // Array of color axis\n     *                  shape: // Array of shape axis\n     *                  size: // Array of size axis.\n     *              }\n     *          }\n     * ```\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    /**\n     * Locks the model to prevent change listeners to be triggered until unlocked\n     *\n     * @return {Object} Instance of class VisualGroup\n     * @memberof VisualGroup\n     */\n    lockModel () {\n        this.store().model.lock();\n        return this;\n    }\n\n    /**\n     * Unlocks the model so that all change listeners can be triggered\n     *\n     * @return {Object} Instance of class VisualGroup\n     */\n    unlockModel () {\n        this.store().model.unlock();\n        return this;\n    }\n\n    /**\n     * Returns the channel name of the variable. Channels are rows, columns, color, shape and size.\n     *\n     * @public\n     * @param {string} variable Name of the variable.\n     *\n     * @return {string} Name of the channel.\n     */\n    where (variable) {\n        return findInGroup(variable, this.resolver().getAllFields());\n    }\n\n    /**\n     * Gets the axis instances of the visual group based on the given axis type.\n     *\n     * @public\n     * @param {string} type Type of axis. X,Y or retinal axes.\n     *\n     * @return {Array} Array of axis instances.\n     */\n    getAxes (type) {\n        if (type === RETINAL) {\n            return this.resolver().getRetinalAxes();\n        }\n        return this.resolver().getSimpleAxes(type);\n    }\n\n    /**\n     * Returns the instances of cells based on the given type. Type can be given as `row' or `col`.\n     *\n     * @public\n     * @return {Array} Two dimensional array of cells.\n     */\n    getCells (type) {\n        return this.resolver()[`${type}Cells`]();\n    }\n\n    getFieldsFromChannel (channel) {\n        const {\n            rowProjections,\n            colProjections\n        } = this.resolver().getAllFields();\n        return channel === Y ? rowProjections : colProjections;\n    }\n\n    getCellsByFacetKey (facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey] || [];\n        return cells;\n    }\n\n    getAxesByFacetKey (axisType, facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey];\n        const axes = cells[0].valueOf().axes()[axisType] || [];\n\n        return axes;\n    }\n\n    /**\n     * This method is used to return a serialized representation of the instance's properties.\n     *\n     * @return {Object} Object with config proprties.\n     * @memberof VisualGroup\n     */\n    serialize () {\n        const store = this.store();\n\n        return {\n            [CONFIG]: store.get(CONFIG),\n            [MOUNT]: store.get(MOUNT)\n        };\n    }\n\n    /**\n     * Returns the grouped datamodel prepared by visual group. If there is no group by performed, then it returns the\n     * original data model passed to visual group.\n     *\n     * @return {DataModel} Grouped data model.\n     */\n    getGroupByData () {\n        return this._groupedDataModel;\n    }\n\n    createMatrices (sanitizedConfig) {\n        createMatrices(this, sanitizedConfig);\n    }\n\n    getMandatoryFields () {\n        const updateProps = updateChecker(this, [ROWS, COLUMNS, DATA]);\n        let sanitizedValue = {\n            groupConfig: {},\n            resolverConfig: {},\n            shouldRender: false\n        };\n        if (updateProps) {\n            const localFields = initializeFields(this);\n            const {\n                datamodel,\n                encoders,\n                resolver,\n                matrixConfig\n            } = localFields;\n            const context = {\n                datamodel,\n                componentRegistry: this.registry(),\n                encoders,\n                resolver\n            };\n            const resolverFields = initializeResolverFields(context, matrixConfig);\n            sanitizedValue = {\n                groupConfig: localFields,\n                resolverConfig: resolverFields,\n                shouldRender: resolverFields.shouldRender\n            };\n        }\n        return sanitizedValue;\n    }\n\n    remove () {\n        this.matrixInstance().value.clear();\n        this.resolver().clear();\n        const info = this.placeholderInfo();\n        info.rows = null;\n        info.columns = null;\n        info.values = null;\n    }\n\n    createEncoderInstance () {\n        const layers = this.layers();\n\n        return getEncoder(layers);\n    }\n\n    createMatrixResolver () {\n        this.resolver(new MatrixResolver(this._dependencies));\n\n        return this;\n    }\n}\n\nexport default VisualGroup;\n","import {\n    mix\n} from 'muze-utils';\nimport { SimpleLayer } from '../simple-layer';\nimport { BaseLayerMixin } from './base-mixin';\nimport { BASE_LAYER } from '../enums/constants';\n\n/**\n * An abstract class which gives definition of common layer functionality like\n * - transforming data for various modes. Supported modes: identity, group and stack.\n * - calculating data domain\n * - linking dependent layers\n * - merging policy of configuration\n * - interaction sideffect helpers\n * - retrieving dom elements from data using id\n * - retrieving the physical dimensions of marks\n * - disposing layer\n *\n * Every layer has to extend base layer and give concrete definition.\n * This layer does not have any default visual. A new layer has to define the logic of `render` for rendering the\n * visuals\n *\n * @public\n * @class\n * @module BaseLayer\n */\nexport default class BaseLayer extends mix(SimpleLayer).with(BaseLayerMixin) {\n    /**\n     * Determines a name for a layer. This name of the layer is used in the input data to refer to this layer.\n     * ```\n     *  .layers([\n     *      mark: 'bar',\n     *      encoding: { ... }\n     *  ])\n     * ```\n     *\n     * @static\n     * @public\n     *\n     * @return {string} name of layer\n     */\n    static formalName () {\n        return BASE_LAYER;\n    }\n}\n","import {\n    getUniqueId,\n    mergeRecursive,\n    FieldType,\n    selectElement,\n    ReservedFields,\n    DataModel,\n    clone,\n    generateGetterSetters,\n    STATE_NAMESPACES,\n    transactor,\n    defaultValue,\n    getObjProp,\n    InvalidAwareTypes\n} from 'muze-utils';\nimport * as PROPS from '../enums/props';\nimport { props } from './props';\nimport {\n    transformData,\n    getNormalizedData,\n    applyInteractionStyle,\n    getValidTransform,\n    domainCalculator,\n    renderLayer,\n    encodingFieldInfRetriever\n} from '../helpers';\nimport { localOptions } from './local-options';\nimport { listenerMap } from './listener-map';\nimport { BASE_LAYER, AREA_LAYER } from '../enums/constants';\nimport { applyStylesOnInteraction } from './helper';\n\nconst layerNs = [STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE, STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE];\nconst groupNs = STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE;\n\nexport const BaseLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates a layer using a configuration and data.\n     *\n     * @public\n     * @constructor\n     * @param {DataModel} data Instance of DataModel to be used. This DataModel instance serves as the data for a\n     * layer.\n     * @param {Object} axes Axes instances to be used for rendering the layer. Axes are used for mapping data from\n     *      value to px.\n     * @param {SimpleAxis} axes.x X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {SimpleAxis} axes.y X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {ColorAxis} axes.color Axis for coloring a layer using color interpolators\n     * @param {ShapeAxis} axes.shape Axis for providing a shape\n     * @param {SizeAxis} axes.size Axis for determining size of a mark using size interpolator\n     * @param {LayerConfig} config Configuration of the layer\n     * @param {Object} dependencies Dependencies of the layer\n     * @param {SmartLabel} dependencies.smartLabel Smartlabel singleton instance\n     */\n    constructor () {\n        super();\n\n        generateGetterSetters(this, this.constructor.getterSetters());\n        this.axes({});\n        this.alias(this.constructor.formalName() + getUniqueId());\n        this._points = [];\n        this._cachedData = [];\n        this._id = getUniqueId();\n        this._measurement = {};\n        this._animationDonePromises = [];\n        this._graphicElems = {};\n        this._customConfig = null;\n    }\n\n    static getState () {\n        return [\n            {\n                domain: null\n            },\n            Object.keys(this.localOptions()).reduce((acc, v) => {\n                acc[v] = localOptions[v].value;\n                return acc;\n            }, {})\n        ];\n    }\n\n    static getListeners () {\n        return {\n            store: [...listenerMap, {\n                type: 'registerChangeListener',\n                props: this.getRenderProps(),\n                listener: (context) => {\n                    renderLayer(context);\n                },\n                subNamespace: (context) => {\n                    const { unitRowIndex, unitColIndex, namespace } = context.metaInf();\n                    return {\n                        [`${layerNs[1]}.${PROPS.DATA}`]: namespace,\n                        [`${groupNs}.domain.x`]: `${unitColIndex}0`,\n                        [`${groupNs}.domain.y`]: `${unitRowIndex}0`,\n                        [`${groupNs}.domain.radius`]: `${unitRowIndex}-${unitColIndex}`\n                    };\n                }\n            }],\n            throwback: []\n        };\n    }\n\n    static getQualifiedStateProps () {\n        const layerState = this.getState();\n        return layerState.map((state, i) => Object.keys(state).map(prop => `${layerNs[i]}.${prop}`));\n    }\n\n    store (...params) {\n        if (params.length) {\n            const store = this._store = params[0];\n            const { namespace } = this.metaInf();\n            store.addSubNamespace(namespace, BASE_LAYER, this);\n\n            transactor(this, this.constructor.localOptions(), store, {\n                subNamespace: namespace,\n                namespace: `${STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE}`\n            });\n            return this;\n        }\n        return this._store;\n    }\n\n    domain (...dom) {\n        const prop = `${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}`;\n        const store = this.store();\n        if (dom.length) {\n            const { parentNamespace, namespace } = this.metaInf();\n            const domain = defaultValue(store.get(prop, parentNamespace), {});\n            domain[namespace] = dom[0];\n            this.store().commit(prop, domain, parentNamespace);\n            return this;\n        }\n        return this.store().get(prop, this.metaInf().namespace);\n    }\n\n    /**\n     * Creates a layer instance\n     * @return {BaseLayer} Instance of a layer\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Default configuration of the layer. This configuration gets merged to the user passed configuration using a\n     * plolicy. Base layer only returns part of configuraion, any layer overridding base layer should return its own\n     * configuration.\n     *\n     * @public\n     * @static\n     *\n     * @return {Object} Default configuration\n     */\n    static defaultConfig () {\n        return {\n            transform: {\n                type: 'identity'\n            }\n        };\n    }\n\n    static getterSetters () {\n        return props;\n    }\n\n    static localOptions () {\n        return localOptions;\n    }\n    /**\n     * Policy defines how user config gets merged to default config. The default policy here does a deep copy\n     * operation.\n     * Any policy which does more than deep copying should define the policy as a static member.\n     *\n     * @static\n     * @public\n     *\n     * @param {LayerConfig} conf Configuration with which the user config will be merged\n     * @param {LayerConfig} userConf Configuration given by the user\n     *\n     * @return {LayerConfig} Merged layer configuration\n     */\n    static defaultPolicy (conf, userConf) {\n        return mergeRecursive(conf, userConf);\n    }\n\n    /**\n     * Provides a alias for a layer. Like it's possible to have same layer (like bar) multiple times, but among\n     * multiple layers of same type if one layer has to be referred, alias is used. If no alias is given then\n     * `formalName` is set as the alias name.\n     *\n     *\n     * If used as setter\n     * @param  {string} alias Name of the alias\n     * @return {BaseLayer} Instance of current base layer\n     *\n     * If used as getter\n     * @return {string} Alias of the current layer\n     *\n     * @public\n     */\n    alias (...params) {\n        if (params.length) {\n            this._alias = params[0];\n            return this;\n        }\n        return this._alias || this.constructor.formalName();\n    }\n\n    enableCaching () {\n        this._cacheEnabled = true;\n        return this;\n    }\n\n    clearCaching () {\n        this._cacheEnabled = false;\n        return this.data(this._cachedData[0]);\n    }\n\n    /**\n     * Serialize the schema. Merge config is used for serialization.\n     *\n     * @public\n     *\n     * @return {LayerConfig} Serialized schema\n     */\n    serialize () {\n        return this.config();\n    }\n\n    /**\n     * Returns the unique identifier of this layer. Id is auto generated during the creation proceess of a schema.\n     *\n     * @public\n     *\n     * @return {string} id of the layer\n     */\n    id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the transformed data based on given transform type.\n     * It first gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of DataModel\n     * @param {Object} config Configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     */\n    getTransformedData (dataModel, config, transformType, encodingFieldsInf) {\n        return transformData(dataModel, config, transformType, encodingFieldsInf);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a categorical field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @param {Object} fieldsConfig Configuration of fields\n     * @return {Array} Domain values array.\n     */\n    calculateDomainFromData (data) {\n        let domains = {};\n        const isEmpty = this.data().isEmpty();\n\n        if (!isEmpty) {\n            domains = domainCalculator[this.coord()](data, this);\n        }\n        return domains;\n    }\n\n    static shouldDrawAnchors () {\n        return false;\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getDataDomain (encodingType) {\n        const { parentNamespace, namespace } = this.metaInf();\n        const domains = getObjProp(this.store()\n            .get(`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}`, parentNamespace), namespace);\n        return encodingType !== undefined ? domains[encodingType] || [] : domains;\n    }\n\n    getUidsFromPayload ({ model, uids }, targetData) {\n        const targetFields = targetData[0];\n        const targetVals = targetData.slice(1, targetData.length);\n        const payloadMap = targetVals.reduce((acc, v) => {\n            acc[v] = v;\n            return acc;\n        }, {});\n        const measures = Object.keys(this.data().getFieldspace().getMeasure());\n\n        const filterFn = (fields, i) => {\n            const row = `${targetFields.map((field) => {\n                let val;\n                if (field === ReservedFields.MEASURE_NAMES) {\n                    val = measures;\n                } else if (field === ReservedFields.ROW_ID) {\n                    val = i;\n                } else {\n                    const currentField = fields[field];\n                    const isFieldInvalid = currentField instanceof InvalidAwareTypes;\n\n                    val = isFieldInvalid ? currentField.value() : (currentField || {}).internalValue;\n                }\n                return val;\n            })}`;\n            return row in payloadMap;\n        };\n\n        const dm = model.select(filterFn, {});\n\n        // Need to find a better way to do this instead of iterating the full data\n        const currentSetIds = this.data().select(filterFn, {\n            saveChild: false\n        }).getUids();\n\n        const uidMap = currentSetIds.reduce((acc, v) => {\n            acc[v] = true;\n            return acc;\n        }, {});\n\n        return {\n            model: dm,\n            uids: uids.filter(d => uidMap[d[0]]),\n            length: currentSetIds.length\n        };\n    }\n\n    /**\n     * Normalizes the transformed data and returns it.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getNormalizedData (transformedData) {\n        return getNormalizedData(transformedData, this);\n    }\n\n    /**\n     * Gets the nearest point closest to the given x and y coordinate. If no nearest point is found, then it returns\n     * null.\n     *\n     * @public\n     *\n     * @param {number} x X Coordinate.\n     * @param {number} y Y Coordinate.\n     *\n     * @return {Object} Information of the nearest point.\n     * ```\n     *      {\n     *          // id property contains the field names and their corresponding values in a 2d array. This is the\n     *          data // associated with the nearest point.\n     *          id: // Example data: [['Origin'], ['USA']],\n     *          dimensions: // Physical dimensions of the point.\n     *          layerId: // Id of the layer instance.\n     *      }\n     * ```\n     */\n    getNearestPoint () {\n        return null;\n    }\n\n    applyInteractionStyle (interactionType, selectionSet, options) {\n        const interactionConfig = this.config().interaction || {};\n        const { apply, styles, reset } = options;\n\n        let interactionStyles = interactionConfig[interactionType];\n        interactionStyles = styles || interactionStyles;\n        if (interactionStyles) {\n            applyInteractionStyle(this, selectionSet, interactionStyles, {\n                apply,\n                interactionType,\n                reset\n            });\n        }\n    }\n\n    resolveTransformType () {\n        this._transformType = getValidTransform(this);\n    }\n\n    transformType () {\n        return this._transformType;\n    }\n\n    /**\n     * Renders the layer\n     * @return {BaseLayer} Instance of the layer.\n     */\n    render () {\n        return this;\n    }\n\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Disposes the entire layer.\n     *\n     * @return {BaseLayer} Instance of layer.\n     */\n    remove () {\n        const { namespace, parentNamespace } = this.metaInf();\n        const store = this.store();\n        store.removeSubNamespace(namespace, BASE_LAYER);\n        const layersDomain = store.get(`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.domain`);\n        const unitDom = layersDomain[parentNamespace];\n        unitDom && (delete unitDom[namespace]);\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     * Stores point in an object with key as the categorical value or temporal value\n     *\n     * @param {string} key categorical value or temporal value\n     * @param {Object} data Information of the data point\n     * @return {BarLayer} Instance of bar layer\n     */\n    cachePoint (key, data) {\n        if (key === null) {\n            return this;\n        }\n        const pointMap = this._pointMap;\n        !pointMap[key] && (pointMap[key] = []);\n        pointMap[key].push(data);\n        return this;\n    }\n\n    getInteractionStyles () {\n        return applyStylesOnInteraction;\n    }\n\n    addOverlayPath () {\n        return null;\n    }\n\n    removeOverlayPath () {\n        return null;\n    }\n\n    applyLayerStyle (elem, interactionType, style, options) {\n        const interactionFn = this.getInteractionStyles();\n        return interactionFn(this, elem, interactionType, style, options);\n    }\n\n    getIdentifiersFromData (data, rowId) {\n        const schema = this.data().getSchema();\n        const fieldsConfig = this.data().getFieldsConfig();\n        const identifiers = [[], []];\n\n        const allMeasures = schema.every(field => field.type === FieldType.MEASURE);\n        schema.forEach((d, i) => {\n            const name = d.name;\n            const { type } = fieldsConfig[name].def;\n            if (type === FieldType.DIMENSION) {\n                identifiers[0].push(name);\n                identifiers[1].push(data[i]);\n            }\n        });\n\n        const measures = schema.filter(d => d.type === FieldType.MEASURE).map(d => d.name);\n        if (measures.length) {\n            identifiers[0].push(ReservedFields.MEASURE_NAMES);\n            identifiers[1].push(measures.join());\n        }\n\n        if (allMeasures) {\n            identifiers[0].push(...[ReservedFields.ROW_ID]);\n            identifiers[1].push(...[rowId]);\n        }\n\n        return identifiers;\n    }\n\n    hasPlotSpan () {\n        return false;\n    }\n\n    getPlotSpan () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    getPlotPadding () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    /**\n     * Returns the information of the marks corresponding to the supplied identifiers.\n     * Identifiers are a set of field names and their corresponding values in an array.\n     * It can also be an instance of datamodel.\n     *\n     * For example,\n     * ```\n     *  const identifiers = [\n     *      ['Origin', 'Cylinders'],\n     *      ['USA', '8']\n     *  ];\n     *  const points = barLayer.getPointsFromIdentifiers(identifiers);\n     * ```\n     * @public\n     * @param {Array|DataModel} identifiers Identifiers of the marks.\n     * @param {Object} config Optional configuration which describes how to get the information.\n     * @param {boolean} config.getAllAttrs If true, then returns all the information of the points, else returns only\n     * the positions of the points.\n     * @param {boolean} config.getBBox If true, then returns the bounding box of all the marks.\n     *\n     * @return {Array} Array of points contains\n     */\n    getPointsFromIdentifiers (identifiers, config = {}) {\n        const getAllAttrs = config.getAllAttrs;\n        const getBBox = config.getBBox;\n        if (!this.data()) {\n            return [];\n        }\n        let fieldNames;\n        let values;\n        if (identifiers instanceof DataModel) {\n            const dataObj = identifiers.getData();\n            fieldNames = dataObj.schema.map(d => d.name);\n            values = dataObj.data;\n        } else {\n            fieldNames = identifiers[0];\n            values = identifiers.slice(1, identifiers.length);\n        }\n\n        const points = this._points;\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPoints = [].concat(...points).filter((point) => {\n            const { source, rowId } = point;\n\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === source[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === rowId) !== -1;\n                } return true;\n            });\n        });\n        return getAllAttrs ? filteredPoints : filteredPoints.map((d) => {\n            const obj = clone(d);\n            if (getBBox) {\n                const update = obj.update || obj;\n                if (obj.size !== undefined) {\n                    const sizeVal = Math.sqrt(obj.size / Math.PI) * 2;\n                    update.width = sizeVal;\n                    update.height = sizeVal;\n                    update.x -= sizeVal / 2;\n                    update.y -= sizeVal / 2;\n                } else {\n                    if (update.width === undefined) {\n                        update.width = 2;\n                    }\n                    if (update.height === undefined) {\n                        update.height = 2;\n                    }\n                }\n            }\n\n            return obj.update || obj;\n        }).sort((a, b) => a.y - b.y);\n    }\n\n    getTransformedDataFromIdentifiers (identifiers, idx = 0) {\n        const { data: identifierData, schema: identifierSchema } = identifiers.getData();\n        const normalizedData = this._normalizedData;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n            yField,\n            xField,\n            yFieldType,\n            xFieldType\n        } = this.encodingFieldsInf();\n        let measureIndex;\n        let enc;\n        if (xFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[xField].index;\n            enc = 'x';\n        } else if (yFieldType === FieldType.MEASURE) {\n            const layerName = this.constructor.formalName();\n            measureIndex = fieldsConfig[yField].index;\n            enc = 'y';\n            if (layerName === AREA_LAYER) {\n                enc = (idx % 2 === 0) ? 'y' : 'y0';\n            }\n        }\n\n        const transformedData = [];\n        normalizedData.forEach((dataArr) => {\n            dataArr.forEach((dataObj) => {\n                const tupleArr = dataObj.source;\n                const exist = identifierSchema.every((obj, i) =>\n                    identifierData.findIndex(d => tupleArr[fieldsConfig[obj.name].index] === d[i]) !== -1);\n                if (exist) {\n                    const transformedVal = dataObj[enc] || 0;\n                    const row = dataObj.source;\n                    const tuple = {};\n                    for (const key in fieldsConfig) {\n                        const index = fieldsConfig[key].index;\n                        tuple[key] = row[index];\n                        if (index === measureIndex) {\n                            tuple[key] = transformedVal;\n                        }\n                    }\n                    transformedData.push(tuple);\n                }\n            });\n        });\n\n        return [transformedData, this.data().getSchema()];\n    }\n\n    /**\n     * Returns the dom elements associated with the supplied set of row ids.\n     * Each element in the layer is mapped with a row of the datamodel. When given an array of row ids,\n     * it returns all the elements which is mapped with those row ids.\n     *\n     * @public\n     * @param {Array} set Array of row ids\n     *\n     * @return {Selection} D3 Selection of dom elements.\n     */\n    getPlotElementsFromSet (set) {\n        const graphicElems = this._graphicElems;\n        const elems = [];\n        for (let i = 0, len = set.length; i < len; i++) {\n            const elem = graphicElems[set[i]];\n            if (elem) {\n                elems.push(elem);\n            }\n        }\n        return elems;\n    }\n\n    /**\n     * Notifies when all animations/transitions of the layer are completed.\n     *\n     * @public\n     * @return {Promise} Returns a promise to notify the animation completion.\n     */\n    animationDone () {\n        return Promise.all(this._animationDonePromises);\n    }\n\n    registerAnimationDoneHook () {\n        let resolveFn;\n        const promise = new Promise((resolve) => {\n            resolveFn = resolve;\n        });\n        this._animationDonePromises.push(promise);\n\n        return () => {\n            resolveFn();\n        };\n    }\n\n    /**\n     * Called when the layer datamodel is set.\n     *\n     * @param {Array} arr Old and new datamodel instance.\n     * @param {DataModel} arr[0] Previous datamodel instance.\n     * @param {DataModel} arr[1] Current datamodel instance.\n     *\n     * @return {BaseLayer} Instance of layer.\n     */\n    dataDidSet ([, data]) {\n        const config = this.config();\n\n        if (data && config) {\n            if (this._cacheEnabled) {\n                this._cachedData.push(data);\n            } else {\n                this._cachedData = [data];\n            }\n            const encodingValue = config.encoding;\n            if (encodingValue) {\n                const fieldsConfig = data.getFieldsConfig();\n                const encodingFieldsInf = this.retrieveEncodingFields(encodingValue, this.coord(), data);\n                this.encodingFieldsInf(encodingFieldsInf);\n                this.resolveTransformType();\n                this._transformedData = this.getTransformedData(data, config,\n                    this.transformType(), encodingFieldsInf);\n                this._normalizedData = this.getNormalizedData(this._transformedData, fieldsConfig);\n                if (config.calculateDomain !== false) {\n                    const domain = this.calculateDomainFromData(this._normalizedData,\n                        this.encodingFieldsInf(), this.data().getFieldsConfig());\n                    this.domain(domain);\n                }\n            }\n        }\n        return this;\n    }\n\n    retrieveEncodingFields (encoding, coord, data) {\n        const fieldsConfig = data.getFieldsConfig();\n\n        return encodingFieldInfRetriever[coord](encoding, fieldsConfig);\n    }\n\n    static getRenderProps () {\n        return [`${layerNs[1]}.${PROPS.DATA}`, ...['x', 'y', 'radius'].map(type =>\n            `${groupNs}.domain.${type}`)];\n    }\n\n    applyStyles ({ strokeStyles, otherStyles, styleObj, elem, mountPoint, applicableStrokePos, datum }) {\n        strokeStyles.forEach((type) => {\n            this.addOverlayPath(\n                elem.node(),\n                datum,\n                { type, value: styleObj[type] },\n                applicableStrokePos,\n                mountPoint\n            );\n        });\n\n        this.applyElementStyles(elem, otherStyles, styleObj);\n    }\n\n    applyElementStyles (elem, styles, styleObj) {\n        styles.forEach((type) => {\n            elem.style(type, styleObj[type]);\n        });\n    }\n\n    getBoundBoxes () {\n        return null;\n    }\n};\n","import { partition } from 'muze-utils';\n\nconst getLastItemInMap = map => Array.from(map)[map.size - 1];\n\nconst getPreviousStyle = (meta, interactionType) => {\n    const { originalStyle, currentState } = meta;\n    let stylesForCurrentLevel = Object.assign({}, originalStyle);\n\n    if (currentState.size > 0) {\n        interactionType = getLastItemInMap(currentState)[0];\n        stylesForCurrentLevel = currentState.get(interactionType) || {};\n        // const elemFill = elem.style('fill');\n        // const newStyle = Object.assign({}, stylesForCurrentLevel, { fill: elemFill });\n    }\n    return stylesForCurrentLevel;\n};\n\nconst strokeProps = {\n    'stroke-width': 1,\n    stroke: 1,\n    'stroke-opacity': 1\n};\n\nconst parseStyle = (value, { datum, datumStyle }, apply) => {\n    if (typeof value === 'function') {\n        if (isNaN(datumStyle)) {\n            // const colorType = detectColor(datumStyle);\n            const rgbaValues = datumStyle.replace(/[^\\d,.]/g, '').split(',').map(s => Number(s));\n            value = value(rgbaValues, datum, apply);\n        } else {\n            const numValue = parseFloat(datumStyle, 10);\n            value = value(numValue, datum, apply);\n        }\n        return value;\n    }\n    return value;\n};\n\nexport const applyStylesOnInteraction = (context, elem, interactionType, conf, options) => {\n    const { mountPoint, apply, reset } = options;\n\n    const d = elem.data()[0];\n    let datum;\n\n    if (Array.isArray(d)) {\n        datum = d[0];\n    } else {\n        datum = Array.isArray(d.data) ? d.data[0] : d;\n    }\n    const { currentState, originalStyle } = datum.meta;\n\n    let applicableStyles = {};\n\n    const { style: styles, strokePosition } = conf;\n    let applicableStrokePos = strokePosition;\n\n    if (reset) {\n        currentState.clear();\n    }\n\n    let applyStyle = true;\n\n    if (apply) {\n        const sanitizedStyles = {\n            styles: {},\n            strokePosition\n        };\n        for (const type in styles) {\n            const parsedStyleVal = parseStyle(styles[type], {\n                datum,\n                datumStyle: elem.style(type)\n            }, apply);\n\n            sanitizedStyles.styles[type] = parsedStyleVal;\n        }\n        currentState.set(interactionType, sanitizedStyles);\n        applicableStyles = sanitizedStyles.styles;\n    } else if (!currentState.has(interactionType) && !reset) {\n        applyStyle = false;\n    } else {\n        currentState.delete(interactionType);\n        const currentStyle = getPreviousStyle(datum.meta, interactionType);\n        applicableStyles = Object.assign({}, originalStyle.styles, currentStyle.styles);\n        applicableStrokePos = currentStyle.strokePosition || originalStyle.strokePosition;\n    }\n\n    const styleKeys = Object.keys(applicableStyles);\n    const [strokeStyles, otherStyles] = partition(styleKeys, v => v in strokeProps);\n\n    applyStyle && context.applyStyles({\n        strokeStyles,\n        otherStyles,\n        styleObj: applicableStyles,\n        elem,\n        datum,\n        applicableStrokePos,\n        mountPoint\n    });\n};\n","export { default as BaseLayer } from './base-layer';\nexport { BaseLayerMixin } from './base-mixin';\n","import { STATE_NAMESPACES } from 'muze-utils';\nimport * as PROPS from '../enums/props';\n\nexport const listenerMap = [\n    {\n        props: [`${STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE}.${PROPS.DATA}`],\n        type: 'registerImmediateListener',\n        listener: (context, [prevData, data]) => {\n            context.dataDidSet([prevData, data]);\n        },\n        namespace: context => context.metaInf().namespace\n    }\n];\n","import * as PROPS from '../enums/props';\n\nexport const localOptions = {\n    [PROPS.DATA]: {\n        value: null\n    }\n};\n","import { COORD_TYPES, mergeRecursive } from 'muze-utils';\nimport * as PROPS from '../enums/props';\n\nconst { CARTESIAN } = COORD_TYPES;\nexport const props = {\n    axes: {},\n    mount: {},\n    measurement: {},\n    metaInf: {},\n    valueParser: {\n        defaultValue: val => val\n    },\n    coord: {\n        defaultValue: CARTESIAN\n    },\n    [PROPS.CONFIG]: {\n        value: null,\n        sanitization: (context, config) => {\n            context._customConfig = config;\n            const constructor = context.constructor;\n            const newConf = mergeRecursive({}, constructor.defaultConfig());\n\n            return constructor.defaultPolicy(newConf, config);\n        }\n    },\n    encodingTransform: {},\n    encodingFieldsInf: {},\n    dependencies: {},\n    dataProps: {}\n};\n","import { AreaLayer } from './layers/area';\nimport { ArcLayer } from './layers/arc';\nimport { LineLayer } from './layers/line';\nimport { TextLayer } from './layers/text';\nimport { PointLayer } from './layers/point';\nimport { BarLayer } from './layers/bar';\nimport { BaseLayer } from './base-layer';\nimport * as LAYER_TYPES from './enums/layer-types';\nimport { TickLayer } from './layers/tick';\n\nexport const DEFAULT_LAYERS = {\n    [LAYER_TYPES.AREA_LAYER]: AreaLayer,\n    [LAYER_TYPES.ARC_LAYER]: ArcLayer,\n    [LAYER_TYPES.LINE_LAYER]: LineLayer,\n    [LAYER_TYPES.TEXT_LAYER]: TextLayer,\n    [LAYER_TYPES.POINT_LAYER]: PointLayer,\n    [LAYER_TYPES.TICK_LAYER]: TickLayer,\n    [LAYER_TYPES.BAR_LAYER]: BarLayer,\n    [LAYER_TYPES.BASE_LAYER]: BaseLayer\n};\n","export const CLASSPREFIX = 'muze';\nexport const STACK = 'stack';\nexport const GROUP = 'group';\nexport const IDENTITY = 'identity';\nexport const ANGLE = 'angle';\nexport const RADIUS = 'radius';\nexport const SIZE = 'size';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const TEXT = 'text';\nexport const OUTER_RADIUS_VALUE = 'outerRadiusValue';\nexport const TEXT_ANCHOR_MIDDLE = 'middle';\nexport const ENCODING = {\n    X: 'x',\n    Y: 'y',\n    X0: 'x0',\n    Y0: 'y0',\n    RADIUS: 'radius',\n    RADIUS0: 'radius0',\n    ANGLE: 'angle',\n    ANGLE0: 'angle0',\n    COLOR: 'color',\n    SHAPE: 'shape',\n    SIZE: 'size',\n    TEXT: 'text'\n};\n\nexport const STROKE_DASHARRAY = 'stroke-dasharray';\n\nexport const ASCENDING = 'asc';\n\nexport const AGG_FN_SUM = 'sum';\n\nexport const AREA_LAYER = 'area';\nexport const ARC_LAYER = 'arc';\nexport const LINE_LAYER = 'line';\nexport const TEXT_LAYER = 'text';\nexport const POINT_LAYER = 'point';\nexport const BAR_LAYER = 'bar';\nexport const TICK_LAYER = 'tick';\nexport const SIMPLE_LAYER = 'simple';\nexport const BASE_LAYER = 'base';\n","import * as PROPS from './props';\nimport * as LAYER_TYPES from './layer-types';\nimport * as CONSTANTS from './constants';\n\nexport { PROPS, LAYER_TYPES, CONSTANTS };\n","export const AREA_LAYER = 'area';\nexport const ARC_LAYER = 'arc';\nexport const LINE_LAYER = 'line';\nexport const TEXT_LAYER = 'text';\nexport const POINT_LAYER = 'point';\nexport const BAR_LAYER = 'bar';\nexport const TICK_LAYER = 'tick';\nexport const SIMPLE_LAYER = 'simple';\nexport const BASE_LAYER = 'base';\n","export const DATA = 'data';\nexport const CONFIG = 'config';\nexport const MEASUREMENT = 'measurement';\nexport const DOMAIN = 'domain';\nexport const MOUNT = 'mount';\n","import {\n    FieldType,\n    getDomainFromData,\n    setStyles,\n    easeFns,\n    selectElement,\n    DimensionSubtype,\n    retrieveNearestGroupByReducers,\n    getObjProp,\n    COORD_TYPES,\n    CommonProps,\n    defaultValue,\n    isSimpleObject,\n    InvalidAwareTypes\n} from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { transformFactory } from '@chartshq/transform';\nimport { IDENTITY, STACK, GROUP, COLOR, SHAPE, SIZE, ENCODING, AGG_FN_SUM, ASCENDING, TEXT } from '../enums/constants';\n\nconst BAND = ScaleType.BAND;\nconst { POLAR, CARTESIAN } = COORD_TYPES;\n\nexport const transformColor = (colorAxis, datum, styleType, intensity, interactionType) => {\n    const meta = datum.meta;\n    const stateColor = defaultValue(meta.currentState[interactionType][styleType], meta.originalState[styleType]);\n    const colorInfo = colorAxis.transformColor(stateColor, intensity);\n\n    // meta.stateColor[styleType] = colorInfo.hsla;\n    meta.currentState[interactionType][styleType] = colorInfo.hsla;\n    return colorInfo;\n};\n\nexport const applyInteractionStyle = (context, selectionSet, interactionStyles, config) => {\n    const elements = context.getPlotElementsFromSet(selectionSet);\n    const { apply, interactionType, reset } = config;\n    const mountPoint = selectElement(context.mount()).select('.muze-overlay-paths').node();\n\n    elements.forEach((elem) => {\n        const options = { mountPoint, apply, reset };\n        context.applyLayerStyle(elem, interactionType, interactionStyles, options);\n\n        // const interactionStylesEntries = Object.entries(interactionStyles.style);\n\n        // for (const [type, value] of interactionStylesEntries) {\n        //     const style = { type, value };\n        //     const options = { mountPoint, apply, reset };\n        //     context.applyLayerStyle(elem, interactionType, style, options);\n        // }\n    });\n};\n\nexport const retrieveEncodingInf = (encoding, fieldsConfig, encodingNames) => {\n    const encodingInf = {};\n\n    encodingNames\n        .forEach((e) => {\n            const field = getObjProp(encoding, e, 'field');\n            encodingInf[`${e}Field`] = field;\n            encodingInf[`${e}FieldIndex`] = getObjProp(fieldsConfig, field, 'index');\n            encodingInf[`${e}FieldType`] = getObjProp(fieldsConfig, field, 'def', 'type');\n            encodingInf[`${e}FieldSubType`] = getObjProp(fieldsConfig, field, 'def', 'subtype');\n        });\n    return encodingInf;\n};\n\nexport const encodingFieldInfRetriever = {\n    [POLAR]: (encoding, fieldsConfig) => {\n        const fields = [ENCODING.RADIUS, ENCODING.RADIUS0, ENCODING.ANGLE, ENCODING.ANGLE0, COLOR, SHAPE, SIZE, TEXT];\n        return retrieveEncodingInf(encoding, fieldsConfig, fields);\n    },\n    [CARTESIAN]: (encoding, fieldsConfig) => {\n        const fields = [ENCODING.X, ENCODING.Y, ENCODING.X0, ENCODING.Y0, COLOR, SHAPE, SIZE, TEXT];\n        return retrieveEncodingInf(encoding, fieldsConfig, fields);\n    }\n};\n\nexport const setNullsInStack = (transformedData, schema, value, setNulls) => {\n    const uniqueFieldIndex = schema.findIndex(d => d.name === value);\n    transformedData.forEach((seriesData) => {\n        seriesData.forEach((dataObj) => {\n            if (dataObj.data[uniqueFieldIndex] === null && !setNulls) {\n                dataObj[0] = new InvalidAwareTypes();\n                dataObj[1] = new InvalidAwareTypes();\n            }\n        });\n    });\n    return transformedData;\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} config\n * @param {*} transformType\n *\n */\nexport const transformData = (dataModel, config, transformType, encodingFieldInf) => {\n    const data = dataModel.getData({ withUid: true });\n    const schema = data.schema;\n    const { transform, connectNullData: setNullData } = config;\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = encodingFieldInf;\n    const uniqueField = xFieldType === FieldType.MEASURE ? yField : xField;\n    const value = yFieldType === FieldType.MEASURE ? yField : xField;\n    let transformedData = transformFactory(transformType)(schema, data.data, {\n        groupBy: transform.groupBy,\n        uniqueField,\n        sort: transform.sort || 'none',\n        offset: transform.offset,\n        orderBy: transform.orderBy,\n        value\n    }, data.uids);\n\n    if (transformType === STACK) {\n        transformedData = setNullsInStack(transformedData, schema, value, setNullData);\n    }\n    return transformedData;\n};\n\nexport const getIndividualClassName = (d, i, data, context) => {\n    const className = context.config().individualClassName;\n    let classNameStr = '';\n    if (className instanceof Function) {\n        classNameStr = className(d, i, data, context);\n    }\n    return classNameStr;\n};\n\nexport const dataNormalizers = {\n    [POLAR]: (transformedData, encodingFieldInf, fieldsConfig) => {\n        const {\n            radiusFieldIndex,\n            angleFieldIndex,\n            radius0FieldIndex,\n            angle0FieldIndex\n        } = encodingFieldInf;\n        const fieldsLen = Object.keys(fieldsConfig).length;\n\n        /**\n         * Returns normalized data from transformed data. It recursively traverses through\n         * the transformed data if there it is nested.\n         */\n        return transformedData.map(data => data.map((d) => {\n            const pointObj = {\n                radius: d[radiusFieldIndex],\n                angle: angleFieldIndex !== undefined ? d[angleFieldIndex] : 1,\n                radius0: d[radius0FieldIndex],\n                angle0: d[angle0FieldIndex]\n            };\n            [COLOR, SHAPE, SIZE, TEXT].forEach((enc) => {\n                pointObj[enc] = d[encodingFieldInf[`${enc}FieldIndex`]];\n            });\n            pointObj.source = d;\n            pointObj.rowId = d[fieldsLen];\n            return pointObj;\n        })).filter(d => d.length);\n    },\n    [CARTESIAN]: (transformedData, encodingFieldInf, fieldsConfig, transformType) => {\n        const {\n            xFieldType,\n            xFieldIndex,\n            yFieldIndex,\n            x0FieldIndex,\n            y0FieldIndex\n        } = encodingFieldInf;\n        const fieldsArr = Object.keys(fieldsConfig);\n        const fieldsLen = fieldsArr.length;\n\n        /**\n         * Returns normalized data from transformed data. It recursively traverses through\n         * the transformed data if there it is nested.\n         */\n        return transformedData.map((data) => {\n            const values = transformType === GROUP ? data.values : data;\n            return values.map((d) => {\n                let pointObj = {};\n                let tuple;\n                if (transformType === STACK) {\n                    tuple = d.data || [];\n                    let y;\n                    let y0;\n                    let x;\n                    let x0;\n                    if (d[1] >= d[0]) {\n                        y = x0 = d[1];\n                        x = y0 = d[0];\n                    } else {\n                        y = x0 = d[0];\n                        x = y0 = d[1];\n                    }\n\n                    pointObj = xFieldType === FieldType.MEASURE ? {\n                        x,\n                        x0,\n                        y: tuple[yFieldIndex],\n                        y0: tuple[yFieldIndex]\n                    } : {\n                        x: tuple[xFieldIndex],\n                        x0: tuple[xFieldIndex],\n                        y,\n                        y0\n                    };\n                    pointObj.source = tuple;\n                    pointObj.rowId = tuple[fieldsLen];\n                    [COLOR, SHAPE, SIZE, TEXT].forEach((enc) => {\n                        pointObj[enc] = tuple[encodingFieldInf[`${enc}FieldIndex`]];\n                    });\n                } else {\n                    pointObj = {\n                        x: d[xFieldIndex],\n                        y: d[yFieldIndex],\n                        x0: d[x0FieldIndex],\n                        y0: d[y0FieldIndex]\n                    };\n                    pointObj.source = d;\n                    pointObj.rowId = d[fieldsLen];\n                    [COLOR, SHAPE, SIZE, TEXT].forEach((enc) => {\n                        pointObj[enc] = d[encodingFieldInf[`${enc}FieldIndex`]];\n                    });\n                }\n                const source = pointObj.source;\n                pointObj.dataObj = fieldsArr.reduce((acc, name) => {\n                    acc[name] = source[fieldsConfig[name].index];\n                    return acc;\n                }, {});\n                return pointObj;\n            });\n        }).filter(d => d.length);\n    }\n};\n/*\n * This method resolves the x, y, x0 and y0 values from the transformed data.\n * It also checks the type of transformed data for example, if it is a stacked data\n * then it fetches the y and y0 values from the stacked data.\n * @param {Array.<Array>} transformedData transformed data\n * @param {Object} fieldsConfig field definitions\n * @param {string} transformType type of transformed data - stack, group or identity.\n * @return {Array.<Object>} Normalized data\n*/\nexport const getNormalizedData = (transformedData, context) => {\n    const transformType = context.transformType();\n    const transformedDataArr = transformType === IDENTITY ? [transformedData] : transformedData;\n    const encodingFieldInf = context.encodingFieldsInf();\n    const fieldsConfig = context.data().getFieldsConfig();\n    return dataNormalizers[context.coord()](transformedDataArr, encodingFieldInf, fieldsConfig, transformType);\n};\n\nexport const domainCalculator = {\n    [POLAR]: (data, layerInst) => {\n        const config = layerInst.config();\n        const { sort } = config;\n        let angleValues = data[0];\n        const radius0Field = getObjProp(config.encoding.radius0, 'field');\n        if (sort) {\n            angleValues = angleValues.sort((a, b) => (sort === ASCENDING ? a.radius - b.radius : b.radius - a.radius));\n        }\n        const radiusDomain = getDomainFromData(data, [ENCODING.RADIUS, radius0Field ?\n            ENCODING.RADIUS0 : ENCODING.RADIUS]);\n        return {\n            radius: radiusDomain,\n            angle: angleValues.map(d => d.angle),\n            angle0: angleValues.map(d => d.angle0)\n        };\n    },\n    [CARTESIAN]: (data, layerInst) => {\n        const transformType = layerInst.transformType();\n        const encodingFieldInf = layerInst.encodingFieldsInf();\n        const {\n            xFieldSubType,\n            yFieldSubType,\n            xField,\n            yField,\n            x0Field,\n            y0Field\n        } = encodingFieldInf;\n        const domains = {};\n        const yEnc = ENCODING.Y;\n        const xEnc = ENCODING.X;\n        if (xField) {\n            domains.x = getDomainFromData(data, x0Field || transformType === STACK ? [xEnc, ENCODING.X0] : [xEnc, xEnc],\n                xFieldSubType);\n        }\n        if (yField) {\n            domains.y = getDomainFromData(data, y0Field || transformType === STACK ? [ENCODING.Y0, ENCODING.Y] :\n                [yEnc, yEnc], yFieldSubType);\n        }\n\n        return domains;\n    }\n};\n\nconst defFn = (d) => {\n    const { x, y } = d.update;\n    return {\n        x,\n        y\n    };\n};\n\nexport const attachDataToVoronoi = (voronoi, points, accessor = defFn) => {\n    voronoi.data([].concat(...points).filter(d => d.rowId !== undefined).map((d) => {\n        const { x, y } = accessor(d);\n        return {\n            x,\n            y,\n            data: d\n        };\n    }));\n};\n\n/**\n *\n *\n * @param {*} target\n * @param {*} styles\n * @param {*} remove\n */\nexport const updateStyle = (target, styles, remove) => {\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            target.style(key, remove ? null : styles[key]);\n        }\n    }\n};\n\n/**\n *\n *\n * @param {*} mount\n * @param {*} context\n */\nexport const animateGroup = (mount, context) => {\n    let groupTransition;\n    let update;\n    const { transition, groupAnimateStyle } = context;\n    const { duration, effect, disabled } = transition;\n    if (groupAnimateStyle) {\n        setStyles(mount.node(), groupAnimateStyle.enter);\n        update = groupAnimateStyle.update;\n        if (!disabled) {\n            groupTransition = mount.transition()\n                .ease(easeFns[effect])\n                .duration(duration)\n                .on('end', function () {\n                    updateStyle(selectElement(this), update, true);\n                });\n        } else {\n            groupTransition = mount;\n        }\n        updateStyle(groupTransition, update);\n    }\n};\n\nexport const positionPoints = (context, points) => {\n    const positioner = context.encodingTransform();\n    if (positioner) {\n        return positioner(points, context, { smartLabel: context._dependencies.smartLabel });\n    }\n    return points;\n};\n\n/**\n  * Gets the width of each group. It gets the width from axis if it is available for\n  * example when the scale is nominal else it calculates the width from the\n  * range of the axis and number of data points.\n  *\n  * @param {SimpleAxis} axis instance of axis\n  * @param {number} minDiff Minimum difference between data points\n  * @return {number} width of each bar\n  * @private\n*/\nexport const getGroupSpan = (axis, minDiff) => {\n    let groupSpan;\n    const width = axis.getUnitWidth();\n    const scale = axis.scale();\n    const range = scale.range();\n    const domain = scale.domain();\n    !width ? groupSpan = (Math.abs(range[1] - range[0]) / Math.abs(domain[1] - domain[0])) * minDiff :\n        (groupSpan = width);\n\n    return groupSpan;\n};\n\nexport const getPlotMeasurement = (context, dimensionalValues) => {\n    const fieldInfo = context.encodingFieldsInf();\n    const axes = context.axes();\n    const transformType = context.transformType();\n    const config = context.config();\n    const bandScale = context._bandScale;\n\n    return ['x', 'y'].map((type) => {\n        let span = 0;\n        let groupSpan = 0;\n        let padding = 0;\n        let offsetValues = [];\n        if (fieldInfo[`${type}FieldType`] === FieldType.DIMENSION) {\n            let actualGroupWidth;\n            const isTemporal = fieldInfo[`${type}FieldSubType`] === DimensionSubtype.TEMPORAL;\n            const timeDiff = isTemporal ? context.dataProps().timeDiffs[type] : 0;\n            const axis = axes[type];\n            const pad = config[`pad${type.toUpperCase()}`];\n            const innerPadding = config.innerPadding;\n            const keys = dimensionalValues;\n            const scale = axis.scale();\n            groupSpan = getGroupSpan(axis, timeDiff);\n            const isAxisBandScale = axis.constructor.type() === BAND;\n            const axisPadding = axis.config().padding;\n            // If it is a grouped bar then the width of each bar in a grouping is retrieved from\n            // a band scale. The band scale will have range equal to width of one group of bars and\n            // the domain is set to series keys.\n            if (transformType === 'group') {\n                const groupPadding = isAxisBandScale ? 0 : axisPadding * groupSpan / 2;\n                bandScale.range([groupPadding, groupSpan - groupPadding]).domain(keys).paddingInner(innerPadding);\n                span = bandScale.bandwidth();\n                actualGroupWidth = groupSpan - (isAxisBandScale ? 0 : axisPadding * groupSpan);\n                offsetValues = keys.map(key => bandScale(key) - (isAxisBandScale ? 0 : (groupSpan / 2)));\n            } else if (pad !== undefined) {\n                let offset;\n                if (isAxisBandScale) {\n                    const step = scale.step();\n                    offset = scale.padding() * step;\n                    span = scale.bandwidth() + offset;\n                } else {\n                    span = groupSpan;\n                }\n                offsetValues = keys.map(() => (isAxisBandScale ? -(offset / 2) : -(span / 2)));\n            } else {\n                padding = isAxisBandScale ? 0 : axisPadding * groupSpan;\n                span = groupSpan - padding;\n                actualGroupWidth = span;\n                offsetValues = keys.map(() => (isAxisBandScale ? 0 : -(span / 2)));\n            }\n\n            groupSpan = actualGroupWidth;\n            padding = isAxisBandScale ? axisPadding * axis.scale().step() : axisPadding * groupSpan;\n        }\n\n        return {\n            span,\n            offsetValues,\n            groupSpan,\n            padding\n        };\n    });\n};\n\nexport const renderLayer = (context) => {\n    const mount = context.mount();\n    if (mount) {\n        context.render(mount);\n        context.dependencies().throwback.commit(CommonProps.ON_LAYER_DRAW, true, context.metaInf().parentNamespace);\n    }\n};\n\nconst transformResolverPredicates = (encodingFieldInf, context, groupByField) => {\n    const fieldsConfig = context.data().getFieldsConfig();\n    const { xField, yField, xFieldType, yFieldType } = encodingFieldInf;\n    const dimensionField = ['xField', 'yField'].find(type =>\n        encodingFieldInf[`${type}Type`] === FieldType.DIMENSION);\n\n    return [\n        !xField,\n        !yField,\n        !groupByField,\n        getObjProp(fieldsConfig[groupByField], 'def', 'type') === FieldType.MEASURE,\n        xFieldType === FieldType.DIMENSION && yFieldType === FieldType.DIMENSION,\n        dimensionField && encodingFieldInf[dimensionField] === groupByField\n    ];\n};\n\nexport const resolveInvalidTransformType = (context) => {\n    const encodingFieldInf = context.encodingFieldsInf();\n    const groupByField = context.config().transform.groupBy;\n\n    if (transformResolverPredicates(encodingFieldInf, context, groupByField).some(value => value)) {\n        return IDENTITY;\n    }\n    return null;\n};\n\nexport const getValidTransform = context => resolveInvalidTransformType(context) || context.config().transform.type;\n\nexport const getValidTransformForAggFn = (context) => {\n    const resolvedInvalidTransformType = resolveInvalidTransformType(context);\n    if (resolvedInvalidTransformType) {\n        return resolvedInvalidTransformType;\n    }\n\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = context.encodingFieldsInf();\n    const groupByField = context.config().transform.groupBy;\n    const isCustomTransformTypeProvided = !!getObjProp(context._customConfig, 'transform', 'type');\n    let transformType = context.config().transform.type;\n\n    if (!isCustomTransformTypeProvided && groupByField && xFieldType !== yFieldType) {\n        const measureField = xFieldType === FieldType.MEASURE ? xField : yField;\n        const { [measureField]: aggFn } = retrieveNearestGroupByReducers(context.data(), measureField);\n        transformType = aggFn === AGG_FN_SUM ? STACK : GROUP;\n    }\n\n    return transformType;\n};\n\nexport const getMarkId = (source, schema) => source.filter((val, i) => schema[i] &&\n    schema[i].type === FieldType.DIMENSION).join();\n\nexport const resolveEncodingValues = (data, i, dataArr, layerInst) => {\n    const transformedValues = {};\n    const values = data.values;\n    const encoding = layerInst.config().encoding;\n    for (const key in values) {\n        const value = getObjProp(encoding[key], 'value');\n        if (value instanceof Function) {\n            transformedValues[key] = value(values, i, dataArr, layerInst);\n        } else {\n            transformedValues[key] = values[key];\n        }\n    }\n    return transformedValues;\n};\n\nexport const getColorMetaInf = (initialStyle, conf = {}) => ({\n    originalStyle: Object.assign({}, {\n        styles: initialStyle\n    }, conf),\n    currentState: new Map()\n});\n\nconst getCoordValue = (radius, trig, angle, offset) => radius * Math[trig](angle) + offset;\n\nconst coordValueGetter = (radius, angle, xOffset, yOffset) => ({\n    x: getCoordValue(radius, 'cos', angle, xOffset),\n    y: getCoordValue(radius, 'sin', angle, yOffset)\n});\n\nexport const toCartesianCoordinates = (points, measurement, rangePlot = false) => {\n    const xOffset = measurement.width / 2;\n    const yOffset = measurement.height / 2;\n    for (let i = 0, len = points.length; i < len; i++) {\n        const point = points[i];\n        const { angle, radius, radius0, angle0 } = point.update;\n        point.update = coordValueGetter(radius, angle, xOffset, yOffset);\n        if (rangePlot) {\n            const update = point.update = coordValueGetter(radius0, angle0, xOffset, yOffset);\n            const { x: x0, y: y0 } = coordValueGetter(radius, angle, xOffset, yOffset);\n            update.x0 = x0;\n            update.y0 = y0;\n        }\n    }\n    return points;\n};\n\nexport const sortData = (data, axes) => {\n    const { x: xAxis, y: yAxis } = axes;\n    const axisArr = [xAxis, yAxis];\n    for (let i = 0, len = axisArr.length; i < len; i++) {\n        const axis = axisArr[i];\n        if (axis.constructor.type() === BAND) {\n            const key = i ? 'y' : 'x';\n            const dom = axis.domain();\n            const indices = dom.reduce((acc, v, idx) => {\n                acc[v] = idx;\n                return acc;\n            }, {});\n            data.sort((a, b) => indices[a[key]] - indices[b[key]]);\n            break;\n        }\n    }\n    return data;\n};\n\nexport const getBoundBoxes = points => points.map((point) => {\n    const { x, y } = point.update;\n    const data = point.data;\n    return {\n        minX: x,\n        maxX: x,\n        minY: y,\n        maxY: y,\n        data\n    };\n});\n\nexport const getDataFromEvent = (context, event) => {\n    const dataPoint = selectElement(event.target).data()[0];\n    if (isSimpleObject(dataPoint) && getObjProp(dataPoint, 'meta', 'layerId') === context.id()) {\n        const values = dataPoint && dataPoint.source;\n        let identifiers = null;\n        if (values) {\n            identifiers = context.getIdentifiersFromData(values, dataPoint.rowId);\n        }\n        return {\n            dimensions: [dataPoint],\n            id: identifiers,\n            layerId: context.id()\n        };\n    }\n    return null;\n};\n","import { AreaLayer, AreaLayerMixin } from './layers/area';\nimport { ArcLayer, ArcLayerMixin } from './layers/arc';\nimport { LineLayer, LineLayerMixin } from './layers/line';\nimport { TextLayer, TextLayerMixin } from './layers/text';\nimport { PointLayer, PointLayerMixin } from './layers/point';\nimport { BarLayer, BarLayerMixin } from './layers/bar';\nimport { TickLayer, TickLayerMixin } from './layers/tick';\nimport { SimpleLayer } from './simple-layer';\nimport { BaseLayer, BaseLayerMixin } from './base-layer';\nimport * as LAYER_TYPES from './enums/layer-types';\nimport layerFactory from './layer-factory';\nimport layerRegistry from './layer-registry';\nimport { ENCODING } from './enums/constants';\nimport * as pointLayerHelpers from './layers/point/helper';\nimport * as commonHelpers from './helpers';\nimport * as enums from './enums';\n\nconst helpers = Object.assign(commonHelpers, {\n    pointLayerHelpers\n});\n\nconst layerMixins = {\n    BarLayerMixin,\n    BaseLayerMixin,\n    LineLayerMixin,\n    AreaLayerMixin,\n    PointLayerMixin,\n    TextLayerMixin,\n    TickLayerMixin,\n    ArcLayerMixin\n};\n\nexport {\n    BaseLayer,\n    BarLayer,\n    LineLayer,\n    AreaLayer,\n    PointLayer,\n    ArcLayer,\n    TextLayer,\n    TickLayer,\n    layerFactory,\n    SimpleLayer,\n    layerRegistry,\n    LAYER_TYPES,\n    ENCODING,\n    helpers,\n    enums,\n    layerMixins\n};\n","import layerFactory from './layer-factory';\n\nexport default layerFactory;\n","import { isSimpleObject, mergeRecursive, getObjProp } from 'muze-utils';\n\nconst parseLayerDefinition = (sink, definition, layerDef, layerType) => {\n    for (const key in definition) {\n        if (Object.hasOwnProperty.call(definition, key)) {\n            let strs;\n            let propValue;\n            const def = definition[key];\n            if (isSimpleObject(def)) {\n                sink[key] = {};\n                parseLayerDefinition(sink[key], def, layerDef, layerType);\n            } else if (typeof def === 'string' && (strs = def.split('.')) && strs[0] === layerType) {\n                propValue = getObjProp(layerDef, ...strs.slice(1, strs.length));\n                if (propValue !== undefined) {\n                    sink[key] = propValue;\n                }\n            } else {\n                sink[key] = def;\n            }\n        }\n    }\n};\n\nconst sanitizeEncoding = (encoding) => {\n    // Create object for each encoding value if encoding value is a string\n    for (const key in encoding) {\n        if (typeof encoding[key] === 'string') {\n            encoding[key] = {\n                field: encoding[key]\n            };\n        }\n    }\n};\n\n/**\n * Layer Factory creates layers based on the layer type. All types of layers needs to register in\n * the layer factory. For getting a layer instance, getLayer method needs to invoked with the\n * layerType and other arguments. It also registers the definition of composite layers.\n *\n * @public\n *\n * @module LayerFactory\n */\nconst layerFactory = (() => {\n    const compositeLayers = {};\n    const factoryObj = {\n        setLayerRegistry: (reg) => {\n            factoryObj._layerRegistry = reg;\n        },\n        getSerializedConf: (mark, layerDef) => {\n            let serializedDefs;\n            const defs = compositeLayers[mark];\n            const newConf = mergeRecursive({}, layerDef);\n\n                // If it is a composite layer then resolve all the definitions of each unit layer\n            if (defs) {\n                serializedDefs = defs.map((unitLayerDef) => {\n                    const sDef = {};\n                    parseLayerDefinition(sDef, unitLayerDef, newConf, mark);\n                    sanitizeEncoding(sDef.encoding);\n                    return sDef;\n                });\n            } else {\n                const encoding = newConf.encoding;\n                // Create object for each encoding value if encoding value is a string\n                sanitizeEncoding(encoding);\n                serializedDefs = newConf;\n            }\n\n            return serializedDefs;\n        },\n        getLayerInstance: (layerDef, ...params) => {\n            const layerRegistry = factoryObj._layerRegistry;\n            layerDef = !(layerDef instanceof Array) ? [layerDef] : layerDef;\n            const instances = layerDef.map((layerObj) => {\n                const layerConstructor = layerRegistry[layerObj.mark];\n                return layerConstructor.create(...params);\n            });\n            return instances.length === 1 ? instances[0] : instances;\n        },\n        getLayerClass: mark => factoryObj._layerRegistry[mark],\n        /**\n         * Registers a new composite layer definition in the layer factory.\n         *\n         * @public\n         *\n         * @param {string} layerType Mark type of the new composite layer.\n         * @param {Array} layerDefs Layer definitions of the composite layer.\n         */\n        composeLayers: (layerType, layerDefs) => {\n            compositeLayers[layerType] = layerDefs;\n        },\n        sanitizeLayerConfig: (layerDef) => {\n            const newConf = mergeRecursive({}, layerDef);\n            sanitizeEncoding(newConf.encoding);\n            return newConf;\n        }\n    };\n    return factoryObj;\n})();\n\nexport default layerFactory;\n","import { DEFAULT_LAYERS } from './defaults';\n\nexport default (layers = DEFAULT_LAYERS) => {\n    const reg = Object.assign({}, layers);\n    const regObj = {\n        register: (def) => {\n            const key = def.formalName();\n\n            reg[key] = def;\n            return regObj;\n        },\n        get: () => reg\n    };\n    return regObj;\n};\n","import { getObjProp, interpolator, FieldType, selectElement } from 'muze-utils';\nimport { ANGLE, RADIUS, SIZE, COLOR } from '../../enums/constants';\n\nexport const getPreviousPoint = (prevData, currIndex, context) => {\n    const prevArc = prevData[currIndex - 1];\n    const nextArc = prevData[currIndex];\n    const [startAngle, endAngle] = context.axes().angle.range();\n    if (prevArc && nextArc) {\n        return {\n            update: {\n                angle0: getObjProp(prevArc, 'update', 'angle'),\n                angle: getObjProp(nextArc, 'update', 'angle0')\n            }\n        };\n    } else if (!nextArc) {\n        return {\n            update: {\n                angle0: (endAngle - 90) * Math.PI * 2 / 360,\n                angle: (endAngle - 90) * Math.PI * 2 / 360\n            }\n        };\n    }\n    return {\n        update: {\n            angle0: (startAngle - 90) * Math.PI * 2 / 360,\n            angle: (startAngle - 90) * Math.PI * 2 / 360\n        }\n    };\n};\n\nexport const tweenPie = (path, b) => {\n    const datum = b[0];\n    return function (t) {\n        return path(interpolator()(datum._previousInfo, datum)(t));\n    };\n};\n\nexport const tweenExitPie = (consecutiveExits, transition, path) => {\n    if (consecutiveExits.length > 0) {\n        consecutiveExits.forEach((consecutiveExitArr) => {\n            const startAngle = consecutiveExitArr[0].datum.update.angle0;\n            const endAngle = consecutiveExitArr[consecutiveExitArr.length - 1].datum.update.angle;\n            const mid = (Math.PI * 2 * startAngle) / ((Math.PI * 2) + startAngle - endAngle);\n\n            consecutiveExitArr.forEach((e) => {\n                const { elem, datum } = e;\n\n                elem.each(function () {\n                    const gElem = selectElement(this);\n                    gElem.selectAll('path')\n                                    .transition()\n                                    .duration(transition.duration)\n                                    .attrTween('d', () => function (t) {\n                                        return path(interpolator()(datum, {\n                                            update: {\n                                                angle0: mid,\n                                                angle: mid,\n                                                radius: datum.radius,\n                                                radius0: datum.radius0\n                                            }\n                                        })(t));\n                                    })\n                                    .remove();\n                    gElem.remove();\n                });\n            });\n        });\n    }\n};\n\nexport const getFieldIndices = (encoding, fieldsConfig) => {\n    const [angleField, radiusField, colorField, sizeField] = [ANGLE, RADIUS, COLOR, SIZE]\n            .map(e => encoding[e].field);\n    const [angleIndex, sizeIndex, radiusIndex] = [angleField, sizeField, radiusField]\n        .map((e) => {\n            const conf = fieldsConfig[e];\n            if (conf && conf.def.type === FieldType.MEASURE) {\n                return conf.index;\n            }\n            return null;\n        });\n    const colorIndex = getObjProp(fieldsConfig, colorField, 'index');\n    return {\n        angleIndex,\n        sizeIndex,\n        radiusIndex,\n        colorIndex\n    };\n};\n","import {\n    makeElement,\n    selectElement,\n    getQualifiedClassName,\n    isSimpleObject,\n    Symbols,\n    FieldType,\n    ReservedFields\n} from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { getIndividualClassName, resolveEncodingValues, getColorMetaInf } from '../../helpers';\nimport { tweenPie, tweenExitPie, getPreviousPoint } from './arc-helper';\nimport './styles.scss';\n\nconst arc = Symbols.arc;\n\nexport const ArcLayerMixin = superclass => class extends superclass {\n    constructor (data, axes, config, dependencies) {\n        super(data, axes, config, dependencies);\n        this._prevPieData = {};\n    }\n\n    /**\n    * returns the default configuration of the layer\n    *\n    * @static\n    * @return {Object} Default configuration for arc layer\n    * @memberof ArcLayer\n    */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'arc';\n    }\n\n    elemType () {\n        return 'path';\n    }\n\n    getNearestPoint (x, y, config = {}) {\n        return this.getDataFromEvent(config.event);\n    }\n\n    getDataFromEvent (event) {\n        const dataPoint = selectElement(event.target).data()[0];\n        if (isSimpleObject(dataPoint)) {\n            const { source, rowId } = dataPoint;\n            return {\n                id: this.getIdentifiersFromData(source, rowId),\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    translatePoints (data) {\n        const { angle, color: colorAxis, radius: radiusAxis } = this.axes();\n        const pieIndex = {};\n        const prevData = this._points[0] || [];\n        const points = [];\n        const angleV = {};\n\n        this._prevPieData = {};\n        prevData.forEach((e, index) => {\n            this._prevPieData[e.rowId] = [e, index];\n            pieIndex[e.index] = e;\n        });\n        data.forEach((d, i) => {\n            const angles = angle.getScaleValue(d.angle);\n            if (angles) {\n                !angleV[d.angle] && (angleV[d.angle] = 0);\n                const { startAngle, endAngle } = angles[angleV[d.angle]++];\n                const uid = d.rowId;\n                const resolvedEncodings = resolveEncodingValues({\n                    values: {\n                        radius: radiusAxis.getOuterRadius(d.radius),\n                        radius0: radiusAxis.getInnerRadius(d.radius0),\n                        color: colorAxis.getColor(d.color),\n                        angle0: startAngle,\n                        angle: endAngle,\n                        startAngle,\n                        endAngle,\n                        startAngle0: startAngle,\n                        endAngle0: endAngle\n                    },\n                    data: d\n                }, i, data, this);\n                const color = resolvedEncodings.color;\n                points.push({\n                    source: d.source,\n                    index: i,\n                    enter: {},\n                    update: {\n                        angle0: resolvedEncodings.angle0,\n                        angle: resolvedEncodings.angle,\n                        radius0: resolvedEncodings.radius0,\n                        radius: resolvedEncodings.radius\n                    },\n                    color,\n                    meta: getColorMetaInf({\n                        fill: color\n                    }),\n                    rowId: uid,\n                    _previousInfo: this._prevPieData[uid] ? this._prevPieData[uid][0] :\n                        getPreviousPoint(pieIndex, i, this)\n                });\n            }\n        });\n        return points;\n    }\n\n    render (container) {\n        const measurement = this.measurement();\n        const {\n            classPrefix,\n            defClassName,\n            cornerRadius,\n            padAngle,\n            padRadius,\n            transition\n        } = this.config();\n        const qualClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        // This returns a function that generates the arc path based on the datum provided\n        const path = this._arcFn = arc()\n                .cornerRadius(cornerRadius)\n                .startAngle(d => d.update.angle0 + Math.PI / 2)\n                .endAngle(d => d.update.angle + Math.PI / 2)\n                .padAngle(padAngle)\n                .padRadius(padRadius)\n                .outerRadius(d => d.update.radius)\n                .innerRadius(d => d.update.radius0);\n\n        this._points = this._normalizedData.map(arr => this.translatePoints(arr));\n        const graphicElems = this._graphicElems = {};\n        // Creating the group that holds all the arcs\n        const g = makeElement(selectElement(container), 'g', this._points, `${qualClassName[0]}-group`)\n                .classed(`${qualClassName[1]}-group`, true)\n                .attr('transform', `translate(${measurement.width / 2},\n                    ${measurement.height / 2})`);\n        const tween = (elem) => {\n            makeElement(elem, 'path', d => [d], `${qualClassName[0]}-path`)\n                .style('fill', d => d.color)\n                .each(function (d) {\n                    graphicElems[d.rowId] = selectElement(this);\n                })\n                .transition()\n                .duration(transition.duration)\n                .on('end', this.registerAnimationDoneHook())\n                .attrTween('d', (...params) => tweenPie(path, params))\n                .attr('class', (d, i) => {\n                    const individualClass = getIndividualClassName(d, i, this._points, this);\n                    return `${qualClassName[0]}-path ${qualClassName[1]}-path-${d.index}\n                        ${individualClass}`;\n                });\n        };\n        const consecutiveExits = [];\n        let exitCounter = 0;\n        const tweenExit = (elem, d) => {\n            let exitArr = consecutiveExits[exitCounter];\n            const oldExitCounter = exitCounter;\n            if (!exitArr) {\n                exitArr = [{ elem, datum: d }];\n            } else if (exitArr[exitArr.length - 1].datum.index === d.index - 1) {\n                exitArr.push({ elem, datum: d });\n            } else {\n                exitCounter++;\n            }\n            consecutiveExits[oldExitCounter] = exitArr;\n        };\n        // Creating groups for all the arcs present individually\n        makeElement(g, 'g', d => d, `${qualClassName[0]}`,\n            {\n                update: tween,\n                exit: tweenExit\n            })\n                        .attr('class', (d, i) => `${qualClassName[0]} ${qualClassName[1]}-${i}`);\n        tweenExitPie(consecutiveExits, transition, path);\n        return this;\n    }\n\n    getPointsFromIdentifiers (identifiers) {\n        if (!this.data()) {\n            return [];\n        }\n        const fieldNames = identifiers[0];\n        const values = identifiers.slice(1, identifiers.length);\n        const pieSlices = selectElement(this.mount()).selectAll('path').data();\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPies = pieSlices.filter((tData) => {\n            const { source, rowId } = tData;\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === source[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === rowId) !== -1;\n                } return true;\n            });\n        });\n\n        const pieSliceInf = filteredPies[0];\n        if (pieSliceInf) {\n            const measurement = this.measurement();\n            const centroid = this._arcFn.centroid(pieSliceInf);\n            return [{\n                x: centroid[0] + measurement.width / 2,\n                y: centroid[1] + measurement.height / 2,\n                width: 2,\n                height: 2\n            }];\n        }\n        return [];\n    }\n};\n\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayerMixin, BaseLayer } from '../../base-layer';\nimport { ArcLayerMixin } from './arc-mixin';\n\n/**\n * Arc Layer creates a plot with polar coordinates.\n *\n * @public\n *\n * @class\n * @module ArcLayer\n * @extends BaseLayer\n */\nexport default class ArcLayer extends mix(BaseLayer).with(BaseLayerMixin, ArcLayerMixin) {\n    static formalName () {\n        return 'arc';\n    }\n}\n","import { transformColor } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-arc',\n    padding: { top: 1, bottom: 1, left: 1, right: 1 },\n    className: '',\n    interaction: {\n        highlight: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.1\n                }, data, apply).color\n            }\n        },\n        fade: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.3\n                }, data, apply).color\n            }\n        },\n        focus: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        }\n    },\n    height: 100,\n    width: 100,\n    sort: '',\n    colors: ['#F44336', 'blue', 'green', 'yellow', 'orange', 'purple'],\n    transform: {\n        type: 'identity'\n    },\n    encoding: {\n        'stroke-width': {\n            value: '2px'\n        },\n        'stroke-linejoin': {\n            value: 'round'\n        },\n        angle: {\n            value: '1'\n        },\n        radius: {\n            value: '1'\n        },\n        opacity: {\n            value: '1'\n        },\n        color: {\n            value: '1'\n        },\n        shape: {\n            value: '1'\n        },\n        size: {\n            value: '1'\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 500\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-arc-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-arc-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-arc-selected`\n        }\n    }\n};\n\n","export { default as ArcLayer } from './arc';\nexport { ArcLayerMixin } from './arc-mixin';\n","// extracted by mini-css-extract-plugin","import { FieldType, InvalidAwareTypes, getObjProp } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport drawArea from './renderer';\nimport './styles.scss';\nimport { STACK, ENCODING } from '../../enums/constants';\nimport {\n    positionPoints,\n    getIndividualClassName,\n    getValidTransformForAggFn,\n    getColorMetaInf,\n    resolveEncodingValues,\n    sortData\n} from '../../helpers';\n\n/**\n * Area layer renders a closed path. The mark type of this layer is ```area```. This layer can be used\n * to create stacked or multi-series areas and vertical range area plots by using the encoding properties.\n *\n * To create this layer using layer configuration from canvas,\n * ```\n *      canvas.layers([{\n *          mark: 'area',\n *          transform: {\n *              type: 'stack' // Produces a stacked area.\n *          }\n *      }]);\n * ```\n *\n * @public\n *\n * @class\n * @module AreaLayer\n * @extends LineLayer\n */\nexport const AreaLayerMixin = superclass => class extends superclass {\n\n    /** Default configuration of area layer\n     *\n     * @return {Object} Default configuration of layer\n    */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     * Calculates the domain from data. It calls its parent class's method which is line layer\n     * to get the domain and overwrites the domain according to its need.\n     * @return {Array} Domain values\n     */\n    calculateDomainFromData (data, encodingFieldsInf, fieldsConfig) {\n        const domains = super.calculateDomainFromData(data, fieldsConfig);\n        [ENCODING.X, ENCODING.Y].forEach((type) => {\n            const { [`${type}FieldType`]: fieldType } = encodingFieldsInf;\n            if (fieldType === FieldType.MEASURE && getObjProp(domains[type], 'length')) {\n                domains[type][0] = Math.min(domains[type][0], 0);\n                domains[type][1] = Math.max(0, domains[type][1]);\n            }\n        });\n        return domains;\n    }\n\n    /**\n     * Returns the drawing method of this layer\n     * @return {Function} Draw method\n     */\n    getDrawFn () {\n        return drawArea;\n    }\n\n    getNearestPoint (x, y, config) {\n        let searchRadius = config.searchRadius;\n        const data = this.data();\n\n        if (!data || (data && data.isEmpty())) {\n            return null;\n        }\n\n        searchRadius = searchRadius !== undefined ? searchRadius : this.config().nearestPointThreshold;\n        let point = this._voronoi.find(x, y, searchRadius);\n        let index;\n        let nearestPoint = null;\n\n        if (!point && config.dimValue && this._pointMap) {\n            const pointArr = this._pointMap[config.dimValue[1][0]] || [];\n\n            for (let i = 0, len = pointArr.length; i < len; i++) {\n                const { y: pointY, y0: pointY0 } = pointArr[i].update;\n                if (pointY < y && y < pointY0) {\n                    index = i;\n                    nearestPoint = pointArr[i];\n                    break;\n                }\n            }\n\n            // Index is a number(0 or more)\n            if (index !== undefined) {\n                point = {\n                    index,\n                    data: {\n                        x,\n                        y,\n                        data: nearestPoint\n                    }\n                };\n            }\n        }\n\n        const dimensions = getObjProp(point, 'data', 'data', 'update');\n\n        if (point) {\n            const { source, rowId } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(source, rowId);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y0: dimensions.y0,\n                    y: dimensions.y,\n                    width: 2,\n                    height: 2\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @return {Array} Array of points\n     */\n    translatePoints (data) {\n        let points = [];\n        const transformType = this.transformType();\n        const axes = this.axes();\n        const colorAxis = axes.color;\n        const config = this.config();\n        const encoding = config.encoding;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const { xField, yField, y0Field } = this.encodingFieldsInf();\n        const { x: xAxis, y: yAxis } = axes;\n        const classNameFn = config.individualClassName;\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n        const minYVal = yAxis.domain()[0];\n        const basePos = minYVal < 0 ? yAxis.getScaleValue(0) : yAxis.getScaleValue(minYVal);\n        sortData(data, axes);\n        points = data.map((d, i) => {\n            let color;\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y);\n            const y0Px = (y0Field || transformType === STACK) ? yAxis.getScaleValue(d.y0) : basePos;\n            color = colorAxis.getColor(d.color);\n            const invalidY = d.y instanceof InvalidAwareTypes;\n            const invalidY0 = d.y0 instanceof InvalidAwareTypes;\n            const resolvedValues = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    y0: y0Px,\n                    color\n                },\n                data: d\n            }, i, data, this);\n            color = resolvedValues.color;\n            const style = {\n                fill: color,\n                'fill-opacity': encoding.fillOpacity.value\n            };\n\n            const point = {\n                enter: {\n                    x: xPx,\n                    y: invalidY ? null : basePos,\n                    y0: invalidY0 ? null : basePos\n                },\n                update: {\n                    x: xPx,\n                    y: invalidY ? null : resolvedValues.y,\n                    y0: invalidY0 ? null : resolvedValues.y0\n                },\n                source: d.source,\n                rowId: d.rowId,\n                data: d.dataObj,\n                className: classNameFn ? classNameFn(d, i, data, this) : '',\n                style,\n                meta: getColorMetaInf(style)\n            };\n            point.className = getIndividualClassName(d, i, data, this);\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n        points = points.filter((point) => {\n            const update = point.update;\n            return !isNaN(update.x);\n        });\n        return points;\n    }\n\n    resolveTransformType () {\n        this._transformType = getValidTransformForAggFn(this);\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            fill: color,\n            'fill-opacity': 0.30\n        };\n    }\n};\n","import { mix } from 'muze-utils';\nimport { AREA_LAYER } from '../../enums/constants';\nimport { BaseLayer, BaseLayerMixin } from '../../base-layer';\nimport { LineLayerMixin } from '../line/line-mixin';\nimport { AreaLayerMixin } from './area-mixin';\n\n/**\n * Area layer renders a closed path. The mark type of this layer is ```area```. This layer can be used\n * to create stacked or multi-series areas and vertical range area plots by using the encoding properties.\n *\n * To create this layer using layer configuration from canvas,\n * ```\n *      canvas.layers([{\n *          mark: 'area',\n *          transform: {\n *              type: 'stack' // Produces a stacked area.\n *          }\n *      }]);\n * ```\n *\n * @public\n *\n * @class\n * @module AreaLayer\n * @extends LineLayer\n */\nexport default class AreaLayer extends mix(BaseLayer).with(BaseLayerMixin, LineLayerMixin, AreaLayerMixin) {\n    static formalName () {\n        return AREA_LAYER;\n    }\n}\n\n","import { CLASSPREFIX, STACK } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-area',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: STACK\n    },\n    interaction: {\n        fade: {\n            style: {\n                'fill-opacity': 0.7\n            }\n        },\n        focus: {\n            style: {\n                'fill-opacity': 0.7\n            }\n        },\n        brushStroke: {\n            style: {\n                'fill-opacity': 0.7\n            }\n        }\n    },\n    crossline: true,\n    nearestPointThreshold: 10,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        y0: {},\n        strokeOpacity: {\n            value: 1\n        },\n        fillOpacity: {\n            value: 0.3\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n","export { default as AreaLayer } from './area';\nexport { AreaLayerMixin } from './area-mixin';\n","import {\n    easeFns,\n    selectElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\n\nconst area = Symbols.area;\n\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nconst /* istanbul ignore next */ drawArea = (params) => {\n    const { layer, container, style, points, transition, className, interpolate, connectNullData } = params;\n    const graphicElems = layer._graphicElems;\n    const { effect: easeEffect, duration } = transition;\n    const mount = selectElement(container);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const selection = mount.selectAll('path').data(points.length ? [points] : []);\n    const [enterAreaPath, updateAreaPath] = ['enter', 'update'].map(e => area().curve(curveInterpolatorFn)\n                    .x(d => d[e].x)\n                    .y1(d => d[e].y)\n                    .y0(d => d[e].y0)\n                    .defined(d => d[e].y !== null));\n\n    mount.attr('class', className);\n\n    let filteredPoints = points;\n    if (connectNullData) {\n        filteredPoints = filteredPoints.filter(d => d.update.y !== null);\n    }\n    const selectionEnter = selection\n        .enter()\n        .append('path')\n        .attr('d', enterAreaPath(filteredPoints))\n        .each((d) => {\n            d.forEach((dd) => {\n                if (dd.rowId !== null) {\n                    graphicElems[dd.rowId] = mount.select('path');\n                }\n            });\n        });\n\n    selection.merge(selectionEnter).transition().ease(easeFns[easeEffect])\n                    .duration(duration)\n                    .on('end', layer.registerAnimationDoneHook())\n                    .attr('d', updateAreaPath(filteredPoints))\n                    .each(function () {\n                        const element = selectElement(this);\n                        Object.keys(style).forEach(key => element.style(key, style[key]));\n                    });\n};\n\nexport default drawArea;\n","// extracted by mini-css-extract-plugin","import { MeasureSubtype, DimensionSubtype } from 'muze-utils';\nimport { STACK } from '../../enums/constants';\nimport {\n    positionPoints,\n    getIndividualClassName,\n    getColorMetaInf,\n    resolveEncodingValues\n} from '../../helpers';\n\nconst positionRetriever = {\n    x: (xPx, isNegativeVal, barBasePos) => (isNegativeVal ? [xPx, barBasePos] : [barBasePos, xPx]),\n    y: (yPx, isNegativeVal, barBasePos) => (isNegativeVal ? [barBasePos, yPx] : [yPx, barBasePos])\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fieldInfo\n * @param {*} config\n * @param {*} data\n *\n */\nconst resolveDimByField = (type, axesInfo, config, data) => {\n    const spaceType = type === 'x' ? 'width' : 'height';\n    const [fieldType, axis] = [config[`${type}FieldType`], axesInfo[`${type}Axis`]];\n    const {\n        transformType,\n        sizeEncoding,\n        sizeConfig,\n        measurement\n    } = config;\n\n    const sizeValue = sizeEncoding.value;\n    let enter = 0;\n    let pos;\n    let space = 0;\n    let enterSpace = 0;\n    if (fieldType !== undefined) {\n        if (config[`${type}0Field`]) {\n            const minVal = data[type];\n            const maxVal = data[`${type}0`];\n            let min;\n            let max;\n            if (minVal === null || maxVal === null) {\n                return {\n                    enterSpace: undefined,\n                    enter: undefined,\n                    pos: undefined,\n                    space: undefined\n                };\n            } else if (fieldType === MeasureSubtype.CONTINUOUS || fieldType === DimensionSubtype.TEMPORAL) {\n                min = Math.min(minVal, maxVal);\n                max = Math.max(minVal, maxVal);\n            } else {\n                min = minVal;\n                max = maxVal;\n            }\n            const scales = type === 'x' ? [min, max] : [max, min];\n            pos = axis.getScaleValue(scales[0]) + axis.getUnitWidth() / 2;\n            space = Math.abs(axis.getScaleValue(scales[1]) - pos) + axis.getUnitWidth() / 2;\n\n            enter = pos;\n            enterSpace = 0;\n        } else if (fieldType === DimensionSubtype.CATEGORICAL || fieldType === DimensionSubtype.TEMPORAL) {\n            pos = axis.getScaleValue(data[type]) +\n                (sizeConfig[type === 'x' ? 'barWidthOffset' : 'barHeightOffset'] || 0);\n\n            space = sizeConfig[type === 'x' ? 'barWidth' : 'barHeight'];\n            if (sizeValue !== undefined) {\n                const diffPx = sizeValue * space;\n                space -= diffPx;\n                pos += diffPx / 2;\n            }\n            enter = pos;\n            enterSpace = space;\n        } else {\n            const minDomVal = axis.domain()[0];\n            const barBasePos = minDomVal < 0 ? axis.getScaleValue(0) : axis.getScaleValue(minDomVal);\n            pos = axis.getScaleValue(data[type]);\n            let endPos = axis.getScaleValue(data[`${type}0`]);\n\n            enterSpace = 0;\n            const isNegativeVal = data[type] < 0;\n            if (transformType !== STACK) {\n                [pos, endPos] = positionRetriever[type](pos, isNegativeVal, barBasePos);\n            }\n            space = Math.abs(pos - endPos);\n            enter = barBasePos;\n        }\n    } else {\n        pos = 0;\n        space = measurement[spaceType];\n    }\n\n    return {\n        enterSpace,\n        enter,\n        pos,\n        space\n    };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} config\n * @param {*} axes\n *\n */\nconst resolveDimensions = (data, config, axes) => {\n    const axesInfo = {\n        xAxis: axes.x,\n        yAxis: axes.y\n    };\n    const {\n        enterSpace: enterWidth,\n        enter: enterX,\n        pos: xPos,\n        space: width\n    } = resolveDimByField('x', axesInfo, config, data);\n\n    const {\n        enterSpace: enterHeight,\n        enter: enterY,\n        pos: yPos,\n        space: height\n    } = resolveDimByField('y', axesInfo, config, data);\n    return {\n        enter: {\n            x: enterX,\n            y: enterY,\n            width: enterWidth,\n            height: enterHeight\n        },\n        update: {\n            x: xPos,\n            y: yPos,\n            width,\n            height\n        }\n    };\n};\n\nexport const strokeWidthPositionMap = ({ width, position }) => {\n    const offset = width / 2;\n    const strokeWidthWithOffsetMap = {\n        center: {\n            M: { x: 0, y: 0 },\n            L1: { x: 0, y: 0 },\n            L2: { x: 0, y: 0 },\n            L3: { x: 0, y: 0 }\n        },\n        inside: {\n            M: { x: +offset, y: +offset },\n            L1: { x: -offset, y: +offset },\n            L2: { x: -offset, y: -offset },\n            L3: { x: +offset, y: -offset }\n        },\n        outside: {\n            M: { x: -offset, y: -offset },\n            L1: { x: +offset, y: -offset },\n            L2: { x: +offset, y: +offset },\n            L3: { x: -offset, y: +offset }\n        }\n    };\n    return strokeWidthWithOffsetMap[position];\n};\n\n/**\n * Generates an array of objects containing x, y, width and height of the bars from the data\n * @param  {Array.<Array>} data Data Array\n * @param  {Object} encoding  Config\n * @param  {Object} axes     Axes object\n * @param {Object} conf config object for point generation\n * @return {Array.<Object>}  Array of points\n */\nexport const getTranslatedPoints = (context, data, sizeConfig) => {\n    let points = [];\n    const encoding = context.config().encoding;\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const sizeEncoding = encoding.size || {};\n    const {\n            x0Field,\n            y0Field,\n            xFieldSubType,\n            yFieldSubType\n        } = context.encodingFieldsInf();\n    const measurement = context.measurement();\n    const isXDim = xFieldSubType === DimensionSubtype.CATEGORICAL || xFieldSubType === DimensionSubtype.TEMPORAL;\n    const isYDim = yFieldSubType === DimensionSubtype.CATEGORICAL || yFieldSubType === DimensionSubtype.TEMPORAL;\n    const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n    const transformType = context.transformType();\n\n    for (let i = 0, len = data.length; i < len; i++) {\n        const d = data[i];\n        const dimensions = resolveDimensions(d, {\n            xFieldType: xFieldSubType,\n            yFieldType: yFieldSubType,\n            x0Field,\n            y0Field,\n            transformType,\n            measurement,\n            sizeConfig,\n            sizeEncoding\n        }, axes);\n\n        let color = colorAxis.getColor(d.color);\n\n        const update = dimensions.update;\n        const resolvedEncodings = resolveEncodingValues({\n            values: {\n                x: update.x,\n                y: update.y,\n                width: update.width,\n                height: update.height,\n                color\n            },\n            data: d\n        }, i, data, context);\n        // const layerEncoding = layerInst.config().encoding;\n\n        color = resolvedEncodings.color;\n        const { x, y, width, height } = resolvedEncodings;\n        const style = {\n            fill: color,\n            stroke: encoding.stroke.value,\n            'stroke-width': encoding.strokeWidth.value\n        };\n        const conf = {\n            strokePosition: encoding.strokePosition.value\n        };\n\n        if (!isNaN(x) && !isNaN(y) && d.rowId !== undefined) {\n            let point = null;\n            point = {\n                enter: dimensions.enter,\n                update: {\n                    x,\n                    y,\n                    width,\n                    height\n                },\n                source: d.source,\n                rowId: d.rowId,\n                data: d.dataObj,\n                style,\n                meta: Object.assign({\n                    layerId: context.id()\n                }, getColorMetaInf(style, conf))\n            };\n            point.className = getIndividualClassName(d, i, data, context);\n            points.push(point);\n            // Store each point in a hashmap with key as the dimensional or temporal field value\n            context.cachePoint(d[key], point);\n        }\n    }\n\n    points = positionPoints(context, points);\n    return points;\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    createElements,\n    clipElement,\n    FieldType,\n    Scales,\n    getObjProp,\n    makeElement,\n    appendElement\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { drawRects } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { getPlotMeasurement, getValidTransformForAggFn, getDataFromEvent } from '../../helpers';\nimport './styles.scss';\nimport { getTranslatedPoints, strokeWidthPositionMap } from './bar-helper';\n\nconst { MEASURE } = FieldType;\n\nexport const BarLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates an instance of bar layer\n     */\n    constructor (...params) {\n        super(...params);\n        this._bandScale = Scales.band();\n        this._plotPadding = {\n            x: 0,\n            y: 0\n        };\n        this._plotSpan = {\n            x: 0,\n            y: 0\n        };\n        this._pointMap = {};\n        this._overlayPath = {};\n    }\n\n    elemType () {\n        return 'rect';\n    }\n\n    /**\n     * Returns the default configuration of the bar layer\n     * @return {Object} Default configuration of the bar layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const colorField = encoding.color.field;\n        const transform = config.transform;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    calculateDomainFromData (data, encodingFieldInf, fieldsConfig) {\n        const domain = super.calculateDomainFromData(data, encodingFieldInf, fieldsConfig);\n        ['x', 'y'].forEach((d) => {\n            if (encodingFieldInf[`${d}FieldType`] === MEASURE && getObjProp(domain[d], 'length')) {\n                if (encodingFieldInf[`${d}0Field`]) {\n                    domain[d] = domain[d].sort((a, b) => a - b);\n                } else {\n                    domain[d][0] = Math.min(domain[d][0], 0);\n                    domain[d][1] = Math.max(0, domain[d][1]);\n                }\n            }\n        });\n        return domain;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the bars from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @param {Object} conf config object for point generation\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, sizeConfig) {\n        return getTranslatedPoints(this, data, sizeConfig);\n    }\n\n    /**\n     * Renders the plot in the given container\n     * @param  {SVGGroup} container SVGGroup where plot will be rendered.\n     * @return {BarLayer} Instance of bar layer.\n     */\n    render (container) {\n        const config = this.config();\n        const transition = config.transition;\n        const normalizedDataArr = this._normalizedData;\n        const transformedData = this._transformedData;\n        const keys = transformedData.map(d => d.key);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const height = axes.y && axes.y.scale().range()[0];\n        const width = axes.x && axes.x.scale().range()[1];\n        const defClassName = config.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const className = config.className;\n        const containerSelection = selectElement(container);\n        const dimensions = Object.values(fieldsConfig).filter(e => e.def.type === FieldType.DIMENSION)\n            .map(e => e.index);\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        clipElement(container, {\n            x: 0,\n            y: 0,\n            width,\n            height\n        }, `id-${this.id()}`);\n\n        this._points = this.generateDataPoints(normalizedDataArr, keys);\n        this._graphicElems = {};\n        const paths = Object.keys(this._overlayPath);\n        paths.forEach(path => this._overlayPath[path].remove());\n        this._overlayPath = {};\n\n        const barContainer = makeElement(containerSelection, 'g', [1], 'muze-layer-bars', {}, null);\n        makeElement(containerSelection, 'g', [1], 'muze-overlay-paths', {}, null);\n        createElements({\n            data: this._points,\n            container: barContainer.node(),\n            selector: 'g',\n            append: 'g',\n            each: (points, group, i) => {\n                const seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n                group.style('display', 'block');\n                drawRects({\n                    layer: this,\n                    container: group.node(),\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: {},\n                    keyFn: d => dimensions.map(key => d.source[key]).join('-')\n                });\n            }\n        });\n\n        return this;\n    }\n\n    generateDataPoints (normalizedData, keys) {\n        const [barWidthMetrics, barHeightMetrics] = getPlotMeasurement(this, keys);\n        const barWidthOffsets = barWidthMetrics.offsetValues || [];\n        const barHeightOffsets = barHeightMetrics.offsetValues || [];\n        this._plotSpan = {\n            x: barWidthMetrics.groupSpan || 0,\n            y: barHeightMetrics.groupSpan || 0\n        };\n        this._plotPadding = {\n            x: barWidthMetrics.padding || 0,\n            y: barHeightMetrics.padding || 0\n        };\n\n        this._pointMap = {};\n        return normalizedData.map((data, i) => this.translatePoints(data,\n            {\n                barWidth: barWidthMetrics.span,\n                barWidthOffset: barWidthOffsets[i] || 0,\n                barHeight: barHeightMetrics.span,\n                barHeightOffset: barHeightOffsets[i] || 0\n            }));\n    }\n\n    getPlotPadding () {\n        return this._plotPadding;\n    }\n\n    resolveTransformType () {\n        this._transformType = getValidTransformForAggFn(this);\n    }\n\n    /**\n     * Gets the nearest point of the position passed.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point.\n     */\n    getNearestPoint (x, y, { event }) {\n        if (!this.data()) {\n            return null;\n        }\n        return this.getDataFromEvent(event);\n    }\n\n    getDataFromEvent (event) {\n        return getDataFromEvent(this, event);\n    }\n\n    getPlotSpan () {\n        return this._plotSpan;\n    }\n\n    hasPlotSpan () {\n        return true;\n    }\n\n    addOverlayPath (refElement, data, style, strokePosition, mountPoint) {\n        let pathElement;\n\n        if (this._overlayPath[data.rowId]) {\n            pathElement = this._overlayPath[data.rowId];\n        } else {\n            const pathGroup = makeElement(mountPoint, 'g', [1], null, {}, d => `${d.x} ${data.rowId}`);\n            pathElement = makeElement(pathGroup, 'path', [data], null, {}, d => `${d.update.x} ${data.rowId}`);\n\n            pathElement.style('fill', 'none');\n            pathElement.style('fill-opacity', 0);\n            pathElement.attr('id', data.rowId);\n            this._overlayPath[data.rowId] = pathElement;\n        }\n\n        if (style.type === 'stroke-width') {\n            const { L1, L2, L3, M } = strokeWidthPositionMap({\n                width: parseInt(style.value, 10),\n                position: strokePosition\n            });\n\n            pathElement.attr('d', d => `M ${d.update.x + M.x} ${d.update.y + M.y}\n            L ${d.update.x + d.update.width + L1.x} ${d.update.y + L1.y}\n            L ${d.update.x + d.update.width + L2.x} ${d.update.y + d.update.height + L2.y}\n            L${d.update.x + L3.x} ${d.update.y + d.update.height + L3.y} Z`);\n        }\n\n        let styleVal = style.value;\n        if (typeof styleVal === 'function') {\n            const currentStyle = pathElement.style(style.type);\n            styleVal = styleVal(currentStyle);\n        }\n        pathElement.style(style.type, styleVal);\n        appendElement(mountPoint, pathElement.node());\n    }\n\n    removeOverlayPath (data, style) {\n        const currentPath = this._overlayPath[data.rowId];\n        if (currentPath) {\n            currentPath.node().removeAttribute('style');\n            Object.keys(style).forEach(s => currentPath.style(s, style[s]));\n            currentPath.style('fill-opacity', 0);\n\n            // Apply the path shape get the correct path position\n            currentPath.attr('d', d => `M ${d.update.x} ${d.update.y}\n            L ${d.update.x + d.update.width} ${d.update.y}\n            L ${d.update.x + d.update.width} ${d.update.y + d.update.height}\n            L${d.update.x} ${d.update.y + d.update.height} Z`);\n        }\n    }\n\n    getBoundBoxes () {\n        const points = this._points.flat();\n\n        return points.map((point) => {\n            const { x, y, width, height } = point.update;\n            const data = point.data;\n            return {\n                minX: x,\n                maxX: x + width,\n                minY: y,\n                maxY: y + height,\n                data\n            };\n        });\n    }\n};\n\n","import { mix } from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { BAR_LAYER } from '../../enums/constants';\nimport { BarLayerMixin } from './bar-mixin';\nimport { BaseLayerMixin } from '../../base-layer/base-mixin';\nimport './styles.scss';\n\n/**\n * Bar layer creates rectangle marks. The mark type of this layer is ```bar```. This layer can be used\n * to create stacked or grouped bars, range bars, heatmap plots and also reference bands by using\n * the encoding properties.\n *\n * @public\n *\n * @class\n * @module BarLayer\n * @extends BaseLayer\n */\nexport default class BarLayer extends mix(BaseLayer).with(BaseLayerMixin, BarLayerMixin) {\n    static formalName () {\n        return BAR_LAYER;\n    }\n}\n","import { transformColor } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-bar',\n    className: '',\n    interaction: {\n        highlight: {\n            style: {\n                stroke: 'black',\n                'stroke-width': '1px'\n            },\n            strokePosition: 'center'\n        },\n        focusStroke: {\n            className: 'focus-stroke-class',\n            style: {\n                stroke: 'black',\n                'stroke-width': '1px'\n            },\n            strokePosition: 'outside'\n        },\n        brushStroke: {\n            className: 'brush-stroke-class',\n            style: {\n                stroke: 'black',\n                'stroke-width': '1px'\n            },\n            strokePosition: 'outside'\n        },\n        doubleStroke: {\n            style: {\n                stroke: 'black',\n                'stroke-width': '2px'\n            },\n            strokePosition: 'outside'\n        },\n        commonDoubleStroke: {\n            style: {\n                stroke: 'black',\n                'stroke-width': '2px'\n            },\n            strokePosition: 'outside'\n        },\n        fade: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.3\n                }, data, apply).color\n            }\n        },\n        focus: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        }\n    },\n    transform: {\n        type: 'stack'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    innerPadding: 0.1,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        x0: {},\n        y0: {},\n        stroke: {\n            value: '#000'\n        },\n        strokeWidth: {\n            value: '0px'\n        },\n        strokePosition: {\n            value: 'center'\n        }\n    }\n};\n","export { default as BarLayer } from './bar';\nexport { BarLayerMixin } from './bar-mixin';\n","import { makeElement, easeFns } from 'muze-utils';\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} datum\n * @param {*} index\n * @param {*} context\n */\nconst transitionBars = (layer, elem, datum, index, context) => {\n    const { transition } = context;\n    const { duration, disabled, effect } = transition;\n    const selection = elem;\n\n    const selTransition = disabled ? selection :\n        selection.transition()\n        .duration(duration)\n        .ease(easeFns[effect])\n        .on('end', layer.registerAnimationDoneHook());\n    const update = datum.update || datum;\n    const updateStyle = datum.style || {};\n    datum.className && selection.classed(datum.className, true);\n    Object.entries(update).forEach(attr => (!isNaN(attr[1]) && selTransition.attr(attr[0], attr[1])));\n    Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n};\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} d\n */\nconst barEnterFn = (elem, d) => {\n    const selection = elem;\n    const enter = d.enter || {};\n    Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n};\n\n/**\n * Draws rectangles by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Bar Selection\n */\n/* istanbul ignore next */ export const drawRects = (params) => {\n    const { layer, points, container, keyFn, className } = params;\n    const graphicElems = layer._graphicElems;\n    const updateFns = {\n        enter (elem, d) {\n            barEnterFn(elem, d);\n        },\n        update (elem, d, i) {\n            graphicElems[d.rowId] = elem;\n            transitionBars(layer, elem, d, i, params);\n        }\n    };\n\n    return makeElement(container, 'g', points, null, {\n        update: (group, d) => {\n            makeElement(group.node(), 'rect', data => [data], null, updateFns, keyFn);\n            group.attr('class', `${className}-${d.rowId}`);\n            group.classed(d.className, true);\n        }\n    }, keyFn);\n};\n","// extracted by mini-css-extract-plugin","import { transformColor } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-line',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: 'group'\n    },\n    interaction: {\n        fade: {\n            style: {\n                stroke: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        },\n        focus: {\n            style: {\n                stroke: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        },\n        brushStroke: {\n            style: {\n                stroke: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        }\n    },\n    crossline: true,\n    nearestPointThreshold: 20,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 1\n        },\n        fillOpacity: {\n            value: 0\n        },\n        strokeWidth: {\n            value: '2px'\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false,\n    nullDataLineStyle: {},\n    nullDataLineClass: 'null'\n};\n","export { default as LineLayer } from './line';\nexport { LineLayerMixin } from './line-mixin';\n","import {\n    Voronoi,\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    FieldType,\n    InvalidAwareTypes,\n    getObjProp\n} from 'muze-utils';\nimport { drawLine } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport {\n    attachDataToVoronoi,\n    animateGroup,\n    positionPoints,\n    getIndividualClassName,\n    getColorMetaInf,\n    resolveEncodingValues,\n    sortData,\n    getBoundBoxes\n} from '../../helpers';\nimport './styles.scss';\n\n/**\n * This layer is used to render straight or smoothed line paths. The mark type of this layer is ```line```.\n *\n * @public\n *\n * @class\n * @module LineLayer\n * @extends BaseLayer\n */\nexport const LineLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates an instance of LineLayer.\n     *\n     * @param {*} args\n     * @memberof LineLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n    }\n\n    static formalName () {\n        return 'line';\n    }\n\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Default configuration of line layer\n     * @return {Object} Default configuration of layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = super.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField && !transform.groupBy) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     * Returns the draw method for line\n     * @return {Function} Draw method of line layer\n     */\n    getDrawFn () {\n        return drawLine;\n    }\n\n    static shouldDrawAnchors () {\n        return true;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @param {number} seriesIndex index of series\n     * @return {Array} Array of points\n     */\n    translatePoints (data) {\n        let points = [];\n        const axes = this.axes();\n        const encoding = this.config().encoding;\n        const xAxis = axes.x;\n        const yAxis = axes.y;\n        const colorAxis = axes.color;\n        const { xFieldType, yFieldType } = this.encodingFieldsInf();\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        sortData(data, axes);\n        points = data.map((d, i) => {\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y) + yAxis.getUnitWidth() / 2;\n            const color = colorAxis.getColor(d.color);\n\n            const resolvedEncodings = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    color\n                },\n                data: d\n            }, i, data, this);\n\n            const style = {\n                stroke: resolvedEncodings.color,\n                'fill-opacity': encoding.fillOpacity.value,\n                'stroke-width': encoding.strokeWidth.value\n            };\n\n            const point = {\n                enter: {},\n                update: {\n                    x: d.x instanceof InvalidAwareTypes ? null : resolvedEncodings.x,\n                    y: d.y instanceof InvalidAwareTypes ? null : resolvedEncodings.y\n                },\n                style,\n                rowId: d.rowId,\n                source: d.source,\n                data: d.dataObj,\n                meta: getColorMetaInf(style)\n            };\n            point.className = getIndividualClassName(d, i, data, this);\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n\n        points = points.filter((point) => {\n            const { update } = point;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    }\n\n    getTranslatedData (normalizedData, colorValFn, colorFieldIndex, axes) {\n        return normalizedData.map((data, i) => {\n            let color;\n            const colorVal = data.find(d => d.source[colorFieldIndex] !== null &&\n                    d.source[colorFieldIndex] !== undefined);\n\n            if (colorValFn) {\n                color = colorValFn(data, i, normalizedData);\n            } else {\n                color = axes.color.getColor(colorVal && colorVal.source[colorFieldIndex]);\n            }\n\n            return {\n                data: this.translatePoints(data),\n                style: this.getPathStyle(color)\n            };\n        });\n    }\n\n    /**\n     * Renders the line plot\n     * @param {SVGElement} container svg element\n     * @return {LineLayer} instance of line layer\n     */\n    render (container) {\n        const config = this.config();\n        const {\n            encoding,\n            interpolate,\n            className,\n            defClassName,\n            transition\n        } = config;\n        const normalizedData = this._normalizedData;\n        const transformedData = this._transformedData;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const keys = transformedData.map(d => d.key);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const containerSelection = selectElement(container);\n        const colorField = encoding.color.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n\n        this._points = [];\n        this._pointMap = {};\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n\n        const colorValFn = encoding.color.value;\n        const translatedPoints = this.getTranslatedData(normalizedData, colorValFn, colorFieldIndex, axes);\n\n        makeElement(container, 'g', translatedPoints, null, {\n            enter: (group) => {\n                animateGroup(group, {\n                    transition,\n                    groupAnimateStyle: {\n                        enter: {\n                            'stroke-opacity': 0,\n                            'fill-opacity': this.getPathStyle()['fill-opacity']\n                        },\n                        update: {\n                            'stroke-opacity': encoding.strokeOpacity.value\n                        }\n                    }\n                });\n            },\n            update: (group, dataArr, i) => {\n                const points = dataArr.data;\n                const seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n                const style = dataArr.style;\n\n                this._points.push(points);\n                this.getDrawFn()({\n                    layer: this,\n                    container: group.node(),\n                    interpolate,\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: style || {},\n                    connectNullData: config.connectNullData\n                });\n            }\n        }, d => d.data[0].source[colorFieldIndex] || d.data[0].rowId);\n\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            stroke: color,\n            'fill-opacity': '0'\n        };\n    }\n\n    /**\n     * Gets the nearest point closest to the given position\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point information\n     */\n    getNearestPoint (x, y, config) {\n        let searchRadius = config.searchRadius;\n        const data = this.data();\n\n        if (!data || (data && data.isEmpty())) {\n            return null;\n        }\n\n        searchRadius = searchRadius !== undefined ? searchRadius : this.config().nearestPointThreshold;\n        const point = this._voronoi.find(x, y, searchRadius);\n        const dimensions = getObjProp(point, 'data', 'data', 'update');\n\n        if (point) {\n            const { source, rowId } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(source, rowId);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: 2,\n                    height: 2\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    applyStyles ({ strokeStyles, otherStyles, styleObj, elem }) {\n        [...otherStyles, ...strokeStyles].forEach((type) => {\n            elem.style(type, styleObj[type]);\n        });\n    }\n\n    getBoundBoxes () {\n        return getBoundBoxes(this._points.flat());\n    }\n};\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayer, BaseLayerMixin } from '../../base-layer';\nimport { LineLayerMixin } from './line-mixin';\nimport { LINE_LAYER } from '../../enums/constants';\n\n/**\n * This layer is used to render straight or smoothed line paths. The mark type of this layer is ```line```.\n *\n * @public\n *\n * @class\n * @module LineLayer\n * @extends BaseLayer\n */\nexport default class LineLayer extends mix(BaseLayer).with(BaseLayerMixin, LineLayerMixin) {\n    static formalName () {\n        return LINE_LAYER;\n    }\n}\n","import {\n    selectElement,\n    makeElement,\n    pathInterpolators,\n    Symbols,\n    setStyles\n} from 'muze-utils';\nimport { updateStyle } from '../../helpers';\n\nconst line = Symbols.line;\n\nconst filterFn = (d) => {\n    const { update } = d;\n    return update.y !== null && update.x !== null;\n};\n\nconst containsNull = (elem) => {\n    const { x, y } = elem ? elem.update : {};\n    if (x === null || y === null) {\n        return true;\n    }\n    return false;\n};\n\nconst settIndexPrevOrNext = (arr, index, indexesObj) => {\n    const prevContainsNull = containsNull(arr[index - 1], index - 1);\n    const nextContainsNull = containsNull(arr[index + 1], index + 1);\n\n    !prevContainsNull && indexesObj.prevOfNull.push(index - 1);\n    !nextContainsNull && indexesObj.nextOfNull.push(index + 1);\n};\n\nconst getborderIndexes = (arr) => {\n    const indexes = {\n        prevOfNull: [],\n        nextOfNull: []\n    };\n    arr.forEach((value, index) => {\n        const { update } = value;\n        if (update.y === null || update.x === null) {\n            settIndexPrevOrNext(arr, index, indexes);\n        }\n    });\n    return indexes;\n};\n\nconst makeStartEndPair = (arr, borderIndexes) => {\n    const pairArray = [];\n    const { prevOfNull, nextOfNull } = borderIndexes;\n    const length = prevOfNull.length;\n    if (!length) {\n        return pairArray;\n    }\n\n    for (let i = 0; i < length; i++) {\n        const pair = [];\n        const prevValue = arr[prevOfNull[i]];\n        const nextValue = arr[nextOfNull[i]];\n        if (prevValue) {\n            pair.push(prevValue);\n        }\n        if (nextValue) {\n            pair.push(nextValue);\n        }\n        pairArray.push(pair);\n    }\n    return pairArray;\n};\n\nconst sanitizeNullConfig = (arr) => {\n    const borderIndexes = getborderIndexes(arr);\n    return makeStartEndPair(arr, borderIndexes);\n};\n\nconst getElementsForLine = (params) => {\n    const { mount, data, className, layer, strokeStyle, linepath, transition, updateFns } = params;\n    let element = makeElement(mount, 'path', data.length ? [data] : [], className, updateFns);\n    element.attr('class', (d, i) => d[i].className);\n    setStyles(element, strokeStyle);\n    if (!transition.disabled) {\n        element = element.transition()\n        .duration(transition.duration)\n        .on('end', layer.registerAnimationDoneHook());\n    }\n    element.attr('d', linepath(data))\n                    .style('fill-opacity', 0);\n    return element;\n};\n\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nexport const drawLine = (context) => {\n    const { layer, container, points, interpolate, connectNullData, className, style, transition } = context;\n    const containerSelection = selectElement(container);\n    const strokeStyle = layer.config().nullDataLineStyle;\n    const nullDataLineClass = layer.config().nullDataLineClass;\n    const mount = containerSelection.attr('class', className);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const linepath = line()\n        .curve(curveInterpolatorFn)\n        .x(d => d.update.x)\n        .y(d => d.update.y)\n        .defined(filterFn);\n\n    const graphicElems = layer._graphicElems;\n    const updateFns = {\n        update: (group, d) => {\n            d.forEach((dd) => {\n                graphicElems[dd.rowId] = containerSelection;\n            });\n        }\n    };\n\n    updateStyle(mount, style);\n\n    const elementWithNullData = getElementsForLine({\n        mount,\n        data: points,\n        strokeStyle: undefined,\n        layer,\n        linepath,\n        transition,\n        updateFns\n    });\n    const sanitizedPoints = sanitizeNullConfig(points);\n\n    sanitizedPoints.map((d) => {\n        if (connectNullData && d.length > 1) {\n            getElementsForLine({\n                mount,\n                data: d,\n                strokeStyle,\n                className: `.${className}-${nullDataLineClass}`,\n                layer,\n                linepath,\n                transition,\n                updateFns\n            });\n        }\n        return null;\n    });\n    return elementWithNullData;\n};\n","// extracted by mini-css-extract-plugin","import { transformColor } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-point',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    defColorStyle: 'stroke',\n    interaction: {\n        highlight: {\n            className: 'highlight-class',\n            style: {\n                stroke: 'black',\n                'stroke-width': '1px'\n                // fill: 'red'\n            },\n            strokePosition: 'center'\n        },\n        focusStroke: {\n            className: 'focus-stroke-class',\n            style: {\n                stroke: 'black',\n                'stroke-width': '1px'\n            },\n            strokePosition: 'outside'\n        },\n        commonDoubleStroke: {\n            style: {\n                stroke: 'black',\n                'stroke-width': '2px'\n            },\n            strokePosition: 'outside'\n        },\n        brushStroke: {\n            className: 'brush-stroke-class',\n            style: {\n                stroke: 'black',\n                'stroke-width': '1px'\n                // fill: 'blue'\n            },\n            strokePosition: 'outside'\n        },\n        doubleStroke: {\n            style: {\n                stroke: 'black',\n                'stroke-width': '2px'\n            },\n            strokePosition: 'outside'\n        },\n        fade: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        },\n        focus: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    a: -0.5\n                }, data, apply).color\n            }\n        }\n    },\n    innerPadding: 0.1,\n    nearestPointThreshold: 5,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        size: {\n            value: 30\n        },\n        color: {},\n        stroke: {\n            value: '#000'\n        },\n        'stroke-width': {\n            value: 0\n        },\n        fill: {},\n        shape: {\n            value: 'circle'\n        },\n        x: {},\n        y: {},\n        'stroke-opacity': {\n            value: 1\n        },\n        'fill-opacity': {\n            value: 0.5\n        },\n        strokePosition: {\n            value: 'center'\n        },\n        interaction: {\n            anchors: 'highlight',\n            'persistent-anchors': 'focusStroke',\n            'brush-anchors': 'brushStroke'\n        }\n    },\n    shapes: ['circle', 'cross', 'diamond', 'square', 'star', 'wye', 'triangle'],\n    sizes: [20, 30, 40, 50, 60, 70]\n};\n","import { FieldType, COORD_TYPES } from 'muze-utils';\nimport { ENCODING } from '../../enums/constants';\nimport {\n    getIndividualClassName,\n    resolveEncodingValues,\n    getColorMetaInf,\n    positionPoints\n} from '../../helpers';\n\nexport const prepareDrawingInf = ({ data, datum, i, layerInst, xPx, yPx }) => {\n    const axes = layerInst.axes();\n    const { shape: shapeAxis, color: colorAxis, size: sizeAxis } = axes;\n    let shape = shapeAxis.getShape(datum.shape);\n    let size = sizeAxis.getSize(datum.size);\n    let color = colorAxis.getColor(datum.color);\n    const layerEncoding = layerInst.config().encoding;\n    const stroke = layerEncoding.stroke.value;\n    const strokeWidth = layerEncoding['stroke-width'].value;\n\n    const resolvedEncodings = resolveEncodingValues({\n        values: {\n            x: xPx,\n            y: yPx,\n            color,\n            stroke,\n            'stroke-width': strokeWidth,\n            size,\n            shape,\n            data: datum\n        },\n        data: datum\n    }, i, data, layerInst);\n    const { rowId, source } = datum;\n    ({ shape, size, color } = resolvedEncodings);\n    const style = {\n        fill: color,\n        stroke: resolvedEncodings.stroke,\n        'stroke-width': resolvedEncodings['stroke-width']\n    };\n    const { x, y } = resolvedEncodings;\n    const pos = { x, y };\n    return {\n        enter: pos,\n        update: pos,\n        shape,\n        source,\n        rowId,\n        style,\n        data: datum.dataObj,\n        meta: Object.assign({\n            layerId: layerInst.id()\n        }, getColorMetaInf(style, {\n            strokePosition: layerEncoding.strokePosition.value\n        })),\n        size\n    };\n};\n\nexport const pointTranslators = {\n    [COORD_TYPES.CARTESIAN]: (data, config, layerInst) => {\n        let points = [];\n        const encoding = layerInst.config().encoding;\n        const axes = layerInst.axes();\n        const { x, y } = encoding;\n        const xField = x.field;\n        const yField = y.field;\n        const fieldsConfig = layerInst.data().getFieldsConfig();\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const measurement = layerInst.measurement();\n        const { x: offsetX, y: offsetY } = config.offset;\n\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n\n            let [xPx, yPx] = [ENCODING.X, ENCODING.Y].map((type) => {\n                const value = d[type] === null ? undefined : d[type];\n                const measure = type === ENCODING.X ? measurement.width : measurement.height;\n                return !encoding[type].field ? measure / 2 : axes[type].getScaleValue(value);\n            });\n\n            xPx += offsetX;\n            yPx += offsetY;\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = prepareDrawingInf({\n                    data,\n                    datum: d,\n                    i,\n                    layerInst,\n                    xPx,\n                    yPx\n                });\n                point.className = getIndividualClassName(d, i, data, layerInst);\n                points.push(point);\n                layerInst.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(layerInst, points);\n        return points;\n    }\n};\n\nexport const getStrokeWidthByPosition = (position, radius) => {\n    const strokeWidthWithOffsetMap = {\n        center: -radius,\n        inside: -(radius * Math.PI),\n        outside: +(radius * Math.PI)\n    };\n    return strokeWidthWithOffsetMap[position];\n};\n","export { default as PointLayer } from './point';\nexport { PointLayerMixin } from './point-mixin';\n","import {\n    Voronoi,\n    Scales,\n    makeElement,\n    getQualifiedClassName,\n    selectElement,\n    appendElement,\n    getSymbol,\n    pointWithinCircle\n} from 'muze-utils';\nimport drawSymbols from './renderer';\nimport { defaultConfig } from './default-config';\nimport {\n    attachDataToVoronoi,\n    getPlotMeasurement,\n    getMarkId,\n    getBoundBoxes\n} from '../../helpers';\nimport './styles.scss';\nimport { pointTranslators, getStrokeWidthByPosition } from './helper';\n\nexport const PointLayerMixin = superclass => class extends superclass {\n    /**\n     * Creates an instance of PointLayer.\n     * @param {*} args\n     * @memberof PointLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n        this._bandScale = Scales.band();\n        this._overlayPath = {};\n        this.formattedUids = [];\n    }\n\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Returns the default configuration of the point layer\n     * @return {Object} Default configuration of the point layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = super.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    static drawFn () {\n        return drawSymbols;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, config = {}) {\n        return pointTranslators[this.coord()](data, config, this);\n    }\n\n    /**\n     * Renders the plot in the given container.\n     *\n     * @param  {SVGElement} container SVGElement which will hold the plot\n     * @return {BarLayer} Instance of bar layer\n     */\n    render (container) {\n        let maxSize = 0;\n        let seriesClassName;\n        const config = this.config();\n        const keys = this._transformedData.map(d => d.key);\n        const { transition, className, defClassName, classPrefix } = config;\n        const normalizedData = this._normalizedData;\n        const containerSelection = selectElement(container);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        this._points = [];\n        this._pointMap = {};\n\n        containerSelection.classed(qualifiedClassName.join(' '), true).classed(className, true);\n\n        this._points = this.generateDataPoints(normalizedData, keys);\n        this._graphicElems = {};\n\n        const schema = this.data().getSchema();\n        makeElement(container, 'g', this._points, null, {\n            update: (group, points) => {\n                maxSize = Math.max(maxSize, ...points.map(d => d.size || 0));\n                seriesClassName = `${qualifiedClassName[0]}`;\n                this.constructor.drawFn()({\n                    layer: this,\n                    container: group.node(),\n                    points,\n                    interpolate: config.interpolate,\n                    className: seriesClassName,\n                    transition,\n                    keyFn: v => getMarkId(v.source, schema)\n                });\n            }\n        }, data => data[0].rowId);\n        this._maxSize = Math.sqrt(maxSize / Math.PI) * 2;\n        this.attachDataToVoronoi(this._points);\n        return this;\n    }\n\n    attachDataToVoronoi (points) {\n        attachDataToVoronoi(this._voronoi, points);\n    }\n\n    generateDataPoints (normalizedData, keys) {\n        const [widthMetrics, heightMetrics] = getPlotMeasurement(this, keys);\n        const offsetXValues = widthMetrics.offsetValues || [];\n        const offsetYValues = heightMetrics.offsetValues || [];\n        return normalizedData.map((dataArr, i) => {\n            const measurementConf = this.getMeasurementConfig(offsetXValues[i], offsetYValues[i], widthMetrics.span,\n                    heightMetrics.span);\n            return this.translatePoints(dataArr, measurementConf);\n        }).filter(d => d.length);\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0) + widthSpan / 2,\n                y: (offsetY || 0) + heightSpan / 2\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n\n    /**\n     * Gets the nearest point from a position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Point details\n     */\n    getNearestPoint (x, y) {\n        const nearestPointThreshold = this.config().nearestPointThreshold;\n        const distanceLimit = Math.max(this._maxSize, nearestPointThreshold);\n\n        if (!this.data()) {\n            return null;\n        }\n\n        const point = this._voronoi.find(x, y, distanceLimit);\n        const dimensions = point && point.data.data.update;\n        const radius = point ? Math.sqrt(point.data.data.size / Math.PI) : 0;\n\n        if (point) {\n            const insideShape = pointWithinCircle({\n                x: dimensions.x,\n                y: dimensions.y,\n                r: radius + nearestPointThreshold\n            }, { x, y });\n            if (insideShape) {\n                const { source, rowId } = point.data.data;\n                const identifiers = this.getIdentifiersFromData(source, rowId);\n                return {\n                    id: identifiers,\n                    dimensions: [{\n                        x: dimensions.x,\n                        y: dimensions.y,\n                        width: radius,\n                        height: radius\n                    }],\n                    layerId: this.id()\n                };\n            }\n        }\n        return null;\n    }\n\n    addOverlayPath (refElement, data, style, strokePosition) {\n        const container = refElement.parentElement;\n        let pathElement;\n\n        if (this._overlayPath[data.rowId]) {\n            pathElement = this._overlayPath[data.rowId];\n        } else {\n            pathElement = makeElement(container, 'path', [data.update], null, {}, d => `${d.x} ${data.rowId}`);\n            pathElement.style('fill', 'none');\n            pathElement.style('fill-opacity', 0);\n            pathElement.attr('id', data.rowId);\n            this._overlayPath[data.rowId] = pathElement;\n        }\n\n        if (style.type === 'stroke-width') {\n            const position = strokePosition;\n            // get radius as per stroke position\n            let radius = Math.sqrt(data.size / Math.PI);\n            radius = getStrokeWidthByPosition(position, radius);\n\n            const size = data.size + radius;\n            if (typeof data.shape === 'string') {\n                const path = getSymbol(data.shape).size(size);\n                pathElement.attr('d', path);\n            }\n        }\n\n        let styleVal = style.value;\n        if (typeof styleVal === 'function') {\n            const currentStyle = pathElement.style(style.type);\n            styleVal = styleVal(currentStyle);\n        }\n        pathElement.style(style.type, styleVal);\n        appendElement(refElement, pathElement.node());\n    }\n\n    removeOverlayPath (data, style) {\n        const currentPath = this._overlayPath[data.rowId];\n        if (currentPath) {\n            currentPath.node().removeAttribute('style');\n            Object.keys(style).forEach(s => currentPath.style(s, style[s]));\n            currentPath.style('fill-opacity', 0);\n        }\n    }\n\n    getBoundBoxes () {\n        return getBoundBoxes(this._points.flat());\n    }\n\n    applyElementStyles (elem, styles, styleObj) {\n        styles.forEach((type) => {\n            elem.select('path').style(type, styleObj[type]);\n        });\n    }\n};\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { POINT_LAYER } from '../../enums/constants';\nimport { PointLayerMixin } from './point-mixin';\n\n/**\n * This layer is used to create various symbols for each data point. This is commonly used in\n * scatterplot visualizations. The mark type of this layer is ```point```.\n *\n * @public\n *\n * @class\n * @module PointLayer\n * @extends BaseLayer\n */\nexport default class PointLayer extends mix(BaseLayer).with(PointLayerMixin) {\n    static formalName () {\n        return POINT_LAYER;\n    }\n}\n","/* global Element, document  */\nimport {\n    makeElement,\n    selectElement,\n    easeFns,\n    objectIterator,\n    getSymbol,\n    setStyles\n} from 'muze-utils';\n\n/**\n *\n *\n * @param {*} str\n *\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, groupElement) {\n    const { shape, size, update, style } = d;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            createShape(d, groupElement);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        if (newShape.nodeName === 'path' || newShape.nodeName === 'image') {\n            shapeElement.attr('transform', `scale(${size / 100})`);\n        } else {\n            shapeElement.attr('height', size);\n            shapeElement.attr('width', size);\n        }\n        shapeElement.attr('x', -size / 2);\n        shapeElement.attr('y', -size / 2);\n        makeElement(groupElement, () => newShape, [1]);\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = getSymbol(shape).size(size)(update);\n        }\n        const pathEl = makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n        setStyles(pathEl, style);\n    } else {\n        d.shape = 'circle';\n        createShape(d, groupElement);\n    }\n};\n\n/**\n * Draws symbols using d3 symbol api\n * @param {Object} params Contains the svg container, points and other symbol related attributes.\n */\n/* istanbul ignore next */ const drawSymbols = (params) => {\n    const { layer, container, points, transition, className } = params;\n    const { duration, effect, disabled } = transition;\n    const mount = selectElement(container);\n    const graphicElems = layer._graphicElems;\n    mount.attr('class', className);\n    return makeElement(mount, 'g', points, null, {\n        enter: (group, d) => {\n            const { enter } = d;\n            group.attr('transform', `translate(${enter.x},${enter.y})`);\n        },\n        update: (group, d) => {\n            createShape(d, group);\n            graphicElems[d.rowId] = group;\n            const { update, style } = d;\n            objectIterator(style, key => group.style(key, style[key]));\n            group.attr('class', className);\n            group.classed(d.className, true);\n            if (!disabled) {\n                group = group.transition()\n                    .duration(transition.duration)\n                    .on('end', layer.registerAnimationDoneHook());\n            }\n            group.attr('transform', `translate(${update.x},${update.y})`);\n        },\n        exit: (exitGroup) => {\n            if (!disabled) {\n                exitGroup.transition().ease(easeFns[effect])\n                .duration(duration)\n                .on('end', () => exitGroup.remove())\n                .style('fill-opacity', 0)\n                .style('stroke-opacity', 0);\n            } else {\n                exitGroup.remove();\n            }\n        }\n    }, params.keyFn);\n};\n\nexport default drawSymbols;\n","// extracted by mini-css-extract-plugin","import { transformColor } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-text',\n    classPrefix: CLASSPREFIX,\n    className: '',\n    transform: {\n        type: 'identity'\n    },\n    interaction: {\n        highlight: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    l: -15\n                }, data, apply).color\n            }\n        },\n        fade: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    l: +15\n                }, data, apply).color\n            }\n        },\n        focus: {\n            style: {\n                fill: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    l: +15\n                }, data, apply).color\n            }\n        }\n    },\n    crossline: false,\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        color: {},\n        size: {},\n        radius: {},\n        angle: {},\n        text: {\n            value: '',\n            formatter: (val, i, data, context) => {\n                const valueParser = context.valueParser();\n                return valueParser(val);\n            },\n            background: {\n                padding: 10\n            }\n        },\n        rotation: {\n            value: 0\n        },\n        'alignment-baseline': {\n            value: 'middle'\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-text-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-text-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-text-selected`\n        }\n    }\n};\n","export { default as TextLayer } from './text';\nexport { TextLayerMixin } from './text-mixin';\n","import {\n    setAttrs,\n    setStyles,\n    selectElement,\n    makeElement,\n    getSmartComputedStyle\n} from 'muze-utils';\n\n/**\n * Draws svg text in the specified container.\n * @param {SVGElement} container Container where labels will be appended.\n * @param {Array.<Object>} data Data of the elements.\n * @return {Selection} d3 selection of the elements.\n */\nconst drawText = (container, data, config, layerInst) => {\n    const selection = selectElement(container).selectAll('g').data(data);\n    const { smartLabel } = layerInst._dependencies;\n    const graphicElems = layerInst._graphicElems;\n\n    const selectionMerge = selection.enter().append('g')\n        .each(function (dataObj) {\n            setAttrs(this, dataObj.enter);\n        })\n        .merge(selection);\n    const style = getSmartComputedStyle(selectElement(container), config.className);\n    const fontSize = parseInt(style.fontSize, 10);\n\n    smartLabel.setStyle(style);\n    selectionMerge.each(function (dataObj) {\n        const element = selectElement(this);\n        graphicElems[dataObj.rowId] = element;\n        const { update, text, color, textanchor, style: textStyle } = dataObj;\n        const background = dataObj.background;\n        let backgroundVal;\n        if (backgroundVal = background.value) {\n            const backgroundPadding = background.padding;\n            let diff;\n            const { width, height } = smartLabel.getOriSize(dataObj.text);\n            const backgroundEl = makeElement(element, 'rect', [1]);\n\n            if (textanchor === 'end') {\n                diff = width;\n            } else if (textanchor === 'start') {\n                diff = 0;\n            } else {\n                diff = width / 2;\n            }\n\n            setAttrs(backgroundEl.node(), {\n                x: update.x - diff - backgroundPadding / 2,\n                y: update.y - fontSize - backgroundPadding / 2,\n                width: width + backgroundPadding,\n                height: height + backgroundPadding\n            });\n            background && setStyles(backgroundEl, {\n                background: backgroundVal\n            });\n        }\n        const textEl = makeElement(element, 'text', d => [d]).text(text);\n        const textNode = textEl.node();\n        textStyle && setStyles(textNode, textStyle);\n        color && setStyles(textNode, {\n            fill: color\n        });\n        dataObj.className && textEl.classed(dataObj.className, true);\n        setAttrs(textNode, update);\n        textEl.attr('text-anchor', textanchor);\n        textEl.attr('alignment-baseline', dataObj['alignment-baseline']);\n        textEl.attr('transform', `rotate(${dataObj.rotation} ${update.x} ${update.y})`);\n    });\n    selection.exit().remove();\n    return selection;\n};\n\nexport default drawText;\n","// extracted by mini-css-extract-plugin","import {\n    getQualifiedClassName,\n    selectElement,\n    setStyles,\n    createElements\n} from 'muze-utils';\nimport drawText from './renderer';\nimport { defaultConfig } from './default-config';\nimport {\n    positionPoints,\n    getIndividualClassName,\n    resolveEncodingValues,\n    getColorMetaInf,\n    toCartesianCoordinates,\n    getDataFromEvent\n} from '../../helpers';\nimport { TEXT_ANCHOR_MIDDLE, ENCODING } from '../../enums/constants';\n\nimport './styles.scss';\n\nconst defaultEncoding = defaultConfig.encoding;\nconst alignmentBaseLine = defaultEncoding['alignment-baseline'].value;\nconst defRotation = defaultEncoding.rotation.value;\n\nconst pointTranslators = {\n    polar: (data, config, layerInst) => {\n        let points = [];\n        const axes = layerInst.axes();\n        const encoding = layerInst.config().encoding;\n        const textEncoding = encoding.text;\n        const { radius: radiusAxis, color: colorAxis, angle: angleAxis } = axes;\n        const { formatter: textFormatter } = textEncoding;\n        const backgroundEncoding = encoding.text.background;\n        const backgroundPadding = backgroundEncoding.padding;\n        const backgroundValue = backgroundEncoding.value;\n        const angleV = {};\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const source = d.source;\n            const text = d.text;\n\n            const color = colorAxis.getColor(d.color);\n            const radius = radiusAxis.getOuterRadius(d.radius);\n            const angles = angleAxis.getScaleValue(d.angle);\n            !angleV[d.angle] && (angleV[d.angle] = 0);\n            const { startAngle, endAngle } = angles[angleV[d.angle]++];\n\n            const angle = (startAngle + endAngle) / 2;\n            const resolvedVal = resolveEncodingValues({\n                values: {\n                    angle,\n                    radius,\n                    color,\n                    text,\n                    startAngle,\n                    endAngle,\n                    rotation: defRotation,\n                    'alignment-baseline': alignmentBaseLine\n                },\n                data: d\n            }, i, data, layerInst);\n            const point = {\n                enter: {},\n                update: {\n                    angle: resolvedVal.angle,\n                    radius: resolvedVal.radius\n                },\n                text: textFormatter ? textFormatter(text, i, data, layerInst) : resolvedVal.text,\n                color: resolvedVal.color,\n                rotation: resolvedVal.rotation,\n                background: {\n                    value: backgroundValue instanceof Function ? backgroundValue(d, i, data, layerInst) : null,\n                    padding: backgroundPadding\n                },\n                'alignment-baseline': resolvedVal['alignment-baseline'],\n                meta: { ...{ layerId: layerInst.id() },\n                    ...getColorMetaInf({\n                        fill: resolvedVal.color\n                    }) },\n                style: {},\n                source,\n                rowId: d.rowId\n            };\n\n            point.className = getIndividualClassName(d, i, data, layerInst);\n            points.push(point);\n        }\n\n        points = toCartesianCoordinates(positionPoints(layerInst, points), layerInst.measurement());\n\n        points = points.filter((d) => {\n            const update = d.update;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    },\n    cartesian: (data, config, layerInst) => {\n        let points = [];\n        const axes = layerInst.axes();\n        const colorAxis = axes.color;\n        const encoding = layerInst.config().encoding;\n        const textEncoding = encoding.text;\n        const { field: textField, value, formatter: textFormatter } = textEncoding;\n        const fieldsConfig = layerInst.data().getFieldsConfig();\n\n        const backgroundEncoding = encoding.text.background;\n        const backgroundPadding = backgroundEncoding.padding;\n        const backgroundValue = backgroundEncoding.value;\n        const textFieldIndex = textField ? fieldsConfig[textField] && fieldsConfig[textField].index : -1;\n        const xEnc = ENCODING.X;\n        const yEnc = ENCODING.Y;\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const row = d.source;\n            const textValue = textField ? row[textFieldIndex] : value;\n\n            const [xPx, yPx] = [xEnc, yEnc].map(type => (axes[type] ? axes[type].getScaleValue(d[type]) +\n                    axes[type].getUnitWidth() / 2 : 0));\n\n            const color = colorAxis.getColor(d.color, colorAxis);\n            const resolvedEncodings = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    text: textValue,\n                    color,\n                    rotation: defRotation,\n                    'alignment-baseline': alignmentBaseLine\n                },\n                data: d\n            }, i, data, layerInst);\n            const point = {\n                enter: {},\n                update: {\n                    x: resolvedEncodings.x,\n                    y: resolvedEncodings.y\n                },\n                text: textFormatter(resolvedEncodings.text, i, data, layerInst),\n                color: resolvedEncodings.color,\n                background: {\n                    value: backgroundValue instanceof Function ? backgroundValue(d, i, data, layerInst) : null,\n                    padding: backgroundPadding\n                },\n                'alignment-baseline': resolvedEncodings['alignment-baseline'],\n                rotation: resolvedEncodings.rotation,\n                meta: { ...{ layerId: layerInst.id() },\n                    ...getColorMetaInf({\n                        fill: resolvedEncodings.color\n                    }) },\n                style: {},\n                source: d.source,\n                rowId: d.rowId\n            };\n\n            point.className = getIndividualClassName(d, i, data, layerInst);\n            points.push(point);\n        }\n\n        points = positionPoints(layerInst, points);\n        points = points.filter((d) => {\n            const update = d.update;\n            return !isNaN(update.x) && !isNaN(update.y);\n        });\n        return points;\n    }\n};\n\n/**\n * This layer is used to create labels for each data point. It has an encoding property ```text```\n * which determines from which field's data the value of the label will be taken. The text encoding\n * property is necessary for the layer to render the text.The mark type of this layer is ```text```.\n *\n * @public\n *\n * @class\n * @module TextLayer\n * @extends BaseLayer\n */\nexport const TextLayerMixin = superclass => class extends superclass {\n    /**\n    * Returns the default configuration of the text layer\n    * @return {Object} Default configuration of the text layer\n    */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'text';\n    }\n\n    elemType () {\n        return 'text';\n    }\n\n    getPointTranslator (val) {\n        return pointTranslators[val];\n    }\n\n    /**\n    * Generates an array of objects containing x, y, width and height of the points from the data\n    * @param  {Array.<Array>} data Data Array\n    * @param  {Object} encoding  Config\n    * @param  {Object} axes     Axes object\n    * @return {Array.<Object>}  Array of points\n    */\n    translatePoints (data, config = {}) {\n        return pointTranslators[this.coord()](data, config, this);\n    }\n\n    /**\n    * Renders the plot in the given container\n    * @param  {SVGElement} container SVGElement which will hold the plot\n    * @return {textLayer} Instance of text layer\n    */\n    render (container) {\n        const config = this.config();\n        const normalizedData = this._normalizedData;\n        const className = config.className;\n        const qualifiedClassName = getQualifiedClassName(config.defClassName, this.id(), config.classPrefix);\n        const containerSelection = selectElement(container);\n\n        containerSelection.classed(`${qualifiedClassName.join(' ')} ${className}`, true);\n        this._graphicElems = {};\n\n        createElements({\n            data: normalizedData,\n            append: 'g',\n            selector: 'g',\n            container,\n            each: (dataArr, group) => {\n                const node = group.node();\n                const points = this.translatePoints(dataArr, {}, this);\n                setStyles(node, {\n                    'text-anchor': TEXT_ANCHOR_MIDDLE\n                });\n                drawText(node, points, {\n                    className: qualifiedClassName[0]\n                }, this);\n            }\n        });\n        return this;\n    }\n\n    getNearestPoint (x, y, { event }) {\n        if (!this.data()) {\n            return null;\n        }\n        return this.getDataFromEvent(event);\n    }\n\n    getDataFromEvent (event) {\n        return getDataFromEvent(this, event);\n    }\n};\n\n","import {\n    mix\n} from 'muze-utils';\nimport { BaseLayer, BaseLayerMixin } from '../../base-layer';\nimport { TextLayerMixin } from './text-mixin';\n\n/**\n * This layer is used to create labels for each data point. It has an encoding property ```text```\n * which determines from which field's data the value of the label will be taken. The text encoding\n * property is necessary for the layer to render the text.The mark type of this layer is ```text```.\n *\n * @public\n *\n * @class\n * @module TextLayer\n * @extends BaseLayer\n */\nexport default class TextLayer extends mix(BaseLayer).with(BaseLayerMixin, TextLayerMixin) {\n    static formalName () {\n        return 'text';\n    }\n}\n","import { transformColor } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-tick',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    nearestPointThreshold: 10,\n    interaction: {\n        fade: {\n            style: {\n                stroke: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    l: +15\n                }, data, apply).color\n            }\n        },\n        focus: {\n            style: {\n                stroke: (rgbaValues, data, apply) => transformColor(rgbaValues, {\n                    l: +15\n                }, data, apply).color\n            }\n        }\n    },\n    innerPadding: 0.1,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    interpolate: 'linear',\n    encoding: {\n        color: { },\n        x: {},\n        y: {},\n        x0: {},\n        y0: {},\n        radius: {},\n        radius0: {},\n        angle: {},\n        angle0: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-tick-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-tick-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-tick-selected`\n        }\n    }\n};\n\n","export const strokeWidthPositionMap = ({ width, position = 'center' }) => {\n    const offset = width ? width / 2 : 1;\n    const strokeWidthWithOffsetMap = {\n        center: {\n            M: { x: 0, y: 0 },\n            L: { x: 0, y: 0 }\n        },\n        inside: {\n            M: { x: +offset, y: +offset },\n            L: { x: -offset, y: +offset }\n        },\n        outside: {\n            M: { x: -offset, y: -offset },\n            L: { x: +offset, y: -offset }\n        }\n    };\n    return strokeWidthWithOffsetMap[position];\n};\n","export { default as TickLayer } from './tick';\nexport { TickLayerMixin } from './tick-mixin';\n","import {\n    selectElement,\n    Symbols,\n    pathInterpolators,\n    makeElement\n} from 'muze-utils';\n\nconst line = Symbols.line;\n\n/**\n * Draws ticks by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Ticks Selection\n */\nexport default /* istanbul ignore next */ (params) => {\n    const { points, container, keyFn, className, interpolate, layer, transition } = params;\n    const { disabled } = transition;\n\n    const mount = selectElement(container);\n    const graphicElems = layer._graphicElems;\n    mount.attr('class', className);\n\n    return makeElement(mount, 'g', points, null, {\n        enter: (group, d) => {\n            const enter = d.enter || {};\n            Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && group.attr(attr[0], attr[1])));\n        },\n        update: (group, d) => {\n            const pathElem = makeElement(group, 'path', [1]);\n            graphicElems[d.rowId] = group;\n            const { update, style } = d;\n            group.attr('class', className);\n            group.classed(d.className, true);\n\n            const x0 = update.x0 !== undefined ? update.x0 : update.x;\n            const y0 = update.y0 !== undefined ? update.y0 : update.y;\n            const curveInterpolatorFn = pathInterpolators[interpolate];\n            const linepath = line()\n            .curve(curveInterpolatorFn)\n            .x(e => e[0])\n            .y(e => e[1]);\n\n            d.className && group.classed(d.className, true);\n            pathElem.attr('d', linepath([[update.x, update.y], [x0, y0]]));\n            if (!disabled) {\n                group = group.transition()\n                    .duration(transition.duration)\n                    .on('end', layer.registerAnimationDoneHook());\n            }\n            Object.entries(style).forEach(styleObj => group.style(styleObj[0], styleObj[1]));\n        },\n        exit: (exitGroup) => {\n            exitGroup.remove();\n        }\n    }, keyFn);\n};\n","// extracted by mini-css-extract-plugin","import { FieldType, makeElement, appendElement } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport drawTicks from './renderer';\nimport './styles.scss';\nimport { positionPoints, getIndividualClassName,\n    getColorMetaInf, resolveEncodingValues, toCartesianCoordinates, attachDataToVoronoi } from '../../helpers';\nimport { strokeWidthPositionMap } from './helper';\n\nconst pointTranslators = {\n    polar: (data, config = {}, layerInst) => {\n        const axes = layerInst.axes();\n        let points = [];\n        const { radius: radiusAxis, angle: angleAxis, angle0: angle0Axis } = axes;\n        const measurement = layerInst.measurement();\n\n        const colorAxis = axes.color;\n        const angleV = {};\n        const angle0V = {};\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const color = colorAxis.getColor(d.color);\n            const angles = angleAxis.getScaleValue(d.angle);\n            !angleV[d.angle] && (angleV[d.angle] = 0);\n            const { startAngle, endAngle } = angles[angleV[d.angle]++];\n            const angles0 = angle0Axis.getScaleValue(d.angle0);\n            !angle0V[d.angle0] && (angle0V[d.angle0] = 0);\n            const { startAngle: startAngle0, endAngle: endAngle0 } = angles0[angle0V[d.angle0]++];\n            const radius = radiusAxis.getOuterRadius(d.radius);\n            const angle = (startAngle + endAngle) / 2;\n            const angle0 = (startAngle0 + endAngle0) / 2;\n            const resolvedVal = resolveEncodingValues({\n                values: {\n                    radius,\n                    radius0: radiusAxis.getInnerRadius(d.radius0),\n                    color,\n                    angle,\n                    angle0,\n                    startAngle,\n                    endAngle,\n                    startAngle0,\n                    endAngle0\n                },\n                data: d\n            }, i, data, layerInst);\n            const style = {\n                stroke: resolvedVal.color\n            };\n\n            const point = {\n                enter: {},\n                update: {\n                    radius: resolvedVal.radius,\n                    radius0: resolvedVal.radius0,\n                    angle: resolvedVal.angle,\n                    angle0: resolvedVal.angle0\n                },\n                style,\n                source: d.source,\n                rowId: d.rowId,\n                data: d,\n                meta: { ...{ layerId: layerInst.id() }, ...getColorMetaInf(style) }\n            };\n            point.className = getIndividualClassName(d, i, data, layerInst);\n            points.push(point);\n        }\n        points = toCartesianCoordinates(positionPoints(layerInst, points), measurement, true);\n        return points;\n    },\n    cartesian: (data, config = {}, layerInst) => {\n        const axes = layerInst.axes();\n        let points = [];\n        const { x: xAxis, y: yAxis } = axes;\n        const {\n                xField,\n                yField,\n                x0Field,\n                y0Field,\n                xFieldType,\n                yFieldType\n            } = layerInst.encodingFieldsInf();\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const measurement = layerInst.measurement();\n        const colorAxis = axes.color;\n        const { x: offsetX, y: offsetY } = config.offset;\n        const { x: xSpan, y: ySpan } = config.span;\n        for (let i = 0, len = data.length; i < len; i++) {\n            let xPx;\n            let x0Px;\n            let y0Px;\n            let yPx;\n            const d = data[i];\n            const row = d.source;\n            if (xField) {\n                xPx = xAxis.getScaleValue(d.x) + offsetX;\n                x0Px = xPx + xSpan;\n            }\n\n            if (yField) {\n                yPx = yAxis.getScaleValue(d.y) + offsetY;\n                y0Px = yPx !== null ? yPx + ySpan : null;\n            }\n\n            if (!xField) {\n                xPx = 0;\n                x0Px = measurement.width;\n                if (!isNaN(yPx)) {\n                    yPx += ySpan / 2;\n                    y0Px = yPx;\n                }\n            }\n\n            if (!yField) {\n                yPx = 0;\n                y0Px = measurement.height;\n                x0Px = xPx += xSpan / 2;\n            }\n\n            if (x0Field) {\n                x0Px = xAxis.getScaleValue(d.x0) + xSpan;\n                yPx += ySpan / 2;\n                y0Px -= ySpan / 2;\n            }\n\n            if (y0Field) {\n                y0Px = yAxis.getScaleValue(d.y0) + ySpan;\n                xPx += xSpan / 2;\n                x0Px -= xSpan / 2;\n            }\n            const color = colorAxis.getColor(d.color);\n            const resolvedEncodings = resolveEncodingValues({\n                values: {\n                    x: xPx,\n                    y: yPx,\n                    x0: x0Px,\n                    y0: y0Px,\n                    color\n                },\n                data: d\n            }, i, data, layerInst);\n            const style = {\n                stroke: resolvedEncodings.color\n            };\n\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = {\n                    enter: {},\n                    update: {\n                        x: resolvedEncodings.x,\n                        y: resolvedEncodings.y,\n                        x0: resolvedEncodings.x0,\n                        y0: resolvedEncodings.y0\n                    },\n                    style,\n                    source: row,\n                    rowId: d.rowId,\n                    data: d.dataObj,\n                    meta: { ...{ layerId: layerInst.id() }, ...getColorMetaInf(style) }\n                };\n                point.className = getIndividualClassName(d, i, data, layerInst);\n                points.push(point);\n                layerInst.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(layerInst, points);\n        return points;\n    }\n};\n\n/**\n * This layer is used to create small lines. The orientation of the line is determined by the positional\n * encoding properties x0 and y0. The mark type of the layer is ```tick```.\n *\n * @public\n *\n * @class\n * @module TickLayer\n * @extends BaseLayer\n */\nexport const TickLayerMixin = superclass => class extends superclass {\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'tick';\n    }\n\n    static drawFn () {\n        return drawTicks;\n    }\n\n    elemType () {\n        return 'path';\n    }\n\n    /**\n    * Generates an array of objects containing x, y, width and height of the points from the data\n    * @param  {Array.<Array>} data Data Array\n    * @param  {Object} encoding  Config\n    * @param  {Object} axes     Axes object\n    * @return {Array.<Object>}  Array of points\n    */\n    translatePoints (data, config) {\n        return pointTranslators[this.coord()](data, config, this);\n    }\n\n    attachDataToVoronoi (points) {\n        attachDataToVoronoi(this._voronoi, points, (d) => {\n            const { x, x0, y, y0 } = d.update;\n\n            return {\n                x: x + (x0 - x) / 2,\n                y: y + (y0 - y) / 2\n            };\n        });\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0),\n                y: (offsetY || 0)\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n\n    addOverlayPath (refElement, data, style, strokePosition) {\n        let pathElement;\n\n        if (this._overlayPath[data.rowId]) {\n            pathElement = this._overlayPath[data.rowId];\n        } else {\n            pathElement = makeElement(refElement, 'path', [data.update], null, {}, d => `${d.x} ${data.rowId}`);\n            pathElement.style('fill', 'none');\n            pathElement.style('fill-opacity', 0);\n            pathElement.attr('id', data.rowId);\n            this._overlayPath[data.rowId] = pathElement;\n        }\n\n        let offsetM = { x: 0, y: 0 };\n        let offsetL = { x: 0, y: 0 };\n\n        if (style.type === 'stroke-width') {\n            const { L, M } = strokeWidthPositionMap({\n                width: parseInt(style.value, 10),\n                position: strokePosition\n            });\n            offsetM = M;\n            offsetL = L;\n        }\n\n        pathElement.attr('d', (d) => {\n            if (d.update) {\n                return `M ${d.update.x + offsetM.x} ${d.update.y + offsetM.y}\n                    L ${d.update.x0 + offsetL.x} ${d.update.y0 + offsetL.y}`;\n            }\n            return `M ${d.x + offsetM.x} ${d.y + offsetM.y}\n                L ${d.x0 + offsetL.x} ${d.y0 + offsetL.y}`;\n        });\n\n        let styleVal = style.value;\n        if (typeof styleVal === 'function') {\n            const currentStyle = pathElement.style(style.type);\n            styleVal = styleVal(currentStyle);\n        }\n        pathElement.style(style.type, styleVal);\n        appendElement(refElement, pathElement.node());\n    }\n\n    removeOverlayPath (data, style) {\n        const currentPath = this._overlayPath[data.rowId];\n        if (currentPath) {\n            currentPath.node().removeAttribute('style');\n            Object.keys(style).forEach(s => currentPath.style(s, style[s]));\n            currentPath.style('fill-opacity', 0);\n        }\n    }\n};\n","import { mix } from 'muze-utils';\nimport { PointLayerMixin } from '../point';\nimport { BaseLayerMixin, BaseLayer } from '../../base-layer';\nimport { TickLayerMixin } from './tick-mixin';\n\n/**\n * This layer is used to create small lines. The orientation of the line is determined by the positional\n * encoding properties x0 and y0. The mark type of the layer is ```tick```.\n *\n * @public\n *\n * @class\n * @module TickLayer\n * @extends BaseLayer\n */\nexport default class TickLayer extends mix(BaseLayer).with(BaseLayerMixin, PointLayerMixin, TickLayerMixin) {\n    static formalName () {\n        return 'tick';\n    }\n}\n","export { default as SimpleLayer } from './simple-layer';\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * This is an interface class which any new layer class has to extend.\n *\n * @example\n * class BarLayer extends BaseLayer {\n *   update (params) {\n *       // super.update(params);\n *       // Update the bar layer\n *   }\n * }\n * @class\n */\nexport default class SimpleLayer {\n\n    formalName () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets or gets the dependencies.\n     * @param {Object} dependencies Dependencies needed by layer\n     * @return {BaseLayer} Instance of base layer.\n     */\n    dependencies () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the config of the layer\n     *\n     * @param {Object} config Configuration of layer\n     * @return {Object} configuration of layer\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Acts as a getter or setter function\n     * When setter\n     * Returns the datamodel of the layer\n     * @param { DataModel } dataModel instance of DataModel\n     * @return { DataModel } DataModel instance of the layer\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized schema of the layer\n     * @return {Object} Serialized schema\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the unique identifier of this layer\n     * @return {string} id of the layer\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n    /*\n     * This method resolves the x, y, x0 and y0 values from the transformed data.\n     * It also checks the type of transformed data for example, if it is a stacked data\n     * then it fetches the y and y0 values from the stacked data.\n     * @param {Array.<Array>} transformedData transformed data\n     * @param {Object} fieldMap field definitions\n     * @param {string} transformType type of transformed data - stack, group or identity.\n     * @return {Array.<Object>} Normalized data\n     * @private\n     */\n    normalizeTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of dataModel\n     * @param {Object} config configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     * @private\n     */\n    getTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a nominal field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @return {Array} Domain values array.\n     */\n    _calculateDomainFromData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, color, etc.\n     * @return {Object} Axis domains\n     */\n    getDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for getting nearest point\n     * @return {BaseLayer} Instance of base layer\n     */\n    getNearestPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for highlighting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    highlightPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for deselecting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    dehighlightPoint () {\n        return this;\n    }\n\n    linkLayerStore () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets the container element for the layer to be renderered.\n     * @param {SVGElement} mountPoint SVG element or group element.\n     */\n    mount () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n","import { CLASSPREFIX, CONSOLIDATED } from './enums/constants';\n\n/**\n * Returns the default configuration of the visual unit\n * @return {Object} Default configuration of visual unit\n */\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'visual-unit',\n    className: '',\n    trackerClassName: 'visual-unit-tracker',\n    minOuterRadius: 10,\n    gridLines: {\n        defClassName: 'axis-grid-lines',\n        className: '',\n        show: true,\n        color: '#efefef',\n        zeroLineColor: '#b6b6b6'\n    },\n    gridBands: {\n        defClassName: 'axis-grid-bands',\n        className: '',\n        show: false,\n        y: {\n            color: ['#fff', '#fbfbfb']\n        },\n        x: {\n            color: ['#fff', '#f9f9f9']\n        }\n    },\n    arcLayerClassName: 'layer-arc',\n    interaction: {\n        tooltip: {\n            mode: CONSOLIDATED\n        }\n    },\n    sideEffectClassName: 'side-effect-container'\n};\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const PSEUDO_SELECT = 'pseudoSelect';\n\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const GRID_LINE_PARENT_GROUP_CLASS = 'grid-lines';\nexport const GRID_BAND_PARENT_GROUP_CLASS = 'grid-bands';\nexport const GRID_PARENT_GROUP = 'grid-parent-group';\nexport const BAND = 'band';\nexport const TICK = 'tick';\nexport const GRID_BAND = 'gridBands';\nexport const GRID_LINE = 'gridLines';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const RETINAL_FIELDS = 'retinalFields';\nexport const PARENT_ALIAS = 'parentAlias';\nexport const LAYERS = 'layers';\nexport const CACHED_DATA = 'cachedData';\nexport const STORE = 'store';\n","import * as REACTIVE_PROPS from './reactive-props';\nimport * as CONSTANTS from './constants';\n\nexport { REACTIVE_PROPS, CONSTANTS };\n","export const CONFIG = 'config';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const MOUNT = 'mount';\nexport const TRANSFORM = 'transform';\nexport const TRANSFORMEDDATA = 'transformedData';\nexport const DATADOMAIN = 'dataDomain';\nexport const FIELDS = 'fields';\nexport const LAYERAXISINDEX = 'layerAxisIndex';\nexport const LAYERS = 'layers';\nexport const DOMAIN = 'domain';\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: false\n    },\n    [ACTIONS.HOVER]: {\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.LONGTOUCH]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: true\n    },\n    [ACTIONS.TOUCHDRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: true\n    },\n    [ACTIONS.CLICK]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: false\n    }\n};\n","import { VolatileBehaviour } from '@chartshq/muze-firebolt';\nimport { BRUSH } from '../../enums/behaviours';\n/**\n * This is the behaviour for brushing a region on the chart. It accepts a payload\n * which contains the x and y range of the data and other configuration. It will then\n * create a selection box from the range and select the points which fall within the range.\n */\nexport default class UnitBrushBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return BRUSH;\n    }\n\n    dispatch (...params) {\n        this.active = params[0].dragging;\n        this.start = params[0].dragStart;\n        return super.dispatch(...params);\n    }\n}\n","import { VolatileBehaviour } from '@chartshq/muze-firebolt';\nimport { PSEUDO_SELECT } from '../../enums/behaviours';\n\nexport default class PseudoSelectBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return PSEUDO_SELECT;\n    }\n}\n\n","import { SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { FieldType, ReservedFields, defaultValue, isSimpleObject, getObjProp } from 'muze-utils';\n\nexport const initSideEffects = (sideEffects, firebolt) => {\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            sideEffects[key] instanceof SpawnableSideEffect && sideEffects[key].drawingContext(() => {\n                const context = firebolt.context;\n                return context.getDrawingContext();\n            });\n            sideEffects[key].valueParser(firebolt.context.valueParser());\n        }\n    }\n};\n\nexport const clearActionHistory = (context) => {\n    const actionHistory = context._actionHistory;\n    for (const key in actionHistory) {\n        if (actionHistory[key].isMutableAction) {\n            delete context._actionHistory[key];\n        }\n    }\n};\n\nexport const dispatchQueuedSideEffects = (context) => {\n    const queuedSideEffects = context._queuedSideEffects;\n    Object.entries(queuedSideEffects).forEach((entry) => {\n        const sideEffect = entry[1];\n        context.dispatchSideEffect(sideEffect.name, ...sideEffect.params);\n    });\n    context._queuedSideEffects = {};\n};\n\nexport const isSideEffectEnabled = (firebolt, { se, propagationInf }) => {\n    const sideEffectPolicies = firebolt._sideEffectPolicies;\n    const sideEffectCheckers = Object.values(sideEffectPolicies[se.name || se] || {});\n    const { sourceIdentifiers, data: propagationData } = propagationInf;\n    return sideEffectCheckers.length ? sideEffectCheckers.every(checker =>\n        checker(propagationInf.propPayload, firebolt, {\n            sourceIdentifiers,\n            propagationData\n        })) : true;\n};\n\nconst getUniqueKeys = (data, dimensions, { layers, uids, keys = {}, dimensionsMap = {} }) => {\n    data.forEach((row, i) => {\n        const key = dimensions.length ? dimensions.map(d => row[d.index]) : [uids[i]];\n\n        layers.forEach((layer) => {\n            const measureNames = Object.keys(layer.data().getFieldspace().getMeasure());\n            const mKey = `${[key, ...measureNames]}`;\n            keys[mKey] = defaultValue(keys[mKey], {});\n            keys[mKey] = {\n                dims: key,\n                measureNames,\n                uid: uids[i]\n            };\n            dimensionsMap[key] = defaultValue(dimensionsMap[key], []);\n            dimensionsMap[key].push(measureNames);\n        });\n    });\n\n    return {\n        keys,\n        dimensionsMap\n    };\n};\n\nexport const prepareSelectionSetMap = ({ data, uids, dimensions }, layers, maps = {}) => {\n    const obj = getUniqueKeys(data, dimensions, {\n        layers,\n        uids,\n        keys: maps.keys,\n        dimensionsMap: maps.dimensionsMap\n    });\n\n    return {\n        keys: obj.keys,\n        dimensionsMap: obj.dimensionsMap\n    };\n};\n\nexport const prepareSelectionSetData = (dataModel, unit) => {\n    const { data, uids } = dataModel.getData();\n    const dimensions = Object.values(dataModel.getFieldsConfig()).filter(d => d.def.type === FieldType.DIMENSION);\n    const layers = unit.layers();\n    const { keys, dimensionsMap } = prepareSelectionSetMap({ data, uids, dimensions }, layers);\n    const dimensionFields = dimensions.length ? dimensions.map(d => d.def.name) : [ReservedFields.ROW_ID];\n    const hasMeasures = Object.keys(dataModel.getFieldspace().getMeasure()).length;\n    const measureName = hasMeasures ? [ReservedFields.MEASURE_NAMES] : [];\n\n    return {\n        keys,\n        dimensions: dimensionFields,\n        dimensionsMap,\n        allFields: [...dimensionFields, ...measureName]\n    };\n};\n\nexport const sanitizePayloadCriteria = (data, propFields, { dm, dimensionsMap, dimsMapGetter }) => {\n    const fieldsConfig = Object.assign({}, dm.getFieldsConfig(), {\n        [ReservedFields.ROW_ID]: {\n            index: Object.keys(dm.getFieldsConfig()).length,\n            def: {\n                name: ReservedFields.ROW_ID,\n                type: FieldType.DIMENSION\n            }\n        }\n    });\n    if (data === null) {\n        return null;\n    }\n\n    if (isSimpleObject(data)) {\n        return Object.keys(data).reduce((acc, v) => {\n            if (v in fieldsConfig || v === ReservedFields.MEASURE_NAMES) {\n                acc[v] = data[v];\n            }\n            return acc;\n        }, {});\n    }\n\n    const criteriaFields = data[0];\n    const fields = criteriaFields.length ? criteriaFields.map((d, i) => ({\n        name: d,\n        index: i\n    })) : [];\n\n    const fieldIndexMap = fields.reduce((acc, v, i) => {\n        acc[v.name] = i;\n        return acc;\n    }, {});\n\n    propFields = propFields || fields.map(d => d.name);\n    const dataWithFacets = [\n        propFields\n    ];\n\n    const measureNameField = criteriaFields.find(field => field === ReservedFields.MEASURE_NAMES);\n    const propDims = fields.filter(d => d.name in fieldsConfig).map(d => d.name);\n\n    const dimsMap = dimsMapGetter(propDims, fieldsConfig);\n\n    for (let i = 1, len = data.length; i < len; i++) {\n        const row = data[i];\n        const dimKey = propDims.map(field => row[fieldIndexMap[field]]);\n        const origRow = dimsMap[dimKey];\n        if (origRow) {\n            origRow.forEach((rowVal) => {\n                const newRowVal = [];\n                propFields.forEach((field) => {\n                    if (field in fieldIndexMap) {\n                        const idx = fieldIndexMap[field];\n                        newRowVal.push(row[idx]);\n                    } else {\n                        const idx = getObjProp(fieldsConfig[field], 'index');\n                        idx !== undefined && newRowVal.push(rowVal[idx]);\n                    }\n                });\n                if (!measureNameField) {\n                    const measuresArr = dimensionsMap[newRowVal].length ? dimensionsMap[newRowVal] : [[]];\n                    measuresArr.forEach((measures) => {\n                        dataWithFacets.push([...newRowVal, ...measures]);\n                    });\n                } else {\n                    dataWithFacets.push(newRowVal);\n                }\n            });\n        }\n    }\n    return dataWithFacets;\n};\n\nexport const dispatchSecondaryActions = (firebolt, { action, propagationData, config, propagationInf }) => {\n    const context = firebolt.context;\n\n    const secondaryActions = firebolt._connectedBehaviours[action] || [];\n\n    secondaryActions.forEach((secAction) => {\n        const payloadGeneratorFn = firebolt.getPayloadGeneratorFor(secAction);\n        const generatedPayload = payloadGeneratorFn(firebolt, propagationData, config,\n                        context.facetByFields());\n        firebolt.dispatchBehaviour(secAction, generatedPayload, propagationInf);\n    });\n};\n\nexport const createMapByDimensions = (context, dm) => {\n    let cacheMap = context._cacheMap = {};\n    return (propDims, fieldsConfig) => {\n        cacheMap = context._cacheMap;\n        if (!cacheMap[propDims]) {\n            cacheMap[propDims] = dm.getData({ withUid: true }).data.reduce((acc, row) => {\n                const key = propDims.map(d => row[fieldsConfig[d].index]);\n                acc[key] || (acc[key] = []);\n                acc[key].push(row);\n                return acc;\n            }, {});\n        }\n        return cacheMap[propDims];\n    };\n};\n","import { FieldType, intersect } from 'muze-utils';\nimport { Firebolt, SIDE_EFFECTS } from '@chartshq/muze-firebolt';\nimport { payloadGenerator } from './payload-generator';\nimport {\n    isSideEffectEnabled,\n    sanitizePayloadCriteria,\n    dispatchSecondaryActions,\n    createMapByDimensions\n} from './helper';\n\nconst sideEffectPolicy = (propPayload, firebolt, propagationInf) => {\n    const { sourceIdentifiers, propagationData } = propagationInf;\n    const fields = sourceIdentifiers.fields;\n    const sourceIdentifierFields = Object.keys(fields).filter(field =>\n        field.type !== FieldType.MEASURE);\n    const propFields = Object.keys(propagationData.getFieldsConfig());\n    const hasCommonCanvas = propPayload.sourceCanvas === firebolt.sourceCanvas();\n    return intersect(sourceIdentifierFields, propFields).length || hasCommonCanvas;\n};\n\n/**\n * This class manages the interactions of visual unit. It associates physical actions with\n * behavioural actions. It also propagates the behavioural actions to other datamodels.\n */\nexport default class UnitFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        const {\n            TOOLTIP,\n            HIGHLIGHTER,\n            ANCHORS,\n            BRUSH_ANCHORS,\n            PERSISTENT_ANCHORS\n        } = SIDE_EFFECTS;\n        this._handlers = {};\n        this._propagationIdentifiers = {};\n        this._connectedBehaviours = {};\n        this.payloadGenerators(payloadGenerator);\n        this.sideEffects().tooltip.disable();\n        const disabledSideEffects = [TOOLTIP, HIGHLIGHTER, ANCHORS, BRUSH_ANCHORS, PERSISTENT_ANCHORS];\n        disabledSideEffects.forEach((sideEffect) => {\n            this.changeSideEffectStateOnPropagation(sideEffect, sideEffectPolicy, 'sourceTargetPolicy');\n        });\n    }\n\n    getApplicableSideEffects (sideEffects, payload, propagationInf) {\n        const context = this.context;\n        const unitId = context.id();\n        const aliasName = context.parentAlias();\n        const propagationSourceCanvas = propagationInf.propPayload && propagationInf.propPayload.sourceCanvas;\n        const sourceUnitId = propagationInf.propPayload && propagationInf.propPayload.sourceUnit;\n        const sideEffectInstances = this.sideEffects();\n        const actionOnSource = sourceUnitId ? sourceUnitId === unitId : true;\n\n        const applicableSideEffects = payload.sideEffects ? [{\n            effects: payload.sideEffects,\n            behaviours: [payload.action]\n        }] : sideEffects;\n        applicableSideEffects.forEach((d) => {\n            let mappedEffects = d.effects;\n            mappedEffects = mappedEffects.filter((se) => {\n                const mutates = sideEffectInstances[se.name || se].constructor.mutates();\n                if (mutates && propagationInf.isMutableAction === false) {\n                    return false;\n                }\n                if (!actionOnSource && payload.criteria !== null) {\n                    return isSideEffectEnabled(this, { se, propagationInf });\n                }\n                if (propagationSourceCanvas === aliasName || actionOnSource) {\n                    return se.applyOnSource !== false;\n                }\n\n                return true;\n            });\n            d.effects = mappedEffects;\n        });\n        return applicableSideEffects;\n    }\n\n    shouldApplySideEffects (propInf) {\n        return propInf.propagate === false && propInf.applySideEffect !== false;\n    }\n\n    sanitizePayload (payload) {\n        const { criteria } = payload;\n        const { allFields: fields, dimensionsMap } = this._metaData;\n\n        return Object.assign({}, payload,\n            {\n                criteria: sanitizePayloadCriteria(criteria, fields, {\n                    dm: this.data(),\n                    dimensionsMap,\n                    dimsMapGetter: this._dimsMapGetter\n                })\n            });\n    }\n\n    onDataModelPropagation () {\n        return (data, config) => {\n            let isMutableAction = false;\n            const context = this.context;\n            if (!context.mount()) {\n                return;\n            }\n            const propagationData = data;\n\n            const {\n                enabled: enabledFn,\n                sourceIdentifiers,\n                action,\n                payload: propPayload\n            } = config;\n\n            const payloadFn = this.getPayloadGeneratorFor(action);\n            const payload = payloadFn(this, propagationData, config, context.facetByFields());\n            const behaviourPolicies = this._behaviourPolicies;\n            const filterFns = Object.values(behaviourPolicies[action] || behaviourPolicies['*'] || {});\n            let enabled = filterFns.every(fn => fn(propPayload || {}, this, {\n                sourceIdentifiers,\n                propagationData\n            }));\n\n            if (enabledFn) {\n                enabled = enabledFn(config, this) && enabled !== false;\n            }\n\n            if (enabled) {\n                const effects = this._behaviourEffectMap[action];\n                const sideEffectInstances = this.sideEffects();\n                isMutableAction = config.groupId ?\n                    effects.some(d => sideEffectInstances[d.name || d].constructor.mutates()) : config.isMutableAction;\n\n                const propagationInf = {\n                    propagate: false,\n                    data: propagationData,\n                    propPayload,\n                    sourceIdentifiers,\n                    sourceId: config.propagationSourceId,\n                    isMutableAction: config.isMutableAction\n                };\n\n                this._actionHistory[action] = {\n                    payload,\n                    propagationInf,\n                    isMutableAction\n                };\n\n                this.dispatchBehaviour(action, payload, propagationInf);\n\n                dispatchSecondaryActions(this, {\n                    action,\n                    propagationInf,\n                    propagationData,\n                    config\n                });\n            }\n        };\n    }\n\n    target () {\n        return 'visual-unit';\n    }\n\n    createSelectionSet (...params) {\n        super.createSelectionSet(...params);\n\n        this._dimsMapGetter = createMapByDimensions(this, this.data());\n\n        return this;\n    }\n\n    remove () {\n        this.context.cachedData()[0].unsubscribe('propagation');\n        return this;\n    }\n\n    propagationIdentifiers (action, identifiers) {\n        if (identifiers) {\n            this._propagationIdentifiers = identifiers;\n        }\n        return this._propagationIdentifiers[action];\n    }\n\n    registerPhysicalActionHandlers () {\n        return this;\n    }\n\n    id () {\n        return this.context.id();\n    }\n\n    getPropagationSource () {\n        return this.context.cachedData()[0];\n    }\n\n    sourceCanvas () {\n        return this.context.parentAlias();\n    }\n}\n\n","import { ReservedFields, FieldType, difference, isSimpleObject } from 'muze-utils';\n\nconst getRangeFromData = (instance, selectionDataModel, propConfig) => {\n    const dataObj = selectionDataModel.getData();\n    const { includeMeasures = true, sourceIdentifiers } = propConfig;\n    const schema = dataObj.schema;\n    const fieldMap = instance.data().getFieldsConfig();\n    const selectionDataFields = selectionDataModel.getFieldspace().fieldsObj();\n    let criteria = null;\n    if (sourceIdentifiers !== null) {\n        criteria = schema.reduce((ranges, obj) => {\n            const field = obj.name;\n            const fieldObj = fieldMap[field];\n\n            if (!fieldObj) {\n                return ranges;\n            }\n\n            ranges[field] = selectionDataFields[field].domain();\n            return ranges;\n        }, {});\n        const measureNamesIdx = sourceIdentifiers.identifiers[0]\n            .findIndex(field => field === ReservedFields.MEASURE_NAMES);\n        if (measureNamesIdx !== undefined && includeMeasures) {\n            const measureNames = sourceIdentifiers.identifiers.slice(1, sourceIdentifiers.identifiers.length)\n                .map(d => d[measureNamesIdx]);\n            criteria[ReservedFields.MEASURE_NAMES] = measureNames.map(d => [d]);\n        }\n    }\n    return criteria;\n};\n\nexport const payloadGenerator = {\n    brush: (instance, selectionDataModel, propConfig, facetByFields) => {\n        const propPayload = propConfig.payload;\n        let payload;\n        if (isSimpleObject(propPayload.criteria)) {\n            const criteria = getRangeFromData(instance, selectionDataModel, propConfig);\n            payload = Object.assign({}, propPayload);\n            payload.criteria = criteria;\n        } else {\n            payload = payloadGenerator.__default(instance, selectionDataModel, propConfig, facetByFields);\n        }\n\n        return payload;\n    },\n\n    __default: (instance, selectionDataModel, propConfig, facetByFields = []) => {\n        const { payload: propPayload, sourceIdentifiers, excludeSelectedMeasures } = propConfig;\n        const dataObj = selectionDataModel.getData({ withUid: true });\n        const payload = Object.assign({}, propPayload);\n        const data = dataObj.data;\n        const fieldsConfig = Object.assign({}, selectionDataModel.getFieldsConfig(), {\n            [ReservedFields.ROW_ID]: {\n                index: Object.keys(selectionDataModel.getFieldsConfig()).length,\n                def: {\n                    type: FieldType.DIMENSION\n                }\n            }\n        });\n        const selectionSet = instance._selectionSet[propConfig.action];\n        const selectionSetFields = selectionSet._fields;\n        if (sourceIdentifiers) {\n            const [facetFields = [], facetValues = []] = facetByFields;\n            const facetIndices = facetFields.reduce((acc, v, i) => {\n                acc[v] = i;\n                return acc;\n            }, {});\n            const identifierIdxMap = sourceIdentifiers.fields.reduce((acc, v, i) => {\n                acc[v.name] = i;\n                return acc;\n            }, {});\n            const identifiers = sourceIdentifiers.identifiers.slice(1, sourceIdentifiers.identifiers.length);\n            const sourceIdentifierFields = sourceIdentifiers.fields.filter(d => d.name in fieldsConfig ||\n                d.name in facetIndices || d.name === ReservedFields.ROW_ID);\n\n            const identifierMap = identifiers.reduce((acc, v) => {\n                const key = sourceIdentifierFields.map(d => v[identifierIdxMap[d.name]]);\n                const measureNamesIdx = identifierIdxMap[ReservedFields.MEASURE_NAMES];\n                if (measureNamesIdx) {\n                    !acc[key] && (acc[key] = []);\n                    acc[key].push([v[measureNamesIdx]]);\n                }\n                return acc;\n            }, {});\n\n            const dataArr = [];\n            for (let i = 0, len = data.length; i < len; i++) {\n                const row = data[i];\n                const dims = [];\n                selectionSetFields.forEach((field) => {\n                    if (fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                        const idx = fieldsConfig[field].index;\n                        dims.push(row[idx]);\n                    }\n                });\n\n                const vals = `${sourceIdentifierFields.map((d) => {\n                    if (d.name in fieldsConfig) {\n                        return row[fieldsConfig[d.name].index];\n                    } else if (d.name in facetIndices) {\n                        return facetValues[facetIndices[d.name]];\n                    }\n                    return null;\n                }).filter(d => d !== null)}`;\n\n                if (vals in identifierMap) {\n                    const measures = identifierMap[vals];\n                    const allMeasures = instance._metaData.dimensionsMap[dims];\n\n                    if (excludeSelectedMeasures) {\n                        const fn = v => `${v}`;\n                        const diffMeasures = difference(allMeasures, measures, [fn, fn]);\n                        diffMeasures.forEach((measureArr) => {\n                            dataArr.push([...dims, measureArr]);\n                        });\n                    } else {\n                        measures.forEach((measureArr) => {\n                            dataArr.push([...dims, measureArr]);\n                        });\n                    }\n                } else {\n                    let measures = instance._metaData.dimensionsMap[dims];\n                    measures = measures && measures.length ? measures : [[]];\n                    measures.forEach((measureArr) => {\n                        dataArr.push([...dims, measureArr]);\n                    });\n                }\n            }\n\n            payload.criteria = [[...selectionSetFields, ReservedFields.MEASURE_NAMES], ...dataArr];\n        } else {\n            payload.criteria = null;\n        }\n\n        payload.sourceFields = sourceIdentifiers ? sourceIdentifiers.fields.map(d => d.name) : [];\n        return payload;\n    },\n    pseudoSelect: (instance, selectionDataModel, propConfig, facetByFields = []) =>\n        payloadGenerator.__default(instance, selectionDataModel, Object.assign({}, {\n            excludeSelectedMeasures: true\n        }, propConfig), facetByFields)\n};\n\nexport const getPayloadGenerator = (action, criteria) => {\n    if (criteria instanceof Array || !payloadGenerator[action]) {\n        return payloadGenerator.__default;\n    }\n\n    return payloadGenerator[action];\n};\n","import { getObjProp, defaultValue, makeElement, DimensionSubtype, DataModel, createSelection } from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { layerFactory, LAYER_TYPES } from '@chartshq/visual-layer';\nimport {\n    GRID_BAND,\n    GRID_LINE,\n    GRID_BAND_PARENT_GROUP_CLASS,\n    GRID_LINE_PARENT_GROUP_CLASS,\n    GRID_PARENT_GROUP\n} from '../enums/constants';\n\nconst { BAR_LAYER, TICK_LAYER } = LAYER_TYPES;\n\nconst LINEAR = ScaleType.LINEAR;\n\nconst getLayerDefinition = (context, axes, type, orientation) => {\n    let encoding;\n    const config = context.config();\n    const { classPrefix, gridLines, gridBands } = config;\n    const gridLineColor = gridLines.color;\n    const zeroLineColor = gridLines.zeroLineColor;\n    const defClassName = type === GRID_BAND ? gridBands.defClassName : gridLines.defClassName;\n    const gridBandColor = gridBands[orientation].color;\n    const axis = axes[orientation][0];\n    const isLinearScale = axis.constructor.type() === LINEAR;\n\n    if (type === GRID_BAND && isLinearScale) {\n        encoding = {\n            [orientation]: `${orientation}value`,\n            [`${orientation}0`]: `${orientation}value0`\n        };\n    } else {\n        encoding = {\n            [orientation]: isLinearScale ? `${orientation}value` : `${orientation}dim`\n        };\n    }\n    encoding.color = {\n        value: (data, i) => {\n            const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n            if (type === GRID_BAND) {\n                return gridBandColor[i % 2];\n            }\n            return isNegativeDomain && data[orientation] === 0 ? zeroLineColor : gridLineColor;\n        }\n    };\n    const { color, shape, size } = context.axes();\n    return {\n        definition: {\n            defClassName: `${defClassName}-${orientation}`,\n            className: config.className,\n            name: orientation,\n            calculateDomain: false,\n            individualClassName: (data, i) => {\n                let className;\n                const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n                if (isNegativeDomain && data.y === 0 && type !== GRID_BAND) {\n                    className = `${classPrefix}-axis-zero-line`;\n                } else {\n                    className = `${classPrefix}-grid-${type}-${orientation}-${i % 2}`;\n                }\n                return className;\n            },\n            [`pad${orientation.toUpperCase()}`]: type === GRID_BAND ? 0 : undefined,\n            encoding\n        },\n        axes: {\n            [orientation]: axis,\n            color: color[0],\n            shape: shape[0],\n            size: size[0]\n        },\n        interactive: false\n    };\n};\n\nconst getDefaultVisibilty = (show, axis) => {\n    if (axis.constructor.type() === LINEAR) {\n        return show;\n    }\n    return false;\n};\n\nexport const getGridLayerDefinitions = (context, config, type) => ['x', 'y'].map((axisType) => {\n    const axes = context.axes();\n    if (!axes[axisType]) {\n        return null;\n    }\n    const show = defaultValue(config[axisType] && config[axisType].show,\n        getDefaultVisibilty(config.show, axes[axisType][0]));\n\n    return show ? getLayerDefinition(context, axes, type, axisType) : null;\n}).filter(d => d !== null);\n\nconst dimensionSubTypes = Object.values(DimensionSubtype).reduce((acc, v) => {\n    acc[v] = 1;\n    return acc;\n}, {});\n\nconst getValidSubtype = subtype => (!dimensionSubTypes[subtype] ? DimensionSubtype.CATEGORICAL : subtype);\n\nexport const getGridLayerData = (axes, fields, fieldsConfig) => {\n    const gridData = {};\n\n    ['x', 'y'].forEach((type) => {\n        let ticks = axes[type][0].getTickValues();\n        const subtype = getObjProp(fieldsConfig, getObjProp(fields, type, 0).getMembers()[0], 'def', 'subtype');\n        const jsonData = [];\n        const schema = [\n            {\n                name: 'yvalue',\n                type: 'measure'\n            }, {\n                name: 'xvalue',\n                type: 'measure'\n            },\n            {\n                name: 'yvalue0',\n                type: 'measure'\n            }, {\n                name: 'xvalue0',\n                type: 'measure'\n            }, {\n                name: 'xdim',\n                type: 'dimension',\n                subtype: getValidSubtype(subtype)\n            }, {\n                name: 'ydim',\n                type: 'dimension',\n                subtype: getValidSubtype(subtype)\n            }\n        ];\n        const len = Math.max(ticks.length);\n        ticks = subtype === DimensionSubtype.TEMPORAL ? ticks.map(d => d.getTime()) : ticks;\n        for (let i = 0; i < len; i += 1) {\n            jsonData.push({\n                [`${type}value`]: ticks[i],\n                [`${type}value0`]: ticks[i + 1],\n                [`${type}dim`]: ticks[i],\n                [`${type}dim`]: ticks[i]\n            });\n        }\n        gridData[type] = new DataModel(jsonData, schema);\n    });\n    return gridData;\n};\n\nexport const createGridLineLayer = (context) => {\n    const vuConf = context.config();\n    const metaInf = context.metaInf();\n    const store = context.store();\n    const timeDiffs = context._timeDiffs;\n    [GRID_BAND, GRID_LINE].forEach((type) => {\n        let mark;\n        let config;\n        if (type === GRID_BAND) {\n            mark = BAR_LAYER;\n            config = vuConf.gridBands;\n        } else {\n            mark = TICK_LAYER;\n            config = vuConf.gridLines;\n        }\n        const definitions = getGridLayerDefinitions(context, config, type);\n\n        const sel = `_${type}Selection`;\n        context[sel] = createSelection(context[sel], (atomicDef) => {\n            const inst = layerFactory.getLayerInstance({ mark });\n            inst.dependencies(context._dependencies);\n            const name = atomicDef.definition.name;\n            inst.metaInf({\n                unitRowIndex: metaInf.rowIndex,\n                unitColIndex: metaInf.colIndex,\n                namespace: `${metaInf.namespace}${type}${name}`,\n                parentNamespace: metaInf.namespace\n            })\n                .store(store);\n            return inst;\n        }, definitions, atomicDef => atomicDef.definition.name);\n\n        context[sel].each((layer, atomicDef) => {\n            const definition = atomicDef.definition;\n            const sConf = layerFactory.getSerializedConf(mark, definition);\n            const axesObj = atomicDef.axes;\n            layer.config(sConf)\n                .dataProps({\n                    timeDiffs\n                })\n                .axes(axesObj);\n        });\n        context[`_${type}`] = context[sel].getObjects();\n    });\n};\n\nexport const attachDataToGridLineLayers = (context) => {\n    const axes = context.axes();\n    const gridLines = context._gridLines;\n    const gridBands = context._gridBands;\n    if (gridLines.length || gridBands.length) {\n        const gridLayerData = getGridLayerData(axes, context.fields(), context.data().getFieldsConfig());\n        [].concat(...gridBands, ...gridLines).forEach((inst) => {\n            inst.data(inst.axes().x ? gridLayerData.x : gridLayerData.y);\n        });\n    }\n};\n\nexport const renderGridLineLayers = (context, container) => {\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n    const gridLines = context._gridLines;\n    const gridBands = context._gridBands;\n    const measurement = {\n        width: context.width(),\n        height: context.height()\n    };\n    const gridLineParentGroup = makeElement(container, 'g', [1], `${classPrefix}-${GRID_PARENT_GROUP}`);\n\n    [[gridLines, `${classPrefix}-${GRID_LINE_PARENT_GROUP_CLASS}`],\n            [gridBands, `${classPrefix}-${GRID_BAND_PARENT_GROUP_CLASS}`]].forEach((entry) => {\n                const [instances, parentGroupClass] = entry;\n                const mountPoint = makeElement(gridLineParentGroup, 'g', [1], `.${parentGroupClass}`);\n                const className = `${parentGroupClass}-group`;\n                makeElement(mountPoint, 'g', instances, `.${className}`, {\n                    update: (group, instance) => {\n                        instance.dataProps({ timeDiffs: context._timeDiffs })\n                            .measurement(measurement)\n                            .mount(group.node());\n                    }\n                });\n            });\n};\n","import {\n    FieldType,\n    getDependencyOrder,\n    getObjProp,\n    defaultValue,\n    objectIterator,\n    unionDomain,\n    makeElement,\n    DimensionSubtype,\n    toArray,\n    MeasureSubtype,\n    getNearestValue,\n    RTree\n} from 'muze-utils';\nimport { layerFactory, ENCODING } from '@chartshq/visual-layer';\n\nexport const getDimensionMeasureMap = (layers, fieldsConfig) => {\n    const retinalEncodingsAndMeasures = {};\n\n    layers.forEach((layer) => {\n        const {\n            colorField,\n            sizeField,\n            shapeField,\n            xField,\n            yField\n        } = layer.encodingFieldsInf();\n        const measures = [xField, yField].filter(field => fieldsConfig[field] && fieldsConfig[field].def.type ===\n            FieldType.MEASURE);\n        [colorField, sizeField, shapeField].forEach((field) => {\n            if (getObjProp(fieldsConfig, field, 'def', 'type') === FieldType.DIMENSION && measures.length) {\n                !retinalEncodingsAndMeasures[field] && (retinalEncodingsAndMeasures[field] = []);\n                retinalEncodingsAndMeasures[field].push(...measures);\n            }\n        });\n    });\n\n    for (const key in retinalEncodingsAndMeasures) {\n        if ({}.hasOwnProperty.call(retinalEncodingsAndMeasures, key)) {\n            retinalEncodingsAndMeasures[key] = [...new Set(retinalEncodingsAndMeasures[key])];\n        }\n    }\n    return retinalEncodingsAndMeasures;\n};\n\nexport const transformDataModels = (transform, dataModel) => {\n    const dataModels = {};\n    for (const key in transform) {\n        if ({}.hasOwnProperty.call(transform, key)) {\n            const transformVal = transform[key];\n            dataModels[key] = transformVal(dataModel);\n        }\n    }\n\n    return dataModels;\n};\n\nexport const getLayerFromDef = (context, definition, existingLayer, namespaces) => {\n    let instances = existingLayer;\n    const dependencies = context._dependencies;\n    const metaInf = context.metaInf();\n    if (!existingLayer) {\n        instances = layerFactory.getLayerInstance(definition);\n        toArray(instances).forEach((inst, i) => {\n            inst.metaInf({\n                unitRowIndex: metaInf.rowIndex,\n                unitColIndex: metaInf.colIndex,\n                namespace: namespaces[i],\n                parentNamespace: metaInf.namespace\n            })\n                .dependencies(dependencies)\n                .store(context.store());\n        });\n    }\n    const layers = {};\n    const instanceArr = toArray(instances);\n    definition = toArray(definition);\n    definition.reduce((acc, def, idx) => {\n        const instance = instanceArr[idx];\n        instance.coord(context.coord());\n        instance.config(def);\n        instance.valueParser(context.valueParser());\n        instance.dataProps({\n            timeDiffs: context._timeDiffs\n        });\n        if (def.name) {\n            instance.alias(def.name);\n        }\n        layers[instance.alias()] = instance;\n        return acc;\n    }, {});\n    return layers;\n};\n\nexport const resolveEncodingTransform = (layerInst, store) => {\n    const encodingTransform = layerInst.config().encodingTransform || {};\n    const resolvable = encodingTransform.resolvable;\n    let depArr = [];\n    if (resolvable) {\n        const resolved = resolvable(store);\n        depArr = resolved.depArr;\n        layerInst.encodingTransform(resolved.fn);\n    } else if (encodingTransform instanceof Function) {\n        layerInst.encodingTransform(encodingTransform);\n    }\n    return depArr;\n};\n\nexport const sanitizeLayerDef = (layerDefs) => {\n    const sanitizedDefs = [];\n    layerDefs.forEach((layerDef, i) => {\n        const def = layerDef.def;\n        const mark = layerDef.mark;\n        if (!def) {\n            const sConf = layerFactory.getSerializedConf(layerDef.mark, layerDef);\n            if (!sConf.name) {\n                sConf.name = `${mark}-${i}`;\n            }\n            sanitizedDefs.push({\n                mark: layerDef.mark,\n                def: sConf\n            });\n        } else {\n            if (!def.name) {\n                def.name = `${mark}-${i}`;\n            }\n            sanitizedDefs.push(layerDef);\n        }\n    });\n    return sanitizedDefs;\n};\n\nexport const attachDataToLayers = (layers, dm, transformedDataModels) => {\n    layers.forEach((layer) => {\n        const dataSource = layer.config().source;\n        const dataModel = dataSource instanceof Function ? dataSource(dm) :\n            (transformedDataModels[dataSource] || dm);\n        layer.data(dataModel);\n    });\n};\n\nexport const attachAxisToLayers = (axes, layers, layerAxisIndex) => {\n    layers.forEach((layer) => {\n        const layerId = layer.id();\n        const axesObj = {};\n\n        objectIterator(axes, (key) => {\n            const axisInf = layerAxisIndex[layerId];\n            if (axisInf) {\n                const axisArr = axes[key] || [];\n                const axisIndex = axisInf[key] >= 0 ? axisInf[key] : axisArr.length - 1;\n                axes[key] && (axesObj[key] = defaultValue(axes[key][axisIndex]));\n            }\n        });\n        Object.keys(axesObj).length && layer.axes(axesObj);\n    });\n};\n\nconst { X, Y, RADIUS, ANGLE, ANGLE0, RADIUS0 } = ENCODING;\n\nexport const getLayerAxisIndex = (layers, fields) => {\n    const layerAxisIndex = {};\n    layers.forEach((layer) => {\n        const { axis, encoding } = layer.config();\n        const id = layer.id();\n        [X, Y, ANGLE, ANGLE0, RADIUS].forEach((type) => {\n            let index;\n            const specificField = getObjProp(encoding, type, 'field');\n            const encodingField = type === RADIUS ? defaultValue(specificField, getObjProp(encoding, RADIUS0, 'field'))\n                : getObjProp(encoding, type, 'field');\n            const field = defaultValue(getObjProp(axis, type), encodingField);\n            if (fields[type] && fields[type].length) {\n                index = fields[type].findIndex(fieldInst => fieldInst.getMembers().indexOf(field) !== -1);\n            } else {\n                index = 0;\n            }\n            !layerAxisIndex[id] && (layerAxisIndex[id] = {});\n            layerAxisIndex[id][type] = index;\n        });\n    });\n    return layerAxisIndex;\n};\n\nconst getValidDomain = (domain, domain1, encodingType, fieldType) => {\n    if (encodingType === ANGLE || encodingType === ANGLE0) {\n        return domain.concat(domain1.filter(d => domain.indexOf(d) === -1));\n    }\n    return unionDomain([domain, domain1], fieldType);\n};\n\nexport const unionDomainFromLayers = (layers, axisFields, layerAxisIndex, fieldsConfig) => {\n    let domains = {};\n    layers = layers.filter(layer => layer.getDataDomain() !== null);\n    layers.forEach((layer) => {\n        let domainValues = {};\n        const config = layer.config();\n        // const encoding = config.encoding;\n        const layerDomain = layer.getDataDomain();\n        const layerId = layer.id();\n\n        if (layerDomain !== null && config.calculateDomain !== false) {\n            domainValues = Object.entries(layerDomain);\n            domains = domainValues.reduce((fieldDomain, domain) => {\n                const encodingType = domain[0];\n                const axisIndex = layerAxisIndex[layerId][encodingType];\n                const field = getObjProp(axisFields, encodingType, axisIndex);\n                !fieldDomain[encodingType] && (fieldDomain[encodingType] = {});\n                const encodingDomain = fieldDomain[encodingType];\n                if (field) {\n                    const fieldStr = `${field}`;\n                    encodingDomain[fieldStr] = encodingDomain[fieldStr] || [];\n                    encodingDomain[fieldStr] = getValidDomain(encodingDomain[fieldStr],\n                        domain[1], encodingType, fieldsConfig[field.getMembers()[0]].def.subtype);\n                }\n                return fieldDomain;\n            }, domains);\n        }\n    });\n    return domains;\n};\n\nexport const renderLayers = (context, container, layers, measurement) => {\n    context._lifeCycleManager.notify({ client: layers, action: 'beforedraw', formalName: 'layer' });\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n    const orderedLayers = layers.sort((a, b) => a.config().order - b.config().order);\n    const layerParentGroup = makeElement(container, 'g', [1], `${classPrefix}-layer-group`);\n    const layerDepOrder = getDependencyOrder(context._layerDepOrder);\n    const groups = {};\n    makeElement(layerParentGroup, 'g', orderedLayers, null, {\n        update: (group, layer) => {\n            groups[layer.alias()] = {\n                group,\n                layer\n            };\n        }\n    });\n\n    const layerSeq = layerDepOrder.map(name => groups[name]).filter(d => d !== undefined);\n    layerSeq.forEach((o) => {\n        const layer = o.layer;\n        const group = o.group;\n        layer.measurement(measurement);\n        layer.dataProps({\n            timeDiffs: context._timeDiffs\n        });\n        layer.config().render !== false && layer.mount(group.node());\n    });\n    return this;\n};\n\nexport const getNearestDimensionalValue = (context, position) => {\n    const fields = context.fields();\n    if (!fields.x.length || !fields.y.length) {\n        return null;\n    }\n    const data = context.data();\n    const axes = context.axes();\n    const fieldsConfig = data.getFieldsConfig();\n    const xField = getObjProp(fields, 'x', 0).getMembers()[0];\n    const yField = getObjProp(fields, 'y', 0).getMembers()[0];\n    const xFieldType = fieldsConfig[xField].def.subtype;\n    const yFieldType = fieldsConfig[yField].def.subtype;\n\n    const entryVal = [['x', xFieldType, xField], ['y', yFieldType, yField]].find(entry =>\n        entry[1] === DimensionSubtype.CATEGORICAL || entry[1] === DimensionSubtype.TEMPORAL);\n\n    if (!entryVal || (xFieldType !== MeasureSubtype.CONTINUOUS && yFieldType !== MeasureSubtype.CONTINUOUS)) {\n        return null;\n    }\n    const field = entryVal[2];\n    const index = fieldsConfig[field].index;\n    let key = axes[entryVal[0]][0].invert(position[entryVal[0]]);\n    if (entryVal[1] === DimensionSubtype.TEMPORAL) {\n        const filterData = [...new Set(data.getData().data.map(d => d[index]))];\n        key = getNearestValue(filterData, key);\n    }\n\n    return key !== undefined ? [[field], [key]] : null;\n};\n\nexport const getLayersBy = (layers, searchBy, value) => layers.filter((layer) => {\n    const name = searchBy === 'type' ? layer.constructor.formalName() : layer.alias();\n    return name === value;\n});\n\nexport const removeLayersBy = (layers, searchBy, value) => {\n    layers.filter((inst) => {\n        const name = searchBy === 'type' ? inst.config().mark : inst.alias();\n        if (name === value) {\n            inst.remove();\n            return false;\n        }\n        return true;\n    });\n};\n\nexport const createSideEffectGroup = (container, className) => makeElement(container, 'g', [1], className).node();\n\nexport const createRenderPromise = (unit) => {\n    const renderedPromise = unit._renderedPromise;\n    renderedPromise.then(() => {\n        unit._renderedPromise = new Promise((resolve) => {\n            unit._renderedResolve = resolve;\n        });\n        createRenderPromise(unit);\n    });\n};\n\nexport const getRadiusRange = (width, height, config = {}) => {\n    const {\n        innerRadius,\n        outerRadius\n    } = config;\n\n    return [innerRadius || 0, outerRadius || Math.min(height,\n        width) / 2];\n};\n\nexport const setAxisRange = (context) => {\n    const axes = context.axes();\n    const { radius: radiusAxes } = axes;\n    if (radiusAxes) {\n        radiusAxes.forEach((axis) => {\n            axis.range(getRadiusRange(context.width(), context.height()));\n        });\n    }\n};\n\nexport const isXandYMeasures = (context) => {\n    const { x: xFields, y: yFields } = context.fields();\n    const [xMeasures, yMeasures] = [xFields, yFields].map(fields => fields\n        .every(field => field.type() === FieldType.MEASURE));\n    return xMeasures && yMeasures;\n};\n\nconst getKey = (arr, row) => {\n    let key = row[arr[0]];\n    for (let i = 1, len = arr.length; i < len; i++) {\n        key = `${key},${row[arr[i]]}`;\n    }\n    return key;\n};\n\nexport const getValuesMap = (model, context) => {\n    const idValuesMap = {};\n    const valuesIdMap = {};\n    const { data: dataArr, schema, uids } = model.getData();\n    const fieldsConfig = model.getFieldsConfig();\n    const fieldIndices = isXandYMeasures(context) ? schema.map((d, i) => i) :\n                            Object.keys(model.getFieldspace().getDimension()).map(d => fieldsConfig[d].index);\n    dataArr.forEach((row, i) => {\n        const key = getKey(fieldIndices, row);\n        valuesIdMap[key] = uids[i];\n        idValuesMap[uids[i]] = row;\n    });\n    return { valuesIdMap, idValuesMap, fieldsConfig };\n};\n\nexport const getSelectionRejectionModel = (model, propModel, measures, propValuesMap) => {\n    let rejectionModel;\n    const { data, schema } = propModel.getData();\n    const entryRowIds = [];\n    const exitRowIds = [];\n\n    if (schema.length) {\n        const fieldMap = model.getFieldsConfig();\n        const { valuesIdMap } = propValuesMap;\n\n        const rowIdsObj = {};\n        const filteredSchema = measures ? schema.map((d, idx) => idx) :\n            Object.keys(model.getFieldspace().getDimension()).map(d => fieldMap[d].index);\n        data.forEach((row) => {\n            const key = getKey(filteredSchema, row);\n            const id = valuesIdMap[key];\n            if (key in valuesIdMap) {\n                entryRowIds.push(id);\n                rowIdsObj[id] = 1;\n            }\n        });\n        rejectionModel = model.select((fields, i) => {\n            if (!rowIdsObj[i]) {\n                exitRowIds.push(i);\n                return true;\n            }\n            return false;\n        }, {\n            saveChild: false\n        });\n    } else {\n        rejectionModel = propModel;\n    }\n\n    return {\n        model: [propModel, rejectionModel],\n        entryRowIds,\n        exitRowIds\n    };\n};\n\nexport const createRTree = (context) => {\n    const elements = [].concat(...context.layers().filter(layer => layer.config().interactive !== false)\n        .map((layer) => {\n            const points = layer.getBoundBoxes();\n            return points;\n        })).flat().filter(d => d !== null);\n\n    const rtree = new RTree();\n    rtree.load(elements);\n    return rtree;\n};\n","import * as helpers from './helper';\nimport * as enums from './enums';\nimport UnitFireBolt from './firebolt';\nimport { isSideEffectEnabled, prepareSelectionSetMap, sanitizePayloadCriteria } from './firebolt/helper';\nimport { payloadGenerator } from './firebolt/payload-generator';\n\nexport { default as VisualUnit } from './visual-unit';\nexport {\n    helpers,\n    enums,\n    UnitFireBolt,\n    isSideEffectEnabled,\n    payloadGenerator,\n    prepareSelectionSetMap,\n    sanitizePayloadCriteria\n};\n","import {\n    STATE_NAMESPACES,\n    temporalFields,\n    getObjProp,\n    defaultValue,\n    isSimpleObject\n} from 'muze-utils';\nimport { FRAGMENTED } from '@chartshq/muze-firebolt/src/enums/constants';\nimport { TOOLTIP, FRAGMENTED_TOOLTIP } from '@chartshq/muze-firebolt/src/enums/side-effects';\nimport * as PROPS from './enums/reactive-props';\nimport {\n    transformDataModels,\n    getDimensionMeasureMap,\n    attachDataToLayers,\n    attachAxisToLayers\n} from './helper';\n\nimport { createGridLineLayer } from './helper/grid-lines';\nimport { prepareSelectionSetData } from './firebolt/helper';\n\nconst removeExitLayers = (layerDefs, context) => {\n    const layersMap = context._layersMap;\n    const markSet = {};\n    layerDefs.forEach((layerDef, i) => {\n        const id = defaultValue(layerDef.name, `${layerDef.mark}-${i}`);\n        markSet[id] = true;\n    });\n\n    for (const key in layersMap) {\n        if (!(key in markSet)) {\n            layersMap[key].forEach(layer => layer.remove());\n            delete layersMap[key];\n        }\n    }\n};\n\nexport const listenerMap = [\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.LAYERDEFS],\n        listener: (context, [, layerDefs]) => {\n            const fieldsVal = context.fields();\n\n            if (layerDefs && fieldsVal) {\n                removeExitLayers(layerDefs, context);\n                const queuedLayerDefs = context._queuedLayerDefs;\n                let layerDefArr = layerDefs;\n                queuedLayerDefs.forEach((defFn) => {\n                    layerDefArr = [...layerDefArr, ...defFn(layerDefs)];\n                });\n                context.addLayer(layerDefArr);\n\n                const adjustRange = context.layers().some(inst => inst.hasPlotSpan());\n                ['x', 'y'].forEach((type) => {\n                    const axisArr = defaultValue(getObjProp(context.axes(), type), []);\n                    axisArr.forEach((axis) => {\n                        axis.config({\n                            adjustRange\n                        });\n                    });\n                });\n                context._lifeCycleManager.notify({\n                    client: context.layers(),\n                    action: 'initialized',\n                    formalName: 'layer'\n                });\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.DATA],\n        listener: (context, [, dataModel]) => {\n            if (dataModel) {\n                const axesObj = context.axes();\n                const timeDiffs = {};\n                const timeDiffsByField = {};\n\n                Object.entries(temporalFields(dataModel)).forEach(([fieldName, fieldObj]) => {\n                    timeDiffsByField[fieldName] = fieldObj.minimumConsecutiveDifference();\n                });\n\n                Object.entries(context.fields()).forEach(([type, [field]]) => {\n                    if (field) {\n                        const timeDiff = timeDiffsByField[`${field}`];\n                        if (timeDiff) {\n                            timeDiffs[type] = timeDiff;\n                            axesObj[type].forEach(axis => axis.minDiff(timeDiff));\n                        }\n                    }\n                });\n\n                context._timeDiffsByField = timeDiffsByField;\n                context._timeDiffs = timeDiffs;\n                const firebolt = context.firebolt();\n                const originalData = context.cachedData()[0];\n                const { keys, dimensionsMap, dimensions, allFields } = prepareSelectionSetData(context.data(), context);\n                firebolt._metaData = {\n                    dimensionsMap,\n                    dimensions,\n                    allFields\n                };\n                firebolt.createSelectionSet({ keys, fields: dimensions });\n                firebolt.attachPropagationListener(originalData);\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.CONFIG],\n        listener: (context, [, config]) => {\n            if (config) {\n                const firebolt = context.firebolt();\n                const { interaction } = config;\n                firebolt.config(interaction);\n                const { mode } = interaction.tooltip;\n                if (mode === FRAGMENTED) {\n                    const map = firebolt._behaviourEffectMap;\n                    for (const key in map) {\n                        const sideEffects = map[key];\n\n                        map[key] = sideEffects.map((val) => {\n                            let name = val;\n                            if (isSimpleObject(val)) {\n                                name = val.name;\n                            }\n                            if (name === TOOLTIP) {\n                                return FRAGMENTED_TOOLTIP;\n                            }\n                            return val;\n                        });\n                    }\n                }\n                createGridLineLayer(context);\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.DATA, PROPS.TRANSFORM],\n        listener: (context, [, dataModel], [, transform]) => {\n            if (dataModel) {\n                const dataModels = transformDataModels(transform, dataModel);\n                const metaInf = context.metaInf();\n                context.store().commit(`${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}.${PROPS.TRANSFORMEDDATA}`,\n                    dataModels, metaInf.namespace);\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [PROPS.TRANSFORMEDDATA, PROPS.LAYERS],\n        listener: (context, [, transformedData], [, layers]) => {\n            const layerAxisIndexVal = context._layerAxisIndex;\n            const axesVal = context.axes();\n            const dataModel = context.data();\n            if (transformedData && layers && axesVal && layerAxisIndexVal) {\n                context._lifeCycleManager.notify({ client: layers, action: 'beforeupdate', formalName: 'layer' });\n                attachDataToLayers(layers, dataModel, transformedData);\n                context._dimensionMeasureMap = getDimensionMeasureMap(layers,\n                    dataModel.getFieldsConfig(), context.retinalFields());\n                attachAxisToLayers(axesVal, layers, layerAxisIndexVal);\n                context._lifeCycleManager.notify({ client: layers, action: 'updated', formalName: 'layer' });\n            }\n        }\n    }\n];\n","import { mergeRecursive, DataModel } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { CONFIG, LAYERDEFS, TRANSFORM, DATA, LAYERS, TRANSFORMEDDATA } from './enums/reactive-props';\nimport { sanitizeLayerDef, getValuesMap } from './helper';\n\nexport default {\n    [CONFIG]: {\n        value: null,\n        meta: {\n            sanitization: (config, oldConfig) => (\n                mergeRecursive(oldConfig || mergeRecursive({}, defaultConfig), config)\n            )\n        }\n    },\n    [LAYERDEFS]: {\n        value: null,\n        meta: {\n            preset: layerDef => sanitizeLayerDef(layerDef)\n        }\n    },\n    [TRANSFORM]: {\n        value: null\n    },\n    [LAYERS]: {\n        value: null\n    },\n    [DATA]: {\n        value: null,\n        meta: {\n            typeCheck: d => d instanceof DataModel,\n            preset: (data, context) => {\n                context._cachedValuesMap = ((model) => {\n                    let valuesMap = null;\n                    return () => {\n                        if (valuesMap) {\n                            return valuesMap;\n                        }\n                        valuesMap = getValuesMap(model, context);\n                        return valuesMap;\n                    };\n                })(data);\n                if (context._cache) {\n                    const cachedData = context.cachedData();\n                    context.cachedData([...cachedData, data]);\n                } else {\n                    const oldData = context.cachedData()[0];\n                    oldData && oldData.unsubscribe('propagation');\n                    context.cachedData([data]);\n                }\n            }\n        }\n    },\n    [TRANSFORMEDDATA]: {\n        value: null\n    },\n    width: {\n        value: null\n    },\n    height: {\n        value: null\n    }\n};\n","import { mergeRecursive } from 'muze-utils';\nimport { FACET_BY_FIELDS, RETINAL_FIELDS, PARENT_ALIAS, CACHED_DATA } from './enums/constants';\n\nexport const PROPS = {\n    [FACET_BY_FIELDS]: {\n        onset: (context, facets) => {\n            const facetKeys = facets[0].reduce((acc, v, i) => {\n                acc[`${v}`] = facets[1][i];\n                return acc;\n            }, {});\n            context.facetFieldsMap(facetKeys);\n        }\n    },\n    facetFieldsMap: {},\n    [RETINAL_FIELDS]: {},\n    [PARENT_ALIAS]: {},\n    [CACHED_DATA]: {},\n    detailFields: {},\n    axes: {\n        defaultValue: {\n            x: [],\n            y: []\n        }\n    },\n    fields: {\n        defaultValue: {\n            x: [],\n            y: []\n        },\n        sanitization: (context, value) => mergeRecursive({\n            x: [],\n            y: []\n        }, value)\n    },\n    metaInf: {},\n    registry: {},\n    parentContainerInf: {},\n    valueParser: {\n        defaultValue: val => val\n    },\n    coord: {}\n};\n","// extracted by mini-css-extract-plugin","import { layerFactory } from '@chartshq/visual-layer';\nimport {\n    setAttrs,\n    getUniqueId,\n    getQualifiedClassName,\n    selectElement,\n    transactor,\n    makeElement,\n    generateGetterSetters,\n    getDataModelFromIdentifiers,\n    isSimpleObject,\n    transposeArray,\n    CommonProps,\n    toArray,\n    STATE_NAMESPACES,\n    FieldType,\n    ReservedFields\n} from 'muze-utils';\nimport { behaviourEffectMap } from '@chartshq/muze-firebolt';\nimport { actionBehaviourMap } from './firebolt/action-behaviour-map';\nimport UnitBrushBehaviour from './firebolt/behaviours/brush';\nimport {\n    renderLayers,\n    getNearestDimensionalValue,\n    removeLayersBy,\n    getLayersBy,\n    getLayerFromDef,\n    getLayerAxisIndex,\n    sanitizeLayerDef,\n    createSideEffectGroup,\n    resolveEncodingTransform,\n    createRenderPromise,\n    setAxisRange,\n    unionDomainFromLayers,\n    createRTree\n} from './helper';\nimport { renderGridLineLayers, attachDataToGridLineLayers } from './helper/grid-lines';\nimport { listenerMap } from './listener-map';\nimport { PROPS } from './props';\nimport UnitFireBolt from './firebolt';\nimport { initSideEffects, dispatchQueuedSideEffects, clearActionHistory } from './firebolt/helper';\nimport './styles.scss';\nimport localOptions from './local-options';\nimport { WIDTH, HEIGHT } from './enums/reactive-props';\nimport { REACTIVE_PROPS } from './enums';\nimport { PSEUDO_SELECT } from './enums/behaviours';\nimport PseudoSelectBehaviour from './firebolt/behaviours/pseudo-select';\n\nconst FORMAL_NAME = 'VisualUnit';\nconst unitNs = [STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE, STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE];\nconst groupNs = STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE;\n\n/**\n * Visual Unit is hierarchical component created by {@link VisualGroup}. This component accepts layer definitions\n * and creates concrete layer instances from them, binds data and attaches axis to them. It also retreives the domain\n * from the layers and unions them and sets them on corresponding axis instances. This also creates the parent svg\n * groups for all the layers and delegates the rendering to all the layers.\n *\n * @public\n * @module VisualUnit\n * @class\n */\nexport default class VisualUnit {\n\n    /**\n     * Creates instance of visualization unit.\n     *\n     * @param {Object} registry  Component registry\n     * @param {Object} dependencies  Dependencies required by visual unit.\n     */\n    constructor (registry, dependencies) {\n        this._id = getUniqueId();\n        this._dependencies = dependencies;\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        createRenderPromise(this);\n        this._lifeCycleManager = dependencies.lifeCycleManager;\n        this._layersMap = {};\n        this._gridLinesSelection = null;\n        this._gridBandsSelection = null;\n        this._gridLines = [];\n        this._gridBands = [];\n        this._layerAxisIndex = {};\n        this._queuedLayerDefs = [];\n        layerFactory.setLayerRegistry(registry.layerRegistry);\n        generateGetterSetters(this, this.constructor.getterSetters());\n        this.registry(registry);\n        this.cachedData([]);\n    }\n\n    static formalName () {\n        return FORMAL_NAME;\n    }\n\n    static getState () {\n        return [\n            {\n                domain: null\n            },\n            Object.keys((this.localOptions())).reduce((acc, v) => {\n                acc[v] = localOptions[v].value;\n                return acc;\n            }, {})\n        ];\n    }\n\n    static getterSetters () {\n        return PROPS;\n    }\n\n    static localOptions () {\n        return localOptions;\n    }\n\n    static getQualifiedStateProps () {\n        const unitState = VisualUnit.getState();\n        return unitState.map((state, i) => Object.keys(state).map(prop => `${unitNs[i]}.${prop}`));\n    }\n\n    static getListeners () {\n        return {\n            store: [...listenerMap.map((d) => {\n                const o = Object.assign({}, d);\n                const localNs = unitNs[1];\n                o.props = o.props.map(prop => `${localNs}.${prop}`);\n                return o;\n            }), {\n                type: 'registerImmediateListener',\n                props: [`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.domain`],\n                listener: (context) => {\n                    const domain = context.calculateDomainFromData();\n                    context.dataDomain(domain);\n                }\n            }, {\n                type: 'registerImmediateListener',\n                props: [`${unitNs[1]}.${WIDTH}`,\n                    `${unitNs[1]}.${HEIGHT}`,\n                    ...['x', 'y'].map(type => `${groupNs}.domain.${type}`)],\n                listener: (context, [, width], [, height]) => {\n                    if (width && height) {\n                        attachDataToGridLineLayers(context);\n                    }\n                },\n                subNamespace: (context) => {\n                    const { rowIndex, colIndex, namespace } = context.metaInf();\n                    return {\n                        [`${unitNs[1]}.${WIDTH}`]: namespace,\n                        [`${unitNs[1]}.${HEIGHT}`]: namespace,\n                        [`${groupNs}.domain.x`]: `${colIndex}0`,\n                        [`${groupNs}.domain.y`]: `${rowIndex}0`\n                    };\n                }\n            }],\n            throwback: [\n                {\n                    type: 'registerChangeListener',\n                    props: [CommonProps.ON_LAYER_DRAW],\n                    listener: (context, [, drawn]) => {\n                        if (drawn) {\n                            context._rtree = createRTree(context);\n\n                            const firebolt = context.firebolt();\n                            dispatchQueuedSideEffects(firebolt);\n                            clearActionHistory(firebolt);\n                        }\n                        context._renderedResolve();\n                        context._lifeCycleManager.notify({\n                            client: context.layers(),\n                            action: 'drawn',\n                            formalName: 'layer'\n                        });\n                    }\n                }\n            ]\n        };\n    }\n\n    store (...params) {\n        if (params.length) {\n            const store = this._store = params[0];\n            const { throwback } = this._dependencies;\n            const { namespace } = this.metaInf();\n\n            store.addSubNamespace(namespace, FORMAL_NAME, this);\n            throwback.addSubNamespace(namespace, FORMAL_NAME, this);\n            transactor(this, this.constructor.localOptions(), store, {\n                subNamespace: namespace,\n                namespace: `${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}`\n            });\n            this.createFireboltInstance();\n\n            return this;\n        }\n        return this._store;\n    }\n\n    createFireboltInstance () {\n        const { interactions } = this.registry();\n        const { fireboltDeps } = this._dependencies;\n        const Cls = this.getFireboltCls();\n\n        this.firebolt(new Cls(this, {\n            physical: Object.assign({}, interactions.physicalActions.get(), fireboltDeps.physicalActions),\n            behavioural: Object.assign({}, interactions.behaviours.get(), {\n                [UnitBrushBehaviour.formalName()]: UnitBrushBehaviour,\n                [PSEUDO_SELECT]: PseudoSelectBehaviour\n            }, fireboltDeps.behaviouralActions),\n            physicalBehaviouralMap: this.getActionBehaviourMap()\n        }, Object.assign({}, interactions.sideEffects.get(), fireboltDeps.sideEffects), this.getBehaviourEffectMap()));\n\n        return this;\n    }\n\n    getFireboltCls () {\n        return UnitFireBolt;\n    }\n\n    getBehaviourEffectMap () {\n        return behaviourEffectMap;\n    }\n\n    getActionBehaviourMap () {\n        return actionBehaviourMap;\n    }\n\n    /**\n     * Static helper for creates a unit instance\n     *\n     * @param {Object} [id] optional unique identifier for a unit; , id is calculated internally\n     * @param {DataModel} data instance of datamodel\n     * @param {Array.<Layer>} layers layer configuration\n     * @param {Object} config configurtion for the visual unit\n     * @return {VisualUnit} Instance of a unit\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Returns the instance of firebolt associated with this visual unit. Firebolt dispatches the behavioural actions\n     * when any physical action happens on the elements of visual unit.\n     *\n     * @public\n     *\n     * @return {Firebolt} Instance of firebolt.\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Returns the unique id of this visual unit.\n     *\n     * @public\n     * @return {string} Unique identifier.\n     */\n    id () {\n        return this._id;\n    }\n\n    lockModel () {\n        this.store().lockModel();\n        return this;\n    }\n\n    unlockModel () {\n        this.store().unlockModel();\n        return this;\n    }\n\n    timeDiffsByField (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._timeDiffsByField;\n    }\n\n    /**\n     * Renders the visual unit. It creates the layout and renders the axes and layers.\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    render (container) {\n        this.createRootContainers(container);\n\n        setAxisRange(this);\n        this.renderLayers();\n        const node = this._rootSvg.node();\n        const { sideEffectClassName, classPrefix } = this.config();\n        this._sideEffectGroup = createSideEffectGroup(node, `${classPrefix}-${sideEffectClassName}`);\n        const firebolt = this.firebolt();\n        initSideEffects(firebolt.sideEffects(), firebolt);\n        return this;\n    }\n\n    createRootContainers (container) {\n        const config = this.config();\n        const { className, defClassName } = config;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const width = this.width();\n        const height = this.height();\n        const containerSelection = selectElement(container).style('position', 'relative');\n        this._rootSvg = makeElement(containerSelection, 'svg', [null], className)\n                        .style('width', `${width}px`).style('height', `${height}px`);\n\n        const node = this._rootSvg.node();\n\n        setAttrs(node, {\n            width,\n            height,\n            class: qualifiedClassName.join(' ')\n        });\n        return this;\n    }\n\n    renderLayers () {\n        const width = this.width();\n        const height = this.height();\n        const node = this._rootSvg.node();\n\n        renderGridLineLayers(this, node);\n        renderLayers(this, node, this.layers(), {\n            width,\n            height\n        });\n        return this;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     * Caches all the datamodels in an array from the next `data()` call on visual unit until `clearCaching()` or\n     * `resetData()` is called on it.\n     *\n     * @public\n     * @return {VisualUnit} Instance of visual unit.\n     */\n\n    enableCaching () {\n        this._cache = true;\n        return this;\n    }\n\n    /**\n     * Clears all the previous cached data.\n     *\n     * @public\n     * @segment VisualUnit\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    clearCaching () {\n        this._cache = false;\n        this.cachedData([this.cachedData()[0]]);\n        return this;\n    }\n\n    /**\n     * Returns the drawing information from visual unit.Drawing context contains the dimensions of unit and the svg\n     * container of the visual unit.\n     *\n     * @public\n     *\n     * @return {Object} Drawing information.\n     *      ```\n     *          {\n     *              htmlContainer: // Html container of svg container of the visual unit\n     *              svgContainer: // Root svg container\n     *              width: // Width of the visual unit\n     *              height: // Height of the visual unit\n     *              sideEffectGroup: // Svg group for drawing side effect elements.\n     *              parentContainer: // Parent html container of the visual unit.\n     *              xOffset: // x offset space from the starting x position of the container,\n     *              yOffset: // y offset space from the starting y position of the container\n     *          }\n     *      ```\n     */\n    getDrawingContext () {\n        const rootSvg = this._rootSvg && this._rootSvg.node();\n        const width = this.width();\n        const height = this.height();\n        const { el, dimensions } = this.parentContainerInf();\n        return {\n            htmlContainer: this.mount(),\n            svgContainer: rootSvg,\n            width,\n            height,\n            sideEffectGroup: this._sideEffectGroup,\n            parentContainer: el,\n            parentContainerDimensions: dimensions,\n            xOffset: 0,\n            yOffset: 0\n        };\n    }\n\n    /**\n     * Returns the serialized configuration of visual unit.\n     *\n     * @return {Object} serialized configuration\n     */\n    serialize () {\n        return {\n            layers: this.layers().map(layer => layer.serialize()),\n            config: this.config(),\n            axes: this.axes().map(axis => axis.serialize())\n        };\n    }\n\n    mount (...mount) {\n        if (mount.length) {\n            this._mount = mount[0];\n            this.render(mount[0]);\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     * Adds a new layer to the visual unit. It takes a layer definition and creates layer instances from them. It does\n     * not render the layers. It returns the layer instances in an array. If the layer definition is a composite layer,\n     * then multiple layer instances will be returned in the array.\n     *\n     * To add a layer in the unit,\n     * ```\n     *      unit.addLayer({\n     *          name: 'bullet',\n     *          mark: 'bar',\n     *          encoding: {\n     *              x: 'Year',\n     *              y: 'Acceleration',\n     *              color: 'Origin'\n     *          }\n     *      });\n     * ```\n     * @public\n     * @param {Object} layerDef Definition of new layer.\n     *\n     * @return {Array} Array of layer instances.\n     */\n    addLayer (layerDefinition) {\n        if (layerDefinition instanceof Function) {\n            this._queuedLayerDefs.push(layerDefinition);\n            return this;\n        }\n        const layerDefinitions = sanitizeLayerDef(toArray(layerDefinition));\n\n        const layersMap = this._layersMap;\n        const markSet = {};\n        const store = {\n            layers: {},\n            components: {\n                unit: this\n            }\n        };\n        let layerIndex = 0;\n        const metaInf = this.metaInf();\n        const layers = layerDefinitions.sort((a, b) => a.order - b.order).reduce((layersArr, layerDef) => {\n            const definition = layerDef.def;\n            const markId = definition.name;\n            const defArr = toArray(definition);\n            const namespaces = [];\n            defArr.forEach((def) => {\n                def.order = layerDef.order + layerIndex;\n                const namespace = `${metaInf.namespace}-${def.mark}-${getUniqueId()}`;\n                namespaces.push(namespace);\n            });\n            layerIndex += defArr.length;\n            const instances = getLayerFromDef(this, definition, layersMap[markId], namespaces);\n            store.layers = Object.assign(store.layers, instances);\n            const instanceValues = Object.values(instances);\n            layersArr = layersArr.concat(...instanceValues);\n            layersMap[markId] = instanceValues;\n            markSet[markId] = markId;\n            return layersArr;\n        }, []);\n\n        store.unit = this;\n        const layerdeps = {};\n        const layersArr = [].concat(...Object.values(this._layersMap));\n        layersArr.forEach((layer) => {\n            const alias = layer.alias();\n            store.layers[alias] = layer;\n            layerdeps[alias] = [];\n        });\n        layers.forEach((layer) => {\n            const depArr = resolveEncodingTransform(layer, store);\n            layerdeps[layer.alias()] = depArr;\n        });\n\n        this._layerDepOrder = layerdeps;\n        this._layerAxisIndex = Object.assign(this._layerAxisIndex, getLayerAxisIndex(layers, this.fields()));\n        this.layers(layersArr);\n        return layers;\n    }\n\n    remove () {\n        const formalName = this.constructor.formalName();\n        const { lifeCycleManager, throwback } = this._dependencies;\n        const { namespace } = this.metaInf();\n        lifeCycleManager.notify({ client: this, action: 'beforeremove', formalName: 'unit' });\n        const layers = this.layers();\n        this.store().removeSubNamespace(namespace, formalName);\n        throwback.removeSubNamespace(namespace, FORMAL_NAME);\n        selectElement(this.mount()).remove();\n        this.firebolt().remove();\n        // Remove layers\n        lifeCycleManager.notify({ client: layers, action: 'beforeremove', formalName: 'layer' });\n        [...layers, ...this._gridLines, ...this._gridBands].forEach(layer => layer.remove());\n        lifeCycleManager.notify({ client: layers, action: 'removed', formalName: 'layer' });\n        lifeCycleManager.notify({ client: this, action: 'removed', formalName: 'unit' });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     *\n     * @memberof VisualUnit\n     */\n    getDataModelFromIdentifiers (identifiers, mode, parentModel, hasBarLayer) {\n        if (!identifiers) return null;\n        const dataModel = parentModel || this.data();\n        return getDataModelFromIdentifiers(dataModel, identifiers, mode, hasBarLayer);\n    }\n\n    /**\n     * Resets the data of visual unit to original data model. It also clears the cached data.\n     *\n     * @public\n     * @segment VisualUnit\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    resetData () {\n        this.data(this.cachedData()[0]);\n        return this;\n    }\n\n    getSourceInfo () {\n        return {\n            dimensionMeasureMap: this._dimensionMeasureMap,\n            fields: this.fields(),\n            data: this.data(),\n            axes: this.axes(),\n            retinalFields: this.retinalFields(),\n            layers: this.layers(),\n            timeDiffs: this.timeDiffsByField()\n        };\n    }\n\n    dataDomain (...params) {\n        const { namespace } = this.metaInf();\n        const store = this.store();\n        const prop = `${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.${REACTIVE_PROPS.DOMAIN}`;\n        if (params.length) {\n            const domain = params[0];\n            store.commit(prop, domain, namespace);\n        }\n        return store.get(prop, namespace);\n    }\n\n    getDefaultTargetContainer () {\n        const { classPrefix, defClassName } = this.config();\n        return [`.${classPrefix}-${defClassName}`];\n    }\n\n    /**\n     * Returns an array of layer instances which matches the supplied mark type.\n     *\n     * @public\n     *\n     * @param {string} type Mark type of layer.\n     *\n     * @return {Array} Array of layer instances.\n     */\n    getLayersByType (type) {\n        const layers = getLayersBy(this.layers(), 'type', type);\n        return layers;\n    }\n\n    /**\n     * Returns the layer instance which matches the supplied layer name. If no layer is found, then it returns\n     * undefined.\n     *\n     * @public\n     * @param {string} name Name of layer.\n     *\n     * @return {VisualUnit} Layer instance.\n     */\n    getLayerByName (name) {\n        const layers = getLayersBy(this.layers(), 'name', name);\n        return layers[0];\n    }\n\n    /**\n     * Returns the point located nearest to the supplied x and y position. It returns the unique identifiers of the\n     * point. This function also accepts an additional configuration `getAllPoints` inside `config` object in the third\n     * argument which if set to true, then it returns the identifiers of all the points which falls on the nearest\n     * x value or y value if any one of the field is a dimension. Additionally, a target property is also returned\n     * which contains the identifier of the nearest point. If no nearest point is found, then it returns identifier\n     * as null.\n     *\n     * @public\n     *\n     * @param {number} x X Position of the point from where nearest point is to be found.\n     * @param {number} y Y Position of the point from where nearest point is to be found.\n     * @param {Object} config Additional configuration options.\n     * @param {boolean} config.getAllPoints If true, then returns all the points nearest to the x value or y value if\n     * it is dimension.\n     * @param {Object} config.data Data associated with the nearest point.\n     * @return {Object} Nearest point information\n     * ```\n     *      {\n     *          id: [['Origin'], ['USA'], ['Japan']], // Identifiers of all the points closest to the x value.\n     *          target: [['Origin'], ['Japan']] // Identifier of the nearest point.\n     *      }\n     * ```\n     */\n    getNearestPoint (x, y, config) {\n        let pointObj = {\n            id: null\n        };\n        const dimValue = getNearestDimensionalValue(this, {\n            x,\n            y\n        });\n\n        if (dimValue !== null && config.getAllPoints) {\n            dimValue[0].push(ReservedFields.MEASURE_NAMES);\n            pointObj.id = dimValue;\n            const layers = this.layers();\n            const pointInf = this.getMarkInfFromLayers(x, y, { ...config, dimValue });\n            layers.forEach((layer) => {\n                const measures = layer.data().getSchema()\n                    .filter(d => d.type === FieldType.MEASURE).map(d => d.name);\n                for (let i = 1, len = dimValue.length; i < len; i++) {\n                    dimValue[i].push(measures.join());\n                }\n            });\n            pointObj.target = pointInf && pointInf.id ? pointInf.id : null;\n            return pointObj;\n        }\n\n        const markInf = this.getMarkInfFromLayers(x, y, { ...config, dimValue }) || { id: null };\n        pointObj = Object.assign({}, markInf);\n\n        pointObj.target = markInf.id;\n        return pointObj;\n    }\n\n    getMarkInfFromLayers (x, y, args) {\n        const layers = this.layers();\n        const len = layers.length;\n        let point = null;\n        // Iterate through the layers array and fetch the nearest point from each layer. If a valid\n        // nearest point is found from any layer, then return that point.\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            const config = layer.config();\n            if (config.interactive !== false) {\n                point = layer.getNearestPoint(x, y, args);\n            }\n            if (point) {\n                return point;\n            }\n        }\n        return point;\n    }\n\n    /**\n     * Get the information of all the marks such as x, y position and size from supplied identifiers. It\n     * returns an array of points whose data matches the given identifiers.\n     *\n     * @public\n     *\n     * @param {Array|Object} identifiers Field names and their corresponding values.\n     * ```\n     * identifiers can be given in an array of array,\n     *      ['Origin', 'Name'], // Names of the fields supplied in first array\n     *      ['USA', 'ford'], // Data values of each field supplied in rest of the arrays.\n     *      ['Japan', 'ford']\n     * or in an object,\n     *      {\n     *          Origin: ['USA']\n     *      }\n     * ```\n     * @param {Object} config Optional configurations which decides which information of the mark will\n     * be retrieved.\n     * @param {boolean} [config.getAllAttrs = false] If true, then returns all the information of each mark.\n     * @param {boolean} [config.getBBox = false] If true, then returns the bounding box of each mark.\n     *\n     * @return {Array} Array of objects containing the information of each point.\n     * ```\n     * By default, the method returns the array of points in this structure,\n     *      [\n     *          {\n     *              x: 20,\n     *              y: 100,\n     *              width: 200,\n     *              height: 100\n     *          }\n     *      ]\n     * If 'config.getAllAttrs' is true, then it returns all the information of each mark,\n     *      [\n     *      // Positions of mark on initial state of transition.\n     *          enter: {\n     *              x: 0,\n     *              y: 0\n     *          },\n     *          // Final positions of the mark\n     *          update: {\n     *              x: 20,\n     *              y: 10\n     *          },\n     *          style: // css styles of each mark\n     *          source: [200, 'USA'] // Row information of each mark\n     *          id: 20 // Row id of each mark\n     *      ]\n     * ```\n     */\n    getPlotPointsFromIdentifiers (identifiers, config = {}) {\n        let points = [];\n        let parsedIdentifiers = identifiers;\n        if (identifiers === null) {\n            return [];\n        }\n        const layers = this.layers();\n        const len = layers.length;\n        if (isSimpleObject(identifiers)) {\n            parsedIdentifiers = [Object.keys(identifiers)];\n            parsedIdentifiers = [...parsedIdentifiers, ...transposeArray(Object.values(identifiers))];\n        }\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            if (layer.config().interactive !== false) {\n                points = [...points, ...layer.getPointsFromIdentifiers(parsedIdentifiers, config)];\n            }\n        }\n        return points;\n    }\n\n    /**\n     * Removes the layer instance which matches the supplied layer name.\n     *\n     * @public\n     * @param {string} name Name of layer\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    removeLayerByName (name) {\n        removeLayersBy('name', name);\n        return this;\n    }\n\n    /**\n     * Removes all the layer instances which matches the supplied mark type.\n     *\n     * @public\n     * @param {string} type Mark type of layer.\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    removeLayersByType (type) {\n        removeLayersBy('type', type);\n        return this;\n    }\n\n    calculateDomainFromData () {\n        const domain = unionDomainFromLayers(this.layers(), this.fields(), this._layerAxisIndex,\n            this.data().getFieldsConfig());\n        return domain;\n    }\n\n    getValueFromId (id, fields, fieldsConfig) {\n        const { idValuesMap } = this._cachedValuesMap();\n        const row = idValuesMap[id];\n        const filteredRow = fields.map(d => (d === ReservedFields.ROW_ID ? id : row[fieldsConfig[d].index]));\n\n        return filteredRow;\n    }\n\n    getRangeFromIdentifiers ({ criteria, fields }) {\n        return fields.reduce((acc, v) => {\n            acc[v] = criteria[v];\n            return acc;\n        }, {});\n    }\n\n    getRangeFromPositions ({ startPos, endPos }) {\n        const { x, y } = this.fields();\n        const axes = this.axes();\n        const xField = x[0];\n        const yField = y[0];\n        const xFieldType = x[0].type();\n        const yFieldType = y[0].type();\n        const dimensions = Object.keys(this.data().getFieldspace().getDimension());\n\n        if (xFieldType === FieldType.MEASURE && yFieldType === FieldType.MEASURE) {\n            const dom = {\n                x: axes.x[0].invertExtent(startPos.x, endPos.x).sort((a, b) => a - b),\n                y: axes.y[0].invertExtent(startPos.y, endPos.y).sort((a, b) => a - b)\n            };\n            const range = {};\n            if (`${xField}` === `${yField}`) {\n                const xdom = dom.x;\n                const ydom = dom.y;\n                const min = xdom[0] > ydom[0] ? ydom : xdom;\n                const max = min === ydom ? xdom : ydom;\n                if (min[1] < max[0]) {\n                    range[xField] = [];\n                } else {\n                    range[xField] = [max[0], min[1] < max[1] ? min[1] : max[1]];\n                }\n            } else {\n                range[xField] = dom.x;\n                range[yField] = dom.y;\n            }\n            return range;\n        } else if (xFieldType === FieldType.DIMENSION || yFieldType === FieldType.DIMENSION) {\n            const points = this._rtree.search({\n                minX: startPos.x,\n                minY: startPos.y,\n                maxX: endPos.x,\n                maxY: endPos.y\n            });\n\n            const criteria = [[]];\n            dimensions.forEach((field) => {\n                criteria[0].push(`${field}`);\n            });\n\n            points.forEach((point) => {\n                const data = point.data;\n                const vals = [];\n                dimensions.forEach((field) => {\n                    vals.push(data[field]);\n                });\n                criteria.push(vals);\n            });\n            return criteria;\n        }\n        return null;\n    }\n}\n"],"sourceRoot":""}